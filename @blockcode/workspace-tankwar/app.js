var w6=Object.defineProperty;var O6=(s,d)=>{for(var i in d)w6(s,i,{get:d[i],enumerable:!0,configurable:!0,set:(h)=>d[i]=()=>h})};var Ea=((s)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(s,{get:(d,i)=>(typeof require!=="undefined"?require:d)[i]}):s)(function(s){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')});import{Text as Xu} from"@blockcode/ui";import{Text as xc} from"@blockcode/ui";import{Keys as he,useLayout as X5,useEditor as g5} from"@blockcode/core";import{Text as cn,MenuSection as Zu,MenuItem as Zl} from"@blockcode/ui";import{ScratchBlocks as U5} from"@blockcode/blocks-editor";import{jsx as Qa,jsxs as $c,Fragment as E5} from"preact/jsx-runtime";var j5=function({itemClassName:s,onNew:d,onOpen:i,onSave:h,children:_}){const{createPrompt:T,setStoreLibrary:u}=X5(),{modified:v,saveNow:W,saveToComputer:y,openFromComputer:k}=g5(),Z=async()=>{let $,V;const x=U5.getMainWorkspace();if(x){const q=x.getCanvas();if(q)$=await S5.svgAsDataUri(q,{});V=Array.from(new Set(Object.values(x.blockDB_).filter((F)=>["nes","translate","color-sensor","servo","time","pen","brain","request","text","broadcast"].find((g)=>g===F.category_)).map((F)=>F.category_)))}return(q)=>{const F={thumb:$,...q,...h?h():{},editor:{...q.editor,extensions:V}};if(F.assetList)F.assetList=F.assetList.filter((g)=>!g.id.startsWith("extensions/"));return F.fileList=F.fileList.map(({content:g,script:E,...z})=>z),F}};return $c(E5,{children:[$c(Zu,{children:[Qa(Zl,{className:s,label:Qa(cn,{id:"blocks.menu.file.newProject",defaultMessage:"New"}),hotkey:[Mc?he.COMMAND:he.CONTROL,he.N],onClick:()=>{if(v)T({title:Qa(cn,{id:"gui.projects.notSaved",defaultMessage:"Not saved"}),label:Qa(cn,{id:"gui.projects.replaceProject",defaultMessage:"Replace contents of the current project?"}),onSubmit:d});else d()}}),Qa(Zl,{className:s,label:Qa(cn,{id:"blocks.menu.file.openProject",defaultMessage:"Open"}),hotkey:[Mc?he.COMMAND:he.CONTROL,he.O],onClick:()=>u(!0)}),Qa(Zl,{className:s,label:Qa(cn,{id:"blocks.menu.file.saveProject",defaultMessage:"Save"}),hotkey:[Mc?he.COMMAND:he.CONTROL,he.S],onClick:async()=>W(await Z())})]}),$c(Zu,{children:[Qa(Zl,{className:s,label:Qa(cn,{id:"blocks.menu.file.uploadProject",defaultMessage:"Load from your computer"}),onClick:()=>k(i)}),Qa(Zl,{className:s,label:Qa(cn,{id:"blocks.menu.file.downloadProject",defaultMessage:"save to your computer"}),onClick:async()=>y(await Z())})]}),_]})};import{useEffect as J5,useState as Vc} from"preact/hooks";import{Keys as Ue} from"@blockcode/core";import{Text as yu,MenuSection as P5,MenuItem as ku} from"@blockcode/ui";import{ScratchBlocks as K5} from"@blockcode/blocks-editor";import{jsx as $s,jsxs as qu,Fragment as I5} from"preact/jsx-runtime";var G5=function({itemClassName:s,children:d}){const[i,h]=Vc(!0),[_,T]=Vc(!0),[u,v]=Vc(null),W=K5.getMainWorkspace();if(W){if(u?.id!==W.id)v(W)}return J5(()=>{if(u)u.addChangeListener(()=>{h(u.undoStack_.length===0),T(u.redoStack_.length===0)}),h(u.undoStack_.length===0),T(u.redoStack_.length===0)},[u]),qu(I5,{children:[qu(P5,{children:[$s(ku,{disabled:i,className:s,label:$s(yu,{id:"blocks.menu.edit.undo",defaultMessage:"Undo"}),hotkey:[Tu?Ue.COMMAND:Ue.CONTROL,Ue.Z],onClick:async(y)=>{if(y instanceof MouseEvent&&u)u.undo(!1)}}),$s(ku,{disabled:_,className:s,label:$s(yu,{id:"blocks.menu.edit.redo",defaultMessage:"Redo"}),hotkey:Tu?[Ue.SHIFT,Ue.COMMAND,Ue.Z]:[Ue.CONTROL,Ue.Y],onClick:async(y)=>{if(y instanceof MouseEvent&&u)u.undo(!0)}})]}),d]})};import{useLocale as D5,useLayout as H5,useEditor as Y5} from"@blockcode/core";import{Text as gn,Spinner as B5,MenuSection as C5,MenuItem as Q5} from"@blockcode/ui";import{Serial as i8,sleep as Jr} from"@blockcode/core";var b8=function(s,d){const i=`data:${s};base64,${d}`;return fetch(i).then((h)=>h.arrayBuffer())};var F6=Object.create,{defineProperty:ul,getPrototypeOf:z6,getOwnPropertyNames:Z1,getOwnPropertyDescriptor:S6}=Object,y1=Object.prototype.hasOwnProperty,tc=(s,d,i)=>{i=s!=null?F6(z6(s)):{};const h=d||!s||!s.__esModule?ul(i,"default",{value:s,enumerable:!0}):i;for(let _ of Z1(s))if(!y1.call(h,_))ul(h,_,{get:()=>s[_],enumerable:!0});return h},k1=(s)=>{const d=k1.moduleCache??=new WeakMap;var i=d.get(s);if(i)return i;var h=ul({},"__esModule",{value:!0}),_={enumerable:!1};if(s&&typeof s==="object"||typeof s==="function"){for(let T of Z1(s))if(!y1.call(h,T))ul(h,T,{get:()=>s[T],enumerable:!(_=S6(s,T))||_.enumerable})}return d.set(s,h),h},ys=(s,d)=>()=>(d||s((d={exports:{}}).exports,d),d.exports),be=(s,d)=>{for(var i in d)ul(s,i,{get:d[i],enumerable:!0,configurable:!0,set:(h)=>d[i]=()=>h})},Ma=(s,d)=>()=>(s&&(d=s(s=0)),d),X6=((s)=>typeof Ea!=="undefined"?Ea:typeof Proxy!=="undefined"?new Proxy(s,{get:(d,i)=>(typeof Ea!=="undefined"?Ea:d)[i]}):s)(function(s){if(typeof Ea!=="undefined")return Ea.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')}),q1={};be(q1,{webcrypto:()=>vs,timingSafeEqual:()=>yn,scryptSync:()=>el,scrypt:()=>nl,randomUUID:()=>ts,getRandomValues:()=>_s,getCurves:()=>fs,default:()=>rc,DEFAULT_ENCODING:()=>on});var fs,Yc,Kn,Bc,Cc,Qc,Ac,zl,Jo,In,Gn,Sl,xe,Pa,oi,ai,wa,ta,De,pa,$e,Xs,Dn,ei,gs,He,Us,Es,js,Ye,Xl,_n,Js,Hn,gl,ni,li,Ps,Ks,si,ri,ci,Is,Ul,El,Be,ii,ui,Gs,mi,Ds,bi,jl,$a,ne,Jl,Sa,Yn,Hs,le,pi,Me,Ve,Le,di,Ce,Pl,Kl,fi,Il,Ys,Bn,Bs,_i,se,Cs,Qs,Gl,ti,As,vi,or,Dl,Ni,hi,_e,tn,Ri,ar,er,nr,Zi,lr,sr,rr,cr,yi,ir,ur,Ka,Hl,mr,ki,qi,Ti,xi,$i,vn,Mi,Vi,Li,Wi,wi,br,pr,dr,Yl,Cn,Oi,fr,_r,Qn,Fi,zi,Bl,Si,Xi,We,tr,gi,Ui,Cl,vr,Nr,Ei,ji,Ji,hr,Pi,Rr,Qe,Zr,yr,Ae,Ql,Ki,Ii,kr,qr,Gi,Di,Hi,Al,os,Yi,re,Tr,Ia,An,Bi,Ci,Qi,xr,ae,Nn,$r,Ai,Mr,o0,Vr,a0,e0,n0,l0,as,s0,es,r0,c0,i0,u0,m0,b0,p0,ns,Lr,ls,ss,hn,rs,cs,Wr,d0,wr,Or,f0,Fr,_0,t0,v0,zr,N0,h0,R0,Z0,ol,Sr,y0,k0,q0,T0,x0,Xr,gr,is,Ur,$0,M0,V0,L0,Er,jr,W0,on,_s,ts,w0,yn,el,nl,vs,rc,g6=Ma(()=>{fs=function(){return w0},Yc=Object.create,Kn=Object.defineProperty,Bc=Object.getOwnPropertyDescriptor,Cc=Object.getOwnPropertyNames,Qc=Object.getPrototypeOf,Ac=Object.prototype.hasOwnProperty,zl=(s,d)=>()=>(s&&(d=s(s=0)),d),Jo=(s,d)=>()=>(d||s((d={exports:{}}).exports,d),d.exports),In=(s,d)=>{for(var i in d)Kn(s,i,{get:d[i],enumerable:!0})},Gn=(s,d,i,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let _ of Cc(d))!Ac.call(s,_)&&_!==i&&Kn(s,_,{get:()=>d[_],enumerable:!(h=Bc(d,_))||h.enumerable});return s},Sl=(s,d,i)=>(Gn(s,d,"default"),i&&Gn(i,d,"default")),xe=(s,d,i)=>(i=s!=null?Yc(Qc(s)):{},Gn(d||!s||!s.__esModule?Kn(i,"default",{value:s,enumerable:!0}):i,s)),Pa=(s)=>Gn(Kn({},"__esModule",{value:!0}),s),oi=Jo((s)=>{s.byteLength=W,s.toByteArray=k,s.fromByteArray=V;var d=[],i=[],h=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(T=0,u=_.length;T<u;++T)d[T]=_[T],i[_.charCodeAt(T)]=T;var T,u;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function v(x){var q=x.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var F=x.indexOf("=");F===-1&&(F=q);var g=F===q?0:4-F%4;return[F,g]}function W(x){var q=v(x),F=q[0],g=q[1];return(F+g)*3/4-g}function y(x,q,F){return(q+F)*3/4-F}function k(x){var q,F=v(x),g=F[0],E=F[1],z=new h(y(x,g,E)),K=0,Y=E>0?g-4:g,C;for(C=0;C<Y;C+=4)q=i[x.charCodeAt(C)]<<18|i[x.charCodeAt(C+1)]<<12|i[x.charCodeAt(C+2)]<<6|i[x.charCodeAt(C+3)],z[K++]=q>>16&255,z[K++]=q>>8&255,z[K++]=q&255;return E===2&&(q=i[x.charCodeAt(C)]<<2|i[x.charCodeAt(C+1)]>>4,z[K++]=q&255),E===1&&(q=i[x.charCodeAt(C)]<<10|i[x.charCodeAt(C+1)]<<4|i[x.charCodeAt(C+2)]>>2,z[K++]=q>>8&255,z[K++]=q&255),z}function Z(x){return d[x>>18&63]+d[x>>12&63]+d[x>>6&63]+d[x&63]}function $(x,q,F){for(var g,E=[],z=q;z<F;z+=3)g=(x[z]<<16&16711680)+(x[z+1]<<8&65280)+(x[z+2]&255),E.push(Z(g));return E.join("")}function V(x){for(var q,F=x.length,g=F%3,E=[],z=16383,K=0,Y=F-g;K<Y;K+=z)E.push($(x,K,K+z>Y?Y:K+z));return g===1?(q=x[F-1],E.push(d[q>>2]+d[q<<4&63]+"==")):g===2&&(q=(x[F-2]<<8)+x[F-1],E.push(d[q>>10]+d[q>>4&63]+d[q<<2&63]+"=")),E.join("")}}),ai=Jo((s)=>{s.read=function(d,i,h,_,T){var u,v,W=T*8-_-1,y=(1<<W)-1,k=y>>1,Z=-7,$=h?T-1:0,V=h?-1:1,x=d[i+$];for($+=V,u=x&(1<<-Z)-1,x>>=-Z,Z+=W;Z>0;u=u*256+d[i+$],$+=V,Z-=8);for(v=u&(1<<-Z)-1,u>>=-Z,Z+=_;Z>0;v=v*256+d[i+$],$+=V,Z-=8);if(u===0)u=1-k;else{if(u===y)return v?NaN:(x?-1:1)*(1/0);v=v+Math.pow(2,_),u=u-k}return(x?-1:1)*v*Math.pow(2,u-_)},s.write=function(d,i,h,_,T,u){var v,W,y,k=u*8-T-1,Z=(1<<k)-1,$=Z>>1,V=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=_?0:u-1,q=_?1:-1,F=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(W=isNaN(i)?1:0,v=Z):(v=Math.floor(Math.log(i)/Math.LN2),i*(y=Math.pow(2,-v))<1&&(v--,y*=2),v+$>=1?i+=V/y:i+=V*Math.pow(2,1-$),i*y>=2&&(v++,y/=2),v+$>=Z?(W=0,v=Z):v+$>=1?(W=(i*y-1)*Math.pow(2,T),v=v+$):(W=i*Math.pow(2,$-1)*Math.pow(2,T),v=0));T>=8;d[h+x]=W&255,x+=q,W/=256,T-=8);for(v=v<<T|W,k+=T;k>0;d[h+x]=v&255,x+=q,v/=256,k-=8);d[h+x-q]|=F*128}}),wa=Jo((s)=>{var d=oi(),i=ai(),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=v,s.SlowBuffer=E,s.INSPECT_MAX_BYTES=50;var _=2147483647;s.kMaxLength=_,v.TYPED_ARRAY_SUPPORT=T(),!v.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{let L=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(L,e),L.foo()===42}catch{return!1}}Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}});function u(L){if(L>_)throw new RangeError('The value "'+L+'" is invalid for option "size"');let e=new Uint8Array(L);return Object.setPrototypeOf(e,v.prototype),e}function v(L,e,r){if(typeof L=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Z(L)}return W(L,e,r)}v.poolSize=8192;function W(L,e,r){if(typeof L=="string")return $(L,e);if(ArrayBuffer.isView(L))return x(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(Po(L,ArrayBuffer)||L&&Po(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Po(L,SharedArrayBuffer)||L&&Po(L.buffer,SharedArrayBuffer)))return q(L,e,r);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let f=L.valueOf&&L.valueOf();if(f!=null&&f!==L)return v.from(f,e,r);let R=F(L);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return v.from(L[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}v.from=function(L,e,r){return W(L,e,r)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array);function y(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function k(L,e,r){return y(L),L<=0?u(L):e!==void 0?typeof r=="string"?u(L).fill(e,r):u(L).fill(e):u(L)}v.alloc=function(L,e,r){return k(L,e,r)};function Z(L){return y(L),u(L<0?0:g(L)|0)}v.allocUnsafe=function(L){return Z(L)},v.allocUnsafeSlow=function(L){return Z(L)};function $(L,e){if((typeof e!="string"||e==="")&&(e="utf8"),!v.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=z(L,e)|0,f=u(r),R=f.write(L,e);return R!==r&&(f=f.slice(0,R)),f}function V(L){let e=L.length<0?0:g(L.length)|0,r=u(e);for(let f=0;f<e;f+=1)r[f]=L[f]&255;return r}function x(L){if(Po(L,Uint8Array)){let e=new Uint8Array(L);return q(e.buffer,e.byteOffset,e.byteLength)}return V(L)}function q(L,e,r){if(e<0||L.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let f;return e===void 0&&r===void 0?f=new Uint8Array(L):r===void 0?f=new Uint8Array(L,e):f=new Uint8Array(L,e,r),Object.setPrototypeOf(f,v.prototype),f}function F(L){if(v.isBuffer(L)){let e=g(L.length)|0,r=u(e);return r.length===0||L.copy(r,0,0,e),r}if(L.length!==void 0)return typeof L.length!="number"||Ao(L.length)?u(0):V(L);if(L.type==="Buffer"&&Array.isArray(L.data))return V(L.data)}function g(L){if(L>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return L|0}function E(L){return+L!=L&&(L=0),v.alloc(+L)}v.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==v.prototype},v.compare=function(L,e){if(Po(L,Uint8Array)&&(L=v.from(L,L.offset,L.byteLength)),Po(e,Uint8Array)&&(e=v.from(e,e.offset,e.byteLength)),!v.isBuffer(L)||!v.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===e)return 0;let r=L.length,f=e.length;for(let R=0,M=Math.min(r,f);R<M;++R)if(L[R]!==e[R]){r=L[R],f=e[R];break}return r<f?-1:f<r?1:0},v.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(L,e){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return v.alloc(0);let r;if(e===void 0)for(e=0,r=0;r<L.length;++r)e+=L[r].length;let f=v.allocUnsafe(e),R=0;for(r=0;r<L.length;++r){let M=L[r];if(Po(M,Uint8Array))R+M.length>f.length?(v.isBuffer(M)||(M=v.from(M)),M.copy(f,R)):Uint8Array.prototype.set.call(f,M,R);else if(v.isBuffer(M))M.copy(f,R);else throw new TypeError('"list" argument must be an Array of Buffers');R+=M.length}return f};function z(L,e){if(v.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||Po(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);let r=L.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&r===0)return 0;let R=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return wo(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Ho(L).length;default:if(R)return f?-1:wo(L).length;e=(""+e).toLowerCase(),R=!0}}v.byteLength=z;function K(L,e,r){let f=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(L||(L="utf8");;)switch(L){case"hex":return p(this,e,r);case"utf8":case"utf-8":return c(this,e,r);case"ascii":return t(this,e,r);case"latin1":case"binary":return N(this,e,r);case"base64":return n(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,e,r);default:if(f)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),f=!0}}v.prototype._isBuffer=!0;function Y(L,e,r){let f=L[e];L[e]=L[r],L[r]=f}v.prototype.swap16=function(){let L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<L;e+=2)Y(this,e,e+1);return this},v.prototype.swap32=function(){let L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<L;e+=4)Y(this,e,e+3),Y(this,e+1,e+2);return this},v.prototype.swap64=function(){let L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<L;e+=8)Y(this,e,e+7),Y(this,e+1,e+6),Y(this,e+2,e+5),Y(this,e+3,e+4);return this},v.prototype.toString=function(){let L=this.length;return L===0?"":arguments.length===0?c(this,0,L):K.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(L){if(!v.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:v.compare(this,L)===0},v.prototype.inspect=function(){let L="",e=s.INSPECT_MAX_BYTES;return L=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(L+=" ... "),"<Buffer "+L+">"},h&&(v.prototype[h]=v.prototype.inspect),v.prototype.compare=function(L,e,r,f,R){if(Po(L,Uint8Array)&&(L=v.from(L,L.offset,L.byteLength)),!v.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(e===void 0&&(e=0),r===void 0&&(r=L?L.length:0),f===void 0&&(f=0),R===void 0&&(R=this.length),e<0||r>L.length||f<0||R>this.length)throw new RangeError("out of range index");if(f>=R&&e>=r)return 0;if(f>=R)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,f>>>=0,R>>>=0,this===L)return 0;let M=R-f,O=r-e,U=Math.min(M,O),P=this.slice(f,R),j=L.slice(e,r);for(let J=0;J<U;++J)if(P[J]!==j[J]){M=P[J],O=j[J];break}return M<O?-1:O<M?1:0};function C(L,e,r,f,R){if(L.length===0)return-1;if(typeof r=="string"?(f=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Ao(r)&&(r=R?0:L.length-1),r<0&&(r=L.length+r),r>=L.length){if(R)return-1;r=L.length-1}else if(r<0)if(R)r=0;else return-1;if(typeof e=="string"&&(e=v.from(e,f)),v.isBuffer(e))return e.length===0?-1:mo(L,e,r,f,R);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(L,e,r):Uint8Array.prototype.lastIndexOf.call(L,e,r):mo(L,[e],r,f,R);throw new TypeError("val must be string, number or Buffer")}function mo(L,e,r,f,R){let M=1,O=L.length,U=e.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(L.length<2||e.length<2)return-1;M=2,O/=2,U/=2,r/=2}function P(J,oo){return M===1?J[oo]:J.readUInt16BE(oo*M)}let j;if(R){let J=-1;for(j=r;j<O;j++)if(P(L,j)===P(e,J===-1?0:j-J)){if(J===-1&&(J=j),j-J+1===U)return J*M}else J!==-1&&(j-=j-J),J=-1}else for(r+U>O&&(r=O-U),j=r;j>=0;j--){let J=!0;for(let oo=0;oo<U;oo++)if(P(L,j+oo)!==P(e,oo)){J=!1;break}if(J)return j}return-1}v.prototype.includes=function(L,e,r){return this.indexOf(L,e,r)!==-1},v.prototype.indexOf=function(L,e,r){return C(this,L,e,r,!0)},v.prototype.lastIndexOf=function(L,e,r){return C(this,L,e,r,!1)};function to(L,e,r,f){r=Number(r)||0;let R=L.length-r;f?(f=Number(f),f>R&&(f=R)):f=R;let M=e.length;f>M/2&&(f=M/2);let O;for(O=0;O<f;++O){let U=parseInt(e.substr(O*2,2),16);if(Ao(U))return O;L[r+O]=U}return O}function Mo(L,e,r,f){return Uo(wo(e,L.length-r),L,r,f)}function uo(L,e,r,f){return Uo(zo(e),L,r,f)}function Vo(L,e,r,f){return Uo(Ho(e),L,r,f)}function o(L,e,r,f){return Uo(Lo(e,L.length-r),L,r,f)}v.prototype.write=function(L,e,r,f){if(e===void 0)f="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")f=e,r=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(r)?(r=r>>>0,f===void 0&&(f="utf8")):(f=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let R=this.length-e;if((r===void 0||r>R)&&(r=R),L.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");let M=!1;for(;;)switch(f){case"hex":return to(this,L,e,r);case"utf8":case"utf-8":return Mo(this,L,e,r);case"ascii":case"latin1":case"binary":return uo(this,L,e,r);case"base64":return Vo(this,L,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,L,e,r);default:if(M)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),M=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function n(L,e,r){return e===0&&r===L.length?d.fromByteArray(L):d.fromByteArray(L.slice(e,r))}function c(L,e,r){r=Math.min(L.length,r);let f=[],R=e;for(;R<r;){let M=L[R],O=null,U=M>239?4:M>223?3:M>191?2:1;if(R+U<=r){let P,j,J,oo;switch(U){case 1:M<128&&(O=M);break;case 2:P=L[R+1],(P&192)===128&&(oo=(M&31)<<6|P&63,oo>127&&(O=oo));break;case 3:P=L[R+1],j=L[R+2],(P&192)===128&&(j&192)===128&&(oo=(M&15)<<12|(P&63)<<6|j&63,oo>2047&&(oo<55296||oo>57343)&&(O=oo));break;case 4:P=L[R+1],j=L[R+2],J=L[R+3],(P&192)===128&&(j&192)===128&&(J&192)===128&&(oo=(M&15)<<18|(P&63)<<12|(j&63)<<6|J&63,oo>65535&&oo<1114112&&(O=oo))}}O===null?(O=65533,U=1):O>65535&&(O-=65536,f.push(O>>>10&1023|55296),O=56320|O&1023),f.push(O),R+=U}return m(f)}var l=4096;function m(L){let e=L.length;if(e<=l)return String.fromCharCode.apply(String,L);let r="",f=0;for(;f<e;)r+=String.fromCharCode.apply(String,L.slice(f,f+=l));return r}function t(L,e,r){let f="";r=Math.min(L.length,r);for(let R=e;R<r;++R)f+=String.fromCharCode(L[R]&127);return f}function N(L,e,r){let f="";r=Math.min(L.length,r);for(let R=e;R<r;++R)f+=String.fromCharCode(L[R]);return f}function p(L,e,r){let f=L.length;(!e||e<0)&&(e=0),(!r||r<0||r>f)&&(r=f);let R="";for(let M=e;M<r;++M)R+=Ko[L[M]];return R}function a(L,e,r){let f=L.slice(e,r),R="";for(let M=0;M<f.length-1;M+=2)R+=String.fromCharCode(f[M]+f[M+1]*256);return R}v.prototype.slice=function(L,e){let r=this.length;L=~~L,e=e===void 0?r:~~e,L<0?(L+=r,L<0&&(L=0)):L>r&&(L=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<L&&(e=L);let f=this.subarray(L,e);return Object.setPrototypeOf(f,v.prototype),f};function b(L,e,r){if(L%1!==0||L<0)throw new RangeError("offset is not uint");if(L+e>r)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUintLE=v.prototype.readUIntLE=function(L,e,r){L=L>>>0,e=e>>>0,r||b(L,e,this.length);let f=this[L],R=1,M=0;for(;++M<e&&(R*=256);)f+=this[L+M]*R;return f},v.prototype.readUintBE=v.prototype.readUIntBE=function(L,e,r){L=L>>>0,e=e>>>0,r||b(L,e,this.length);let f=this[L+--e],R=1;for(;e>0&&(R*=256);)f+=this[L+--e]*R;return f},v.prototype.readUint8=v.prototype.readUInt8=function(L,e){return L=L>>>0,e||b(L,1,this.length),this[L]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(L,e){return L=L>>>0,e||b(L,2,this.length),this[L]|this[L+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(L,e){return L=L>>>0,e||b(L,2,this.length),this[L]<<8|this[L+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(L,e){return L=L>>>0,e||b(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(L,e){return L=L>>>0,e||b(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},v.prototype.readBigUInt64LE=go(function(L){L=L>>>0,So(L,"offset");let e=this[L],r=this[L+7];(e===void 0||r===void 0)&&D(L,this.length-8);let f=e+this[++L]*256+this[++L]*65536+this[++L]*16777216,R=this[++L]+this[++L]*256+this[++L]*65536+r*16777216;return BigInt(f)+(BigInt(R)<<BigInt(32))}),v.prototype.readBigUInt64BE=go(function(L){L=L>>>0,So(L,"offset");let e=this[L],r=this[L+7];(e===void 0||r===void 0)&&D(L,this.length-8);let f=e*16777216+this[++L]*65536+this[++L]*256+this[++L],R=this[++L]*16777216+this[++L]*65536+this[++L]*256+r;return(BigInt(f)<<BigInt(32))+BigInt(R)}),v.prototype.readIntLE=function(L,e,r){L=L>>>0,e=e>>>0,r||b(L,e,this.length);let f=this[L],R=1,M=0;for(;++M<e&&(R*=256);)f+=this[L+M]*R;return R*=128,f>=R&&(f-=Math.pow(2,8*e)),f},v.prototype.readIntBE=function(L,e,r){L=L>>>0,e=e>>>0,r||b(L,e,this.length);let f=e,R=1,M=this[L+--f];for(;f>0&&(R*=256);)M+=this[L+--f]*R;return R*=128,M>=R&&(M-=Math.pow(2,8*e)),M},v.prototype.readInt8=function(L,e){return L=L>>>0,e||b(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},v.prototype.readInt16LE=function(L,e){L=L>>>0,e||b(L,2,this.length);let r=this[L]|this[L+1]<<8;return r&32768?r|4294901760:r},v.prototype.readInt16BE=function(L,e){L=L>>>0,e||b(L,2,this.length);let r=this[L+1]|this[L]<<8;return r&32768?r|4294901760:r},v.prototype.readInt32LE=function(L,e){return L=L>>>0,e||b(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},v.prototype.readInt32BE=function(L,e){return L=L>>>0,e||b(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},v.prototype.readBigInt64LE=go(function(L){L=L>>>0,So(L,"offset");let e=this[L],r=this[L+7];(e===void 0||r===void 0)&&D(L,this.length-8);let f=this[L+4]+this[L+5]*256+this[L+6]*65536+(r<<24);return(BigInt(f)<<BigInt(32))+BigInt(e+this[++L]*256+this[++L]*65536+this[++L]*16777216)}),v.prototype.readBigInt64BE=go(function(L){L=L>>>0,So(L,"offset");let e=this[L],r=this[L+7];(e===void 0||r===void 0)&&D(L,this.length-8);let f=(e<<24)+this[++L]*65536+this[++L]*256+this[++L];return(BigInt(f)<<BigInt(32))+BigInt(this[++L]*16777216+this[++L]*65536+this[++L]*256+r)}),v.prototype.readFloatLE=function(L,e){return L=L>>>0,e||b(L,4,this.length),i.read(this,L,!0,23,4)},v.prototype.readFloatBE=function(L,e){return L=L>>>0,e||b(L,4,this.length),i.read(this,L,!1,23,4)},v.prototype.readDoubleLE=function(L,e){return L=L>>>0,e||b(L,8,this.length),i.read(this,L,!0,52,8)},v.prototype.readDoubleBE=function(L,e){return L=L>>>0,e||b(L,8,this.length),i.read(this,L,!1,52,8)};function S(L,e,r,f,R,M){if(!v.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>R||e<M)throw new RangeError('"value" argument is out of bounds');if(r+f>L.length)throw new RangeError("Index out of range")}v.prototype.writeUintLE=v.prototype.writeUIntLE=function(L,e,r,f){if(L=+L,e=e>>>0,r=r>>>0,!f){let O=Math.pow(2,8*r)-1;S(this,L,e,r,O,0)}let R=1,M=0;for(this[e]=L&255;++M<r&&(R*=256);)this[e+M]=L/R&255;return e+r},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(L,e,r,f){if(L=+L,e=e>>>0,r=r>>>0,!f){let O=Math.pow(2,8*r)-1;S(this,L,e,r,O,0)}let R=r-1,M=1;for(this[e+R]=L&255;--R>=0&&(M*=256);)this[e+R]=L/M&255;return e+r},v.prototype.writeUint8=v.prototype.writeUInt8=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,1,255,0),this[e]=L&255,e+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,2,65535,0),this[e]=L&255,this[e+1]=L>>>8,e+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,2,65535,0),this[e]=L>>>8,this[e+1]=L&255,e+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,4,4294967295,0),this[e+3]=L>>>24,this[e+2]=L>>>16,this[e+1]=L>>>8,this[e]=L&255,e+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,4,4294967295,0),this[e]=L>>>24,this[e+1]=L>>>16,this[e+2]=L>>>8,this[e+3]=L&255,e+4};function w(L,e,r,f,R){$o(e,f,R,L,r,7);let M=Number(e&BigInt(4294967295));L[r++]=M,M=M>>8,L[r++]=M,M=M>>8,L[r++]=M,M=M>>8,L[r++]=M;let O=Number(e>>BigInt(32)&BigInt(4294967295));return L[r++]=O,O=O>>8,L[r++]=O,O=O>>8,L[r++]=O,O=O>>8,L[r++]=O,r}function I(L,e,r,f,R){$o(e,f,R,L,r,7);let M=Number(e&BigInt(4294967295));L[r+7]=M,M=M>>8,L[r+6]=M,M=M>>8,L[r+5]=M,M=M>>8,L[r+4]=M;let O=Number(e>>BigInt(32)&BigInt(4294967295));return L[r+3]=O,O=O>>8,L[r+2]=O,O=O>>8,L[r+1]=O,O=O>>8,L[r]=O,r+8}v.prototype.writeBigUInt64LE=go(function(L,e=0){return w(this,L,e,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=go(function(L,e=0){return I(this,L,e,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(L,e,r,f){if(L=+L,e=e>>>0,!f){let U=Math.pow(2,8*r-1);S(this,L,e,r,U-1,-U)}let R=0,M=1,O=0;for(this[e]=L&255;++R<r&&(M*=256);)L<0&&O===0&&this[e+R-1]!==0&&(O=1),this[e+R]=(L/M>>0)-O&255;return e+r},v.prototype.writeIntBE=function(L,e,r,f){if(L=+L,e=e>>>0,!f){let U=Math.pow(2,8*r-1);S(this,L,e,r,U-1,-U)}let R=r-1,M=1,O=0;for(this[e+R]=L&255;--R>=0&&(M*=256);)L<0&&O===0&&this[e+R+1]!==0&&(O=1),this[e+R]=(L/M>>0)-O&255;return e+r},v.prototype.writeInt8=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,1,127,-128),L<0&&(L=255+L+1),this[e]=L&255,e+1},v.prototype.writeInt16LE=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,2,32767,-32768),this[e]=L&255,this[e+1]=L>>>8,e+2},v.prototype.writeInt16BE=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,2,32767,-32768),this[e]=L>>>8,this[e+1]=L&255,e+2},v.prototype.writeInt32LE=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,4,2147483647,-2147483648),this[e]=L&255,this[e+1]=L>>>8,this[e+2]=L>>>16,this[e+3]=L>>>24,e+4},v.prototype.writeInt32BE=function(L,e,r){return L=+L,e=e>>>0,r||S(this,L,e,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[e]=L>>>24,this[e+1]=L>>>16,this[e+2]=L>>>8,this[e+3]=L&255,e+4},v.prototype.writeBigInt64LE=go(function(L,e=0){return w(this,L,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=go(function(L,e=0){return I(this,L,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function No(L,e,r,f,R,M){if(r+f>L.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ko(L,e,r,f,R){return e=+e,r=r>>>0,R||No(L,e,r,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),i.write(L,e,r,f,23,4),r+4}v.prototype.writeFloatLE=function(L,e,r){return ko(this,L,e,!0,r)},v.prototype.writeFloatBE=function(L,e,r){return ko(this,L,e,!1,r)};function xo(L,e,r,f,R){return e=+e,r=r>>>0,R||No(L,e,r,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),i.write(L,e,r,f,52,8),r+8}v.prototype.writeDoubleLE=function(L,e,r){return xo(this,L,e,!0,r)},v.prototype.writeDoubleBE=function(L,e,r){return xo(this,L,e,!1,r)},v.prototype.copy=function(L,e,r,f){if(!v.isBuffer(L))throw new TypeError("argument should be a Buffer");if(r||(r=0),!f&&f!==0&&(f=this.length),e>=L.length&&(e=L.length),e||(e=0),f>0&&f<r&&(f=r),f===r||L.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),L.length-e<f-r&&(f=L.length-e+r);let R=f-r;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,r,f):Uint8Array.prototype.set.call(L,this.subarray(r,f),e),R},v.prototype.fill=function(L,e,r,f){if(typeof L=="string"){if(typeof e=="string"?(f=e,e=0,r=this.length):typeof r=="string"&&(f=r,r=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!v.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(L.length===1){let M=L.charCodeAt(0);(f==="utf8"&&M<128||f==="latin1")&&(L=M)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e=e>>>0,r=r===void 0?this.length:r>>>0,L||(L=0);let R;if(typeof L=="number")for(R=e;R<r;++R)this[R]=L;else{let M=v.isBuffer(L)?L:v.from(L,f),O=M.length;if(O===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(R=0;R<r-e;++R)this[R+e]=M[R%O]}return this};var bo={};function co(L,e,r){bo[L]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${L}]`,this.stack,delete this.name}get code(){return L}set code(f){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:f,writable:!0})}toString(){return`${this.name} [${L}]: ${this.message}`}}}co("ERR_BUFFER_OUT_OF_BOUNDS",function(L){return L?`${L} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),co("ERR_INVALID_ARG_TYPE",function(L,e){return`The "${L}" argument must be of type number. Received type ${typeof e}`},TypeError),co("ERR_OUT_OF_RANGE",function(L,e,r){let f=`The value of "${L}" is out of range.`,R=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?R=fo(String(r)):typeof r=="bigint"&&(R=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(R=fo(R)),R+="n"),f+=` It must be ${e}. Received ${R}`,f},RangeError);function fo(L){let e="",r=L.length,f=L[0]==="-"?1:0;for(;r>=f+4;r-=3)e=`_${L.slice(r-3,r)}${e}`;return`${L.slice(0,r)}${e}`}function Xo(L,e,r){So(e,"offset"),(L[e]===void 0||L[e+r]===void 0)&&D(e,L.length-(r+1))}function $o(L,e,r,f,R,M){if(L>r||L<e){let O=typeof e=="bigint"?"n":"",U;throw M>3?e===0||e===BigInt(0)?U=`>= 0${O} and < 2${O} ** ${(M+1)*8}${O}`:U=`>= -(2${O} ** ${(M+1)*8-1}${O}) and < 2 ** ${(M+1)*8-1}${O}`:U=`>= ${e}${O} and <= ${r}${O}`,new bo.ERR_OUT_OF_RANGE("value",U,L)}Xo(f,R,M)}function So(L,e){if(typeof L!="number")throw new bo.ERR_INVALID_ARG_TYPE(e,"number",L)}function D(L,e,r){throw Math.floor(L)!==L?(So(L,r),new bo.ERR_OUT_OF_RANGE(r||"offset","an integer",L)):e<0?new bo.ERR_BUFFER_OUT_OF_BOUNDS:new bo.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,L)}var X=/[^+/0-9A-Za-z-_]/g;function ao(L){if(L=L.split("=")[0],L=L.trim().replace(X,""),L.length<2)return"";for(;L.length%4!==0;)L=L+"=";return L}function wo(L,e){e=e||1/0;let r,f=L.length,R=null,M=[];for(let O=0;O<f;++O){if(r=L.charCodeAt(O),r>55295&&r<57344){if(!R){if(r>56319){(e-=3)>-1&&M.push(239,191,189);continue}else if(O+1===f){(e-=3)>-1&&M.push(239,191,189);continue}R=r;continue}if(r<56320){(e-=3)>-1&&M.push(239,191,189),R=r;continue}r=(R-55296<<10|r-56320)+65536}else R&&(e-=3)>-1&&M.push(239,191,189);if(R=null,r<128){if((e-=1)<0)break;M.push(r)}else if(r<2048){if((e-=2)<0)break;M.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;M.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;M.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return M}function zo(L){let e=[];for(let r=0;r<L.length;++r)e.push(L.charCodeAt(r)&255);return e}function Lo(L,e){let r,f,R,M=[];for(let O=0;O<L.length&&!((e-=2)<0);++O)r=L.charCodeAt(O),f=r>>8,R=r%256,M.push(R),M.push(f);return M}function Ho(L){return d.toByteArray(ao(L))}function Uo(L,e,r,f){let R;for(R=0;R<f&&!(R+r>=e.length||R>=L.length);++R)e[R+r]=L[R];return R}function Po(L,e){return L instanceof e||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===e.name}function Ao(L){return L!==L}var Ko=function(){let L="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let f=r*16;for(let R=0;R<16;++R)e[f+R]=L[r]+L[R]}return e}();function go(L){return typeof BigInt>"u"?da:L}function da(){throw new Error("BigInt not supported")}}),ta=Jo((s,d)=>{var i=wa(),h=i.Buffer;function _(u,v){for(var W in u)v[W]=u[W]}h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?d.exports=i:(_(i,s),s.Buffer=T);function T(u,v,W){return h(u,v,W)}T.prototype=Object.create(h.prototype),_(h,T),T.from=function(u,v,W){if(typeof u=="number")throw new TypeError("Argument must not be a number");return h(u,v,W)},T.alloc=function(u,v,W){if(typeof u!="number")throw new TypeError("Argument must be a number");var y=h(u);return v!==void 0?typeof W=="string"?y.fill(v,W):y.fill(v):y.fill(0),y},T.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return h(u)},T.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(u)}}),De=Jo((s,d)=>{var i=65536,h=4294967295;function _(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var T=ta().Buffer,u=global.crypto||global.msCrypto;u&&u.getRandomValues?d.exports=v:d.exports=_;function v(W,y){if(W>h)throw new RangeError("requested too many random bytes");var k=T.allocUnsafe(W);if(W>0)if(W>i)for(var Z=0;Z<W;Z+=i)u.getRandomValues(k.slice(Z,Z+i));else u.getRandomValues(k);return typeof y=="function"?process.nextTick(function(){y(null,k)}):k}}),pa=Jo((s,d)=>{typeof Object.create=="function"?d.exports=function(i,h){h&&(i.super_=h,i.prototype=Object.create(h.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:d.exports=function(i,h){if(h){i.super_=h;var _=function(){};_.prototype=h.prototype,i.prototype=new _,i.prototype.constructor=i}}}),$e=Jo((s,d)=>{var i=typeof Reflect=="object"?Reflect:null,h=i&&typeof i.apply=="function"?i.apply:function(C,mo,to){return Function.prototype.apply.call(C,mo,to)},_;i&&typeof i.ownKeys=="function"?_=i.ownKeys:Object.getOwnPropertySymbols?_=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:_=function(C){return Object.getOwnPropertyNames(C)};function T(C){console&&console.warn&&console.warn(C)}var u=Number.isNaN||function(C){return C!==C};function v(){v.init.call(this)}d.exports=v,d.exports.once=z,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var W=10;function y(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return W},set:function(C){if(typeof C!="number"||C<0||u(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");W=C}}),v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||u(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function k(C){return C._maxListeners===void 0?v.defaultMaxListeners:C._maxListeners}v.prototype.getMaxListeners=function(){return k(this)},v.prototype.emit=function(C){for(var mo=[],to=1;to<arguments.length;to++)mo.push(arguments[to]);var Mo=C==="error",uo=this._events;if(uo!==void 0)Mo=Mo&&uo.error===void 0;else if(!Mo)return!1;if(Mo){var Vo;if(mo.length>0&&(Vo=mo[0]),Vo instanceof Error)throw Vo;var o=new Error("Unhandled error."+(Vo?" ("+Vo.message+")":""));throw o.context=Vo,o}var n=uo[C];if(n===void 0)return!1;if(typeof n=="function")h(n,this,mo);else for(var c=n.length,l=F(n,c),to=0;to<c;++to)h(l[to],this,mo);return!0};function Z(C,mo,to,Mo){var uo,Vo,o;if(y(to),Vo=C._events,Vo===void 0?(Vo=C._events=Object.create(null),C._eventsCount=0):(Vo.newListener!==void 0&&(C.emit("newListener",mo,to.listener?to.listener:to),Vo=C._events),o=Vo[mo]),o===void 0)o=Vo[mo]=to,++C._eventsCount;else if(typeof o=="function"?o=Vo[mo]=Mo?[to,o]:[o,to]:Mo?o.unshift(to):o.push(to),uo=k(C),uo>0&&o.length>uo&&!o.warned){o.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(mo)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=C,n.type=mo,n.count=o.length,T(n)}return C}v.prototype.addListener=function(C,mo){return Z(this,C,mo,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(C,mo){return Z(this,C,mo,!0)};function $(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(C,mo,to){var Mo={fired:!1,wrapFn:void 0,target:C,type:mo,listener:to},uo=$.bind(Mo);return uo.listener=to,Mo.wrapFn=uo,uo}v.prototype.once=function(C,mo){return y(mo),this.on(C,V(this,C,mo)),this},v.prototype.prependOnceListener=function(C,mo){return y(mo),this.prependListener(C,V(this,C,mo)),this},v.prototype.removeListener=function(C,mo){var to,Mo,uo,Vo,o;if(y(mo),Mo=this._events,Mo===void 0)return this;if(to=Mo[C],to===void 0)return this;if(to===mo||to.listener===mo)--this._eventsCount===0?this._events=Object.create(null):(delete Mo[C],Mo.removeListener&&this.emit("removeListener",C,to.listener||mo));else if(typeof to!="function"){for(uo=-1,Vo=to.length-1;Vo>=0;Vo--)if(to[Vo]===mo||to[Vo].listener===mo){o=to[Vo].listener,uo=Vo;break}if(uo<0)return this;uo===0?to.shift():g(to,uo),to.length===1&&(Mo[C]=to[0]),Mo.removeListener!==void 0&&this.emit("removeListener",C,o||mo)}return this},v.prototype.off=v.prototype.removeListener,v.prototype.removeAllListeners=function(C){var mo,to,Mo;if(to=this._events,to===void 0)return this;if(to.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):to[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete to[C]),this;if(arguments.length===0){var uo=Object.keys(to),Vo;for(Mo=0;Mo<uo.length;++Mo)Vo=uo[Mo],Vo!=="removeListener"&&this.removeAllListeners(Vo);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(mo=to[C],typeof mo=="function")this.removeListener(C,mo);else if(mo!==void 0)for(Mo=mo.length-1;Mo>=0;Mo--)this.removeListener(C,mo[Mo]);return this};function x(C,mo,to){var Mo=C._events;if(Mo===void 0)return[];var uo=Mo[mo];return uo===void 0?[]:typeof uo=="function"?to?[uo.listener||uo]:[uo]:to?E(uo):F(uo,uo.length)}v.prototype.listeners=function(C){return x(this,C,!0)},v.prototype.rawListeners=function(C){return x(this,C,!1)},v.listenerCount=function(C,mo){return typeof C.listenerCount=="function"?C.listenerCount(mo):q.call(C,mo)},v.prototype.listenerCount=q;function q(C){var mo=this._events;if(mo!==void 0){var to=mo[C];if(typeof to=="function")return 1;if(to!==void 0)return to.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]};function F(C,mo){for(var to=new Array(mo),Mo=0;Mo<mo;++Mo)to[Mo]=C[Mo];return to}function g(C,mo){for(;mo+1<C.length;mo++)C[mo]=C[mo+1];C.pop()}function E(C){for(var mo=new Array(C.length),to=0;to<mo.length;++to)mo[to]=C[to].listener||C[to];return mo}function z(C,mo){return new Promise(function(to,Mo){function uo(o){C.removeListener(mo,Vo),Mo(o)}function Vo(){typeof C.removeListener=="function"&&C.removeListener("error",uo),to([].slice.call(arguments))}Y(C,mo,Vo,{once:!0}),mo!=="error"&&K(C,uo,{once:!0})})}function K(C,mo,to){typeof C.on=="function"&&Y(C,"error",mo,to)}function Y(C,mo,to,Mo){if(typeof C.on=="function")Mo.once?C.once(mo,to):C.on(mo,to);else if(typeof C.addEventListener=="function")C.addEventListener(mo,function uo(Vo){Mo.once&&C.removeEventListener(mo,uo),to(Vo)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}}),Xs=Jo((s,d)=>{d.exports=$e().EventEmitter}),Dn=Jo(()=>{}),ei=Jo((s,d)=>{function i(x,q){var F=Object.keys(x);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(x);q&&(g=g.filter(function(E){return Object.getOwnPropertyDescriptor(x,E).enumerable})),F.push.apply(F,g)}return F}function h(x){for(var q=1;q<arguments.length;q++){var F=arguments[q]!=null?arguments[q]:{};q%2?i(Object(F),!0).forEach(function(g){_(x,g,F[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(F)):i(Object(F)).forEach(function(g){Object.defineProperty(x,g,Object.getOwnPropertyDescriptor(F,g))})}return x}function _(x,q,F){return q in x?Object.defineProperty(x,q,{value:F,enumerable:!0,configurable:!0,writable:!0}):x[q]=F,x}function T(x,q){if(!(x instanceof q))throw new TypeError("Cannot call a class as a function")}function u(x,q){for(var F=0;F<q.length;F++){var g=q[F];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}function v(x,q,F){return q&&u(x.prototype,q),F&&u(x,F),x}var W=wa(),y=W.Buffer,k=Dn(),Z=k.inspect,$=Z&&Z.custom||"inspect";function V(x,q,F){y.prototype.copy.call(x,q,F)}d.exports=function(){function x(){T(this,x),this.head=null,this.tail=null,this.length=0}return v(x,[{key:"push",value:function(q){var F={data:q,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}},{key:"unshift",value:function(q){var F={data:q,next:this.head};this.length===0&&(this.tail=F),this.head=F,++this.length}},{key:"shift",value:function(){if(this.length!==0){var q=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(this.length===0)return"";for(var F=this.head,g=""+F.data;F=F.next;)g+=q+F.data;return g}},{key:"concat",value:function(q){if(this.length===0)return y.alloc(0);for(var F=y.allocUnsafe(q>>>0),g=this.head,E=0;g;)V(g.data,F,E),E+=g.data.length,g=g.next;return F}},{key:"consume",value:function(q,F){var g;return q<this.head.data.length?(g=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):q===this.head.data.length?g=this.shift():g=F?this._getString(q):this._getBuffer(q),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var F=this.head,g=1,E=F.data;for(q-=E.length;F=F.next;){var z=F.data,K=q>z.length?z.length:q;if(K===z.length?E+=z:E+=z.slice(0,q),q-=K,q===0){K===z.length?(++g,F.next?this.head=F.next:this.head=this.tail=null):(this.head=F,F.data=z.slice(K));break}++g}return this.length-=g,E}},{key:"_getBuffer",value:function(q){var F=y.allocUnsafe(q),g=this.head,E=1;for(g.data.copy(F),q-=g.data.length;g=g.next;){var z=g.data,K=q>z.length?z.length:q;if(z.copy(F,F.length-q,0,K),q-=K,q===0){K===z.length?(++E,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=z.slice(K));break}++E}return this.length-=E,F}},{key:$,value:function(q,F){return Z(this,h({},F,{depth:0,customInspect:!1}))}}]),x}()}),gs=Jo((s,d)=>{function i(W,y){var k=this,Z=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return Z||$?(y?y(W):W&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,W)):process.nextTick(u,this,W)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(W||null,function(V){!y&&V?k._writableState?k._writableState.errorEmitted?process.nextTick(_,k):(k._writableState.errorEmitted=!0,process.nextTick(h,k,V)):process.nextTick(h,k,V):y?(process.nextTick(_,k),y(V)):process.nextTick(_,k)}),this)}function h(W,y){u(W,y),_(W)}function _(W){W._writableState&&!W._writableState.emitClose||W._readableState&&!W._readableState.emitClose||W.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(W,y){W.emit("error",y)}function v(W,y){var{_readableState:k,_writableState:Z}=W;k&&k.autoDestroy||Z&&Z.autoDestroy?W.destroy(y):W.emit("error",y)}d.exports={destroy:i,undestroy:T,errorOrDestroy:v}}),He=Jo((s,d)=>{function i(y,k){y.prototype=Object.create(k.prototype),y.prototype.constructor=y,y.__proto__=k}var h={};function _(y,k,Z){Z||(Z=Error);function $(x,q,F){return typeof k=="string"?k:k(x,q,F)}var V=function(x){i(q,x);function q(F,g,E){return x.call(this,$(F,g,E))||this}return q}(Z);V.prototype.name=Z.name,V.prototype.code=y,h[y]=V}function T(y,k){if(Array.isArray(y)){var Z=y.length;return y=y.map(function($){return String($)}),Z>2?"one of ".concat(k," ").concat(y.slice(0,Z-1).join(", "),", or ")+y[Z-1]:Z===2?"one of ".concat(k," ").concat(y[0]," or ").concat(y[1]):"of ".concat(k," ").concat(y[0])}else return"of ".concat(k," ").concat(String(y))}function u(y,k,Z){return y.substr(!Z||Z<0?0:+Z,k.length)===k}function v(y,k,Z){return(Z===void 0||Z>y.length)&&(Z=y.length),y.substring(Z-k.length,Z)===k}function W(y,k,Z){return typeof Z!="number"&&(Z=0),Z+k.length>y.length?!1:y.indexOf(k,Z)!==-1}_("ERR_INVALID_OPT_VALUE",function(y,k){return'The value "'+k+'" is invalid for option "'+y+'"'},TypeError),_("ERR_INVALID_ARG_TYPE",function(y,k,Z){var $;typeof k=="string"&&u(k,"not ")?($="must not be",k=k.replace(/^not /,"")):$="must be";var V;if(v(y," argument"))V="The ".concat(y," ").concat($," ").concat(T(k,"type"));else{var x=W(y,".")?"property":"argument";V='The "'.concat(y,'" ').concat(x," ").concat($," ").concat(T(k,"type"))}return V+=". Received type ".concat(typeof Z),V},TypeError),_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),_("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),_("ERR_STREAM_PREMATURE_CLOSE","Premature close"),_("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),_("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),_("ERR_STREAM_WRITE_AFTER_END","write after end"),_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),d.exports.codes=h}),Us=Jo((s,d)=>{var i=He().codes.ERR_INVALID_OPT_VALUE;function h(T,u,v){return T.highWaterMark!=null?T.highWaterMark:u?T[v]:null}function _(T,u,v,W){var y=h(u,W,v);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var k=W?v:"highWaterMark";throw new i(k,y)}return Math.floor(y)}return T.objectMode?16:16384}d.exports={getHighWaterMark:_}}),Es=Jo((s,d)=>{d.exports=i;function i(_,T){if(h("noDeprecation"))return _;var u=!1;function v(){if(!u){if(h("throwDeprecation"))throw new Error(T);h("traceDeprecation")?console.trace(T):console.warn(T),u=!0}return _.apply(this,arguments)}return v}function h(_){try{if(!global.localStorage)return!1}catch{return!1}var T=global.localStorage[_];return T==null?!1:String(T).toLowerCase()==="true"}}),js=Jo((s,d)=>{d.exports=uo;function i(bo){var co=this;this.next=null,this.entry=null,this.finish=function(){xo(co,bo)}}var h;uo.WritableState=to;var _={deprecate:Es()},T=Xs(),u=wa().Buffer,v=global.Uint8Array||function(){};function W(bo){return u.from(bo)}function y(bo){return u.isBuffer(bo)||bo instanceof v}var k=gs(),Z=Us(),$=Z.getHighWaterMark,V=He().codes,x=V.ERR_INVALID_ARG_TYPE,q=V.ERR_METHOD_NOT_IMPLEMENTED,F=V.ERR_MULTIPLE_CALLBACK,g=V.ERR_STREAM_CANNOT_PIPE,E=V.ERR_STREAM_DESTROYED,z=V.ERR_STREAM_NULL_VALUES,K=V.ERR_STREAM_WRITE_AFTER_END,Y=V.ERR_UNKNOWN_ENCODING,C=k.errorOrDestroy;pa()(uo,T);function mo(){}function to(bo,co,fo){h=h||Ye(),bo=bo||{},typeof fo!="boolean"&&(fo=co instanceof h),this.objectMode=!!bo.objectMode,fo&&(this.objectMode=this.objectMode||!!bo.writableObjectMode),this.highWaterMark=$(this,bo,"writableHighWaterMark",fo),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Xo=bo.decodeStrings===!1;this.decodeStrings=!Xo,this.defaultEncoding=bo.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($o){N(co,$o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=bo.emitClose!==!1,this.autoDestroy=!!bo.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}to.prototype.getBuffer=function(){for(var bo=this.bufferedRequest,co=[];bo;)co.push(bo),bo=bo.next;return co},function(){try{Object.defineProperty(to.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Mo;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Mo=Function.prototype[Symbol.hasInstance],Object.defineProperty(uo,Symbol.hasInstance,{value:function(bo){return Mo.call(this,bo)?!0:this!==uo?!1:bo&&bo._writableState instanceof to}})):Mo=function(bo){return bo instanceof this};function uo(bo){h=h||Ye();var co=this instanceof h;if(!co&&!Mo.call(uo,this))return new uo(bo);this._writableState=new to(bo,this,co),this.writable=!0,bo&&(typeof bo.write=="function"&&(this._write=bo.write),typeof bo.writev=="function"&&(this._writev=bo.writev),typeof bo.destroy=="function"&&(this._destroy=bo.destroy),typeof bo.final=="function"&&(this._final=bo.final)),T.call(this)}uo.prototype.pipe=function(){C(this,new g)};function Vo(bo,co){var fo=new K;C(bo,fo),process.nextTick(co,fo)}function o(bo,co,fo,Xo){var $o;return fo===null?$o=new z:typeof fo!="string"&&!co.objectMode&&($o=new x("chunk",["string","Buffer"],fo)),$o?(C(bo,$o),process.nextTick(Xo,$o),!1):!0}uo.prototype.write=function(bo,co,fo){var Xo=this._writableState,$o=!1,So=!Xo.objectMode&&y(bo);return So&&!u.isBuffer(bo)&&(bo=W(bo)),typeof co=="function"&&(fo=co,co=null),So?co="buffer":co||(co=Xo.defaultEncoding),typeof fo!="function"&&(fo=mo),Xo.ending?Vo(this,fo):(So||o(this,Xo,bo,fo))&&(Xo.pendingcb++,$o=c(this,Xo,So,bo,co,fo)),$o},uo.prototype.cork=function(){this._writableState.corked++},uo.prototype.uncork=function(){var bo=this._writableState;bo.corked&&(bo.corked--,!bo.writing&&!bo.corked&&!bo.bufferProcessing&&bo.bufferedRequest&&b(this,bo))},uo.prototype.setDefaultEncoding=function(bo){if(typeof bo=="string"&&(bo=bo.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((bo+"").toLowerCase())>-1))throw new Y(bo);return this._writableState.defaultEncoding=bo,this},Object.defineProperty(uo.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function n(bo,co,fo){return!bo.objectMode&&bo.decodeStrings!==!1&&typeof co=="string"&&(co=u.from(co,fo)),co}Object.defineProperty(uo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(bo,co,fo,Xo,$o,So){if(!fo){var D=n(co,Xo,$o);Xo!==D&&(fo=!0,$o="buffer",Xo=D)}var X=co.objectMode?1:Xo.length;co.length+=X;var ao=co.length<co.highWaterMark;if(ao||(co.needDrain=!0),co.writing||co.corked){var wo=co.lastBufferedRequest;co.lastBufferedRequest={chunk:Xo,encoding:$o,isBuf:fo,callback:So,next:null},wo?wo.next=co.lastBufferedRequest:co.bufferedRequest=co.lastBufferedRequest,co.bufferedRequestCount+=1}else l(bo,co,!1,X,Xo,$o,So);return ao}function l(bo,co,fo,Xo,$o,So,D){co.writelen=Xo,co.writecb=D,co.writing=!0,co.sync=!0,co.destroyed?co.onwrite(new E("write")):fo?bo._writev($o,co.onwrite):bo._write($o,So,co.onwrite),co.sync=!1}function m(bo,co,fo,Xo,$o){--co.pendingcb,fo?(process.nextTick($o,Xo),process.nextTick(No,bo,co),bo._writableState.errorEmitted=!0,C(bo,Xo)):($o(Xo),bo._writableState.errorEmitted=!0,C(bo,Xo),No(bo,co))}function t(bo){bo.writing=!1,bo.writecb=null,bo.length-=bo.writelen,bo.writelen=0}function N(bo,co){var fo=bo._writableState,Xo=fo.sync,$o=fo.writecb;if(typeof $o!="function")throw new F;if(t(fo),co)m(bo,fo,Xo,co,$o);else{var So=S(fo)||bo.destroyed;!So&&!fo.corked&&!fo.bufferProcessing&&fo.bufferedRequest&&b(bo,fo),Xo?process.nextTick(p,bo,fo,So,$o):p(bo,fo,So,$o)}}function p(bo,co,fo,Xo){fo||a(bo,co),co.pendingcb--,Xo(),No(bo,co)}function a(bo,co){co.length===0&&co.needDrain&&(co.needDrain=!1,bo.emit("drain"))}function b(bo,co){co.bufferProcessing=!0;var fo=co.bufferedRequest;if(bo._writev&&fo&&fo.next){var Xo=co.bufferedRequestCount,$o=new Array(Xo),So=co.corkedRequestsFree;So.entry=fo;for(var D=0,X=!0;fo;)$o[D]=fo,fo.isBuf||(X=!1),fo=fo.next,D+=1;$o.allBuffers=X,l(bo,co,!0,co.length,$o,"",So.finish),co.pendingcb++,co.lastBufferedRequest=null,So.next?(co.corkedRequestsFree=So.next,So.next=null):co.corkedRequestsFree=new i(co),co.bufferedRequestCount=0}else{for(;fo;){var{chunk:ao,encoding:wo,callback:zo}=fo,Lo=co.objectMode?1:ao.length;if(l(bo,co,!1,Lo,ao,wo,zo),fo=fo.next,co.bufferedRequestCount--,co.writing)break}fo===null&&(co.lastBufferedRequest=null)}co.bufferedRequest=fo,co.bufferProcessing=!1}uo.prototype._write=function(bo,co,fo){fo(new q("_write()"))},uo.prototype._writev=null,uo.prototype.end=function(bo,co,fo){var Xo=this._writableState;return typeof bo=="function"?(fo=bo,bo=null,co=null):typeof co=="function"&&(fo=co,co=null),bo!=null&&this.write(bo,co),Xo.corked&&(Xo.corked=1,this.uncork()),Xo.ending||ko(this,Xo,fo),this},Object.defineProperty(uo.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(bo){return bo.ending&&bo.length===0&&bo.bufferedRequest===null&&!bo.finished&&!bo.writing}function w(bo,co){bo._final(function(fo){co.pendingcb--,fo&&C(bo,fo),co.prefinished=!0,bo.emit("prefinish"),No(bo,co)})}function I(bo,co){!co.prefinished&&!co.finalCalled&&(typeof bo._final=="function"&&!co.destroyed?(co.pendingcb++,co.finalCalled=!0,process.nextTick(w,bo,co)):(co.prefinished=!0,bo.emit("prefinish")))}function No(bo,co){var fo=S(co);if(fo&&(I(bo,co),co.pendingcb===0&&(co.finished=!0,bo.emit("finish"),co.autoDestroy))){var Xo=bo._readableState;(!Xo||Xo.autoDestroy&&Xo.endEmitted)&&bo.destroy()}return fo}function ko(bo,co,fo){co.ending=!0,No(bo,co),fo&&(co.finished?process.nextTick(fo):bo.once("finish",fo)),co.ended=!0,bo.writable=!1}function xo(bo,co,fo){var Xo=bo.entry;for(bo.entry=null;Xo;){var $o=Xo.callback;co.pendingcb--,$o(fo),Xo=Xo.next}co.corkedRequestsFree.next=bo}Object.defineProperty(uo.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(bo){!this._writableState||(this._writableState.destroyed=bo)}}),uo.prototype.destroy=k.destroy,uo.prototype._undestroy=k.undestroy,uo.prototype._destroy=function(bo,co){co(bo)}}),Ye=Jo((s,d)=>{var i=Object.keys||function(Z){var $=[];for(var V in Z)$.push(V);return $};d.exports=W;var h=Ps(),_=js();pa()(W,h);for(T=i(_.prototype),v=0;v<T.length;v++)u=T[v],W.prototype[u]||(W.prototype[u]=_.prototype[u]);var T,u,v;function W(Z){if(!(this instanceof W))return new W(Z);h.call(this,Z),_.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(k,this)}function k(Z){Z.end()}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}),Xl=Jo((s)=>{var d=ta().Buffer,i=d.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(E){if(!E)return"utf8";for(var z;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(z)return;E=(""+E).toLowerCase(),z=!0}}function _(E){var z=h(E);if(typeof z!="string"&&(d.isEncoding===i||!i(E)))throw new Error("Unknown encoding: "+E);return z||E}s.StringDecoder=T;function T(E){this.encoding=_(E);var z;switch(this.encoding){case"utf16le":this.text=$,this.end=V,z=4;break;case"utf8":this.fillLast=y,z=4;break;case"base64":this.text=x,this.end=q,z=3;break;default:this.write=F,this.end=g;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(z)}T.prototype.write=function(E){if(E.length===0)return"";var z,K;if(this.lastNeed){if(z=this.fillLast(E),z===void 0)return"";K=this.lastNeed,this.lastNeed=0}else K=0;return K<E.length?z?z+this.text(E,K):this.text(E,K):z||""},T.prototype.end=Z,T.prototype.text=k,T.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function u(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function v(E,z,K){var Y=z.length-1;if(Y<K)return 0;var C=u(z[Y]);return C>=0?(C>0&&(E.lastNeed=C-1),C):--Y<K||C===-2?0:(C=u(z[Y]),C>=0?(C>0&&(E.lastNeed=C-2),C):--Y<K||C===-2?0:(C=u(z[Y]),C>=0?(C>0&&(C===2?C=0:E.lastNeed=C-3),C):0))}function W(E,z,K){if((z[0]&192)!==128)return E.lastNeed=0,"\uFFFD";if(E.lastNeed>1&&z.length>1){if((z[1]&192)!==128)return E.lastNeed=1,"\uFFFD";if(E.lastNeed>2&&z.length>2&&(z[2]&192)!==128)return E.lastNeed=2,"\uFFFD"}}function y(E){var z=this.lastTotal-this.lastNeed,K=W(this,E,z);if(K!==void 0)return K;if(this.lastNeed<=E.length)return E.copy(this.lastChar,z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,z,0,E.length),this.lastNeed-=E.length}function k(E,z){var K=v(this,E,z);if(!this.lastNeed)return E.toString("utf8",z);this.lastTotal=K;var Y=E.length-(K-this.lastNeed);return E.copy(this.lastChar,0,Y),E.toString("utf8",z,Y)}function Z(E){var z=E&&E.length?this.write(E):"";return this.lastNeed?z+"\uFFFD":z}function $(E,z){if((E.length-z)%2===0){var K=E.toString("utf16le",z);if(K){var Y=K.charCodeAt(K.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],K.slice(0,-1)}return K}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",z,E.length-1)}function V(E){var z=E&&E.length?this.write(E):"";if(this.lastNeed){var K=this.lastTotal-this.lastNeed;return z+this.lastChar.toString("utf16le",0,K)}return z}function x(E,z){var K=(E.length-z)%3;return K===0?E.toString("base64",z):(this.lastNeed=3-K,this.lastTotal=3,K===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",z,E.length-K))}function q(E){var z=E&&E.length?this.write(E):"";return this.lastNeed?z+this.lastChar.toString("base64",0,3-this.lastNeed):z}function F(E){return E.toString(this.encoding)}function g(E){return E&&E.length?this.write(E):""}}),_n={},In(_n,{StringDecoder:()=>Js.StringDecoder,default:()=>Js.StringDecoder}),Hn=zl(()=>{Js=xe(Xl())}),gl=Jo((s,d)=>{var i=He().codes.ERR_STREAM_PREMATURE_CLOSE;function h(v){var W=!1;return function(){if(!W){W=!0;for(var y=arguments.length,k=new Array(y),Z=0;Z<y;Z++)k[Z]=arguments[Z];v.apply(this,k)}}}function _(){}function T(v){return v.setHeader&&typeof v.abort=="function"}function u(v,W,y){if(typeof W=="function")return u(v,null,W);W||(W={}),y=h(y||_);var k=W.readable||W.readable!==!1&&v.readable,Z=W.writable||W.writable!==!1&&v.writable,$=function(){v.writable||x()},V=v._writableState&&v._writableState.finished,x=function(){Z=!1,V=!0,k||y.call(v)},q=v._readableState&&v._readableState.endEmitted,F=function(){k=!1,q=!0,Z||y.call(v)},g=function(K){y.call(v,K)},E=function(){var K;if(k&&!q)return(!v._readableState||!v._readableState.ended)&&(K=new i),y.call(v,K);if(Z&&!V)return(!v._writableState||!v._writableState.ended)&&(K=new i),y.call(v,K)},z=function(){v.req.on("finish",x)};return T(v)?(v.on("complete",x),v.on("abort",E),v.req?z():v.on("request",z)):Z&&!v._writableState&&(v.on("end",$),v.on("close",$)),v.on("end",F),v.on("finish",x),W.error!==!1&&v.on("error",g),v.on("close",E),function(){v.removeListener("complete",x),v.removeListener("abort",E),v.removeListener("request",z),v.req&&v.req.removeListener("finish",x),v.removeListener("end",$),v.removeListener("close",$),v.removeListener("finish",x),v.removeListener("end",F),v.removeListener("error",g),v.removeListener("close",E)}}d.exports=u}),ni=Jo((s,d)=>{var i;function h(z,K,Y){return K in z?Object.defineProperty(z,K,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[K]=Y,z}var _=gl(),T=Symbol("lastResolve"),u=Symbol("lastReject"),v=Symbol("error"),W=Symbol("ended"),y=Symbol("lastPromise"),k=Symbol("handlePromise"),Z=Symbol("stream");function $(z,K){return{value:z,done:K}}function V(z){var K=z[T];if(K!==null){var Y=z[Z].read();Y!==null&&(z[y]=null,z[T]=null,z[u]=null,K($(Y,!1)))}}function x(z){process.nextTick(V,z)}function q(z,K){return function(Y,C){z.then(function(){if(K[W]){Y($(void 0,!0));return}K[k](Y,C)},C)}}var F=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i={get stream(){return this[Z]},next:function(){var z=this,K=this[v];if(K!==null)return Promise.reject(K);if(this[W])return Promise.resolve($(void 0,!0));if(this[Z].destroyed)return new Promise(function(to,Mo){process.nextTick(function(){z[v]?Mo(z[v]):to($(void 0,!0))})});var Y=this[y],C;if(Y)C=new Promise(q(Y,this));else{var mo=this[Z].read();if(mo!==null)return Promise.resolve($(mo,!1));C=new Promise(this[k])}return this[y]=C,C}},h(i,Symbol.asyncIterator,function(){return this}),h(i,"return",function(){var z=this;return new Promise(function(K,Y){z[Z].destroy(null,function(C){if(C){Y(C);return}K($(void 0,!0))})})}),i),F),E=function(z){var K,Y=Object.create(g,(K={},h(K,Z,{value:z,writable:!0}),h(K,T,{value:null,writable:!0}),h(K,u,{value:null,writable:!0}),h(K,v,{value:null,writable:!0}),h(K,W,{value:z._readableState.endEmitted,writable:!0}),h(K,k,{value:function(C,mo){var to=Y[Z].read();to?(Y[y]=null,Y[T]=null,Y[u]=null,C($(to,!1))):(Y[T]=C,Y[u]=mo)},writable:!0}),K));return Y[y]=null,_(z,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var mo=Y[u];mo!==null&&(Y[y]=null,Y[T]=null,Y[u]=null,mo(C)),Y[v]=C;return}var to=Y[T];to!==null&&(Y[y]=null,Y[T]=null,Y[u]=null,to($(void 0,!0))),Y[W]=!0}),z.on("readable",x.bind(null,Y)),Y};d.exports=E}),li=Jo((s,d)=>{d.exports=function(){throw new Error("Readable.from is not available in the browser")}}),Ps=Jo((s,d)=>{d.exports=o;var i;o.ReadableState=Vo;var h=$e().EventEmitter,_=function(D,X){return D.listeners(X).length},T=Xs(),u=wa().Buffer,v=global.Uint8Array||function(){};function W(D){return u.from(D)}function y(D){return u.isBuffer(D)||D instanceof v}var k=Dn(),Z;k&&k.debuglog?Z=k.debuglog("stream"):Z=function(){};var $=ei(),V=gs(),x=Us(),q=x.getHighWaterMark,F=He().codes,g=F.ERR_INVALID_ARG_TYPE,E=F.ERR_STREAM_PUSH_AFTER_EOF,z=F.ERR_METHOD_NOT_IMPLEMENTED,K=F.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,C,mo;pa()(o,T);var to=V.errorOrDestroy,Mo=["error","close","destroy","pause","resume"];function uo(D,X,ao){if(typeof D.prependListener=="function")return D.prependListener(X,ao);!D._events||!D._events[X]?D.on(X,ao):Array.isArray(D._events[X])?D._events[X].unshift(ao):D._events[X]=[ao,D._events[X]]}function Vo(D,X,ao){i=i||Ye(),D=D||{},typeof ao!="boolean"&&(ao=X instanceof i),this.objectMode=!!D.objectMode,ao&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=q(this,D,"readableHighWaterMark",ao),this.buffer=new $,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(Y||(Y=(Hn(),Pa(_n)).StringDecoder),this.decoder=new Y(D.encoding),this.encoding=D.encoding)}function o(D){if(i=i||Ye(),!(this instanceof o))return new o(D);var X=this instanceof i;this._readableState=new Vo(D,this,X),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),T.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){!this._readableState||(this._readableState.destroyed=D)}}),o.prototype.destroy=V.destroy,o.prototype._undestroy=V.undestroy,o.prototype._destroy=function(D,X){X(D)},o.prototype.push=function(D,X){var ao=this._readableState,wo;return ao.objectMode?wo=!0:typeof D=="string"&&(X=X||ao.defaultEncoding,X!==ao.encoding&&(D=u.from(D,X),X=""),wo=!0),n(this,D,X,!1,wo)},o.prototype.unshift=function(D){return n(this,D,null,!0,!1)};function n(D,X,ao,wo,zo){Z("readableAddChunk",X);var Lo=D._readableState;if(X===null)Lo.reading=!1,p(D,Lo);else{var Ho;if(zo||(Ho=l(Lo,X)),Ho)to(D,Ho);else if(Lo.objectMode||X&&X.length>0)if(typeof X!="string"&&!Lo.objectMode&&Object.getPrototypeOf(X)!==u.prototype&&(X=W(X)),wo)Lo.endEmitted?to(D,new K):c(D,Lo,X,!0);else if(Lo.ended)to(D,new E);else{if(Lo.destroyed)return!1;Lo.reading=!1,Lo.decoder&&!ao?(X=Lo.decoder.write(X),Lo.objectMode||X.length!==0?c(D,Lo,X,!1):S(D,Lo)):c(D,Lo,X,!1)}else wo||(Lo.reading=!1,S(D,Lo))}return!Lo.ended&&(Lo.length<Lo.highWaterMark||Lo.length===0)}function c(D,X,ao,wo){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,D.emit("data",ao)):(X.length+=X.objectMode?1:ao.length,wo?X.buffer.unshift(ao):X.buffer.push(ao),X.needReadable&&a(D)),S(D,X)}function l(D,X){var ao;return!y(X)&&typeof X!="string"&&X!==void 0&&!D.objectMode&&(ao=new g("chunk",["string","Buffer","Uint8Array"],X)),ao}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(D){Y||(Y=(Hn(),Pa(_n)).StringDecoder);var X=new Y(D);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var ao=this._readableState.buffer.head,wo="";ao!==null;)wo+=X.write(ao.data),ao=ao.next;return this._readableState.buffer.clear(),wo!==""&&this._readableState.buffer.push(wo),this._readableState.length=wo.length,this};var m=1073741824;function t(D){return D>=m?D=m:(D--,D|=D>>>1,D|=D>>>2,D|=D>>>4,D|=D>>>8,D|=D>>>16,D++),D}function N(D,X){return D<=0||X.length===0&&X.ended?0:X.objectMode?1:D!==D?X.flowing&&X.length?X.buffer.head.data.length:X.length:(D>X.highWaterMark&&(X.highWaterMark=t(D)),D<=X.length?D:X.ended?X.length:(X.needReadable=!0,0))}o.prototype.read=function(D){Z("read",D),D=parseInt(D,10);var X=this._readableState,ao=D;if(D!==0&&(X.emittedReadable=!1),D===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return Z("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?Xo(this):a(this),null;if(D=N(D,X),D===0&&X.ended)return X.length===0&&Xo(this),null;var wo=X.needReadable;Z("need readable",wo),(X.length===0||X.length-D<X.highWaterMark)&&(wo=!0,Z("length less than watermark",wo)),X.ended||X.reading?(wo=!1,Z("reading or ended",wo)):wo&&(Z("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(D=N(ao,X)));var zo;return D>0?zo=fo(D,X):zo=null,zo===null?(X.needReadable=X.length<=X.highWaterMark,D=0):(X.length-=D,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),ao!==D&&X.ended&&Xo(this)),zo!==null&&this.emit("data",zo),zo};function p(D,X){if(Z("onEofChunk"),!X.ended){if(X.decoder){var ao=X.decoder.end();ao&&ao.length&&(X.buffer.push(ao),X.length+=X.objectMode?1:ao.length)}X.ended=!0,X.sync?a(D):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,b(D)))}}function a(D){var X=D._readableState;Z("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(Z("emitReadable",X.flowing),X.emittedReadable=!0,process.nextTick(b,D))}function b(D){var X=D._readableState;Z("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(D.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,co(D)}function S(D,X){X.readingMore||(X.readingMore=!0,process.nextTick(w,D,X))}function w(D,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var ao=X.length;if(Z("maybeReadMore read 0"),D.read(0),ao===X.length)break}X.readingMore=!1}o.prototype._read=function(D){to(this,new z("_read()"))},o.prototype.pipe=function(D,X){var ao=this,wo=this._readableState;switch(wo.pipesCount){case 0:wo.pipes=D;break;case 1:wo.pipes=[wo.pipes,D];break;default:wo.pipes.push(D);break}wo.pipesCount+=1,Z("pipe count=%d opts=%j",wo.pipesCount,X);var zo=(!X||X.end!==!1)&&D!==process.stdout&&D!==process.stderr,Lo=zo?Uo:r;wo.endEmitted?process.nextTick(Lo):ao.once("end",Lo),D.on("unpipe",Ho);function Ho(f,R){Z("onunpipe"),f===ao&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,Ko())}function Uo(){Z("onend"),D.end()}var Po=I(ao);D.on("drain",Po);var Ao=!1;function Ko(){Z("cleanup"),D.removeListener("close",L),D.removeListener("finish",e),D.removeListener("drain",Po),D.removeListener("error",da),D.removeListener("unpipe",Ho),ao.removeListener("end",Uo),ao.removeListener("end",r),ao.removeListener("data",go),Ao=!0,wo.awaitDrain&&(!D._writableState||D._writableState.needDrain)&&Po()}ao.on("data",go);function go(f){Z("ondata");var R=D.write(f);Z("dest.write",R),R===!1&&((wo.pipesCount===1&&wo.pipes===D||wo.pipesCount>1&&So(wo.pipes,D)!==-1)&&!Ao&&(Z("false write response, pause",wo.awaitDrain),wo.awaitDrain++),ao.pause())}function da(f){Z("onerror",f),r(),D.removeListener("error",da),_(D,"error")===0&&to(D,f)}uo(D,"error",da);function L(){D.removeListener("finish",e),r()}D.once("close",L);function e(){Z("onfinish"),D.removeListener("close",L),r()}D.once("finish",e);function r(){Z("unpipe"),ao.unpipe(D)}return D.emit("pipe",ao),wo.flowing||(Z("pipe resume"),ao.resume()),D};function I(D){return function(){var X=D._readableState;Z("pipeOnDrain",X.awaitDrain),X.awaitDrain&&X.awaitDrain--,X.awaitDrain===0&&_(D,"data")&&(X.flowing=!0,co(D))}}o.prototype.unpipe=function(D){var X=this._readableState,ao={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return D&&D!==X.pipes?this:(D||(D=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,D&&D.emit("unpipe",this,ao),this);if(!D){var{pipes:wo,pipesCount:zo}=X;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var Lo=0;Lo<zo;Lo++)wo[Lo].emit("unpipe",this,{hasUnpiped:!1});return this}var Ho=So(X.pipes,D);return Ho===-1?this:(X.pipes.splice(Ho,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),D.emit("unpipe",this,ao),this)},o.prototype.on=function(D,X){var ao=T.prototype.on.call(this,D,X),wo=this._readableState;return D==="data"?(wo.readableListening=this.listenerCount("readable")>0,wo.flowing!==!1&&this.resume()):D==="readable"&&!wo.endEmitted&&!wo.readableListening&&(wo.readableListening=wo.needReadable=!0,wo.flowing=!1,wo.emittedReadable=!1,Z("on readable",wo.length,wo.reading),wo.length?a(this):wo.reading||process.nextTick(ko,this)),ao},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(D,X){var ao=T.prototype.removeListener.call(this,D,X);return D==="readable"&&process.nextTick(No,this),ao},o.prototype.removeAllListeners=function(D){var X=T.prototype.removeAllListeners.apply(this,arguments);return(D==="readable"||D===void 0)&&process.nextTick(No,this),X};function No(D){var X=D._readableState;X.readableListening=D.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:D.listenerCount("data")>0&&D.resume()}function ko(D){Z("readable nexttick read 0"),D.read(0)}o.prototype.resume=function(){var D=this._readableState;return D.flowing||(Z("resume"),D.flowing=!D.readableListening,xo(this,D)),D.paused=!1,this};function xo(D,X){X.resumeScheduled||(X.resumeScheduled=!0,process.nextTick(bo,D,X))}function bo(D,X){Z("resume",X.reading),X.reading||D.read(0),X.resumeScheduled=!1,D.emit("resume"),co(D),X.flowing&&!X.reading&&D.read(0)}o.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function co(D){var X=D._readableState;for(Z("flow",X.flowing);X.flowing&&D.read()!==null;);}o.prototype.wrap=function(D){var X=this,ao=this._readableState,wo=!1;D.on("end",function(){if(Z("wrapped end"),ao.decoder&&!ao.ended){var Ho=ao.decoder.end();Ho&&Ho.length&&X.push(Ho)}X.push(null)}),D.on("data",function(Ho){if(Z("wrapped data"),ao.decoder&&(Ho=ao.decoder.write(Ho)),!(ao.objectMode&&Ho==null)&&!(!ao.objectMode&&(!Ho||!Ho.length))){var Uo=X.push(Ho);Uo||(wo=!0,D.pause())}});for(var zo in D)this[zo]===void 0&&typeof D[zo]=="function"&&(this[zo]=function(Ho){return function(){return D[Ho].apply(D,arguments)}}(zo));for(var Lo=0;Lo<Mo.length;Lo++)D.on(Mo[Lo],this.emit.bind(this,Mo[Lo]));return this._read=function(Ho){Z("wrapped _read",Ho),wo&&(wo=!1,D.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=ni()),C(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),o._fromList=fo,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fo(D,X){if(X.length===0)return null;var ao;return X.objectMode?ao=X.buffer.shift():!D||D>=X.length?(X.decoder?ao=X.buffer.join(""):X.buffer.length===1?ao=X.buffer.first():ao=X.buffer.concat(X.length),X.buffer.clear()):ao=X.buffer.consume(D,X.decoder),ao}function Xo(D){var X=D._readableState;Z("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,process.nextTick($o,X,D))}function $o(D,X){if(Z("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,X.readable=!1,X.emit("end"),D.autoDestroy)){var ao=X._writableState;(!ao||ao.autoDestroy&&ao.finished)&&X.destroy()}}typeof Symbol=="function"&&(o.from=function(D,X){return mo===void 0&&(mo=li()),mo(o,D,X)});function So(D,X){for(var ao=0,wo=D.length;ao<wo;ao++)if(D[ao]===X)return ao;return-1}}),Ks=Jo((s,d)=>{d.exports=y;var i=He().codes,h=i.ERR_METHOD_NOT_IMPLEMENTED,_=i.ERR_MULTIPLE_CALLBACK,T=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=i.ERR_TRANSFORM_WITH_LENGTH_0,v=Ye();pa()(y,v);function W($,V){var x=this._transformState;x.transforming=!1;var q=x.writecb;if(q===null)return this.emit("error",new _);x.writechunk=null,x.writecb=null,V!=null&&this.push(V),q($);var F=this._readableState;F.reading=!1,(F.needReadable||F.length<F.highWaterMark)&&this._read(F.highWaterMark)}function y($){if(!(this instanceof y))return new y($);v.call(this,$),this._transformState={afterTransform:W.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,$&&(typeof $.transform=="function"&&(this._transform=$.transform),typeof $.flush=="function"&&(this._flush=$.flush)),this.on("prefinish",k)}function k(){var $=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(V,x){Z($,V,x)}):Z(this,null,null)}y.prototype.push=function($,V){return this._transformState.needTransform=!1,v.prototype.push.call(this,$,V)},y.prototype._transform=function($,V,x){x(new h("_transform()"))},y.prototype._write=function($,V,x){var q=this._transformState;if(q.writecb=x,q.writechunk=$,q.writeencoding=V,!q.transforming){var F=this._readableState;(q.needTransform||F.needReadable||F.length<F.highWaterMark)&&this._read(F.highWaterMark)}},y.prototype._read=function($){var V=this._transformState;V.writechunk!==null&&!V.transforming?(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform)):V.needTransform=!0},y.prototype._destroy=function($,V){v.prototype._destroy.call(this,$,function(x){V(x)})};function Z($,V,x){if(V)return $.emit("error",V);if(x!=null&&$.push(x),$._writableState.length)throw new u;if($._transformState.transforming)throw new T;return $.push(null)}}),si=Jo((s,d)=>{d.exports=h;var i=Ks();pa()(h,i);function h(_){if(!(this instanceof h))return new h(_);i.call(this,_)}h.prototype._transform=function(_,T,u){u(null,_)}}),ri=Jo((s,d)=>{var i;function h(x){var q=!1;return function(){q||(q=!0,x.apply(void 0,arguments))}}var _=He().codes,T=_.ERR_MISSING_ARGS,u=_.ERR_STREAM_DESTROYED;function v(x){if(x)throw x}function W(x){return x.setHeader&&typeof x.abort=="function"}function y(x,q,F,g){g=h(g);var E=!1;x.on("close",function(){E=!0}),i===void 0&&(i=gl()),i(x,{readable:q,writable:F},function(K){if(K)return g(K);E=!0,g()});var z=!1;return function(K){if(!E&&!z){if(z=!0,W(x))return x.abort();if(typeof x.destroy=="function")return x.destroy();g(K||new u("pipe"))}}}function k(x){x()}function Z(x,q){return x.pipe(q)}function $(x){return!x.length||typeof x[x.length-1]!="function"?v:x.pop()}function V(){for(var x=arguments.length,q=new Array(x),F=0;F<x;F++)q[F]=arguments[F];var g=$(q);if(Array.isArray(q[0])&&(q=q[0]),q.length<2)throw new T("streams");var E,z=q.map(function(K,Y){var C=Y<q.length-1,mo=Y>0;return y(K,C,mo,function(to){E||(E=to),to&&z.forEach(k),!C&&(z.forEach(k),g(E))})});return q.reduce(Z)}d.exports=V}),ci=Jo((s,d)=>{s=d.exports=Ps(),s.Stream=s,s.Readable=s,s.Writable=js(),s.Duplex=Ye(),s.Transform=Ks(),s.PassThrough=si(),s.finished=gl(),s.pipeline=ri()}),Is=Jo((s,d)=>{var i=ta().Buffer,h=ci().Transform,_=pa();function T(v,W){if(!i.isBuffer(v)&&typeof v!="string")throw new TypeError(W+" must be a string or a buffer")}function u(v){h.call(this),this._block=i.allocUnsafe(v),this._blockSize=v,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}_(u,h),u.prototype._transform=function(v,W,y){var k=null;try{this.update(v,W)}catch(Z){k=Z}y(k)},u.prototype._flush=function(v){var W=null;try{this.push(this.digest())}catch(y){W=y}v(W)},u.prototype.update=function(v,W){if(T(v,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(v)||(v=i.from(v,W));for(var y=this._block,k=0;this._blockOffset+v.length-k>=this._blockSize;){for(var Z=this._blockOffset;Z<this._blockSize;)y[Z++]=v[k++];this._update(),this._blockOffset=0}for(;k<v.length;)y[this._blockOffset++]=v[k++];for(var $=0,V=v.length*8;V>0;++$)this._length[$]+=V,V=this._length[$]/4294967296|0,V>0&&(this._length[$]-=4294967296*V);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(v){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var W=this._digest();v!==void 0&&(W=W.toString(v)),this._block.fill(0),this._blockOffset=0;for(var y=0;y<4;++y)this._length[y]=0;return W},u.prototype._digest=function(){throw new Error("_digest is not implemented")},d.exports=u}),Ul=Jo((s,d)=>{var i=pa(),h=Is(),_=ta().Buffer,T=new Array(16);function u(){h.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}i(u,h),u.prototype._update=function(){for(var $=T,V=0;V<16;++V)$[V]=this._block.readInt32LE(V*4);var x=this._a,q=this._b,F=this._c,g=this._d;x=W(x,q,F,g,$[0],3614090360,7),g=W(g,x,q,F,$[1],3905402710,12),F=W(F,g,x,q,$[2],606105819,17),q=W(q,F,g,x,$[3],3250441966,22),x=W(x,q,F,g,$[4],4118548399,7),g=W(g,x,q,F,$[5],1200080426,12),F=W(F,g,x,q,$[6],2821735955,17),q=W(q,F,g,x,$[7],4249261313,22),x=W(x,q,F,g,$[8],1770035416,7),g=W(g,x,q,F,$[9],2336552879,12),F=W(F,g,x,q,$[10],4294925233,17),q=W(q,F,g,x,$[11],2304563134,22),x=W(x,q,F,g,$[12],1804603682,7),g=W(g,x,q,F,$[13],4254626195,12),F=W(F,g,x,q,$[14],2792965006,17),q=W(q,F,g,x,$[15],1236535329,22),x=y(x,q,F,g,$[1],4129170786,5),g=y(g,x,q,F,$[6],3225465664,9),F=y(F,g,x,q,$[11],643717713,14),q=y(q,F,g,x,$[0],3921069994,20),x=y(x,q,F,g,$[5],3593408605,5),g=y(g,x,q,F,$[10],38016083,9),F=y(F,g,x,q,$[15],3634488961,14),q=y(q,F,g,x,$[4],3889429448,20),x=y(x,q,F,g,$[9],568446438,5),g=y(g,x,q,F,$[14],3275163606,9),F=y(F,g,x,q,$[3],4107603335,14),q=y(q,F,g,x,$[8],1163531501,20),x=y(x,q,F,g,$[13],2850285829,5),g=y(g,x,q,F,$[2],4243563512,9),F=y(F,g,x,q,$[7],1735328473,14),q=y(q,F,g,x,$[12],2368359562,20),x=k(x,q,F,g,$[5],4294588738,4),g=k(g,x,q,F,$[8],2272392833,11),F=k(F,g,x,q,$[11],1839030562,16),q=k(q,F,g,x,$[14],4259657740,23),x=k(x,q,F,g,$[1],2763975236,4),g=k(g,x,q,F,$[4],1272893353,11),F=k(F,g,x,q,$[7],4139469664,16),q=k(q,F,g,x,$[10],3200236656,23),x=k(x,q,F,g,$[13],681279174,4),g=k(g,x,q,F,$[0],3936430074,11),F=k(F,g,x,q,$[3],3572445317,16),q=k(q,F,g,x,$[6],76029189,23),x=k(x,q,F,g,$[9],3654602809,4),g=k(g,x,q,F,$[12],3873151461,11),F=k(F,g,x,q,$[15],530742520,16),q=k(q,F,g,x,$[2],3299628645,23),x=Z(x,q,F,g,$[0],4096336452,6),g=Z(g,x,q,F,$[7],1126891415,10),F=Z(F,g,x,q,$[14],2878612391,15),q=Z(q,F,g,x,$[5],4237533241,21),x=Z(x,q,F,g,$[12],1700485571,6),g=Z(g,x,q,F,$[3],2399980690,10),F=Z(F,g,x,q,$[10],4293915773,15),q=Z(q,F,g,x,$[1],2240044497,21),x=Z(x,q,F,g,$[8],1873313359,6),g=Z(g,x,q,F,$[15],4264355552,10),F=Z(F,g,x,q,$[6],2734768916,15),q=Z(q,F,g,x,$[13],1309151649,21),x=Z(x,q,F,g,$[4],4149444226,6),g=Z(g,x,q,F,$[11],3174756917,10),F=Z(F,g,x,q,$[2],718787259,15),q=Z(q,F,g,x,$[9],3951481745,21),this._a=this._a+x|0,this._b=this._b+q|0,this._c=this._c+F|0,this._d=this._d+g|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var $=_.allocUnsafe(16);return $.writeInt32LE(this._a,0),$.writeInt32LE(this._b,4),$.writeInt32LE(this._c,8),$.writeInt32LE(this._d,12),$};function v($,V){return $<<V|$>>>32-V}function W($,V,x,q,F,g,E){return v($+(V&x|~V&q)+F+g|0,E)+V|0}function y($,V,x,q,F,g,E){return v($+(V&q|x&~q)+F+g|0,E)+V|0}function k($,V,x,q,F,g,E){return v($+(V^x^q)+F+g|0,E)+V|0}function Z($,V,x,q,F,g,E){return v($+(x^(V|~q))+F+g|0,E)+V|0}d.exports=u}),El=Jo((s,d)=>{var i=wa().Buffer,h=pa(),_=Is(),T=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],W=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],k=[0,1518500249,1859775393,2400959708,2840853838],Z=[1352829926,1548603684,1836072691,2053994217,0];function $(){_.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}h($,_),$.prototype._update=function(){for(var z=T,K=0;K<16;++K)z[K]=this._block.readInt32LE(K*4);for(var Y=this._a|0,C=this._b|0,mo=this._c|0,to=this._d|0,Mo=this._e|0,uo=this._a|0,Vo=this._b|0,o=this._c|0,n=this._d|0,c=this._e|0,l=0;l<80;l+=1){var m,t;l<16?(m=x(Y,C,mo,to,Mo,z[u[l]],k[0],W[l]),t=E(uo,Vo,o,n,c,z[v[l]],Z[0],y[l])):l<32?(m=q(Y,C,mo,to,Mo,z[u[l]],k[1],W[l]),t=g(uo,Vo,o,n,c,z[v[l]],Z[1],y[l])):l<48?(m=F(Y,C,mo,to,Mo,z[u[l]],k[2],W[l]),t=F(uo,Vo,o,n,c,z[v[l]],Z[2],y[l])):l<64?(m=g(Y,C,mo,to,Mo,z[u[l]],k[3],W[l]),t=q(uo,Vo,o,n,c,z[v[l]],Z[3],y[l])):(m=E(Y,C,mo,to,Mo,z[u[l]],k[4],W[l]),t=x(uo,Vo,o,n,c,z[v[l]],Z[4],y[l])),Y=Mo,Mo=to,to=V(mo,10),mo=C,C=m,uo=c,c=n,n=V(o,10),o=Vo,Vo=t}var N=this._b+mo+n|0;this._b=this._c+to+c|0,this._c=this._d+Mo+uo|0,this._d=this._e+Y+Vo|0,this._e=this._a+C+o|0,this._a=N},$.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var z=i.alloc?i.alloc(20):new i(20);return z.writeInt32LE(this._a,0),z.writeInt32LE(this._b,4),z.writeInt32LE(this._c,8),z.writeInt32LE(this._d,12),z.writeInt32LE(this._e,16),z};function V(z,K){return z<<K|z>>>32-K}function x(z,K,Y,C,mo,to,Mo,uo){return V(z+(K^Y^C)+to+Mo|0,uo)+mo|0}function q(z,K,Y,C,mo,to,Mo,uo){return V(z+(K&Y|~K&C)+to+Mo|0,uo)+mo|0}function F(z,K,Y,C,mo,to,Mo,uo){return V(z+((K|~Y)^C)+to+Mo|0,uo)+mo|0}function g(z,K,Y,C,mo,to,Mo,uo){return V(z+(K&C|Y&~C)+to+Mo|0,uo)+mo|0}function E(z,K,Y,C,mo,to,Mo,uo){return V(z+(K^(Y|~C))+to+Mo|0,uo)+mo|0}d.exports=$}),Be=Jo((s,d)=>{var i=ta().Buffer;function h(_,T){this._block=i.alloc(_),this._finalSize=T,this._blockSize=_,this._len=0}h.prototype.update=function(_,T){typeof _=="string"&&(T=T||"utf8",_=i.from(_,T));for(var u=this._block,v=this._blockSize,W=_.length,y=this._len,k=0;k<W;){for(var Z=y%v,$=Math.min(W-k,v-Z),V=0;V<$;V++)u[Z+V]=_[k+V];y+=$,k+=$,y%v===0&&this._update(u)}return this._len+=W,this},h.prototype.digest=function(_){var T=this._len%this._blockSize;this._block[T]=128,this._block.fill(0,T+1),T>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=this._len*8;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var v=(u&4294967295)>>>0,W=(u-v)/4294967296;this._block.writeUInt32BE(W,this._blockSize-8),this._block.writeUInt32BE(v,this._blockSize-4)}this._update(this._block);var y=this._hash();return _?y.toString(_):y},h.prototype._update=function(){throw new Error("_update must be implemented by subclass")},d.exports=h}),ii=Jo((s,d)=>{var i=pa(),h=Be(),_=ta().Buffer,T=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function v(){this.init(),this._w=u,h.call(this,64,56)}i(v,h),v.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function W(Z){return Z<<5|Z>>>27}function y(Z){return Z<<30|Z>>>2}function k(Z,$,V,x){return Z===0?$&V|~$&x:Z===2?$&V|$&x|V&x:$^V^x}v.prototype._update=function(Z){for(var $=this._w,V=this._a|0,x=this._b|0,q=this._c|0,F=this._d|0,g=this._e|0,E=0;E<16;++E)$[E]=Z.readInt32BE(E*4);for(;E<80;++E)$[E]=$[E-3]^$[E-8]^$[E-14]^$[E-16];for(var z=0;z<80;++z){var K=~~(z/20),Y=W(V)+k(K,x,q,F)+g+$[z]+T[K]|0;g=F,F=q,q=y(x),x=V,V=Y}this._a=V+this._a|0,this._b=x+this._b|0,this._c=q+this._c|0,this._d=F+this._d|0,this._e=g+this._e|0},v.prototype._hash=function(){var Z=_.allocUnsafe(20);return Z.writeInt32BE(this._a|0,0),Z.writeInt32BE(this._b|0,4),Z.writeInt32BE(this._c|0,8),Z.writeInt32BE(this._d|0,12),Z.writeInt32BE(this._e|0,16),Z},d.exports=v}),ui=Jo((s,d)=>{var i=pa(),h=Be(),_=ta().Buffer,T=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function v(){this.init(),this._w=u,h.call(this,64,56)}i(v,h),v.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function W($){return $<<1|$>>>31}function y($){return $<<5|$>>>27}function k($){return $<<30|$>>>2}function Z($,V,x,q){return $===0?V&x|~V&q:$===2?V&x|V&q|x&q:V^x^q}v.prototype._update=function($){for(var V=this._w,x=this._a|0,q=this._b|0,F=this._c|0,g=this._d|0,E=this._e|0,z=0;z<16;++z)V[z]=$.readInt32BE(z*4);for(;z<80;++z)V[z]=W(V[z-3]^V[z-8]^V[z-14]^V[z-16]);for(var K=0;K<80;++K){var Y=~~(K/20),C=y(x)+Z(Y,q,F,g)+E+V[K]+T[Y]|0;E=g,g=F,F=k(q),q=x,x=C}this._a=x+this._a|0,this._b=q+this._b|0,this._c=F+this._c|0,this._d=g+this._d|0,this._e=E+this._e|0},v.prototype._hash=function(){var $=_.allocUnsafe(20);return $.writeInt32BE(this._a|0,0),$.writeInt32BE(this._b|0,4),$.writeInt32BE(this._c|0,8),$.writeInt32BE(this._d|0,12),$.writeInt32BE(this._e|0,16),$},d.exports=v}),Gs=Jo((s,d)=>{var i=pa(),h=Be(),_=ta().Buffer,T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function v(){this.init(),this._w=u,h.call(this,64,56)}i(v,h),v.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function W(x,q,F){return F^x&(q^F)}function y(x,q,F){return x&q|F&(x|q)}function k(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function Z(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function $(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function V(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}v.prototype._update=function(x){for(var q=this._w,F=this._a|0,g=this._b|0,E=this._c|0,z=this._d|0,K=this._e|0,Y=this._f|0,C=this._g|0,mo=this._h|0,to=0;to<16;++to)q[to]=x.readInt32BE(to*4);for(;to<64;++to)q[to]=V(q[to-2])+q[to-7]+$(q[to-15])+q[to-16]|0;for(var Mo=0;Mo<64;++Mo){var uo=mo+Z(K)+W(K,Y,C)+T[Mo]+q[Mo]|0,Vo=k(F)+y(F,g,E)|0;mo=C,C=Y,Y=K,K=z+uo|0,z=E,E=g,g=F,F=uo+Vo|0}this._a=F+this._a|0,this._b=g+this._b|0,this._c=E+this._c|0,this._d=z+this._d|0,this._e=K+this._e|0,this._f=Y+this._f|0,this._g=C+this._g|0,this._h=mo+this._h|0},v.prototype._hash=function(){var x=_.allocUnsafe(32);return x.writeInt32BE(this._a,0),x.writeInt32BE(this._b,4),x.writeInt32BE(this._c,8),x.writeInt32BE(this._d,12),x.writeInt32BE(this._e,16),x.writeInt32BE(this._f,20),x.writeInt32BE(this._g,24),x.writeInt32BE(this._h,28),x},d.exports=v}),mi=Jo((s,d)=>{var i=pa(),h=Gs(),_=Be(),T=ta().Buffer,u=new Array(64);function v(){this.init(),this._w=u,_.call(this,64,56)}i(v,h),v.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},v.prototype._hash=function(){var W=T.allocUnsafe(28);return W.writeInt32BE(this._a,0),W.writeInt32BE(this._b,4),W.writeInt32BE(this._c,8),W.writeInt32BE(this._d,12),W.writeInt32BE(this._e,16),W.writeInt32BE(this._f,20),W.writeInt32BE(this._g,24),W},d.exports=v}),Ds=Jo((s,d)=>{var i=pa(),h=Be(),_=ta().Buffer,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function v(){this.init(),this._w=u,h.call(this,128,112)}i(v,h),v.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function W(g,E,z){return z^g&(E^z)}function y(g,E,z){return g&E|z&(g|E)}function k(g,E){return(g>>>28|E<<4)^(E>>>2|g<<30)^(E>>>7|g<<25)}function Z(g,E){return(g>>>14|E<<18)^(g>>>18|E<<14)^(E>>>9|g<<23)}function $(g,E){return(g>>>1|E<<31)^(g>>>8|E<<24)^g>>>7}function V(g,E){return(g>>>1|E<<31)^(g>>>8|E<<24)^(g>>>7|E<<25)}function x(g,E){return(g>>>19|E<<13)^(E>>>29|g<<3)^g>>>6}function q(g,E){return(g>>>19|E<<13)^(E>>>29|g<<3)^(g>>>6|E<<26)}function F(g,E){return g>>>0<E>>>0?1:0}v.prototype._update=function(g){for(var E=this._w,z=this._ah|0,K=this._bh|0,Y=this._ch|0,C=this._dh|0,mo=this._eh|0,to=this._fh|0,Mo=this._gh|0,uo=this._hh|0,Vo=this._al|0,o=this._bl|0,n=this._cl|0,c=this._dl|0,l=this._el|0,m=this._fl|0,t=this._gl|0,N=this._hl|0,p=0;p<32;p+=2)E[p]=g.readInt32BE(p*4),E[p+1]=g.readInt32BE(p*4+4);for(;p<160;p+=2){var a=E[p-30],b=E[p-30+1],S=$(a,b),w=V(b,a);a=E[p-4],b=E[p-4+1];var I=x(a,b),No=q(b,a),ko=E[p-14],xo=E[p-14+1],bo=E[p-32],co=E[p-32+1],fo=w+xo|0,Xo=S+ko+F(fo,w)|0;fo=fo+No|0,Xo=Xo+I+F(fo,No)|0,fo=fo+co|0,Xo=Xo+bo+F(fo,co)|0,E[p]=Xo,E[p+1]=fo}for(var $o=0;$o<160;$o+=2){Xo=E[$o],fo=E[$o+1];var So=y(z,K,Y),D=y(Vo,o,n),X=k(z,Vo),ao=k(Vo,z),wo=Z(mo,l),zo=Z(l,mo),Lo=T[$o],Ho=T[$o+1],Uo=W(mo,to,Mo),Po=W(l,m,t),Ao=N+zo|0,Ko=uo+wo+F(Ao,N)|0;Ao=Ao+Po|0,Ko=Ko+Uo+F(Ao,Po)|0,Ao=Ao+Ho|0,Ko=Ko+Lo+F(Ao,Ho)|0,Ao=Ao+fo|0,Ko=Ko+Xo+F(Ao,fo)|0;var go=ao+D|0,da=X+So+F(go,ao)|0;uo=Mo,N=t,Mo=to,t=m,to=mo,m=l,l=c+Ao|0,mo=C+Ko+F(l,c)|0,C=Y,c=n,Y=K,n=o,K=z,o=Vo,Vo=Ao+go|0,z=Ko+da+F(Vo,Ao)|0}this._al=this._al+Vo|0,this._bl=this._bl+o|0,this._cl=this._cl+n|0,this._dl=this._dl+c|0,this._el=this._el+l|0,this._fl=this._fl+m|0,this._gl=this._gl+t|0,this._hl=this._hl+N|0,this._ah=this._ah+z+F(this._al,Vo)|0,this._bh=this._bh+K+F(this._bl,o)|0,this._ch=this._ch+Y+F(this._cl,n)|0,this._dh=this._dh+C+F(this._dl,c)|0,this._eh=this._eh+mo+F(this._el,l)|0,this._fh=this._fh+to+F(this._fl,m)|0,this._gh=this._gh+Mo+F(this._gl,t)|0,this._hh=this._hh+uo+F(this._hl,N)|0},v.prototype._hash=function(){var g=_.allocUnsafe(64);function E(z,K,Y){g.writeInt32BE(z,Y),g.writeInt32BE(K,Y+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),g},d.exports=v}),bi=Jo((s,d)=>{var i=pa(),h=Ds(),_=Be(),T=ta().Buffer,u=new Array(160);function v(){this.init(),this._w=u,_.call(this,128,112)}i(v,h),v.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},v.prototype._hash=function(){var W=T.allocUnsafe(48);function y(k,Z,$){W.writeInt32BE(k,$),W.writeInt32BE(Z,$+4)}return y(this._ah,this._al,0),y(this._bh,this._bl,8),y(this._ch,this._cl,16),y(this._dh,this._dl,24),y(this._eh,this._el,32),y(this._fh,this._fl,40),W},d.exports=v}),jl=Jo((i,d)=>{var i=d.exports=function(h){h=h.toLowerCase();var _=i[h];if(!_)throw new Error(h+" is not supported (we accept pull requests)");return new _};i.sha=ii(),i.sha1=ui(),i.sha224=mi(),i.sha256=Gs(),i.sha384=bi(),i.sha512=Ds()}),$a=Jo((s,d)=>{d.exports={ArrayIsArray(i){return Array.isArray(i)},ArrayPrototypeIncludes(i,h){return i.includes(h)},ArrayPrototypeIndexOf(i,h){return i.indexOf(h)},ArrayPrototypeJoin(i,h){return i.join(h)},ArrayPrototypeMap(i,h){return i.map(h)},ArrayPrototypePop(i,h){return i.pop(h)},ArrayPrototypePush(i,h){return i.push(h)},ArrayPrototypeSlice(i,h,_){return i.slice(h,_)},Error,FunctionPrototypeCall(i,h,..._){return i.call(h,..._)},FunctionPrototypeSymbolHasInstance(i,h){return Function.prototype[Symbol.hasInstance].call(i,h)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(i,h){return Object.defineProperties(i,h)},ObjectDefineProperty(i,h,_){return Object.defineProperty(i,h,_)},ObjectGetOwnPropertyDescriptor(i,h){return Object.getOwnPropertyDescriptor(i,h)},ObjectKeys(i){return Object.keys(i)},ObjectSetPrototypeOf(i,h){return Object.setPrototypeOf(i,h)},Promise,PromisePrototypeCatch(i,h){return i.catch(h)},PromisePrototypeThen(i,h,_){return i.then(h,_)},PromiseReject(i){return Promise.reject(i)},ReflectApply:Reflect.apply,RegExpPrototypeTest(i,h){return i.test(h)},SafeSet:Set,String,StringPrototypeSlice(i,h,_){return i.slice(h,_)},StringPrototypeToLowerCase(i){return i.toLowerCase()},StringPrototypeToUpperCase(i){return i.toUpperCase()},StringPrototypeTrim(i){return i.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(i,h,_){return i.set(h,_)},Uint8Array}}),ne=Jo((s,d)=>{var i=wa(),h=Object.getPrototypeOf(async function(){}).constructor,_=globalThis.Blob||i.Blob,T=typeof _<"u"?function(v){return v instanceof _}:function(v){return!1},u=class extends Error{constructor(v){if(!Array.isArray(v))throw new TypeError(`Expected input to be an Array, got ${typeof v}`);let W="";for(let y=0;y<v.length;y++)W+=`    ${v[y].stack}
`;super(W),this.name="AggregateError",this.errors=v}};d.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(v){let W=!1;return function(...y){W||(W=!0,v.apply(this,y))}},createDeferredPromise:function(){let v,W;return{promise:new Promise((y,k)=>{v=y,W=k}),resolve:v,reject:W}},promisify(v){return new Promise((W,y)=>{v((k,...Z)=>k?y(k):W(...Z))})},debuglog(){return function(){}},format(v,...W){return v.replace(/%([sdifj])/g,function(...[y,k]){let Z=W.shift();return k==="f"?Z.toFixed(6):k==="j"?JSON.stringify(Z):k==="s"&&typeof Z=="object"?`${Z.constructor!==Object?Z.constructor.name:""} {}`.trim():Z.toString()})},inspect(v){switch(typeof v){case"string":if(v.includes("'"))if(v.includes('"')){if(!v.includes("`")&&!v.includes("${"))return`\`${v}\``}else return`"${v}"`;return`'${v}'`;case"number":return isNaN(v)?"NaN":Object.is(v,-0)?String(v):v;case"bigint":return`${String(v)}n`;case"boolean":case"undefined":return String(v);case"object":return"{}"}},types:{isAsyncFunction(v){return v instanceof h},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:T},d.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Jl=Jo((s,d)=>{var{AbortController:i,AbortSignal:h}=typeof self<"u"?self:typeof window<"u"?window:void 0;d.exports=i,d.exports.AbortSignal=h,d.exports.default=i}),Sa=Jo((s,d)=>{var{format:i,inspect:h,AggregateError:_}=ne(),T=globalThis.AggregateError||_,u=Symbol("kIsNodeError"),v=["string","function","number","object","Function","Object","boolean","bigint","symbol"],W=/^([A-Z][a-z0-9]*)+$/,y="__node_internal_",k={};function Z(E,z){if(!E)throw new k.ERR_INTERNAL_ASSERTION(z)}function $(E){let z="",K=E.length,Y=E[0]==="-"?1:0;for(;K>=Y+4;K-=3)z=`_${E.slice(K-3,K)}${z}`;return`${E.slice(0,K)}${z}`}function V(E,z,K){if(typeof z=="function")return Z(z.length<=K.length,`Code: ${E}; The provided arguments length (${K.length}) does not match the required ones (${z.length}).`),z(...K);let Y=(z.match(/%[dfijoOs]/g)||[]).length;return Z(Y===K.length,`Code: ${E}; The provided arguments length (${K.length}) does not match the required ones (${Y}).`),K.length===0?z:i(z,...K)}function x(E,z,K){K||(K=Error);class Y extends K{constructor(...C){super(V(E,z,C))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(Y.prototype,{name:{value:K.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),Y.prototype.code=E,Y.prototype[u]=!0,k[E]=Y}function q(E){let z=y+E.name;return Object.defineProperty(E,"name",{value:z}),E}function F(E,z){if(E&&z&&E!==z){if(Array.isArray(z.errors))return z.errors.push(E),z;let K=new T([z,E],z.message);return K.code=z.code,K}return E||z}var g=class extends Error{constructor(E="The operation was aborted",z=void 0){if(z!==void 0&&typeof z!="object")throw new k.ERR_INVALID_ARG_TYPE("options","Object",z);super(E,z),this.code="ABORT_ERR",this.name="AbortError"}};x("ERR_ASSERTION","%s",Error),x("ERR_INVALID_ARG_TYPE",(E,z,K)=>{Z(typeof E=="string","'name' must be a string"),Array.isArray(z)||(z=[z]);let Y="The ";E.endsWith(" argument")?Y+=`${E} `:Y+=`"${E}" ${E.includes(".")?"property":"argument"} `,Y+="must be ";let C=[],mo=[],to=[];for(let uo of z)Z(typeof uo=="string","All expected entries have to be of type string"),v.includes(uo)?C.push(uo.toLowerCase()):W.test(uo)?mo.push(uo):(Z(uo!=="object",'The value "object" should be written as "Object"'),to.push(uo));if(mo.length>0){let uo=C.indexOf("object");uo!==-1&&(C.splice(C,uo,1),mo.push("Object"))}if(C.length>0){switch(C.length){case 1:Y+=`of type ${C[0]}`;break;case 2:Y+=`one of type ${C[0]} or ${C[1]}`;break;default:{let uo=C.pop();Y+=`one of type ${C.join(", ")}, or ${uo}`}}(mo.length>0||to.length>0)&&(Y+=" or ")}if(mo.length>0){switch(mo.length){case 1:Y+=`an instance of ${mo[0]}`;break;case 2:Y+=`an instance of ${mo[0]} or ${mo[1]}`;break;default:{let uo=mo.pop();Y+=`an instance of ${mo.join(", ")}, or ${uo}`}}to.length>0&&(Y+=" or ")}switch(to.length){case 0:break;case 1:to[0].toLowerCase()!==to[0]&&(Y+="an "),Y+=`${to[0]}`;break;case 2:Y+=`one of ${to[0]} or ${to[1]}`;break;default:{let uo=to.pop();Y+=`one of ${to.join(", ")}, or ${uo}`}}if(K==null)Y+=`. Received ${K}`;else if(typeof K=="function"&&K.name)Y+=`. Received function ${K.name}`;else if(typeof K=="object"){var Mo;(Mo=K.constructor)!==null&&Mo!==void 0&&Mo.name?Y+=`. Received an instance of ${K.constructor.name}`:Y+=`. Received ${h(K,{depth:-1})}`}else{let uo=h(K,{colors:!1});uo.length>25&&(uo=`${uo.slice(0,25)}...`),Y+=`. Received type ${typeof K} (${uo})`}return Y},TypeError),x("ERR_INVALID_ARG_VALUE",(E,z,K="is invalid")=>{let Y=h(z);return Y.length>128&&(Y=Y.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${K}. Received ${Y}`},TypeError),x("ERR_INVALID_RETURN_VALUE",(E,z,K)=>{var Y;let C=K!=null&&(Y=K.constructor)!==null&&Y!==void 0&&Y.name?`instance of ${K.constructor.name}`:`type ${typeof K}`;return`Expected ${E} to be returned from the "${z}" function but got ${C}.`},TypeError),x("ERR_MISSING_ARGS",(...E)=>{Z(E.length>0,"At least one arg needs to be specified");let z,K=E.length;switch(E=(Array.isArray(E)?E:[E]).map((Y)=>`"${Y}"`).join(" or "),K){case 1:z+=`The ${E[0]} argument`;break;case 2:z+=`The ${E[0]} and ${E[1]} arguments`;break;default:{let Y=E.pop();z+=`The ${E.join(", ")}, and ${Y} arguments`}break}return`${z} must be specified`},TypeError),x("ERR_OUT_OF_RANGE",(E,z,K)=>{Z(z,'Missing "range" argument');let Y;return Number.isInteger(K)&&Math.abs(K)>4294967296?Y=$(String(K)):typeof K=="bigint"?(Y=String(K),(K>2n**32n||K<-(2n**32n))&&(Y=$(Y)),Y+="n"):Y=h(K),`The value of "${E}" is out of range. It must be ${z}. Received ${Y}`},RangeError),x("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),x("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),x("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),x("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),x("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),x("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),x("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),x("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),x("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),x("ERR_STREAM_WRITE_AFTER_END","write after end",Error),x("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),d.exports={AbortError:g,aggregateTwoErrors:q(F),hideStackFrames:q,codes:k}}),Yn=Jo((s,d)=>{var{ArrayIsArray:i,ArrayPrototypeIncludes:h,ArrayPrototypeJoin:_,ArrayPrototypeMap:T,NumberIsInteger:u,NumberIsNaN:v,NumberMAX_SAFE_INTEGER:W,NumberMIN_SAFE_INTEGER:y,NumberParseInt:k,ObjectPrototypeHasOwnProperty:Z,RegExpPrototypeExec:$,String:V,StringPrototypeToUpperCase:x,StringPrototypeTrim:q}=$a(),{hideStackFrames:F,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:z,ERR_OUT_OF_RANGE:K,ERR_UNKNOWN_SIGNAL:Y}}=Sa(),{normalizeEncoding:C}=ne(),{isAsyncFunction:mo,isArrayBufferView:to}=ne().types,Mo={};function uo(D){return D===(D|0)}function Vo(D){return D===D>>>0}var o=/^[0-7]+$/,n="must be a 32-bit unsigned integer or an octal string";function c(D,X,ao){if(typeof D>"u"&&(D=ao),typeof D=="string"){if($(o,D)===null)throw new z(X,D,n);D=k(D,8)}return t(D,X),D}var l=F((D,X,ao=y,wo=W)=>{if(typeof D!="number")throw new E(X,"number",D);if(!u(D))throw new K(X,"an integer",D);if(D<ao||D>wo)throw new K(X,`>= ${ao} && <= ${wo}`,D)}),m=F((D,X,ao=-2147483648,wo=2147483647)=>{if(typeof D!="number")throw new E(X,"number",D);if(!u(D))throw new K(X,"an integer",D);if(D<ao||D>wo)throw new K(X,`>= ${ao} && <= ${wo}`,D)}),t=F((D,X,ao=!1)=>{if(typeof D!="number")throw new E(X,"number",D);if(!u(D))throw new K(X,"an integer",D);let wo=ao?1:0,zo=4294967295;if(D<wo||D>zo)throw new K(X,`>= ${wo} && <= ${zo}`,D)});function N(D,X){if(typeof D!="string")throw new E(X,"string",D)}function p(D,X,ao=void 0,wo){if(typeof D!="number")throw new E(X,"number",D);if(ao!=null&&D<ao||wo!=null&&D>wo||(ao!=null||wo!=null)&&v(D))throw new K(X,`${ao!=null?`>= ${ao}`:""}${ao!=null&&wo!=null?" && ":""}${wo!=null?`<= ${wo}`:""}`,D)}var a=F((D,X,ao)=>{if(!h(ao,D)){let wo=_(T(ao,(Lo)=>typeof Lo=="string"?`'${Lo}'`:V(Lo)),", "),zo="must be one of: "+wo;throw new z(X,D,zo)}});function b(D,X){if(typeof D!="boolean")throw new E(X,"boolean",D)}function S(D,X,ao){return D==null||!Z(D,X)?ao:D[X]}var w=F((D,X,ao=null)=>{let wo=S(ao,"allowArray",!1),zo=S(ao,"allowFunction",!1);if(!S(ao,"nullable",!1)&&D===null||!wo&&i(D)||typeof D!="object"&&(!zo||typeof D!="function"))throw new E(X,"Object",D)}),I=F((D,X,ao=0)=>{if(!i(D))throw new E(X,"Array",D);if(D.length<ao){let wo=`must be longer than ${ao}`;throw new z(X,D,wo)}});function No(D,X="signal"){if(N(D,X),Mo[D]===void 0)throw Mo[x(D)]!==void 0?new Y(D+" (signals must use all capital letters)"):new Y(D)}var ko=F((D,X="buffer")=>{if(!to(D))throw new E(X,["Buffer","TypedArray","DataView"],D)});function xo(D,X){let ao=C(X),wo=D.length;if(ao==="hex"&&wo%2!==0)throw new z("encoding",X,`is invalid for data of length ${wo}`)}function bo(D,X="Port",ao=!0){if(typeof D!="number"&&typeof D!="string"||typeof D=="string"&&q(D).length===0||+D!==+D>>>0||D>65535||D===0&&!ao)throw new g(X,D,ao);return D|0}var co=F((D,X)=>{if(D!==void 0&&(D===null||typeof D!="object"||!("aborted"in D)))throw new E(X,"AbortSignal",D)}),fo=F((D,X)=>{if(typeof D!="function")throw new E(X,"Function",D)}),Xo=F((D,X)=>{if(typeof D!="function"||mo(D))throw new E(X,"Function",D)}),$o=F((D,X)=>{if(D!==void 0)throw new E(X,"undefined",D)});function So(D,X,ao){if(!h(ao,D))throw new E(X,`('${_(ao,"|")}')`,D)}d.exports={isInt32:uo,isUint32:Vo,parseFileMode:c,validateArray:I,validateBoolean:b,validateBuffer:ko,validateEncoding:xo,validateFunction:fo,validateInt32:m,validateInteger:l,validateNumber:p,validateObject:w,validateOneOf:a,validatePlainFunction:Xo,validatePort:bo,validateSignalName:No,validateString:N,validateUint32:t,validateUndefined:$o,validateUnion:So,validateAbortSignal:co}}),Hs=Jo((s,d)=>{var i=d.exports={},h,_;function T(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?h=setTimeout:h=T}catch{h=T}try{typeof clearTimeout=="function"?_=clearTimeout:_=u}catch{_=u}})();function v(g){if(h===setTimeout)return setTimeout(g,0);if((h===T||!h)&&setTimeout)return h=setTimeout,setTimeout(g,0);try{return h(g,0)}catch{try{return h.call(null,g,0)}catch{return h.call(this,g,0)}}}function W(g){if(_===clearTimeout)return clearTimeout(g);if((_===u||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(g);try{return _(g)}catch{try{return _.call(null,g)}catch{return _.call(this,g)}}}var y=[],k=!1,Z,$=-1;function V(){!k||!Z||(k=!1,Z.length?y=Z.concat(y):$=-1,y.length&&x())}function x(){if(!k){var g=v(V);k=!0;for(var E=y.length;E;){for(Z=y,y=[];++$<E;)Z&&Z[$].run();$=-1,E=y.length}Z=null,k=!1,W(g)}}i.nextTick=function(g){var E=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)E[z-1]=arguments[z];y.push(new q(g,E)),y.length===1&&!k&&v(x)};function q(g,E){this.fun=g,this.array=E}q.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function F(){}i.on=F,i.addListener=F,i.once=F,i.off=F,i.removeListener=F,i.removeAllListeners=F,i.emit=F,i.prependListener=F,i.prependOnceListener=F,i.listeners=function(g){return[]},i.binding=function(g){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(g){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),le={},In(le,{default:()=>pi}),Me=zl(()=>{Sl(le,xe(Hs())),pi=xe(Hs())}),Ve=Jo((s,d)=>{var{Symbol:i,SymbolAsyncIterator:h,SymbolIterator:_}=$a(),T=i("kDestroyed"),u=i("kIsErrored"),v=i("kIsReadable"),W=i("kIsDisturbed");function y(l,m=!1){var t;return!!(l&&typeof l.pipe=="function"&&typeof l.on=="function"&&(!m||typeof l.pause=="function"&&typeof l.resume=="function")&&(!l._writableState||((t=l._readableState)===null||t===void 0?void 0:t.readable)!==!1)&&(!l._writableState||l._readableState))}function k(l){var m;return!!(l&&typeof l.write=="function"&&typeof l.on=="function"&&(!l._readableState||((m=l._writableState)===null||m===void 0?void 0:m.writable)!==!1))}function Z(l){return!!(l&&typeof l.pipe=="function"&&l._readableState&&typeof l.on=="function"&&typeof l.write=="function")}function $(l){return l&&(l._readableState||l._writableState||typeof l.write=="function"&&typeof l.on=="function"||typeof l.pipe=="function"&&typeof l.on=="function")}function V(l,m){return l==null?!1:m===!0?typeof l[h]=="function":m===!1?typeof l[_]=="function":typeof l[h]=="function"||typeof l[_]=="function"}function x(l){if(!$(l))return null;let{_writableState:m,_readableState:t}=l,N=m||t;return!!(l.destroyed||l[T]||N!=null&&N.destroyed)}function q(l){if(!k(l))return null;if(l.writableEnded===!0)return!0;let m=l._writableState;return m!=null&&m.errored?!1:typeof m?.ended!="boolean"?null:m.ended}function F(l,m){if(!k(l))return null;if(l.writableFinished===!0)return!0;let t=l._writableState;return t!=null&&t.errored?!1:typeof t?.finished!="boolean"?null:!!(t.finished||m===!1&&t.ended===!0&&t.length===0)}function g(l){if(!y(l))return null;if(l.readableEnded===!0)return!0;let m=l._readableState;return!m||m.errored?!1:typeof m?.ended!="boolean"?null:m.ended}function E(l,m){if(!y(l))return null;let t=l._readableState;return t!=null&&t.errored?!1:typeof t?.endEmitted!="boolean"?null:!!(t.endEmitted||m===!1&&t.ended===!0&&t.length===0)}function z(l){return l&&l[v]!=null?l[v]:typeof l?.readable!="boolean"?null:x(l)?!1:y(l)&&l.readable&&!E(l)}function K(l){return typeof l?.writable!="boolean"?null:x(l)?!1:k(l)&&l.writable&&!q(l)}function Y(l,m){return $(l)?x(l)?!0:!(m?.readable!==!1&&z(l)||m?.writable!==!1&&K(l)):null}function C(l){var m,t;return $(l)?l.writableErrored?l.writableErrored:(m=(t=l._writableState)===null||t===void 0?void 0:t.errored)!==null&&m!==void 0?m:null:null}function mo(l){var m,t;return $(l)?l.readableErrored?l.readableErrored:(m=(t=l._readableState)===null||t===void 0?void 0:t.errored)!==null&&m!==void 0?m:null:null}function to(l){if(!$(l))return null;if(typeof l.closed=="boolean")return l.closed;let{_writableState:m,_readableState:t}=l;return typeof m?.closed=="boolean"||typeof t?.closed=="boolean"?m?.closed||t?.closed:typeof l._closed=="boolean"&&Mo(l)?l._closed:null}function Mo(l){return typeof l._closed=="boolean"&&typeof l._defaultKeepAlive=="boolean"&&typeof l._removedConnection=="boolean"&&typeof l._removedContLen=="boolean"}function uo(l){return typeof l._sent100=="boolean"&&Mo(l)}function Vo(l){var m;return typeof l._consuming=="boolean"&&typeof l._dumped=="boolean"&&((m=l.req)===null||m===void 0?void 0:m.upgradeOrConnect)===void 0}function o(l){if(!$(l))return null;let{_writableState:m,_readableState:t}=l,N=m||t;return!N&&uo(l)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function n(l){var m;return!!(l&&((m=l[W])!==null&&m!==void 0?m:l.readableDidRead||l.readableAborted))}function c(l){var m,t,N,p,a,b,S,w,I,No;return!!(l&&((m=(t=(N=(p=(a=(b=l[u])!==null&&b!==void 0?b:l.readableErrored)!==null&&a!==void 0?a:l.writableErrored)!==null&&p!==void 0?p:(S=l._readableState)===null||S===void 0?void 0:S.errorEmitted)!==null&&N!==void 0?N:(w=l._writableState)===null||w===void 0?void 0:w.errorEmitted)!==null&&t!==void 0?t:(I=l._readableState)===null||I===void 0?void 0:I.errored)!==null&&m!==void 0?m:(No=l._writableState)===null||No===void 0?void 0:No.errored))}d.exports={kDestroyed:T,isDisturbed:n,kIsDisturbed:W,isErrored:c,kIsErrored:u,isReadable:z,kIsReadable:v,isClosed:to,isDestroyed:x,isDuplexNodeStream:Z,isFinished:Y,isIterable:V,isReadableNodeStream:y,isReadableEnded:g,isReadableFinished:E,isReadableErrored:mo,isNodeStream:$,isWritable:K,isWritableNodeStream:k,isWritableEnded:q,isWritableFinished:F,isWritableErrored:C,isServerRequest:Vo,isServerResponse:uo,willEmitClose:o}}),Le=Jo((s,d)=>{var i=(Me(),Pa(le)),{AbortError:h,codes:_}=Sa(),{ERR_INVALID_ARG_TYPE:T,ERR_STREAM_PREMATURE_CLOSE:u}=_,{kEmptyObject:v,once:W}=ne(),{validateAbortSignal:y,validateFunction:k,validateObject:Z}=Yn(),{Promise:$}=$a(),{isClosed:V,isReadable:x,isReadableNodeStream:q,isReadableFinished:F,isReadableErrored:g,isWritable:E,isWritableNodeStream:z,isWritableFinished:K,isWritableErrored:Y,isNodeStream:C,willEmitClose:mo}=Ve();function to(o){return o.setHeader&&typeof o.abort=="function"}var Mo=()=>{};function uo(o,n,c){var l,m;arguments.length===2?(c=n,n=v):n==null?n=v:Z(n,"options"),k(c,"callback"),y(n.signal,"options.signal"),c=W(c);let t=(l=n.readable)!==null&&l!==void 0?l:q(o),N=(m=n.writable)!==null&&m!==void 0?m:z(o);if(!C(o))throw new T("stream","Stream",o);let{_writableState:p,_readableState:a}=o,b=()=>{o.writable||I()},S=mo(o)&&q(o)===t&&z(o)===N,w=K(o,!1),I=()=>{w=!0,o.destroyed&&(S=!1),!(S&&(!o.readable||t))&&(!t||No)&&c.call(o)},No=F(o,!1),ko=()=>{No=!0,o.destroyed&&(S=!1),!(S&&(!o.writable||N))&&(!N||w)&&c.call(o)},xo=($o)=>{c.call(o,$o)},bo=V(o),co=()=>{bo=!0;let $o=Y(o)||g(o);if($o&&typeof $o!="boolean")return c.call(o,$o);if(t&&!No&&q(o,!0)&&!F(o,!1))return c.call(o,new u);if(N&&!w&&!K(o,!1))return c.call(o,new u);c.call(o)},fo=()=>{o.req.on("finish",I)};to(o)?(o.on("complete",I),S||o.on("abort",co),o.req?fo():o.on("request",fo)):N&&!p&&(o.on("end",b),o.on("close",b)),!S&&typeof o.aborted=="boolean"&&o.on("aborted",co),o.on("end",ko),o.on("finish",I),n.error!==!1&&o.on("error",xo),o.on("close",co),bo?i.nextTick(co):p!=null&&p.errorEmitted||a!=null&&a.errorEmitted?S||i.nextTick(co):(!t&&(!S||x(o))&&(w||E(o)===!1)||!N&&(!S||E(o))&&(No||x(o)===!1)||a&&o.req&&o.aborted)&&i.nextTick(co);let Xo=()=>{c=Mo,o.removeListener("aborted",co),o.removeListener("complete",I),o.removeListener("abort",co),o.removeListener("request",fo),o.req&&o.req.removeListener("finish",I),o.removeListener("end",b),o.removeListener("close",b),o.removeListener("finish",I),o.removeListener("end",ko),o.removeListener("error",xo),o.removeListener("close",co)};if(n.signal&&!bo){let $o=()=>{let So=c;Xo(),So.call(o,new h(void 0,{cause:n.signal.reason}))};if(n.signal.aborted)i.nextTick($o);else{let So=c;c=W((...D)=>{n.signal.removeEventListener("abort",$o),So.apply(o,D)}),n.signal.addEventListener("abort",$o)}}return Xo}function Vo(o,n){return new $((c,l)=>{uo(o,n,(m)=>{m?l(m):c()})})}d.exports=uo,d.exports.finished=Vo}),di=Jo((s,d)=>{var i=globalThis.AbortController||Jl().AbortController,{codes:{ERR_INVALID_ARG_TYPE:h,ERR_MISSING_ARGS:_,ERR_OUT_OF_RANGE:T},AbortError:u}=Sa(),{validateAbortSignal:v,validateInteger:W,validateObject:y}=Yn(),k=$a().Symbol("kWeak"),{finished:Z}=Le(),{ArrayPrototypePush:$,MathFloor:V,Number:x,NumberIsNaN:q,Promise:F,PromiseReject:g,PromisePrototypeThen:E,Symbol:z}=$a(),K=z("kEmpty"),Y=z("kEof");function C(a,b){if(typeof a!="function")throw new h("fn",["Function","AsyncFunction"],a);b!=null&&y(b,"options"),b?.signal!=null&&v(b.signal,"options.signal");let S=1;return b?.concurrency!=null&&(S=V(b.concurrency)),W(S,"concurrency",1),async function*(){var w,I;let No=new i,ko=this,xo=[],bo=No.signal,co={signal:bo},fo=()=>No.abort();b!=null&&(w=b.signal)!==null&&w!==void 0&&w.aborted&&fo(),b==null||(I=b.signal)===null||I===void 0||I.addEventListener("abort",fo);let Xo,$o,So=!1;function D(){So=!0}async function X(){try{for await(let zo of ko){var ao;if(So)return;if(bo.aborted)throw new u;try{zo=a(zo,co)}catch(Lo){zo=g(Lo)}zo!==K&&(typeof((ao=zo)===null||ao===void 0?void 0:ao.catch)=="function"&&zo.catch(D),xo.push(zo),Xo&&(Xo(),Xo=null),!So&&xo.length&&xo.length>=S&&await new F((Lo)=>{$o=Lo}))}xo.push(Y)}catch(zo){let Lo=g(zo);E(Lo,void 0,D),xo.push(Lo)}finally{var wo;So=!0,Xo&&(Xo(),Xo=null),b==null||(wo=b.signal)===null||wo===void 0||wo.removeEventListener("abort",fo)}}X();try{for(;;){for(;xo.length>0;){let ao=await xo[0];if(ao===Y)return;if(bo.aborted)throw new u;ao!==K&&(yield ao),xo.shift(),$o&&($o(),$o=null)}await new F((ao)=>{Xo=ao})}}finally{No.abort(),So=!0,$o&&($o(),$o=null)}}.call(this)}function mo(a=void 0){return a!=null&&y(a,"options"),a?.signal!=null&&v(a.signal,"options.signal"),async function*(){let b=0;for await(let w of this){var S;if(a!=null&&(S=a.signal)!==null&&S!==void 0&&S.aborted)throw new u({cause:a.signal.reason});yield[b++,w]}}.call(this)}async function to(a,b=void 0){for await(let S of o.call(this,a,b))return!0;return!1}async function Mo(a,b=void 0){if(typeof a!="function")throw new h("fn",["Function","AsyncFunction"],a);return!await to.call(this,async(...S)=>!await a(...S),b)}async function uo(a,b){for await(let S of o.call(this,a,b))return S}async function Vo(a,b){if(typeof a!="function")throw new h("fn",["Function","AsyncFunction"],a);async function S(w,I){return await a(w,I),K}for await(let w of C.call(this,S,b));}function o(a,b){if(typeof a!="function")throw new h("fn",["Function","AsyncFunction"],a);async function S(w,I){return await a(w,I)?w:K}return C.call(this,S,b)}var n=class extends _{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function c(a,b,S){var w;if(typeof a!="function")throw new h("reducer",["Function","AsyncFunction"],a);S!=null&&y(S,"options"),S?.signal!=null&&v(S.signal,"options.signal");let I=arguments.length>1;if(S!=null&&(w=S.signal)!==null&&w!==void 0&&w.aborted){let co=new u(void 0,{cause:S.signal.reason});throw this.once("error",()=>{}),await Z(this.destroy(co)),co}let No=new i,ko=No.signal;if(S!=null&&S.signal){let co={once:!0,[k]:this};S.signal.addEventListener("abort",()=>No.abort(),co)}let xo=!1;try{for await(let co of this){var bo;if(xo=!0,S!=null&&(bo=S.signal)!==null&&bo!==void 0&&bo.aborted)throw new u;I?b=await a(b,co,{signal:ko}):(b=co,I=!0)}if(!xo&&!I)throw new n}finally{No.abort()}return b}async function l(a){a!=null&&y(a,"options"),a?.signal!=null&&v(a.signal,"options.signal");let b=[];for await(let w of this){var S;if(a!=null&&(S=a.signal)!==null&&S!==void 0&&S.aborted)throw new u(void 0,{cause:a.signal.reason});$(b,w)}return b}function m(a,b){let S=C.call(this,a,b);return async function*(){for await(let w of S)yield*w}.call(this)}function t(a){if(a=x(a),q(a))return 0;if(a<0)throw new T("number",">= 0",a);return a}function N(a,b=void 0){return b!=null&&y(b,"options"),b?.signal!=null&&v(b.signal,"options.signal"),a=t(a),async function*(){var S;if(b!=null&&(S=b.signal)!==null&&S!==void 0&&S.aborted)throw new u;for await(let I of this){var w;if(b!=null&&(w=b.signal)!==null&&w!==void 0&&w.aborted)throw new u;a--<=0&&(yield I)}}.call(this)}function p(a,b=void 0){return b!=null&&y(b,"options"),b?.signal!=null&&v(b.signal,"options.signal"),a=t(a),async function*(){var S;if(b!=null&&(S=b.signal)!==null&&S!==void 0&&S.aborted)throw new u;for await(let I of this){var w;if(b!=null&&(w=b.signal)!==null&&w!==void 0&&w.aborted)throw new u;if(a-- >0)yield I;else return}}.call(this)}d.exports.streamReturningOperators={asIndexedPairs:mo,drop:N,filter:o,flatMap:m,map:C,take:p},d.exports.promiseReturningOperators={every:Mo,forEach:Vo,reduce:c,toArray:l,some:to,find:uo}}),Ce=Jo((s,d)=>{var i=(Me(),Pa(le)),{aggregateTwoErrors:h,codes:{ERR_MULTIPLE_CALLBACK:_},AbortError:T}=Sa(),{Symbol:u}=$a(),{kDestroyed:v,isDestroyed:W,isFinished:y,isServerRequest:k}=Ve(),Z=u("kDestroy"),$=u("kConstruct");function V(o,n,c){o&&(o.stack,n&&!n.errored&&(n.errored=o),c&&!c.errored&&(c.errored=o))}function x(o,n){let c=this._readableState,l=this._writableState,m=l||c;return l&&l.destroyed||c&&c.destroyed?(typeof n=="function"&&n(),this):(V(o,l,c),l&&(l.destroyed=!0),c&&(c.destroyed=!0),m.constructed?q(this,o,n):this.once(Z,function(t){q(this,h(t,o),n)}),this)}function q(o,n,c){let l=!1;function m(t){if(l)return;l=!0;let{_readableState:N,_writableState:p}=o;V(t,p,N),p&&(p.closed=!0),N&&(N.closed=!0),typeof c=="function"&&c(t),t?i.nextTick(F,o,t):i.nextTick(g,o)}try{o._destroy(n||null,m)}catch(t){m(t)}}function F(o,n){E(o,n),g(o)}function g(o){let{_readableState:n,_writableState:c}=o;c&&(c.closeEmitted=!0),n&&(n.closeEmitted=!0),(c&&c.emitClose||n&&n.emitClose)&&o.emit("close")}function E(o,n){let{_readableState:c,_writableState:l}=o;l&&l.errorEmitted||c&&c.errorEmitted||(l&&(l.errorEmitted=!0),c&&(c.errorEmitted=!0),o.emit("error",n))}function z(){let o=this._readableState,n=this._writableState;o&&(o.constructed=!0,o.closed=!1,o.closeEmitted=!1,o.destroyed=!1,o.errored=null,o.errorEmitted=!1,o.reading=!1,o.ended=o.readable===!1,o.endEmitted=o.readable===!1),n&&(n.constructed=!0,n.destroyed=!1,n.closed=!1,n.closeEmitted=!1,n.errored=null,n.errorEmitted=!1,n.finalCalled=!1,n.prefinished=!1,n.ended=n.writable===!1,n.ending=n.writable===!1,n.finished=n.writable===!1)}function K(o,n,c){let{_readableState:l,_writableState:m}=o;if(m&&m.destroyed||l&&l.destroyed)return this;l&&l.autoDestroy||m&&m.autoDestroy?o.destroy(n):n&&(n.stack,m&&!m.errored&&(m.errored=n),l&&!l.errored&&(l.errored=n),c?i.nextTick(E,o,n):E(o,n))}function Y(o,n){if(typeof o._construct!="function")return;let{_readableState:c,_writableState:l}=o;c&&(c.constructed=!1),l&&(l.constructed=!1),o.once($,n),!(o.listenerCount($)>1)&&i.nextTick(C,o)}function C(o){let n=!1;function c(l){if(n){K(o,l??new _);return}n=!0;let{_readableState:m,_writableState:t}=o,N=t||m;m&&(m.constructed=!0),t&&(t.constructed=!0),N.destroyed?o.emit(Z,l):l?K(o,l,!0):i.nextTick(mo,o)}try{o._construct(c)}catch(l){c(l)}}function mo(o){o.emit($)}function to(o){return o&&o.setHeader&&typeof o.abort=="function"}function Mo(o){o.emit("close")}function uo(o,n){o.emit("error",n),i.nextTick(Mo,o)}function Vo(o,n){!o||W(o)||(!n&&!y(o)&&(n=new T),k(o)?(o.socket=null,o.destroy(n)):to(o)?o.abort():to(o.req)?o.req.abort():typeof o.destroy=="function"?o.destroy(n):typeof o.close=="function"?o.close():n?i.nextTick(uo,o,n):i.nextTick(Mo,o),o.destroyed||(o[v]=!0))}d.exports={construct:Y,destroyer:Vo,destroy:x,undestroy:z,errorOrDestroy:K}}),Pl=Jo((s,d)=>{var{ArrayIsArray:i,ObjectSetPrototypeOf:h}=$a(),{EventEmitter:_}=$e();function T(v){_.call(this,v)}h(T.prototype,_.prototype),h(T,_),T.prototype.pipe=function(v,W){let y=this;function k(g){v.writable&&v.write(g)===!1&&y.pause&&y.pause()}y.on("data",k);function Z(){y.readable&&y.resume&&y.resume()}v.on("drain",Z),!v._isStdio&&(!W||W.end!==!1)&&(y.on("end",V),y.on("close",x));let $=!1;function V(){$||($=!0,v.end())}function x(){$||($=!0,typeof v.destroy=="function"&&v.destroy())}function q(g){F(),_.listenerCount(this,"error")===0&&this.emit("error",g)}u(y,"error",q),u(v,"error",q);function F(){y.removeListener("data",k),v.removeListener("drain",Z),y.removeListener("end",V),y.removeListener("close",x),y.removeListener("error",q),v.removeListener("error",q),y.removeListener("end",F),y.removeListener("close",F),v.removeListener("close",F)}return y.on("end",F),y.on("close",F),v.on("close",F),v.emit("pipe",y),v};function u(v,W,y){if(typeof v.prependListener=="function")return v.prependListener(W,y);!v._events||!v._events[W]?v.on(W,y):i(v._events[W])?v._events[W].unshift(y):v._events[W]=[y,v._events[W]]}d.exports={Stream:T,prependListener:u}}),Kl=Jo((s,d)=>{var{AbortError:i,codes:h}=Sa(),_=Le(),{ERR_INVALID_ARG_TYPE:T}=h,u=(W,y)=>{if(typeof W!="object"||!("aborted"in W))throw new T(y,"AbortSignal",W)};function v(W){return!!(W&&typeof W.pipe=="function")}d.exports.addAbortSignal=function(W,y){if(u(W,"signal"),!v(y))throw new T("stream","stream.Stream",y);return d.exports.addAbortSignalNoValidate(W,y)},d.exports.addAbortSignalNoValidate=function(W,y){if(typeof W!="object"||!("aborted"in W))return y;let k=()=>{y.destroy(new i(void 0,{cause:W.reason}))};return W.aborted?k():(W.addEventListener("abort",k),_(y,()=>W.removeEventListener("abort",k))),y}}),fi=Jo((s,d)=>{var{StringPrototypeSlice:i,SymbolIterator:h,TypedArrayPrototypeSet:_,Uint8Array:T}=$a(),{Buffer:u}=wa(),{inspect:v}=ne();d.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(W){let y={data:W,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}unshift(W){let y={data:W,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}shift(){if(this.length===0)return;let W=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,W}clear(){this.head=this.tail=null,this.length=0}join(W){if(this.length===0)return"";let y=this.head,k=""+y.data;for(;(y=y.next)!==null;)k+=W+y.data;return k}concat(W){if(this.length===0)return u.alloc(0);let y=u.allocUnsafe(W>>>0),k=this.head,Z=0;for(;k;)_(y,k.data,Z),Z+=k.data.length,k=k.next;return y}consume(W,y){let k=this.head.data;if(W<k.length){let Z=k.slice(0,W);return this.head.data=k.slice(W),Z}return W===k.length?this.shift():y?this._getString(W):this._getBuffer(W)}first(){return this.head.data}*[h](){for(let W=this.head;W;W=W.next)yield W.data}_getString(W){let y="",k=this.head,Z=0;do{let $=k.data;if(W>$.length)y+=$,W-=$.length;else{W===$.length?(y+=$,++Z,k.next?this.head=k.next:this.head=this.tail=null):(y+=i($,0,W),this.head=k,k.data=i($,W));break}++Z}while((k=k.next)!==null);return this.length-=Z,y}_getBuffer(W){let y=u.allocUnsafe(W),k=W,Z=this.head,$=0;do{let V=Z.data;if(W>V.length)_(y,V,k-W),W-=V.length;else{W===V.length?(_(y,V,k-W),++$,Z.next?this.head=Z.next:this.head=this.tail=null):(_(y,new T(V.buffer,V.byteOffset,W),k-W),this.head=Z,Z.data=V.slice(W));break}++$}while((Z=Z.next)!==null);return this.length-=$,y}[Symbol.for("nodejs.util.inspect.custom")](W,y){return v(this,{...y,depth:0,customInspect:!1})}}}),Il=Jo((s,d)=>{var{MathFloor:i,NumberIsInteger:h}=$a(),{ERR_INVALID_ARG_VALUE:_}=Sa().codes;function T(W,y,k){return W.highWaterMark!=null?W.highWaterMark:y?W[k]:null}function u(W){return W?16:16384}function v(W,y,k,Z){let $=T(y,Z,k);if($!=null){if(!h($)||$<0){let V=Z?`options.${k}`:"options.highWaterMark";throw new _(V,$)}return i($)}return u(W.objectMode)}d.exports={getHighWaterMark:v,getDefaultHighWaterMark:u}}),Ys=Jo((s,d)=>{var i=(Me(),Pa(le)),{PromisePrototypeThen:h,SymbolAsyncIterator:_,SymbolIterator:T}=$a(),{Buffer:u}=wa(),{ERR_INVALID_ARG_TYPE:v,ERR_STREAM_NULL_VALUES:W}=Sa().codes;function y(k,Z,$){let V;if(typeof Z=="string"||Z instanceof u)return new k({objectMode:!0,...$,read(){this.push(Z),this.push(null)}});let x;if(Z&&Z[_])x=!0,V=Z[_]();else if(Z&&Z[T])x=!1,V=Z[T]();else throw new v("iterable",["Iterable"],Z);let q=new k({objectMode:!0,highWaterMark:1,...$}),F=!1;q._read=function(){F||(F=!0,E())},q._destroy=function(z,K){h(g(z),()=>i.nextTick(K,z),(Y)=>i.nextTick(K,Y||z))};async function g(z){let K=z!=null,Y=typeof V.throw=="function";if(K&&Y){let{value:C,done:mo}=await V.throw(z);if(await C,mo)return}if(typeof V.return=="function"){let{value:C}=await V.return();await C}}async function E(){for(;;){try{let{value:z,done:K}=x?await V.next():V.next();if(K)q.push(null);else{let Y=z&&typeof z.then=="function"?await z:z;if(Y===null)throw F=!1,new W;if(q.push(Y))continue;F=!1}}catch(z){q.destroy(z)}break}}return q}d.exports=y}),Bn=Jo((s,d)=>{var i=(Me(),Pa(le)),{ArrayPrototypeIndexOf:h,NumberIsInteger:_,NumberIsNaN:T,NumberParseInt:u,ObjectDefineProperties:v,ObjectKeys:W,ObjectSetPrototypeOf:y,Promise:k,SafeSet:Z,SymbolAsyncIterator:$,Symbol:V}=$a();d.exports=S,S.ReadableState=b;var{EventEmitter:x}=$e(),{Stream:q,prependListener:F}=Pl(),{Buffer:g}=wa(),{addAbortSignal:E}=Kl(),z=Le(),K=ne().debuglog("stream",(L)=>{K=L}),Y=fi(),C=Ce(),{getHighWaterMark:mo,getDefaultHighWaterMark:to}=Il(),{aggregateTwoErrors:Mo,codes:{ERR_INVALID_ARG_TYPE:uo,ERR_METHOD_NOT_IMPLEMENTED:Vo,ERR_OUT_OF_RANGE:o,ERR_STREAM_PUSH_AFTER_EOF:n,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:c}}=Sa(),{validateObject:l}=Yn(),m=V("kPaused"),{StringDecoder:t}=Xl(),N=Ys();y(S.prototype,q.prototype),y(S,q);var p=()=>{},{errorOrDestroy:a}=C;function b(L,e,r){typeof r!="boolean"&&(r=e instanceof se()),this.objectMode=!!(L&&L.objectMode),r&&(this.objectMode=this.objectMode||!!(L&&L.readableObjectMode)),this.highWaterMark=L?mo(this,L,"readableHighWaterMark",r):to(!1),this.buffer=new Y,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[m]=null,this.errorEmitted=!1,this.emitClose=!L||L.emitClose!==!1,this.autoDestroy=!L||L.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=L&&L.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,L&&L.encoding&&(this.decoder=new t(L.encoding),this.encoding=L.encoding)}function S(L){if(!(this instanceof S))return new S(L);let e=this instanceof se();this._readableState=new b(L,this,e),L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.construct=="function"&&(this._construct=L.construct),L.signal&&!e&&E(L.signal,this)),q.call(this,L),C.construct(this,()=>{this._readableState.needReadable&&Xo(this,this._readableState)})}S.prototype.destroy=C.destroy,S.prototype._undestroy=C.undestroy,S.prototype._destroy=function(L,e){e(L)},S.prototype[x.captureRejectionSymbol]=function(L){this.destroy(L)},S.prototype.push=function(L,e){return w(this,L,e,!1)},S.prototype.unshift=function(L,e){return w(this,L,e,!0)};function w(L,e,r,f){K("readableAddChunk",e);let R=L._readableState,M;if(R.objectMode||(typeof e=="string"?(r=r||R.defaultEncoding,R.encoding!==r&&(f&&R.encoding?e=g.from(e,r).toString(R.encoding):(e=g.from(e,r),r=""))):e instanceof g?r="":q._isUint8Array(e)?(e=q._uint8ArrayToBuffer(e),r=""):e!=null&&(M=new uo("chunk",["string","Buffer","Uint8Array"],e))),M)a(L,M);else if(e===null)R.reading=!1,bo(L,R);else if(R.objectMode||e&&e.length>0)if(f)if(R.endEmitted)a(L,new c);else{if(R.destroyed||R.errored)return!1;I(L,R,e,!0)}else if(R.ended)a(L,new n);else{if(R.destroyed||R.errored)return!1;R.reading=!1,R.decoder&&!r?(e=R.decoder.write(e),R.objectMode||e.length!==0?I(L,R,e,!1):Xo(L,R)):I(L,R,e,!1)}else f||(R.reading=!1,Xo(L,R));return!R.ended&&(R.length<R.highWaterMark||R.length===0)}function I(L,e,r,f){e.flowing&&e.length===0&&!e.sync&&L.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,L.emit("data",r)):(e.length+=e.objectMode?1:r.length,f?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&co(L)),Xo(L,e)}S.prototype.isPaused=function(){let L=this._readableState;return L[m]===!0||L.flowing===!1},S.prototype.setEncoding=function(L){let e=new t(L);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,f="";for(let R of r)f+=e.write(R);return r.clear(),f!==""&&r.push(f),this._readableState.length=f.length,this};var No=1073741824;function ko(L){if(L>No)throw new o("size","<= 1GiB",L);return L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++,L}function xo(L,e){return L<=0||e.length===0&&e.ended?0:e.objectMode?1:T(L)?e.flowing&&e.length?e.buffer.first().length:e.length:L<=e.length?L:e.ended?e.length:0}S.prototype.read=function(L){K("read",L),L===void 0?L=NaN:_(L)||(L=u(L,10));let e=this._readableState,r=L;if(L>e.highWaterMark&&(e.highWaterMark=ko(L)),L!==0&&(e.emittedReadable=!1),L===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return K("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Po(this):co(this),null;if(L=xo(L,e),L===0&&e.ended)return e.length===0&&Po(this),null;let f=e.needReadable;if(K("need readable",f),(e.length===0||e.length-L<e.highWaterMark)&&(f=!0,K("length less than watermark",f)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)f=!1,K("reading, ended or constructing",f);else if(f){K("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(M){a(this,M)}e.sync=!1,e.reading||(L=xo(r,e))}let R;return L>0?R=Uo(L,e):R=null,R===null?(e.needReadable=e.length<=e.highWaterMark,L=0):(e.length-=L,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==L&&e.ended&&Po(this)),R!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",R)),R};function bo(L,e){if(K("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?co(L):(e.needReadable=!1,e.emittedReadable=!0,fo(L))}}function co(L){let e=L._readableState;K("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(K("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(fo,L))}function fo(L){let e=L._readableState;K("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(L.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,zo(L)}function Xo(L,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,i.nextTick($o,L,e))}function $o(L,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(K("maybeReadMore read 0"),L.read(0),r===e.length)break}e.readingMore=!1}S.prototype._read=function(L){throw new Vo("_read()")},S.prototype.pipe=function(L,e){let r=this,f=this._readableState;f.pipes.length===1&&(f.multiAwaitDrain||(f.multiAwaitDrain=!0,f.awaitDrainWriters=new Z(f.awaitDrainWriters?[f.awaitDrainWriters]:[]))),f.pipes.push(L),K("pipe count=%d opts=%j",f.pipes.length,e);let R=(!e||e.end!==!1)&&L!==i.stdout&&L!==i.stderr?O:Q;f.endEmitted?i.nextTick(R):r.once("end",R),L.on("unpipe",M);function M(ro,Zo){K("onunpipe"),ro===r&&Zo&&Zo.hasUnpiped===!1&&(Zo.hasUnpiped=!0,j())}function O(){K("onend"),L.end()}let U,P=!1;function j(){K("cleanup"),L.removeListener("close",G),L.removeListener("finish",no),U&&L.removeListener("drain",U),L.removeListener("error",H),L.removeListener("unpipe",M),r.removeListener("end",O),r.removeListener("end",Q),r.removeListener("data",oo),P=!0,U&&f.awaitDrainWriters&&(!L._writableState||L._writableState.needDrain)&&U()}function J(){P||(f.pipes.length===1&&f.pipes[0]===L?(K("false write response, pause",0),f.awaitDrainWriters=L,f.multiAwaitDrain=!1):f.pipes.length>1&&f.pipes.includes(L)&&(K("false write response, pause",f.awaitDrainWriters.size),f.awaitDrainWriters.add(L)),r.pause()),U||(U=So(r,L),L.on("drain",U))}r.on("data",oo);function oo(ro){K("ondata");let Zo=L.write(ro);K("dest.write",Zo),Zo===!1&&J()}function H(ro){if(K("onerror",ro),Q(),L.removeListener("error",H),L.listenerCount("error")===0){let Zo=L._writableState||L._readableState;Zo&&!Zo.errorEmitted?a(L,ro):L.emit("error",ro)}}F(L,"error",H);function G(){L.removeListener("finish",no),Q()}L.once("close",G);function no(){K("onfinish"),L.removeListener("close",G),Q()}L.once("finish",no);function Q(){K("unpipe"),r.unpipe(L)}return L.emit("pipe",r),L.writableNeedDrain===!0?f.flowing&&J():f.flowing||(K("pipe resume"),r.resume()),L};function So(L,e){return function(){let r=L._readableState;r.awaitDrainWriters===e?(K("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(K("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),(!r.awaitDrainWriters||r.awaitDrainWriters.size===0)&&L.listenerCount("data")&&L.resume()}}S.prototype.unpipe=function(L){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!L){let R=e.pipes;e.pipes=[],this.pause();for(let M=0;M<R.length;M++)R[M].emit("unpipe",this,{hasUnpiped:!1});return this}let f=h(e.pipes,L);return f===-1?this:(e.pipes.splice(f,1),e.pipes.length===0&&this.pause(),L.emit("unpipe",this,r),this)},S.prototype.on=function(L,e){let r=q.prototype.on.call(this,L,e),f=this._readableState;return L==="data"?(f.readableListening=this.listenerCount("readable")>0,f.flowing!==!1&&this.resume()):L==="readable"&&!f.endEmitted&&!f.readableListening&&(f.readableListening=f.needReadable=!0,f.flowing=!1,f.emittedReadable=!1,K("on readable",f.length,f.reading),f.length?co(this):f.reading||i.nextTick(X,this)),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(L,e){let r=q.prototype.removeListener.call(this,L,e);return L==="readable"&&i.nextTick(D,this),r},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(L){let e=q.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&i.nextTick(D,this),e};function D(L){let e=L._readableState;e.readableListening=L.listenerCount("readable")>0,e.resumeScheduled&&e[m]===!1?e.flowing=!0:L.listenerCount("data")>0?L.resume():e.readableListening||(e.flowing=null)}function X(L){K("readable nexttick read 0"),L.read(0)}S.prototype.resume=function(){let L=this._readableState;return L.flowing||(K("resume"),L.flowing=!L.readableListening,ao(this,L)),L[m]=!1,this};function ao(L,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(wo,L,e))}function wo(L,e){K("resume",e.reading),e.reading||L.read(0),e.resumeScheduled=!1,L.emit("resume"),zo(L),e.flowing&&!e.reading&&L.read(0)}S.prototype.pause=function(){return K("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(K("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[m]=!0,this};function zo(L){let e=L._readableState;for(K("flow",e.flowing);e.flowing&&L.read()!==null;);}S.prototype.wrap=function(L){let e=!1;L.on("data",(f)=>{!this.push(f)&&L.pause&&(e=!0,L.pause())}),L.on("end",()=>{this.push(null)}),L.on("error",(f)=>{a(this,f)}),L.on("close",()=>{this.destroy()}),L.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&L.resume&&(e=!1,L.resume())};let r=W(L);for(let f=1;f<r.length;f++){let R=r[f];this[R]===void 0&&typeof L[R]=="function"&&(this[R]=L[R].bind(L))}return this},S.prototype[$]=function(){return Lo(this)},S.prototype.iterator=function(L){return L!==void 0&&l(L,"options"),Lo(this,L)};function Lo(L,e){typeof L.read!="function"&&(L=S.wrap(L,{objectMode:!0}));let r=Ho(L,e);return r.stream=L,r}async function*Ho(L,e){let r=p;function f(O){this===L?(r(),r=p):r=O}L.on("readable",f);let R,M=z(L,{writable:!1},(O)=>{R=O?Mo(R,O):null,r(),r=p});try{for(;;){let O=L.destroyed?null:L.read();if(O!==null)yield O;else{if(R)throw R;if(R===null)return;await new k(f)}}}catch(O){throw R=Mo(R,O),R}finally{(R||e?.destroyOnReturn!==!1)&&(R===void 0||L._readableState.autoDestroy)?C.destroyer(L,null):(L.off("readable",f),M())}}v(S.prototype,{readable:{__proto__:null,get(){let L=this._readableState;return!!L&&L.readable!==!1&&!L.destroyed&&!L.errorEmitted&&!L.endEmitted},set(L){this._readableState&&(this._readableState.readable=!!L)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(L){!this._readableState||(this._readableState.destroyed=L)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),v(b.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[m]!==!1},set(L){this[m]=!!L}}}),S._fromList=Uo;function Uo(L,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!L||L>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(L,e.decoder),r}function Po(L){let e=L._readableState;K("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(Ao,e,L))}function Ao(L,e){if(K("endReadableNT",L.endEmitted,L.length),!L.errored&&!L.closeEmitted&&!L.endEmitted&&L.length===0){if(L.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)i.nextTick(Ko,e);else if(L.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Ko(L){L.writable&&!L.writableEnded&&!L.destroyed&&L.end()}S.from=function(L,e){return N(S,L,e)};var go;function da(){return go===void 0&&(go={}),go}S.fromWeb=function(L,e){return da().newStreamReadableFromReadableStream(L,e)},S.toWeb=function(L,e){return da().newReadableStreamFromStreamReadable(L,e)},S.wrap=function(L,e){var r,f;return new S({objectMode:(r=(f=L.readableObjectMode)!==null&&f!==void 0?f:L.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(R,M){C.destroyer(L,R),M(R)}}).wrap(L)}}),Bs=Jo((s,d)=>{var i=(Me(),Pa(le)),{ArrayPrototypeSlice:h,Error:_,FunctionPrototypeSymbolHasInstance:T,ObjectDefineProperty:u,ObjectDefineProperties:v,ObjectSetPrototypeOf:W,StringPrototypeToLowerCase:y,Symbol:k,SymbolHasInstance:Z}=$a();d.exports=t,t.WritableState=l;var{EventEmitter:$}=$e(),V=Pl().Stream,{Buffer:x}=wa(),q=Ce(),{addAbortSignal:F}=Kl(),{getHighWaterMark:g,getDefaultHighWaterMark:E}=Il(),{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:K,ERR_MULTIPLE_CALLBACK:Y,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:mo,ERR_STREAM_ALREADY_FINISHED:to,ERR_STREAM_NULL_VALUES:Mo,ERR_STREAM_WRITE_AFTER_END:uo,ERR_UNKNOWN_ENCODING:Vo}=Sa().codes,{errorOrDestroy:o}=q;W(t.prototype,V.prototype),W(t,V);function n(){}var c=k("kOnFinished");function l(X,ao,wo){typeof wo!="boolean"&&(wo=ao instanceof se()),this.objectMode=!!(X&&X.objectMode),wo&&(this.objectMode=this.objectMode||!!(X&&X.writableObjectMode)),this.highWaterMark=X?g(this,X,"writableHighWaterMark",wo):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let zo=!!(X&&X.decodeStrings===!1);this.decodeStrings=!zo,this.defaultEncoding=X&&X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,ao),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,m(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!X||X.emitClose!==!1,this.autoDestroy=!X||X.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[c]=[]}function m(X){X.buffered=[],X.bufferedIndex=0,X.allBuffers=!0,X.allNoop=!0}l.prototype.getBuffer=function(){return h(this.buffered,this.bufferedIndex)},u(l.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function t(X){let ao=this instanceof se();if(!ao&&!T(t,this))return new t(X);this._writableState=new l(X,this,ao),X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final),typeof X.construct=="function"&&(this._construct=X.construct),X.signal&&F(X.signal,this)),V.call(this,X),q.construct(this,()=>{let wo=this._writableState;wo.writing||ko(this,wo),fo(this,wo)})}u(t,Z,{__proto__:null,value:function(X){return T(this,X)?!0:this!==t?!1:X&&X._writableState instanceof l}}),t.prototype.pipe=function(){o(this,new C)};function N(X,ao,wo,zo){let Lo=X._writableState;if(typeof wo=="function")zo=wo,wo=Lo.defaultEncoding;else{if(!wo)wo=Lo.defaultEncoding;else if(wo!=="buffer"&&!x.isEncoding(wo))throw new Vo(wo);typeof zo!="function"&&(zo=n)}if(ao===null)throw new Mo;if(!Lo.objectMode)if(typeof ao=="string")Lo.decodeStrings!==!1&&(ao=x.from(ao,wo),wo="buffer");else if(ao instanceof x)wo="buffer";else if(V._isUint8Array(ao))ao=V._uint8ArrayToBuffer(ao),wo="buffer";else throw new z("chunk",["string","Buffer","Uint8Array"],ao);let Ho;return Lo.ending?Ho=new uo:Lo.destroyed&&(Ho=new mo("write")),Ho?(i.nextTick(zo,Ho),o(X,Ho,!0),Ho):(Lo.pendingcb++,p(X,Lo,ao,wo,zo))}t.prototype.write=function(X,ao,wo){return N(this,X,ao,wo)===!0},t.prototype.cork=function(){this._writableState.corked++},t.prototype.uncork=function(){let X=this._writableState;X.corked&&(X.corked--,X.writing||ko(this,X))},t.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=y(X)),!x.isEncoding(X))throw new Vo(X);return this._writableState.defaultEncoding=X,this};function p(X,ao,wo,zo,Lo){let Ho=ao.objectMode?1:wo.length;ao.length+=Ho;let Uo=ao.length<ao.highWaterMark;return Uo||(ao.needDrain=!0),ao.writing||ao.corked||ao.errored||!ao.constructed?(ao.buffered.push({chunk:wo,encoding:zo,callback:Lo}),ao.allBuffers&&zo!=="buffer"&&(ao.allBuffers=!1),ao.allNoop&&Lo!==n&&(ao.allNoop=!1)):(ao.writelen=Ho,ao.writecb=Lo,ao.writing=!0,ao.sync=!0,X._write(wo,zo,ao.onwrite),ao.sync=!1),Uo&&!ao.errored&&!ao.destroyed}function a(X,ao,wo,zo,Lo,Ho,Uo){ao.writelen=zo,ao.writecb=Uo,ao.writing=!0,ao.sync=!0,ao.destroyed?ao.onwrite(new mo("write")):wo?X._writev(Lo,ao.onwrite):X._write(Lo,Ho,ao.onwrite),ao.sync=!1}function b(X,ao,wo,zo){--ao.pendingcb,zo(wo),No(ao),o(X,wo)}function S(X,ao){let wo=X._writableState,zo=wo.sync,Lo=wo.writecb;if(typeof Lo!="function"){o(X,new Y);return}wo.writing=!1,wo.writecb=null,wo.length-=wo.writelen,wo.writelen=0,ao?(ao.stack,wo.errored||(wo.errored=ao),X._readableState&&!X._readableState.errored&&(X._readableState.errored=ao),zo?i.nextTick(b,X,wo,ao,Lo):b(X,wo,ao,Lo)):(wo.buffered.length>wo.bufferedIndex&&ko(X,wo),zo?wo.afterWriteTickInfo!==null&&wo.afterWriteTickInfo.cb===Lo?wo.afterWriteTickInfo.count++:(wo.afterWriteTickInfo={count:1,cb:Lo,stream:X,state:wo},i.nextTick(w,wo.afterWriteTickInfo)):I(X,wo,1,Lo))}function w({stream:X,state:ao,count:wo,cb:zo}){return ao.afterWriteTickInfo=null,I(X,ao,wo,zo)}function I(X,ao,wo,zo){for(!ao.ending&&!X.destroyed&&ao.length===0&&ao.needDrain&&(ao.needDrain=!1,X.emit("drain"));wo-- >0;)ao.pendingcb--,zo();ao.destroyed&&No(ao),fo(X,ao)}function No(X){if(X.writing)return;for(let Lo=X.bufferedIndex;Lo<X.buffered.length;++Lo){var ao;let{chunk:Ho,callback:Uo}=X.buffered[Lo],Po=X.objectMode?1:Ho.length;X.length-=Po,Uo((ao=X.errored)!==null&&ao!==void 0?ao:new mo("write"))}let wo=X[c].splice(0);for(let Lo=0;Lo<wo.length;Lo++){var zo;wo[Lo]((zo=X.errored)!==null&&zo!==void 0?zo:new mo("end"))}m(X)}function ko(X,ao){if(ao.corked||ao.bufferProcessing||ao.destroyed||!ao.constructed)return;let{buffered:wo,bufferedIndex:zo,objectMode:Lo}=ao,Ho=wo.length-zo;if(!Ho)return;let Uo=zo;if(ao.bufferProcessing=!0,Ho>1&&X._writev){ao.pendingcb-=Ho-1;let Po=ao.allNoop?n:(Ko)=>{for(let go=Uo;go<wo.length;++go)wo[go].callback(Ko)},Ao=ao.allNoop&&Uo===0?wo:h(wo,Uo);Ao.allBuffers=ao.allBuffers,a(X,ao,!0,ao.length,Ao,"",Po),m(ao)}else{do{let{chunk:Po,encoding:Ao,callback:Ko}=wo[Uo];wo[Uo++]=null;let go=Lo?1:Po.length;a(X,ao,!1,go,Po,Ao,Ko)}while(Uo<wo.length&&!ao.writing);Uo===wo.length?m(ao):Uo>256?(wo.splice(0,Uo),ao.bufferedIndex=0):ao.bufferedIndex=Uo}ao.bufferProcessing=!1}t.prototype._write=function(X,ao,wo){if(this._writev)this._writev([{chunk:X,encoding:ao}],wo);else throw new K("_write()")},t.prototype._writev=null,t.prototype.end=function(X,ao,wo){let zo=this._writableState;typeof X=="function"?(wo=X,X=null,ao=null):typeof ao=="function"&&(wo=ao,ao=null);let Lo;if(X!=null){let Ho=N(this,X,ao);Ho instanceof _&&(Lo=Ho)}return zo.corked&&(zo.corked=1,this.uncork()),Lo||(!zo.errored&&!zo.ending?(zo.ending=!0,fo(this,zo,!0),zo.ended=!0):zo.finished?Lo=new to("end"):zo.destroyed&&(Lo=new mo("end"))),typeof wo=="function"&&(Lo||zo.finished?i.nextTick(wo,Lo):zo[c].push(wo)),this};function xo(X){return X.ending&&!X.destroyed&&X.constructed&&X.length===0&&!X.errored&&X.buffered.length===0&&!X.finished&&!X.writing&&!X.errorEmitted&&!X.closeEmitted}function bo(X,ao){let wo=!1;function zo(Lo){if(wo){o(X,Lo??Y());return}if(wo=!0,ao.pendingcb--,Lo){let Ho=ao[c].splice(0);for(let Uo=0;Uo<Ho.length;Uo++)Ho[Uo](Lo);o(X,Lo,ao.sync)}else xo(ao)&&(ao.prefinished=!0,X.emit("prefinish"),ao.pendingcb++,i.nextTick(Xo,X,ao))}ao.sync=!0,ao.pendingcb++;try{X._final(zo)}catch(Lo){zo(Lo)}ao.sync=!1}function co(X,ao){!ao.prefinished&&!ao.finalCalled&&(typeof X._final=="function"&&!ao.destroyed?(ao.finalCalled=!0,bo(X,ao)):(ao.prefinished=!0,X.emit("prefinish")))}function fo(X,ao,wo){xo(ao)&&(co(X,ao),ao.pendingcb===0&&(wo?(ao.pendingcb++,i.nextTick((zo,Lo)=>{xo(Lo)?Xo(zo,Lo):Lo.pendingcb--},X,ao)):xo(ao)&&(ao.pendingcb++,Xo(X,ao))))}function Xo(X,ao){ao.pendingcb--,ao.finished=!0;let wo=ao[c].splice(0);for(let zo=0;zo<wo.length;zo++)wo[zo]();if(X.emit("finish"),ao.autoDestroy){let zo=X._readableState;(!zo||zo.autoDestroy&&(zo.endEmitted||zo.readable===!1))&&X.destroy()}}v(t.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(X){this._writableState&&(this._writableState.destroyed=X)}},writable:{__proto__:null,get(){let X=this._writableState;return!!X&&X.writable!==!1&&!X.destroyed&&!X.errored&&!X.ending&&!X.ended},set(X){this._writableState&&(this._writableState.writable=!!X)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let X=this._writableState;return X?!X.destroyed&&!X.ending&&X.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var $o=q.destroy;t.prototype.destroy=function(X,ao){let wo=this._writableState;return!wo.destroyed&&(wo.bufferedIndex<wo.buffered.length||wo[c].length)&&i.nextTick(No,wo),$o.call(this,X,ao),this},t.prototype._undestroy=q.undestroy,t.prototype._destroy=function(X,ao){ao(X)},t.prototype[$.captureRejectionSymbol]=function(X){this.destroy(X)};var So;function D(){return So===void 0&&(So={}),So}t.fromWeb=function(X,ao){return D().newStreamWritableFromWritableStream(X,ao)},t.toWeb=function(X){return D().newWritableStreamFromStreamWritable(X)}}),_i=Jo((s,d)=>{var i=(Me(),Pa(le)),h=wa(),{isReadable:_,isWritable:T,isIterable:u,isNodeStream:v,isReadableNodeStream:W,isWritableNodeStream:y,isDuplexNodeStream:k}=Ve(),Z=Le(),{AbortError:$,codes:{ERR_INVALID_ARG_TYPE:V,ERR_INVALID_RETURN_VALUE:x}}=Sa(),{destroyer:q}=Ce(),F=se(),g=Bn(),{createDeferredPromise:E}=ne(),z=Ys(),K=globalThis.Blob||h.Blob,Y=typeof K<"u"?function(Vo){return Vo instanceof K}:function(Vo){return!1},C=globalThis.AbortController||Jl().AbortController,{FunctionPrototypeCall:mo}=$a(),to=class extends F{constructor(Vo){super(Vo),Vo?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Vo?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};d.exports=function Vo(o,n){if(k(o))return o;if(W(o))return uo({readable:o});if(y(o))return uo({writable:o});if(v(o))return uo({writable:!1,readable:!1});if(typeof o=="function"){let{value:l,write:m,final:t,destroy:N}=Mo(o);if(u(l))return z(to,l,{objectMode:!0,write:m,final:t,destroy:N});let p=l?.then;if(typeof p=="function"){let a,b=mo(p,l,(S)=>{if(S!=null)throw new x("nully","body",S)},(S)=>{q(a,S)});return a=new to({objectMode:!0,readable:!1,write:m,final(S){t(async()=>{try{await b,i.nextTick(S,null)}catch(w){i.nextTick(S,w)}})},destroy:N})}throw new x("Iterable, AsyncIterable or AsyncFunction",n,l)}if(Y(o))return Vo(o.arrayBuffer());if(u(o))return z(to,o,{objectMode:!0,writable:!1});if(typeof o?.writable=="object"||typeof o?.readable=="object"){let l=o!=null&&o.readable?W(o?.readable)?o?.readable:Vo(o.readable):void 0,m=o!=null&&o.writable?y(o?.writable)?o?.writable:Vo(o.writable):void 0;return uo({readable:l,writable:m})}let c=o?.then;if(typeof c=="function"){let l;return mo(c,o,(m)=>{m!=null&&l.push(m),l.push(null)},(m)=>{q(l,m)}),l=new to({objectMode:!0,writable:!1,read(){}})}throw new V(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],o)};function Mo(Vo){let{promise:o,resolve:n}=E(),c=new C,l=c.signal;return{value:Vo(async function*(){for(;;){let m=o;o=null;let{chunk:t,done:N,cb:p}=await m;if(i.nextTick(p),N)return;if(l.aborted)throw new $(void 0,{cause:l.reason});({promise:o,resolve:n}=E()),yield t}}(),{signal:l}),write(m,t,N){let p=n;n=null,p({chunk:m,done:!1,cb:N})},final(m){let t=n;n=null,t({done:!0,cb:m})},destroy(m,t){c.abort(),t(m)}}}function uo(Vo){let o=Vo.readable&&typeof Vo.readable.read!="function"?g.wrap(Vo.readable):Vo.readable,n=Vo.writable,c=!!_(o),l=!!T(n),m,t,N,p,a;function b(S){let w=p;p=null,w?w(S):S?a.destroy(S):!c&&!l&&a.destroy()}return a=new to({readableObjectMode:!!(o!=null&&o.readableObjectMode),writableObjectMode:!!(n!=null&&n.writableObjectMode),readable:c,writable:l}),l&&(Z(n,(S)=>{l=!1,S&&q(o,S),b(S)}),a._write=function(S,w,I){n.write(S,w)?I():m=I},a._final=function(S){n.end(),t=S},n.on("drain",function(){if(m){let S=m;m=null,S()}}),n.on("finish",function(){if(t){let S=t;t=null,S()}})),c&&(Z(o,(S)=>{c=!1,S&&q(o,S),b(S)}),o.on("readable",function(){if(N){let S=N;N=null,S()}}),o.on("end",function(){a.push(null)}),a._read=function(){for(;;){let S=o.read();if(S===null){N=a._read;return}if(!a.push(S))return}}),a._destroy=function(S,w){!S&&p!==null&&(S=new $),N=null,m=null,t=null,p===null?w(S):(p=w,q(n,S),q(o,S))},a}}),se=Jo((s,d)=>{var{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:h,ObjectKeys:_,ObjectSetPrototypeOf:T}=$a();d.exports=W;var u=Bn(),v=Bs();T(W.prototype,u.prototype),T(W,u);{let $=_(v.prototype);for(let V=0;V<$.length;V++){let x=$[V];W.prototype[x]||(W.prototype[x]=v.prototype[x])}}function W($){if(!(this instanceof W))return new W($);u.call(this,$),v.call(this,$),$?(this.allowHalfOpen=$.allowHalfOpen!==!1,$.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),$.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}i(W.prototype,{writable:{__proto__:null,...h(v.prototype,"writable")},writableHighWaterMark:{__proto__:null,...h(v.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...h(v.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...h(v.prototype,"writableBuffer")},writableLength:{__proto__:null,...h(v.prototype,"writableLength")},writableFinished:{__proto__:null,...h(v.prototype,"writableFinished")},writableCorked:{__proto__:null,...h(v.prototype,"writableCorked")},writableEnded:{__proto__:null,...h(v.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...h(v.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set($){this._readableState&&this._writableState&&(this._readableState.destroyed=$,this._writableState.destroyed=$)}}});var y;function k(){return y===void 0&&(y={}),y}W.fromWeb=function($,V){return k().newStreamDuplexFromReadableWritablePair($,V)},W.toWeb=function($){return k().newReadableWritablePairFromDuplex($)};var Z;W.from=function($){return Z||(Z=_i()),Z($,"body")}}),Cs=Jo((s,d)=>{var{ObjectSetPrototypeOf:i,Symbol:h}=$a();d.exports=W;var{ERR_METHOD_NOT_IMPLEMENTED:_}=Sa().codes,T=se(),{getHighWaterMark:u}=Il();i(W.prototype,T.prototype),i(W,T);var v=h("kCallback");function W(Z){if(!(this instanceof W))return new W(Z);let $=Z?u(this,Z,"readableHighWaterMark",!0):null;$===0&&(Z={...Z,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:Z.writableHighWaterMark||0}),T.call(this,Z),this._readableState.sync=!1,this[v]=null,Z&&(typeof Z.transform=="function"&&(this._transform=Z.transform),typeof Z.flush=="function"&&(this._flush=Z.flush)),this.on("prefinish",k)}function y(Z){typeof this._flush=="function"&&!this.destroyed?this._flush(($,V)=>{if($){Z?Z($):this.destroy($);return}V!=null&&this.push(V),this.push(null),Z&&Z()}):(this.push(null),Z&&Z())}function k(){this._final!==y&&y.call(this)}W.prototype._final=y,W.prototype._transform=function(Z,$,V){throw new _("_transform()")},W.prototype._write=function(Z,$,V){let x=this._readableState,q=this._writableState,F=x.length;this._transform(Z,$,(g,E)=>{if(g){V(g);return}E!=null&&this.push(E),q.ended||F===x.length||x.length<x.highWaterMark?V():this[v]=V})},W.prototype._read=function(){if(this[v]){let Z=this[v];this[v]=null,Z()}}}),Qs=Jo((s,d)=>{var{ObjectSetPrototypeOf:i}=$a();d.exports=_;var h=Cs();i(_.prototype,h.prototype),i(_,h);function _(T){if(!(this instanceof _))return new _(T);h.call(this,T)}_.prototype._transform=function(T,u,v){v(null,T)}}),Gl=Jo((s,d)=>{var i=(Me(),Pa(le)),{ArrayIsArray:h,Promise:_,SymbolAsyncIterator:T}=$a(),u=Le(),{once:v}=ne(),W=Ce(),y=se(),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_RETURN_VALUE:$,ERR_MISSING_ARGS:V,ERR_STREAM_DESTROYED:x,ERR_STREAM_PREMATURE_CLOSE:q},AbortError:F}=Sa(),{validateFunction:g,validateAbortSignal:E}=Yn(),{isIterable:z,isReadable:K,isReadableNodeStream:Y,isNodeStream:C}=Ve(),mo=globalThis.AbortController||Jl().AbortController,to,Mo;function uo(N,p,a){let b=!1;N.on("close",()=>{b=!0});let S=u(N,{readable:p,writable:a},(w)=>{b=!w});return{destroy:(w)=>{b||(b=!0,W.destroyer(N,w||new x("pipe")))},cleanup:S}}function Vo(N){return g(N[N.length-1],"streams[stream.length - 1]"),N.pop()}function o(N){if(z(N))return N;if(Y(N))return n(N);throw new Z("val",["Readable","Iterable","AsyncIterable"],N)}async function*n(N){Mo||(Mo=Bn()),yield*Mo.prototype[T].call(N)}async function c(N,p,a,{end:b}){let S,w=null,I=(xo)=>{if(xo&&(S=xo),w){let bo=w;w=null,bo()}},No=()=>new _((xo,bo)=>{S?bo(S):w=()=>{S?bo(S):xo()}});p.on("drain",I);let ko=u(p,{readable:!1},I);try{p.writableNeedDrain&&await No();for await(let xo of N)p.write(xo)||await No();b&&p.end(),await No(),a()}catch(xo){a(S!==xo?k(S,xo):xo)}finally{ko(),p.off("drain",I)}}function l(...N){return m(N,v(Vo(N)))}function m(N,p,a){if(N.length===1&&h(N[0])&&(N=N[0]),N.length<2)throw new V("streams");let b=new mo,S=b.signal,w=a?.signal,I=[];E(w,"options.signal");function No(){Xo(new F)}w?.addEventListener("abort",No);let ko,xo,bo=[],co=0;function fo(X){Xo(X,--co===0)}function Xo(X,ao){if(X&&(!ko||ko.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ko=X),!(!ko&&!ao)){for(;bo.length;)bo.shift()(ko);w?.removeEventListener("abort",No),b.abort(),ao&&(ko||I.forEach((wo)=>wo()),i.nextTick(p,ko,xo))}}let $o;for(let X=0;X<N.length;X++){let ao=N[X],wo=X<N.length-1,zo=X>0,Lo=wo||a?.end!==!1,Ho=X===N.length-1;if(C(ao)){let Uo=function(Po){Po&&Po.name!=="AbortError"&&Po.code!=="ERR_STREAM_PREMATURE_CLOSE"&&fo(Po)};var So=Uo;if(Lo){let{destroy:Po,cleanup:Ao}=uo(ao,wo,zo);bo.push(Po),K(ao)&&Ho&&I.push(Ao)}ao.on("error",Uo),K(ao)&&Ho&&I.push(()=>{ao.removeListener("error",Uo)})}if(X===0)if(typeof ao=="function"){if($o=ao({signal:S}),!z($o))throw new $("Iterable, AsyncIterable or Stream","source",$o)}else z(ao)||Y(ao)?$o=ao:$o=y.from(ao);else if(typeof ao=="function")if($o=o($o),$o=ao($o,{signal:S}),wo){if(!z($o,!0))throw new $("AsyncIterable",`transform[${X-1}]`,$o)}else{var D;to||(to=Qs());let Uo=new to({objectMode:!0}),Po=(D=$o)===null||D===void 0?void 0:D.then;if(typeof Po=="function")co++,Po.call($o,(go)=>{xo=go,go!=null&&Uo.write(go),Lo&&Uo.end(),i.nextTick(fo)},(go)=>{Uo.destroy(go),i.nextTick(fo,go)});else if(z($o,!0))co++,c($o,Uo,fo,{end:Lo});else throw new $("AsyncIterable or Promise","destination",$o);$o=Uo;let{destroy:Ao,cleanup:Ko}=uo($o,!1,!0);bo.push(Ao),Ho&&I.push(Ko)}else if(C(ao)){if(Y($o)){co+=2;let Uo=t($o,ao,fo,{end:Lo});K(ao)&&Ho&&I.push(Uo)}else if(z($o))co++,c($o,ao,fo,{end:Lo});else throw new Z("val",["Readable","Iterable","AsyncIterable"],$o);$o=ao}else $o=y.from(ao)}return(S!=null&&S.aborted||w!=null&&w.aborted)&&i.nextTick(No),$o}function t(N,p,a,{end:b}){let S=!1;return p.on("close",()=>{S||a(new q)}),N.pipe(p,{end:b}),b?N.once("end",()=>{S=!0,p.end()}):a(),u(N,{readable:!0,writable:!1},(w)=>{let I=N._readableState;w&&w.code==="ERR_STREAM_PREMATURE_CLOSE"&&I&&I.ended&&!I.errored&&!I.errorEmitted?N.once("end",a).once("error",a):a(w)}),u(p,{readable:!1,writable:!0},a)}d.exports={pipelineImpl:m,pipeline:l}}),ti=Jo((s,d)=>{var{pipeline:i}=Gl(),h=se(),{destroyer:_}=Ce(),{isNodeStream:T,isReadable:u,isWritable:v}=Ve(),{AbortError:W,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:k}}=Sa();d.exports=function(...Z){if(Z.length===0)throw new k("streams");if(Z.length===1)return h.from(Z[0]);let $=[...Z];if(typeof Z[0]=="function"&&(Z[0]=h.from(Z[0])),typeof Z[Z.length-1]=="function"){let mo=Z.length-1;Z[mo]=h.from(Z[mo])}for(let mo=0;mo<Z.length;++mo)if(T(Z[mo])){if(mo<Z.length-1&&!u(Z[mo]))throw new y(`streams[${mo}]`,$[mo],"must be readable");if(mo>0&&!v(Z[mo]))throw new y(`streams[${mo}]`,$[mo],"must be writable")}let V,x,q,F,g;function E(mo){let to=F;F=null,to?to(mo):mo?g.destroy(mo):!C&&!Y&&g.destroy()}let z=Z[0],K=i(Z,E),Y=!!v(z),C=!!u(K);return g=new h({writableObjectMode:!!(z!=null&&z.writableObjectMode),readableObjectMode:!!(K!=null&&K.writableObjectMode),writable:Y,readable:C}),Y&&(g._write=function(mo,to,Mo){z.write(mo,to)?Mo():V=Mo},g._final=function(mo){z.end(),x=mo},z.on("drain",function(){if(V){let mo=V;V=null,mo()}}),K.on("finish",function(){if(x){let mo=x;x=null,mo()}})),C&&(K.on("readable",function(){if(q){let mo=q;q=null,mo()}}),K.on("end",function(){g.push(null)}),g._read=function(){for(;;){let mo=K.read();if(mo===null){q=g._read;return}if(!g.push(mo))return}}),g._destroy=function(mo,to){!mo&&F!==null&&(mo=new W),q=null,V=null,x=null,F===null?to(mo):(F=to,_(K,mo))},g}}),As=Jo((s,d)=>{var{ArrayPrototypePop:i,Promise:h}=$a(),{isIterable:_,isNodeStream:T}=Ve(),{pipelineImpl:u}=Gl(),{finished:v}=Le();function W(...y){return new h((k,Z)=>{let $,V,x=y[y.length-1];if(x&&typeof x=="object"&&!T(x)&&!_(x)){let q=i(y);$=q.signal,V=q.end}u(y,(q,F)=>{q?Z(q):k(F)},{signal:$,end:V})})}d.exports={finished:v,pipeline:W}}),vi=Jo((s,d)=>{var{Buffer:i}=wa(),{ObjectDefineProperty:h,ObjectKeys:_,ReflectApply:T}=$a(),{promisify:{custom:u}}=ne(),{streamReturningOperators:v,promiseReturningOperators:W}=di(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:y}}=Sa(),k=ti(),{pipeline:Z}=Gl(),{destroyer:$}=Ce(),V=Le(),x=As(),q=Ve(),F=d.exports=Pl().Stream;F.isDisturbed=q.isDisturbed,F.isErrored=q.isErrored,F.isReadable=q.isReadable,F.Readable=Bn();for(let z of _(v)){let K=function(...C){if(new.target)throw y();return F.Readable.from(T(Y,this,C))};g=K;let Y=v[z];h(K,"name",{__proto__:null,value:Y.name}),h(K,"length",{__proto__:null,value:Y.length}),h(F.Readable.prototype,z,{__proto__:null,value:K,enumerable:!1,configurable:!0,writable:!0})}var g;for(let z of _(W)){let K=function(...C){if(new.target)throw y();return T(Y,this,C)};g=K;let Y=W[z];h(K,"name",{__proto__:null,value:Y.name}),h(K,"length",{__proto__:null,value:Y.length}),h(F.Readable.prototype,z,{__proto__:null,value:K,enumerable:!1,configurable:!0,writable:!0})}var g;F.Writable=Bs(),F.Duplex=se(),F.Transform=Cs(),F.PassThrough=Qs(),F.pipeline=Z;var{addAbortSignal:E}=Kl();F.addAbortSignal=E,F.finished=V,F.destroy=$,F.compose=k,h(F,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return x}}),h(Z,u,{__proto__:null,enumerable:!0,get(){return x.pipeline}}),h(V,u,{__proto__:null,enumerable:!0,get(){return x.finished}}),F.Stream=F,F._isUint8Array=function(z){return z instanceof Uint8Array},F._uint8ArrayToBuffer=function(z){return i.from(z.buffer,z.byteOffset,z.byteLength)}}),or=Jo((s,d)=>{var i=vi(),h=As(),_=i.Readable.destroy;d.exports=i.Readable,d.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,d.exports._isUint8Array=i._isUint8Array,d.exports.isDisturbed=i.isDisturbed,d.exports.isErrored=i.isErrored,d.exports.isReadable=i.isReadable,d.exports.Readable=i.Readable,d.exports.Writable=i.Writable,d.exports.Duplex=i.Duplex,d.exports.Transform=i.Transform,d.exports.PassThrough=i.PassThrough,d.exports.addAbortSignal=i.addAbortSignal,d.exports.finished=i.finished,d.exports.destroy=i.destroy,d.exports.destroy=_,d.exports.pipeline=i.pipeline,d.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get(){return h}}),d.exports.Stream=i.Stream,d.exports.default=d.exports}),Dl={},In(Dl,{default:()=>Ni}),hi=zl(()=>{Sl(Dl,xe(or())),Ni=xe(or())}),_e=Jo((s,d)=>{var i=ta().Buffer,h=(hi(),Pa(Dl)).Transform,_=Xl().StringDecoder,T=pa();function u(v){h.call(this),this.hashMode=typeof v=="string",this.hashMode?this[v]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}T(u,h),u.prototype.update=function(v,W,y){typeof v=="string"&&(v=i.from(v,W));var k=this._update(v);return this.hashMode?this:(y&&(k=this._toString(k,y)),k)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(v,W,y){var k;try{this.hashMode?this._update(v):this.push(this._update(v))}catch(Z){k=Z}finally{y(k)}},u.prototype._flush=function(v){var W;try{this.push(this.__final())}catch(y){W=y}v(W)},u.prototype._finalOrDigest=function(v){var W=this.__final()||i.alloc(0);return v&&(W=this._toString(W,v,!0)),W},u.prototype._toString=function(v,W,y){if(this._decoder||(this._decoder=new _(W),this._encoding=W),this._encoding!==W)throw new Error("can't switch encodings");var k=this._decoder.write(v);return y&&(k+=this._decoder.end()),k},d.exports=u}),tn=Jo((s,d)=>{var i=pa(),h=Ul(),_=El(),T=jl(),u=_e();function v(W){u.call(this,"digest"),this._hash=W}i(v,u),v.prototype._update=function(W){this._hash.update(W)},v.prototype._final=function(){return this._hash.digest()},d.exports=function(W){return W=W.toLowerCase(),W==="md5"?new h:W==="rmd160"||W==="ripemd160"?new _:new v(T(W))}}),Ri=Jo((s,d)=>{var i=pa(),h=ta().Buffer,_=_e(),T=h.alloc(128),u=64;function v(W,y){_.call(this,"digest"),typeof y=="string"&&(y=h.from(y)),this._alg=W,this._key=y,y.length>u?y=W(y):y.length<u&&(y=h.concat([y,T],u));for(var k=this._ipad=h.allocUnsafe(u),Z=this._opad=h.allocUnsafe(u),$=0;$<u;$++)k[$]=y[$]^54,Z[$]=y[$]^92;this._hash=[k]}i(v,_),v.prototype._update=function(W){this._hash.push(W)},v.prototype._final=function(){var W=this._alg(h.concat(this._hash));return this._alg(h.concat([this._opad,W]))},d.exports=v}),ar=Jo((s,d)=>{var i=Ul();d.exports=function(h){return new i().update(h).digest()}}),er=Jo((s,d)=>{var i=pa(),h=Ri(),_=_e(),T=ta().Buffer,u=ar(),v=El(),W=jl(),y=T.alloc(128);function k(Z,$){_.call(this,"digest"),typeof $=="string"&&($=T.from($));var V=Z==="sha512"||Z==="sha384"?128:64;if(this._alg=Z,this._key=$,$.length>V){var x=Z==="rmd160"?new v:W(Z);$=x.update($).digest()}else $.length<V&&($=T.concat([$,y],V));for(var q=this._ipad=T.allocUnsafe(V),F=this._opad=T.allocUnsafe(V),g=0;g<V;g++)q[g]=$[g]^54,F[g]=$[g]^92;this._hash=Z==="rmd160"?new v:W(Z),this._hash.update(q)}i(k,_),k.prototype._update=function(Z){this._hash.update(Z)},k.prototype._final=function(){var Z=this._hash.digest(),$=this._alg==="rmd160"?new v:W(this._alg);return $.update(this._opad).update(Z).digest()},d.exports=function(Z,$){return Z=Z.toLowerCase(),Z==="rmd160"||Z==="ripemd160"?new k("rmd160",$):Z==="md5"?new h(u,$):new k(Z,$)}}),nr=Jo((s,d)=>{d.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),Zi=Jo((s,d)=>{d.exports=nr()}),lr=Jo((s,d)=>{var i=Math.pow(2,30)-1;d.exports=function(h,_){if(typeof h!="number")throw new TypeError("Iterations not a number");if(h<0)throw new TypeError("Bad iterations");if(typeof _!="number")throw new TypeError("Key length not a number");if(_<0||_>i||_!==_)throw new TypeError("Bad key length")}}),sr=Jo((s,d)=>{var i;global.process&&global.process.browser?i="utf-8":global.process&&global.process.version?(h=parseInt(process.version.split(".")[0].slice(1),10),i=h>=6?"utf-8":"binary"):i="utf-8";var h;d.exports=i}),rr=Jo((s,d)=>{var i=ta().Buffer;d.exports=function(h,_,T){if(i.isBuffer(h))return h;if(typeof h=="string")return i.from(h,_);if(ArrayBuffer.isView(h))return i.from(h.buffer);throw new TypeError(T+" must be a string, a Buffer, a typed array or a DataView")}}),cr=Jo((s,d)=>{var i=ar(),h=El(),_=jl(),T=ta().Buffer,u=lr(),v=sr(),W=rr(),y=T.alloc(128),k={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Z(x,q,F){var g=$(x),E=x==="sha512"||x==="sha384"?128:64;q.length>E?q=g(q):q.length<E&&(q=T.concat([q,y],E));for(var z=T.allocUnsafe(E+k[x]),K=T.allocUnsafe(E+k[x]),Y=0;Y<E;Y++)z[Y]=q[Y]^54,K[Y]=q[Y]^92;var C=T.allocUnsafe(E+F+4);z.copy(C,0,0,E),this.ipad1=C,this.ipad2=z,this.opad=K,this.alg=x,this.blocksize=E,this.hash=g,this.size=k[x]}Z.prototype.run=function(x,q){x.copy(q,this.blocksize);var F=this.hash(q);return F.copy(this.opad,this.blocksize),this.hash(this.opad)};function $(x){function q(g){return _(x).update(g).digest()}function F(g){return new h().update(g).digest()}return x==="rmd160"||x==="ripemd160"?F:x==="md5"?i:q}function V(x,q,F,g,E){u(F,g),x=W(x,v,"Password"),q=W(q,v,"Salt"),E=E||"sha1";var z=new Z(E,x,q.length),K=T.allocUnsafe(g),Y=T.allocUnsafe(q.length+4);q.copy(Y,0,0,q.length);for(var C=0,mo=k[E],to=Math.ceil(g/mo),Mo=1;Mo<=to;Mo++){Y.writeUInt32BE(Mo,q.length);for(var uo=z.run(Y,z.ipad1),Vo=uo,o=1;o<F;o++){Vo=z.run(Vo,z.ipad2);for(var n=0;n<mo;n++)uo[n]^=Vo[n]}uo.copy(K,C),C+=mo}return K}d.exports=V}),yi=Jo((s,d)=>{var i=ta().Buffer,h=lr(),_=sr(),T=cr(),u=rr(),v,W=global.crypto&&global.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},k=[];function Z(F){if(global.process&&!global.process.browser||!W||!W.importKey||!W.deriveBits)return Promise.resolve(!1);if(k[F]!==void 0)return k[F];v=v||i.alloc(8);var g=x(v,v,10,128,F).then(function(){return!0}).catch(function(){return!1});return k[F]=g,g}var $;function V(){return $||(global.process&&global.process.nextTick?$=global.process.nextTick:global.queueMicrotask?$=global.queueMicrotask:global.setImmediate?$=global.setImmediate:$=global.setTimeout,$)}function x(F,g,E,z,K){return W.importKey("raw",F,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Y){return W.deriveBits({name:"PBKDF2",salt:g,iterations:E,hash:{name:K}},Y,z<<3)}).then(function(Y){return i.from(Y)})}function q(F,g){F.then(function(E){V()(function(){g(null,E)})},function(E){V()(function(){g(E)})})}d.exports=function(F,g,E,z,K,Y){typeof K=="function"&&(Y=K,K=void 0),K=K||"sha1";var C=y[K.toLowerCase()];if(!C||typeof global.Promise!="function"){V()(function(){var mo;try{mo=T(F,g,E,z,K)}catch(to){return Y(to)}Y(null,mo)});return}if(h(E,z),F=u(F,_,"Password"),g=u(g,_,"Salt"),typeof Y!="function")throw new Error("No callback provided to pbkdf2");q(Z(C).then(function(mo){return mo?x(F,g,E,z,C):T(F,g,E,z,K)}),Y)}}),ir=Jo((s)=>{s.pbkdf2=yi(),s.pbkdf2Sync=cr()}),ur=Jo((s)=>{s.readUInt32BE=function(_,T){var u=_[0+T]<<24|_[1+T]<<16|_[2+T]<<8|_[3+T];return u>>>0},s.writeUInt32BE=function(_,T,u){_[0+u]=T>>>24,_[1+u]=T>>>16&255,_[2+u]=T>>>8&255,_[3+u]=T&255},s.ip=function(_,T,u,v){for(var W=0,y=0,k=6;k>=0;k-=2){for(var Z=0;Z<=24;Z+=8)W<<=1,W|=T>>>Z+k&1;for(var Z=0;Z<=24;Z+=8)W<<=1,W|=_>>>Z+k&1}for(var k=6;k>=0;k-=2){for(var Z=1;Z<=25;Z+=8)y<<=1,y|=T>>>Z+k&1;for(var Z=1;Z<=25;Z+=8)y<<=1,y|=_>>>Z+k&1}u[v+0]=W>>>0,u[v+1]=y>>>0},s.rip=function(_,T,u,v){for(var W=0,y=0,k=0;k<4;k++)for(var Z=24;Z>=0;Z-=8)W<<=1,W|=T>>>Z+k&1,W<<=1,W|=_>>>Z+k&1;for(var k=4;k<8;k++)for(var Z=24;Z>=0;Z-=8)y<<=1,y|=T>>>Z+k&1,y<<=1,y|=_>>>Z+k&1;u[v+0]=W>>>0,u[v+1]=y>>>0},s.pc1=function(_,T,u,v){for(var W=0,y=0,k=7;k>=5;k--){for(var Z=0;Z<=24;Z+=8)W<<=1,W|=T>>Z+k&1;for(var Z=0;Z<=24;Z+=8)W<<=1,W|=_>>Z+k&1}for(var Z=0;Z<=24;Z+=8)W<<=1,W|=T>>Z+k&1;for(var k=1;k<=3;k++){for(var Z=0;Z<=24;Z+=8)y<<=1,y|=T>>Z+k&1;for(var Z=0;Z<=24;Z+=8)y<<=1,y|=_>>Z+k&1}for(var Z=0;Z<=24;Z+=8)y<<=1,y|=_>>Z+k&1;u[v+0]=W>>>0,u[v+1]=y>>>0},s.r28shl=function(_,T){return _<<T&268435455|_>>>28-T};var d=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(_,T,u,v){for(var W=0,y=0,k=d.length>>>1,Z=0;Z<k;Z++)W<<=1,W|=_>>>d[Z]&1;for(var Z=k;Z<d.length;Z++)y<<=1,y|=T>>>d[Z]&1;u[v+0]=W>>>0,u[v+1]=y>>>0},s.expand=function(_,T,u){var v=0,W=0;v=(_&1)<<5|_>>>27;for(var y=23;y>=15;y-=4)v<<=6,v|=_>>>y&63;for(var y=11;y>=3;y-=4)W|=_>>>y&63,W<<=6;W|=(_&31)<<1|_>>>31,T[u+0]=v>>>0,T[u+1]=W>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(_,T){for(var u=0,v=0;v<4;v++){var W=_>>>18-v*6&63,y=i[v*64+W];u<<=4,u|=y}for(var v=0;v<4;v++){var W=T>>>18-v*6&63,y=i[256+v*64+W];u<<=4,u|=y}return u>>>0};var h=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(_){for(var T=0,u=0;u<h.length;u++)T<<=1,T|=_>>>h[u]&1;return T>>>0},s.padSplit=function(_,T,u){for(var v=_.toString(2);v.length<T;)v="0"+v;for(var W=[],y=0;y<T;y+=u)W.push(v.slice(y,y+u));return W.join(" ")}}),Ka=Jo((s,d)=>{d.exports=i;function i(h,_){if(!h)throw new Error(_||"Assertion failed")}i.equal=function(h,_,T){if(h!=_)throw new Error(T||"Assertion failed: "+h+" != "+_)}}),Hl=Jo((s,d)=>{var i=Ka();function h(_){this.options=_,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}d.exports=h,h.prototype._init=function(){},h.prototype.update=function(_){return _.length===0?[]:this.type==="decrypt"?this._updateDecrypt(_):this._updateEncrypt(_)},h.prototype._buffer=function(_,T){for(var u=Math.min(this.buffer.length-this.bufferOff,_.length-T),v=0;v<u;v++)this.buffer[this.bufferOff+v]=_[T+v];return this.bufferOff+=u,u},h.prototype._flushBuffer=function(_,T){return this._update(this.buffer,0,_,T),this.bufferOff=0,this.blockSize},h.prototype._updateEncrypt=function(_){var T=0,u=0,v=(this.bufferOff+_.length)/this.blockSize|0,W=new Array(v*this.blockSize);this.bufferOff!==0&&(T+=this._buffer(_,T),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(W,u)));for(var y=_.length-(_.length-T)%this.blockSize;T<y;T+=this.blockSize)this._update(_,T,W,u),u+=this.blockSize;for(;T<_.length;T++,this.bufferOff++)this.buffer[this.bufferOff]=_[T];return W},h.prototype._updateDecrypt=function(_){for(var T=0,u=0,v=Math.ceil((this.bufferOff+_.length)/this.blockSize)-1,W=new Array(v*this.blockSize);v>0;v--)T+=this._buffer(_,T),u+=this._flushBuffer(W,u);return T+=this._buffer(_,T),W},h.prototype.final=function(_){var T;_&&(T=this.update(_));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),T?T.concat(u):u},h.prototype._pad=function(_,T){if(T===0)return!1;for(;T<_.length;)_[T++]=0;return!0},h.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var _=new Array(this.blockSize);return this._update(this.buffer,0,_,0),_},h.prototype._unpad=function(_){return _},h.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var _=new Array(this.blockSize);return this._flushBuffer(_,0),this._unpad(_)}}),mr=Jo((s,d)=>{var i=Ka(),h=pa(),_=ur(),T=Hl();function u(){this.tmp=new Array(2),this.keys=null}function v(y){T.call(this,y);var k=new u;this._desState=k,this.deriveKeys(k,y.key)}h(v,T),d.exports=v,v.create=function(y){return new v(y)};var W=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];v.prototype.deriveKeys=function(y,k){y.keys=new Array(32),i.equal(k.length,this.blockSize,"Invalid key length");var Z=_.readUInt32BE(k,0),$=_.readUInt32BE(k,4);_.pc1(Z,$,y.tmp,0),Z=y.tmp[0],$=y.tmp[1];for(var V=0;V<y.keys.length;V+=2){var x=W[V>>>1];Z=_.r28shl(Z,x),$=_.r28shl($,x),_.pc2(Z,$,y.keys,V)}},v.prototype._update=function(y,k,Z,$){var V=this._desState,x=_.readUInt32BE(y,k),q=_.readUInt32BE(y,k+4);_.ip(x,q,V.tmp,0),x=V.tmp[0],q=V.tmp[1],this.type==="encrypt"?this._encrypt(V,x,q,V.tmp,0):this._decrypt(V,x,q,V.tmp,0),x=V.tmp[0],q=V.tmp[1],_.writeUInt32BE(Z,x,$),_.writeUInt32BE(Z,q,$+4)},v.prototype._pad=function(y,k){for(var Z=y.length-k,$=k;$<y.length;$++)y[$]=Z;return!0},v.prototype._unpad=function(y){for(var k=y[y.length-1],Z=y.length-k;Z<y.length;Z++)i.equal(y[Z],k);return y.slice(0,y.length-k)},v.prototype._encrypt=function(y,k,Z,$,V){for(var x=k,q=Z,F=0;F<y.keys.length;F+=2){var g=y.keys[F],E=y.keys[F+1];_.expand(q,y.tmp,0),g^=y.tmp[0],E^=y.tmp[1];var z=_.substitute(g,E),K=_.permute(z),Y=q;q=(x^K)>>>0,x=Y}_.rip(q,x,$,V)},v.prototype._decrypt=function(y,k,Z,$,V){for(var x=Z,q=k,F=y.keys.length-2;F>=0;F-=2){var g=y.keys[F],E=y.keys[F+1];_.expand(x,y.tmp,0),g^=y.tmp[0],E^=y.tmp[1];var z=_.substitute(g,E),K=_.permute(z),Y=x;x=(q^K)>>>0,q=Y}_.rip(x,q,$,V)}}),ki=Jo((s)=>{var d=Ka(),i=pa(),h={};function _(u){d.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var v=0;v<this.iv.length;v++)this.iv[v]=u[v]}function T(u){function v(Z){u.call(this,Z),this._cbcInit()}i(v,u);for(var W=Object.keys(h),y=0;y<W.length;y++){var k=W[y];v.prototype[k]=h[k]}return v.create=function(Z){return new v(Z)},v}s.instantiate=T,h._cbcInit=function(){var u=new _(this.options.iv);this._cbcState=u},h._update=function(u,v,W,y){var k=this._cbcState,Z=this.constructor.super_.prototype,$=k.iv;if(this.type==="encrypt"){for(var V=0;V<this.blockSize;V++)$[V]^=u[v+V];Z._update.call(this,$,0,W,y);for(var V=0;V<this.blockSize;V++)$[V]=W[y+V]}else{Z._update.call(this,u,v,W,y);for(var V=0;V<this.blockSize;V++)W[y+V]^=$[V];for(var V=0;V<this.blockSize;V++)$[V]=u[v+V]}}}),qi=Jo((s,d)=>{var i=Ka(),h=pa(),_=Hl(),T=mr();function u(W,y){i.equal(y.length,24,"Invalid key length");var k=y.slice(0,8),Z=y.slice(8,16),$=y.slice(16,24);W==="encrypt"?this.ciphers=[T.create({type:"encrypt",key:k}),T.create({type:"decrypt",key:Z}),T.create({type:"encrypt",key:$})]:this.ciphers=[T.create({type:"decrypt",key:$}),T.create({type:"encrypt",key:Z}),T.create({type:"decrypt",key:k})]}function v(W){_.call(this,W);var y=new u(this.type,this.options.key);this._edeState=y}h(v,_),d.exports=v,v.create=function(W){return new v(W)},v.prototype._update=function(W,y,k,Z){var $=this._edeState;$.ciphers[0]._update(W,y,k,Z),$.ciphers[1]._update(k,Z,k,Z),$.ciphers[2]._update(k,Z,k,Z)},v.prototype._pad=T.prototype._pad,v.prototype._unpad=T.prototype._unpad}),Ti=Jo((s)=>{s.utils=ur(),s.Cipher=Hl(),s.DES=mr(),s.CBC=ki(),s.EDE=qi()}),xi=Jo((s,d)=>{var i=_e(),h=Ti(),_=pa(),T=ta().Buffer,u={"des-ede3-cbc":h.CBC.instantiate(h.EDE),"des-ede3":h.EDE,"des-ede-cbc":h.CBC.instantiate(h.EDE),"des-ede":h.EDE,"des-cbc":h.CBC.instantiate(h.DES),"des-ecb":h.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],d.exports=v,_(v,i);function v(W){i.call(this);var y=W.mode.toLowerCase(),k=u[y],Z;W.decrypt?Z="decrypt":Z="encrypt";var $=W.key;T.isBuffer($)||($=T.from($)),(y==="des-ede"||y==="des-ede-cbc")&&($=T.concat([$,$.slice(0,8)]));var V=W.iv;T.isBuffer(V)||(V=T.from(V)),this._des=k.create({key:$,iv:V,type:Z})}v.prototype._update=function(W){return T.from(this._des.update(W))},v.prototype._final=function(){return T.from(this._des.final())}}),$i=Jo((s)=>{s.encrypt=function(d,i){return d._cipher.encryptBlock(i)},s.decrypt=function(d,i){return d._cipher.decryptBlock(i)}}),vn=Jo((s,d)=>{d.exports=function(i,h){for(var _=Math.min(i.length,h.length),T=new Buffer(_),u=0;u<_;++u)T[u]=i[u]^h[u];return T}}),Mi=Jo((s)=>{var d=vn();s.encrypt=function(i,h){var _=d(h,i._prev);return i._prev=i._cipher.encryptBlock(_),i._prev},s.decrypt=function(i,h){var _=i._prev;i._prev=h;var T=i._cipher.decryptBlock(h);return d(T,_)}}),Vi=Jo((s)=>{var d=ta().Buffer,i=vn();function h(_,T,u){var v=T.length,W=i(T,_._cache);return _._cache=_._cache.slice(v),_._prev=d.concat([_._prev,u?T:W]),W}s.encrypt=function(_,T,u){for(var v=d.allocUnsafe(0),W;T.length;)if(_._cache.length===0&&(_._cache=_._cipher.encryptBlock(_._prev),_._prev=d.allocUnsafe(0)),_._cache.length<=T.length)W=_._cache.length,v=d.concat([v,h(_,T.slice(0,W),u)]),T=T.slice(W);else{v=d.concat([v,h(_,T,u)]);break}return v}}),Li=Jo((s)=>{var d=ta().Buffer;function i(h,_,T){var u=h._cipher.encryptBlock(h._prev),v=u[0]^_;return h._prev=d.concat([h._prev.slice(1),d.from([T?_:v])]),v}s.encrypt=function(h,_,T){for(var u=_.length,v=d.allocUnsafe(u),W=-1;++W<u;)v[W]=i(h,_[W],T);return v}}),Wi=Jo((s)=>{var d=ta().Buffer;function i(_,T,u){for(var v,W=-1,y=8,k=0,Z,$;++W<y;)v=_._cipher.encryptBlock(_._prev),Z=T&1<<7-W?128:0,$=v[0]^Z,k+=($&128)>>W%8,_._prev=h(_._prev,u?Z:$);return k}function h(_,T){var u=_.length,v=-1,W=d.allocUnsafe(_.length);for(_=d.concat([_,d.from([T])]);++v<u;)W[v]=_[v]<<1|_[v+1]>>7;return W}s.encrypt=function(_,T,u){for(var v=T.length,W=d.allocUnsafe(v),y=-1;++y<v;)W[y]=i(_,T[y],u);return W}}),wi=Jo((s)=>{var d=vn();function i(h){return h._prev=h._cipher.encryptBlock(h._prev),h._prev}s.encrypt=function(h,_){for(;h._cache.length<_.length;)h._cache=Buffer.concat([h._cache,i(h)]);var T=h._cache.slice(0,_.length);return h._cache=h._cache.slice(_.length),d(_,T)}}),br=Jo((s,d)=>{function i(h){for(var _=h.length,T;_--;)if(T=h.readUInt8(_),T===255)h.writeUInt8(0,_);else{T++,h.writeUInt8(T,_);break}}d.exports=i}),pr=Jo((s)=>{var d=vn(),i=ta().Buffer,h=br();function _(u){var v=u._cipher.encryptBlockRaw(u._prev);return h(u._prev),v}var T=16;s.encrypt=function(u,v){var W=Math.ceil(v.length/T),y=u._cache.length;u._cache=i.concat([u._cache,i.allocUnsafe(W*T)]);for(var k=0;k<W;k++){var Z=_(u),$=y+k*T;u._cache.writeUInt32BE(Z[0],$+0),u._cache.writeUInt32BE(Z[1],$+4),u._cache.writeUInt32BE(Z[2],$+8),u._cache.writeUInt32BE(Z[3],$+12)}var V=u._cache.slice(0,v.length);return u._cache=u._cache.slice(v.length),d(v,V)}}),dr=Jo((s,d)=>{d.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),Yl=Jo((s,d)=>{var i={ECB:$i(),CBC:Mi(),CFB:Vi(),CFB8:Li(),CFB1:Wi(),OFB:wi(),CTR:pr(),GCM:pr()},h=dr();for(_ in h)h[_].module=i[h[_].mode];var _;d.exports=h}),Cn=Jo((s,d)=>{var i=ta().Buffer;function h(y){i.isBuffer(y)||(y=i.from(y));for(var k=y.length/4|0,Z=new Array(k),$=0;$<k;$++)Z[$]=y.readUInt32BE($*4);return Z}function _(y){for(var k=0;k<y.length;y++)y[k]=0}function T(y,k,Z,$,V){for(var x=Z[0],q=Z[1],F=Z[2],g=Z[3],E=y[0]^k[0],z=y[1]^k[1],K=y[2]^k[2],Y=y[3]^k[3],C,mo,to,Mo,uo=4,Vo=1;Vo<V;Vo++)C=x[E>>>24]^q[z>>>16&255]^F[K>>>8&255]^g[Y&255]^k[uo++],mo=x[z>>>24]^q[K>>>16&255]^F[Y>>>8&255]^g[E&255]^k[uo++],to=x[K>>>24]^q[Y>>>16&255]^F[E>>>8&255]^g[z&255]^k[uo++],Mo=x[Y>>>24]^q[E>>>16&255]^F[z>>>8&255]^g[K&255]^k[uo++],E=C,z=mo,K=to,Y=Mo;return C=($[E>>>24]<<24|$[z>>>16&255]<<16|$[K>>>8&255]<<8|$[Y&255])^k[uo++],mo=($[z>>>24]<<24|$[K>>>16&255]<<16|$[Y>>>8&255]<<8|$[E&255])^k[uo++],to=($[K>>>24]<<24|$[Y>>>16&255]<<16|$[E>>>8&255]<<8|$[z&255])^k[uo++],Mo=($[Y>>>24]<<24|$[E>>>16&255]<<16|$[z>>>8&255]<<8|$[K&255])^k[uo++],C=C>>>0,mo=mo>>>0,to=to>>>0,Mo=Mo>>>0,[C,mo,to,Mo]}var u=[0,1,2,4,8,16,32,64,128,27,54],v=function(){for(var y=new Array(256),k=0;k<256;k++)k<128?y[k]=k<<1:y[k]=k<<1^283;for(var Z=[],$=[],V=[[],[],[],[]],x=[[],[],[],[]],q=0,F=0,g=0;g<256;++g){var E=F^F<<1^F<<2^F<<3^F<<4;E=E>>>8^E&255^99,Z[q]=E,$[E]=q;var z=y[q],K=y[z],Y=y[K],C=y[E]*257^E*16843008;V[0][q]=C<<24|C>>>8,V[1][q]=C<<16|C>>>16,V[2][q]=C<<8|C>>>24,V[3][q]=C,C=Y*16843009^K*65537^z*257^q*16843008,x[0][E]=C<<24|C>>>8,x[1][E]=C<<16|C>>>16,x[2][E]=C<<8|C>>>24,x[3][E]=C,q===0?q=F=1:(q=z^y[y[y[Y^z]]],F^=y[y[F]])}return{SBOX:Z,INV_SBOX:$,SUB_MIX:V,INV_SUB_MIX:x}}();function W(y){this._key=h(y),this._reset()}W.blockSize=16,W.keySize=32,W.prototype.blockSize=W.blockSize,W.prototype.keySize=W.keySize,W.prototype._reset=function(){for(var y=this._key,k=y.length,Z=k+6,$=(Z+1)*4,V=[],x=0;x<k;x++)V[x]=y[x];for(x=k;x<$;x++){var q=V[x-1];x%k===0?(q=q<<8|q>>>24,q=v.SBOX[q>>>24]<<24|v.SBOX[q>>>16&255]<<16|v.SBOX[q>>>8&255]<<8|v.SBOX[q&255],q^=u[x/k|0]<<24):k>6&&x%k===4&&(q=v.SBOX[q>>>24]<<24|v.SBOX[q>>>16&255]<<16|v.SBOX[q>>>8&255]<<8|v.SBOX[q&255]),V[x]=V[x-k]^q}for(var F=[],g=0;g<$;g++){var E=$-g,z=V[E-(g%4?0:4)];g<4||E<=4?F[g]=z:F[g]=v.INV_SUB_MIX[0][v.SBOX[z>>>24]]^v.INV_SUB_MIX[1][v.SBOX[z>>>16&255]]^v.INV_SUB_MIX[2][v.SBOX[z>>>8&255]]^v.INV_SUB_MIX[3][v.SBOX[z&255]]}this._nRounds=Z,this._keySchedule=V,this._invKeySchedule=F},W.prototype.encryptBlockRaw=function(y){return y=h(y),T(y,this._keySchedule,v.SUB_MIX,v.SBOX,this._nRounds)},W.prototype.encryptBlock=function(y){var k=this.encryptBlockRaw(y),Z=i.allocUnsafe(16);return Z.writeUInt32BE(k[0],0),Z.writeUInt32BE(k[1],4),Z.writeUInt32BE(k[2],8),Z.writeUInt32BE(k[3],12),Z},W.prototype.decryptBlock=function(y){y=h(y);var k=y[1];y[1]=y[3],y[3]=k;var Z=T(y,this._invKeySchedule,v.INV_SUB_MIX,v.INV_SBOX,this._nRounds),$=i.allocUnsafe(16);return $.writeUInt32BE(Z[0],0),$.writeUInt32BE(Z[3],4),$.writeUInt32BE(Z[2],8),$.writeUInt32BE(Z[1],12),$},W.prototype.scrub=function(){_(this._keySchedule),_(this._invKeySchedule),_(this._key)},d.exports.AES=W}),Oi=Jo((s,d)=>{var i=ta().Buffer,h=i.alloc(16,0);function _(v){return[v.readUInt32BE(0),v.readUInt32BE(4),v.readUInt32BE(8),v.readUInt32BE(12)]}function T(v){var W=i.allocUnsafe(16);return W.writeUInt32BE(v[0]>>>0,0),W.writeUInt32BE(v[1]>>>0,4),W.writeUInt32BE(v[2]>>>0,8),W.writeUInt32BE(v[3]>>>0,12),W}function u(v){this.h=v,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}u.prototype.ghash=function(v){for(var W=-1;++W<v.length;)this.state[W]^=v[W];this._multiply()},u.prototype._multiply=function(){for(var v=_(this.h),W=[0,0,0,0],y,k,Z,$=-1;++$<128;){for(k=(this.state[~~($/8)]&1<<7-$%8)!==0,k&&(W[0]^=v[0],W[1]^=v[1],W[2]^=v[2],W[3]^=v[3]),Z=(v[3]&1)!==0,y=3;y>0;y--)v[y]=v[y]>>>1|(v[y-1]&1)<<31;v[0]=v[0]>>>1,Z&&(v[0]=v[0]^-520093696)}this.state=T(W)},u.prototype.update=function(v){this.cache=i.concat([this.cache,v]);for(var W;this.cache.length>=16;)W=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(W)},u.prototype.final=function(v,W){return this.cache.length&&this.ghash(i.concat([this.cache,h],16)),this.ghash(T([0,v,0,W])),this.state},d.exports=u}),fr=Jo((s,d)=>{var i=Cn(),h=ta().Buffer,_=_e(),T=pa(),u=Oi(),v=vn(),W=br();function y($,V){var x=0;$.length!==V.length&&x++;for(var q=Math.min($.length,V.length),F=0;F<q;++F)x+=$[F]^V[F];return x}function k($,V,x){if(V.length===12)return $._finID=h.concat([V,h.from([0,0,0,1])]),h.concat([V,h.from([0,0,0,2])]);var q=new u(x),F=V.length,g=F%16;q.update(V),g&&(g=16-g,q.update(h.alloc(g,0))),q.update(h.alloc(8,0));var E=F*8,z=h.alloc(8);z.writeUIntBE(E,0,8),q.update(z),$._finID=q.state;var K=h.from($._finID);return W(K),K}function Z($,V,x,q){_.call(this);var F=h.alloc(4,0);this._cipher=new i.AES(V);var g=this._cipher.encryptBlock(F);this._ghash=new u(g),x=k(this,x,g),this._prev=h.from(x),this._cache=h.allocUnsafe(0),this._secCache=h.allocUnsafe(0),this._decrypt=q,this._alen=0,this._len=0,this._mode=$,this._authTag=null,this._called=!1}T(Z,_),Z.prototype._update=function($){if(!this._called&&this._alen){var V=16-this._alen%16;V<16&&(V=h.alloc(V,0),this._ghash.update(V))}this._called=!0;var x=this._mode.encrypt(this,$);return this._decrypt?this._ghash.update($):this._ghash.update(x),this._len+=$.length,x},Z.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var $=v(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&y($,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=$,this._cipher.scrub()},Z.prototype.getAuthTag=function(){if(this._decrypt||!h.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Z.prototype.setAuthTag=function($){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=$},Z.prototype.setAAD=function($){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update($),this._alen+=$.length},d.exports=Z}),_r=Jo((s,d)=>{var i=Cn(),h=ta().Buffer,_=_e(),T=pa();function u(v,W,y,k){_.call(this),this._cipher=new i.AES(W),this._prev=h.from(y),this._cache=h.allocUnsafe(0),this._secCache=h.allocUnsafe(0),this._decrypt=k,this._mode=v}T(u,_),u.prototype._update=function(v){return this._mode.encrypt(this,v,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},d.exports=u}),Qn=Jo((s,d)=>{var i=ta().Buffer,h=Ul();function _(T,u,v,W){if(i.isBuffer(T)||(T=i.from(T,"binary")),u&&(i.isBuffer(u)||(u=i.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var y=v/8,k=i.alloc(y),Z=i.alloc(W||0),$=i.alloc(0);y>0||W>0;){var V=new h;V.update($),V.update(T),u&&V.update(u),$=V.digest();var x=0;if(y>0){var q=k.length-y;x=Math.min(y,$.length),$.copy(k,q,0,x),y-=x}if(x<$.length&&W>0){var F=Z.length-W,g=Math.min(W,$.length-x);$.copy(Z,F,x,x+g),W-=g}}return $.fill(0),{key:k,iv:Z}}d.exports=_}),Fi=Jo((s)=>{var d=Yl(),i=fr(),h=ta().Buffer,_=_r(),T=_e(),u=Cn(),v=Qn(),W=pa();function y(x,q,F){T.call(this),this._cache=new Z,this._cipher=new u.AES(q),this._prev=h.from(F),this._mode=x,this._autopadding=!0}W(y,T),y.prototype._update=function(x){this._cache.add(x);for(var q,F,g=[];q=this._cache.get();)F=this._mode.encrypt(this,q),g.push(F);return h.concat(g)};var k=h.alloc(16,16);y.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return x=this._mode.encrypt(this,x),this._cipher.scrub(),x;if(!x.equals(k))throw this._cipher.scrub(),new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this};function Z(){this.cache=h.allocUnsafe(0)}Z.prototype.add=function(x){this.cache=h.concat([this.cache,x])},Z.prototype.get=function(){if(this.cache.length>15){var x=this.cache.slice(0,16);return this.cache=this.cache.slice(16),x}return null},Z.prototype.flush=function(){for(var x=16-this.cache.length,q=h.allocUnsafe(x),F=-1;++F<x;)q.writeUInt8(x,F);return h.concat([this.cache,q])};function $(x,q,F){var g=d[x.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof q=="string"&&(q=h.from(q)),q.length!==g.key/8)throw new TypeError("invalid key length "+q.length);if(typeof F=="string"&&(F=h.from(F)),g.mode!=="GCM"&&F.length!==g.iv)throw new TypeError("invalid iv length "+F.length);return g.type==="stream"?new _(g.module,q,F):g.type==="auth"?new i(g.module,q,F):new y(g.module,q,F)}function V(x,q){var F=d[x.toLowerCase()];if(!F)throw new TypeError("invalid suite type");var g=v(q,!1,F.key,F.iv);return $(x,g.key,g.iv)}s.createCipheriv=$,s.createCipher=V}),zi=Jo((s)=>{var d=fr(),i=ta().Buffer,h=Yl(),_=_r(),T=_e(),u=Cn(),v=Qn(),W=pa();function y(x,q,F){T.call(this),this._cache=new k,this._last=void 0,this._cipher=new u.AES(q),this._prev=i.from(F),this._mode=x,this._autopadding=!0}W(y,T),y.prototype._update=function(x){this._cache.add(x);for(var q,F,g=[];q=this._cache.get(this._autopadding);)F=this._mode.decrypt(this,q),g.push(F);return i.concat(g)},y.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return Z(this._mode.decrypt(this,x));if(x)throw new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this};function k(){this.cache=i.allocUnsafe(0)}k.prototype.add=function(x){this.cache=i.concat([this.cache,x])},k.prototype.get=function(x){var q;if(x){if(this.cache.length>16)return q=this.cache.slice(0,16),this.cache=this.cache.slice(16),q}else if(this.cache.length>=16)return q=this.cache.slice(0,16),this.cache=this.cache.slice(16),q;return null},k.prototype.flush=function(){if(this.cache.length)return this.cache};function Z(x){var q=x[15];if(q<1||q>16)throw new Error("unable to decrypt data");for(var F=-1;++F<q;)if(x[F+(16-q)]!==q)throw new Error("unable to decrypt data");if(q!==16)return x.slice(0,16-q)}function $(x,q,F){var g=h[x.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof F=="string"&&(F=i.from(F)),g.mode!=="GCM"&&F.length!==g.iv)throw new TypeError("invalid iv length "+F.length);if(typeof q=="string"&&(q=i.from(q)),q.length!==g.key/8)throw new TypeError("invalid key length "+q.length);return g.type==="stream"?new _(g.module,q,F,!0):g.type==="auth"?new d(g.module,q,F,!0):new y(g.module,q,F)}function V(x,q){var F=h[x.toLowerCase()];if(!F)throw new TypeError("invalid suite type");var g=v(q,!1,F.key,F.iv);return $(x,g.key,g.iv)}s.createDecipher=V,s.createDecipheriv=$}),Bl=Jo((s)=>{var d=Fi(),i=zi(),h=dr();function _(){return Object.keys(h)}s.createCipher=s.Cipher=d.createCipher,s.createCipheriv=s.Cipheriv=d.createCipheriv,s.createDecipher=s.Decipher=i.createDecipher,s.createDecipheriv=s.Decipheriv=i.createDecipheriv,s.listCiphers=s.getCiphers=_}),Si=Jo((s)=>{s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}}),Xi=Jo((s)=>{var d=xi(),i=Bl(),h=Yl(),_=Si(),T=Qn();function u(Z,$){Z=Z.toLowerCase();var V,x;if(h[Z])V=h[Z].key,x=h[Z].iv;else if(_[Z])V=_[Z].key*8,x=_[Z].iv;else throw new TypeError("invalid suite type");var q=T($,!1,V,x);return W(Z,q.key,q.iv)}function v(Z,$){Z=Z.toLowerCase();var V,x;if(h[Z])V=h[Z].key,x=h[Z].iv;else if(_[Z])V=_[Z].key*8,x=_[Z].iv;else throw new TypeError("invalid suite type");var q=T($,!1,V,x);return y(Z,q.key,q.iv)}function W(Z,$,V){if(Z=Z.toLowerCase(),h[Z])return i.createCipheriv(Z,$,V);if(_[Z])return new d({key:$,iv:V,mode:Z});throw new TypeError("invalid suite type")}function y(Z,$,V){if(Z=Z.toLowerCase(),h[Z])return i.createDecipheriv(Z,$,V);if(_[Z])return new d({key:$,iv:V,mode:Z,decrypt:!0});throw new TypeError("invalid suite type")}function k(){return Object.keys(_).concat(i.getCiphers())}s.createCipher=s.Cipher=u,s.createCipheriv=s.Cipheriv=W,s.createDecipher=s.Decipher=v,s.createDecipheriv=s.Decipheriv=y,s.listCiphers=s.getCiphers=k}),We=Jo(()=>{}),tr=Jo((s,d)=>{(function(i,h){function _(o,n){if(!o)throw new Error(n||"Assertion failed")}function T(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof i=="object"?i.exports=u:h.BN=u,u.BN=u,u.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=We().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),_(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(n===16?this._parseHex(o,l,c):(this._parseBase(o,n,l),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(_(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(_(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m,t,N=0;if(c==="be")for(l=o.length-1,m=0;l>=0;l-=3)t=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);else if(c==="le")for(l=0,m=0;l<o.length;l+=3)t=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);return this.strip()};function W(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var l=W(o,c);return c-1>=n&&(l|=W(o,c-1)<<4),l}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m=0,t=0,N;if(c==="be")for(l=o.length-1;l>=n;l-=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8;else{var p=o.length-n;for(l=p%2===0?n+1:n;l<o.length;l+=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8}this.strip()};function k(o,n,c,l){for(var m=0,t=Math.min(o.length,c),N=n;N<t;N++){var p=o.charCodeAt(N)-48;m*=l,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var l=0,m=1;m<=67108863;m*=n)l++;l--,m=m/n|0;for(var t=o.length-c,N=t%l,p=Math.min(t,t-N)+c,a=0,b=c;b<p;b+=l)a=k(o,b,b+l,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,b,o.length,n),b=0;b<N;b++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var l=0,m=0,t=0;t<this.length;t++){var N=this.words[t],p=((N<<l|m)&16777215).toString(16);m=N>>>24-l&16777215,m!==0||t!==this.length-1?c=Z[6-p.length]+p+c:c=p+c,l+=2,l>=26&&(l-=26,t--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=$[o],b=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(b).toString(o);S=S.idivn(b),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}_(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return _(typeof v<"u"),this.toArrayLike(v,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var l=this.byteLength(),m=c||Math.max(1,l);_(l<=m,"byte array longer than desired length"),_(m>0,"Requested array length <= 0"),this.strip();var t=n==="le",N=new o(m),p,a,b=this.clone();if(t){for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[a]=p;for(;a<m;a++)N[a]=0}else{for(a=0;a<m-l;a++)N[a]=0;for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[m-a-1]=p}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function x(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var l=c/26|0,m=c%26;n[c]=(o.words[l]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return _((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return _((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var l=0;l<c.length;l++)this.words[l]=n.words[l]^c.words[l];if(this!==n)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return _((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){_(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var l=0;l<n;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){_(typeof o=="number"&&o>=0);var c=o/26|0,l=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,l;this.length>o.length?(c=this,l=o):(c=o,l=this);for(var m=0,t=0;t<l.length;t++)n=(c.words[t]|0)+(l.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;for(;m!==0&&t<c.length;t++)n=(c.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;t<c.length;t++)this.words[t]=c.words[t];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,m;c>0?(l=this,m=o):(l=o,m=this);for(var t=0,N=0;N<m.length;N++)n=(l.words[N]|0)-(m.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;for(;t!==0&&N<l.length;N++)n=(l.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;if(t===0&&N<l.length&&l!==this)for(;N<l.length;N++)this.words[N]=l.words[N];return this.length=Math.max(this.length,N),l!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var l=o.length+n.length|0;c.length=l,l=l-1|0;var m=o.words[0]|0,t=n.words[0]|0,N=m*t,p=N&67108863,a=N/67108864|0;c.words[0]=p;for(var b=1;b<l;b++){for(var S=a>>>26,w=a&67108863,I=Math.min(b,n.length-1),No=Math.max(0,b-o.length+1);No<=I;No++){var ko=b-No|0;m=o.words[ko]|0,t=n.words[No]|0,N=m*t+w,S+=N/67108864|0,w=N&67108863}c.words[b]=w|0,a=S|0}return a!==0?c.words[b]=a|0:c.length--,c.strip()}var F=function(o,n,c){var l=o.words,m=n.words,t=c.words,N=0,p,a,b,S=l[0]|0,w=S&8191,I=S>>>13,No=l[1]|0,ko=No&8191,xo=No>>>13,bo=l[2]|0,co=bo&8191,fo=bo>>>13,Xo=l[3]|0,$o=Xo&8191,So=Xo>>>13,D=l[4]|0,X=D&8191,ao=D>>>13,wo=l[5]|0,zo=wo&8191,Lo=wo>>>13,Ho=l[6]|0,Uo=Ho&8191,Po=Ho>>>13,Ao=l[7]|0,Ko=Ao&8191,go=Ao>>>13,da=l[8]|0,L=da&8191,e=da>>>13,r=l[9]|0,f=r&8191,R=r>>>13,M=m[0]|0,O=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,oo=m[2]|0,H=oo&8191,G=oo>>>13,no=m[3]|0,Q=no&8191,ro=no>>>13,Zo=m[4]|0,A=Zo&8191,eo=Zo>>>13,so=m[5]|0,B=so&8191,lo=so>>>13,Ro=m[6]|0,po=Ro&8191,_o=Ro>>>13,Fo=m[7]|0,ho=Fo&8191,yo=Fo>>>13,jo=m[8]|0,To=jo&8191,qo=jo>>>13,Eo=m[9]|0,Wo=Eo&8191,Oo=Eo>>>13;c.negative=o.negative^n.negative,c.length=19,p=Math.imul(w,O),a=Math.imul(w,U),a=a+Math.imul(I,O)|0,b=Math.imul(I,U);var Go=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,p=Math.imul(ko,O),a=Math.imul(ko,U),a=a+Math.imul(xo,O)|0,b=Math.imul(xo,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,b=b+Math.imul(I,J)|0;var Io=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,p=Math.imul(co,O),a=Math.imul(co,U),a=a+Math.imul(fo,O)|0,b=Math.imul(fo,U),p=p+Math.imul(ko,j)|0,a=a+Math.imul(ko,J)|0,a=a+Math.imul(xo,j)|0,b=b+Math.imul(xo,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,b=b+Math.imul(I,G)|0;var Do=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,p=Math.imul($o,O),a=Math.imul($o,U),a=a+Math.imul(So,O)|0,b=Math.imul(So,U),p=p+Math.imul(co,j)|0,a=a+Math.imul(co,J)|0,a=a+Math.imul(fo,j)|0,b=b+Math.imul(fo,J)|0,p=p+Math.imul(ko,H)|0,a=a+Math.imul(ko,G)|0,a=a+Math.imul(xo,H)|0,b=b+Math.imul(xo,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,Q)|0,b=b+Math.imul(I,ro)|0;var Qo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,p=Math.imul(X,O),a=Math.imul(X,U),a=a+Math.imul(ao,O)|0,b=Math.imul(ao,U),p=p+Math.imul($o,j)|0,a=a+Math.imul($o,J)|0,a=a+Math.imul(So,j)|0,b=b+Math.imul(So,J)|0,p=p+Math.imul(co,H)|0,a=a+Math.imul(co,G)|0,a=a+Math.imul(fo,H)|0,b=b+Math.imul(fo,G)|0,p=p+Math.imul(ko,Q)|0,a=a+Math.imul(ko,ro)|0,a=a+Math.imul(xo,Q)|0,b=b+Math.imul(xo,ro)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,eo)|0,a=a+Math.imul(I,A)|0,b=b+Math.imul(I,eo)|0;var Bo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,p=Math.imul(zo,O),a=Math.imul(zo,U),a=a+Math.imul(Lo,O)|0,b=Math.imul(Lo,U),p=p+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(ao,j)|0,b=b+Math.imul(ao,J)|0,p=p+Math.imul($o,H)|0,a=a+Math.imul($o,G)|0,a=a+Math.imul(So,H)|0,b=b+Math.imul(So,G)|0,p=p+Math.imul(co,Q)|0,a=a+Math.imul(co,ro)|0,a=a+Math.imul(fo,Q)|0,b=b+Math.imul(fo,ro)|0,p=p+Math.imul(ko,A)|0,a=a+Math.imul(ko,eo)|0,a=a+Math.imul(xo,A)|0,b=b+Math.imul(xo,eo)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,B)|0,b=b+Math.imul(I,lo)|0;var oa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(Uo,O),a=Math.imul(Uo,U),a=a+Math.imul(Po,O)|0,b=Math.imul(Po,U),p=p+Math.imul(zo,j)|0,a=a+Math.imul(zo,J)|0,a=a+Math.imul(Lo,j)|0,b=b+Math.imul(Lo,J)|0,p=p+Math.imul(X,H)|0,a=a+Math.imul(X,G)|0,a=a+Math.imul(ao,H)|0,b=b+Math.imul(ao,G)|0,p=p+Math.imul($o,Q)|0,a=a+Math.imul($o,ro)|0,a=a+Math.imul(So,Q)|0,b=b+Math.imul(So,ro)|0,p=p+Math.imul(co,A)|0,a=a+Math.imul(co,eo)|0,a=a+Math.imul(fo,A)|0,b=b+Math.imul(fo,eo)|0,p=p+Math.imul(ko,B)|0,a=a+Math.imul(ko,lo)|0,a=a+Math.imul(xo,B)|0,b=b+Math.imul(xo,lo)|0,p=p+Math.imul(w,po)|0,a=a+Math.imul(w,_o)|0,a=a+Math.imul(I,po)|0,b=b+Math.imul(I,_o)|0;var Yo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,p=Math.imul(Ko,O),a=Math.imul(Ko,U),a=a+Math.imul(go,O)|0,b=Math.imul(go,U),p=p+Math.imul(Uo,j)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Po,j)|0,b=b+Math.imul(Po,J)|0,p=p+Math.imul(zo,H)|0,a=a+Math.imul(zo,G)|0,a=a+Math.imul(Lo,H)|0,b=b+Math.imul(Lo,G)|0,p=p+Math.imul(X,Q)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(ao,Q)|0,b=b+Math.imul(ao,ro)|0,p=p+Math.imul($o,A)|0,a=a+Math.imul($o,eo)|0,a=a+Math.imul(So,A)|0,b=b+Math.imul(So,eo)|0,p=p+Math.imul(co,B)|0,a=a+Math.imul(co,lo)|0,a=a+Math.imul(fo,B)|0,b=b+Math.imul(fo,lo)|0,p=p+Math.imul(ko,po)|0,a=a+Math.imul(ko,_o)|0,a=a+Math.imul(xo,po)|0,b=b+Math.imul(xo,_o)|0,p=p+Math.imul(w,ho)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,ho)|0,b=b+Math.imul(I,yo)|0;var aa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(L,O),a=Math.imul(L,U),a=a+Math.imul(e,O)|0,b=Math.imul(e,U),p=p+Math.imul(Ko,j)|0,a=a+Math.imul(Ko,J)|0,a=a+Math.imul(go,j)|0,b=b+Math.imul(go,J)|0,p=p+Math.imul(Uo,H)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Po,H)|0,b=b+Math.imul(Po,G)|0,p=p+Math.imul(zo,Q)|0,a=a+Math.imul(zo,ro)|0,a=a+Math.imul(Lo,Q)|0,b=b+Math.imul(Lo,ro)|0,p=p+Math.imul(X,A)|0,a=a+Math.imul(X,eo)|0,a=a+Math.imul(ao,A)|0,b=b+Math.imul(ao,eo)|0,p=p+Math.imul($o,B)|0,a=a+Math.imul($o,lo)|0,a=a+Math.imul(So,B)|0,b=b+Math.imul(So,lo)|0,p=p+Math.imul(co,po)|0,a=a+Math.imul(co,_o)|0,a=a+Math.imul(fo,po)|0,b=b+Math.imul(fo,_o)|0,p=p+Math.imul(ko,ho)|0,a=a+Math.imul(ko,yo)|0,a=a+Math.imul(xo,ho)|0,b=b+Math.imul(xo,yo)|0,p=p+Math.imul(w,To)|0,a=a+Math.imul(w,qo)|0,a=a+Math.imul(I,To)|0,b=b+Math.imul(I,qo)|0;var Co=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,p=Math.imul(f,O),a=Math.imul(f,U),a=a+Math.imul(R,O)|0,b=Math.imul(R,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(e,j)|0,b=b+Math.imul(e,J)|0,p=p+Math.imul(Ko,H)|0,a=a+Math.imul(Ko,G)|0,a=a+Math.imul(go,H)|0,b=b+Math.imul(go,G)|0,p=p+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Po,Q)|0,b=b+Math.imul(Po,ro)|0,p=p+Math.imul(zo,A)|0,a=a+Math.imul(zo,eo)|0,a=a+Math.imul(Lo,A)|0,b=b+Math.imul(Lo,eo)|0,p=p+Math.imul(X,B)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(ao,B)|0,b=b+Math.imul(ao,lo)|0,p=p+Math.imul($o,po)|0,a=a+Math.imul($o,_o)|0,a=a+Math.imul(So,po)|0,b=b+Math.imul(So,_o)|0,p=p+Math.imul(co,ho)|0,a=a+Math.imul(co,yo)|0,a=a+Math.imul(fo,ho)|0,b=b+Math.imul(fo,yo)|0,p=p+Math.imul(ko,To)|0,a=a+Math.imul(ko,qo)|0,a=a+Math.imul(xo,To)|0,b=b+Math.imul(xo,qo)|0,p=p+Math.imul(w,Wo)|0,a=a+Math.imul(w,Oo)|0,a=a+Math.imul(I,Wo)|0,b=b+Math.imul(I,Oo)|0;var ra=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(f,j),a=Math.imul(f,J),a=a+Math.imul(R,j)|0,b=Math.imul(R,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(e,H)|0,b=b+Math.imul(e,G)|0,p=p+Math.imul(Ko,Q)|0,a=a+Math.imul(Ko,ro)|0,a=a+Math.imul(go,Q)|0,b=b+Math.imul(go,ro)|0,p=p+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Po,A)|0,b=b+Math.imul(Po,eo)|0,p=p+Math.imul(zo,B)|0,a=a+Math.imul(zo,lo)|0,a=a+Math.imul(Lo,B)|0,b=b+Math.imul(Lo,lo)|0,p=p+Math.imul(X,po)|0,a=a+Math.imul(X,_o)|0,a=a+Math.imul(ao,po)|0,b=b+Math.imul(ao,_o)|0,p=p+Math.imul($o,ho)|0,a=a+Math.imul($o,yo)|0,a=a+Math.imul(So,ho)|0,b=b+Math.imul(So,yo)|0,p=p+Math.imul(co,To)|0,a=a+Math.imul(co,qo)|0,a=a+Math.imul(fo,To)|0,b=b+Math.imul(fo,qo)|0,p=p+Math.imul(ko,Wo)|0,a=a+Math.imul(ko,Oo)|0,a=a+Math.imul(xo,Wo)|0,b=b+Math.imul(xo,Oo)|0;var ea=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(f,H),a=Math.imul(f,G),a=a+Math.imul(R,H)|0,b=Math.imul(R,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,ro)|0,a=a+Math.imul(e,Q)|0,b=b+Math.imul(e,ro)|0,p=p+Math.imul(Ko,A)|0,a=a+Math.imul(Ko,eo)|0,a=a+Math.imul(go,A)|0,b=b+Math.imul(go,eo)|0,p=p+Math.imul(Uo,B)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Po,B)|0,b=b+Math.imul(Po,lo)|0,p=p+Math.imul(zo,po)|0,a=a+Math.imul(zo,_o)|0,a=a+Math.imul(Lo,po)|0,b=b+Math.imul(Lo,_o)|0,p=p+Math.imul(X,ho)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(ao,ho)|0,b=b+Math.imul(ao,yo)|0,p=p+Math.imul($o,To)|0,a=a+Math.imul($o,qo)|0,a=a+Math.imul(So,To)|0,b=b+Math.imul(So,qo)|0,p=p+Math.imul(co,Wo)|0,a=a+Math.imul(co,Oo)|0,a=a+Math.imul(fo,Wo)|0,b=b+Math.imul(fo,Oo)|0;var la=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(la>>>26)|0,la&=67108863,p=Math.imul(f,Q),a=Math.imul(f,ro),a=a+Math.imul(R,Q)|0,b=Math.imul(R,ro),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,eo)|0,a=a+Math.imul(e,A)|0,b=b+Math.imul(e,eo)|0,p=p+Math.imul(Ko,B)|0,a=a+Math.imul(Ko,lo)|0,a=a+Math.imul(go,B)|0,b=b+Math.imul(go,lo)|0,p=p+Math.imul(Uo,po)|0,a=a+Math.imul(Uo,_o)|0,a=a+Math.imul(Po,po)|0,b=b+Math.imul(Po,_o)|0,p=p+Math.imul(zo,ho)|0,a=a+Math.imul(zo,yo)|0,a=a+Math.imul(Lo,ho)|0,b=b+Math.imul(Lo,yo)|0,p=p+Math.imul(X,To)|0,a=a+Math.imul(X,qo)|0,a=a+Math.imul(ao,To)|0,b=b+Math.imul(ao,qo)|0,p=p+Math.imul($o,Wo)|0,a=a+Math.imul($o,Oo)|0,a=a+Math.imul(So,Wo)|0,b=b+Math.imul(So,Oo)|0;var sa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(f,A),a=Math.imul(f,eo),a=a+Math.imul(R,A)|0,b=Math.imul(R,eo),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,lo)|0,a=a+Math.imul(e,B)|0,b=b+Math.imul(e,lo)|0,p=p+Math.imul(Ko,po)|0,a=a+Math.imul(Ko,_o)|0,a=a+Math.imul(go,po)|0,b=b+Math.imul(go,_o)|0,p=p+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Po,ho)|0,b=b+Math.imul(Po,yo)|0,p=p+Math.imul(zo,To)|0,a=a+Math.imul(zo,qo)|0,a=a+Math.imul(Lo,To)|0,b=b+Math.imul(Lo,qo)|0,p=p+Math.imul(X,Wo)|0,a=a+Math.imul(X,Oo)|0,a=a+Math.imul(ao,Wo)|0,b=b+Math.imul(ao,Oo)|0;var na=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(f,B),a=Math.imul(f,lo),a=a+Math.imul(R,B)|0,b=Math.imul(R,lo),p=p+Math.imul(L,po)|0,a=a+Math.imul(L,_o)|0,a=a+Math.imul(e,po)|0,b=b+Math.imul(e,_o)|0,p=p+Math.imul(Ko,ho)|0,a=a+Math.imul(Ko,yo)|0,a=a+Math.imul(go,ho)|0,b=b+Math.imul(go,yo)|0,p=p+Math.imul(Uo,To)|0,a=a+Math.imul(Uo,qo)|0,a=a+Math.imul(Po,To)|0,b=b+Math.imul(Po,qo)|0,p=p+Math.imul(zo,Wo)|0,a=a+Math.imul(zo,Oo)|0,a=a+Math.imul(Lo,Wo)|0,b=b+Math.imul(Lo,Oo)|0;var ma=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(f,po),a=Math.imul(f,_o),a=a+Math.imul(R,po)|0,b=Math.imul(R,_o),p=p+Math.imul(L,ho)|0,a=a+Math.imul(L,yo)|0,a=a+Math.imul(e,ho)|0,b=b+Math.imul(e,yo)|0,p=p+Math.imul(Ko,To)|0,a=a+Math.imul(Ko,qo)|0,a=a+Math.imul(go,To)|0,b=b+Math.imul(go,qo)|0,p=p+Math.imul(Uo,Wo)|0,a=a+Math.imul(Uo,Oo)|0,a=a+Math.imul(Po,Wo)|0,b=b+Math.imul(Po,Oo)|0;var ba=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ba>>>26)|0,ba&=67108863,p=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(R,ho)|0,b=Math.imul(R,yo),p=p+Math.imul(L,To)|0,a=a+Math.imul(L,qo)|0,a=a+Math.imul(e,To)|0,b=b+Math.imul(e,qo)|0,p=p+Math.imul(Ko,Wo)|0,a=a+Math.imul(Ko,Oo)|0,a=a+Math.imul(go,Wo)|0,b=b+Math.imul(go,Oo)|0;var _a=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(f,To),a=Math.imul(f,qo),a=a+Math.imul(R,To)|0,b=Math.imul(R,qo),p=p+Math.imul(L,Wo)|0,a=a+Math.imul(L,Oo)|0,a=a+Math.imul(e,Wo)|0,b=b+Math.imul(e,Oo)|0;var ia=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(f,Wo),a=Math.imul(f,Oo),a=a+Math.imul(R,Wo)|0,b=Math.imul(R,Oo);var ca=(N+p|0)+((a&8191)<<13)|0;return N=(b+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,t[0]=Go,t[1]=Io,t[2]=Do,t[3]=Qo,t[4]=Bo,t[5]=oa,t[6]=Yo,t[7]=aa,t[8]=Co,t[9]=ra,t[10]=ea,t[11]=la,t[12]=sa,t[13]=na,t[14]=ma,t[15]=ba,t[16]=_a,t[17]=ia,t[18]=ca,N!==0&&(t[19]=N,c.length++),c};Math.imul||(F=q);function g(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var l=0,m=0,t=0;t<c.length-1;t++){var N=m;m=0;for(var p=l&67108863,a=Math.min(t,n.length-1),b=Math.max(0,t-o.length+1);b<=a;b++){var S=t-b,w=o.words[S]|0,I=n.words[b]|0,No=w*I,ko=No&67108863;N=N+(No/67108864|0)|0,ko=ko+p|0,p=ko&67108863,N=N+(ko>>>26)|0,m+=N>>>26,N&=67108863}c.words[t]=p,l=N,N=m}return l!==0?c.words[t]=l:c.length--,c.strip()}function E(o,n,c){var l=new z;return l.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,l=this.length+o.length;return this.length===10&&o.length===10?c=F(this,o,n):l<63?c=q(this,o,n):l<1024?c=g(this,o,n):c=E(this,o,n),c};function z(o,n){this.x=o,this.y=n}z.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,l=0;l<o;l++)n[l]=this.revBin(l,c,o);return n},z.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var l=0,m=0;m<n;m++)l|=(o&1)<<n-m-1,o>>=1;return l},z.prototype.permute=function(o,n,c,l,m,t){for(var N=0;N<t;N++)l[N]=n[o[N]],m[N]=c[o[N]]},z.prototype.transform=function(o,n,c,l,m,t){this.permute(t,o,n,c,l,m);for(var N=1;N<m;N<<=1)for(var p=N<<1,a=Math.cos(2*Math.PI/p),b=Math.sin(2*Math.PI/p),S=0;S<m;S+=p)for(var w=a,I=b,No=0;No<N;No++){var ko=c[S+No],xo=l[S+No],bo=c[S+No+N],co=l[S+No+N],fo=w*bo-I*co;co=w*co+I*bo,bo=fo,c[S+No]=ko+bo,l[S+No]=xo+co,c[S+No+N]=ko-bo,l[S+No+N]=xo-co,No!==p&&(fo=a*w-b*I,I=a*I+b*w,w=fo)}},z.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,l=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+l},z.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var l=0;l<c/2;l++){var m=o[l];o[l]=o[c-l-1],o[c-l-1]=m,m=n[l],n[l]=-n[c-l-1],n[c-l-1]=-m}},z.prototype.normalize13b=function(o,n){for(var c=0,l=0;l<n/2;l++){var m=Math.round(o[2*l+1]/n)*8192+Math.round(o[2*l]/n)+c;o[l]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},z.prototype.convert13b=function(o,n,c,l){for(var m=0,t=0;t<n;t++)m=m+(o[t]|0),c[2*t]=m&8191,m=m>>>13,c[2*t+1]=m&8191,m=m>>>13;for(t=2*n;t<l;++t)c[t]=0;_(m===0),_((m&-8192)===0)},z.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},z.prototype.mulp=function(o,n,c){var l=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(l),t=this.stub(l),N=new Array(l),p=new Array(l),a=new Array(l),b=new Array(l),S=new Array(l),w=new Array(l),I=c.words;I.length=l,this.convert13b(o.words,o.length,N,l),this.convert13b(n.words,n.length,b,l),this.transform(N,t,p,a,l,m),this.transform(b,t,S,w,l,m);for(var No=0;No<l;No++){var ko=p[No]*S[No]-a[No]*w[No];a[No]=p[No]*w[No]+a[No]*S[No],p[No]=ko}return this.conjugate(p,a,l),this.transform(p,a,I,t,l,m),this.conjugate(I,t,l),this.normalize13b(I,l),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),E(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){_(typeof o=="number"),_(o<67108864);for(var n=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*o,m=(l&67108863)+(n&67108863);n>>=26,n+=l/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=x(o);if(n.length===0)return new u(1);for(var c=this,l=0;l<n.length&&n[l]===0;l++,c=c.sqr());if(++l<n.length)for(var m=c.sqr();l<n.length;l++,m=m.sqr())n[l]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=67108863>>>26-n<<26-n,m;if(n!==0){var t=0;for(m=0;m<this.length;m++){var N=this.words[m]&l,p=(this.words[m]|0)-N<<n;this.words[m]=p|t,t=N>>>26-n}t&&(this.words[m]=t,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return _(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){_(typeof o=="number"&&o>=0);var l;n?l=(n-n%26)/26:l=0;var m=o%26,t=Math.min((o-m)/26,this.length),N=67108863^67108863>>>m<<m,p=c;if(l-=t,l=Math.max(0,l),p){for(var a=0;a<t;a++)p.words[a]=this.words[a];p.length=t}if(t!==0)if(this.length>t)for(this.length-=t,a=0;a<this.length;a++)this.words[a]=this.words[a+t];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=l);a--){var S=this.words[a]|0;this.words[a]=b<<26-m|S>>>m,b=S&N}return p&&b!==0&&(p.words[p.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return _(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&l)},u.prototype.imaskn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var l=67108863^67108863>>>n<<n;this.words[this.length-1]&=l}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return _(typeof o=="number"),_(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(_(typeof o=="number"),_(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var l=o.length+c,m;this._expand(l);var t,N=0;for(m=0;m<o.length;m++){t=(this.words[m+c]|0)+N;var p=(o.words[m]|0)*n;t-=p&67108863,N=(t>>26)-(p/67108864|0),this.words[m+c]=t&67108863}for(;m<this.length-c;m++)t=(this.words[m+c]|0)+N,N=t>>26,this.words[m+c]=t&67108863;if(N===0)return this.strip();for(_(N===-1),N=0,m=0;m<this.length;m++)t=-(this.words[m]|0)+N,N=t>>26,this.words[m]=t&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,l=this.clone(),m=o,t=m.words[m.length-1]|0,N=this._countBits(t);c=26-N,c!==0&&(m=m.ushln(c),l.iushln(c),t=m.words[m.length-1]|0);var p=l.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=p+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var S=l.clone()._ishlnsubmul(m,1,p);S.negative===0&&(l=S,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(l.words[m.length+w]|0)*67108864+(l.words[m.length+w-1]|0);for(I=Math.min(I/t|0,67108863),l._ishlnsubmul(m,I,w);l.negative!==0;)I--,l.negative=0,l._ishlnsubmul(m,1,w),l.isZero()||(l.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),l.strip(),n!=="div"&&c!==0&&l.iushrn(c),{div:a||null,mod:l}},u.prototype.divmod=function(o,n,c){if(_(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var l,m,t;return this.negative!==0&&o.negative===0?(t=this.neg().divmod(o,n),n!=="mod"&&(l=t.div.neg()),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:l,mod:m}):this.negative===0&&o.negative!==0?(t=this.divmod(o.neg(),n),n!=="mod"&&(l=t.div.neg()),{div:l,mod:t.mod}):(this.negative&o.negative)!==0?(t=this.neg().divmod(o.neg(),n),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:t.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,l=o.ushrn(1),m=o.andln(1),t=c.cmp(l);return t<0||m===1&&t===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){_(o<=67108863);for(var n=67108864%o,c=0,l=this.length-1;l>=0;l--)c=(n*c+(this.words[l]|0))%o;return c},u.prototype.idivn=function(o){_(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+n*67108864;this.words[c]=l/o|0,n=l%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=new u(0),N=new u(1),p=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++p;for(var a=c.clone(),b=n.clone();!n.isZero();){for(var S=0,w=1;(n.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(l.isOdd()||m.isOdd())&&(l.iadd(a),m.isub(b)),l.iushrn(1),m.iushrn(1);for(var I=0,No=1;(c.words[0]&No)===0&&I<26;++I,No<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(t.isOdd()||N.isOdd())&&(t.iadd(a),N.isub(b)),t.iushrn(1),N.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(t),m.isub(N)):(c.isub(n),t.isub(l),N.isub(m))}return{a:t,b:N,gcd:c.iushln(p)}},u.prototype._invmp=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,p=1;(n.words[0]&p)===0&&N<26;++N,p<<=1);if(N>0)for(n.iushrn(N);N-- >0;)l.isOdd()&&l.iadd(t),l.iushrn(1);for(var a=0,b=1;(c.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(t),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(m)):(c.isub(n),m.isub(l))}var S;return n.cmpn(1)===0?S=l:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var l=0;n.isEven()&&c.isEven();l++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var t=n;n=c,c=t}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(l)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){_(typeof o=="number");var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var m=l,t=c;m!==0&&t<this.length;t++){var N=this.words[t]|0;N+=m,m=N>>>26,N&=67108863,this.words[t]=N}return m!==0&&(this.words[t]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),_(o<=67108863,"Number is too big");var l=this.words[0]|0;c=l===o?0:l<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,m=o.words[c]|0;if(l!==m){l<m?n=-1:l>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new uo(o)},u.prototype.toRed=function(o){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return _(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return _(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var l=c<this.n?-1:n.ucmp(this.p);return l===0?(n.words[0]=0,n.length=1):l>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},Y.prototype.split=function(o,n){o.iushrn(this.n,0,n)},Y.prototype.imulK=function(o){return o.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(o,n){for(var c=4194303,l=Math.min(o.length,9),m=0;m<l;m++)n.words[m]=o.words[m];if(n.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var t=o.words[9];for(n.words[n.length++]=t&c,m=10;m<o.length;m++){var N=o.words[m]|0;o.words[m-10]=(N&c)<<4|t>>>22,t=N}t>>>=22,o.words[m-10]=t,t===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var l=o.words[c]|0;n+=l*977,o.words[c]=n&67108863,n=l*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function mo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(mo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(to,Y);function Mo(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(Mo,Y),Mo.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var l=(o.words[c]|0)*19+n,m=l&67108863;l>>>=26,o.words[c]=m,n=l}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(K[o])return K[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new mo;else if(o==="p192")n=new to;else if(o==="p25519")n=new Mo;else throw new Error("Unknown prime "+o);return K[o]=n,n};function uo(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else _(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}uo.prototype._verify1=function(o){_(o.negative===0,"red works only with positives"),_(o.red,"red works only with red numbers")},uo.prototype._verify2=function(o,n){_((o.negative|n.negative)===0,"red works only with positives"),_(o.red&&o.red===n.red,"red works only with red numbers")},uo.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},uo.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},uo.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},uo.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},uo.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},uo.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},uo.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},uo.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},uo.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},uo.prototype.isqr=function(o){return this.imul(o,o.clone())},uo.prototype.sqr=function(o){return this.mul(o,o)},uo.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(_(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var l=this.m.subn(1),m=0;!l.isZero()&&l.andln(1)===0;)m++,l.iushrn(1);_(!l.isZero());var t=new u(1).toRed(this),N=t.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,p).cmp(N)!==0;)a.redIAdd(N);for(var b=this.pow(a,l),S=this.pow(o,l.addn(1).iushrn(1)),w=this.pow(o,l),I=m;w.cmp(t)!==0;){for(var No=w,ko=0;No.cmp(t)!==0;ko++)No=No.redSqr();_(ko<I);var xo=this.pow(b,new u(1).iushln(I-ko-1));S=S.redMul(xo),b=xo.redSqr(),w=w.redMul(b),I=ko}return S},uo.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},uo.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,l=new Array(1<<c);l[0]=new u(1).toRed(this),l[1]=o;for(var m=2;m<l.length;m++)l[m]=this.mul(l[m-1],o);var t=l[0],N=0,p=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var b=n.words[m],S=a-1;S>=0;S--){var w=b>>S&1;if(t!==l[0]&&(t=this.sqr(t)),w===0&&N===0){p=0;continue}N<<=1,N|=w,p++,!(p!==c&&(m!==0||S!==0))&&(t=this.mul(t,l[N]),p=0,N=0)}a=26}return t},uo.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},uo.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Vo(o)};function Vo(o){uo.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Vo,uo),Vo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Vo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Vo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof d>"u"||d,s)}),gi=Jo((s,d)=>{(function(i,h){function _(o,n){if(!o)throw new Error(n||"Assertion failed")}function T(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof i=="object"?i.exports=u:h.BN=u,u.BN=u,u.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=We().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),_(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(n===16?this._parseHex(o,l,c):(this._parseBase(o,n,l),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(_(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(_(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m,t,N=0;if(c==="be")for(l=o.length-1,m=0;l>=0;l-=3)t=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);else if(c==="le")for(l=0,m=0;l<o.length;l+=3)t=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);return this.strip()};function W(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var l=W(o,c);return c-1>=n&&(l|=W(o,c-1)<<4),l}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m=0,t=0,N;if(c==="be")for(l=o.length-1;l>=n;l-=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8;else{var p=o.length-n;for(l=p%2===0?n+1:n;l<o.length;l+=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8}this.strip()};function k(o,n,c,l){for(var m=0,t=Math.min(o.length,c),N=n;N<t;N++){var p=o.charCodeAt(N)-48;m*=l,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var l=0,m=1;m<=67108863;m*=n)l++;l--,m=m/n|0;for(var t=o.length-c,N=t%l,p=Math.min(t,t-N)+c,a=0,b=c;b<p;b+=l)a=k(o,b,b+l,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,b,o.length,n),b=0;b<N;b++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var l=0,m=0,t=0;t<this.length;t++){var N=this.words[t],p=((N<<l|m)&16777215).toString(16);m=N>>>24-l&16777215,m!==0||t!==this.length-1?c=Z[6-p.length]+p+c:c=p+c,l+=2,l>=26&&(l-=26,t--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=$[o],b=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(b).toString(o);S=S.idivn(b),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}_(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return _(typeof v<"u"),this.toArrayLike(v,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var l=this.byteLength(),m=c||Math.max(1,l);_(l<=m,"byte array longer than desired length"),_(m>0,"Requested array length <= 0"),this.strip();var t=n==="le",N=new o(m),p,a,b=this.clone();if(t){for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[a]=p;for(;a<m;a++)N[a]=0}else{for(a=0;a<m-l;a++)N[a]=0;for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[m-a-1]=p}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function x(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var l=c/26|0,m=c%26;n[c]=(o.words[l]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return _((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return _((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var l=0;l<c.length;l++)this.words[l]=n.words[l]^c.words[l];if(this!==n)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return _((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){_(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var l=0;l<n;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){_(typeof o=="number"&&o>=0);var c=o/26|0,l=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,l;this.length>o.length?(c=this,l=o):(c=o,l=this);for(var m=0,t=0;t<l.length;t++)n=(c.words[t]|0)+(l.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;for(;m!==0&&t<c.length;t++)n=(c.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;t<c.length;t++)this.words[t]=c.words[t];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,m;c>0?(l=this,m=o):(l=o,m=this);for(var t=0,N=0;N<m.length;N++)n=(l.words[N]|0)-(m.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;for(;t!==0&&N<l.length;N++)n=(l.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;if(t===0&&N<l.length&&l!==this)for(;N<l.length;N++)this.words[N]=l.words[N];return this.length=Math.max(this.length,N),l!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var l=o.length+n.length|0;c.length=l,l=l-1|0;var m=o.words[0]|0,t=n.words[0]|0,N=m*t,p=N&67108863,a=N/67108864|0;c.words[0]=p;for(var b=1;b<l;b++){for(var S=a>>>26,w=a&67108863,I=Math.min(b,n.length-1),No=Math.max(0,b-o.length+1);No<=I;No++){var ko=b-No|0;m=o.words[ko]|0,t=n.words[No]|0,N=m*t+w,S+=N/67108864|0,w=N&67108863}c.words[b]=w|0,a=S|0}return a!==0?c.words[b]=a|0:c.length--,c.strip()}var F=function(o,n,c){var l=o.words,m=n.words,t=c.words,N=0,p,a,b,S=l[0]|0,w=S&8191,I=S>>>13,No=l[1]|0,ko=No&8191,xo=No>>>13,bo=l[2]|0,co=bo&8191,fo=bo>>>13,Xo=l[3]|0,$o=Xo&8191,So=Xo>>>13,D=l[4]|0,X=D&8191,ao=D>>>13,wo=l[5]|0,zo=wo&8191,Lo=wo>>>13,Ho=l[6]|0,Uo=Ho&8191,Po=Ho>>>13,Ao=l[7]|0,Ko=Ao&8191,go=Ao>>>13,da=l[8]|0,L=da&8191,e=da>>>13,r=l[9]|0,f=r&8191,R=r>>>13,M=m[0]|0,O=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,oo=m[2]|0,H=oo&8191,G=oo>>>13,no=m[3]|0,Q=no&8191,ro=no>>>13,Zo=m[4]|0,A=Zo&8191,eo=Zo>>>13,so=m[5]|0,B=so&8191,lo=so>>>13,Ro=m[6]|0,po=Ro&8191,_o=Ro>>>13,Fo=m[7]|0,ho=Fo&8191,yo=Fo>>>13,jo=m[8]|0,To=jo&8191,qo=jo>>>13,Eo=m[9]|0,Wo=Eo&8191,Oo=Eo>>>13;c.negative=o.negative^n.negative,c.length=19,p=Math.imul(w,O),a=Math.imul(w,U),a=a+Math.imul(I,O)|0,b=Math.imul(I,U);var Go=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,p=Math.imul(ko,O),a=Math.imul(ko,U),a=a+Math.imul(xo,O)|0,b=Math.imul(xo,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,b=b+Math.imul(I,J)|0;var Io=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,p=Math.imul(co,O),a=Math.imul(co,U),a=a+Math.imul(fo,O)|0,b=Math.imul(fo,U),p=p+Math.imul(ko,j)|0,a=a+Math.imul(ko,J)|0,a=a+Math.imul(xo,j)|0,b=b+Math.imul(xo,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,b=b+Math.imul(I,G)|0;var Do=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,p=Math.imul($o,O),a=Math.imul($o,U),a=a+Math.imul(So,O)|0,b=Math.imul(So,U),p=p+Math.imul(co,j)|0,a=a+Math.imul(co,J)|0,a=a+Math.imul(fo,j)|0,b=b+Math.imul(fo,J)|0,p=p+Math.imul(ko,H)|0,a=a+Math.imul(ko,G)|0,a=a+Math.imul(xo,H)|0,b=b+Math.imul(xo,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,Q)|0,b=b+Math.imul(I,ro)|0;var Qo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,p=Math.imul(X,O),a=Math.imul(X,U),a=a+Math.imul(ao,O)|0,b=Math.imul(ao,U),p=p+Math.imul($o,j)|0,a=a+Math.imul($o,J)|0,a=a+Math.imul(So,j)|0,b=b+Math.imul(So,J)|0,p=p+Math.imul(co,H)|0,a=a+Math.imul(co,G)|0,a=a+Math.imul(fo,H)|0,b=b+Math.imul(fo,G)|0,p=p+Math.imul(ko,Q)|0,a=a+Math.imul(ko,ro)|0,a=a+Math.imul(xo,Q)|0,b=b+Math.imul(xo,ro)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,eo)|0,a=a+Math.imul(I,A)|0,b=b+Math.imul(I,eo)|0;var Bo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,p=Math.imul(zo,O),a=Math.imul(zo,U),a=a+Math.imul(Lo,O)|0,b=Math.imul(Lo,U),p=p+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(ao,j)|0,b=b+Math.imul(ao,J)|0,p=p+Math.imul($o,H)|0,a=a+Math.imul($o,G)|0,a=a+Math.imul(So,H)|0,b=b+Math.imul(So,G)|0,p=p+Math.imul(co,Q)|0,a=a+Math.imul(co,ro)|0,a=a+Math.imul(fo,Q)|0,b=b+Math.imul(fo,ro)|0,p=p+Math.imul(ko,A)|0,a=a+Math.imul(ko,eo)|0,a=a+Math.imul(xo,A)|0,b=b+Math.imul(xo,eo)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,B)|0,b=b+Math.imul(I,lo)|0;var oa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(Uo,O),a=Math.imul(Uo,U),a=a+Math.imul(Po,O)|0,b=Math.imul(Po,U),p=p+Math.imul(zo,j)|0,a=a+Math.imul(zo,J)|0,a=a+Math.imul(Lo,j)|0,b=b+Math.imul(Lo,J)|0,p=p+Math.imul(X,H)|0,a=a+Math.imul(X,G)|0,a=a+Math.imul(ao,H)|0,b=b+Math.imul(ao,G)|0,p=p+Math.imul($o,Q)|0,a=a+Math.imul($o,ro)|0,a=a+Math.imul(So,Q)|0,b=b+Math.imul(So,ro)|0,p=p+Math.imul(co,A)|0,a=a+Math.imul(co,eo)|0,a=a+Math.imul(fo,A)|0,b=b+Math.imul(fo,eo)|0,p=p+Math.imul(ko,B)|0,a=a+Math.imul(ko,lo)|0,a=a+Math.imul(xo,B)|0,b=b+Math.imul(xo,lo)|0,p=p+Math.imul(w,po)|0,a=a+Math.imul(w,_o)|0,a=a+Math.imul(I,po)|0,b=b+Math.imul(I,_o)|0;var Yo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,p=Math.imul(Ko,O),a=Math.imul(Ko,U),a=a+Math.imul(go,O)|0,b=Math.imul(go,U),p=p+Math.imul(Uo,j)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Po,j)|0,b=b+Math.imul(Po,J)|0,p=p+Math.imul(zo,H)|0,a=a+Math.imul(zo,G)|0,a=a+Math.imul(Lo,H)|0,b=b+Math.imul(Lo,G)|0,p=p+Math.imul(X,Q)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(ao,Q)|0,b=b+Math.imul(ao,ro)|0,p=p+Math.imul($o,A)|0,a=a+Math.imul($o,eo)|0,a=a+Math.imul(So,A)|0,b=b+Math.imul(So,eo)|0,p=p+Math.imul(co,B)|0,a=a+Math.imul(co,lo)|0,a=a+Math.imul(fo,B)|0,b=b+Math.imul(fo,lo)|0,p=p+Math.imul(ko,po)|0,a=a+Math.imul(ko,_o)|0,a=a+Math.imul(xo,po)|0,b=b+Math.imul(xo,_o)|0,p=p+Math.imul(w,ho)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,ho)|0,b=b+Math.imul(I,yo)|0;var aa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(L,O),a=Math.imul(L,U),a=a+Math.imul(e,O)|0,b=Math.imul(e,U),p=p+Math.imul(Ko,j)|0,a=a+Math.imul(Ko,J)|0,a=a+Math.imul(go,j)|0,b=b+Math.imul(go,J)|0,p=p+Math.imul(Uo,H)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Po,H)|0,b=b+Math.imul(Po,G)|0,p=p+Math.imul(zo,Q)|0,a=a+Math.imul(zo,ro)|0,a=a+Math.imul(Lo,Q)|0,b=b+Math.imul(Lo,ro)|0,p=p+Math.imul(X,A)|0,a=a+Math.imul(X,eo)|0,a=a+Math.imul(ao,A)|0,b=b+Math.imul(ao,eo)|0,p=p+Math.imul($o,B)|0,a=a+Math.imul($o,lo)|0,a=a+Math.imul(So,B)|0,b=b+Math.imul(So,lo)|0,p=p+Math.imul(co,po)|0,a=a+Math.imul(co,_o)|0,a=a+Math.imul(fo,po)|0,b=b+Math.imul(fo,_o)|0,p=p+Math.imul(ko,ho)|0,a=a+Math.imul(ko,yo)|0,a=a+Math.imul(xo,ho)|0,b=b+Math.imul(xo,yo)|0,p=p+Math.imul(w,To)|0,a=a+Math.imul(w,qo)|0,a=a+Math.imul(I,To)|0,b=b+Math.imul(I,qo)|0;var Co=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,p=Math.imul(f,O),a=Math.imul(f,U),a=a+Math.imul(R,O)|0,b=Math.imul(R,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(e,j)|0,b=b+Math.imul(e,J)|0,p=p+Math.imul(Ko,H)|0,a=a+Math.imul(Ko,G)|0,a=a+Math.imul(go,H)|0,b=b+Math.imul(go,G)|0,p=p+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Po,Q)|0,b=b+Math.imul(Po,ro)|0,p=p+Math.imul(zo,A)|0,a=a+Math.imul(zo,eo)|0,a=a+Math.imul(Lo,A)|0,b=b+Math.imul(Lo,eo)|0,p=p+Math.imul(X,B)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(ao,B)|0,b=b+Math.imul(ao,lo)|0,p=p+Math.imul($o,po)|0,a=a+Math.imul($o,_o)|0,a=a+Math.imul(So,po)|0,b=b+Math.imul(So,_o)|0,p=p+Math.imul(co,ho)|0,a=a+Math.imul(co,yo)|0,a=a+Math.imul(fo,ho)|0,b=b+Math.imul(fo,yo)|0,p=p+Math.imul(ko,To)|0,a=a+Math.imul(ko,qo)|0,a=a+Math.imul(xo,To)|0,b=b+Math.imul(xo,qo)|0,p=p+Math.imul(w,Wo)|0,a=a+Math.imul(w,Oo)|0,a=a+Math.imul(I,Wo)|0,b=b+Math.imul(I,Oo)|0;var ra=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(f,j),a=Math.imul(f,J),a=a+Math.imul(R,j)|0,b=Math.imul(R,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(e,H)|0,b=b+Math.imul(e,G)|0,p=p+Math.imul(Ko,Q)|0,a=a+Math.imul(Ko,ro)|0,a=a+Math.imul(go,Q)|0,b=b+Math.imul(go,ro)|0,p=p+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Po,A)|0,b=b+Math.imul(Po,eo)|0,p=p+Math.imul(zo,B)|0,a=a+Math.imul(zo,lo)|0,a=a+Math.imul(Lo,B)|0,b=b+Math.imul(Lo,lo)|0,p=p+Math.imul(X,po)|0,a=a+Math.imul(X,_o)|0,a=a+Math.imul(ao,po)|0,b=b+Math.imul(ao,_o)|0,p=p+Math.imul($o,ho)|0,a=a+Math.imul($o,yo)|0,a=a+Math.imul(So,ho)|0,b=b+Math.imul(So,yo)|0,p=p+Math.imul(co,To)|0,a=a+Math.imul(co,qo)|0,a=a+Math.imul(fo,To)|0,b=b+Math.imul(fo,qo)|0,p=p+Math.imul(ko,Wo)|0,a=a+Math.imul(ko,Oo)|0,a=a+Math.imul(xo,Wo)|0,b=b+Math.imul(xo,Oo)|0;var ea=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(f,H),a=Math.imul(f,G),a=a+Math.imul(R,H)|0,b=Math.imul(R,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,ro)|0,a=a+Math.imul(e,Q)|0,b=b+Math.imul(e,ro)|0,p=p+Math.imul(Ko,A)|0,a=a+Math.imul(Ko,eo)|0,a=a+Math.imul(go,A)|0,b=b+Math.imul(go,eo)|0,p=p+Math.imul(Uo,B)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Po,B)|0,b=b+Math.imul(Po,lo)|0,p=p+Math.imul(zo,po)|0,a=a+Math.imul(zo,_o)|0,a=a+Math.imul(Lo,po)|0,b=b+Math.imul(Lo,_o)|0,p=p+Math.imul(X,ho)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(ao,ho)|0,b=b+Math.imul(ao,yo)|0,p=p+Math.imul($o,To)|0,a=a+Math.imul($o,qo)|0,a=a+Math.imul(So,To)|0,b=b+Math.imul(So,qo)|0,p=p+Math.imul(co,Wo)|0,a=a+Math.imul(co,Oo)|0,a=a+Math.imul(fo,Wo)|0,b=b+Math.imul(fo,Oo)|0;var la=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(la>>>26)|0,la&=67108863,p=Math.imul(f,Q),a=Math.imul(f,ro),a=a+Math.imul(R,Q)|0,b=Math.imul(R,ro),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,eo)|0,a=a+Math.imul(e,A)|0,b=b+Math.imul(e,eo)|0,p=p+Math.imul(Ko,B)|0,a=a+Math.imul(Ko,lo)|0,a=a+Math.imul(go,B)|0,b=b+Math.imul(go,lo)|0,p=p+Math.imul(Uo,po)|0,a=a+Math.imul(Uo,_o)|0,a=a+Math.imul(Po,po)|0,b=b+Math.imul(Po,_o)|0,p=p+Math.imul(zo,ho)|0,a=a+Math.imul(zo,yo)|0,a=a+Math.imul(Lo,ho)|0,b=b+Math.imul(Lo,yo)|0,p=p+Math.imul(X,To)|0,a=a+Math.imul(X,qo)|0,a=a+Math.imul(ao,To)|0,b=b+Math.imul(ao,qo)|0,p=p+Math.imul($o,Wo)|0,a=a+Math.imul($o,Oo)|0,a=a+Math.imul(So,Wo)|0,b=b+Math.imul(So,Oo)|0;var sa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(f,A),a=Math.imul(f,eo),a=a+Math.imul(R,A)|0,b=Math.imul(R,eo),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,lo)|0,a=a+Math.imul(e,B)|0,b=b+Math.imul(e,lo)|0,p=p+Math.imul(Ko,po)|0,a=a+Math.imul(Ko,_o)|0,a=a+Math.imul(go,po)|0,b=b+Math.imul(go,_o)|0,p=p+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Po,ho)|0,b=b+Math.imul(Po,yo)|0,p=p+Math.imul(zo,To)|0,a=a+Math.imul(zo,qo)|0,a=a+Math.imul(Lo,To)|0,b=b+Math.imul(Lo,qo)|0,p=p+Math.imul(X,Wo)|0,a=a+Math.imul(X,Oo)|0,a=a+Math.imul(ao,Wo)|0,b=b+Math.imul(ao,Oo)|0;var na=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(f,B),a=Math.imul(f,lo),a=a+Math.imul(R,B)|0,b=Math.imul(R,lo),p=p+Math.imul(L,po)|0,a=a+Math.imul(L,_o)|0,a=a+Math.imul(e,po)|0,b=b+Math.imul(e,_o)|0,p=p+Math.imul(Ko,ho)|0,a=a+Math.imul(Ko,yo)|0,a=a+Math.imul(go,ho)|0,b=b+Math.imul(go,yo)|0,p=p+Math.imul(Uo,To)|0,a=a+Math.imul(Uo,qo)|0,a=a+Math.imul(Po,To)|0,b=b+Math.imul(Po,qo)|0,p=p+Math.imul(zo,Wo)|0,a=a+Math.imul(zo,Oo)|0,a=a+Math.imul(Lo,Wo)|0,b=b+Math.imul(Lo,Oo)|0;var ma=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(f,po),a=Math.imul(f,_o),a=a+Math.imul(R,po)|0,b=Math.imul(R,_o),p=p+Math.imul(L,ho)|0,a=a+Math.imul(L,yo)|0,a=a+Math.imul(e,ho)|0,b=b+Math.imul(e,yo)|0,p=p+Math.imul(Ko,To)|0,a=a+Math.imul(Ko,qo)|0,a=a+Math.imul(go,To)|0,b=b+Math.imul(go,qo)|0,p=p+Math.imul(Uo,Wo)|0,a=a+Math.imul(Uo,Oo)|0,a=a+Math.imul(Po,Wo)|0,b=b+Math.imul(Po,Oo)|0;var ba=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ba>>>26)|0,ba&=67108863,p=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(R,ho)|0,b=Math.imul(R,yo),p=p+Math.imul(L,To)|0,a=a+Math.imul(L,qo)|0,a=a+Math.imul(e,To)|0,b=b+Math.imul(e,qo)|0,p=p+Math.imul(Ko,Wo)|0,a=a+Math.imul(Ko,Oo)|0,a=a+Math.imul(go,Wo)|0,b=b+Math.imul(go,Oo)|0;var _a=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(f,To),a=Math.imul(f,qo),a=a+Math.imul(R,To)|0,b=Math.imul(R,qo),p=p+Math.imul(L,Wo)|0,a=a+Math.imul(L,Oo)|0,a=a+Math.imul(e,Wo)|0,b=b+Math.imul(e,Oo)|0;var ia=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(f,Wo),a=Math.imul(f,Oo),a=a+Math.imul(R,Wo)|0,b=Math.imul(R,Oo);var ca=(N+p|0)+((a&8191)<<13)|0;return N=(b+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,t[0]=Go,t[1]=Io,t[2]=Do,t[3]=Qo,t[4]=Bo,t[5]=oa,t[6]=Yo,t[7]=aa,t[8]=Co,t[9]=ra,t[10]=ea,t[11]=la,t[12]=sa,t[13]=na,t[14]=ma,t[15]=ba,t[16]=_a,t[17]=ia,t[18]=ca,N!==0&&(t[19]=N,c.length++),c};Math.imul||(F=q);function g(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var l=0,m=0,t=0;t<c.length-1;t++){var N=m;m=0;for(var p=l&67108863,a=Math.min(t,n.length-1),b=Math.max(0,t-o.length+1);b<=a;b++){var S=t-b,w=o.words[S]|0,I=n.words[b]|0,No=w*I,ko=No&67108863;N=N+(No/67108864|0)|0,ko=ko+p|0,p=ko&67108863,N=N+(ko>>>26)|0,m+=N>>>26,N&=67108863}c.words[t]=p,l=N,N=m}return l!==0?c.words[t]=l:c.length--,c.strip()}function E(o,n,c){var l=new z;return l.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,l=this.length+o.length;return this.length===10&&o.length===10?c=F(this,o,n):l<63?c=q(this,o,n):l<1024?c=g(this,o,n):c=E(this,o,n),c};function z(o,n){this.x=o,this.y=n}z.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,l=0;l<o;l++)n[l]=this.revBin(l,c,o);return n},z.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var l=0,m=0;m<n;m++)l|=(o&1)<<n-m-1,o>>=1;return l},z.prototype.permute=function(o,n,c,l,m,t){for(var N=0;N<t;N++)l[N]=n[o[N]],m[N]=c[o[N]]},z.prototype.transform=function(o,n,c,l,m,t){this.permute(t,o,n,c,l,m);for(var N=1;N<m;N<<=1)for(var p=N<<1,a=Math.cos(2*Math.PI/p),b=Math.sin(2*Math.PI/p),S=0;S<m;S+=p)for(var w=a,I=b,No=0;No<N;No++){var ko=c[S+No],xo=l[S+No],bo=c[S+No+N],co=l[S+No+N],fo=w*bo-I*co;co=w*co+I*bo,bo=fo,c[S+No]=ko+bo,l[S+No]=xo+co,c[S+No+N]=ko-bo,l[S+No+N]=xo-co,No!==p&&(fo=a*w-b*I,I=a*I+b*w,w=fo)}},z.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,l=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+l},z.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var l=0;l<c/2;l++){var m=o[l];o[l]=o[c-l-1],o[c-l-1]=m,m=n[l],n[l]=-n[c-l-1],n[c-l-1]=-m}},z.prototype.normalize13b=function(o,n){for(var c=0,l=0;l<n/2;l++){var m=Math.round(o[2*l+1]/n)*8192+Math.round(o[2*l]/n)+c;o[l]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},z.prototype.convert13b=function(o,n,c,l){for(var m=0,t=0;t<n;t++)m=m+(o[t]|0),c[2*t]=m&8191,m=m>>>13,c[2*t+1]=m&8191,m=m>>>13;for(t=2*n;t<l;++t)c[t]=0;_(m===0),_((m&-8192)===0)},z.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},z.prototype.mulp=function(o,n,c){var l=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(l),t=this.stub(l),N=new Array(l),p=new Array(l),a=new Array(l),b=new Array(l),S=new Array(l),w=new Array(l),I=c.words;I.length=l,this.convert13b(o.words,o.length,N,l),this.convert13b(n.words,n.length,b,l),this.transform(N,t,p,a,l,m),this.transform(b,t,S,w,l,m);for(var No=0;No<l;No++){var ko=p[No]*S[No]-a[No]*w[No];a[No]=p[No]*w[No]+a[No]*S[No],p[No]=ko}return this.conjugate(p,a,l),this.transform(p,a,I,t,l,m),this.conjugate(I,t,l),this.normalize13b(I,l),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),E(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){_(typeof o=="number"),_(o<67108864);for(var n=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*o,m=(l&67108863)+(n&67108863);n>>=26,n+=l/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=x(o);if(n.length===0)return new u(1);for(var c=this,l=0;l<n.length&&n[l]===0;l++,c=c.sqr());if(++l<n.length)for(var m=c.sqr();l<n.length;l++,m=m.sqr())n[l]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=67108863>>>26-n<<26-n,m;if(n!==0){var t=0;for(m=0;m<this.length;m++){var N=this.words[m]&l,p=(this.words[m]|0)-N<<n;this.words[m]=p|t,t=N>>>26-n}t&&(this.words[m]=t,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return _(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){_(typeof o=="number"&&o>=0);var l;n?l=(n-n%26)/26:l=0;var m=o%26,t=Math.min((o-m)/26,this.length),N=67108863^67108863>>>m<<m,p=c;if(l-=t,l=Math.max(0,l),p){for(var a=0;a<t;a++)p.words[a]=this.words[a];p.length=t}if(t!==0)if(this.length>t)for(this.length-=t,a=0;a<this.length;a++)this.words[a]=this.words[a+t];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=l);a--){var S=this.words[a]|0;this.words[a]=b<<26-m|S>>>m,b=S&N}return p&&b!==0&&(p.words[p.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return _(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&l)},u.prototype.imaskn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var l=67108863^67108863>>>n<<n;this.words[this.length-1]&=l}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return _(typeof o=="number"),_(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(_(typeof o=="number"),_(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var l=o.length+c,m;this._expand(l);var t,N=0;for(m=0;m<o.length;m++){t=(this.words[m+c]|0)+N;var p=(o.words[m]|0)*n;t-=p&67108863,N=(t>>26)-(p/67108864|0),this.words[m+c]=t&67108863}for(;m<this.length-c;m++)t=(this.words[m+c]|0)+N,N=t>>26,this.words[m+c]=t&67108863;if(N===0)return this.strip();for(_(N===-1),N=0,m=0;m<this.length;m++)t=-(this.words[m]|0)+N,N=t>>26,this.words[m]=t&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,l=this.clone(),m=o,t=m.words[m.length-1]|0,N=this._countBits(t);c=26-N,c!==0&&(m=m.ushln(c),l.iushln(c),t=m.words[m.length-1]|0);var p=l.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=p+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var S=l.clone()._ishlnsubmul(m,1,p);S.negative===0&&(l=S,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(l.words[m.length+w]|0)*67108864+(l.words[m.length+w-1]|0);for(I=Math.min(I/t|0,67108863),l._ishlnsubmul(m,I,w);l.negative!==0;)I--,l.negative=0,l._ishlnsubmul(m,1,w),l.isZero()||(l.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),l.strip(),n!=="div"&&c!==0&&l.iushrn(c),{div:a||null,mod:l}},u.prototype.divmod=function(o,n,c){if(_(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var l,m,t;return this.negative!==0&&o.negative===0?(t=this.neg().divmod(o,n),n!=="mod"&&(l=t.div.neg()),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:l,mod:m}):this.negative===0&&o.negative!==0?(t=this.divmod(o.neg(),n),n!=="mod"&&(l=t.div.neg()),{div:l,mod:t.mod}):(this.negative&o.negative)!==0?(t=this.neg().divmod(o.neg(),n),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:t.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,l=o.ushrn(1),m=o.andln(1),t=c.cmp(l);return t<0||m===1&&t===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){_(o<=67108863);for(var n=67108864%o,c=0,l=this.length-1;l>=0;l--)c=(n*c+(this.words[l]|0))%o;return c},u.prototype.idivn=function(o){_(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+n*67108864;this.words[c]=l/o|0,n=l%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=new u(0),N=new u(1),p=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++p;for(var a=c.clone(),b=n.clone();!n.isZero();){for(var S=0,w=1;(n.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(l.isOdd()||m.isOdd())&&(l.iadd(a),m.isub(b)),l.iushrn(1),m.iushrn(1);for(var I=0,No=1;(c.words[0]&No)===0&&I<26;++I,No<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(t.isOdd()||N.isOdd())&&(t.iadd(a),N.isub(b)),t.iushrn(1),N.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(t),m.isub(N)):(c.isub(n),t.isub(l),N.isub(m))}return{a:t,b:N,gcd:c.iushln(p)}},u.prototype._invmp=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,p=1;(n.words[0]&p)===0&&N<26;++N,p<<=1);if(N>0)for(n.iushrn(N);N-- >0;)l.isOdd()&&l.iadd(t),l.iushrn(1);for(var a=0,b=1;(c.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(t),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(m)):(c.isub(n),m.isub(l))}var S;return n.cmpn(1)===0?S=l:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var l=0;n.isEven()&&c.isEven();l++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var t=n;n=c,c=t}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(l)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){_(typeof o=="number");var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var m=l,t=c;m!==0&&t<this.length;t++){var N=this.words[t]|0;N+=m,m=N>>>26,N&=67108863,this.words[t]=N}return m!==0&&(this.words[t]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),_(o<=67108863,"Number is too big");var l=this.words[0]|0;c=l===o?0:l<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,m=o.words[c]|0;if(l!==m){l<m?n=-1:l>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new uo(o)},u.prototype.toRed=function(o){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return _(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return _(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var l=c<this.n?-1:n.ucmp(this.p);return l===0?(n.words[0]=0,n.length=1):l>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},Y.prototype.split=function(o,n){o.iushrn(this.n,0,n)},Y.prototype.imulK=function(o){return o.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(o,n){for(var c=4194303,l=Math.min(o.length,9),m=0;m<l;m++)n.words[m]=o.words[m];if(n.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var t=o.words[9];for(n.words[n.length++]=t&c,m=10;m<o.length;m++){var N=o.words[m]|0;o.words[m-10]=(N&c)<<4|t>>>22,t=N}t>>>=22,o.words[m-10]=t,t===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var l=o.words[c]|0;n+=l*977,o.words[c]=n&67108863,n=l*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function mo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(mo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(to,Y);function Mo(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(Mo,Y),Mo.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var l=(o.words[c]|0)*19+n,m=l&67108863;l>>>=26,o.words[c]=m,n=l}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(K[o])return K[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new mo;else if(o==="p192")n=new to;else if(o==="p25519")n=new Mo;else throw new Error("Unknown prime "+o);return K[o]=n,n};function uo(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else _(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}uo.prototype._verify1=function(o){_(o.negative===0,"red works only with positives"),_(o.red,"red works only with red numbers")},uo.prototype._verify2=function(o,n){_((o.negative|n.negative)===0,"red works only with positives"),_(o.red&&o.red===n.red,"red works only with red numbers")},uo.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},uo.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},uo.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},uo.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},uo.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},uo.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},uo.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},uo.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},uo.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},uo.prototype.isqr=function(o){return this.imul(o,o.clone())},uo.prototype.sqr=function(o){return this.mul(o,o)},uo.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(_(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var l=this.m.subn(1),m=0;!l.isZero()&&l.andln(1)===0;)m++,l.iushrn(1);_(!l.isZero());var t=new u(1).toRed(this),N=t.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,p).cmp(N)!==0;)a.redIAdd(N);for(var b=this.pow(a,l),S=this.pow(o,l.addn(1).iushrn(1)),w=this.pow(o,l),I=m;w.cmp(t)!==0;){for(var No=w,ko=0;No.cmp(t)!==0;ko++)No=No.redSqr();_(ko<I);var xo=this.pow(b,new u(1).iushln(I-ko-1));S=S.redMul(xo),b=xo.redSqr(),w=w.redMul(b),I=ko}return S},uo.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},uo.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,l=new Array(1<<c);l[0]=new u(1).toRed(this),l[1]=o;for(var m=2;m<l.length;m++)l[m]=this.mul(l[m-1],o);var t=l[0],N=0,p=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var b=n.words[m],S=a-1;S>=0;S--){var w=b>>S&1;if(t!==l[0]&&(t=this.sqr(t)),w===0&&N===0){p=0;continue}N<<=1,N|=w,p++,!(p!==c&&(m!==0||S!==0))&&(t=this.mul(t,l[N]),p=0,N=0)}a=26}return t},uo.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},uo.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Vo(o)};function Vo(o){uo.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Vo,uo),Vo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Vo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Vo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof d>"u"||d,s)}),Ui=Jo(()=>{}),Cl=Jo((s,d)=>{var i;d.exports=function(T){return i||(i=new h(null)),i.generate(T)};function h(T){this.rand=T}if(d.exports.Rand=h,h.prototype.generate=function(T){return this._rand(T)},h.prototype._rand=function(T){if(this.rand.getBytes)return this.rand.getBytes(T);for(var u=new Uint8Array(T),v=0;v<u.length;v++)u[v]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?h.prototype._rand=function(T){var u=new Uint8Array(T);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?h.prototype._rand=function(T){var u=new Uint8Array(T);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(h.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(_=Ui(),typeof _.randomBytes!="function")throw new Error("Not supported");h.prototype._rand=function(T){return _.randomBytes(T)}}catch{}var _}),vr=Jo((s,d)=>{var i=gi(),h=Cl();function _(T){this.rand=T||new h.Rand}d.exports=_,_.create=function(T){return new _(T)},_.prototype._randbelow=function(T){var u=T.bitLength(),v=Math.ceil(u/8);do var W=new i(this.rand.generate(v));while(W.cmp(T)>=0);return W},_.prototype._randrange=function(T,u){var v=u.sub(T);return T.add(this._randbelow(v))},_.prototype.test=function(T,u,v){var W=T.bitLength(),y=i.mont(T),k=new i(1).toRed(y);u||(u=Math.max(1,W/48|0));for(var Z=T.subn(1),$=0;!Z.testn($);$++);for(var V=T.shrn($),x=Z.toRed(y),q=!0;u>0;u--){var F=this._randrange(new i(2),Z);v&&v(F);var g=F.toRed(y).redPow(V);if(!(g.cmp(k)===0||g.cmp(x)===0)){for(var E=1;E<$;E++){if(g=g.redSqr(),g.cmp(k)===0)return!1;if(g.cmp(x)===0)break}if(E===$)return!1}}return q},_.prototype.getDivisor=function(T,u){var v=T.bitLength(),W=i.mont(T),y=new i(1).toRed(W);u||(u=Math.max(1,v/48|0));for(var k=T.subn(1),Z=0;!k.testn(Z);Z++);for(var $=T.shrn(Z),V=k.toRed(W);u>0;u--){var x=this._randrange(new i(2),k),q=T.gcd(x);if(q.cmpn(1)!==0)return q;var F=x.toRed(W).redPow($);if(!(F.cmp(y)===0||F.cmp(V)===0)){for(var g=1;g<Z;g++){if(F=F.redSqr(),F.cmp(y)===0)return F.fromRed().subn(1).gcd(T);if(F.cmp(V)===0)break}if(g===Z)return F=F.redSqr(),F.fromRed().subn(1).gcd(T)}}return!1}}),Nr=Jo((s,d)=>{var i=De();d.exports=C,C.simpleSieve=K,C.fermatTest=Y;var h=tr(),_=new h(24),T=vr(),u=new T,v=new h(1),W=new h(2),y=new h(5),k=new h(16),Z=new h(8),$=new h(10),V=new h(3),x=new h(7),q=new h(11),F=new h(4),g=new h(12),E=null;function z(){if(E!==null)return E;var mo=1048576,to=[];to[0]=2;for(var Mo=1,uo=3;uo<mo;uo+=2){for(var Vo=Math.ceil(Math.sqrt(uo)),o=0;o<Mo&&to[o]<=Vo&&uo%to[o]!==0;o++);Mo!==o&&to[o]<=Vo||(to[Mo++]=uo)}return E=to,to}function K(mo){for(var to=z(),Mo=0;Mo<to.length;Mo++)if(mo.modn(to[Mo])===0)return mo.cmpn(to[Mo])===0;return!0}function Y(mo){var to=h.mont(mo);return W.toRed(to).redPow(mo.subn(1)).fromRed().cmpn(1)===0}function C(mo,to){if(mo<16)return to===2||to===5?new h([140,123]):new h([140,39]);to=new h(to);for(var Mo,uo;;){for(Mo=new h(i(Math.ceil(mo/8)));Mo.bitLength()>mo;)Mo.ishrn(1);if(Mo.isEven()&&Mo.iadd(v),Mo.testn(1)||Mo.iadd(W),to.cmp(W)){if(!to.cmp(y))for(;Mo.mod($).cmp(V);)Mo.iadd(F)}else for(;Mo.mod(_).cmp(q);)Mo.iadd(F);if(uo=Mo.shrn(1),K(uo)&&K(Mo)&&Y(uo)&&Y(Mo)&&u.test(uo)&&u.test(Mo))return Mo}}}),Ei=Jo((s,d)=>{d.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),ji=Jo((s,d)=>{var i=tr(),h=vr(),_=new h,T=new i(24),u=new i(11),v=new i(10),W=new i(3),y=new i(7),k=Nr(),Z=De();d.exports=F;function $(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this._pub=new i(E),this}function V(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this._priv=new i(E),this}var x={};function q(E,z){var K=z.toString("hex"),Y=[K,E.toString(16)].join("_");if(Y in x)return x[Y];var C=0;if(E.isEven()||!k.simpleSieve||!k.fermatTest(E)||!_.test(E))return C+=1,K==="02"||K==="05"?C+=8:C+=4,x[Y]=C,C;_.test(E.shrn(1))||(C+=2);var mo;switch(K){case"02":E.mod(T).cmp(u)&&(C+=8);break;case"05":mo=E.mod(v),mo.cmp(W)&&mo.cmp(y)&&(C+=8);break;default:C+=4}return x[Y]=C,C}function F(E,z,K){this.setGenerator(z),this.__prime=new i(E),this._prime=i.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,K?(this.setPublicKey=$,this.setPrivateKey=V):this._primeCode=8}Object.defineProperty(F.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=q(this.__prime,this.__gen)),this._primeCode}}),F.prototype.generateKeys=function(){return this._priv||(this._priv=new i(Z(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},F.prototype.computeSecret=function(E){E=new i(E),E=E.toRed(this._prime);var z=E.redPow(this._priv).fromRed(),K=new Buffer(z.toArray()),Y=this.getPrime();if(K.length<Y.length){var C=new Buffer(Y.length-K.length);C.fill(0),K=Buffer.concat([C,K])}return K},F.prototype.getPublicKey=function(E){return g(this._pub,E)},F.prototype.getPrivateKey=function(E){return g(this._priv,E)},F.prototype.getPrime=function(E){return g(this.__prime,E)},F.prototype.getGenerator=function(E){return g(this._gen,E)},F.prototype.setGenerator=function(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this.__gen=E,this._gen=new i(E),this};function g(E,z){var K=new Buffer(E.toArray());return z?K.toString(z):K}}),Ji=Jo((s)=>{var d=Nr(),i=Ei(),h=ji();function _(v){var W=new Buffer(i[v].prime,"hex"),y=new Buffer(i[v].gen,"hex");return new h(W,y)}var T={binary:!0,hex:!0,base64:!0};function u(v,W,y,k){return Buffer.isBuffer(W)||T[W]===void 0?u(v,"binary",W,y):(W=W||"binary",k=k||"binary",y=y||new Buffer([2]),Buffer.isBuffer(y)||(y=new Buffer(y,k)),typeof v=="number"?new h(d(v,y),y,!0):(Buffer.isBuffer(v)||(v=new Buffer(v,W)),new h(v,y,!0)))}s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=_,s.createDiffieHellman=s.DiffieHellman=u}),hr=Jo((s,d)=>{d.exports=$e().EventEmitter}),Pi=Jo((s,d)=>{function i(x,q){var F=Object.keys(x);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(x);q&&(g=g.filter(function(E){return Object.getOwnPropertyDescriptor(x,E).enumerable})),F.push.apply(F,g)}return F}function h(x){for(var q=1;q<arguments.length;q++){var F=arguments[q]!=null?arguments[q]:{};q%2?i(Object(F),!0).forEach(function(g){_(x,g,F[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(F)):i(Object(F)).forEach(function(g){Object.defineProperty(x,g,Object.getOwnPropertyDescriptor(F,g))})}return x}function _(x,q,F){return q in x?Object.defineProperty(x,q,{value:F,enumerable:!0,configurable:!0,writable:!0}):x[q]=F,x}function T(x,q){if(!(x instanceof q))throw new TypeError("Cannot call a class as a function")}function u(x,q){for(var F=0;F<q.length;F++){var g=q[F];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(x,g.key,g)}}function v(x,q,F){return q&&u(x.prototype,q),F&&u(x,F),x}var W=wa(),y=W.Buffer,k=Dn(),Z=k.inspect,$=Z&&Z.custom||"inspect";function V(x,q,F){y.prototype.copy.call(x,q,F)}d.exports=function(){function x(){T(this,x),this.head=null,this.tail=null,this.length=0}return v(x,[{key:"push",value:function(q){var F={data:q,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}},{key:"unshift",value:function(q){var F={data:q,next:this.head};this.length===0&&(this.tail=F),this.head=F,++this.length}},{key:"shift",value:function(){if(this.length!==0){var q=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(this.length===0)return"";for(var F=this.head,g=""+F.data;F=F.next;)g+=q+F.data;return g}},{key:"concat",value:function(q){if(this.length===0)return y.alloc(0);for(var F=y.allocUnsafe(q>>>0),g=this.head,E=0;g;)V(g.data,F,E),E+=g.data.length,g=g.next;return F}},{key:"consume",value:function(q,F){var g;return q<this.head.data.length?(g=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):q===this.head.data.length?g=this.shift():g=F?this._getString(q):this._getBuffer(q),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var F=this.head,g=1,E=F.data;for(q-=E.length;F=F.next;){var z=F.data,K=q>z.length?z.length:q;if(K===z.length?E+=z:E+=z.slice(0,q),q-=K,q===0){K===z.length?(++g,F.next?this.head=F.next:this.head=this.tail=null):(this.head=F,F.data=z.slice(K));break}++g}return this.length-=g,E}},{key:"_getBuffer",value:function(q){var F=y.allocUnsafe(q),g=this.head,E=1;for(g.data.copy(F),q-=g.data.length;g=g.next;){var z=g.data,K=q>z.length?z.length:q;if(z.copy(F,F.length-q,0,K),q-=K,q===0){K===z.length?(++E,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=z.slice(K));break}++E}return this.length-=E,F}},{key:$,value:function(q,F){return Z(this,h({},F,{depth:0,customInspect:!1}))}}]),x}()}),Rr=Jo((s,d)=>{function i(W,y){var k=this,Z=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return Z||$?(y?y(W):W&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,W)):process.nextTick(u,this,W)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(W||null,function(V){!y&&V?k._writableState?k._writableState.errorEmitted?process.nextTick(_,k):(k._writableState.errorEmitted=!0,process.nextTick(h,k,V)):process.nextTick(h,k,V):y?(process.nextTick(_,k),y(V)):process.nextTick(_,k)}),this)}function h(W,y){u(W,y),_(W)}function _(W){W._writableState&&!W._writableState.emitClose||W._readableState&&!W._readableState.emitClose||W.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(W,y){W.emit("error",y)}function v(W,y){var{_readableState:k,_writableState:Z}=W;k&&k.autoDestroy||Z&&Z.autoDestroy?W.destroy(y):W.emit("error",y)}d.exports={destroy:i,undestroy:T,errorOrDestroy:v}}),Qe=Jo((s,d)=>{function i(y,k){y.prototype=Object.create(k.prototype),y.prototype.constructor=y,y.__proto__=k}var h={};function _(y,k,Z){Z||(Z=Error);function $(x,q,F){return typeof k=="string"?k:k(x,q,F)}var V=function(x){i(q,x);function q(F,g,E){return x.call(this,$(F,g,E))||this}return q}(Z);V.prototype.name=Z.name,V.prototype.code=y,h[y]=V}function T(y,k){if(Array.isArray(y)){var Z=y.length;return y=y.map(function($){return String($)}),Z>2?"one of ".concat(k," ").concat(y.slice(0,Z-1).join(", "),", or ")+y[Z-1]:Z===2?"one of ".concat(k," ").concat(y[0]," or ").concat(y[1]):"of ".concat(k," ").concat(y[0])}else return"of ".concat(k," ").concat(String(y))}function u(y,k,Z){return y.substr(!Z||Z<0?0:+Z,k.length)===k}function v(y,k,Z){return(Z===void 0||Z>y.length)&&(Z=y.length),y.substring(Z-k.length,Z)===k}function W(y,k,Z){return typeof Z!="number"&&(Z=0),Z+k.length>y.length?!1:y.indexOf(k,Z)!==-1}_("ERR_INVALID_OPT_VALUE",function(y,k){return'The value "'+k+'" is invalid for option "'+y+'"'},TypeError),_("ERR_INVALID_ARG_TYPE",function(y,k,Z){var $;typeof k=="string"&&u(k,"not ")?($="must not be",k=k.replace(/^not /,"")):$="must be";var V;if(v(y," argument"))V="The ".concat(y," ").concat($," ").concat(T(k,"type"));else{var x=W(y,".")?"property":"argument";V='The "'.concat(y,'" ').concat(x," ").concat($," ").concat(T(k,"type"))}return V+=". Received type ".concat(typeof Z),V},TypeError),_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),_("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),_("ERR_STREAM_PREMATURE_CLOSE","Premature close"),_("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),_("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),_("ERR_STREAM_WRITE_AFTER_END","write after end"),_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),d.exports.codes=h}),Zr=Jo((s,d)=>{var i=Qe().codes.ERR_INVALID_OPT_VALUE;function h(T,u,v){return T.highWaterMark!=null?T.highWaterMark:u?T[v]:null}function _(T,u,v,W){var y=h(u,W,v);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var k=W?v:"highWaterMark";throw new i(k,y)}return Math.floor(y)}return T.objectMode?16:16384}d.exports={getHighWaterMark:_}}),yr=Jo((s,d)=>{d.exports=uo;function i(bo){var co=this;this.next=null,this.entry=null,this.finish=function(){xo(co,bo)}}var h;uo.WritableState=to;var _={deprecate:Es()},T=hr(),u=wa().Buffer,v=global.Uint8Array||function(){};function W(bo){return u.from(bo)}function y(bo){return u.isBuffer(bo)||bo instanceof v}var k=Rr(),Z=Zr(),$=Z.getHighWaterMark,V=Qe().codes,x=V.ERR_INVALID_ARG_TYPE,q=V.ERR_METHOD_NOT_IMPLEMENTED,F=V.ERR_MULTIPLE_CALLBACK,g=V.ERR_STREAM_CANNOT_PIPE,E=V.ERR_STREAM_DESTROYED,z=V.ERR_STREAM_NULL_VALUES,K=V.ERR_STREAM_WRITE_AFTER_END,Y=V.ERR_UNKNOWN_ENCODING,C=k.errorOrDestroy;pa()(uo,T);function mo(){}function to(bo,co,fo){h=h||Ae(),bo=bo||{},typeof fo!="boolean"&&(fo=co instanceof h),this.objectMode=!!bo.objectMode,fo&&(this.objectMode=this.objectMode||!!bo.writableObjectMode),this.highWaterMark=$(this,bo,"writableHighWaterMark",fo),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Xo=bo.decodeStrings===!1;this.decodeStrings=!Xo,this.defaultEncoding=bo.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($o){N(co,$o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=bo.emitClose!==!1,this.autoDestroy=!!bo.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}to.prototype.getBuffer=function(){for(var bo=this.bufferedRequest,co=[];bo;)co.push(bo),bo=bo.next;return co},function(){try{Object.defineProperty(to.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Mo;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Mo=Function.prototype[Symbol.hasInstance],Object.defineProperty(uo,Symbol.hasInstance,{value:function(bo){return Mo.call(this,bo)?!0:this!==uo?!1:bo&&bo._writableState instanceof to}})):Mo=function(bo){return bo instanceof this};function uo(bo){h=h||Ae();var co=this instanceof h;if(!co&&!Mo.call(uo,this))return new uo(bo);this._writableState=new to(bo,this,co),this.writable=!0,bo&&(typeof bo.write=="function"&&(this._write=bo.write),typeof bo.writev=="function"&&(this._writev=bo.writev),typeof bo.destroy=="function"&&(this._destroy=bo.destroy),typeof bo.final=="function"&&(this._final=bo.final)),T.call(this)}uo.prototype.pipe=function(){C(this,new g)};function Vo(bo,co){var fo=new K;C(bo,fo),process.nextTick(co,fo)}function o(bo,co,fo,Xo){var $o;return fo===null?$o=new z:typeof fo!="string"&&!co.objectMode&&($o=new x("chunk",["string","Buffer"],fo)),$o?(C(bo,$o),process.nextTick(Xo,$o),!1):!0}uo.prototype.write=function(bo,co,fo){var Xo=this._writableState,$o=!1,So=!Xo.objectMode&&y(bo);return So&&!u.isBuffer(bo)&&(bo=W(bo)),typeof co=="function"&&(fo=co,co=null),So?co="buffer":co||(co=Xo.defaultEncoding),typeof fo!="function"&&(fo=mo),Xo.ending?Vo(this,fo):(So||o(this,Xo,bo,fo))&&(Xo.pendingcb++,$o=c(this,Xo,So,bo,co,fo)),$o},uo.prototype.cork=function(){this._writableState.corked++},uo.prototype.uncork=function(){var bo=this._writableState;bo.corked&&(bo.corked--,!bo.writing&&!bo.corked&&!bo.bufferProcessing&&bo.bufferedRequest&&b(this,bo))},uo.prototype.setDefaultEncoding=function(bo){if(typeof bo=="string"&&(bo=bo.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((bo+"").toLowerCase())>-1))throw new Y(bo);return this._writableState.defaultEncoding=bo,this},Object.defineProperty(uo.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function n(bo,co,fo){return!bo.objectMode&&bo.decodeStrings!==!1&&typeof co=="string"&&(co=u.from(co,fo)),co}Object.defineProperty(uo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(bo,co,fo,Xo,$o,So){if(!fo){var D=n(co,Xo,$o);Xo!==D&&(fo=!0,$o="buffer",Xo=D)}var X=co.objectMode?1:Xo.length;co.length+=X;var ao=co.length<co.highWaterMark;if(ao||(co.needDrain=!0),co.writing||co.corked){var wo=co.lastBufferedRequest;co.lastBufferedRequest={chunk:Xo,encoding:$o,isBuf:fo,callback:So,next:null},wo?wo.next=co.lastBufferedRequest:co.bufferedRequest=co.lastBufferedRequest,co.bufferedRequestCount+=1}else l(bo,co,!1,X,Xo,$o,So);return ao}function l(bo,co,fo,Xo,$o,So,D){co.writelen=Xo,co.writecb=D,co.writing=!0,co.sync=!0,co.destroyed?co.onwrite(new E("write")):fo?bo._writev($o,co.onwrite):bo._write($o,So,co.onwrite),co.sync=!1}function m(bo,co,fo,Xo,$o){--co.pendingcb,fo?(process.nextTick($o,Xo),process.nextTick(No,bo,co),bo._writableState.errorEmitted=!0,C(bo,Xo)):($o(Xo),bo._writableState.errorEmitted=!0,C(bo,Xo),No(bo,co))}function t(bo){bo.writing=!1,bo.writecb=null,bo.length-=bo.writelen,bo.writelen=0}function N(bo,co){var fo=bo._writableState,Xo=fo.sync,$o=fo.writecb;if(typeof $o!="function")throw new F;if(t(fo),co)m(bo,fo,Xo,co,$o);else{var So=S(fo)||bo.destroyed;!So&&!fo.corked&&!fo.bufferProcessing&&fo.bufferedRequest&&b(bo,fo),Xo?process.nextTick(p,bo,fo,So,$o):p(bo,fo,So,$o)}}function p(bo,co,fo,Xo){fo||a(bo,co),co.pendingcb--,Xo(),No(bo,co)}function a(bo,co){co.length===0&&co.needDrain&&(co.needDrain=!1,bo.emit("drain"))}function b(bo,co){co.bufferProcessing=!0;var fo=co.bufferedRequest;if(bo._writev&&fo&&fo.next){var Xo=co.bufferedRequestCount,$o=new Array(Xo),So=co.corkedRequestsFree;So.entry=fo;for(var D=0,X=!0;fo;)$o[D]=fo,fo.isBuf||(X=!1),fo=fo.next,D+=1;$o.allBuffers=X,l(bo,co,!0,co.length,$o,"",So.finish),co.pendingcb++,co.lastBufferedRequest=null,So.next?(co.corkedRequestsFree=So.next,So.next=null):co.corkedRequestsFree=new i(co),co.bufferedRequestCount=0}else{for(;fo;){var{chunk:ao,encoding:wo,callback:zo}=fo,Lo=co.objectMode?1:ao.length;if(l(bo,co,!1,Lo,ao,wo,zo),fo=fo.next,co.bufferedRequestCount--,co.writing)break}fo===null&&(co.lastBufferedRequest=null)}co.bufferedRequest=fo,co.bufferProcessing=!1}uo.prototype._write=function(bo,co,fo){fo(new q("_write()"))},uo.prototype._writev=null,uo.prototype.end=function(bo,co,fo){var Xo=this._writableState;return typeof bo=="function"?(fo=bo,bo=null,co=null):typeof co=="function"&&(fo=co,co=null),bo!=null&&this.write(bo,co),Xo.corked&&(Xo.corked=1,this.uncork()),Xo.ending||ko(this,Xo,fo),this},Object.defineProperty(uo.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(bo){return bo.ending&&bo.length===0&&bo.bufferedRequest===null&&!bo.finished&&!bo.writing}function w(bo,co){bo._final(function(fo){co.pendingcb--,fo&&C(bo,fo),co.prefinished=!0,bo.emit("prefinish"),No(bo,co)})}function I(bo,co){!co.prefinished&&!co.finalCalled&&(typeof bo._final=="function"&&!co.destroyed?(co.pendingcb++,co.finalCalled=!0,process.nextTick(w,bo,co)):(co.prefinished=!0,bo.emit("prefinish")))}function No(bo,co){var fo=S(co);if(fo&&(I(bo,co),co.pendingcb===0&&(co.finished=!0,bo.emit("finish"),co.autoDestroy))){var Xo=bo._readableState;(!Xo||Xo.autoDestroy&&Xo.endEmitted)&&bo.destroy()}return fo}function ko(bo,co,fo){co.ending=!0,No(bo,co),fo&&(co.finished?process.nextTick(fo):bo.once("finish",fo)),co.ended=!0,bo.writable=!1}function xo(bo,co,fo){var Xo=bo.entry;for(bo.entry=null;Xo;){var $o=Xo.callback;co.pendingcb--,$o(fo),Xo=Xo.next}co.corkedRequestsFree.next=bo}Object.defineProperty(uo.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(bo){!this._writableState||(this._writableState.destroyed=bo)}}),uo.prototype.destroy=k.destroy,uo.prototype._undestroy=k.undestroy,uo.prototype._destroy=function(bo,co){co(bo)}}),Ae=Jo((s,d)=>{var i=Object.keys||function(Z){var $=[];for(var V in Z)$.push(V);return $};d.exports=W;var h=kr(),_=yr();pa()(W,h);for(T=i(_.prototype),v=0;v<T.length;v++)u=T[v],W.prototype[u]||(W.prototype[u]=_.prototype[u]);var T,u,v;function W(Z){if(!(this instanceof W))return new W(Z);h.call(this,Z),_.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(k,this)}function k(Z){Z.end()}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}),Ql=Jo((s,d)=>{var i=Qe().codes.ERR_STREAM_PREMATURE_CLOSE;function h(v){var W=!1;return function(){if(!W){W=!0;for(var y=arguments.length,k=new Array(y),Z=0;Z<y;Z++)k[Z]=arguments[Z];v.apply(this,k)}}}function _(){}function T(v){return v.setHeader&&typeof v.abort=="function"}function u(v,W,y){if(typeof W=="function")return u(v,null,W);W||(W={}),y=h(y||_);var k=W.readable||W.readable!==!1&&v.readable,Z=W.writable||W.writable!==!1&&v.writable,$=function(){v.writable||x()},V=v._writableState&&v._writableState.finished,x=function(){Z=!1,V=!0,k||y.call(v)},q=v._readableState&&v._readableState.endEmitted,F=function(){k=!1,q=!0,Z||y.call(v)},g=function(K){y.call(v,K)},E=function(){var K;if(k&&!q)return(!v._readableState||!v._readableState.ended)&&(K=new i),y.call(v,K);if(Z&&!V)return(!v._writableState||!v._writableState.ended)&&(K=new i),y.call(v,K)},z=function(){v.req.on("finish",x)};return T(v)?(v.on("complete",x),v.on("abort",E),v.req?z():v.on("request",z)):Z&&!v._writableState&&(v.on("end",$),v.on("close",$)),v.on("end",F),v.on("finish",x),W.error!==!1&&v.on("error",g),v.on("close",E),function(){v.removeListener("complete",x),v.removeListener("abort",E),v.removeListener("request",z),v.req&&v.req.removeListener("finish",x),v.removeListener("end",$),v.removeListener("close",$),v.removeListener("finish",x),v.removeListener("end",F),v.removeListener("error",g),v.removeListener("close",E)}}d.exports=u}),Ki=Jo((s,d)=>{var i;function h(z,K,Y){return K in z?Object.defineProperty(z,K,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[K]=Y,z}var _=Ql(),T=Symbol("lastResolve"),u=Symbol("lastReject"),v=Symbol("error"),W=Symbol("ended"),y=Symbol("lastPromise"),k=Symbol("handlePromise"),Z=Symbol("stream");function $(z,K){return{value:z,done:K}}function V(z){var K=z[T];if(K!==null){var Y=z[Z].read();Y!==null&&(z[y]=null,z[T]=null,z[u]=null,K($(Y,!1)))}}function x(z){process.nextTick(V,z)}function q(z,K){return function(Y,C){z.then(function(){if(K[W]){Y($(void 0,!0));return}K[k](Y,C)},C)}}var F=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i={get stream(){return this[Z]},next:function(){var z=this,K=this[v];if(K!==null)return Promise.reject(K);if(this[W])return Promise.resolve($(void 0,!0));if(this[Z].destroyed)return new Promise(function(to,Mo){process.nextTick(function(){z[v]?Mo(z[v]):to($(void 0,!0))})});var Y=this[y],C;if(Y)C=new Promise(q(Y,this));else{var mo=this[Z].read();if(mo!==null)return Promise.resolve($(mo,!1));C=new Promise(this[k])}return this[y]=C,C}},h(i,Symbol.asyncIterator,function(){return this}),h(i,"return",function(){var z=this;return new Promise(function(K,Y){z[Z].destroy(null,function(C){if(C){Y(C);return}K($(void 0,!0))})})}),i),F),E=function(z){var K,Y=Object.create(g,(K={},h(K,Z,{value:z,writable:!0}),h(K,T,{value:null,writable:!0}),h(K,u,{value:null,writable:!0}),h(K,v,{value:null,writable:!0}),h(K,W,{value:z._readableState.endEmitted,writable:!0}),h(K,k,{value:function(C,mo){var to=Y[Z].read();to?(Y[y]=null,Y[T]=null,Y[u]=null,C($(to,!1))):(Y[T]=C,Y[u]=mo)},writable:!0}),K));return Y[y]=null,_(z,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var mo=Y[u];mo!==null&&(Y[y]=null,Y[T]=null,Y[u]=null,mo(C)),Y[v]=C;return}var to=Y[T];to!==null&&(Y[y]=null,Y[T]=null,Y[u]=null,to($(void 0,!0))),Y[W]=!0}),z.on("readable",x.bind(null,Y)),Y};d.exports=E}),Ii=Jo((s,d)=>{d.exports=function(){throw new Error("Readable.from is not available in the browser")}}),kr=Jo((s,d)=>{d.exports=o;var i;o.ReadableState=Vo;var h=$e().EventEmitter,_=function(D,X){return D.listeners(X).length},T=hr(),u=wa().Buffer,v=global.Uint8Array||function(){};function W(D){return u.from(D)}function y(D){return u.isBuffer(D)||D instanceof v}var k=Dn(),Z;k&&k.debuglog?Z=k.debuglog("stream"):Z=function(){};var $=Pi(),V=Rr(),x=Zr(),q=x.getHighWaterMark,F=Qe().codes,g=F.ERR_INVALID_ARG_TYPE,E=F.ERR_STREAM_PUSH_AFTER_EOF,z=F.ERR_METHOD_NOT_IMPLEMENTED,K=F.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,C,mo;pa()(o,T);var to=V.errorOrDestroy,Mo=["error","close","destroy","pause","resume"];function uo(D,X,ao){if(typeof D.prependListener=="function")return D.prependListener(X,ao);!D._events||!D._events[X]?D.on(X,ao):Array.isArray(D._events[X])?D._events[X].unshift(ao):D._events[X]=[ao,D._events[X]]}function Vo(D,X,ao){i=i||Ae(),D=D||{},typeof ao!="boolean"&&(ao=X instanceof i),this.objectMode=!!D.objectMode,ao&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=q(this,D,"readableHighWaterMark",ao),this.buffer=new $,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(Y||(Y=(Hn(),Pa(_n)).StringDecoder),this.decoder=new Y(D.encoding),this.encoding=D.encoding)}function o(D){if(i=i||Ae(),!(this instanceof o))return new o(D);var X=this instanceof i;this._readableState=new Vo(D,this,X),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),T.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){!this._readableState||(this._readableState.destroyed=D)}}),o.prototype.destroy=V.destroy,o.prototype._undestroy=V.undestroy,o.prototype._destroy=function(D,X){X(D)},o.prototype.push=function(D,X){var ao=this._readableState,wo;return ao.objectMode?wo=!0:typeof D=="string"&&(X=X||ao.defaultEncoding,X!==ao.encoding&&(D=u.from(D,X),X=""),wo=!0),n(this,D,X,!1,wo)},o.prototype.unshift=function(D){return n(this,D,null,!0,!1)};function n(D,X,ao,wo,zo){Z("readableAddChunk",X);var Lo=D._readableState;if(X===null)Lo.reading=!1,p(D,Lo);else{var Ho;if(zo||(Ho=l(Lo,X)),Ho)to(D,Ho);else if(Lo.objectMode||X&&X.length>0)if(typeof X!="string"&&!Lo.objectMode&&Object.getPrototypeOf(X)!==u.prototype&&(X=W(X)),wo)Lo.endEmitted?to(D,new K):c(D,Lo,X,!0);else if(Lo.ended)to(D,new E);else{if(Lo.destroyed)return!1;Lo.reading=!1,Lo.decoder&&!ao?(X=Lo.decoder.write(X),Lo.objectMode||X.length!==0?c(D,Lo,X,!1):S(D,Lo)):c(D,Lo,X,!1)}else wo||(Lo.reading=!1,S(D,Lo))}return!Lo.ended&&(Lo.length<Lo.highWaterMark||Lo.length===0)}function c(D,X,ao,wo){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,D.emit("data",ao)):(X.length+=X.objectMode?1:ao.length,wo?X.buffer.unshift(ao):X.buffer.push(ao),X.needReadable&&a(D)),S(D,X)}function l(D,X){var ao;return!y(X)&&typeof X!="string"&&X!==void 0&&!D.objectMode&&(ao=new g("chunk",["string","Buffer","Uint8Array"],X)),ao}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(D){Y||(Y=(Hn(),Pa(_n)).StringDecoder);var X=new Y(D);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var ao=this._readableState.buffer.head,wo="";ao!==null;)wo+=X.write(ao.data),ao=ao.next;return this._readableState.buffer.clear(),wo!==""&&this._readableState.buffer.push(wo),this._readableState.length=wo.length,this};var m=1073741824;function t(D){return D>=m?D=m:(D--,D|=D>>>1,D|=D>>>2,D|=D>>>4,D|=D>>>8,D|=D>>>16,D++),D}function N(D,X){return D<=0||X.length===0&&X.ended?0:X.objectMode?1:D!==D?X.flowing&&X.length?X.buffer.head.data.length:X.length:(D>X.highWaterMark&&(X.highWaterMark=t(D)),D<=X.length?D:X.ended?X.length:(X.needReadable=!0,0))}o.prototype.read=function(D){Z("read",D),D=parseInt(D,10);var X=this._readableState,ao=D;if(D!==0&&(X.emittedReadable=!1),D===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return Z("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?Xo(this):a(this),null;if(D=N(D,X),D===0&&X.ended)return X.length===0&&Xo(this),null;var wo=X.needReadable;Z("need readable",wo),(X.length===0||X.length-D<X.highWaterMark)&&(wo=!0,Z("length less than watermark",wo)),X.ended||X.reading?(wo=!1,Z("reading or ended",wo)):wo&&(Z("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(D=N(ao,X)));var zo;return D>0?zo=fo(D,X):zo=null,zo===null?(X.needReadable=X.length<=X.highWaterMark,D=0):(X.length-=D,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),ao!==D&&X.ended&&Xo(this)),zo!==null&&this.emit("data",zo),zo};function p(D,X){if(Z("onEofChunk"),!X.ended){if(X.decoder){var ao=X.decoder.end();ao&&ao.length&&(X.buffer.push(ao),X.length+=X.objectMode?1:ao.length)}X.ended=!0,X.sync?a(D):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,b(D)))}}function a(D){var X=D._readableState;Z("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(Z("emitReadable",X.flowing),X.emittedReadable=!0,process.nextTick(b,D))}function b(D){var X=D._readableState;Z("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(D.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,co(D)}function S(D,X){X.readingMore||(X.readingMore=!0,process.nextTick(w,D,X))}function w(D,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var ao=X.length;if(Z("maybeReadMore read 0"),D.read(0),ao===X.length)break}X.readingMore=!1}o.prototype._read=function(D){to(this,new z("_read()"))},o.prototype.pipe=function(D,X){var ao=this,wo=this._readableState;switch(wo.pipesCount){case 0:wo.pipes=D;break;case 1:wo.pipes=[wo.pipes,D];break;default:wo.pipes.push(D);break}wo.pipesCount+=1,Z("pipe count=%d opts=%j",wo.pipesCount,X);var zo=(!X||X.end!==!1)&&D!==process.stdout&&D!==process.stderr,Lo=zo?Uo:r;wo.endEmitted?process.nextTick(Lo):ao.once("end",Lo),D.on("unpipe",Ho);function Ho(f,R){Z("onunpipe"),f===ao&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,Ko())}function Uo(){Z("onend"),D.end()}var Po=I(ao);D.on("drain",Po);var Ao=!1;function Ko(){Z("cleanup"),D.removeListener("close",L),D.removeListener("finish",e),D.removeListener("drain",Po),D.removeListener("error",da),D.removeListener("unpipe",Ho),ao.removeListener("end",Uo),ao.removeListener("end",r),ao.removeListener("data",go),Ao=!0,wo.awaitDrain&&(!D._writableState||D._writableState.needDrain)&&Po()}ao.on("data",go);function go(f){Z("ondata");var R=D.write(f);Z("dest.write",R),R===!1&&((wo.pipesCount===1&&wo.pipes===D||wo.pipesCount>1&&So(wo.pipes,D)!==-1)&&!Ao&&(Z("false write response, pause",wo.awaitDrain),wo.awaitDrain++),ao.pause())}function da(f){Z("onerror",f),r(),D.removeListener("error",da),_(D,"error")===0&&to(D,f)}uo(D,"error",da);function L(){D.removeListener("finish",e),r()}D.once("close",L);function e(){Z("onfinish"),D.removeListener("close",L),r()}D.once("finish",e);function r(){Z("unpipe"),ao.unpipe(D)}return D.emit("pipe",ao),wo.flowing||(Z("pipe resume"),ao.resume()),D};function I(D){return function(){var X=D._readableState;Z("pipeOnDrain",X.awaitDrain),X.awaitDrain&&X.awaitDrain--,X.awaitDrain===0&&_(D,"data")&&(X.flowing=!0,co(D))}}o.prototype.unpipe=function(D){var X=this._readableState,ao={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return D&&D!==X.pipes?this:(D||(D=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,D&&D.emit("unpipe",this,ao),this);if(!D){var{pipes:wo,pipesCount:zo}=X;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var Lo=0;Lo<zo;Lo++)wo[Lo].emit("unpipe",this,{hasUnpiped:!1});return this}var Ho=So(X.pipes,D);return Ho===-1?this:(X.pipes.splice(Ho,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),D.emit("unpipe",this,ao),this)},o.prototype.on=function(D,X){var ao=T.prototype.on.call(this,D,X),wo=this._readableState;return D==="data"?(wo.readableListening=this.listenerCount("readable")>0,wo.flowing!==!1&&this.resume()):D==="readable"&&!wo.endEmitted&&!wo.readableListening&&(wo.readableListening=wo.needReadable=!0,wo.flowing=!1,wo.emittedReadable=!1,Z("on readable",wo.length,wo.reading),wo.length?a(this):wo.reading||process.nextTick(ko,this)),ao},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(D,X){var ao=T.prototype.removeListener.call(this,D,X);return D==="readable"&&process.nextTick(No,this),ao},o.prototype.removeAllListeners=function(D){var X=T.prototype.removeAllListeners.apply(this,arguments);return(D==="readable"||D===void 0)&&process.nextTick(No,this),X};function No(D){var X=D._readableState;X.readableListening=D.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:D.listenerCount("data")>0&&D.resume()}function ko(D){Z("readable nexttick read 0"),D.read(0)}o.prototype.resume=function(){var D=this._readableState;return D.flowing||(Z("resume"),D.flowing=!D.readableListening,xo(this,D)),D.paused=!1,this};function xo(D,X){X.resumeScheduled||(X.resumeScheduled=!0,process.nextTick(bo,D,X))}function bo(D,X){Z("resume",X.reading),X.reading||D.read(0),X.resumeScheduled=!1,D.emit("resume"),co(D),X.flowing&&!X.reading&&D.read(0)}o.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function co(D){var X=D._readableState;for(Z("flow",X.flowing);X.flowing&&D.read()!==null;);}o.prototype.wrap=function(D){var X=this,ao=this._readableState,wo=!1;D.on("end",function(){if(Z("wrapped end"),ao.decoder&&!ao.ended){var Ho=ao.decoder.end();Ho&&Ho.length&&X.push(Ho)}X.push(null)}),D.on("data",function(Ho){if(Z("wrapped data"),ao.decoder&&(Ho=ao.decoder.write(Ho)),!(ao.objectMode&&Ho==null)&&!(!ao.objectMode&&(!Ho||!Ho.length))){var Uo=X.push(Ho);Uo||(wo=!0,D.pause())}});for(var zo in D)this[zo]===void 0&&typeof D[zo]=="function"&&(this[zo]=function(Ho){return function(){return D[Ho].apply(D,arguments)}}(zo));for(var Lo=0;Lo<Mo.length;Lo++)D.on(Mo[Lo],this.emit.bind(this,Mo[Lo]));return this._read=function(Ho){Z("wrapped _read",Ho),wo&&(wo=!1,D.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=Ki()),C(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),o._fromList=fo,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fo(D,X){if(X.length===0)return null;var ao;return X.objectMode?ao=X.buffer.shift():!D||D>=X.length?(X.decoder?ao=X.buffer.join(""):X.buffer.length===1?ao=X.buffer.first():ao=X.buffer.concat(X.length),X.buffer.clear()):ao=X.buffer.consume(D,X.decoder),ao}function Xo(D){var X=D._readableState;Z("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,process.nextTick($o,X,D))}function $o(D,X){if(Z("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,X.readable=!1,X.emit("end"),D.autoDestroy)){var ao=X._writableState;(!ao||ao.autoDestroy&&ao.finished)&&X.destroy()}}typeof Symbol=="function"&&(o.from=function(D,X){return mo===void 0&&(mo=Ii()),mo(o,D,X)});function So(D,X){for(var ao=0,wo=D.length;ao<wo;ao++)if(D[ao]===X)return ao;return-1}}),qr=Jo((s,d)=>{d.exports=y;var i=Qe().codes,h=i.ERR_METHOD_NOT_IMPLEMENTED,_=i.ERR_MULTIPLE_CALLBACK,T=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=i.ERR_TRANSFORM_WITH_LENGTH_0,v=Ae();pa()(y,v);function W($,V){var x=this._transformState;x.transforming=!1;var q=x.writecb;if(q===null)return this.emit("error",new _);x.writechunk=null,x.writecb=null,V!=null&&this.push(V),q($);var F=this._readableState;F.reading=!1,(F.needReadable||F.length<F.highWaterMark)&&this._read(F.highWaterMark)}function y($){if(!(this instanceof y))return new y($);v.call(this,$),this._transformState={afterTransform:W.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,$&&(typeof $.transform=="function"&&(this._transform=$.transform),typeof $.flush=="function"&&(this._flush=$.flush)),this.on("prefinish",k)}function k(){var $=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(V,x){Z($,V,x)}):Z(this,null,null)}y.prototype.push=function($,V){return this._transformState.needTransform=!1,v.prototype.push.call(this,$,V)},y.prototype._transform=function($,V,x){x(new h("_transform()"))},y.prototype._write=function($,V,x){var q=this._transformState;if(q.writecb=x,q.writechunk=$,q.writeencoding=V,!q.transforming){var F=this._readableState;(q.needTransform||F.needReadable||F.length<F.highWaterMark)&&this._read(F.highWaterMark)}},y.prototype._read=function($){var V=this._transformState;V.writechunk!==null&&!V.transforming?(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform)):V.needTransform=!0},y.prototype._destroy=function($,V){v.prototype._destroy.call(this,$,function(x){V(x)})};function Z($,V,x){if(V)return $.emit("error",V);if(x!=null&&$.push(x),$._writableState.length)throw new u;if($._transformState.transforming)throw new T;return $.push(null)}}),Gi=Jo((s,d)=>{d.exports=h;var i=qr();pa()(h,i);function h(_){if(!(this instanceof h))return new h(_);i.call(this,_)}h.prototype._transform=function(_,T,u){u(null,_)}}),Di=Jo((s,d)=>{var i;function h(x){var q=!1;return function(){q||(q=!0,x.apply(void 0,arguments))}}var _=Qe().codes,T=_.ERR_MISSING_ARGS,u=_.ERR_STREAM_DESTROYED;function v(x){if(x)throw x}function W(x){return x.setHeader&&typeof x.abort=="function"}function y(x,q,F,g){g=h(g);var E=!1;x.on("close",function(){E=!0}),i===void 0&&(i=Ql()),i(x,{readable:q,writable:F},function(K){if(K)return g(K);E=!0,g()});var z=!1;return function(K){if(!E&&!z){if(z=!0,W(x))return x.abort();if(typeof x.destroy=="function")return x.destroy();g(K||new u("pipe"))}}}function k(x){x()}function Z(x,q){return x.pipe(q)}function $(x){return!x.length||typeof x[x.length-1]!="function"?v:x.pop()}function V(){for(var x=arguments.length,q=new Array(x),F=0;F<x;F++)q[F]=arguments[F];var g=$(q);if(Array.isArray(q[0])&&(q=q[0]),q.length<2)throw new T("streams");var E,z=q.map(function(K,Y){var C=Y<q.length-1,mo=Y>0;return y(K,C,mo,function(to){E||(E=to),to&&z.forEach(k),!C&&(z.forEach(k),g(E))})});return q.reduce(Z)}d.exports=V}),Hi=Jo((s,d)=>{s=d.exports=kr(),s.Stream=s,s.Readable=s,s.Writable=yr(),s.Duplex=Ae(),s.Transform=qr(),s.PassThrough=Gi(),s.finished=Ql(),s.pipeline=Di()}),Al=Jo((s,d)=>{(function(i,h){function _(l,m){if(!l)throw new Error(m||"Assertion failed")}function T(l,m){l.super_=m;var t=function(){};t.prototype=m.prototype,l.prototype=new t,l.prototype.constructor=l}function u(l,m,t){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((m==="le"||m==="be")&&(t=m,m=10),this._init(l||0,m||10,t||"be"))}typeof i=="object"?i.exports=u:h.BN=u,u.BN=u,u.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=We().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,m){return l.cmp(m)>0?l:m},u.min=function(l,m){return l.cmp(m)<0?l:m},u.prototype._init=function(l,m,t){if(typeof l=="number")return this._initNumber(l,m,t);if(typeof l=="object")return this._initArray(l,m,t);m==="hex"&&(m=16),_(m===(m|0)&&m>=2&&m<=36),l=l.toString().replace(/\s+/g,"");var N=0;l[0]==="-"&&(N++,this.negative=1),N<l.length&&(m===16?this._parseHex(l,N,t):(this._parseBase(l,m,N),t==="le"&&this._initArray(this.toArray(),m,t)))},u.prototype._initNumber=function(l,m,t){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(_(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),t==="le"&&this._initArray(this.toArray(),m,t)},u.prototype._initArray=function(l,m,t){if(_(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var p,a,b=0;if(t==="be")for(N=l.length-1,p=0;N>=0;N-=3)a=l[N]|l[N-1]<<8|l[N-2]<<16,this.words[p]|=a<<b&67108863,this.words[p+1]=a>>>26-b&67108863,b+=24,b>=26&&(b-=26,p++);else if(t==="le")for(N=0,p=0;N<l.length;N+=3)a=l[N]|l[N+1]<<8|l[N+2]<<16,this.words[p]|=a<<b&67108863,this.words[p+1]=a>>>26-b&67108863,b+=24,b>=26&&(b-=26,p++);return this._strip()};function W(l,m){var t=l.charCodeAt(m);if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;_(!1,"Invalid character in "+l)}function y(l,m,t){var N=W(l,t);return t-1>=m&&(N|=W(l,t-1)<<4),N}u.prototype._parseHex=function(l,m,t){this.length=Math.ceil((l.length-m)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var p=0,a=0,b;if(t==="be")for(N=l.length-1;N>=m;N-=2)b=y(l,m,N)<<p,this.words[a]|=b&67108863,p>=18?(p-=18,a+=1,this.words[a]|=b>>>26):p+=8;else{var S=l.length-m;for(N=S%2===0?m+1:m;N<l.length;N+=2)b=y(l,m,N)<<p,this.words[a]|=b&67108863,p>=18?(p-=18,a+=1,this.words[a]|=b>>>26):p+=8}this._strip()};function k(l,m,t,N){for(var p=0,a=0,b=Math.min(l.length,t),S=m;S<b;S++){var w=l.charCodeAt(S)-48;p*=N,w>=49?a=w-49+10:w>=17?a=w-17+10:a=w,_(w>=0&&a<N,"Invalid character"),p+=a}return p}u.prototype._parseBase=function(l,m,t){this.words=[0],this.length=1;for(var N=0,p=1;p<=67108863;p*=m)N++;N--,p=p/m|0;for(var a=l.length-t,b=a%N,S=Math.min(a,a-b)+t,w=0,I=t;I<S;I+=N)w=k(l,I,I+N,m),this.imuln(p),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(b!==0){var No=1;for(w=k(l,I,l.length,m),I=0;I<b;I++)No*=m;this.imuln(No),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red};function Z(l,m){l.words=m.words,l.length=m.length,l.negative=m.negative,l.red=m.red}if(u.prototype._move=function(l){Z(l,this)},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=$}catch{u.prototype.inspect=$}else u.prototype.inspect=$;function $(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,m){l=l||10,m=m|0||1;var t;if(l===16||l==="hex"){t="";for(var N=0,p=0,a=0;a<this.length;a++){var b=this.words[a],S=((b<<N|p)&16777215).toString(16);p=b>>>24-N&16777215,N+=2,N>=26&&(N-=26,a--),p!==0||a!==this.length-1?t=V[6-S.length]+S+t:t=S+t}for(p!==0&&(t=p.toString(16)+t);t.length%m!==0;)t="0"+t;return this.negative!==0&&(t="-"+t),t}if(l===(l|0)&&l>=2&&l<=36){var w=x[l],I=q[l];t="";var No=this.clone();for(No.negative=0;!No.isZero();){var ko=No.modrn(I).toString(l);No=No.idivn(I),No.isZero()?t=ko+t:t=V[w-ko.length]+ko+t}for(this.isZero()&&(t="0"+t);t.length%m!==0;)t="0"+t;return this.negative!==0&&(t="-"+t),t}_(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16,2)},v&&(u.prototype.toBuffer=function(l,m){return this.toArrayLike(v,l,m)}),u.prototype.toArray=function(l,m){return this.toArrayLike(Array,l,m)};var F=function(l,m){return l.allocUnsafe?l.allocUnsafe(m):new l(m)};u.prototype.toArrayLike=function(l,m,t){this._strip();var N=this.byteLength(),p=t||Math.max(1,N);_(N<=p,"byte array longer than desired length"),_(p>0,"Requested array length <= 0");var a=F(l,p),b=m==="le"?"LE":"BE";return this["_toArrayLike"+b](a,N),a},u.prototype._toArrayLikeLE=function(l,m){for(var t=0,N=0,p=0,a=0;p<this.length;p++){var b=this.words[p]<<a|N;l[t++]=b&255,t<l.length&&(l[t++]=b>>8&255),t<l.length&&(l[t++]=b>>16&255),a===6?(t<l.length&&(l[t++]=b>>24&255),N=0,a=0):(N=b>>>24,a+=2)}if(t<l.length)for(l[t++]=N;t<l.length;)l[t++]=0},u.prototype._toArrayLikeBE=function(l,m){for(var t=l.length-1,N=0,p=0,a=0;p<this.length;p++){var b=this.words[p]<<a|N;l[t--]=b&255,t>=0&&(l[t--]=b>>8&255),t>=0&&(l[t--]=b>>16&255),a===6?(t>=0&&(l[t--]=b>>24&255),N=0,a=0):(N=b>>>24,a+=2)}if(t>=0)for(l[t--]=N;t>=0;)l[t--]=0},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var m=l,t=0;return m>=4096&&(t+=13,m>>>=13),m>=64&&(t+=7,m>>>=7),m>=8&&(t+=4,m>>>=4),m>=2&&(t+=2,m>>>=2),t+m},u.prototype._zeroBits=function(l){if(l===0)return 26;var m=l,t=0;return(m&8191)===0&&(t+=13,m>>>=13),(m&127)===0&&(t+=7,m>>>=7),(m&15)===0&&(t+=4,m>>>=4),(m&3)===0&&(t+=2,m>>>=2),(m&1)===0&&t++,t},u.prototype.bitLength=function(){var l=this.words[this.length-1],m=this._countBits(l);return(this.length-1)*26+m};function g(l){for(var m=new Array(l.bitLength()),t=0;t<m.length;t++){var N=t/26|0,p=t%26;m[t]=l.words[N]>>>p&1}return m}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var t=this._zeroBits(this.words[m]);if(l+=t,t!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this._strip()},u.prototype.ior=function(l){return _((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var m;this.length>l.length?m=l:m=this;for(var t=0;t<m.length;t++)this.words[t]=this.words[t]&l.words[t];return this.length=m.length,this._strip()},u.prototype.iand=function(l){return _((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var m,t;this.length>l.length?(m=this,t=l):(m=l,t=this);for(var N=0;N<t.length;N++)this.words[N]=m.words[N]^t.words[N];if(this!==m)for(;N<m.length;N++)this.words[N]=m.words[N];return this.length=m.length,this._strip()},u.prototype.ixor=function(l){return _((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){_(typeof l=="number"&&l>=0);var m=Math.ceil(l/26)|0,t=l%26;this._expand(m),t>0&&m--;for(var N=0;N<m;N++)this.words[N]=~this.words[N]&67108863;return t>0&&(this.words[N]=~this.words[N]&67108863>>26-t),this._strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,m){_(typeof l=="number"&&l>=0);var t=l/26|0,N=l%26;return this._expand(t+1),m?this.words[t]=this.words[t]|1<<N:this.words[t]=this.words[t]&~(1<<N),this._strip()},u.prototype.iadd=function(l){var m;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();var t,N;this.length>l.length?(t=this,N=l):(t=l,N=this);for(var p=0,a=0;a<N.length;a++)m=(t.words[a]|0)+(N.words[a]|0)+p,this.words[a]=m&67108863,p=m>>>26;for(;p!==0&&a<t.length;a++)m=(t.words[a]|0)+p,this.words[a]=m&67108863,p=m>>>26;if(this.length=t.length,p!==0)this.words[this.length]=p,this.length++;else if(t!==this)for(;a<t.length;a++)this.words[a]=t.words[a];return this},u.prototype.add=function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var t=this.cmp(l);if(t===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,p;t>0?(N=this,p=l):(N=l,p=this);for(var a=0,b=0;b<p.length;b++)m=(N.words[b]|0)-(p.words[b]|0)+a,a=m>>26,this.words[b]=m&67108863;for(;a!==0&&b<N.length;b++)m=(N.words[b]|0)+a,a=m>>26,this.words[b]=m&67108863;if(a===0&&b<N.length&&N!==this)for(;b<N.length;b++)this.words[b]=N.words[b];return this.length=Math.max(this.length,b),N!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function E(l,m,t){t.negative=m.negative^l.negative;var N=l.length+m.length|0;t.length=N,N=N-1|0;var p=l.words[0]|0,a=m.words[0]|0,b=p*a,S=b&67108863,w=b/67108864|0;t.words[0]=S;for(var I=1;I<N;I++){for(var No=w>>>26,ko=w&67108863,xo=Math.min(I,m.length-1),bo=Math.max(0,I-l.length+1);bo<=xo;bo++){var co=I-bo|0;p=l.words[co]|0,a=m.words[bo]|0,b=p*a+ko,No+=b/67108864|0,ko=b&67108863}t.words[I]=ko|0,w=No|0}return w!==0?t.words[I]=w|0:t.length--,t._strip()}var z=function(l,m,t){var N=l.words,p=m.words,a=t.words,b=0,S,w,I,No=N[0]|0,ko=No&8191,xo=No>>>13,bo=N[1]|0,co=bo&8191,fo=bo>>>13,Xo=N[2]|0,$o=Xo&8191,So=Xo>>>13,D=N[3]|0,X=D&8191,ao=D>>>13,wo=N[4]|0,zo=wo&8191,Lo=wo>>>13,Ho=N[5]|0,Uo=Ho&8191,Po=Ho>>>13,Ao=N[6]|0,Ko=Ao&8191,go=Ao>>>13,da=N[7]|0,L=da&8191,e=da>>>13,r=N[8]|0,f=r&8191,R=r>>>13,M=N[9]|0,O=M&8191,U=M>>>13,P=p[0]|0,j=P&8191,J=P>>>13,oo=p[1]|0,H=oo&8191,G=oo>>>13,no=p[2]|0,Q=no&8191,ro=no>>>13,Zo=p[3]|0,A=Zo&8191,eo=Zo>>>13,so=p[4]|0,B=so&8191,lo=so>>>13,Ro=p[5]|0,po=Ro&8191,_o=Ro>>>13,Fo=p[6]|0,ho=Fo&8191,yo=Fo>>>13,jo=p[7]|0,To=jo&8191,qo=jo>>>13,Eo=p[8]|0,Wo=Eo&8191,Oo=Eo>>>13,Go=p[9]|0,Io=Go&8191,Do=Go>>>13;t.negative=l.negative^m.negative,t.length=19,S=Math.imul(ko,j),w=Math.imul(ko,J),w=w+Math.imul(xo,j)|0,I=Math.imul(xo,J);var Qo=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,S=Math.imul(co,j),w=Math.imul(co,J),w=w+Math.imul(fo,j)|0,I=Math.imul(fo,J),S=S+Math.imul(ko,H)|0,w=w+Math.imul(ko,G)|0,w=w+Math.imul(xo,H)|0,I=I+Math.imul(xo,G)|0;var Bo=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,S=Math.imul($o,j),w=Math.imul($o,J),w=w+Math.imul(So,j)|0,I=Math.imul(So,J),S=S+Math.imul(co,H)|0,w=w+Math.imul(co,G)|0,w=w+Math.imul(fo,H)|0,I=I+Math.imul(fo,G)|0,S=S+Math.imul(ko,Q)|0,w=w+Math.imul(ko,ro)|0,w=w+Math.imul(xo,Q)|0,I=I+Math.imul(xo,ro)|0;var oa=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(oa>>>26)|0,oa&=67108863,S=Math.imul(X,j),w=Math.imul(X,J),w=w+Math.imul(ao,j)|0,I=Math.imul(ao,J),S=S+Math.imul($o,H)|0,w=w+Math.imul($o,G)|0,w=w+Math.imul(So,H)|0,I=I+Math.imul(So,G)|0,S=S+Math.imul(co,Q)|0,w=w+Math.imul(co,ro)|0,w=w+Math.imul(fo,Q)|0,I=I+Math.imul(fo,ro)|0,S=S+Math.imul(ko,A)|0,w=w+Math.imul(ko,eo)|0,w=w+Math.imul(xo,A)|0,I=I+Math.imul(xo,eo)|0;var Yo=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,S=Math.imul(zo,j),w=Math.imul(zo,J),w=w+Math.imul(Lo,j)|0,I=Math.imul(Lo,J),S=S+Math.imul(X,H)|0,w=w+Math.imul(X,G)|0,w=w+Math.imul(ao,H)|0,I=I+Math.imul(ao,G)|0,S=S+Math.imul($o,Q)|0,w=w+Math.imul($o,ro)|0,w=w+Math.imul(So,Q)|0,I=I+Math.imul(So,ro)|0,S=S+Math.imul(co,A)|0,w=w+Math.imul(co,eo)|0,w=w+Math.imul(fo,A)|0,I=I+Math.imul(fo,eo)|0,S=S+Math.imul(ko,B)|0,w=w+Math.imul(ko,lo)|0,w=w+Math.imul(xo,B)|0,I=I+Math.imul(xo,lo)|0;var aa=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(aa>>>26)|0,aa&=67108863,S=Math.imul(Uo,j),w=Math.imul(Uo,J),w=w+Math.imul(Po,j)|0,I=Math.imul(Po,J),S=S+Math.imul(zo,H)|0,w=w+Math.imul(zo,G)|0,w=w+Math.imul(Lo,H)|0,I=I+Math.imul(Lo,G)|0,S=S+Math.imul(X,Q)|0,w=w+Math.imul(X,ro)|0,w=w+Math.imul(ao,Q)|0,I=I+Math.imul(ao,ro)|0,S=S+Math.imul($o,A)|0,w=w+Math.imul($o,eo)|0,w=w+Math.imul(So,A)|0,I=I+Math.imul(So,eo)|0,S=S+Math.imul(co,B)|0,w=w+Math.imul(co,lo)|0,w=w+Math.imul(fo,B)|0,I=I+Math.imul(fo,lo)|0,S=S+Math.imul(ko,po)|0,w=w+Math.imul(ko,_o)|0,w=w+Math.imul(xo,po)|0,I=I+Math.imul(xo,_o)|0;var Co=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(Co>>>26)|0,Co&=67108863,S=Math.imul(Ko,j),w=Math.imul(Ko,J),w=w+Math.imul(go,j)|0,I=Math.imul(go,J),S=S+Math.imul(Uo,H)|0,w=w+Math.imul(Uo,G)|0,w=w+Math.imul(Po,H)|0,I=I+Math.imul(Po,G)|0,S=S+Math.imul(zo,Q)|0,w=w+Math.imul(zo,ro)|0,w=w+Math.imul(Lo,Q)|0,I=I+Math.imul(Lo,ro)|0,S=S+Math.imul(X,A)|0,w=w+Math.imul(X,eo)|0,w=w+Math.imul(ao,A)|0,I=I+Math.imul(ao,eo)|0,S=S+Math.imul($o,B)|0,w=w+Math.imul($o,lo)|0,w=w+Math.imul(So,B)|0,I=I+Math.imul(So,lo)|0,S=S+Math.imul(co,po)|0,w=w+Math.imul(co,_o)|0,w=w+Math.imul(fo,po)|0,I=I+Math.imul(fo,_o)|0,S=S+Math.imul(ko,ho)|0,w=w+Math.imul(ko,yo)|0,w=w+Math.imul(xo,ho)|0,I=I+Math.imul(xo,yo)|0;var ra=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(ra>>>26)|0,ra&=67108863,S=Math.imul(L,j),w=Math.imul(L,J),w=w+Math.imul(e,j)|0,I=Math.imul(e,J),S=S+Math.imul(Ko,H)|0,w=w+Math.imul(Ko,G)|0,w=w+Math.imul(go,H)|0,I=I+Math.imul(go,G)|0,S=S+Math.imul(Uo,Q)|0,w=w+Math.imul(Uo,ro)|0,w=w+Math.imul(Po,Q)|0,I=I+Math.imul(Po,ro)|0,S=S+Math.imul(zo,A)|0,w=w+Math.imul(zo,eo)|0,w=w+Math.imul(Lo,A)|0,I=I+Math.imul(Lo,eo)|0,S=S+Math.imul(X,B)|0,w=w+Math.imul(X,lo)|0,w=w+Math.imul(ao,B)|0,I=I+Math.imul(ao,lo)|0,S=S+Math.imul($o,po)|0,w=w+Math.imul($o,_o)|0,w=w+Math.imul(So,po)|0,I=I+Math.imul(So,_o)|0,S=S+Math.imul(co,ho)|0,w=w+Math.imul(co,yo)|0,w=w+Math.imul(fo,ho)|0,I=I+Math.imul(fo,yo)|0,S=S+Math.imul(ko,To)|0,w=w+Math.imul(ko,qo)|0,w=w+Math.imul(xo,To)|0,I=I+Math.imul(xo,qo)|0;var ea=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(ea>>>26)|0,ea&=67108863,S=Math.imul(f,j),w=Math.imul(f,J),w=w+Math.imul(R,j)|0,I=Math.imul(R,J),S=S+Math.imul(L,H)|0,w=w+Math.imul(L,G)|0,w=w+Math.imul(e,H)|0,I=I+Math.imul(e,G)|0,S=S+Math.imul(Ko,Q)|0,w=w+Math.imul(Ko,ro)|0,w=w+Math.imul(go,Q)|0,I=I+Math.imul(go,ro)|0,S=S+Math.imul(Uo,A)|0,w=w+Math.imul(Uo,eo)|0,w=w+Math.imul(Po,A)|0,I=I+Math.imul(Po,eo)|0,S=S+Math.imul(zo,B)|0,w=w+Math.imul(zo,lo)|0,w=w+Math.imul(Lo,B)|0,I=I+Math.imul(Lo,lo)|0,S=S+Math.imul(X,po)|0,w=w+Math.imul(X,_o)|0,w=w+Math.imul(ao,po)|0,I=I+Math.imul(ao,_o)|0,S=S+Math.imul($o,ho)|0,w=w+Math.imul($o,yo)|0,w=w+Math.imul(So,ho)|0,I=I+Math.imul(So,yo)|0,S=S+Math.imul(co,To)|0,w=w+Math.imul(co,qo)|0,w=w+Math.imul(fo,To)|0,I=I+Math.imul(fo,qo)|0,S=S+Math.imul(ko,Wo)|0,w=w+Math.imul(ko,Oo)|0,w=w+Math.imul(xo,Wo)|0,I=I+Math.imul(xo,Oo)|0;var la=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(la>>>26)|0,la&=67108863,S=Math.imul(O,j),w=Math.imul(O,J),w=w+Math.imul(U,j)|0,I=Math.imul(U,J),S=S+Math.imul(f,H)|0,w=w+Math.imul(f,G)|0,w=w+Math.imul(R,H)|0,I=I+Math.imul(R,G)|0,S=S+Math.imul(L,Q)|0,w=w+Math.imul(L,ro)|0,w=w+Math.imul(e,Q)|0,I=I+Math.imul(e,ro)|0,S=S+Math.imul(Ko,A)|0,w=w+Math.imul(Ko,eo)|0,w=w+Math.imul(go,A)|0,I=I+Math.imul(go,eo)|0,S=S+Math.imul(Uo,B)|0,w=w+Math.imul(Uo,lo)|0,w=w+Math.imul(Po,B)|0,I=I+Math.imul(Po,lo)|0,S=S+Math.imul(zo,po)|0,w=w+Math.imul(zo,_o)|0,w=w+Math.imul(Lo,po)|0,I=I+Math.imul(Lo,_o)|0,S=S+Math.imul(X,ho)|0,w=w+Math.imul(X,yo)|0,w=w+Math.imul(ao,ho)|0,I=I+Math.imul(ao,yo)|0,S=S+Math.imul($o,To)|0,w=w+Math.imul($o,qo)|0,w=w+Math.imul(So,To)|0,I=I+Math.imul(So,qo)|0,S=S+Math.imul(co,Wo)|0,w=w+Math.imul(co,Oo)|0,w=w+Math.imul(fo,Wo)|0,I=I+Math.imul(fo,Oo)|0,S=S+Math.imul(ko,Io)|0,w=w+Math.imul(ko,Do)|0,w=w+Math.imul(xo,Io)|0,I=I+Math.imul(xo,Do)|0;var sa=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(sa>>>26)|0,sa&=67108863,S=Math.imul(O,H),w=Math.imul(O,G),w=w+Math.imul(U,H)|0,I=Math.imul(U,G),S=S+Math.imul(f,Q)|0,w=w+Math.imul(f,ro)|0,w=w+Math.imul(R,Q)|0,I=I+Math.imul(R,ro)|0,S=S+Math.imul(L,A)|0,w=w+Math.imul(L,eo)|0,w=w+Math.imul(e,A)|0,I=I+Math.imul(e,eo)|0,S=S+Math.imul(Ko,B)|0,w=w+Math.imul(Ko,lo)|0,w=w+Math.imul(go,B)|0,I=I+Math.imul(go,lo)|0,S=S+Math.imul(Uo,po)|0,w=w+Math.imul(Uo,_o)|0,w=w+Math.imul(Po,po)|0,I=I+Math.imul(Po,_o)|0,S=S+Math.imul(zo,ho)|0,w=w+Math.imul(zo,yo)|0,w=w+Math.imul(Lo,ho)|0,I=I+Math.imul(Lo,yo)|0,S=S+Math.imul(X,To)|0,w=w+Math.imul(X,qo)|0,w=w+Math.imul(ao,To)|0,I=I+Math.imul(ao,qo)|0,S=S+Math.imul($o,Wo)|0,w=w+Math.imul($o,Oo)|0,w=w+Math.imul(So,Wo)|0,I=I+Math.imul(So,Oo)|0,S=S+Math.imul(co,Io)|0,w=w+Math.imul(co,Do)|0,w=w+Math.imul(fo,Io)|0,I=I+Math.imul(fo,Do)|0;var na=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(na>>>26)|0,na&=67108863,S=Math.imul(O,Q),w=Math.imul(O,ro),w=w+Math.imul(U,Q)|0,I=Math.imul(U,ro),S=S+Math.imul(f,A)|0,w=w+Math.imul(f,eo)|0,w=w+Math.imul(R,A)|0,I=I+Math.imul(R,eo)|0,S=S+Math.imul(L,B)|0,w=w+Math.imul(L,lo)|0,w=w+Math.imul(e,B)|0,I=I+Math.imul(e,lo)|0,S=S+Math.imul(Ko,po)|0,w=w+Math.imul(Ko,_o)|0,w=w+Math.imul(go,po)|0,I=I+Math.imul(go,_o)|0,S=S+Math.imul(Uo,ho)|0,w=w+Math.imul(Uo,yo)|0,w=w+Math.imul(Po,ho)|0,I=I+Math.imul(Po,yo)|0,S=S+Math.imul(zo,To)|0,w=w+Math.imul(zo,qo)|0,w=w+Math.imul(Lo,To)|0,I=I+Math.imul(Lo,qo)|0,S=S+Math.imul(X,Wo)|0,w=w+Math.imul(X,Oo)|0,w=w+Math.imul(ao,Wo)|0,I=I+Math.imul(ao,Oo)|0,S=S+Math.imul($o,Io)|0,w=w+Math.imul($o,Do)|0,w=w+Math.imul(So,Io)|0,I=I+Math.imul(So,Do)|0;var ma=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(ma>>>26)|0,ma&=67108863,S=Math.imul(O,A),w=Math.imul(O,eo),w=w+Math.imul(U,A)|0,I=Math.imul(U,eo),S=S+Math.imul(f,B)|0,w=w+Math.imul(f,lo)|0,w=w+Math.imul(R,B)|0,I=I+Math.imul(R,lo)|0,S=S+Math.imul(L,po)|0,w=w+Math.imul(L,_o)|0,w=w+Math.imul(e,po)|0,I=I+Math.imul(e,_o)|0,S=S+Math.imul(Ko,ho)|0,w=w+Math.imul(Ko,yo)|0,w=w+Math.imul(go,ho)|0,I=I+Math.imul(go,yo)|0,S=S+Math.imul(Uo,To)|0,w=w+Math.imul(Uo,qo)|0,w=w+Math.imul(Po,To)|0,I=I+Math.imul(Po,qo)|0,S=S+Math.imul(zo,Wo)|0,w=w+Math.imul(zo,Oo)|0,w=w+Math.imul(Lo,Wo)|0,I=I+Math.imul(Lo,Oo)|0,S=S+Math.imul(X,Io)|0,w=w+Math.imul(X,Do)|0,w=w+Math.imul(ao,Io)|0,I=I+Math.imul(ao,Do)|0;var ba=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(ba>>>26)|0,ba&=67108863,S=Math.imul(O,B),w=Math.imul(O,lo),w=w+Math.imul(U,B)|0,I=Math.imul(U,lo),S=S+Math.imul(f,po)|0,w=w+Math.imul(f,_o)|0,w=w+Math.imul(R,po)|0,I=I+Math.imul(R,_o)|0,S=S+Math.imul(L,ho)|0,w=w+Math.imul(L,yo)|0,w=w+Math.imul(e,ho)|0,I=I+Math.imul(e,yo)|0,S=S+Math.imul(Ko,To)|0,w=w+Math.imul(Ko,qo)|0,w=w+Math.imul(go,To)|0,I=I+Math.imul(go,qo)|0,S=S+Math.imul(Uo,Wo)|0,w=w+Math.imul(Uo,Oo)|0,w=w+Math.imul(Po,Wo)|0,I=I+Math.imul(Po,Oo)|0,S=S+Math.imul(zo,Io)|0,w=w+Math.imul(zo,Do)|0,w=w+Math.imul(Lo,Io)|0,I=I+Math.imul(Lo,Do)|0;var _a=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(_a>>>26)|0,_a&=67108863,S=Math.imul(O,po),w=Math.imul(O,_o),w=w+Math.imul(U,po)|0,I=Math.imul(U,_o),S=S+Math.imul(f,ho)|0,w=w+Math.imul(f,yo)|0,w=w+Math.imul(R,ho)|0,I=I+Math.imul(R,yo)|0,S=S+Math.imul(L,To)|0,w=w+Math.imul(L,qo)|0,w=w+Math.imul(e,To)|0,I=I+Math.imul(e,qo)|0,S=S+Math.imul(Ko,Wo)|0,w=w+Math.imul(Ko,Oo)|0,w=w+Math.imul(go,Wo)|0,I=I+Math.imul(go,Oo)|0,S=S+Math.imul(Uo,Io)|0,w=w+Math.imul(Uo,Do)|0,w=w+Math.imul(Po,Io)|0,I=I+Math.imul(Po,Do)|0;var ia=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(ia>>>26)|0,ia&=67108863,S=Math.imul(O,ho),w=Math.imul(O,yo),w=w+Math.imul(U,ho)|0,I=Math.imul(U,yo),S=S+Math.imul(f,To)|0,w=w+Math.imul(f,qo)|0,w=w+Math.imul(R,To)|0,I=I+Math.imul(R,qo)|0,S=S+Math.imul(L,Wo)|0,w=w+Math.imul(L,Oo)|0,w=w+Math.imul(e,Wo)|0,I=I+Math.imul(e,Oo)|0,S=S+Math.imul(Ko,Io)|0,w=w+Math.imul(Ko,Do)|0,w=w+Math.imul(go,Io)|0,I=I+Math.imul(go,Do)|0;var ca=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(ca>>>26)|0,ca&=67108863,S=Math.imul(O,To),w=Math.imul(O,qo),w=w+Math.imul(U,To)|0,I=Math.imul(U,qo),S=S+Math.imul(f,Wo)|0,w=w+Math.imul(f,Oo)|0,w=w+Math.imul(R,Wo)|0,I=I+Math.imul(R,Oo)|0,S=S+Math.imul(L,Io)|0,w=w+Math.imul(L,Do)|0,w=w+Math.imul(e,Io)|0,I=I+Math.imul(e,Do)|0;var Ta=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(Ta>>>26)|0,Ta&=67108863,S=Math.imul(O,Wo),w=Math.imul(O,Oo),w=w+Math.imul(U,Wo)|0,I=Math.imul(U,Oo),S=S+Math.imul(f,Io)|0,w=w+Math.imul(f,Do)|0,w=w+Math.imul(R,Io)|0,I=I+Math.imul(R,Do)|0;var za=(b+S|0)+((w&8191)<<13)|0;b=(I+(w>>>13)|0)+(za>>>26)|0,za&=67108863,S=Math.imul(O,Io),w=Math.imul(O,Do),w=w+Math.imul(U,Io)|0,I=Math.imul(U,Do);var xa=(b+S|0)+((w&8191)<<13)|0;return b=(I+(w>>>13)|0)+(xa>>>26)|0,xa&=67108863,a[0]=Qo,a[1]=Bo,a[2]=oa,a[3]=Yo,a[4]=aa,a[5]=Co,a[6]=ra,a[7]=ea,a[8]=la,a[9]=sa,a[10]=na,a[11]=ma,a[12]=ba,a[13]=_a,a[14]=ia,a[15]=ca,a[16]=Ta,a[17]=za,a[18]=xa,b!==0&&(a[19]=b,t.length++),t};Math.imul||(z=E);function K(l,m,t){t.negative=m.negative^l.negative,t.length=l.length+m.length;for(var N=0,p=0,a=0;a<t.length-1;a++){var b=p;p=0;for(var S=N&67108863,w=Math.min(a,m.length-1),I=Math.max(0,a-l.length+1);I<=w;I++){var No=a-I,ko=l.words[No]|0,xo=m.words[I]|0,bo=ko*xo,co=bo&67108863;b=b+(bo/67108864|0)|0,co=co+S|0,S=co&67108863,b=b+(co>>>26)|0,p+=b>>>26,b&=67108863}t.words[a]=S,N=b,b=p}return N!==0?t.words[a]=N:t.length--,t._strip()}function Y(l,m,t){return K(l,m,t)}u.prototype.mulTo=function(l,m){var t,N=this.length+l.length;return this.length===10&&l.length===10?t=z(this,l,m):N<63?t=E(this,l,m):N<1024?t=K(this,l,m):t=Y(this,l,m),t};function C(l,m){this.x=l,this.y=m}C.prototype.makeRBT=function(l){for(var m=new Array(l),t=u.prototype._countBits(l)-1,N=0;N<l;N++)m[N]=this.revBin(N,t,l);return m},C.prototype.revBin=function(l,m,t){if(l===0||l===t-1)return l;for(var N=0,p=0;p<m;p++)N|=(l&1)<<m-p-1,l>>=1;return N},C.prototype.permute=function(l,m,t,N,p,a){for(var b=0;b<a;b++)N[b]=m[l[b]],p[b]=t[l[b]]},C.prototype.transform=function(l,m,t,N,p,a){this.permute(a,l,m,t,N,p);for(var b=1;b<p;b<<=1)for(var S=b<<1,w=Math.cos(2*Math.PI/S),I=Math.sin(2*Math.PI/S),No=0;No<p;No+=S)for(var ko=w,xo=I,bo=0;bo<b;bo++){var co=t[No+bo],fo=N[No+bo],Xo=t[No+bo+b],$o=N[No+bo+b],So=ko*Xo-xo*$o;$o=ko*$o+xo*Xo,Xo=So,t[No+bo]=co+Xo,N[No+bo]=fo+$o,t[No+bo+b]=co-Xo,N[No+bo+b]=fo-$o,bo!==S&&(So=w*ko-I*xo,xo=w*xo+I*ko,ko=So)}},C.prototype.guessLen13b=function(l,m){var t=Math.max(m,l)|1,N=t&1,p=0;for(t=t/2|0;t;t=t>>>1)p++;return 1<<p+1+N},C.prototype.conjugate=function(l,m,t){if(!(t<=1))for(var N=0;N<t/2;N++){var p=l[N];l[N]=l[t-N-1],l[t-N-1]=p,p=m[N],m[N]=-m[t-N-1],m[t-N-1]=-p}},C.prototype.normalize13b=function(l,m){for(var t=0,N=0;N<m/2;N++){var p=Math.round(l[2*N+1]/m)*8192+Math.round(l[2*N]/m)+t;l[N]=p&67108863,p<67108864?t=0:t=p/67108864|0}return l},C.prototype.convert13b=function(l,m,t,N){for(var p=0,a=0;a<m;a++)p=p+(l[a]|0),t[2*a]=p&8191,p=p>>>13,t[2*a+1]=p&8191,p=p>>>13;for(a=2*m;a<N;++a)t[a]=0;_(p===0),_((p&-8192)===0)},C.prototype.stub=function(l){for(var m=new Array(l),t=0;t<l;t++)m[t]=0;return m},C.prototype.mulp=function(l,m,t){var N=2*this.guessLen13b(l.length,m.length),p=this.makeRBT(N),a=this.stub(N),b=new Array(N),S=new Array(N),w=new Array(N),I=new Array(N),No=new Array(N),ko=new Array(N),xo=t.words;xo.length=N,this.convert13b(l.words,l.length,b,N),this.convert13b(m.words,m.length,I,N),this.transform(b,a,S,w,N,p),this.transform(I,a,No,ko,N,p);for(var bo=0;bo<N;bo++){var co=S[bo]*No[bo]-w[bo]*ko[bo];w[bo]=S[bo]*ko[bo]+w[bo]*No[bo],S[bo]=co}return this.conjugate(S,w,N),this.transform(S,w,xo,a,N,p),this.conjugate(xo,a,N),this.normalize13b(xo,N),t.negative=l.negative^m.negative,t.length=l.length+m.length,t._strip()},u.prototype.mul=function(l){var m=new u(null);return m.words=new Array(this.length+l.length),this.mulTo(l,m)},u.prototype.mulf=function(l){var m=new u(null);return m.words=new Array(this.length+l.length),Y(this,l,m)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){var m=l<0;m&&(l=-l),_(typeof l=="number"),_(l<67108864);for(var t=0,N=0;N<this.length;N++){var p=(this.words[N]|0)*l,a=(p&67108863)+(t&67108863);t>>=26,t+=p/67108864|0,t+=a>>>26,this.words[N]=a&67108863}return t!==0&&(this.words[N]=t,this.length++),m?this.ineg():this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var m=g(l);if(m.length===0)return new u(1);for(var t=this,N=0;N<m.length&&m[N]===0;N++,t=t.sqr());if(++N<m.length)for(var p=t.sqr();N<m.length;N++,p=p.sqr())m[N]!==0&&(t=t.mul(p));return t},u.prototype.iushln=function(l){_(typeof l=="number"&&l>=0);var m=l%26,t=(l-m)/26,N=67108863>>>26-m<<26-m,p;if(m!==0){var a=0;for(p=0;p<this.length;p++){var b=this.words[p]&N,S=(this.words[p]|0)-b<<m;this.words[p]=S|a,a=b>>>26-m}a&&(this.words[p]=a,this.length++)}if(t!==0){for(p=this.length-1;p>=0;p--)this.words[p+t]=this.words[p];for(p=0;p<t;p++)this.words[p]=0;this.length+=t}return this._strip()},u.prototype.ishln=function(l){return _(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,m,t){_(typeof l=="number"&&l>=0);var N;m?N=(m-m%26)/26:N=0;var p=l%26,a=Math.min((l-p)/26,this.length),b=67108863^67108863>>>p<<p,S=t;if(N-=a,N=Math.max(0,N),S){for(var w=0;w<a;w++)S.words[w]=this.words[w];S.length=a}if(a!==0)if(this.length>a)for(this.length-=a,w=0;w<this.length;w++)this.words[w]=this.words[w+a];else this.words[0]=0,this.length=1;var I=0;for(w=this.length-1;w>=0&&(I!==0||w>=N);w--){var No=this.words[w]|0;this.words[w]=I<<26-p|No>>>p,I=No&b}return S&&I!==0&&(S.words[S.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(l,m,t){return _(this.negative===0),this.iushrn(l,m,t)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){_(typeof l=="number"&&l>=0);var m=l%26,t=(l-m)/26,N=1<<m;if(this.length<=t)return!1;var p=this.words[t];return!!(p&N)},u.prototype.imaskn=function(l){_(typeof l=="number"&&l>=0);var m=l%26,t=(l-m)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=t)return this;if(m!==0&&t++,this.length=Math.min(t,this.length),m!==0){var N=67108863^67108863>>>m<<m;this.words[this.length-1]&=N}return this._strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return _(typeof l=="number"),_(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},u.prototype.isubn=function(l){if(_(typeof l=="number"),_(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,m,t){var N=l.length+t,p;this._expand(N);var a,b=0;for(p=0;p<l.length;p++){a=(this.words[p+t]|0)+b;var S=(l.words[p]|0)*m;a-=S&67108863,b=(a>>26)-(S/67108864|0),this.words[p+t]=a&67108863}for(;p<this.length-t;p++)a=(this.words[p+t]|0)+b,b=a>>26,this.words[p+t]=a&67108863;if(b===0)return this._strip();for(_(b===-1),b=0,p=0;p<this.length;p++)a=-(this.words[p]|0)+b,b=a>>26,this.words[p]=a&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(l,m){var t=this.length-l.length,N=this.clone(),p=l,a=p.words[p.length-1]|0,b=this._countBits(a);t=26-b,t!==0&&(p=p.ushln(t),N.iushln(t),a=p.words[p.length-1]|0);var S=N.length-p.length,w;if(m!=="mod"){w=new u(null),w.length=S+1,w.words=new Array(w.length);for(var I=0;I<w.length;I++)w.words[I]=0}var No=N.clone()._ishlnsubmul(p,1,S);No.negative===0&&(N=No,w&&(w.words[S]=1));for(var ko=S-1;ko>=0;ko--){var xo=(N.words[p.length+ko]|0)*67108864+(N.words[p.length+ko-1]|0);for(xo=Math.min(xo/a|0,67108863),N._ishlnsubmul(p,xo,ko);N.negative!==0;)xo--,N.negative=0,N._ishlnsubmul(p,1,ko),N.isZero()||(N.negative^=1);w&&(w.words[ko]=xo)}return w&&w._strip(),N._strip(),m!=="div"&&t!==0&&N.iushrn(t),{div:w||null,mod:N}},u.prototype.divmod=function(l,m,t){if(_(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var N,p,a;return this.negative!==0&&l.negative===0?(a=this.neg().divmod(l,m),m!=="mod"&&(N=a.div.neg()),m!=="div"&&(p=a.mod.neg(),t&&p.negative!==0&&p.iadd(l)),{div:N,mod:p}):this.negative===0&&l.negative!==0?(a=this.divmod(l.neg(),m),m!=="mod"&&(N=a.div.neg()),{div:N,mod:a.mod}):(this.negative&l.negative)!==0?(a=this.neg().divmod(l.neg(),m),m!=="div"&&(p=a.mod.neg(),t&&p.negative!==0&&p.isub(l)),{div:a.div,mod:p}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new u(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modrn(l.words[0]))}:this._wordDiv(l,m)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var t=m.div.negative!==0?m.mod.isub(l):m.mod,N=l.ushrn(1),p=l.andln(1),a=t.cmp(N);return a<0||p===1&&a===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},u.prototype.modrn=function(l){var m=l<0;m&&(l=-l),_(l<=67108863);for(var t=67108864%l,N=0,p=this.length-1;p>=0;p--)N=(t*N+(this.words[p]|0))%l;return m?-N:N},u.prototype.modn=function(l){return this.modrn(l)},u.prototype.idivn=function(l){var m=l<0;m&&(l=-l),_(l<=67108863);for(var t=0,N=this.length-1;N>=0;N--){var p=(this.words[N]|0)+t*67108864;this.words[N]=p/l|0,t=p%l}return this._strip(),m?this.ineg():this},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){_(l.negative===0),_(!l.isZero());var m=this,t=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var N=new u(1),p=new u(0),a=new u(0),b=new u(1),S=0;m.isEven()&&t.isEven();)m.iushrn(1),t.iushrn(1),++S;for(var w=t.clone(),I=m.clone();!m.isZero();){for(var No=0,ko=1;(m.words[0]&ko)===0&&No<26;++No,ko<<=1);if(No>0)for(m.iushrn(No);No-- >0;)(N.isOdd()||p.isOdd())&&(N.iadd(w),p.isub(I)),N.iushrn(1),p.iushrn(1);for(var xo=0,bo=1;(t.words[0]&bo)===0&&xo<26;++xo,bo<<=1);if(xo>0)for(t.iushrn(xo);xo-- >0;)(a.isOdd()||b.isOdd())&&(a.iadd(w),b.isub(I)),a.iushrn(1),b.iushrn(1);m.cmp(t)>=0?(m.isub(t),N.isub(a),p.isub(b)):(t.isub(m),a.isub(N),b.isub(p))}return{a,b,gcd:t.iushln(S)}},u.prototype._invmp=function(l){_(l.negative===0),_(!l.isZero());var m=this,t=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var N=new u(1),p=new u(0),a=t.clone();m.cmpn(1)>0&&t.cmpn(1)>0;){for(var b=0,S=1;(m.words[0]&S)===0&&b<26;++b,S<<=1);if(b>0)for(m.iushrn(b);b-- >0;)N.isOdd()&&N.iadd(a),N.iushrn(1);for(var w=0,I=1;(t.words[0]&I)===0&&w<26;++w,I<<=1);if(w>0)for(t.iushrn(w);w-- >0;)p.isOdd()&&p.iadd(a),p.iushrn(1);m.cmp(t)>=0?(m.isub(t),N.isub(p)):(t.isub(m),p.isub(N))}var No;return m.cmpn(1)===0?No=N:No=p,No.cmpn(0)<0&&No.iadd(l),No},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),t=l.clone();m.negative=0,t.negative=0;for(var N=0;m.isEven()&&t.isEven();N++)m.iushrn(1),t.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;t.isEven();)t.iushrn(1);var p=m.cmp(t);if(p<0){var a=m;m=t,t=a}else if(p===0||t.cmpn(1)===0)break;m.isub(t)}while(!0);return t.iushln(N)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){_(typeof l=="number");var m=l%26,t=(l-m)/26,N=1<<m;if(this.length<=t)return this._expand(t+1),this.words[t]|=N,this;for(var p=N,a=t;p!==0&&a<this.length;a++){var b=this.words[a]|0;b+=p,p=b>>>26,b&=67108863,this.words[a]=b}return p!==0&&(this.words[a]=p,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var m=l<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var t;if(this.length>1)t=1;else{m&&(l=-l),_(l<=67108863,"Number is too big");var N=this.words[0]|0;t=N===l?0:N<l?-1:1}return this.negative!==0?-t|0:t},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?-m|0:m},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,t=this.length-1;t>=0;t--){var N=this.words[t]|0,p=l.words[t]|0;if(N!==p){N<p?m=-1:N>p&&(m=1);break}}return m},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new n(l)},u.prototype.toRed=function(l){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return _(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return _(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var mo={k256:null,p224:null,p192:null,p25519:null};function to(l,m){this.name=l,this.p=new u(m,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}to.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},to.prototype.ireduce=function(l){var m=l,t;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),t=m.bitLength();while(t>this.n);var N=t<this.n?-1:m.ucmp(this.p);return N===0?(m.words[0]=0,m.length=1):N>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},to.prototype.split=function(l,m){l.iushrn(this.n,0,m)},to.prototype.imulK=function(l){return l.imul(this.k)};function Mo(){to.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(Mo,to),Mo.prototype.split=function(l,m){for(var t=4194303,N=Math.min(l.length,9),p=0;p<N;p++)m.words[p]=l.words[p];if(m.length=N,l.length<=9){l.words[0]=0,l.length=1;return}var a=l.words[9];for(m.words[m.length++]=a&t,p=10;p<l.length;p++){var b=l.words[p]|0;l.words[p-10]=(b&t)<<4|a>>>22,a=b}a>>>=22,l.words[p-10]=a,a===0&&l.length>10?l.length-=10:l.length-=9},Mo.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,t=0;t<l.length;t++){var N=l.words[t]|0;m+=N*977,l.words[t]=m&67108863,m=N*64+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function uo(){to.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(uo,to);function Vo(){to.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(Vo,to);function o(){to.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(o,to),o.prototype.imulK=function(l){for(var m=0,t=0;t<l.length;t++){var N=(l.words[t]|0)*19+m,p=N&67108863;N>>>=26,l.words[t]=p,m=N}return m!==0&&(l.words[l.length++]=m),l},u._prime=function(l){if(mo[l])return mo[l];var m;if(l==="k256")m=new Mo;else if(l==="p224")m=new uo;else if(l==="p192")m=new Vo;else if(l==="p25519")m=new o;else throw new Error("Unknown prime "+l);return mo[l]=m,m};function n(l){if(typeof l=="string"){var m=u._prime(l);this.m=m.p,this.prime=m}else _(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}n.prototype._verify1=function(l){_(l.negative===0,"red works only with positives"),_(l.red,"red works only with red numbers")},n.prototype._verify2=function(l,m){_((l.negative|m.negative)===0,"red works only with positives"),_(l.red&&l.red===m.red,"red works only with red numbers")},n.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(Z(l,l.umod(this.m)._forceRed(this)),l)},n.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},n.prototype.add=function(l,m){this._verify2(l,m);var t=l.add(m);return t.cmp(this.m)>=0&&t.isub(this.m),t._forceRed(this)},n.prototype.iadd=function(l,m){this._verify2(l,m);var t=l.iadd(m);return t.cmp(this.m)>=0&&t.isub(this.m),t},n.prototype.sub=function(l,m){this._verify2(l,m);var t=l.sub(m);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},n.prototype.isub=function(l,m){this._verify2(l,m);var t=l.isub(m);return t.cmpn(0)<0&&t.iadd(this.m),t},n.prototype.shl=function(l,m){return this._verify1(l),this.imod(l.ushln(m))},n.prototype.imul=function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},n.prototype.mul=function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},n.prototype.isqr=function(l){return this.imul(l,l.clone())},n.prototype.sqr=function(l){return this.mul(l,l)},n.prototype.sqrt=function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(_(m%2===1),m===3){var t=this.m.add(new u(1)).iushrn(2);return this.pow(l,t)}for(var N=this.m.subn(1),p=0;!N.isZero()&&N.andln(1)===0;)p++,N.iushrn(1);_(!N.isZero());var a=new u(1).toRed(this),b=a.redNeg(),S=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new u(2*w*w).toRed(this);this.pow(w,S).cmp(b)!==0;)w.redIAdd(b);for(var I=this.pow(w,N),No=this.pow(l,N.addn(1).iushrn(1)),ko=this.pow(l,N),xo=p;ko.cmp(a)!==0;){for(var bo=ko,co=0;bo.cmp(a)!==0;co++)bo=bo.redSqr();_(co<xo);var fo=this.pow(I,new u(1).iushln(xo-co-1));No=No.redMul(fo),I=fo.redSqr(),ko=ko.redMul(I),xo=co}return No},n.prototype.invm=function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},n.prototype.pow=function(l,m){if(m.isZero())return new u(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var t=4,N=new Array(1<<t);N[0]=new u(1).toRed(this),N[1]=l;for(var p=2;p<N.length;p++)N[p]=this.mul(N[p-1],l);var a=N[0],b=0,S=0,w=m.bitLength()%26;for(w===0&&(w=26),p=m.length-1;p>=0;p--){for(var I=m.words[p],No=w-1;No>=0;No--){var ko=I>>No&1;if(a!==N[0]&&(a=this.sqr(a)),ko===0&&b===0){S=0;continue}b<<=1,b|=ko,S++,!(S!==t&&(p!==0||No!==0))&&(a=this.mul(a,N[b]),S=0,b=0)}w=26}return a},n.prototype.convertTo=function(l){var m=l.umod(this.m);return m===l?m.clone():m},n.prototype.convertFrom=function(l){var m=l.clone();return m.red=null,m},u.mont=function(l){return new c(l)};function c(l){n.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(c,n),c.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},c.prototype.convertFrom=function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},c.prototype.imul=function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var t=l.imul(m),N=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=t.isub(N).iushrn(this.shift),a=p;return p.cmp(this.m)>=0?a=p.isub(this.m):p.cmpn(0)<0&&(a=p.iadd(this.m)),a._forceRed(this)},c.prototype.mul=function(l,m){if(l.isZero()||m.isZero())return new u(0)._forceRed(this);var t=l.mul(m),N=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=t.isub(N).iushrn(this.shift),a=p;return p.cmp(this.m)>=0?a=p.isub(this.m):p.cmpn(0)<0&&(a=p.iadd(this.m)),a._forceRed(this)},c.prototype.invm=function(l){var m=this.imod(l._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(typeof d>"u"||d,s)}),os=Jo((s,d)=>{var i=Al(),h=De();function _(v){var W=T(v),y=W.toRed(i.mont(v.modulus)).redPow(new i(v.publicExponent)).fromRed();return{blinder:y,unblinder:W.invm(v.modulus)}}function T(v){var W=v.modulus.byteLength(),y;do y=new i(h(W));while(y.cmp(v.modulus)>=0||!y.umod(v.prime1)||!y.umod(v.prime2));return y}function u(v,W){var y=_(W),k=W.modulus.byteLength(),Z=new i(v).mul(y.blinder).umod(W.modulus),$=Z.toRed(i.mont(W.prime1)),V=Z.toRed(i.mont(W.prime2)),x=W.coefficient,q=W.prime1,F=W.prime2,g=$.redPow(W.exponent1).fromRed(),E=V.redPow(W.exponent2).fromRed(),z=g.isub(E).imul(x).umod(q).imul(F);return E.iadd(z).imul(y.unblinder).umod(W.modulus).toArrayLike(Buffer,"be",k)}u.getr=T,d.exports=u}),Yi=Jo((s,d)=>{d.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),re=Jo((s,d)=>{(function(i,h){function _(o,n){if(!o)throw new Error(n||"Assertion failed")}function T(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof i=="object"?i.exports=u:h.BN=u,u.BN=u,u.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=We().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),_(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(n===16?this._parseHex(o,l,c):(this._parseBase(o,n,l),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(_(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(_(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m,t,N=0;if(c==="be")for(l=o.length-1,m=0;l>=0;l-=3)t=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);else if(c==="le")for(l=0,m=0;l<o.length;l+=3)t=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);return this.strip()};function W(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var l=W(o,c);return c-1>=n&&(l|=W(o,c-1)<<4),l}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m=0,t=0,N;if(c==="be")for(l=o.length-1;l>=n;l-=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8;else{var p=o.length-n;for(l=p%2===0?n+1:n;l<o.length;l+=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8}this.strip()};function k(o,n,c,l){for(var m=0,t=Math.min(o.length,c),N=n;N<t;N++){var p=o.charCodeAt(N)-48;m*=l,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var l=0,m=1;m<=67108863;m*=n)l++;l--,m=m/n|0;for(var t=o.length-c,N=t%l,p=Math.min(t,t-N)+c,a=0,b=c;b<p;b+=l)a=k(o,b,b+l,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,b,o.length,n),b=0;b<N;b++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var l=0,m=0,t=0;t<this.length;t++){var N=this.words[t],p=((N<<l|m)&16777215).toString(16);m=N>>>24-l&16777215,m!==0||t!==this.length-1?c=Z[6-p.length]+p+c:c=p+c,l+=2,l>=26&&(l-=26,t--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=$[o],b=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(b).toString(o);S=S.idivn(b),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}_(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return _(typeof v<"u"),this.toArrayLike(v,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var l=this.byteLength(),m=c||Math.max(1,l);_(l<=m,"byte array longer than desired length"),_(m>0,"Requested array length <= 0"),this.strip();var t=n==="le",N=new o(m),p,a,b=this.clone();if(t){for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[a]=p;for(;a<m;a++)N[a]=0}else{for(a=0;a<m-l;a++)N[a]=0;for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[m-a-1]=p}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function x(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var l=c/26|0,m=c%26;n[c]=(o.words[l]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return _((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return _((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var l=0;l<c.length;l++)this.words[l]=n.words[l]^c.words[l];if(this!==n)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return _((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){_(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var l=0;l<n;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){_(typeof o=="number"&&o>=0);var c=o/26|0,l=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,l;this.length>o.length?(c=this,l=o):(c=o,l=this);for(var m=0,t=0;t<l.length;t++)n=(c.words[t]|0)+(l.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;for(;m!==0&&t<c.length;t++)n=(c.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;t<c.length;t++)this.words[t]=c.words[t];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,m;c>0?(l=this,m=o):(l=o,m=this);for(var t=0,N=0;N<m.length;N++)n=(l.words[N]|0)-(m.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;for(;t!==0&&N<l.length;N++)n=(l.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;if(t===0&&N<l.length&&l!==this)for(;N<l.length;N++)this.words[N]=l.words[N];return this.length=Math.max(this.length,N),l!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var l=o.length+n.length|0;c.length=l,l=l-1|0;var m=o.words[0]|0,t=n.words[0]|0,N=m*t,p=N&67108863,a=N/67108864|0;c.words[0]=p;for(var b=1;b<l;b++){for(var S=a>>>26,w=a&67108863,I=Math.min(b,n.length-1),No=Math.max(0,b-o.length+1);No<=I;No++){var ko=b-No|0;m=o.words[ko]|0,t=n.words[No]|0,N=m*t+w,S+=N/67108864|0,w=N&67108863}c.words[b]=w|0,a=S|0}return a!==0?c.words[b]=a|0:c.length--,c.strip()}var F=function(o,n,c){var l=o.words,m=n.words,t=c.words,N=0,p,a,b,S=l[0]|0,w=S&8191,I=S>>>13,No=l[1]|0,ko=No&8191,xo=No>>>13,bo=l[2]|0,co=bo&8191,fo=bo>>>13,Xo=l[3]|0,$o=Xo&8191,So=Xo>>>13,D=l[4]|0,X=D&8191,ao=D>>>13,wo=l[5]|0,zo=wo&8191,Lo=wo>>>13,Ho=l[6]|0,Uo=Ho&8191,Po=Ho>>>13,Ao=l[7]|0,Ko=Ao&8191,go=Ao>>>13,da=l[8]|0,L=da&8191,e=da>>>13,r=l[9]|0,f=r&8191,R=r>>>13,M=m[0]|0,O=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,oo=m[2]|0,H=oo&8191,G=oo>>>13,no=m[3]|0,Q=no&8191,ro=no>>>13,Zo=m[4]|0,A=Zo&8191,eo=Zo>>>13,so=m[5]|0,B=so&8191,lo=so>>>13,Ro=m[6]|0,po=Ro&8191,_o=Ro>>>13,Fo=m[7]|0,ho=Fo&8191,yo=Fo>>>13,jo=m[8]|0,To=jo&8191,qo=jo>>>13,Eo=m[9]|0,Wo=Eo&8191,Oo=Eo>>>13;c.negative=o.negative^n.negative,c.length=19,p=Math.imul(w,O),a=Math.imul(w,U),a=a+Math.imul(I,O)|0,b=Math.imul(I,U);var Go=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,p=Math.imul(ko,O),a=Math.imul(ko,U),a=a+Math.imul(xo,O)|0,b=Math.imul(xo,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,b=b+Math.imul(I,J)|0;var Io=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,p=Math.imul(co,O),a=Math.imul(co,U),a=a+Math.imul(fo,O)|0,b=Math.imul(fo,U),p=p+Math.imul(ko,j)|0,a=a+Math.imul(ko,J)|0,a=a+Math.imul(xo,j)|0,b=b+Math.imul(xo,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,b=b+Math.imul(I,G)|0;var Do=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,p=Math.imul($o,O),a=Math.imul($o,U),a=a+Math.imul(So,O)|0,b=Math.imul(So,U),p=p+Math.imul(co,j)|0,a=a+Math.imul(co,J)|0,a=a+Math.imul(fo,j)|0,b=b+Math.imul(fo,J)|0,p=p+Math.imul(ko,H)|0,a=a+Math.imul(ko,G)|0,a=a+Math.imul(xo,H)|0,b=b+Math.imul(xo,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,Q)|0,b=b+Math.imul(I,ro)|0;var Qo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,p=Math.imul(X,O),a=Math.imul(X,U),a=a+Math.imul(ao,O)|0,b=Math.imul(ao,U),p=p+Math.imul($o,j)|0,a=a+Math.imul($o,J)|0,a=a+Math.imul(So,j)|0,b=b+Math.imul(So,J)|0,p=p+Math.imul(co,H)|0,a=a+Math.imul(co,G)|0,a=a+Math.imul(fo,H)|0,b=b+Math.imul(fo,G)|0,p=p+Math.imul(ko,Q)|0,a=a+Math.imul(ko,ro)|0,a=a+Math.imul(xo,Q)|0,b=b+Math.imul(xo,ro)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,eo)|0,a=a+Math.imul(I,A)|0,b=b+Math.imul(I,eo)|0;var Bo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,p=Math.imul(zo,O),a=Math.imul(zo,U),a=a+Math.imul(Lo,O)|0,b=Math.imul(Lo,U),p=p+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(ao,j)|0,b=b+Math.imul(ao,J)|0,p=p+Math.imul($o,H)|0,a=a+Math.imul($o,G)|0,a=a+Math.imul(So,H)|0,b=b+Math.imul(So,G)|0,p=p+Math.imul(co,Q)|0,a=a+Math.imul(co,ro)|0,a=a+Math.imul(fo,Q)|0,b=b+Math.imul(fo,ro)|0,p=p+Math.imul(ko,A)|0,a=a+Math.imul(ko,eo)|0,a=a+Math.imul(xo,A)|0,b=b+Math.imul(xo,eo)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,B)|0,b=b+Math.imul(I,lo)|0;var oa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(Uo,O),a=Math.imul(Uo,U),a=a+Math.imul(Po,O)|0,b=Math.imul(Po,U),p=p+Math.imul(zo,j)|0,a=a+Math.imul(zo,J)|0,a=a+Math.imul(Lo,j)|0,b=b+Math.imul(Lo,J)|0,p=p+Math.imul(X,H)|0,a=a+Math.imul(X,G)|0,a=a+Math.imul(ao,H)|0,b=b+Math.imul(ao,G)|0,p=p+Math.imul($o,Q)|0,a=a+Math.imul($o,ro)|0,a=a+Math.imul(So,Q)|0,b=b+Math.imul(So,ro)|0,p=p+Math.imul(co,A)|0,a=a+Math.imul(co,eo)|0,a=a+Math.imul(fo,A)|0,b=b+Math.imul(fo,eo)|0,p=p+Math.imul(ko,B)|0,a=a+Math.imul(ko,lo)|0,a=a+Math.imul(xo,B)|0,b=b+Math.imul(xo,lo)|0,p=p+Math.imul(w,po)|0,a=a+Math.imul(w,_o)|0,a=a+Math.imul(I,po)|0,b=b+Math.imul(I,_o)|0;var Yo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,p=Math.imul(Ko,O),a=Math.imul(Ko,U),a=a+Math.imul(go,O)|0,b=Math.imul(go,U),p=p+Math.imul(Uo,j)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Po,j)|0,b=b+Math.imul(Po,J)|0,p=p+Math.imul(zo,H)|0,a=a+Math.imul(zo,G)|0,a=a+Math.imul(Lo,H)|0,b=b+Math.imul(Lo,G)|0,p=p+Math.imul(X,Q)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(ao,Q)|0,b=b+Math.imul(ao,ro)|0,p=p+Math.imul($o,A)|0,a=a+Math.imul($o,eo)|0,a=a+Math.imul(So,A)|0,b=b+Math.imul(So,eo)|0,p=p+Math.imul(co,B)|0,a=a+Math.imul(co,lo)|0,a=a+Math.imul(fo,B)|0,b=b+Math.imul(fo,lo)|0,p=p+Math.imul(ko,po)|0,a=a+Math.imul(ko,_o)|0,a=a+Math.imul(xo,po)|0,b=b+Math.imul(xo,_o)|0,p=p+Math.imul(w,ho)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,ho)|0,b=b+Math.imul(I,yo)|0;var aa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(L,O),a=Math.imul(L,U),a=a+Math.imul(e,O)|0,b=Math.imul(e,U),p=p+Math.imul(Ko,j)|0,a=a+Math.imul(Ko,J)|0,a=a+Math.imul(go,j)|0,b=b+Math.imul(go,J)|0,p=p+Math.imul(Uo,H)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Po,H)|0,b=b+Math.imul(Po,G)|0,p=p+Math.imul(zo,Q)|0,a=a+Math.imul(zo,ro)|0,a=a+Math.imul(Lo,Q)|0,b=b+Math.imul(Lo,ro)|0,p=p+Math.imul(X,A)|0,a=a+Math.imul(X,eo)|0,a=a+Math.imul(ao,A)|0,b=b+Math.imul(ao,eo)|0,p=p+Math.imul($o,B)|0,a=a+Math.imul($o,lo)|0,a=a+Math.imul(So,B)|0,b=b+Math.imul(So,lo)|0,p=p+Math.imul(co,po)|0,a=a+Math.imul(co,_o)|0,a=a+Math.imul(fo,po)|0,b=b+Math.imul(fo,_o)|0,p=p+Math.imul(ko,ho)|0,a=a+Math.imul(ko,yo)|0,a=a+Math.imul(xo,ho)|0,b=b+Math.imul(xo,yo)|0,p=p+Math.imul(w,To)|0,a=a+Math.imul(w,qo)|0,a=a+Math.imul(I,To)|0,b=b+Math.imul(I,qo)|0;var Co=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,p=Math.imul(f,O),a=Math.imul(f,U),a=a+Math.imul(R,O)|0,b=Math.imul(R,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(e,j)|0,b=b+Math.imul(e,J)|0,p=p+Math.imul(Ko,H)|0,a=a+Math.imul(Ko,G)|0,a=a+Math.imul(go,H)|0,b=b+Math.imul(go,G)|0,p=p+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Po,Q)|0,b=b+Math.imul(Po,ro)|0,p=p+Math.imul(zo,A)|0,a=a+Math.imul(zo,eo)|0,a=a+Math.imul(Lo,A)|0,b=b+Math.imul(Lo,eo)|0,p=p+Math.imul(X,B)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(ao,B)|0,b=b+Math.imul(ao,lo)|0,p=p+Math.imul($o,po)|0,a=a+Math.imul($o,_o)|0,a=a+Math.imul(So,po)|0,b=b+Math.imul(So,_o)|0,p=p+Math.imul(co,ho)|0,a=a+Math.imul(co,yo)|0,a=a+Math.imul(fo,ho)|0,b=b+Math.imul(fo,yo)|0,p=p+Math.imul(ko,To)|0,a=a+Math.imul(ko,qo)|0,a=a+Math.imul(xo,To)|0,b=b+Math.imul(xo,qo)|0,p=p+Math.imul(w,Wo)|0,a=a+Math.imul(w,Oo)|0,a=a+Math.imul(I,Wo)|0,b=b+Math.imul(I,Oo)|0;var ra=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(f,j),a=Math.imul(f,J),a=a+Math.imul(R,j)|0,b=Math.imul(R,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(e,H)|0,b=b+Math.imul(e,G)|0,p=p+Math.imul(Ko,Q)|0,a=a+Math.imul(Ko,ro)|0,a=a+Math.imul(go,Q)|0,b=b+Math.imul(go,ro)|0,p=p+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Po,A)|0,b=b+Math.imul(Po,eo)|0,p=p+Math.imul(zo,B)|0,a=a+Math.imul(zo,lo)|0,a=a+Math.imul(Lo,B)|0,b=b+Math.imul(Lo,lo)|0,p=p+Math.imul(X,po)|0,a=a+Math.imul(X,_o)|0,a=a+Math.imul(ao,po)|0,b=b+Math.imul(ao,_o)|0,p=p+Math.imul($o,ho)|0,a=a+Math.imul($o,yo)|0,a=a+Math.imul(So,ho)|0,b=b+Math.imul(So,yo)|0,p=p+Math.imul(co,To)|0,a=a+Math.imul(co,qo)|0,a=a+Math.imul(fo,To)|0,b=b+Math.imul(fo,qo)|0,p=p+Math.imul(ko,Wo)|0,a=a+Math.imul(ko,Oo)|0,a=a+Math.imul(xo,Wo)|0,b=b+Math.imul(xo,Oo)|0;var ea=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(f,H),a=Math.imul(f,G),a=a+Math.imul(R,H)|0,b=Math.imul(R,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,ro)|0,a=a+Math.imul(e,Q)|0,b=b+Math.imul(e,ro)|0,p=p+Math.imul(Ko,A)|0,a=a+Math.imul(Ko,eo)|0,a=a+Math.imul(go,A)|0,b=b+Math.imul(go,eo)|0,p=p+Math.imul(Uo,B)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Po,B)|0,b=b+Math.imul(Po,lo)|0,p=p+Math.imul(zo,po)|0,a=a+Math.imul(zo,_o)|0,a=a+Math.imul(Lo,po)|0,b=b+Math.imul(Lo,_o)|0,p=p+Math.imul(X,ho)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(ao,ho)|0,b=b+Math.imul(ao,yo)|0,p=p+Math.imul($o,To)|0,a=a+Math.imul($o,qo)|0,a=a+Math.imul(So,To)|0,b=b+Math.imul(So,qo)|0,p=p+Math.imul(co,Wo)|0,a=a+Math.imul(co,Oo)|0,a=a+Math.imul(fo,Wo)|0,b=b+Math.imul(fo,Oo)|0;var la=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(la>>>26)|0,la&=67108863,p=Math.imul(f,Q),a=Math.imul(f,ro),a=a+Math.imul(R,Q)|0,b=Math.imul(R,ro),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,eo)|0,a=a+Math.imul(e,A)|0,b=b+Math.imul(e,eo)|0,p=p+Math.imul(Ko,B)|0,a=a+Math.imul(Ko,lo)|0,a=a+Math.imul(go,B)|0,b=b+Math.imul(go,lo)|0,p=p+Math.imul(Uo,po)|0,a=a+Math.imul(Uo,_o)|0,a=a+Math.imul(Po,po)|0,b=b+Math.imul(Po,_o)|0,p=p+Math.imul(zo,ho)|0,a=a+Math.imul(zo,yo)|0,a=a+Math.imul(Lo,ho)|0,b=b+Math.imul(Lo,yo)|0,p=p+Math.imul(X,To)|0,a=a+Math.imul(X,qo)|0,a=a+Math.imul(ao,To)|0,b=b+Math.imul(ao,qo)|0,p=p+Math.imul($o,Wo)|0,a=a+Math.imul($o,Oo)|0,a=a+Math.imul(So,Wo)|0,b=b+Math.imul(So,Oo)|0;var sa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(f,A),a=Math.imul(f,eo),a=a+Math.imul(R,A)|0,b=Math.imul(R,eo),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,lo)|0,a=a+Math.imul(e,B)|0,b=b+Math.imul(e,lo)|0,p=p+Math.imul(Ko,po)|0,a=a+Math.imul(Ko,_o)|0,a=a+Math.imul(go,po)|0,b=b+Math.imul(go,_o)|0,p=p+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Po,ho)|0,b=b+Math.imul(Po,yo)|0,p=p+Math.imul(zo,To)|0,a=a+Math.imul(zo,qo)|0,a=a+Math.imul(Lo,To)|0,b=b+Math.imul(Lo,qo)|0,p=p+Math.imul(X,Wo)|0,a=a+Math.imul(X,Oo)|0,a=a+Math.imul(ao,Wo)|0,b=b+Math.imul(ao,Oo)|0;var na=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(f,B),a=Math.imul(f,lo),a=a+Math.imul(R,B)|0,b=Math.imul(R,lo),p=p+Math.imul(L,po)|0,a=a+Math.imul(L,_o)|0,a=a+Math.imul(e,po)|0,b=b+Math.imul(e,_o)|0,p=p+Math.imul(Ko,ho)|0,a=a+Math.imul(Ko,yo)|0,a=a+Math.imul(go,ho)|0,b=b+Math.imul(go,yo)|0,p=p+Math.imul(Uo,To)|0,a=a+Math.imul(Uo,qo)|0,a=a+Math.imul(Po,To)|0,b=b+Math.imul(Po,qo)|0,p=p+Math.imul(zo,Wo)|0,a=a+Math.imul(zo,Oo)|0,a=a+Math.imul(Lo,Wo)|0,b=b+Math.imul(Lo,Oo)|0;var ma=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(f,po),a=Math.imul(f,_o),a=a+Math.imul(R,po)|0,b=Math.imul(R,_o),p=p+Math.imul(L,ho)|0,a=a+Math.imul(L,yo)|0,a=a+Math.imul(e,ho)|0,b=b+Math.imul(e,yo)|0,p=p+Math.imul(Ko,To)|0,a=a+Math.imul(Ko,qo)|0,a=a+Math.imul(go,To)|0,b=b+Math.imul(go,qo)|0,p=p+Math.imul(Uo,Wo)|0,a=a+Math.imul(Uo,Oo)|0,a=a+Math.imul(Po,Wo)|0,b=b+Math.imul(Po,Oo)|0;var ba=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ba>>>26)|0,ba&=67108863,p=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(R,ho)|0,b=Math.imul(R,yo),p=p+Math.imul(L,To)|0,a=a+Math.imul(L,qo)|0,a=a+Math.imul(e,To)|0,b=b+Math.imul(e,qo)|0,p=p+Math.imul(Ko,Wo)|0,a=a+Math.imul(Ko,Oo)|0,a=a+Math.imul(go,Wo)|0,b=b+Math.imul(go,Oo)|0;var _a=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(f,To),a=Math.imul(f,qo),a=a+Math.imul(R,To)|0,b=Math.imul(R,qo),p=p+Math.imul(L,Wo)|0,a=a+Math.imul(L,Oo)|0,a=a+Math.imul(e,Wo)|0,b=b+Math.imul(e,Oo)|0;var ia=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(f,Wo),a=Math.imul(f,Oo),a=a+Math.imul(R,Wo)|0,b=Math.imul(R,Oo);var ca=(N+p|0)+((a&8191)<<13)|0;return N=(b+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,t[0]=Go,t[1]=Io,t[2]=Do,t[3]=Qo,t[4]=Bo,t[5]=oa,t[6]=Yo,t[7]=aa,t[8]=Co,t[9]=ra,t[10]=ea,t[11]=la,t[12]=sa,t[13]=na,t[14]=ma,t[15]=ba,t[16]=_a,t[17]=ia,t[18]=ca,N!==0&&(t[19]=N,c.length++),c};Math.imul||(F=q);function g(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var l=0,m=0,t=0;t<c.length-1;t++){var N=m;m=0;for(var p=l&67108863,a=Math.min(t,n.length-1),b=Math.max(0,t-o.length+1);b<=a;b++){var S=t-b,w=o.words[S]|0,I=n.words[b]|0,No=w*I,ko=No&67108863;N=N+(No/67108864|0)|0,ko=ko+p|0,p=ko&67108863,N=N+(ko>>>26)|0,m+=N>>>26,N&=67108863}c.words[t]=p,l=N,N=m}return l!==0?c.words[t]=l:c.length--,c.strip()}function E(o,n,c){var l=new z;return l.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,l=this.length+o.length;return this.length===10&&o.length===10?c=F(this,o,n):l<63?c=q(this,o,n):l<1024?c=g(this,o,n):c=E(this,o,n),c};function z(o,n){this.x=o,this.y=n}z.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,l=0;l<o;l++)n[l]=this.revBin(l,c,o);return n},z.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var l=0,m=0;m<n;m++)l|=(o&1)<<n-m-1,o>>=1;return l},z.prototype.permute=function(o,n,c,l,m,t){for(var N=0;N<t;N++)l[N]=n[o[N]],m[N]=c[o[N]]},z.prototype.transform=function(o,n,c,l,m,t){this.permute(t,o,n,c,l,m);for(var N=1;N<m;N<<=1)for(var p=N<<1,a=Math.cos(2*Math.PI/p),b=Math.sin(2*Math.PI/p),S=0;S<m;S+=p)for(var w=a,I=b,No=0;No<N;No++){var ko=c[S+No],xo=l[S+No],bo=c[S+No+N],co=l[S+No+N],fo=w*bo-I*co;co=w*co+I*bo,bo=fo,c[S+No]=ko+bo,l[S+No]=xo+co,c[S+No+N]=ko-bo,l[S+No+N]=xo-co,No!==p&&(fo=a*w-b*I,I=a*I+b*w,w=fo)}},z.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,l=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+l},z.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var l=0;l<c/2;l++){var m=o[l];o[l]=o[c-l-1],o[c-l-1]=m,m=n[l],n[l]=-n[c-l-1],n[c-l-1]=-m}},z.prototype.normalize13b=function(o,n){for(var c=0,l=0;l<n/2;l++){var m=Math.round(o[2*l+1]/n)*8192+Math.round(o[2*l]/n)+c;o[l]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},z.prototype.convert13b=function(o,n,c,l){for(var m=0,t=0;t<n;t++)m=m+(o[t]|0),c[2*t]=m&8191,m=m>>>13,c[2*t+1]=m&8191,m=m>>>13;for(t=2*n;t<l;++t)c[t]=0;_(m===0),_((m&-8192)===0)},z.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},z.prototype.mulp=function(o,n,c){var l=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(l),t=this.stub(l),N=new Array(l),p=new Array(l),a=new Array(l),b=new Array(l),S=new Array(l),w=new Array(l),I=c.words;I.length=l,this.convert13b(o.words,o.length,N,l),this.convert13b(n.words,n.length,b,l),this.transform(N,t,p,a,l,m),this.transform(b,t,S,w,l,m);for(var No=0;No<l;No++){var ko=p[No]*S[No]-a[No]*w[No];a[No]=p[No]*w[No]+a[No]*S[No],p[No]=ko}return this.conjugate(p,a,l),this.transform(p,a,I,t,l,m),this.conjugate(I,t,l),this.normalize13b(I,l),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),E(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){_(typeof o=="number"),_(o<67108864);for(var n=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*o,m=(l&67108863)+(n&67108863);n>>=26,n+=l/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=x(o);if(n.length===0)return new u(1);for(var c=this,l=0;l<n.length&&n[l]===0;l++,c=c.sqr());if(++l<n.length)for(var m=c.sqr();l<n.length;l++,m=m.sqr())n[l]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=67108863>>>26-n<<26-n,m;if(n!==0){var t=0;for(m=0;m<this.length;m++){var N=this.words[m]&l,p=(this.words[m]|0)-N<<n;this.words[m]=p|t,t=N>>>26-n}t&&(this.words[m]=t,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return _(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){_(typeof o=="number"&&o>=0);var l;n?l=(n-n%26)/26:l=0;var m=o%26,t=Math.min((o-m)/26,this.length),N=67108863^67108863>>>m<<m,p=c;if(l-=t,l=Math.max(0,l),p){for(var a=0;a<t;a++)p.words[a]=this.words[a];p.length=t}if(t!==0)if(this.length>t)for(this.length-=t,a=0;a<this.length;a++)this.words[a]=this.words[a+t];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=l);a--){var S=this.words[a]|0;this.words[a]=b<<26-m|S>>>m,b=S&N}return p&&b!==0&&(p.words[p.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return _(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&l)},u.prototype.imaskn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var l=67108863^67108863>>>n<<n;this.words[this.length-1]&=l}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return _(typeof o=="number"),_(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(_(typeof o=="number"),_(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var l=o.length+c,m;this._expand(l);var t,N=0;for(m=0;m<o.length;m++){t=(this.words[m+c]|0)+N;var p=(o.words[m]|0)*n;t-=p&67108863,N=(t>>26)-(p/67108864|0),this.words[m+c]=t&67108863}for(;m<this.length-c;m++)t=(this.words[m+c]|0)+N,N=t>>26,this.words[m+c]=t&67108863;if(N===0)return this.strip();for(_(N===-1),N=0,m=0;m<this.length;m++)t=-(this.words[m]|0)+N,N=t>>26,this.words[m]=t&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,l=this.clone(),m=o,t=m.words[m.length-1]|0,N=this._countBits(t);c=26-N,c!==0&&(m=m.ushln(c),l.iushln(c),t=m.words[m.length-1]|0);var p=l.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=p+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var S=l.clone()._ishlnsubmul(m,1,p);S.negative===0&&(l=S,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(l.words[m.length+w]|0)*67108864+(l.words[m.length+w-1]|0);for(I=Math.min(I/t|0,67108863),l._ishlnsubmul(m,I,w);l.negative!==0;)I--,l.negative=0,l._ishlnsubmul(m,1,w),l.isZero()||(l.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),l.strip(),n!=="div"&&c!==0&&l.iushrn(c),{div:a||null,mod:l}},u.prototype.divmod=function(o,n,c){if(_(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var l,m,t;return this.negative!==0&&o.negative===0?(t=this.neg().divmod(o,n),n!=="mod"&&(l=t.div.neg()),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:l,mod:m}):this.negative===0&&o.negative!==0?(t=this.divmod(o.neg(),n),n!=="mod"&&(l=t.div.neg()),{div:l,mod:t.mod}):(this.negative&o.negative)!==0?(t=this.neg().divmod(o.neg(),n),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:t.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,l=o.ushrn(1),m=o.andln(1),t=c.cmp(l);return t<0||m===1&&t===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){_(o<=67108863);for(var n=67108864%o,c=0,l=this.length-1;l>=0;l--)c=(n*c+(this.words[l]|0))%o;return c},u.prototype.idivn=function(o){_(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+n*67108864;this.words[c]=l/o|0,n=l%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=new u(0),N=new u(1),p=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++p;for(var a=c.clone(),b=n.clone();!n.isZero();){for(var S=0,w=1;(n.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(l.isOdd()||m.isOdd())&&(l.iadd(a),m.isub(b)),l.iushrn(1),m.iushrn(1);for(var I=0,No=1;(c.words[0]&No)===0&&I<26;++I,No<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(t.isOdd()||N.isOdd())&&(t.iadd(a),N.isub(b)),t.iushrn(1),N.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(t),m.isub(N)):(c.isub(n),t.isub(l),N.isub(m))}return{a:t,b:N,gcd:c.iushln(p)}},u.prototype._invmp=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,p=1;(n.words[0]&p)===0&&N<26;++N,p<<=1);if(N>0)for(n.iushrn(N);N-- >0;)l.isOdd()&&l.iadd(t),l.iushrn(1);for(var a=0,b=1;(c.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(t),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(m)):(c.isub(n),m.isub(l))}var S;return n.cmpn(1)===0?S=l:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var l=0;n.isEven()&&c.isEven();l++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var t=n;n=c,c=t}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(l)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){_(typeof o=="number");var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var m=l,t=c;m!==0&&t<this.length;t++){var N=this.words[t]|0;N+=m,m=N>>>26,N&=67108863,this.words[t]=N}return m!==0&&(this.words[t]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),_(o<=67108863,"Number is too big");var l=this.words[0]|0;c=l===o?0:l<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,m=o.words[c]|0;if(l!==m){l<m?n=-1:l>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new uo(o)},u.prototype.toRed=function(o){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return _(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return _(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var l=c<this.n?-1:n.ucmp(this.p);return l===0?(n.words[0]=0,n.length=1):l>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},Y.prototype.split=function(o,n){o.iushrn(this.n,0,n)},Y.prototype.imulK=function(o){return o.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(o,n){for(var c=4194303,l=Math.min(o.length,9),m=0;m<l;m++)n.words[m]=o.words[m];if(n.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var t=o.words[9];for(n.words[n.length++]=t&c,m=10;m<o.length;m++){var N=o.words[m]|0;o.words[m-10]=(N&c)<<4|t>>>22,t=N}t>>>=22,o.words[m-10]=t,t===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var l=o.words[c]|0;n+=l*977,o.words[c]=n&67108863,n=l*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function mo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(mo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(to,Y);function Mo(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(Mo,Y),Mo.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var l=(o.words[c]|0)*19+n,m=l&67108863;l>>>=26,o.words[c]=m,n=l}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(K[o])return K[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new mo;else if(o==="p192")n=new to;else if(o==="p25519")n=new Mo;else throw new Error("Unknown prime "+o);return K[o]=n,n};function uo(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else _(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}uo.prototype._verify1=function(o){_(o.negative===0,"red works only with positives"),_(o.red,"red works only with red numbers")},uo.prototype._verify2=function(o,n){_((o.negative|n.negative)===0,"red works only with positives"),_(o.red&&o.red===n.red,"red works only with red numbers")},uo.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},uo.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},uo.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},uo.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},uo.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},uo.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},uo.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},uo.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},uo.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},uo.prototype.isqr=function(o){return this.imul(o,o.clone())},uo.prototype.sqr=function(o){return this.mul(o,o)},uo.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(_(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var l=this.m.subn(1),m=0;!l.isZero()&&l.andln(1)===0;)m++,l.iushrn(1);_(!l.isZero());var t=new u(1).toRed(this),N=t.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,p).cmp(N)!==0;)a.redIAdd(N);for(var b=this.pow(a,l),S=this.pow(o,l.addn(1).iushrn(1)),w=this.pow(o,l),I=m;w.cmp(t)!==0;){for(var No=w,ko=0;No.cmp(t)!==0;ko++)No=No.redSqr();_(ko<I);var xo=this.pow(b,new u(1).iushln(I-ko-1));S=S.redMul(xo),b=xo.redSqr(),w=w.redMul(b),I=ko}return S},uo.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},uo.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,l=new Array(1<<c);l[0]=new u(1).toRed(this),l[1]=o;for(var m=2;m<l.length;m++)l[m]=this.mul(l[m-1],o);var t=l[0],N=0,p=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var b=n.words[m],S=a-1;S>=0;S--){var w=b>>S&1;if(t!==l[0]&&(t=this.sqr(t)),w===0&&N===0){p=0;continue}N<<=1,N|=w,p++,!(p!==c&&(m!==0||S!==0))&&(t=this.mul(t,l[N]),p=0,N=0)}a=26}return t},uo.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},uo.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Vo(o)};function Vo(o){uo.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Vo,uo),Vo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Vo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Vo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof d>"u"||d,s)}),Tr=Jo((s)=>{var d=s;function i(T,u){if(Array.isArray(T))return T.slice();if(!T)return[];var v=[];if(typeof T!="string"){for(var W=0;W<T.length;W++)v[W]=T[W]|0;return v}if(u==="hex"){T=T.replace(/[^a-z0-9]+/ig,""),T.length%2!==0&&(T="0"+T);for(var W=0;W<T.length;W+=2)v.push(parseInt(T[W]+T[W+1],16))}else for(var W=0;W<T.length;W++){var y=T.charCodeAt(W),k=y>>8,Z=y&255;k?v.push(k,Z):v.push(Z)}return v}d.toArray=i;function h(T){return T.length===1?"0"+T:T}d.zero2=h;function _(T){for(var u="",v=0;v<T.length;v++)u+=h(T[v].toString(16));return u}d.toHex=_,d.encode=function(T,u){return u==="hex"?_(T):T}}),Ia=Jo((s)=>{var d=s,i=re(),h=Ka(),_=Tr();d.assert=h,d.toArray=_.toArray,d.zero2=_.zero2,d.toHex=_.toHex,d.encode=_.encode;function T(k,Z,$){var V=new Array(Math.max(k.bitLength(),$)+1);V.fill(0);for(var x=1<<Z+1,q=k.clone(),F=0;F<V.length;F++){var g,E=q.andln(x-1);q.isOdd()?(E>(x>>1)-1?g=(x>>1)-E:g=E,q.isubn(g)):g=0,V[F]=g,q.iushrn(1)}return V}d.getNAF=T;function u(k,Z){var $=[[],[]];k=k.clone(),Z=Z.clone();for(var V=0,x=0,q;k.cmpn(-V)>0||Z.cmpn(-x)>0;){var F=k.andln(3)+V&3,g=Z.andln(3)+x&3;F===3&&(F=-1),g===3&&(g=-1);var E;(F&1)===0?E=0:(q=k.andln(7)+V&7,(q===3||q===5)&&g===2?E=-F:E=F),$[0].push(E);var z;(g&1)===0?z=0:(q=Z.andln(7)+x&7,(q===3||q===5)&&F===2?z=-g:z=g),$[1].push(z),2*V===E+1&&(V=1-V),2*x===z+1&&(x=1-x),k.iushrn(1),Z.iushrn(1)}return $}d.getJSF=u;function v(k,Z,$){var V="_"+Z;k.prototype[Z]=function(){return this[V]!==void 0?this[V]:this[V]=$.call(this)}}d.cachedProperty=v;function W(k){return typeof k=="string"?d.toArray(k,"hex"):k}d.parseBytes=W;function y(k){return new i(k,"hex","le")}d.intFromLE=y}),An=Jo((s,d)=>{var i=re(),h=Ia(),_=h.getNAF,T=h.getJSF,u=h.assert;function v(y,k){this.type=y,this.p=new i(k.p,16),this.red=k.prime?i.red(k.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=k.n&&new i(k.n,16),this.g=k.g&&this.pointFromJSON(k.g,k.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Z=this.n&&this.p.div(this.n);!Z||Z.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}d.exports=v,v.prototype.point=function(){throw new Error("Not implemented")},v.prototype.validate=function(){throw new Error("Not implemented")},v.prototype._fixedNafMul=function(y,k){u(y.precomputed);var Z=y._getDoubles(),$=_(k,1,this._bitLength),V=(1<<Z.step+1)-(Z.step%2===0?2:1);V/=3;var x=[],q,F;for(q=0;q<$.length;q+=Z.step){F=0;for(var g=q+Z.step-1;g>=q;g--)F=(F<<1)+$[g];x.push(F)}for(var E=this.jpoint(null,null,null),z=this.jpoint(null,null,null),K=V;K>0;K--){for(q=0;q<x.length;q++)F=x[q],F===K?z=z.mixedAdd(Z.points[q]):F===-K&&(z=z.mixedAdd(Z.points[q].neg()));E=E.add(z)}return E.toP()},v.prototype._wnafMul=function(y,k){var Z=4,$=y._getNAFPoints(Z);Z=$.wnd;for(var V=$.points,x=_(k,Z,this._bitLength),q=this.jpoint(null,null,null),F=x.length-1;F>=0;F--){for(var g=0;F>=0&&x[F]===0;F--)g++;if(F>=0&&g++,q=q.dblp(g),F<0)break;var E=x[F];u(E!==0),y.type==="affine"?E>0?q=q.mixedAdd(V[E-1>>1]):q=q.mixedAdd(V[-E-1>>1].neg()):E>0?q=q.add(V[E-1>>1]):q=q.add(V[-E-1>>1].neg())}return y.type==="affine"?q.toP():q},v.prototype._wnafMulAdd=function(y,k,Z,$,V){var x=this._wnafT1,q=this._wnafT2,F=this._wnafT3,g=0,E,z,K;for(E=0;E<$;E++){K=k[E];var Y=K._getNAFPoints(y);x[E]=Y.wnd,q[E]=Y.points}for(E=$-1;E>=1;E-=2){var C=E-1,mo=E;if(x[C]!==1||x[mo]!==1){F[C]=_(Z[C],x[C],this._bitLength),F[mo]=_(Z[mo],x[mo],this._bitLength),g=Math.max(F[C].length,g),g=Math.max(F[mo].length,g);continue}var to=[k[C],null,null,k[mo]];k[C].y.cmp(k[mo].y)===0?(to[1]=k[C].add(k[mo]),to[2]=k[C].toJ().mixedAdd(k[mo].neg())):k[C].y.cmp(k[mo].y.redNeg())===0?(to[1]=k[C].toJ().mixedAdd(k[mo]),to[2]=k[C].add(k[mo].neg())):(to[1]=k[C].toJ().mixedAdd(k[mo]),to[2]=k[C].toJ().mixedAdd(k[mo].neg()));var Mo=[-3,-1,-5,-7,0,7,5,1,3],uo=T(Z[C],Z[mo]);for(g=Math.max(uo[0].length,g),F[C]=new Array(g),F[mo]=new Array(g),z=0;z<g;z++){var Vo=uo[0][z]|0,o=uo[1][z]|0;F[C][z]=Mo[(Vo+1)*3+(o+1)],F[mo][z]=0,q[C]=to}}var n=this.jpoint(null,null,null),c=this._wnafT4;for(E=g;E>=0;E--){for(var l=0;E>=0;){var m=!0;for(z=0;z<$;z++)c[z]=F[z][E]|0,c[z]!==0&&(m=!1);if(!m)break;l++,E--}if(E>=0&&l++,n=n.dblp(l),E<0)break;for(z=0;z<$;z++){var t=c[z];t!==0&&(t>0?K=q[z][t-1>>1]:t<0&&(K=q[z][-t-1>>1].neg()),K.type==="affine"?n=n.mixedAdd(K):n=n.add(K))}}for(E=0;E<$;E++)q[E]=null;return V?n:n.toP()};function W(y,k){this.curve=y,this.type=k,this.precomputed=null}v.BasePoint=W,W.prototype.eq=function(){throw new Error("Not implemented")},W.prototype.validate=function(){return this.curve.validate(this)},v.prototype.decodePoint=function(y,k){y=h.toArray(y,k);var Z=this.p.byteLength();if((y[0]===4||y[0]===6||y[0]===7)&&y.length-1===2*Z){y[0]===6?u(y[y.length-1]%2===0):y[0]===7&&u(y[y.length-1]%2===1);var $=this.point(y.slice(1,1+Z),y.slice(1+Z,1+2*Z));return $}else if((y[0]===2||y[0]===3)&&y.length-1===Z)return this.pointFromX(y.slice(1,1+Z),y[0]===3);throw new Error("Unknown point format")},W.prototype.encodeCompressed=function(y){return this.encode(y,!0)},W.prototype._encode=function(y){var k=this.curve.p.byteLength(),Z=this.getX().toArray("be",k);return y?[this.getY().isEven()?2:3].concat(Z):[4].concat(Z,this.getY().toArray("be",k))},W.prototype.encode=function(y,k){return h.encode(this._encode(k),y)},W.prototype.precompute=function(y){if(this.precomputed)return this;var k={doubles:null,naf:null,beta:null};return k.naf=this._getNAFPoints(8),k.doubles=this._getDoubles(4,y),k.beta=this._getBeta(),this.precomputed=k,this},W.prototype._hasDoubles=function(y){if(!this.precomputed)return!1;var k=this.precomputed.doubles;return k?k.points.length>=Math.ceil((y.bitLength()+1)/k.step):!1},W.prototype._getDoubles=function(y,k){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Z=[this],$=this,V=0;V<k;V+=y){for(var x=0;x<y;x++)$=$.dbl();Z.push($)}return{step:y,points:Z}},W.prototype._getNAFPoints=function(y){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var k=[this],Z=(1<<y)-1,$=Z===1?null:this.dbl(),V=1;V<Z;V++)k[V]=k[V-1].add($);return{wnd:y,points:k}},W.prototype._getBeta=function(){return null},W.prototype.dblp=function(y){for(var k=this,Z=0;Z<y;Z++)k=k.dbl();return k}}),Bi=Jo((s,d)=>{var i=Ia(),h=re(),_=pa(),T=An(),u=i.assert;function v(k){T.call(this,"short",k),this.a=new h(k.a,16).toRed(this.red),this.b=new h(k.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(k),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}_(v,T),d.exports=v,v.prototype._getEndomorphism=function(k){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Z,$;if(k.beta)Z=new h(k.beta,16).toRed(this.red);else{var V=this._getEndoRoots(this.p);Z=V[0].cmp(V[1])<0?V[0]:V[1],Z=Z.toRed(this.red)}if(k.lambda)$=new h(k.lambda,16);else{var x=this._getEndoRoots(this.n);this.g.mul(x[0]).x.cmp(this.g.x.redMul(Z))===0?$=x[0]:($=x[1],u(this.g.mul($).x.cmp(this.g.x.redMul(Z))===0))}var q;return k.basis?q=k.basis.map(function(F){return{a:new h(F.a,16),b:new h(F.b,16)}}):q=this._getEndoBasis($),{beta:Z,lambda:$,basis:q}}},v.prototype._getEndoRoots=function(k){var Z=k===this.p?this.red:h.mont(k),$=new h(2).toRed(Z).redInvm(),V=$.redNeg(),x=new h(3).toRed(Z).redNeg().redSqrt().redMul($),q=V.redAdd(x).fromRed(),F=V.redSub(x).fromRed();return[q,F]},v.prototype._getEndoBasis=function(k){for(var Z=this.n.ushrn(Math.floor(this.n.bitLength()/2)),$=k,V=this.n.clone(),x=new h(1),q=new h(0),F=new h(0),g=new h(1),E,z,K,Y,C,mo,to,Mo=0,uo,Vo;$.cmpn(0)!==0;){var o=V.div($);uo=V.sub(o.mul($)),Vo=F.sub(o.mul(x));var n=g.sub(o.mul(q));if(!K&&uo.cmp(Z)<0)E=to.neg(),z=x,K=uo.neg(),Y=Vo;else if(K&&++Mo===2)break;to=uo,V=$,$=uo,F=x,x=Vo,g=q,q=n}C=uo.neg(),mo=Vo;var c=K.sqr().add(Y.sqr()),l=C.sqr().add(mo.sqr());return l.cmp(c)>=0&&(C=E,mo=z),K.negative&&(K=K.neg(),Y=Y.neg()),C.negative&&(C=C.neg(),mo=mo.neg()),[{a:K,b:Y},{a:C,b:mo}]},v.prototype._endoSplit=function(k){var Z=this.endo.basis,$=Z[0],V=Z[1],x=V.b.mul(k).divRound(this.n),q=$.b.neg().mul(k).divRound(this.n),F=x.mul($.a),g=q.mul(V.a),E=x.mul($.b),z=q.mul(V.b),K=k.sub(F).sub(g),Y=E.add(z).neg();return{k1:K,k2:Y}},v.prototype.pointFromX=function(k,Z){k=new h(k,16),k.red||(k=k.toRed(this.red));var $=k.redSqr().redMul(k).redIAdd(k.redMul(this.a)).redIAdd(this.b),V=$.redSqrt();if(V.redSqr().redSub($).cmp(this.zero)!==0)throw new Error("invalid point");var x=V.fromRed().isOdd();return(Z&&!x||!Z&&x)&&(V=V.redNeg()),this.point(k,V)},v.prototype.validate=function(k){if(k.inf)return!0;var{x:Z,y:$}=k,V=this.a.redMul(Z),x=Z.redSqr().redMul(Z).redIAdd(V).redIAdd(this.b);return $.redSqr().redISub(x).cmpn(0)===0},v.prototype._endoWnafMulAdd=function(k,Z,$){for(var V=this._endoWnafT1,x=this._endoWnafT2,q=0;q<k.length;q++){var F=this._endoSplit(Z[q]),g=k[q],E=g._getBeta();F.k1.negative&&(F.k1.ineg(),g=g.neg(!0)),F.k2.negative&&(F.k2.ineg(),E=E.neg(!0)),V[q*2]=g,V[q*2+1]=E,x[q*2]=F.k1,x[q*2+1]=F.k2}for(var z=this._wnafMulAdd(1,V,x,q*2,$),K=0;K<q*2;K++)V[K]=null,x[K]=null;return z};function W(k,Z,$,V){T.BasePoint.call(this,k,"affine"),Z===null&&$===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new h(Z,16),this.y=new h($,16),V&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}_(W,T.BasePoint),v.prototype.point=function(k,Z,$){return new W(this,k,Z,$)},v.prototype.pointFromJSON=function(k,Z){return W.fromJSON(this,k,Z)},W.prototype._getBeta=function(){if(this.curve.endo){var k=this.precomputed;if(k&&k.beta)return k.beta;var Z=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(k){var $=this.curve,V=function(x){return $.point(x.x.redMul($.endo.beta),x.y)};k.beta=Z,Z.precomputed={beta:null,naf:k.naf&&{wnd:k.naf.wnd,points:k.naf.points.map(V)},doubles:k.doubles&&{step:k.doubles.step,points:k.doubles.points.map(V)}}}return Z}},W.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},W.fromJSON=function(k,Z,$){typeof Z=="string"&&(Z=JSON.parse(Z));var V=k.point(Z[0],Z[1],$);if(!Z[2])return V;function x(F){return k.point(F[0],F[1],$)}var q=Z[2];return V.precomputed={beta:null,doubles:q.doubles&&{step:q.doubles.step,points:[V].concat(q.doubles.points.map(x))},naf:q.naf&&{wnd:q.naf.wnd,points:[V].concat(q.naf.points.map(x))}},V},W.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},W.prototype.isInfinity=function(){return this.inf},W.prototype.add=function(k){if(this.inf)return k;if(k.inf)return this;if(this.eq(k))return this.dbl();if(this.neg().eq(k))return this.curve.point(null,null);if(this.x.cmp(k.x)===0)return this.curve.point(null,null);var Z=this.y.redSub(k.y);Z.cmpn(0)!==0&&(Z=Z.redMul(this.x.redSub(k.x).redInvm()));var $=Z.redSqr().redISub(this.x).redISub(k.x),V=Z.redMul(this.x.redSub($)).redISub(this.y);return this.curve.point($,V)},W.prototype.dbl=function(){if(this.inf)return this;var k=this.y.redAdd(this.y);if(k.cmpn(0)===0)return this.curve.point(null,null);var Z=this.curve.a,$=this.x.redSqr(),V=k.redInvm(),x=$.redAdd($).redIAdd($).redIAdd(Z).redMul(V),q=x.redSqr().redISub(this.x.redAdd(this.x)),F=x.redMul(this.x.redSub(q)).redISub(this.y);return this.curve.point(q,F)},W.prototype.getX=function(){return this.x.fromRed()},W.prototype.getY=function(){return this.y.fromRed()},W.prototype.mul=function(k){return k=new h(k,16),this.isInfinity()?this:this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},W.prototype.mulAdd=function(k,Z,$){var V=[this,Z],x=[k,$];return this.curve.endo?this.curve._endoWnafMulAdd(V,x):this.curve._wnafMulAdd(1,V,x,2)},W.prototype.jmulAdd=function(k,Z,$){var V=[this,Z],x=[k,$];return this.curve.endo?this.curve._endoWnafMulAdd(V,x,!0):this.curve._wnafMulAdd(1,V,x,2,!0)},W.prototype.eq=function(k){return this===k||this.inf===k.inf&&(this.inf||this.x.cmp(k.x)===0&&this.y.cmp(k.y)===0)},W.prototype.neg=function(k){if(this.inf)return this;var Z=this.curve.point(this.x,this.y.redNeg());if(k&&this.precomputed){var $=this.precomputed,V=function(x){return x.neg()};Z.precomputed={naf:$.naf&&{wnd:$.naf.wnd,points:$.naf.points.map(V)},doubles:$.doubles&&{step:$.doubles.step,points:$.doubles.points.map(V)}}}return Z},W.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var k=this.curve.jpoint(this.x,this.y,this.curve.one);return k};function y(k,Z,$,V){T.BasePoint.call(this,k,"jacobian"),Z===null&&$===null&&V===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new h(0)):(this.x=new h(Z,16),this.y=new h($,16),this.z=new h(V,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}_(y,T.BasePoint),v.prototype.jpoint=function(k,Z,$){return new y(this,k,Z,$)},y.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var k=this.z.redInvm(),Z=k.redSqr(),$=this.x.redMul(Z),V=this.y.redMul(Z).redMul(k);return this.curve.point($,V)},y.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},y.prototype.add=function(k){if(this.isInfinity())return k;if(k.isInfinity())return this;var Z=k.z.redSqr(),$=this.z.redSqr(),V=this.x.redMul(Z),x=k.x.redMul($),q=this.y.redMul(Z.redMul(k.z)),F=k.y.redMul($.redMul(this.z)),g=V.redSub(x),E=q.redSub(F);if(g.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var z=g.redSqr(),K=z.redMul(g),Y=V.redMul(z),C=E.redSqr().redIAdd(K).redISub(Y).redISub(Y),mo=E.redMul(Y.redISub(C)).redISub(q.redMul(K)),to=this.z.redMul(k.z).redMul(g);return this.curve.jpoint(C,mo,to)},y.prototype.mixedAdd=function(k){if(this.isInfinity())return k.toJ();if(k.isInfinity())return this;var Z=this.z.redSqr(),$=this.x,V=k.x.redMul(Z),x=this.y,q=k.y.redMul(Z).redMul(this.z),F=$.redSub(V),g=x.redSub(q);if(F.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=F.redSqr(),z=E.redMul(F),K=$.redMul(E),Y=g.redSqr().redIAdd(z).redISub(K).redISub(K),C=g.redMul(K.redISub(Y)).redISub(x.redMul(z)),mo=this.z.redMul(F);return this.curve.jpoint(Y,C,mo)},y.prototype.dblp=function(k){if(k===0)return this;if(this.isInfinity())return this;if(!k)return this.dbl();var Z;if(this.curve.zeroA||this.curve.threeA){var $=this;for(Z=0;Z<k;Z++)$=$.dbl();return $}var V=this.curve.a,x=this.curve.tinv,q=this.x,F=this.y,g=this.z,E=g.redSqr().redSqr(),z=F.redAdd(F);for(Z=0;Z<k;Z++){var K=q.redSqr(),Y=z.redSqr(),C=Y.redSqr(),mo=K.redAdd(K).redIAdd(K).redIAdd(V.redMul(E)),to=q.redMul(Y),Mo=mo.redSqr().redISub(to.redAdd(to)),uo=to.redISub(Mo),Vo=mo.redMul(uo);Vo=Vo.redIAdd(Vo).redISub(C);var o=z.redMul(g);Z+1<k&&(E=E.redMul(C)),q=Mo,g=o,z=Vo}return this.curve.jpoint(q,z.redMul(x),g)},y.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},y.prototype._zeroDbl=function(){var k,Z,$;if(this.zOne){var V=this.x.redSqr(),x=this.y.redSqr(),q=x.redSqr(),F=this.x.redAdd(x).redSqr().redISub(V).redISub(q);F=F.redIAdd(F);var g=V.redAdd(V).redIAdd(V),E=g.redSqr().redISub(F).redISub(F),z=q.redIAdd(q);z=z.redIAdd(z),z=z.redIAdd(z),k=E,Z=g.redMul(F.redISub(E)).redISub(z),$=this.y.redAdd(this.y)}else{var K=this.x.redSqr(),Y=this.y.redSqr(),C=Y.redSqr(),mo=this.x.redAdd(Y).redSqr().redISub(K).redISub(C);mo=mo.redIAdd(mo);var to=K.redAdd(K).redIAdd(K),Mo=to.redSqr(),uo=C.redIAdd(C);uo=uo.redIAdd(uo),uo=uo.redIAdd(uo),k=Mo.redISub(mo).redISub(mo),Z=to.redMul(mo.redISub(k)).redISub(uo),$=this.y.redMul(this.z),$=$.redIAdd($)}return this.curve.jpoint(k,Z,$)},y.prototype._threeDbl=function(){var k,Z,$;if(this.zOne){var V=this.x.redSqr(),x=this.y.redSqr(),q=x.redSqr(),F=this.x.redAdd(x).redSqr().redISub(V).redISub(q);F=F.redIAdd(F);var g=V.redAdd(V).redIAdd(V).redIAdd(this.curve.a),E=g.redSqr().redISub(F).redISub(F);k=E;var z=q.redIAdd(q);z=z.redIAdd(z),z=z.redIAdd(z),Z=g.redMul(F.redISub(E)).redISub(z),$=this.y.redAdd(this.y)}else{var K=this.z.redSqr(),Y=this.y.redSqr(),C=this.x.redMul(Y),mo=this.x.redSub(K).redMul(this.x.redAdd(K));mo=mo.redAdd(mo).redIAdd(mo);var to=C.redIAdd(C);to=to.redIAdd(to);var Mo=to.redAdd(to);k=mo.redSqr().redISub(Mo),$=this.y.redAdd(this.z).redSqr().redISub(Y).redISub(K);var uo=Y.redSqr();uo=uo.redIAdd(uo),uo=uo.redIAdd(uo),uo=uo.redIAdd(uo),Z=mo.redMul(to.redISub(k)).redISub(uo)}return this.curve.jpoint(k,Z,$)},y.prototype._dbl=function(){var k=this.curve.a,Z=this.x,$=this.y,V=this.z,x=V.redSqr().redSqr(),q=Z.redSqr(),F=$.redSqr(),g=q.redAdd(q).redIAdd(q).redIAdd(k.redMul(x)),E=Z.redAdd(Z);E=E.redIAdd(E);var z=E.redMul(F),K=g.redSqr().redISub(z.redAdd(z)),Y=z.redISub(K),C=F.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var mo=g.redMul(Y).redISub(C),to=$.redAdd($).redMul(V);return this.curve.jpoint(K,mo,to)},y.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var k=this.x.redSqr(),Z=this.y.redSqr(),$=this.z.redSqr(),V=Z.redSqr(),x=k.redAdd(k).redIAdd(k),q=x.redSqr(),F=this.x.redAdd(Z).redSqr().redISub(k).redISub(V);F=F.redIAdd(F),F=F.redAdd(F).redIAdd(F),F=F.redISub(q);var g=F.redSqr(),E=V.redIAdd(V);E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var z=x.redIAdd(F).redSqr().redISub(q).redISub(g).redISub(E),K=Z.redMul(z);K=K.redIAdd(K),K=K.redIAdd(K);var Y=this.x.redMul(g).redISub(K);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var C=this.y.redMul(z.redMul(E.redISub(z)).redISub(F.redMul(g)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var mo=this.z.redAdd(F).redSqr().redISub($).redISub(g);return this.curve.jpoint(Y,C,mo)},y.prototype.mul=function(k,Z){return k=new h(k,Z),this.curve._wnafMul(this,k)},y.prototype.eq=function(k){if(k.type==="affine")return this.eq(k.toJ());if(this===k)return!0;var Z=this.z.redSqr(),$=k.z.redSqr();if(this.x.redMul($).redISub(k.x.redMul(Z)).cmpn(0)!==0)return!1;var V=Z.redMul(this.z),x=$.redMul(k.z);return this.y.redMul(x).redISub(k.y.redMul(V)).cmpn(0)===0},y.prototype.eqXToP=function(k){var Z=this.z.redSqr(),$=k.toRed(this.curve.red).redMul(Z);if(this.x.cmp($)===0)return!0;for(var V=k.clone(),x=this.curve.redN.redMul(Z);;){if(V.iadd(this.curve.n),V.cmp(this.curve.p)>=0)return!1;if($.redIAdd(x),this.x.cmp($)===0)return!0}},y.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},y.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),Ci=Jo((s,d)=>{var i=re(),h=pa(),_=An(),T=Ia();function u(W){_.call(this,"mont",W),this.a=new i(W.a,16).toRed(this.red),this.b=new i(W.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}h(u,_),d.exports=u,u.prototype.validate=function(W){var y=W.normalize().x,k=y.redSqr(),Z=k.redMul(y).redAdd(k.redMul(this.a)).redAdd(y),$=Z.redSqrt();return $.redSqr().cmp(Z)===0};function v(W,y,k){_.BasePoint.call(this,W,"projective"),y===null&&k===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(y,16),this.z=new i(k,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}h(v,_.BasePoint),u.prototype.decodePoint=function(W,y){return this.point(T.toArray(W,y),1)},u.prototype.point=function(W,y){return new v(this,W,y)},u.prototype.pointFromJSON=function(W){return v.fromJSON(this,W)},v.prototype.precompute=function(){},v.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},v.fromJSON=function(W,y){return new v(W,y[0],y[1]||W.one)},v.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0},v.prototype.dbl=function(){var W=this.x.redAdd(this.z),y=W.redSqr(),k=this.x.redSub(this.z),Z=k.redSqr(),$=y.redSub(Z),V=y.redMul(Z),x=$.redMul(Z.redAdd(this.curve.a24.redMul($)));return this.curve.point(V,x)},v.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.diffAdd=function(W,y){var k=this.x.redAdd(this.z),Z=this.x.redSub(this.z),$=W.x.redAdd(W.z),V=W.x.redSub(W.z),x=V.redMul(k),q=$.redMul(Z),F=y.z.redMul(x.redAdd(q).redSqr()),g=y.x.redMul(x.redISub(q).redSqr());return this.curve.point(F,g)},v.prototype.mul=function(W){for(var y=W.clone(),k=this,Z=this.curve.point(null,null),$=this,V=[];y.cmpn(0)!==0;y.iushrn(1))V.push(y.andln(1));for(var x=V.length-1;x>=0;x--)V[x]===0?(k=k.diffAdd(Z,$),Z=Z.dbl()):(Z=k.diffAdd(Z,$),k=k.dbl());return Z},v.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},v.prototype.eq=function(W){return this.getX().cmp(W.getX())===0},v.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},v.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),Qi=Jo((s,d)=>{var i=Ia(),h=re(),_=pa(),T=An(),u=i.assert;function v(y){this.twisted=(y.a|0)!==1,this.mOneA=this.twisted&&(y.a|0)===-1,this.extended=this.mOneA,T.call(this,"edwards",y),this.a=new h(y.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new h(y.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new h(y.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(y.c|0)===1}_(v,T),d.exports=v,v.prototype._mulA=function(y){return this.mOneA?y.redNeg():this.a.redMul(y)},v.prototype._mulC=function(y){return this.oneC?y:this.c.redMul(y)},v.prototype.jpoint=function(y,k,Z,$){return this.point(y,k,Z,$)},v.prototype.pointFromX=function(y,k){y=new h(y,16),y.red||(y=y.toRed(this.red));var Z=y.redSqr(),$=this.c2.redSub(this.a.redMul(Z)),V=this.one.redSub(this.c2.redMul(this.d).redMul(Z)),x=$.redMul(V.redInvm()),q=x.redSqrt();if(q.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var F=q.fromRed().isOdd();return(k&&!F||!k&&F)&&(q=q.redNeg()),this.point(y,q)},v.prototype.pointFromY=function(y,k){y=new h(y,16),y.red||(y=y.toRed(this.red));var Z=y.redSqr(),$=Z.redSub(this.c2),V=Z.redMul(this.d).redMul(this.c2).redSub(this.a),x=$.redMul(V.redInvm());if(x.cmp(this.zero)===0){if(k)throw new Error("invalid point");return this.point(this.zero,y)}var q=x.redSqrt();if(q.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");return q.fromRed().isOdd()!==k&&(q=q.redNeg()),this.point(q,y)},v.prototype.validate=function(y){if(y.isInfinity())return!0;y.normalize();var k=y.x.redSqr(),Z=y.y.redSqr(),$=k.redMul(this.a).redAdd(Z),V=this.c2.redMul(this.one.redAdd(this.d.redMul(k).redMul(Z)));return $.cmp(V)===0};function W(y,k,Z,$,V){T.BasePoint.call(this,y,"projective"),k===null&&Z===null&&$===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new h(k,16),this.y=new h(Z,16),this.z=$?new h($,16):this.curve.one,this.t=V&&new h(V,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}_(W,T.BasePoint),v.prototype.pointFromJSON=function(y){return W.fromJSON(this,y)},v.prototype.point=function(y,k,Z,$){return new W(this,y,k,Z,$)},W.fromJSON=function(y,k){return new W(y,k[0],k[1],k[2])},W.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},W.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},W.prototype._extDbl=function(){var y=this.x.redSqr(),k=this.y.redSqr(),Z=this.z.redSqr();Z=Z.redIAdd(Z);var $=this.curve._mulA(y),V=this.x.redAdd(this.y).redSqr().redISub(y).redISub(k),x=$.redAdd(k),q=x.redSub(Z),F=$.redSub(k),g=V.redMul(q),E=x.redMul(F),z=V.redMul(F),K=q.redMul(x);return this.curve.point(g,E,K,z)},W.prototype._projDbl=function(){var y=this.x.redAdd(this.y).redSqr(),k=this.x.redSqr(),Z=this.y.redSqr(),$,V,x,q,F,g;if(this.curve.twisted){q=this.curve._mulA(k);var E=q.redAdd(Z);this.zOne?($=y.redSub(k).redSub(Z).redMul(E.redSub(this.curve.two)),V=E.redMul(q.redSub(Z)),x=E.redSqr().redSub(E).redSub(E)):(F=this.z.redSqr(),g=E.redSub(F).redISub(F),$=y.redSub(k).redISub(Z).redMul(g),V=E.redMul(q.redSub(Z)),x=E.redMul(g))}else q=k.redAdd(Z),F=this.curve._mulC(this.z).redSqr(),g=q.redSub(F).redSub(F),$=this.curve._mulC(y.redISub(q)).redMul(g),V=this.curve._mulC(q).redMul(k.redISub(Z)),x=q.redMul(g);return this.curve.point($,V,x)},W.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},W.prototype._extAdd=function(y){var k=this.y.redSub(this.x).redMul(y.y.redSub(y.x)),Z=this.y.redAdd(this.x).redMul(y.y.redAdd(y.x)),$=this.t.redMul(this.curve.dd).redMul(y.t),V=this.z.redMul(y.z.redAdd(y.z)),x=Z.redSub(k),q=V.redSub($),F=V.redAdd($),g=Z.redAdd(k),E=x.redMul(q),z=F.redMul(g),K=x.redMul(g),Y=q.redMul(F);return this.curve.point(E,z,Y,K)},W.prototype._projAdd=function(y){var k=this.z.redMul(y.z),Z=k.redSqr(),$=this.x.redMul(y.x),V=this.y.redMul(y.y),x=this.curve.d.redMul($).redMul(V),q=Z.redSub(x),F=Z.redAdd(x),g=this.x.redAdd(this.y).redMul(y.x.redAdd(y.y)).redISub($).redISub(V),E=k.redMul(q).redMul(g),z,K;return this.curve.twisted?(z=k.redMul(F).redMul(V.redSub(this.curve._mulA($))),K=q.redMul(F)):(z=k.redMul(F).redMul(V.redSub($)),K=this.curve._mulC(q).redMul(F)),this.curve.point(E,z,K)},W.prototype.add=function(y){return this.isInfinity()?y:y.isInfinity()?this:this.curve.extended?this._extAdd(y):this._projAdd(y)},W.prototype.mul=function(y){return this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve._wnafMul(this,y)},W.prototype.mulAdd=function(y,k,Z){return this.curve._wnafMulAdd(1,[this,k],[y,Z],2,!1)},W.prototype.jmulAdd=function(y,k,Z){return this.curve._wnafMulAdd(1,[this,k],[y,Z],2,!0)},W.prototype.normalize=function(){if(this.zOne)return this;var y=this.z.redInvm();return this.x=this.x.redMul(y),this.y=this.y.redMul(y),this.t&&(this.t=this.t.redMul(y)),this.z=this.curve.one,this.zOne=!0,this},W.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},W.prototype.getX=function(){return this.normalize(),this.x.fromRed()},W.prototype.getY=function(){return this.normalize(),this.y.fromRed()},W.prototype.eq=function(y){return this===y||this.getX().cmp(y.getX())===0&&this.getY().cmp(y.getY())===0},W.prototype.eqXToP=function(y){var k=y.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(k)===0)return!0;for(var Z=y.clone(),$=this.curve.redN.redMul(this.z);;){if(Z.iadd(this.curve.n),Z.cmp(this.curve.p)>=0)return!1;if(k.redIAdd($),this.x.cmp(k)===0)return!0}},W.prototype.toP=W.prototype.normalize,W.prototype.mixedAdd=W.prototype.add}),xr=Jo((s)=>{var d=s;d.base=An(),d.short=Bi(),d.mont=Ci(),d.edwards=Qi()}),ae=Jo((s)=>{var d=Ka(),i=pa();s.inherits=i;function h(n,c){return(n.charCodeAt(c)&64512)!==55296||c<0||c+1>=n.length?!1:(n.charCodeAt(c+1)&64512)===56320}function _(n,c){if(Array.isArray(n))return n.slice();if(!n)return[];var l=[];if(typeof n=="string")if(c){if(c==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),t=0;t<n.length;t+=2)l.push(parseInt(n[t]+n[t+1],16))}else for(var m=0,t=0;t<n.length;t++){var N=n.charCodeAt(t);N<128?l[m++]=N:N<2048?(l[m++]=N>>6|192,l[m++]=N&63|128):h(n,t)?(N=65536+((N&1023)<<10)+(n.charCodeAt(++t)&1023),l[m++]=N>>18|240,l[m++]=N>>12&63|128,l[m++]=N>>6&63|128,l[m++]=N&63|128):(l[m++]=N>>12|224,l[m++]=N>>6&63|128,l[m++]=N&63|128)}else for(t=0;t<n.length;t++)l[t]=n[t]|0;return l}s.toArray=_;function T(n){for(var c="",l=0;l<n.length;l++)c+=W(n[l].toString(16));return c}s.toHex=T;function u(n){var c=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return c>>>0}s.htonl=u;function v(n,c){for(var l="",m=0;m<n.length;m++){var t=n[m];c==="little"&&(t=u(t)),l+=y(t.toString(16))}return l}s.toHex32=v;function W(n){return n.length===1?"0"+n:n}s.zero2=W;function y(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}s.zero8=y;function k(n,c,l,m){var t=l-c;d(t%4===0);for(var N=new Array(t/4),p=0,a=c;p<N.length;p++,a+=4){var b;m==="big"?b=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]:b=n[a+3]<<24|n[a+2]<<16|n[a+1]<<8|n[a],N[p]=b>>>0}return N}s.join32=k;function Z(n,c){for(var l=new Array(n.length*4),m=0,t=0;m<n.length;m++,t+=4){var N=n[m];c==="big"?(l[t]=N>>>24,l[t+1]=N>>>16&255,l[t+2]=N>>>8&255,l[t+3]=N&255):(l[t+3]=N>>>24,l[t+2]=N>>>16&255,l[t+1]=N>>>8&255,l[t]=N&255)}return l}s.split32=Z;function $(n,c){return n>>>c|n<<32-c}s.rotr32=$;function V(n,c){return n<<c|n>>>32-c}s.rotl32=V;function x(n,c){return n+c>>>0}s.sum32=x;function q(n,c,l){return n+c+l>>>0}s.sum32_3=q;function F(n,c,l,m){return n+c+l+m>>>0}s.sum32_4=F;function g(n,c,l,m,t){return n+c+l+m+t>>>0}s.sum32_5=g;function E(n,c,l,m){var t=n[c],N=n[c+1],p=m+N>>>0,a=(p<m?1:0)+l+t;n[c]=a>>>0,n[c+1]=p}s.sum64=E;function z(n,c,l,m){var t=c+m>>>0,N=(t<c?1:0)+n+l;return N>>>0}s.sum64_hi=z;function K(n,c,l,m){var t=c+m;return t>>>0}s.sum64_lo=K;function Y(n,c,l,m,t,N,p,a){var b=0,S=c;S=S+m>>>0,b+=S<c?1:0,S=S+N>>>0,b+=S<N?1:0,S=S+a>>>0,b+=S<a?1:0;var w=n+l+t+p+b;return w>>>0}s.sum64_4_hi=Y;function C(n,c,l,m,t,N,p,a){var b=c+m+N+a;return b>>>0}s.sum64_4_lo=C;function mo(n,c,l,m,t,N,p,a,b,S){var w=0,I=c;I=I+m>>>0,w+=I<c?1:0,I=I+N>>>0,w+=I<N?1:0,I=I+a>>>0,w+=I<a?1:0,I=I+S>>>0,w+=I<S?1:0;var No=n+l+t+p+b+w;return No>>>0}s.sum64_5_hi=mo;function to(n,c,l,m,t,N,p,a,b,S){var w=c+m+N+a+S;return w>>>0}s.sum64_5_lo=to;function Mo(n,c,l){var m=c<<32-l|n>>>l;return m>>>0}s.rotr64_hi=Mo;function uo(n,c,l){var m=n<<32-l|c>>>l;return m>>>0}s.rotr64_lo=uo;function Vo(n,c,l){return n>>>l}s.shr64_hi=Vo;function o(n,c,l){var m=n<<32-l|c>>>l;return m>>>0}s.shr64_lo=o}),Nn=Jo((s)=>{var d=ae(),i=Ka();function h(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=h,h.prototype.update=function(_,T){if(_=d.toArray(_,T),this.pending?this.pending=this.pending.concat(_):this.pending=_,this.pendingTotal+=_.length,this.pending.length>=this._delta8){_=this.pending;var u=_.length%this._delta8;this.pending=_.slice(_.length-u,_.length),this.pending.length===0&&(this.pending=null),_=d.join32(_,0,_.length-u,this.endian);for(var v=0;v<_.length;v+=this._delta32)this._update(_,v,v+this._delta32)}return this},h.prototype.digest=function(_){return this.update(this._pad()),i(this.pending===null),this._digest(_)},h.prototype._pad=function(){var _=this.pendingTotal,T=this._delta8,u=T-(_+this.padLength)%T,v=new Array(u+this.padLength);v[0]=128;for(var W=1;W<u;W++)v[W]=0;if(_<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)v[W++]=0;v[W++]=0,v[W++]=0,v[W++]=0,v[W++]=0,v[W++]=_>>>24&255,v[W++]=_>>>16&255,v[W++]=_>>>8&255,v[W++]=_&255}else for(v[W++]=_&255,v[W++]=_>>>8&255,v[W++]=_>>>16&255,v[W++]=_>>>24&255,v[W++]=0,v[W++]=0,v[W++]=0,v[W++]=0,y=8;y<this.padLength;y++)v[W++]=0;return v}}),$r=Jo((s)=>{var d=ae(),i=d.rotr32;function h(Z,$,V,x){if(Z===0)return _($,V,x);if(Z===1||Z===3)return u($,V,x);if(Z===2)return T($,V,x)}s.ft_1=h;function _(Z,$,V){return Z&$^~Z&V}s.ch32=_;function T(Z,$,V){return Z&$^Z&V^$&V}s.maj32=T;function u(Z,$,V){return Z^$^V}s.p32=u;function v(Z){return i(Z,2)^i(Z,13)^i(Z,22)}s.s0_256=v;function W(Z){return i(Z,6)^i(Z,11)^i(Z,25)}s.s1_256=W;function y(Z){return i(Z,7)^i(Z,18)^Z>>>3}s.g0_256=y;function k(Z){return i(Z,17)^i(Z,19)^Z>>>10}s.g1_256=k}),Ai=Jo((s,d)=>{var i=ae(),h=Nn(),_=$r(),T=i.rotl32,u=i.sum32,v=i.sum32_5,W=_.ft_1,y=h.BlockHash,k=[1518500249,1859775393,2400959708,3395469782];function Z(){if(!(this instanceof Z))return new Z;y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(Z,y),d.exports=Z,Z.blockSize=512,Z.outSize=160,Z.hmacStrength=80,Z.padLength=64,Z.prototype._update=function($,V){for(var x=this.W,q=0;q<16;q++)x[q]=$[V+q];for(;q<x.length;q++)x[q]=T(x[q-3]^x[q-8]^x[q-14]^x[q-16],1);var F=this.h[0],g=this.h[1],E=this.h[2],z=this.h[3],K=this.h[4];for(q=0;q<x.length;q++){var Y=~~(q/20),C=v(T(F,5),W(Y,g,E,z),K,x[q],k[Y]);K=z,z=E,E=T(g,30),g=F,F=C}this.h[0]=u(this.h[0],F),this.h[1]=u(this.h[1],g),this.h[2]=u(this.h[2],E),this.h[3]=u(this.h[3],z),this.h[4]=u(this.h[4],K)},Z.prototype._digest=function($){return $==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}}),Mr=Jo((s,d)=>{var i=ae(),h=Nn(),_=$r(),T=Ka(),u=i.sum32,v=i.sum32_4,W=i.sum32_5,y=_.ch32,k=_.maj32,Z=_.s0_256,$=_.s1_256,V=_.g0_256,x=_.g1_256,q=h.BlockHash,F=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;q.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=F,this.W=new Array(64)}i.inherits(g,q),d.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(E,z){for(var K=this.W,Y=0;Y<16;Y++)K[Y]=E[z+Y];for(;Y<K.length;Y++)K[Y]=v(x(K[Y-2]),K[Y-7],V(K[Y-15]),K[Y-16]);var C=this.h[0],mo=this.h[1],to=this.h[2],Mo=this.h[3],uo=this.h[4],Vo=this.h[5],o=this.h[6],n=this.h[7];for(T(this.k.length===K.length),Y=0;Y<K.length;Y++){var c=W(n,$(uo),y(uo,Vo,o),this.k[Y],K[Y]),l=u(Z(C),k(C,mo,to));n=o,o=Vo,Vo=uo,uo=u(Mo,c),Mo=to,to=mo,mo=C,C=u(c,l)}this.h[0]=u(this.h[0],C),this.h[1]=u(this.h[1],mo),this.h[2]=u(this.h[2],to),this.h[3]=u(this.h[3],Mo),this.h[4]=u(this.h[4],uo),this.h[5]=u(this.h[5],Vo),this.h[6]=u(this.h[6],o),this.h[7]=u(this.h[7],n)},g.prototype._digest=function(E){return E==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}}),o0=Jo((s,d)=>{var i=ae(),h=Mr();function _(){if(!(this instanceof _))return new _;h.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(_,h),d.exports=_,_.blockSize=512,_.outSize=224,_.hmacStrength=192,_.padLength=64,_.prototype._digest=function(T){return T==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}}),Vr=Jo((s,d)=>{var i=ae(),h=Nn(),_=Ka(),T=i.rotr64_hi,u=i.rotr64_lo,v=i.shr64_hi,W=i.shr64_lo,y=i.sum64,k=i.sum64_hi,Z=i.sum64_lo,$=i.sum64_4_hi,V=i.sum64_4_lo,x=i.sum64_5_hi,q=i.sum64_5_lo,F=h.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;F.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}i.inherits(E,F),d.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(l,m){for(var t=this.W,N=0;N<32;N++)t[N]=l[m+N];for(;N<t.length;N+=2){var p=n(t[N-4],t[N-3]),a=c(t[N-4],t[N-3]),b=t[N-14],S=t[N-13],w=Vo(t[N-30],t[N-29]),I=o(t[N-30],t[N-29]),No=t[N-32],ko=t[N-31];t[N]=$(p,a,b,S,w,I,No,ko),t[N+1]=V(p,a,b,S,w,I,No,ko)}},E.prototype._update=function(l,m){this._prepareBlock(l,m);var t=this.W,N=this.h[0],p=this.h[1],a=this.h[2],b=this.h[3],S=this.h[4],w=this.h[5],I=this.h[6],No=this.h[7],ko=this.h[8],xo=this.h[9],bo=this.h[10],co=this.h[11],fo=this.h[12],Xo=this.h[13],$o=this.h[14],So=this.h[15];_(this.k.length===t.length);for(var D=0;D<t.length;D+=2){var X=$o,ao=So,wo=Mo(ko,xo),zo=uo(ko,xo),Lo=z(ko,xo,bo,co,fo,Xo),Ho=K(ko,xo,bo,co,fo,Xo),Uo=this.k[D],Po=this.k[D+1],Ao=t[D],Ko=t[D+1],go=x(X,ao,wo,zo,Lo,Ho,Uo,Po,Ao,Ko),da=q(X,ao,wo,zo,Lo,Ho,Uo,Po,Ao,Ko);X=mo(N,p),ao=to(N,p),wo=Y(N,p,a,b,S,w),zo=C(N,p,a,b,S,w);var L=k(X,ao,wo,zo),e=Z(X,ao,wo,zo);$o=fo,So=Xo,fo=bo,Xo=co,bo=ko,co=xo,ko=k(I,No,go,da),xo=Z(No,No,go,da),I=S,No=w,S=a,w=b,a=N,b=p,N=k(go,da,L,e),p=Z(go,da,L,e)}y(this.h,0,N,p),y(this.h,2,a,b),y(this.h,4,S,w),y(this.h,6,I,No),y(this.h,8,ko,xo),y(this.h,10,bo,co),y(this.h,12,fo,Xo),y(this.h,14,$o,So)},E.prototype._digest=function(l){return l==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")};function z(l,m,t,N,p){var a=l&t^~l&p;return a<0&&(a+=4294967296),a}function K(l,m,t,N,p,a){var b=m&N^~m&a;return b<0&&(b+=4294967296),b}function Y(l,m,t,N,p){var a=l&t^l&p^t&p;return a<0&&(a+=4294967296),a}function C(l,m,t,N,p,a){var b=m&N^m&a^N&a;return b<0&&(b+=4294967296),b}function mo(l,m){var t=T(l,m,28),N=T(m,l,2),p=T(m,l,7),a=t^N^p;return a<0&&(a+=4294967296),a}function to(l,m){var t=u(l,m,28),N=u(m,l,2),p=u(m,l,7),a=t^N^p;return a<0&&(a+=4294967296),a}function Mo(l,m){var t=T(l,m,14),N=T(l,m,18),p=T(m,l,9),a=t^N^p;return a<0&&(a+=4294967296),a}function uo(l,m){var t=u(l,m,14),N=u(l,m,18),p=u(m,l,9),a=t^N^p;return a<0&&(a+=4294967296),a}function Vo(l,m){var t=T(l,m,1),N=T(l,m,8),p=v(l,m,7),a=t^N^p;return a<0&&(a+=4294967296),a}function o(l,m){var t=u(l,m,1),N=u(l,m,8),p=W(l,m,7),a=t^N^p;return a<0&&(a+=4294967296),a}function n(l,m){var t=T(l,m,19),N=T(m,l,29),p=v(l,m,6),a=t^N^p;return a<0&&(a+=4294967296),a}function c(l,m){var t=u(l,m,19),N=u(m,l,29),p=W(l,m,6),a=t^N^p;return a<0&&(a+=4294967296),a}}),a0=Jo((s,d)=>{var i=ae(),h=Vr();function _(){if(!(this instanceof _))return new _;h.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(_,h),d.exports=_,_.blockSize=1024,_.outSize=384,_.hmacStrength=192,_.padLength=128,_.prototype._digest=function(T){return T==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}}),e0=Jo((s)=>{s.sha1=Ai(),s.sha224=o0(),s.sha256=Mr(),s.sha384=a0(),s.sha512=Vr()}),n0=Jo((s)=>{var d=ae(),i=Nn(),h=d.rotl32,_=d.sum32,T=d.sum32_3,u=d.sum32_4,v=i.BlockHash;function W(){if(!(this instanceof W))return new W;v.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}d.inherits(W,v),s.ripemd160=W,W.blockSize=512,W.outSize=160,W.hmacStrength=192,W.padLength=64,W.prototype._update=function(F,g){for(var E=this.h[0],z=this.h[1],K=this.h[2],Y=this.h[3],C=this.h[4],mo=E,to=z,Mo=K,uo=Y,Vo=C,o=0;o<80;o++){var n=_(h(u(E,y(o,z,K,Y),F[$[o]+g],k(o)),x[o]),C);E=C,C=Y,Y=h(K,10),K=z,z=n,n=_(h(u(mo,y(79-o,to,Mo,uo),F[V[o]+g],Z(o)),q[o]),Vo),mo=Vo,Vo=uo,uo=h(Mo,10),Mo=to,to=n}n=T(this.h[1],K,uo),this.h[1]=T(this.h[2],Y,Vo),this.h[2]=T(this.h[3],C,mo),this.h[3]=T(this.h[4],E,to),this.h[4]=T(this.h[0],z,Mo),this.h[0]=n},W.prototype._digest=function(F){return F==="hex"?d.toHex32(this.h,"little"):d.split32(this.h,"little")};function y(F,g,E,z){return F<=15?g^E^z:F<=31?g&E|~g&z:F<=47?(g|~E)^z:F<=63?g&z|E&~z:g^(E|~z)}function k(F){return F<=15?0:F<=31?1518500249:F<=47?1859775393:F<=63?2400959708:2840853838}function Z(F){return F<=15?1352829926:F<=31?1548603684:F<=47?1836072691:F<=63?2053994217:0}var $=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],V=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],q=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),l0=Jo((s,d)=>{var i=ae(),h=Ka();function _(T,u,v){if(!(this instanceof _))return new _(T,u,v);this.Hash=T,this.blockSize=T.blockSize/8,this.outSize=T.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(u,v))}d.exports=_,_.prototype._init=function(T){T.length>this.blockSize&&(T=new this.Hash().update(T).digest()),h(T.length<=this.blockSize);for(var u=T.length;u<this.blockSize;u++)T.push(0);for(u=0;u<T.length;u++)T[u]^=54;for(this.inner=new this.Hash().update(T),u=0;u<T.length;u++)T[u]^=106;this.outer=new this.Hash().update(T)},_.prototype.update=function(T,u){return this.inner.update(T,u),this},_.prototype.digest=function(T){return this.outer.update(this.inner.digest()),this.outer.digest(T)}}),as=Jo((s)=>{var d=s;d.utils=ae(),d.common=Nn(),d.sha=e0(),d.ripemd=n0(),d.hmac=l0(),d.sha1=d.sha.sha1,d.sha256=d.sha.sha256,d.sha224=d.sha.sha224,d.sha384=d.sha.sha384,d.sha512=d.sha.sha512,d.ripemd160=d.ripemd.ripemd160}),s0=Jo((s,d)=>{d.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),es=Jo((s)=>{var d=s,i=as(),h=xr(),_=Ia(),T=_.assert;function u(y){y.type==="short"?this.curve=new h.short(y):y.type==="edwards"?this.curve=new h.edwards(y):this.curve=new h.mont(y),this.g=this.curve.g,this.n=this.curve.n,this.hash=y.hash,T(this.g.validate(),"Invalid curve"),T(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}d.PresetCurve=u;function v(y,k){Object.defineProperty(d,y,{configurable:!0,enumerable:!0,get:function(){var Z=new u(k);return Object.defineProperty(d,y,{configurable:!0,enumerable:!0,value:Z}),Z}})}v("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),v("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),v("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),v("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),v("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),v("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),v("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var W;try{W=s0()}catch{W=void 0}v("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",W]})}),r0=Jo((s,d)=>{var i=as(),h=Tr(),_=Ka();function T(u){if(!(this instanceof T))return new T(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var v=h.toArray(u.entropy,u.entropyEnc||"hex"),W=h.toArray(u.nonce,u.nonceEnc||"hex"),y=h.toArray(u.pers,u.persEnc||"hex");_(v.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(v,W,y)}d.exports=T,T.prototype._init=function(u,v,W){var y=u.concat(v).concat(W);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var k=0;k<this.V.length;k++)this.K[k]=0,this.V[k]=1;this._update(y),this._reseed=1,this.reseedInterval=281474976710656},T.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},T.prototype._update=function(u){var v=this._hmac().update(this.V).update([0]);u&&(v=v.update(u)),this.K=v.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},T.prototype.reseed=function(u,v,W,y){typeof v!="string"&&(y=W,W=v,v=null),u=h.toArray(u,v),W=h.toArray(W,y),_(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(W||[])),this._reseed=1},T.prototype.generate=function(u,v,W,y){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof v!="string"&&(y=W,W=v,v=null),W&&(W=h.toArray(W,y||"hex"),this._update(W));for(var k=[];k.length<u;)this.V=this._hmac().update(this.V).digest(),k=k.concat(this.V);var Z=k.slice(0,u);return this._update(W),this._reseed++,h.encode(Z,v)}}),c0=Jo((s,d)=>{var i=re(),h=Ia(),_=h.assert;function T(u,v){this.ec=u,this.priv=null,this.pub=null,v.priv&&this._importPrivate(v.priv,v.privEnc),v.pub&&this._importPublic(v.pub,v.pubEnc)}d.exports=T,T.fromPublic=function(u,v,W){return v instanceof T?v:new T(u,{pub:v,pubEnc:W})},T.fromPrivate=function(u,v,W){return v instanceof T?v:new T(u,{priv:v,privEnc:W})},T.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},T.prototype.getPublic=function(u,v){return typeof u=="string"&&(v=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),v?this.pub.encode(v,u):this.pub},T.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},T.prototype._importPrivate=function(u,v){this.priv=new i(u,v||16),this.priv=this.priv.umod(this.ec.curve.n)},T.prototype._importPublic=function(u,v){if(u.x||u.y){this.ec.curve.type==="mont"?_(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&_(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,v)},T.prototype.derive=function(u){return u.validate()||_(u.validate(),"public point not validated"),u.mul(this.priv).getX()},T.prototype.sign=function(u,v,W){return this.ec.sign(u,this,v,W)},T.prototype.verify=function(u,v){return this.ec.verify(u,v,this)},T.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),i0=Jo((s,d)=>{var i=re(),h=Ia(),_=h.assert;function T(k,Z){if(k instanceof T)return k;this._importDER(k,Z)||(_(k.r&&k.s,"Signature without r or s"),this.r=new i(k.r,16),this.s=new i(k.s,16),k.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=k.recoveryParam)}d.exports=T;function u(){this.place=0}function v(k,Z){var $=k[Z.place++];if(!($&128))return $;var V=$&15;if(V===0||V>4)return!1;for(var x=0,q=0,F=Z.place;q<V;q++,F++)x<<=8,x|=k[F],x>>>=0;return x<=127?!1:(Z.place=F,x)}function W(k){for(var Z=0,$=k.length-1;!k[Z]&&!(k[Z+1]&128)&&Z<$;)Z++;return Z===0?k:k.slice(Z)}T.prototype._importDER=function(k,Z){k=h.toArray(k,Z);var $=new u;if(k[$.place++]!==48)return!1;var V=v(k,$);if(V===!1||V+$.place!==k.length||k[$.place++]!==2)return!1;var x=v(k,$);if(x===!1)return!1;var q=k.slice($.place,x+$.place);if($.place+=x,k[$.place++]!==2)return!1;var F=v(k,$);if(F===!1||k.length!==F+$.place)return!1;var g=k.slice($.place,F+$.place);if(q[0]===0)if(q[1]&128)q=q.slice(1);else return!1;if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;return this.r=new i(q),this.s=new i(g),this.recoveryParam=null,!0};function y(k,Z){if(Z<128){k.push(Z);return}var $=1+(Math.log(Z)/Math.LN2>>>3);for(k.push($|128);--$;)k.push(Z>>>($<<3)&255);k.push(Z)}T.prototype.toDER=function(k){var Z=this.r.toArray(),$=this.s.toArray();for(Z[0]&128&&(Z=[0].concat(Z)),$[0]&128&&($=[0].concat($)),Z=W(Z),$=W($);!$[0]&&!($[1]&128);)$=$.slice(1);var V=[2];y(V,Z.length),V=V.concat(Z),V.push(2),y(V,$.length);var x=V.concat($),q=[48];return y(q,x.length),q=q.concat(x),h.encode(q,k)}}),u0=Jo((s,d)=>{var i=re(),h=r0(),_=Ia(),T=es(),u=Cl(),v=_.assert,W=c0(),y=i0();function k(Z){if(!(this instanceof k))return new k(Z);typeof Z=="string"&&(v(Object.prototype.hasOwnProperty.call(T,Z),"Unknown curve "+Z),Z=T[Z]),Z instanceof T.PresetCurve&&(Z={curve:Z}),this.curve=Z.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Z.curve.g,this.g.precompute(Z.curve.n.bitLength()+1),this.hash=Z.hash||Z.curve.hash}d.exports=k,k.prototype.keyPair=function(Z){return new W(this,Z)},k.prototype.keyFromPrivate=function(Z,$){return W.fromPrivate(this,Z,$)},k.prototype.keyFromPublic=function(Z,$){return W.fromPublic(this,Z,$)},k.prototype.genKeyPair=function(Z){Z||(Z={});for(var $=new h({hash:this.hash,pers:Z.pers,persEnc:Z.persEnc||"utf8",entropy:Z.entropy||u(this.hash.hmacStrength),entropyEnc:Z.entropy&&Z.entropyEnc||"utf8",nonce:this.n.toArray()}),V=this.n.byteLength(),x=this.n.sub(new i(2));;){var q=new i($.generate(V));if(!(q.cmp(x)>0))return q.iaddn(1),this.keyFromPrivate(q)}},k.prototype._truncateToN=function(Z,$){var V=Z.byteLength()*8-this.n.bitLength();return V>0&&(Z=Z.ushrn(V)),!$&&Z.cmp(this.n)>=0?Z.sub(this.n):Z},k.prototype.sign=function(Z,$,V,x){typeof V=="object"&&(x=V,V=null),x||(x={}),$=this.keyFromPrivate($,V),Z=this._truncateToN(new i(Z,16));for(var q=this.n.byteLength(),F=$.getPrivate().toArray("be",q),g=Z.toArray("be",q),E=new h({hash:this.hash,entropy:F,nonce:g,pers:x.pers,persEnc:x.persEnc||"utf8"}),z=this.n.sub(new i(1)),K=0;;K++){var Y=x.k?x.k(K):new i(E.generate(this.n.byteLength()));if(Y=this._truncateToN(Y,!0),!(Y.cmpn(1)<=0||Y.cmp(z)>=0)){var C=this.g.mul(Y);if(!C.isInfinity()){var mo=C.getX(),to=mo.umod(this.n);if(to.cmpn(0)!==0){var Mo=Y.invm(this.n).mul(to.mul($.getPrivate()).iadd(Z));if(Mo=Mo.umod(this.n),Mo.cmpn(0)!==0){var uo=(C.getY().isOdd()?1:0)|(mo.cmp(to)!==0?2:0);return x.canonical&&Mo.cmp(this.nh)>0&&(Mo=this.n.sub(Mo),uo^=1),new y({r:to,s:Mo,recoveryParam:uo})}}}}}},k.prototype.verify=function(Z,$,V,x){Z=this._truncateToN(new i(Z,16)),V=this.keyFromPublic(V,x),$=new y($,"hex");var{r:q,s:F}=$;if(q.cmpn(1)<0||q.cmp(this.n)>=0||F.cmpn(1)<0||F.cmp(this.n)>=0)return!1;var g=F.invm(this.n),E=g.mul(Z).umod(this.n),z=g.mul(q).umod(this.n),K;return this.curve._maxwellTrick?(K=this.g.jmulAdd(E,V.getPublic(),z),K.isInfinity()?!1:K.eqXToP(q)):(K=this.g.mulAdd(E,V.getPublic(),z),K.isInfinity()?!1:K.getX().umod(this.n).cmp(q)===0)},k.prototype.recoverPubKey=function(Z,$,V,x){v((3&V)===V,"The recovery param is more than two bits"),$=new y($,x);var q=this.n,F=new i(Z),g=$.r,E=$.s,z=V&1,K=V>>1;if(g.cmp(this.curve.p.umod(this.curve.n))>=0&&K)throw new Error("Unable to find sencond key candinate");K?g=this.curve.pointFromX(g.add(this.curve.n),z):g=this.curve.pointFromX(g,z);var Y=$.r.invm(q),C=q.sub(F).mul(Y).umod(q),mo=E.mul(Y).umod(q);return this.g.mulAdd(C,g,mo)},k.prototype.getKeyRecoveryParam=function(Z,$,V,x){if($=new y($,x),$.recoveryParam!==null)return $.recoveryParam;for(var q=0;q<4;q++){var F;try{F=this.recoverPubKey(Z,$,q)}catch{continue}if(F.eq(V))return q}throw new Error("Unable to find valid recovery factor")}}),m0=Jo((s,d)=>{var i=Ia(),h=i.assert,_=i.parseBytes,T=i.cachedProperty;function u(v,W){this.eddsa=v,this._secret=_(W.secret),v.isPoint(W.pub)?this._pub=W.pub:this._pubBytes=_(W.pub)}u.fromPublic=function(v,W){return W instanceof u?W:new u(v,{pub:W})},u.fromSecret=function(v,W){return W instanceof u?W:new u(v,{secret:W})},u.prototype.secret=function(){return this._secret},T(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),T(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),T(u,"privBytes",function(){var v=this.eddsa,W=this.hash(),y=v.encodingLength-1,k=W.slice(0,v.encodingLength);return k[0]&=248,k[y]&=127,k[y]|=64,k}),T(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),T(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),T(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(v){return h(this._secret,"KeyPair can only verify"),this.eddsa.sign(v,this)},u.prototype.verify=function(v,W){return this.eddsa.verify(v,W,this)},u.prototype.getSecret=function(v){return h(this._secret,"KeyPair is public only"),i.encode(this.secret(),v)},u.prototype.getPublic=function(v){return i.encode(this.pubBytes(),v)},d.exports=u}),b0=Jo((s,d)=>{var i=re(),h=Ia(),_=h.assert,T=h.cachedProperty,u=h.parseBytes;function v(W,y){this.eddsa=W,typeof y!="object"&&(y=u(y)),Array.isArray(y)&&(y={R:y.slice(0,W.encodingLength),S:y.slice(W.encodingLength)}),_(y.R&&y.S,"Signature without R or S"),W.isPoint(y.R)&&(this._R=y.R),y.S instanceof i&&(this._S=y.S),this._Rencoded=Array.isArray(y.R)?y.R:y.Rencoded,this._Sencoded=Array.isArray(y.S)?y.S:y.Sencoded}T(v,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),T(v,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),T(v,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),T(v,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),v.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},v.prototype.toHex=function(){return h.encode(this.toBytes(),"hex").toUpperCase()},d.exports=v}),p0=Jo((s,d)=>{var i=as(),h=es(),_=Ia(),T=_.assert,u=_.parseBytes,v=m0(),W=b0();function y(k){if(T(k==="ed25519","only tested with ed25519 so far"),!(this instanceof y))return new y(k);k=h[k].curve,this.curve=k,this.g=k.g,this.g.precompute(k.n.bitLength()+1),this.pointClass=k.point().constructor,this.encodingLength=Math.ceil(k.n.bitLength()/8),this.hash=i.sha512}d.exports=y,y.prototype.sign=function(k,Z){k=u(k);var $=this.keyFromSecret(Z),V=this.hashInt($.messagePrefix(),k),x=this.g.mul(V),q=this.encodePoint(x),F=this.hashInt(q,$.pubBytes(),k).mul($.priv()),g=V.add(F).umod(this.curve.n);return this.makeSignature({R:x,S:g,Rencoded:q})},y.prototype.verify=function(k,Z,$){k=u(k),Z=this.makeSignature(Z);var V=this.keyFromPublic($),x=this.hashInt(Z.Rencoded(),V.pubBytes(),k),q=this.g.mul(Z.S()),F=Z.R().add(V.pub().mul(x));return F.eq(q)},y.prototype.hashInt=function(){for(var k=this.hash(),Z=0;Z<arguments.length;Z++)k.update(arguments[Z]);return _.intFromLE(k.digest()).umod(this.curve.n)},y.prototype.keyFromPublic=function(k){return v.fromPublic(this,k)},y.prototype.keyFromSecret=function(k){return v.fromSecret(this,k)},y.prototype.makeSignature=function(k){return k instanceof W?k:new W(this,k)},y.prototype.encodePoint=function(k){var Z=k.getY().toArray("le",this.encodingLength);return Z[this.encodingLength-1]|=k.getX().isOdd()?128:0,Z},y.prototype.decodePoint=function(k){k=_.parseBytes(k);var Z=k.length-1,$=k.slice(0,Z).concat(k[Z]&-129),V=(k[Z]&128)!==0,x=_.intFromLE($);return this.curve.pointFromY(x,V)},y.prototype.encodeInt=function(k){return k.toArray("le",this.encodingLength)},y.prototype.decodeInt=function(k){return _.intFromLE(k)},y.prototype.isPoint=function(k){return k instanceof this.pointClass}}),ns=Jo((s)=>{var d=s;d.version=Yi().version,d.utils=Ia(),d.rand=Cl(),d.curve=xr(),d.curves=es(),d.ec=u0(),d.eddsa=p0()}),Lr=Jo((s,d)=>{(function(i,h){function _(o,n){if(!o)throw new Error(n||"Assertion failed")}function T(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof i=="object"?i.exports=u:h.BN=u,u.BN=u,u.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=We().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),_(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(n===16?this._parseHex(o,l,c):(this._parseBase(o,n,l),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(_(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(_(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m,t,N=0;if(c==="be")for(l=o.length-1,m=0;l>=0;l-=3)t=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);else if(c==="le")for(l=0,m=0;l<o.length;l+=3)t=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);return this.strip()};function W(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var l=W(o,c);return c-1>=n&&(l|=W(o,c-1)<<4),l}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m=0,t=0,N;if(c==="be")for(l=o.length-1;l>=n;l-=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8;else{var p=o.length-n;for(l=p%2===0?n+1:n;l<o.length;l+=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8}this.strip()};function k(o,n,c,l){for(var m=0,t=Math.min(o.length,c),N=n;N<t;N++){var p=o.charCodeAt(N)-48;m*=l,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var l=0,m=1;m<=67108863;m*=n)l++;l--,m=m/n|0;for(var t=o.length-c,N=t%l,p=Math.min(t,t-N)+c,a=0,b=c;b<p;b+=l)a=k(o,b,b+l,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,b,o.length,n),b=0;b<N;b++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var l=0,m=0,t=0;t<this.length;t++){var N=this.words[t],p=((N<<l|m)&16777215).toString(16);m=N>>>24-l&16777215,m!==0||t!==this.length-1?c=Z[6-p.length]+p+c:c=p+c,l+=2,l>=26&&(l-=26,t--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=$[o],b=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(b).toString(o);S=S.idivn(b),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}_(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return _(typeof v<"u"),this.toArrayLike(v,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var l=this.byteLength(),m=c||Math.max(1,l);_(l<=m,"byte array longer than desired length"),_(m>0,"Requested array length <= 0"),this.strip();var t=n==="le",N=new o(m),p,a,b=this.clone();if(t){for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[a]=p;for(;a<m;a++)N[a]=0}else{for(a=0;a<m-l;a++)N[a]=0;for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[m-a-1]=p}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function x(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var l=c/26|0,m=c%26;n[c]=(o.words[l]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return _((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return _((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var l=0;l<c.length;l++)this.words[l]=n.words[l]^c.words[l];if(this!==n)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return _((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){_(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var l=0;l<n;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){_(typeof o=="number"&&o>=0);var c=o/26|0,l=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,l;this.length>o.length?(c=this,l=o):(c=o,l=this);for(var m=0,t=0;t<l.length;t++)n=(c.words[t]|0)+(l.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;for(;m!==0&&t<c.length;t++)n=(c.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;t<c.length;t++)this.words[t]=c.words[t];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,m;c>0?(l=this,m=o):(l=o,m=this);for(var t=0,N=0;N<m.length;N++)n=(l.words[N]|0)-(m.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;for(;t!==0&&N<l.length;N++)n=(l.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;if(t===0&&N<l.length&&l!==this)for(;N<l.length;N++)this.words[N]=l.words[N];return this.length=Math.max(this.length,N),l!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var l=o.length+n.length|0;c.length=l,l=l-1|0;var m=o.words[0]|0,t=n.words[0]|0,N=m*t,p=N&67108863,a=N/67108864|0;c.words[0]=p;for(var b=1;b<l;b++){for(var S=a>>>26,w=a&67108863,I=Math.min(b,n.length-1),No=Math.max(0,b-o.length+1);No<=I;No++){var ko=b-No|0;m=o.words[ko]|0,t=n.words[No]|0,N=m*t+w,S+=N/67108864|0,w=N&67108863}c.words[b]=w|0,a=S|0}return a!==0?c.words[b]=a|0:c.length--,c.strip()}var F=function(o,n,c){var l=o.words,m=n.words,t=c.words,N=0,p,a,b,S=l[0]|0,w=S&8191,I=S>>>13,No=l[1]|0,ko=No&8191,xo=No>>>13,bo=l[2]|0,co=bo&8191,fo=bo>>>13,Xo=l[3]|0,$o=Xo&8191,So=Xo>>>13,D=l[4]|0,X=D&8191,ao=D>>>13,wo=l[5]|0,zo=wo&8191,Lo=wo>>>13,Ho=l[6]|0,Uo=Ho&8191,Po=Ho>>>13,Ao=l[7]|0,Ko=Ao&8191,go=Ao>>>13,da=l[8]|0,L=da&8191,e=da>>>13,r=l[9]|0,f=r&8191,R=r>>>13,M=m[0]|0,O=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,oo=m[2]|0,H=oo&8191,G=oo>>>13,no=m[3]|0,Q=no&8191,ro=no>>>13,Zo=m[4]|0,A=Zo&8191,eo=Zo>>>13,so=m[5]|0,B=so&8191,lo=so>>>13,Ro=m[6]|0,po=Ro&8191,_o=Ro>>>13,Fo=m[7]|0,ho=Fo&8191,yo=Fo>>>13,jo=m[8]|0,To=jo&8191,qo=jo>>>13,Eo=m[9]|0,Wo=Eo&8191,Oo=Eo>>>13;c.negative=o.negative^n.negative,c.length=19,p=Math.imul(w,O),a=Math.imul(w,U),a=a+Math.imul(I,O)|0,b=Math.imul(I,U);var Go=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,p=Math.imul(ko,O),a=Math.imul(ko,U),a=a+Math.imul(xo,O)|0,b=Math.imul(xo,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,b=b+Math.imul(I,J)|0;var Io=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,p=Math.imul(co,O),a=Math.imul(co,U),a=a+Math.imul(fo,O)|0,b=Math.imul(fo,U),p=p+Math.imul(ko,j)|0,a=a+Math.imul(ko,J)|0,a=a+Math.imul(xo,j)|0,b=b+Math.imul(xo,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,b=b+Math.imul(I,G)|0;var Do=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,p=Math.imul($o,O),a=Math.imul($o,U),a=a+Math.imul(So,O)|0,b=Math.imul(So,U),p=p+Math.imul(co,j)|0,a=a+Math.imul(co,J)|0,a=a+Math.imul(fo,j)|0,b=b+Math.imul(fo,J)|0,p=p+Math.imul(ko,H)|0,a=a+Math.imul(ko,G)|0,a=a+Math.imul(xo,H)|0,b=b+Math.imul(xo,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,Q)|0,b=b+Math.imul(I,ro)|0;var Qo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,p=Math.imul(X,O),a=Math.imul(X,U),a=a+Math.imul(ao,O)|0,b=Math.imul(ao,U),p=p+Math.imul($o,j)|0,a=a+Math.imul($o,J)|0,a=a+Math.imul(So,j)|0,b=b+Math.imul(So,J)|0,p=p+Math.imul(co,H)|0,a=a+Math.imul(co,G)|0,a=a+Math.imul(fo,H)|0,b=b+Math.imul(fo,G)|0,p=p+Math.imul(ko,Q)|0,a=a+Math.imul(ko,ro)|0,a=a+Math.imul(xo,Q)|0,b=b+Math.imul(xo,ro)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,eo)|0,a=a+Math.imul(I,A)|0,b=b+Math.imul(I,eo)|0;var Bo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,p=Math.imul(zo,O),a=Math.imul(zo,U),a=a+Math.imul(Lo,O)|0,b=Math.imul(Lo,U),p=p+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(ao,j)|0,b=b+Math.imul(ao,J)|0,p=p+Math.imul($o,H)|0,a=a+Math.imul($o,G)|0,a=a+Math.imul(So,H)|0,b=b+Math.imul(So,G)|0,p=p+Math.imul(co,Q)|0,a=a+Math.imul(co,ro)|0,a=a+Math.imul(fo,Q)|0,b=b+Math.imul(fo,ro)|0,p=p+Math.imul(ko,A)|0,a=a+Math.imul(ko,eo)|0,a=a+Math.imul(xo,A)|0,b=b+Math.imul(xo,eo)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,B)|0,b=b+Math.imul(I,lo)|0;var oa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(Uo,O),a=Math.imul(Uo,U),a=a+Math.imul(Po,O)|0,b=Math.imul(Po,U),p=p+Math.imul(zo,j)|0,a=a+Math.imul(zo,J)|0,a=a+Math.imul(Lo,j)|0,b=b+Math.imul(Lo,J)|0,p=p+Math.imul(X,H)|0,a=a+Math.imul(X,G)|0,a=a+Math.imul(ao,H)|0,b=b+Math.imul(ao,G)|0,p=p+Math.imul($o,Q)|0,a=a+Math.imul($o,ro)|0,a=a+Math.imul(So,Q)|0,b=b+Math.imul(So,ro)|0,p=p+Math.imul(co,A)|0,a=a+Math.imul(co,eo)|0,a=a+Math.imul(fo,A)|0,b=b+Math.imul(fo,eo)|0,p=p+Math.imul(ko,B)|0,a=a+Math.imul(ko,lo)|0,a=a+Math.imul(xo,B)|0,b=b+Math.imul(xo,lo)|0,p=p+Math.imul(w,po)|0,a=a+Math.imul(w,_o)|0,a=a+Math.imul(I,po)|0,b=b+Math.imul(I,_o)|0;var Yo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,p=Math.imul(Ko,O),a=Math.imul(Ko,U),a=a+Math.imul(go,O)|0,b=Math.imul(go,U),p=p+Math.imul(Uo,j)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Po,j)|0,b=b+Math.imul(Po,J)|0,p=p+Math.imul(zo,H)|0,a=a+Math.imul(zo,G)|0,a=a+Math.imul(Lo,H)|0,b=b+Math.imul(Lo,G)|0,p=p+Math.imul(X,Q)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(ao,Q)|0,b=b+Math.imul(ao,ro)|0,p=p+Math.imul($o,A)|0,a=a+Math.imul($o,eo)|0,a=a+Math.imul(So,A)|0,b=b+Math.imul(So,eo)|0,p=p+Math.imul(co,B)|0,a=a+Math.imul(co,lo)|0,a=a+Math.imul(fo,B)|0,b=b+Math.imul(fo,lo)|0,p=p+Math.imul(ko,po)|0,a=a+Math.imul(ko,_o)|0,a=a+Math.imul(xo,po)|0,b=b+Math.imul(xo,_o)|0,p=p+Math.imul(w,ho)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,ho)|0,b=b+Math.imul(I,yo)|0;var aa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(L,O),a=Math.imul(L,U),a=a+Math.imul(e,O)|0,b=Math.imul(e,U),p=p+Math.imul(Ko,j)|0,a=a+Math.imul(Ko,J)|0,a=a+Math.imul(go,j)|0,b=b+Math.imul(go,J)|0,p=p+Math.imul(Uo,H)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Po,H)|0,b=b+Math.imul(Po,G)|0,p=p+Math.imul(zo,Q)|0,a=a+Math.imul(zo,ro)|0,a=a+Math.imul(Lo,Q)|0,b=b+Math.imul(Lo,ro)|0,p=p+Math.imul(X,A)|0,a=a+Math.imul(X,eo)|0,a=a+Math.imul(ao,A)|0,b=b+Math.imul(ao,eo)|0,p=p+Math.imul($o,B)|0,a=a+Math.imul($o,lo)|0,a=a+Math.imul(So,B)|0,b=b+Math.imul(So,lo)|0,p=p+Math.imul(co,po)|0,a=a+Math.imul(co,_o)|0,a=a+Math.imul(fo,po)|0,b=b+Math.imul(fo,_o)|0,p=p+Math.imul(ko,ho)|0,a=a+Math.imul(ko,yo)|0,a=a+Math.imul(xo,ho)|0,b=b+Math.imul(xo,yo)|0,p=p+Math.imul(w,To)|0,a=a+Math.imul(w,qo)|0,a=a+Math.imul(I,To)|0,b=b+Math.imul(I,qo)|0;var Co=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,p=Math.imul(f,O),a=Math.imul(f,U),a=a+Math.imul(R,O)|0,b=Math.imul(R,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(e,j)|0,b=b+Math.imul(e,J)|0,p=p+Math.imul(Ko,H)|0,a=a+Math.imul(Ko,G)|0,a=a+Math.imul(go,H)|0,b=b+Math.imul(go,G)|0,p=p+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Po,Q)|0,b=b+Math.imul(Po,ro)|0,p=p+Math.imul(zo,A)|0,a=a+Math.imul(zo,eo)|0,a=a+Math.imul(Lo,A)|0,b=b+Math.imul(Lo,eo)|0,p=p+Math.imul(X,B)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(ao,B)|0,b=b+Math.imul(ao,lo)|0,p=p+Math.imul($o,po)|0,a=a+Math.imul($o,_o)|0,a=a+Math.imul(So,po)|0,b=b+Math.imul(So,_o)|0,p=p+Math.imul(co,ho)|0,a=a+Math.imul(co,yo)|0,a=a+Math.imul(fo,ho)|0,b=b+Math.imul(fo,yo)|0,p=p+Math.imul(ko,To)|0,a=a+Math.imul(ko,qo)|0,a=a+Math.imul(xo,To)|0,b=b+Math.imul(xo,qo)|0,p=p+Math.imul(w,Wo)|0,a=a+Math.imul(w,Oo)|0,a=a+Math.imul(I,Wo)|0,b=b+Math.imul(I,Oo)|0;var ra=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(f,j),a=Math.imul(f,J),a=a+Math.imul(R,j)|0,b=Math.imul(R,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(e,H)|0,b=b+Math.imul(e,G)|0,p=p+Math.imul(Ko,Q)|0,a=a+Math.imul(Ko,ro)|0,a=a+Math.imul(go,Q)|0,b=b+Math.imul(go,ro)|0,p=p+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Po,A)|0,b=b+Math.imul(Po,eo)|0,p=p+Math.imul(zo,B)|0,a=a+Math.imul(zo,lo)|0,a=a+Math.imul(Lo,B)|0,b=b+Math.imul(Lo,lo)|0,p=p+Math.imul(X,po)|0,a=a+Math.imul(X,_o)|0,a=a+Math.imul(ao,po)|0,b=b+Math.imul(ao,_o)|0,p=p+Math.imul($o,ho)|0,a=a+Math.imul($o,yo)|0,a=a+Math.imul(So,ho)|0,b=b+Math.imul(So,yo)|0,p=p+Math.imul(co,To)|0,a=a+Math.imul(co,qo)|0,a=a+Math.imul(fo,To)|0,b=b+Math.imul(fo,qo)|0,p=p+Math.imul(ko,Wo)|0,a=a+Math.imul(ko,Oo)|0,a=a+Math.imul(xo,Wo)|0,b=b+Math.imul(xo,Oo)|0;var ea=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(f,H),a=Math.imul(f,G),a=a+Math.imul(R,H)|0,b=Math.imul(R,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,ro)|0,a=a+Math.imul(e,Q)|0,b=b+Math.imul(e,ro)|0,p=p+Math.imul(Ko,A)|0,a=a+Math.imul(Ko,eo)|0,a=a+Math.imul(go,A)|0,b=b+Math.imul(go,eo)|0,p=p+Math.imul(Uo,B)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Po,B)|0,b=b+Math.imul(Po,lo)|0,p=p+Math.imul(zo,po)|0,a=a+Math.imul(zo,_o)|0,a=a+Math.imul(Lo,po)|0,b=b+Math.imul(Lo,_o)|0,p=p+Math.imul(X,ho)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(ao,ho)|0,b=b+Math.imul(ao,yo)|0,p=p+Math.imul($o,To)|0,a=a+Math.imul($o,qo)|0,a=a+Math.imul(So,To)|0,b=b+Math.imul(So,qo)|0,p=p+Math.imul(co,Wo)|0,a=a+Math.imul(co,Oo)|0,a=a+Math.imul(fo,Wo)|0,b=b+Math.imul(fo,Oo)|0;var la=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(la>>>26)|0,la&=67108863,p=Math.imul(f,Q),a=Math.imul(f,ro),a=a+Math.imul(R,Q)|0,b=Math.imul(R,ro),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,eo)|0,a=a+Math.imul(e,A)|0,b=b+Math.imul(e,eo)|0,p=p+Math.imul(Ko,B)|0,a=a+Math.imul(Ko,lo)|0,a=a+Math.imul(go,B)|0,b=b+Math.imul(go,lo)|0,p=p+Math.imul(Uo,po)|0,a=a+Math.imul(Uo,_o)|0,a=a+Math.imul(Po,po)|0,b=b+Math.imul(Po,_o)|0,p=p+Math.imul(zo,ho)|0,a=a+Math.imul(zo,yo)|0,a=a+Math.imul(Lo,ho)|0,b=b+Math.imul(Lo,yo)|0,p=p+Math.imul(X,To)|0,a=a+Math.imul(X,qo)|0,a=a+Math.imul(ao,To)|0,b=b+Math.imul(ao,qo)|0,p=p+Math.imul($o,Wo)|0,a=a+Math.imul($o,Oo)|0,a=a+Math.imul(So,Wo)|0,b=b+Math.imul(So,Oo)|0;var sa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(f,A),a=Math.imul(f,eo),a=a+Math.imul(R,A)|0,b=Math.imul(R,eo),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,lo)|0,a=a+Math.imul(e,B)|0,b=b+Math.imul(e,lo)|0,p=p+Math.imul(Ko,po)|0,a=a+Math.imul(Ko,_o)|0,a=a+Math.imul(go,po)|0,b=b+Math.imul(go,_o)|0,p=p+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Po,ho)|0,b=b+Math.imul(Po,yo)|0,p=p+Math.imul(zo,To)|0,a=a+Math.imul(zo,qo)|0,a=a+Math.imul(Lo,To)|0,b=b+Math.imul(Lo,qo)|0,p=p+Math.imul(X,Wo)|0,a=a+Math.imul(X,Oo)|0,a=a+Math.imul(ao,Wo)|0,b=b+Math.imul(ao,Oo)|0;var na=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(f,B),a=Math.imul(f,lo),a=a+Math.imul(R,B)|0,b=Math.imul(R,lo),p=p+Math.imul(L,po)|0,a=a+Math.imul(L,_o)|0,a=a+Math.imul(e,po)|0,b=b+Math.imul(e,_o)|0,p=p+Math.imul(Ko,ho)|0,a=a+Math.imul(Ko,yo)|0,a=a+Math.imul(go,ho)|0,b=b+Math.imul(go,yo)|0,p=p+Math.imul(Uo,To)|0,a=a+Math.imul(Uo,qo)|0,a=a+Math.imul(Po,To)|0,b=b+Math.imul(Po,qo)|0,p=p+Math.imul(zo,Wo)|0,a=a+Math.imul(zo,Oo)|0,a=a+Math.imul(Lo,Wo)|0,b=b+Math.imul(Lo,Oo)|0;var ma=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(f,po),a=Math.imul(f,_o),a=a+Math.imul(R,po)|0,b=Math.imul(R,_o),p=p+Math.imul(L,ho)|0,a=a+Math.imul(L,yo)|0,a=a+Math.imul(e,ho)|0,b=b+Math.imul(e,yo)|0,p=p+Math.imul(Ko,To)|0,a=a+Math.imul(Ko,qo)|0,a=a+Math.imul(go,To)|0,b=b+Math.imul(go,qo)|0,p=p+Math.imul(Uo,Wo)|0,a=a+Math.imul(Uo,Oo)|0,a=a+Math.imul(Po,Wo)|0,b=b+Math.imul(Po,Oo)|0;var ba=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ba>>>26)|0,ba&=67108863,p=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(R,ho)|0,b=Math.imul(R,yo),p=p+Math.imul(L,To)|0,a=a+Math.imul(L,qo)|0,a=a+Math.imul(e,To)|0,b=b+Math.imul(e,qo)|0,p=p+Math.imul(Ko,Wo)|0,a=a+Math.imul(Ko,Oo)|0,a=a+Math.imul(go,Wo)|0,b=b+Math.imul(go,Oo)|0;var _a=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(f,To),a=Math.imul(f,qo),a=a+Math.imul(R,To)|0,b=Math.imul(R,qo),p=p+Math.imul(L,Wo)|0,a=a+Math.imul(L,Oo)|0,a=a+Math.imul(e,Wo)|0,b=b+Math.imul(e,Oo)|0;var ia=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(f,Wo),a=Math.imul(f,Oo),a=a+Math.imul(R,Wo)|0,b=Math.imul(R,Oo);var ca=(N+p|0)+((a&8191)<<13)|0;return N=(b+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,t[0]=Go,t[1]=Io,t[2]=Do,t[3]=Qo,t[4]=Bo,t[5]=oa,t[6]=Yo,t[7]=aa,t[8]=Co,t[9]=ra,t[10]=ea,t[11]=la,t[12]=sa,t[13]=na,t[14]=ma,t[15]=ba,t[16]=_a,t[17]=ia,t[18]=ca,N!==0&&(t[19]=N,c.length++),c};Math.imul||(F=q);function g(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var l=0,m=0,t=0;t<c.length-1;t++){var N=m;m=0;for(var p=l&67108863,a=Math.min(t,n.length-1),b=Math.max(0,t-o.length+1);b<=a;b++){var S=t-b,w=o.words[S]|0,I=n.words[b]|0,No=w*I,ko=No&67108863;N=N+(No/67108864|0)|0,ko=ko+p|0,p=ko&67108863,N=N+(ko>>>26)|0,m+=N>>>26,N&=67108863}c.words[t]=p,l=N,N=m}return l!==0?c.words[t]=l:c.length--,c.strip()}function E(o,n,c){var l=new z;return l.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,l=this.length+o.length;return this.length===10&&o.length===10?c=F(this,o,n):l<63?c=q(this,o,n):l<1024?c=g(this,o,n):c=E(this,o,n),c};function z(o,n){this.x=o,this.y=n}z.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,l=0;l<o;l++)n[l]=this.revBin(l,c,o);return n},z.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var l=0,m=0;m<n;m++)l|=(o&1)<<n-m-1,o>>=1;return l},z.prototype.permute=function(o,n,c,l,m,t){for(var N=0;N<t;N++)l[N]=n[o[N]],m[N]=c[o[N]]},z.prototype.transform=function(o,n,c,l,m,t){this.permute(t,o,n,c,l,m);for(var N=1;N<m;N<<=1)for(var p=N<<1,a=Math.cos(2*Math.PI/p),b=Math.sin(2*Math.PI/p),S=0;S<m;S+=p)for(var w=a,I=b,No=0;No<N;No++){var ko=c[S+No],xo=l[S+No],bo=c[S+No+N],co=l[S+No+N],fo=w*bo-I*co;co=w*co+I*bo,bo=fo,c[S+No]=ko+bo,l[S+No]=xo+co,c[S+No+N]=ko-bo,l[S+No+N]=xo-co,No!==p&&(fo=a*w-b*I,I=a*I+b*w,w=fo)}},z.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,l=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+l},z.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var l=0;l<c/2;l++){var m=o[l];o[l]=o[c-l-1],o[c-l-1]=m,m=n[l],n[l]=-n[c-l-1],n[c-l-1]=-m}},z.prototype.normalize13b=function(o,n){for(var c=0,l=0;l<n/2;l++){var m=Math.round(o[2*l+1]/n)*8192+Math.round(o[2*l]/n)+c;o[l]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},z.prototype.convert13b=function(o,n,c,l){for(var m=0,t=0;t<n;t++)m=m+(o[t]|0),c[2*t]=m&8191,m=m>>>13,c[2*t+1]=m&8191,m=m>>>13;for(t=2*n;t<l;++t)c[t]=0;_(m===0),_((m&-8192)===0)},z.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},z.prototype.mulp=function(o,n,c){var l=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(l),t=this.stub(l),N=new Array(l),p=new Array(l),a=new Array(l),b=new Array(l),S=new Array(l),w=new Array(l),I=c.words;I.length=l,this.convert13b(o.words,o.length,N,l),this.convert13b(n.words,n.length,b,l),this.transform(N,t,p,a,l,m),this.transform(b,t,S,w,l,m);for(var No=0;No<l;No++){var ko=p[No]*S[No]-a[No]*w[No];a[No]=p[No]*w[No]+a[No]*S[No],p[No]=ko}return this.conjugate(p,a,l),this.transform(p,a,I,t,l,m),this.conjugate(I,t,l),this.normalize13b(I,l),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),E(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){_(typeof o=="number"),_(o<67108864);for(var n=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*o,m=(l&67108863)+(n&67108863);n>>=26,n+=l/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=x(o);if(n.length===0)return new u(1);for(var c=this,l=0;l<n.length&&n[l]===0;l++,c=c.sqr());if(++l<n.length)for(var m=c.sqr();l<n.length;l++,m=m.sqr())n[l]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=67108863>>>26-n<<26-n,m;if(n!==0){var t=0;for(m=0;m<this.length;m++){var N=this.words[m]&l,p=(this.words[m]|0)-N<<n;this.words[m]=p|t,t=N>>>26-n}t&&(this.words[m]=t,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return _(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){_(typeof o=="number"&&o>=0);var l;n?l=(n-n%26)/26:l=0;var m=o%26,t=Math.min((o-m)/26,this.length),N=67108863^67108863>>>m<<m,p=c;if(l-=t,l=Math.max(0,l),p){for(var a=0;a<t;a++)p.words[a]=this.words[a];p.length=t}if(t!==0)if(this.length>t)for(this.length-=t,a=0;a<this.length;a++)this.words[a]=this.words[a+t];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=l);a--){var S=this.words[a]|0;this.words[a]=b<<26-m|S>>>m,b=S&N}return p&&b!==0&&(p.words[p.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return _(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&l)},u.prototype.imaskn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var l=67108863^67108863>>>n<<n;this.words[this.length-1]&=l}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return _(typeof o=="number"),_(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(_(typeof o=="number"),_(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var l=o.length+c,m;this._expand(l);var t,N=0;for(m=0;m<o.length;m++){t=(this.words[m+c]|0)+N;var p=(o.words[m]|0)*n;t-=p&67108863,N=(t>>26)-(p/67108864|0),this.words[m+c]=t&67108863}for(;m<this.length-c;m++)t=(this.words[m+c]|0)+N,N=t>>26,this.words[m+c]=t&67108863;if(N===0)return this.strip();for(_(N===-1),N=0,m=0;m<this.length;m++)t=-(this.words[m]|0)+N,N=t>>26,this.words[m]=t&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,l=this.clone(),m=o,t=m.words[m.length-1]|0,N=this._countBits(t);c=26-N,c!==0&&(m=m.ushln(c),l.iushln(c),t=m.words[m.length-1]|0);var p=l.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=p+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var S=l.clone()._ishlnsubmul(m,1,p);S.negative===0&&(l=S,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(l.words[m.length+w]|0)*67108864+(l.words[m.length+w-1]|0);for(I=Math.min(I/t|0,67108863),l._ishlnsubmul(m,I,w);l.negative!==0;)I--,l.negative=0,l._ishlnsubmul(m,1,w),l.isZero()||(l.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),l.strip(),n!=="div"&&c!==0&&l.iushrn(c),{div:a||null,mod:l}},u.prototype.divmod=function(o,n,c){if(_(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var l,m,t;return this.negative!==0&&o.negative===0?(t=this.neg().divmod(o,n),n!=="mod"&&(l=t.div.neg()),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:l,mod:m}):this.negative===0&&o.negative!==0?(t=this.divmod(o.neg(),n),n!=="mod"&&(l=t.div.neg()),{div:l,mod:t.mod}):(this.negative&o.negative)!==0?(t=this.neg().divmod(o.neg(),n),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:t.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,l=o.ushrn(1),m=o.andln(1),t=c.cmp(l);return t<0||m===1&&t===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){_(o<=67108863);for(var n=67108864%o,c=0,l=this.length-1;l>=0;l--)c=(n*c+(this.words[l]|0))%o;return c},u.prototype.idivn=function(o){_(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+n*67108864;this.words[c]=l/o|0,n=l%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=new u(0),N=new u(1),p=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++p;for(var a=c.clone(),b=n.clone();!n.isZero();){for(var S=0,w=1;(n.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(l.isOdd()||m.isOdd())&&(l.iadd(a),m.isub(b)),l.iushrn(1),m.iushrn(1);for(var I=0,No=1;(c.words[0]&No)===0&&I<26;++I,No<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(t.isOdd()||N.isOdd())&&(t.iadd(a),N.isub(b)),t.iushrn(1),N.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(t),m.isub(N)):(c.isub(n),t.isub(l),N.isub(m))}return{a:t,b:N,gcd:c.iushln(p)}},u.prototype._invmp=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,p=1;(n.words[0]&p)===0&&N<26;++N,p<<=1);if(N>0)for(n.iushrn(N);N-- >0;)l.isOdd()&&l.iadd(t),l.iushrn(1);for(var a=0,b=1;(c.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(t),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(m)):(c.isub(n),m.isub(l))}var S;return n.cmpn(1)===0?S=l:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var l=0;n.isEven()&&c.isEven();l++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var t=n;n=c,c=t}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(l)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){_(typeof o=="number");var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var m=l,t=c;m!==0&&t<this.length;t++){var N=this.words[t]|0;N+=m,m=N>>>26,N&=67108863,this.words[t]=N}return m!==0&&(this.words[t]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),_(o<=67108863,"Number is too big");var l=this.words[0]|0;c=l===o?0:l<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,m=o.words[c]|0;if(l!==m){l<m?n=-1:l>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new uo(o)},u.prototype.toRed=function(o){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return _(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return _(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var l=c<this.n?-1:n.ucmp(this.p);return l===0?(n.words[0]=0,n.length=1):l>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},Y.prototype.split=function(o,n){o.iushrn(this.n,0,n)},Y.prototype.imulK=function(o){return o.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(o,n){for(var c=4194303,l=Math.min(o.length,9),m=0;m<l;m++)n.words[m]=o.words[m];if(n.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var t=o.words[9];for(n.words[n.length++]=t&c,m=10;m<o.length;m++){var N=o.words[m]|0;o.words[m-10]=(N&c)<<4|t>>>22,t=N}t>>>=22,o.words[m-10]=t,t===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var l=o.words[c]|0;n+=l*977,o.words[c]=n&67108863,n=l*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function mo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(mo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(to,Y);function Mo(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(Mo,Y),Mo.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var l=(o.words[c]|0)*19+n,m=l&67108863;l>>>=26,o.words[c]=m,n=l}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(K[o])return K[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new mo;else if(o==="p192")n=new to;else if(o==="p25519")n=new Mo;else throw new Error("Unknown prime "+o);return K[o]=n,n};function uo(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else _(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}uo.prototype._verify1=function(o){_(o.negative===0,"red works only with positives"),_(o.red,"red works only with red numbers")},uo.prototype._verify2=function(o,n){_((o.negative|n.negative)===0,"red works only with positives"),_(o.red&&o.red===n.red,"red works only with red numbers")},uo.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},uo.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},uo.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},uo.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},uo.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},uo.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},uo.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},uo.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},uo.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},uo.prototype.isqr=function(o){return this.imul(o,o.clone())},uo.prototype.sqr=function(o){return this.mul(o,o)},uo.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(_(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var l=this.m.subn(1),m=0;!l.isZero()&&l.andln(1)===0;)m++,l.iushrn(1);_(!l.isZero());var t=new u(1).toRed(this),N=t.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,p).cmp(N)!==0;)a.redIAdd(N);for(var b=this.pow(a,l),S=this.pow(o,l.addn(1).iushrn(1)),w=this.pow(o,l),I=m;w.cmp(t)!==0;){for(var No=w,ko=0;No.cmp(t)!==0;ko++)No=No.redSqr();_(ko<I);var xo=this.pow(b,new u(1).iushln(I-ko-1));S=S.redMul(xo),b=xo.redSqr(),w=w.redMul(b),I=ko}return S},uo.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},uo.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,l=new Array(1<<c);l[0]=new u(1).toRed(this),l[1]=o;for(var m=2;m<l.length;m++)l[m]=this.mul(l[m-1],o);var t=l[0],N=0,p=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var b=n.words[m],S=a-1;S>=0;S--){var w=b>>S&1;if(t!==l[0]&&(t=this.sqr(t)),w===0&&N===0){p=0;continue}N<<=1,N|=w,p++,!(p!==c&&(m!==0||S!==0))&&(t=this.mul(t,l[N]),p=0,N=0)}a=26}return t},uo.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},uo.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Vo(o)};function Vo(o){uo.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Vo,uo),Vo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Vo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Vo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof d>"u"||d,s)}),ls=Jo((s,d)=>{var i=wa(),h=i.Buffer,_={},T;for(T in i)!i.hasOwnProperty(T)||T==="SlowBuffer"||T==="Buffer"||(_[T]=i[T]);var u=_.Buffer={};for(T in h)!h.hasOwnProperty(T)||T==="allocUnsafe"||T==="allocUnsafeSlow"||(u[T]=h[T]);if(_.Buffer.prototype=h.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(v,W,y){if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof v);if(v&&typeof v.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);return h(v,W,y)}),u.alloc||(u.alloc=function(v,W,y){if(typeof v!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof v);if(v<0||v>=2147483648)throw new RangeError('The value "'+v+'" is invalid for option "size"');var k=h(v);return!W||W.length===0?k.fill(0):typeof y=="string"?k.fill(W,y):k.fill(W),k}),!_.kStringMaxLength)try{_.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}_.constants||(_.constants={MAX_LENGTH:_.kMaxLength},_.kStringMaxLength&&(_.constants.MAX_STRING_LENGTH=_.kStringMaxLength)),d.exports=_}),ss=Jo((s)=>{var d=pa();function i(_){this._reporterState={obj:null,path:[],options:_||{},errors:[]}}s.Reporter=i,i.prototype.isError=function(_){return _ instanceof h},i.prototype.save=function(){let _=this._reporterState;return{obj:_.obj,pathLen:_.path.length}},i.prototype.restore=function(_){let T=this._reporterState;T.obj=_.obj,T.path=T.path.slice(0,_.pathLen)},i.prototype.enterKey=function(_){return this._reporterState.path.push(_)},i.prototype.exitKey=function(_){let T=this._reporterState;T.path=T.path.slice(0,_-1)},i.prototype.leaveKey=function(_,T,u){let v=this._reporterState;this.exitKey(_),v.obj!==null&&(v.obj[T]=u)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){let _=this._reporterState,T=_.obj;return _.obj={},T},i.prototype.leaveObject=function(_){let T=this._reporterState,u=T.obj;return T.obj=_,u},i.prototype.error=function(_){let T,u=this._reporterState,v=_ instanceof h;if(v?T=_:T=new h(u.path.map(function(W){return"["+JSON.stringify(W)+"]"}).join(""),_.message||_,_.stack),!u.options.partial)throw T;return v||u.errors.push(T),T},i.prototype.wrapResult=function(_){let T=this._reporterState;return T.options.partial?{result:this.isError(_)?null:_,errors:T.errors}:_};function h(_,T){this.path=_,this.rethrow(T)}d(h,Error),h.prototype.rethrow=function(_){if(this.message=_+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,h),!this.stack)try{throw new Error(this.message)}catch(T){this.stack=T.stack}return this}}),hn=Jo((s)=>{var d=pa(),i=ss().Reporter,h=ls().Buffer;function _(u,v){if(i.call(this,v),!h.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}d(_,i),s.DecoderBuffer=_,_.isDecoderBuffer=function(u){return u instanceof _?!0:typeof u=="object"&&h.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},_.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},_.prototype.restore=function(u){let v=new _(this.base);return v.offset=u.offset,v.length=this.offset,this.offset=u.offset,i.prototype.restore.call(this,u.reporter),v},_.prototype.isEmpty=function(){return this.offset===this.length},_.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},_.prototype.skip=function(u,v){if(!(this.offset+u<=this.length))return this.error(v||"DecoderBuffer overrun");let W=new _(this.base);return W._reporterState=this._reporterState,W.offset=this.offset,W.length=this.offset+u,this.offset+=u,W},_.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)};function T(u,v){if(Array.isArray(u))this.length=0,this.value=u.map(function(W){return T.isEncoderBuffer(W)||(W=new T(W,v)),this.length+=W.length,W},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return v.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=h.byteLength(u);else if(h.isBuffer(u))this.value=u,this.length=u.length;else return v.error("Unsupported type: "+typeof u)}s.EncoderBuffer=T,T.isEncoderBuffer=function(u){return u instanceof T?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},T.prototype.join=function(u,v){return u||(u=h.alloc(this.length)),v||(v=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(W){W.join(u,v),v+=W.length}):(typeof this.value=="number"?u[v]=this.value:typeof this.value=="string"?u.write(this.value,v):h.isBuffer(this.value)&&this.value.copy(u,v),v+=this.length)),u}}),rs=Jo((s,d)=>{var i=ss().Reporter,h=hn().EncoderBuffer,_=hn().DecoderBuffer,T=Ka(),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],v=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),W=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function y(Z,$,V){let x={};this._baseState=x,x.name=V,x.enc=Z,x.parent=$||null,x.children=null,x.tag=null,x.args=null,x.reverseArgs=null,x.choice=null,x.optional=!1,x.any=!1,x.obj=!1,x.use=null,x.useDecoder=null,x.key=null,x.default=null,x.explicit=null,x.implicit=null,x.contains=null,x.parent||(x.children=[],this._wrap())}d.exports=y;var k=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];y.prototype.clone=function(){let Z=this._baseState,$={};k.forEach(function(x){$[x]=Z[x]});let V=new this.constructor($.parent);return V._baseState=$,V},y.prototype._wrap=function(){let Z=this._baseState;v.forEach(function($){this[$]=function(){let V=new this.constructor(this);return Z.children.push(V),V[$].apply(V,arguments)}},this)},y.prototype._init=function(Z){let $=this._baseState;T($.parent===null),Z.call(this),$.children=$.children.filter(function(V){return V._baseState.parent===this},this),T.equal($.children.length,1,"Root node can have only one child")},y.prototype._useArgs=function(Z){let $=this._baseState,V=Z.filter(function(x){return x instanceof this.constructor},this);Z=Z.filter(function(x){return!(x instanceof this.constructor)},this),V.length!==0&&(T($.children===null),$.children=V,V.forEach(function(x){x._baseState.parent=this},this)),Z.length!==0&&(T($.args===null),$.args=Z,$.reverseArgs=Z.map(function(x){if(typeof x!="object"||x.constructor!==Object)return x;let q={};return Object.keys(x).forEach(function(F){F==(F|0)&&(F|=0);let g=x[F];q[g]=F}),q}))},W.forEach(function(Z){y.prototype[Z]=function(){let $=this._baseState;throw new Error(Z+" not implemented for encoding: "+$.enc)}}),u.forEach(function(Z){y.prototype[Z]=function(){let $=this._baseState,V=Array.prototype.slice.call(arguments);return T($.tag===null),$.tag=Z,this._useArgs(V),this}}),y.prototype.use=function(Z){T(Z);let $=this._baseState;return T($.use===null),$.use=Z,this},y.prototype.optional=function(){let Z=this._baseState;return Z.optional=!0,this},y.prototype.def=function(Z){let $=this._baseState;return T($.default===null),$.default=Z,$.optional=!0,this},y.prototype.explicit=function(Z){let $=this._baseState;return T($.explicit===null&&$.implicit===null),$.explicit=Z,this},y.prototype.implicit=function(Z){let $=this._baseState;return T($.explicit===null&&$.implicit===null),$.implicit=Z,this},y.prototype.obj=function(){let Z=this._baseState,$=Array.prototype.slice.call(arguments);return Z.obj=!0,$.length!==0&&this._useArgs($),this},y.prototype.key=function(Z){let $=this._baseState;return T($.key===null),$.key=Z,this},y.prototype.any=function(){let Z=this._baseState;return Z.any=!0,this},y.prototype.choice=function(Z){let $=this._baseState;return T($.choice===null),$.choice=Z,this._useArgs(Object.keys(Z).map(function(V){return Z[V]})),this},y.prototype.contains=function(Z){let $=this._baseState;return T($.use===null),$.contains=Z,this},y.prototype._decode=function(Z,$){let V=this._baseState;if(V.parent===null)return Z.wrapResult(V.children[0]._decode(Z,$));let x=V.default,q=!0,F=null;if(V.key!==null&&(F=Z.enterKey(V.key)),V.optional){let E=null;if(V.explicit!==null?E=V.explicit:V.implicit!==null?E=V.implicit:V.tag!==null&&(E=V.tag),E===null&&!V.any){let z=Z.save();try{V.choice===null?this._decodeGeneric(V.tag,Z,$):this._decodeChoice(Z,$),q=!0}catch{q=!1}Z.restore(z)}else if(q=this._peekTag(Z,E,V.any),Z.isError(q))return q}let g;if(V.obj&&q&&(g=Z.enterObject()),q){if(V.explicit!==null){let z=this._decodeTag(Z,V.explicit);if(Z.isError(z))return z;Z=z}let E=Z.offset;if(V.use===null&&V.choice===null){let z;V.any&&(z=Z.save());let K=this._decodeTag(Z,V.implicit!==null?V.implicit:V.tag,V.any);if(Z.isError(K))return K;V.any?x=Z.raw(z):Z=K}if($&&$.track&&V.tag!==null&&$.track(Z.path(),E,Z.length,"tagged"),$&&$.track&&V.tag!==null&&$.track(Z.path(),Z.offset,Z.length,"content"),V.any||(V.choice===null?x=this._decodeGeneric(V.tag,Z,$):x=this._decodeChoice(Z,$)),Z.isError(x))return x;if(!V.any&&V.choice===null&&V.children!==null&&V.children.forEach(function(z){z._decode(Z,$)}),V.contains&&(V.tag==="octstr"||V.tag==="bitstr")){let z=new _(x);x=this._getUse(V.contains,Z._reporterState.obj)._decode(z,$)}}return V.obj&&q&&(x=Z.leaveObject(g)),V.key!==null&&(x!==null||q===!0)?Z.leaveKey(F,V.key,x):F!==null&&Z.exitKey(F),x},y.prototype._decodeGeneric=function(Z,$,V){let x=this._baseState;return Z==="seq"||Z==="set"?null:Z==="seqof"||Z==="setof"?this._decodeList($,Z,x.args[0],V):/str$/.test(Z)?this._decodeStr($,Z,V):Z==="objid"&&x.args?this._decodeObjid($,x.args[0],x.args[1],V):Z==="objid"?this._decodeObjid($,null,null,V):Z==="gentime"||Z==="utctime"?this._decodeTime($,Z,V):Z==="null_"?this._decodeNull($,V):Z==="bool"?this._decodeBool($,V):Z==="objDesc"?this._decodeStr($,Z,V):Z==="int"||Z==="enum"?this._decodeInt($,x.args&&x.args[0],V):x.use!==null?this._getUse(x.use,$._reporterState.obj)._decode($,V):$.error("unknown tag: "+Z)},y.prototype._getUse=function(Z,$){let V=this._baseState;return V.useDecoder=this._use(Z,$),T(V.useDecoder._baseState.parent===null),V.useDecoder=V.useDecoder._baseState.children[0],V.implicit!==V.useDecoder._baseState.implicit&&(V.useDecoder=V.useDecoder.clone(),V.useDecoder._baseState.implicit=V.implicit),V.useDecoder},y.prototype._decodeChoice=function(Z,$){let V=this._baseState,x=null,q=!1;return Object.keys(V.choice).some(function(F){let g=Z.save(),E=V.choice[F];try{let z=E._decode(Z,$);if(Z.isError(z))return!1;x={type:F,value:z},q=!0}catch{return Z.restore(g),!1}return!0},this),q?x:Z.error("Choice not matched")},y.prototype._createEncoderBuffer=function(Z){return new h(Z,this.reporter)},y.prototype._encode=function(Z,$,V){let x=this._baseState;if(x.default!==null&&x.default===Z)return;let q=this._encodeValue(Z,$,V);if(q!==void 0&&!this._skipDefault(q,$,V))return q},y.prototype._encodeValue=function(Z,$,V){let x=this._baseState;if(x.parent===null)return x.children[0]._encode(Z,$||new i);let q=null;if(this.reporter=$,x.optional&&Z===void 0)if(x.default!==null)Z=x.default;else return;let F=null,g=!1;if(x.any)q=this._createEncoderBuffer(Z);else if(x.choice)q=this._encodeChoice(Z,$);else if(x.contains)F=this._getUse(x.contains,V)._encode(Z,$),g=!0;else if(x.children)F=x.children.map(function(E){if(E._baseState.tag==="null_")return E._encode(null,$,Z);if(E._baseState.key===null)return $.error("Child should have a key");let z=$.enterKey(E._baseState.key);if(typeof Z!="object")return $.error("Child expected, but input is not object");let K=E._encode(Z[E._baseState.key],$,Z);return $.leaveKey(z),K},this).filter(function(E){return E}),F=this._createEncoderBuffer(F);else if(x.tag==="seqof"||x.tag==="setof"){if(!(x.args&&x.args.length===1))return $.error("Too many args for : "+x.tag);if(!Array.isArray(Z))return $.error("seqof/setof, but data is not Array");let E=this.clone();E._baseState.implicit=null,F=this._createEncoderBuffer(Z.map(function(z){let K=this._baseState;return this._getUse(K.args[0],Z)._encode(z,$)},E))}else x.use!==null?q=this._getUse(x.use,V)._encode(Z,$):(F=this._encodePrimitive(x.tag,Z),g=!0);if(!x.any&&x.choice===null){let E=x.implicit!==null?x.implicit:x.tag,z=x.implicit===null?"universal":"context";E===null?x.use===null&&$.error("Tag could be omitted only for .use()"):x.use===null&&(q=this._encodeComposite(E,g,z,F))}return x.explicit!==null&&(q=this._encodeComposite(x.explicit,!1,"context",q)),q},y.prototype._encodeChoice=function(Z,$){let V=this._baseState,x=V.choice[Z.type];return x||T(!1,Z.type+" not found in "+JSON.stringify(Object.keys(V.choice))),x._encode(Z.value,$)},y.prototype._encodePrimitive=function(Z,$){let V=this._baseState;if(/str$/.test(Z))return this._encodeStr($,Z);if(Z==="objid"&&V.args)return this._encodeObjid($,V.reverseArgs[0],V.args[1]);if(Z==="objid")return this._encodeObjid($,null,null);if(Z==="gentime"||Z==="utctime")return this._encodeTime($,Z);if(Z==="null_")return this._encodeNull();if(Z==="int"||Z==="enum")return this._encodeInt($,V.args&&V.reverseArgs[0]);if(Z==="bool")return this._encodeBool($);if(Z==="objDesc")return this._encodeStr($,Z);throw new Error("Unsupported tag: "+Z)},y.prototype._isNumstr=function(Z){return/^[0-9 ]*$/.test(Z)},y.prototype._isPrintstr=function(Z){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(Z)}}),cs=Jo((s)=>{function d(i){let h={};return Object.keys(i).forEach(function(_){(_|0)==_&&(_=_|0);let T=i[_];h[T]=_}),h}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=d(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=d(s.tag)}),Wr=Jo((s,d)=>{var i=pa(),h=ls().Buffer,_=rs(),T=cs();function u(k){this.enc="der",this.name=k.name,this.entity=k,this.tree=new v,this.tree._init(k.body)}d.exports=u,u.prototype.encode=function(k,Z){return this.tree._encode(k,Z).join()};function v(k){_.call(this,"der",k)}i(v,_),v.prototype._encodeComposite=function(k,Z,$,V){let x=y(k,Z,$,this.reporter);if(V.length<128){let g=h.alloc(2);return g[0]=x,g[1]=V.length,this._createEncoderBuffer([g,V])}let q=1;for(let g=V.length;g>=256;g>>=8)q++;let F=h.alloc(2+q);F[0]=x,F[1]=128|q;for(let g=1+q,E=V.length;E>0;g--,E>>=8)F[g]=E&255;return this._createEncoderBuffer([F,V])},v.prototype._encodeStr=function(k,Z){if(Z==="bitstr")return this._createEncoderBuffer([k.unused|0,k.data]);if(Z==="bmpstr"){let $=h.alloc(k.length*2);for(let V=0;V<k.length;V++)$.writeUInt16BE(k.charCodeAt(V),V*2);return this._createEncoderBuffer($)}else return Z==="numstr"?this._isNumstr(k)?this._createEncoderBuffer(k):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Z==="printstr"?this._isPrintstr(k)?this._createEncoderBuffer(k):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Z)?this._createEncoderBuffer(k):Z==="objDesc"?this._createEncoderBuffer(k):this.reporter.error("Encoding of string type: "+Z+" unsupported")},v.prototype._encodeObjid=function(k,Z,$){if(typeof k=="string"){if(!Z)return this.reporter.error("string objid given, but no values map found");if(!Z.hasOwnProperty(k))return this.reporter.error("objid not found in values map");k=Z[k].split(/[\s.]+/g);for(let F=0;F<k.length;F++)k[F]|=0}else if(Array.isArray(k)){k=k.slice();for(let F=0;F<k.length;F++)k[F]|=0}if(!Array.isArray(k))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(k));if(!$){if(k[1]>=40)return this.reporter.error("Second objid identifier OOB");k.splice(0,2,k[0]*40+k[1])}let V=0;for(let F=0;F<k.length;F++){let g=k[F];for(V++;g>=128;g>>=7)V++}let x=h.alloc(V),q=x.length-1;for(let F=k.length-1;F>=0;F--){let g=k[F];for(x[q--]=g&127;(g>>=7)>0;)x[q--]=128|g&127}return this._createEncoderBuffer(x)};function W(k){return k<10?"0"+k:k}v.prototype._encodeTime=function(k,Z){let $,V=new Date(k);return Z==="gentime"?$=[W(V.getUTCFullYear()),W(V.getUTCMonth()+1),W(V.getUTCDate()),W(V.getUTCHours()),W(V.getUTCMinutes()),W(V.getUTCSeconds()),"Z"].join(""):Z==="utctime"?$=[W(V.getUTCFullYear()%100),W(V.getUTCMonth()+1),W(V.getUTCDate()),W(V.getUTCHours()),W(V.getUTCMinutes()),W(V.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Z+" time is not supported yet"),this._encodeStr($,"octstr")},v.prototype._encodeNull=function(){return this._createEncoderBuffer("")},v.prototype._encodeInt=function(k,Z){if(typeof k=="string"){if(!Z)return this.reporter.error("String int or enum given, but no values map");if(!Z.hasOwnProperty(k))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(k));k=Z[k]}if(typeof k!="number"&&!h.isBuffer(k)){let x=k.toArray();!k.sign&&x[0]&128&&x.unshift(0),k=h.from(x)}if(h.isBuffer(k)){let x=k.length;k.length===0&&x++;let q=h.alloc(x);return k.copy(q),k.length===0&&(q[0]=0),this._createEncoderBuffer(q)}if(k<128)return this._createEncoderBuffer(k);if(k<256)return this._createEncoderBuffer([0,k]);let $=1;for(let x=k;x>=256;x>>=8)$++;let V=new Array($);for(let x=V.length-1;x>=0;x--)V[x]=k&255,k>>=8;return V[0]&128&&V.unshift(0),this._createEncoderBuffer(h.from(V))},v.prototype._encodeBool=function(k){return this._createEncoderBuffer(k?255:0)},v.prototype._use=function(k,Z){return typeof k=="function"&&(k=k(Z)),k._getEncoder("der").tree},v.prototype._skipDefault=function(k,Z,$){let V=this._baseState,x;if(V.default===null)return!1;let q=k.join();if(V.defaultBuffer===void 0&&(V.defaultBuffer=this._encodeValue(V.default,Z,$).join()),q.length!==V.defaultBuffer.length)return!1;for(x=0;x<q.length;x++)if(q[x]!==V.defaultBuffer[x])return!1;return!0};function y(k,Z,$,V){let x;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),T.tagByName.hasOwnProperty(k))x=T.tagByName[k];else if(typeof k=="number"&&(k|0)===k)x=k;else return V.error("Unknown tag: "+k);return x>=31?V.error("Multi-octet tag encoding unsupported"):(Z||(x|=32),x|=T.tagClassByName[$||"universal"]<<6,x)}}),d0=Jo((s,d)=>{var i=pa(),h=Wr();function _(T){h.call(this,T),this.enc="pem"}i(_,h),d.exports=_,_.prototype.encode=function(T,u){let v=h.prototype.encode.call(this,T).toString("base64"),W=["-----BEGIN "+u.label+"-----"];for(let y=0;y<v.length;y+=64)W.push(v.slice(y,y+64));return W.push("-----END "+u.label+"-----"),W.join(`
`)}}),wr=Jo((s)=>{var d=s;d.der=Wr(),d.pem=d0()}),Or=Jo((s,d)=>{var i=pa(),h=Lr(),_=hn().DecoderBuffer,T=rs(),u=cs();function v(Z){this.enc="der",this.name=Z.name,this.entity=Z,this.tree=new W,this.tree._init(Z.body)}d.exports=v,v.prototype.decode=function(Z,$){return _.isDecoderBuffer(Z)||(Z=new _(Z,$)),this.tree._decode(Z,$)};function W(Z){T.call(this,"der",Z)}i(W,T),W.prototype._peekTag=function(Z,$,V){if(Z.isEmpty())return!1;let x=Z.save(),q=y(Z,'Failed to peek tag: "'+$+'"');return Z.isError(q)?q:(Z.restore(x),q.tag===$||q.tagStr===$||q.tagStr+"of"===$||V)},W.prototype._decodeTag=function(Z,$,V){let x=y(Z,'Failed to decode tag of "'+$+'"');if(Z.isError(x))return x;let q=k(Z,x.primitive,'Failed to get length of "'+$+'"');if(Z.isError(q))return q;if(!V&&x.tag!==$&&x.tagStr!==$&&x.tagStr+"of"!==$)return Z.error('Failed to match tag: "'+$+'"');if(x.primitive||q!==null)return Z.skip(q,'Failed to match body of: "'+$+'"');let F=Z.save(),g=this._skipUntilEnd(Z,'Failed to skip indefinite length body: "'+this.tag+'"');return Z.isError(g)?g:(q=Z.offset-F.offset,Z.restore(F),Z.skip(q,'Failed to match body of: "'+$+'"'))},W.prototype._skipUntilEnd=function(Z,$){for(;;){let V=y(Z,$);if(Z.isError(V))return V;let x=k(Z,V.primitive,$);if(Z.isError(x))return x;let q;if(V.primitive||x!==null?q=Z.skip(x):q=this._skipUntilEnd(Z,$),Z.isError(q))return q;if(V.tagStr==="end")break}},W.prototype._decodeList=function(Z,$,V,x){let q=[];for(;!Z.isEmpty();){let F=this._peekTag(Z,"end");if(Z.isError(F))return F;let g=V.decode(Z,"der",x);if(Z.isError(g)&&F)break;q.push(g)}return q},W.prototype._decodeStr=function(Z,$){if($==="bitstr"){let V=Z.readUInt8();return Z.isError(V)?V:{unused:V,data:Z.raw()}}else if($==="bmpstr"){let V=Z.raw();if(V.length%2===1)return Z.error("Decoding of string type: bmpstr length mismatch");let x="";for(let q=0;q<V.length/2;q++)x+=String.fromCharCode(V.readUInt16BE(q*2));return x}else if($==="numstr"){let V=Z.raw().toString("ascii");return this._isNumstr(V)?V:Z.error("Decoding of string type: numstr unsupported characters")}else{if($==="octstr")return Z.raw();if($==="objDesc")return Z.raw();if($==="printstr"){let V=Z.raw().toString("ascii");return this._isPrintstr(V)?V:Z.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test($)?Z.raw().toString():Z.error("Decoding of string type: "+$+" unsupported")}},W.prototype._decodeObjid=function(Z,$,V){let x,q=[],F=0,g=0;for(;!Z.isEmpty();)g=Z.readUInt8(),F<<=7,F|=g&127,(g&128)===0&&(q.push(F),F=0);g&128&&q.push(F);let E=q[0]/40|0,z=q[0]%40;if(V?x=q:x=[E,z].concat(q.slice(1)),$){let K=$[x.join(" ")];K===void 0&&(K=$[x.join(".")]),K!==void 0&&(x=K)}return x},W.prototype._decodeTime=function(Z,$){let V=Z.raw().toString(),x,q,F,g,E,z;if($==="gentime")x=V.slice(0,4)|0,q=V.slice(4,6)|0,F=V.slice(6,8)|0,g=V.slice(8,10)|0,E=V.slice(10,12)|0,z=V.slice(12,14)|0;else if($==="utctime")x=V.slice(0,2)|0,q=V.slice(2,4)|0,F=V.slice(4,6)|0,g=V.slice(6,8)|0,E=V.slice(8,10)|0,z=V.slice(10,12)|0,x<70?x=2000+x:x=1900+x;else return Z.error("Decoding "+$+" time is not supported yet");return Date.UTC(x,q-1,F,g,E,z,0)},W.prototype._decodeNull=function(){return null},W.prototype._decodeBool=function(Z){let $=Z.readUInt8();return Z.isError($)?$:$!==0},W.prototype._decodeInt=function(Z,$){let V=Z.raw(),x=new h(V);return $&&(x=$[x.toString(10)]||x),x},W.prototype._use=function(Z,$){return typeof Z=="function"&&(Z=Z($)),Z._getDecoder("der").tree};function y(Z,$){let V=Z.readUInt8($);if(Z.isError(V))return V;let x=u.tagClass[V>>6],q=(V&32)===0;if((V&31)===31){let g=V;for(V=0;(g&128)===128;){if(g=Z.readUInt8($),Z.isError(g))return g;V<<=7,V|=g&127}}else V&=31;let F=u.tag[V];return{cls:x,primitive:q,tag:V,tagStr:F}}function k(Z,$,V){let x=Z.readUInt8(V);if(Z.isError(x))return x;if(!$&&x===128)return null;if((x&128)===0)return x;let q=x&127;if(q>4)return Z.error("length octect is too long");x=0;for(let F=0;F<q;F++){x<<=8;let g=Z.readUInt8(V);if(Z.isError(g))return g;x|=g}return x}}),f0=Jo((s,d)=>{var i=pa(),h=ls().Buffer,_=Or();function T(u){_.call(this,u),this.enc="pem"}i(T,_),d.exports=T,T.prototype.decode=function(u,v){let W=u.toString().split(/[\r\n]+/g),y=v.label.toUpperCase(),k=/^-----(BEGIN|END) ([^-]+)-----$/,Z=-1,$=-1;for(let q=0;q<W.length;q++){let F=W[q].match(k);if(F!==null&&F[2]===y)if(Z===-1){if(F[1]!=="BEGIN")break;Z=q}else{if(F[1]!=="END")break;$=q;break}}if(Z===-1||$===-1)throw new Error("PEM section not found for: "+y);let V=W.slice(Z+1,$).join("");V.replace(/[^a-z0-9+/=]+/gi,"");let x=h.from(V,"base64");return _.prototype.decode.call(this,x,v)}}),Fr=Jo((s)=>{var d=s;d.der=Or(),d.pem=f0()}),_0=Jo((s)=>{var d=wr(),i=Fr(),h=pa(),_=s;_.define=function(u,v){return new T(u,v)};function T(u,v){this.name=u,this.body=v,this.decoders={},this.encoders={}}T.prototype._createNamed=function(u){let v=this.name;function W(y){this._initNamed(y,v)}return h(W,u),W.prototype._initNamed=function(y,k){u.call(this,y,k)},new W(this)},T.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(i[u])),this.decoders[u]},T.prototype.decode=function(u,v,W){return this._getDecoder(v).decode(u,W)},T.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(d[u])),this.encoders[u]},T.prototype.encode=function(u,v,W){return this._getEncoder(v).encode(u,W)}}),t0=Jo((s)=>{var d=s;d.Reporter=ss().Reporter,d.DecoderBuffer=hn().DecoderBuffer,d.EncoderBuffer=hn().EncoderBuffer,d.Node=rs()}),v0=Jo((s)=>{var d=s;d._reverse=function(i){let h={};return Object.keys(i).forEach(function(_){(_|0)==_&&(_=_|0);let T=i[_];h[T]=_}),h},d.der=cs()}),zr=Jo((s)=>{var d=s;d.bignum=Lr(),d.define=_0().define,d.base=t0(),d.constants=v0(),d.decoders=Fr(),d.encoders=wr()}),N0=Jo((s,d)=>{var i=zr(),h=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),_=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),T=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(T),this.key("subjectPublicKey").bitstr())}),v=i.define("RelativeDistinguishedName",function(){this.setof(_)}),W=i.define("RDNSequence",function(){this.seqof(v)}),y=i.define("Name",function(){this.choice({rdnSequence:this.use(W)})}),k=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(h),this.key("notAfter").use(h))}),Z=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),$=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(T),this.key("issuer").use(y),this.key("validity").use(k),this.key("subject").use(y),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Z).optional())}),V=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use($),this.key("signatureAlgorithm").use(T),this.key("signatureValue").bitstr())});d.exports=V}),h0=Jo((s)=>{var d=zr();s.certificate=N0();var i=d.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});s.RSAPrivateKey=i;var h=d.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});s.RSAPublicKey=h;var _=d.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(T),this.key("subjectPublicKey").bitstr())});s.PublicKey=_;var T=d.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=d.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(T),this.key("subjectPrivateKey").octstr())});s.PrivateKey=u;var v=d.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});s.EncryptedPrivateKey=v;var W=d.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});s.DSAPrivateKey=W,s.DSAparam=d.define("DSAparam",function(){this.int()});var y=d.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(k),this.key("publicKey").optional().explicit(1).bitstr())});s.ECPrivateKey=y;var k=d.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});s.signature=d.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),R0=Jo((s,d)=>{d.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),Z0=Jo((s,d)=>{var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,h=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,_=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,T=Qn(),u=Bl(),v=ta().Buffer;d.exports=function(W,y){var k=W.toString(),Z=k.match(i),$;if(Z){var V="aes"+Z[1],x=v.from(Z[2],"hex"),q=v.from(Z[3].replace(/[\r\n]/g,""),"base64"),F=T(y,x.slice(0,8),parseInt(Z[1],10)).key,g=[],E=u.createDecipheriv(V,F,x);g.push(E.update(q)),g.push(E.final()),$=v.concat(g)}else{var z=k.match(_);$=v.from(z[2].replace(/[\r\n]/g,""),"base64")}var K=k.match(h)[1];return{tag:K,data:$}}}),ol=Jo((s,d)=>{var i=h0(),h=R0(),_=Z0(),T=Bl(),u=ir(),v=ta().Buffer;d.exports=W;function W(k){var Z;typeof k=="object"&&!v.isBuffer(k)&&(Z=k.passphrase,k=k.key),typeof k=="string"&&(k=v.from(k));var $=_(k,Z),V=$.tag,x=$.data,q,F;switch(V){case"CERTIFICATE":F=i.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(F||(F=i.PublicKey.decode(x,"der")),q=F.algorithm.algorithm.join("."),q){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(F.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return F.subjectPrivateKey=F.subjectPublicKey,{type:"ec",data:F};case"1.2.840.10040.4.1":return F.algorithm.params.pub_key=i.DSAparam.decode(F.subjectPublicKey.data,"der"),{type:"dsa",data:F.algorithm.params};default:throw new Error("unknown key id "+q)}case"ENCRYPTED PRIVATE KEY":x=i.EncryptedPrivateKey.decode(x,"der"),x=y(x,Z);case"PRIVATE KEY":switch(F=i.PrivateKey.decode(x,"der"),q=F.algorithm.algorithm.join("."),q){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(F.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:F.algorithm.curve,privateKey:i.ECPrivateKey.decode(F.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return F.algorithm.params.priv_key=i.DSAparam.decode(F.subjectPrivateKey,"der"),{type:"dsa",params:F.algorithm.params};default:throw new Error("unknown key id "+q)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return x=i.ECPrivateKey.decode(x,"der"),{curve:x.parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+V)}}W.signature=i.signature;function y(k,Z){var $=k.algorithm.decrypt.kde.kdeparams.salt,V=parseInt(k.algorithm.decrypt.kde.kdeparams.iters.toString(),10),x=h[k.algorithm.decrypt.cipher.algo.join(".")],q=k.algorithm.decrypt.cipher.iv,F=k.subjectPrivateKey,g=parseInt(x.split("-")[1],10)/8,E=u.pbkdf2Sync(Z,$,V,g,"sha1"),z=T.createDecipheriv(x,E,q),K=[];return K.push(z.update(F)),K.push(z.final()),v.concat(K)}}),Sr=Jo((s,d)=>{d.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),y0=Jo((s,d)=>{var i=ta().Buffer,h=er(),_=os(),T=ns().ec,u=Al(),v=ol(),W=Sr();function y(E,z,K,Y,C){var mo=v(z);if(mo.curve){if(Y!=="ecdsa"&&Y!=="ecdsa/rsa")throw new Error("wrong private key type");return k(E,mo)}else if(mo.type==="dsa"){if(Y!=="dsa")throw new Error("wrong private key type");return Z(E,mo,K)}else if(Y!=="rsa"&&Y!=="ecdsa/rsa")throw new Error("wrong private key type");E=i.concat([C,E]);for(var to=mo.modulus.byteLength(),Mo=[0,1];E.length+Mo.length+1<to;)Mo.push(255);Mo.push(0);for(var uo=-1;++uo<E.length;)Mo.push(E[uo]);var Vo=_(Mo,mo);return Vo}function k(E,z){var K=W[z.curve.join(".")];if(!K)throw new Error("unknown curve "+z.curve.join("."));var Y=new T(K),C=Y.keyFromPrivate(z.privateKey),mo=C.sign(E);return i.from(mo.toDER())}function Z(E,z,K){for(var Y=z.params.priv_key,C=z.params.p,mo=z.params.q,to=z.params.g,Mo=new u(0),uo,Vo=x(E,mo).mod(mo),o=!1,n=V(Y,mo,E,K);o===!1;)uo=F(mo,n,K),Mo=g(to,uo,C,mo),o=uo.invm(mo).imul(Vo.add(Y.mul(Mo))).mod(mo),o.cmpn(0)===0&&(o=!1,Mo=new u(0));return $(Mo,o)}function $(E,z){E=E.toArray(),z=z.toArray(),E[0]&128&&(E=[0].concat(E)),z[0]&128&&(z=[0].concat(z));var K=E.length+z.length+4,Y=[48,K,2,E.length];return Y=Y.concat(E,[2,z.length],z),i.from(Y)}function V(E,z,K,Y){if(E=i.from(E.toArray()),E.length<z.byteLength()){var C=i.alloc(z.byteLength()-E.length);E=i.concat([C,E])}var mo=K.length,to=q(K,z),Mo=i.alloc(mo);Mo.fill(1);var uo=i.alloc(mo);return uo=h(Y,uo).update(Mo).update(i.from([0])).update(E).update(to).digest(),Mo=h(Y,uo).update(Mo).digest(),uo=h(Y,uo).update(Mo).update(i.from([1])).update(E).update(to).digest(),Mo=h(Y,uo).update(Mo).digest(),{k:uo,v:Mo}}function x(E,z){var K=new u(E),Y=(E.length<<3)-z.bitLength();return Y>0&&K.ishrn(Y),K}function q(E,z){E=x(E,z),E=E.mod(z);var K=i.from(E.toArray());if(K.length<z.byteLength()){var Y=i.alloc(z.byteLength()-K.length);K=i.concat([Y,K])}return K}function F(E,z,K){var Y,C;do{for(Y=i.alloc(0);Y.length*8<E.bitLength();)z.v=h(K,z.k).update(z.v).digest(),Y=i.concat([Y,z.v]);C=x(Y,E),z.k=h(K,z.k).update(z.v).update(i.from([0])).digest(),z.v=h(K,z.k).update(z.v).digest()}while(C.cmp(E)!==-1);return C}function g(E,z,K,Y){return E.toRed(u.mont(K)).redPow(z).fromRed().mod(Y)}d.exports=y,d.exports.getKey=V,d.exports.makeKey=F}),k0=Jo((s,d)=>{var i=ta().Buffer,h=Al(),_=ns().ec,T=ol(),u=Sr();function v(Z,$,V,x,q){var F=T(V);if(F.type==="ec"){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");return W(Z,$,F)}else if(F.type==="dsa"){if(x!=="dsa")throw new Error("wrong public key type");return y(Z,$,F)}else if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");$=i.concat([q,$]);for(var g=F.modulus.byteLength(),E=[1],z=0;$.length+E.length+2<g;)E.push(255),z++;E.push(0);for(var K=-1;++K<$.length;)E.push($[K]);E=i.from(E);var Y=h.mont(F.modulus);Z=new h(Z).toRed(Y),Z=Z.redPow(new h(F.publicExponent)),Z=i.from(Z.fromRed().toArray());var C=z<8?1:0;for(g=Math.min(Z.length,E.length),Z.length!==E.length&&(C=1),K=-1;++K<g;)C|=Z[K]^E[K];return C===0}function W(Z,$,V){var x=u[V.data.algorithm.curve.join(".")];if(!x)throw new Error("unknown curve "+V.data.algorithm.curve.join("."));var q=new _(x),F=V.data.subjectPrivateKey.data;return q.verify($,Z,F)}function y(Z,$,V){var x=V.data.p,q=V.data.q,F=V.data.g,g=V.data.pub_key,E=T.signature.decode(Z,"der"),z=E.s,K=E.r;k(z,q),k(K,q);var Y=h.mont(x),C=z.invm(q),mo=F.toRed(Y).redPow(new h($).mul(C).mod(q)).fromRed().mul(g.toRed(Y).redPow(K.mul(C).mod(q)).fromRed()).mod(x).mod(q);return mo.cmp(K)===0}function k(Z,$){if(Z.cmpn(0)<=0)throw new Error("invalid sig");if(Z.cmp($)>=$)throw new Error("invalid sig")}d.exports=v}),q0=Jo((s,d)=>{var i=ta().Buffer,h=tn(),_=Hi(),T=pa(),u=y0(),v=k0(),W=nr();Object.keys(W).forEach(function(V){W[V].id=i.from(W[V].id,"hex"),W[V.toLowerCase()]=W[V]});function y(V){_.Writable.call(this);var x=W[V];if(!x)throw new Error("Unknown message digest");this._hashType=x.hash,this._hash=h(x.hash),this._tag=x.id,this._signType=x.sign}T(y,_.Writable),y.prototype._write=function(V,x,q){this._hash.update(V),q()},y.prototype.update=function(V,x){return typeof V=="string"&&(V=i.from(V,x)),this._hash.update(V),this},y.prototype.sign=function(V,x){this.end();var q=this._hash.digest(),F=u(q,V,this._hashType,this._signType,this._tag);return x?F.toString(x):F};function k(V){_.Writable.call(this);var x=W[V];if(!x)throw new Error("Unknown message digest");this._hash=h(x.hash),this._tag=x.id,this._signType=x.sign}T(k,_.Writable),k.prototype._write=function(V,x,q){this._hash.update(V),q()},k.prototype.update=function(V,x){return typeof V=="string"&&(V=i.from(V,x)),this._hash.update(V),this},k.prototype.verify=function(V,x,q){typeof x=="string"&&(x=i.from(x,q)),this.end();var F=this._hash.digest();return v(x,F,V,this._signType,this._tag)};function Z(V){return new y(V)}function $(V){return new k(V)}d.exports={Sign:Z,Verify:$,createSign:Z,createVerify:$}}),T0=Jo((s,d)=>{(function(i,h){function _(o,n){if(!o)throw new Error(n||"Assertion failed")}function T(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof i=="object"?i.exports=u:h.BN=u,u.BN=u,u.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=We().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),_(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(n===16?this._parseHex(o,l,c):(this._parseBase(o,n,l),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(_(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(_(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m,t,N=0;if(c==="be")for(l=o.length-1,m=0;l>=0;l-=3)t=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);else if(c==="le")for(l=0,m=0;l<o.length;l+=3)t=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);return this.strip()};function W(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var l=W(o,c);return c-1>=n&&(l|=W(o,c-1)<<4),l}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m=0,t=0,N;if(c==="be")for(l=o.length-1;l>=n;l-=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8;else{var p=o.length-n;for(l=p%2===0?n+1:n;l<o.length;l+=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8}this.strip()};function k(o,n,c,l){for(var m=0,t=Math.min(o.length,c),N=n;N<t;N++){var p=o.charCodeAt(N)-48;m*=l,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var l=0,m=1;m<=67108863;m*=n)l++;l--,m=m/n|0;for(var t=o.length-c,N=t%l,p=Math.min(t,t-N)+c,a=0,b=c;b<p;b+=l)a=k(o,b,b+l,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,b,o.length,n),b=0;b<N;b++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var l=0,m=0,t=0;t<this.length;t++){var N=this.words[t],p=((N<<l|m)&16777215).toString(16);m=N>>>24-l&16777215,m!==0||t!==this.length-1?c=Z[6-p.length]+p+c:c=p+c,l+=2,l>=26&&(l-=26,t--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=$[o],b=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(b).toString(o);S=S.idivn(b),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}_(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return _(typeof v<"u"),this.toArrayLike(v,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var l=this.byteLength(),m=c||Math.max(1,l);_(l<=m,"byte array longer than desired length"),_(m>0,"Requested array length <= 0"),this.strip();var t=n==="le",N=new o(m),p,a,b=this.clone();if(t){for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[a]=p;for(;a<m;a++)N[a]=0}else{for(a=0;a<m-l;a++)N[a]=0;for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[m-a-1]=p}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function x(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var l=c/26|0,m=c%26;n[c]=(o.words[l]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return _((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return _((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var l=0;l<c.length;l++)this.words[l]=n.words[l]^c.words[l];if(this!==n)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return _((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){_(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var l=0;l<n;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){_(typeof o=="number"&&o>=0);var c=o/26|0,l=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,l;this.length>o.length?(c=this,l=o):(c=o,l=this);for(var m=0,t=0;t<l.length;t++)n=(c.words[t]|0)+(l.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;for(;m!==0&&t<c.length;t++)n=(c.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;t<c.length;t++)this.words[t]=c.words[t];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,m;c>0?(l=this,m=o):(l=o,m=this);for(var t=0,N=0;N<m.length;N++)n=(l.words[N]|0)-(m.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;for(;t!==0&&N<l.length;N++)n=(l.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;if(t===0&&N<l.length&&l!==this)for(;N<l.length;N++)this.words[N]=l.words[N];return this.length=Math.max(this.length,N),l!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var l=o.length+n.length|0;c.length=l,l=l-1|0;var m=o.words[0]|0,t=n.words[0]|0,N=m*t,p=N&67108863,a=N/67108864|0;c.words[0]=p;for(var b=1;b<l;b++){for(var S=a>>>26,w=a&67108863,I=Math.min(b,n.length-1),No=Math.max(0,b-o.length+1);No<=I;No++){var ko=b-No|0;m=o.words[ko]|0,t=n.words[No]|0,N=m*t+w,S+=N/67108864|0,w=N&67108863}c.words[b]=w|0,a=S|0}return a!==0?c.words[b]=a|0:c.length--,c.strip()}var F=function(o,n,c){var l=o.words,m=n.words,t=c.words,N=0,p,a,b,S=l[0]|0,w=S&8191,I=S>>>13,No=l[1]|0,ko=No&8191,xo=No>>>13,bo=l[2]|0,co=bo&8191,fo=bo>>>13,Xo=l[3]|0,$o=Xo&8191,So=Xo>>>13,D=l[4]|0,X=D&8191,ao=D>>>13,wo=l[5]|0,zo=wo&8191,Lo=wo>>>13,Ho=l[6]|0,Uo=Ho&8191,Po=Ho>>>13,Ao=l[7]|0,Ko=Ao&8191,go=Ao>>>13,da=l[8]|0,L=da&8191,e=da>>>13,r=l[9]|0,f=r&8191,R=r>>>13,M=m[0]|0,O=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,oo=m[2]|0,H=oo&8191,G=oo>>>13,no=m[3]|0,Q=no&8191,ro=no>>>13,Zo=m[4]|0,A=Zo&8191,eo=Zo>>>13,so=m[5]|0,B=so&8191,lo=so>>>13,Ro=m[6]|0,po=Ro&8191,_o=Ro>>>13,Fo=m[7]|0,ho=Fo&8191,yo=Fo>>>13,jo=m[8]|0,To=jo&8191,qo=jo>>>13,Eo=m[9]|0,Wo=Eo&8191,Oo=Eo>>>13;c.negative=o.negative^n.negative,c.length=19,p=Math.imul(w,O),a=Math.imul(w,U),a=a+Math.imul(I,O)|0,b=Math.imul(I,U);var Go=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,p=Math.imul(ko,O),a=Math.imul(ko,U),a=a+Math.imul(xo,O)|0,b=Math.imul(xo,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,b=b+Math.imul(I,J)|0;var Io=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,p=Math.imul(co,O),a=Math.imul(co,U),a=a+Math.imul(fo,O)|0,b=Math.imul(fo,U),p=p+Math.imul(ko,j)|0,a=a+Math.imul(ko,J)|0,a=a+Math.imul(xo,j)|0,b=b+Math.imul(xo,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,b=b+Math.imul(I,G)|0;var Do=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,p=Math.imul($o,O),a=Math.imul($o,U),a=a+Math.imul(So,O)|0,b=Math.imul(So,U),p=p+Math.imul(co,j)|0,a=a+Math.imul(co,J)|0,a=a+Math.imul(fo,j)|0,b=b+Math.imul(fo,J)|0,p=p+Math.imul(ko,H)|0,a=a+Math.imul(ko,G)|0,a=a+Math.imul(xo,H)|0,b=b+Math.imul(xo,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,Q)|0,b=b+Math.imul(I,ro)|0;var Qo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,p=Math.imul(X,O),a=Math.imul(X,U),a=a+Math.imul(ao,O)|0,b=Math.imul(ao,U),p=p+Math.imul($o,j)|0,a=a+Math.imul($o,J)|0,a=a+Math.imul(So,j)|0,b=b+Math.imul(So,J)|0,p=p+Math.imul(co,H)|0,a=a+Math.imul(co,G)|0,a=a+Math.imul(fo,H)|0,b=b+Math.imul(fo,G)|0,p=p+Math.imul(ko,Q)|0,a=a+Math.imul(ko,ro)|0,a=a+Math.imul(xo,Q)|0,b=b+Math.imul(xo,ro)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,eo)|0,a=a+Math.imul(I,A)|0,b=b+Math.imul(I,eo)|0;var Bo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,p=Math.imul(zo,O),a=Math.imul(zo,U),a=a+Math.imul(Lo,O)|0,b=Math.imul(Lo,U),p=p+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(ao,j)|0,b=b+Math.imul(ao,J)|0,p=p+Math.imul($o,H)|0,a=a+Math.imul($o,G)|0,a=a+Math.imul(So,H)|0,b=b+Math.imul(So,G)|0,p=p+Math.imul(co,Q)|0,a=a+Math.imul(co,ro)|0,a=a+Math.imul(fo,Q)|0,b=b+Math.imul(fo,ro)|0,p=p+Math.imul(ko,A)|0,a=a+Math.imul(ko,eo)|0,a=a+Math.imul(xo,A)|0,b=b+Math.imul(xo,eo)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,B)|0,b=b+Math.imul(I,lo)|0;var oa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(Uo,O),a=Math.imul(Uo,U),a=a+Math.imul(Po,O)|0,b=Math.imul(Po,U),p=p+Math.imul(zo,j)|0,a=a+Math.imul(zo,J)|0,a=a+Math.imul(Lo,j)|0,b=b+Math.imul(Lo,J)|0,p=p+Math.imul(X,H)|0,a=a+Math.imul(X,G)|0,a=a+Math.imul(ao,H)|0,b=b+Math.imul(ao,G)|0,p=p+Math.imul($o,Q)|0,a=a+Math.imul($o,ro)|0,a=a+Math.imul(So,Q)|0,b=b+Math.imul(So,ro)|0,p=p+Math.imul(co,A)|0,a=a+Math.imul(co,eo)|0,a=a+Math.imul(fo,A)|0,b=b+Math.imul(fo,eo)|0,p=p+Math.imul(ko,B)|0,a=a+Math.imul(ko,lo)|0,a=a+Math.imul(xo,B)|0,b=b+Math.imul(xo,lo)|0,p=p+Math.imul(w,po)|0,a=a+Math.imul(w,_o)|0,a=a+Math.imul(I,po)|0,b=b+Math.imul(I,_o)|0;var Yo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,p=Math.imul(Ko,O),a=Math.imul(Ko,U),a=a+Math.imul(go,O)|0,b=Math.imul(go,U),p=p+Math.imul(Uo,j)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Po,j)|0,b=b+Math.imul(Po,J)|0,p=p+Math.imul(zo,H)|0,a=a+Math.imul(zo,G)|0,a=a+Math.imul(Lo,H)|0,b=b+Math.imul(Lo,G)|0,p=p+Math.imul(X,Q)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(ao,Q)|0,b=b+Math.imul(ao,ro)|0,p=p+Math.imul($o,A)|0,a=a+Math.imul($o,eo)|0,a=a+Math.imul(So,A)|0,b=b+Math.imul(So,eo)|0,p=p+Math.imul(co,B)|0,a=a+Math.imul(co,lo)|0,a=a+Math.imul(fo,B)|0,b=b+Math.imul(fo,lo)|0,p=p+Math.imul(ko,po)|0,a=a+Math.imul(ko,_o)|0,a=a+Math.imul(xo,po)|0,b=b+Math.imul(xo,_o)|0,p=p+Math.imul(w,ho)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,ho)|0,b=b+Math.imul(I,yo)|0;var aa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(L,O),a=Math.imul(L,U),a=a+Math.imul(e,O)|0,b=Math.imul(e,U),p=p+Math.imul(Ko,j)|0,a=a+Math.imul(Ko,J)|0,a=a+Math.imul(go,j)|0,b=b+Math.imul(go,J)|0,p=p+Math.imul(Uo,H)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Po,H)|0,b=b+Math.imul(Po,G)|0,p=p+Math.imul(zo,Q)|0,a=a+Math.imul(zo,ro)|0,a=a+Math.imul(Lo,Q)|0,b=b+Math.imul(Lo,ro)|0,p=p+Math.imul(X,A)|0,a=a+Math.imul(X,eo)|0,a=a+Math.imul(ao,A)|0,b=b+Math.imul(ao,eo)|0,p=p+Math.imul($o,B)|0,a=a+Math.imul($o,lo)|0,a=a+Math.imul(So,B)|0,b=b+Math.imul(So,lo)|0,p=p+Math.imul(co,po)|0,a=a+Math.imul(co,_o)|0,a=a+Math.imul(fo,po)|0,b=b+Math.imul(fo,_o)|0,p=p+Math.imul(ko,ho)|0,a=a+Math.imul(ko,yo)|0,a=a+Math.imul(xo,ho)|0,b=b+Math.imul(xo,yo)|0,p=p+Math.imul(w,To)|0,a=a+Math.imul(w,qo)|0,a=a+Math.imul(I,To)|0,b=b+Math.imul(I,qo)|0;var Co=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,p=Math.imul(f,O),a=Math.imul(f,U),a=a+Math.imul(R,O)|0,b=Math.imul(R,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(e,j)|0,b=b+Math.imul(e,J)|0,p=p+Math.imul(Ko,H)|0,a=a+Math.imul(Ko,G)|0,a=a+Math.imul(go,H)|0,b=b+Math.imul(go,G)|0,p=p+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Po,Q)|0,b=b+Math.imul(Po,ro)|0,p=p+Math.imul(zo,A)|0,a=a+Math.imul(zo,eo)|0,a=a+Math.imul(Lo,A)|0,b=b+Math.imul(Lo,eo)|0,p=p+Math.imul(X,B)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(ao,B)|0,b=b+Math.imul(ao,lo)|0,p=p+Math.imul($o,po)|0,a=a+Math.imul($o,_o)|0,a=a+Math.imul(So,po)|0,b=b+Math.imul(So,_o)|0,p=p+Math.imul(co,ho)|0,a=a+Math.imul(co,yo)|0,a=a+Math.imul(fo,ho)|0,b=b+Math.imul(fo,yo)|0,p=p+Math.imul(ko,To)|0,a=a+Math.imul(ko,qo)|0,a=a+Math.imul(xo,To)|0,b=b+Math.imul(xo,qo)|0,p=p+Math.imul(w,Wo)|0,a=a+Math.imul(w,Oo)|0,a=a+Math.imul(I,Wo)|0,b=b+Math.imul(I,Oo)|0;var ra=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(f,j),a=Math.imul(f,J),a=a+Math.imul(R,j)|0,b=Math.imul(R,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(e,H)|0,b=b+Math.imul(e,G)|0,p=p+Math.imul(Ko,Q)|0,a=a+Math.imul(Ko,ro)|0,a=a+Math.imul(go,Q)|0,b=b+Math.imul(go,ro)|0,p=p+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Po,A)|0,b=b+Math.imul(Po,eo)|0,p=p+Math.imul(zo,B)|0,a=a+Math.imul(zo,lo)|0,a=a+Math.imul(Lo,B)|0,b=b+Math.imul(Lo,lo)|0,p=p+Math.imul(X,po)|0,a=a+Math.imul(X,_o)|0,a=a+Math.imul(ao,po)|0,b=b+Math.imul(ao,_o)|0,p=p+Math.imul($o,ho)|0,a=a+Math.imul($o,yo)|0,a=a+Math.imul(So,ho)|0,b=b+Math.imul(So,yo)|0,p=p+Math.imul(co,To)|0,a=a+Math.imul(co,qo)|0,a=a+Math.imul(fo,To)|0,b=b+Math.imul(fo,qo)|0,p=p+Math.imul(ko,Wo)|0,a=a+Math.imul(ko,Oo)|0,a=a+Math.imul(xo,Wo)|0,b=b+Math.imul(xo,Oo)|0;var ea=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(f,H),a=Math.imul(f,G),a=a+Math.imul(R,H)|0,b=Math.imul(R,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,ro)|0,a=a+Math.imul(e,Q)|0,b=b+Math.imul(e,ro)|0,p=p+Math.imul(Ko,A)|0,a=a+Math.imul(Ko,eo)|0,a=a+Math.imul(go,A)|0,b=b+Math.imul(go,eo)|0,p=p+Math.imul(Uo,B)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Po,B)|0,b=b+Math.imul(Po,lo)|0,p=p+Math.imul(zo,po)|0,a=a+Math.imul(zo,_o)|0,a=a+Math.imul(Lo,po)|0,b=b+Math.imul(Lo,_o)|0,p=p+Math.imul(X,ho)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(ao,ho)|0,b=b+Math.imul(ao,yo)|0,p=p+Math.imul($o,To)|0,a=a+Math.imul($o,qo)|0,a=a+Math.imul(So,To)|0,b=b+Math.imul(So,qo)|0,p=p+Math.imul(co,Wo)|0,a=a+Math.imul(co,Oo)|0,a=a+Math.imul(fo,Wo)|0,b=b+Math.imul(fo,Oo)|0;var la=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(la>>>26)|0,la&=67108863,p=Math.imul(f,Q),a=Math.imul(f,ro),a=a+Math.imul(R,Q)|0,b=Math.imul(R,ro),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,eo)|0,a=a+Math.imul(e,A)|0,b=b+Math.imul(e,eo)|0,p=p+Math.imul(Ko,B)|0,a=a+Math.imul(Ko,lo)|0,a=a+Math.imul(go,B)|0,b=b+Math.imul(go,lo)|0,p=p+Math.imul(Uo,po)|0,a=a+Math.imul(Uo,_o)|0,a=a+Math.imul(Po,po)|0,b=b+Math.imul(Po,_o)|0,p=p+Math.imul(zo,ho)|0,a=a+Math.imul(zo,yo)|0,a=a+Math.imul(Lo,ho)|0,b=b+Math.imul(Lo,yo)|0,p=p+Math.imul(X,To)|0,a=a+Math.imul(X,qo)|0,a=a+Math.imul(ao,To)|0,b=b+Math.imul(ao,qo)|0,p=p+Math.imul($o,Wo)|0,a=a+Math.imul($o,Oo)|0,a=a+Math.imul(So,Wo)|0,b=b+Math.imul(So,Oo)|0;var sa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(f,A),a=Math.imul(f,eo),a=a+Math.imul(R,A)|0,b=Math.imul(R,eo),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,lo)|0,a=a+Math.imul(e,B)|0,b=b+Math.imul(e,lo)|0,p=p+Math.imul(Ko,po)|0,a=a+Math.imul(Ko,_o)|0,a=a+Math.imul(go,po)|0,b=b+Math.imul(go,_o)|0,p=p+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Po,ho)|0,b=b+Math.imul(Po,yo)|0,p=p+Math.imul(zo,To)|0,a=a+Math.imul(zo,qo)|0,a=a+Math.imul(Lo,To)|0,b=b+Math.imul(Lo,qo)|0,p=p+Math.imul(X,Wo)|0,a=a+Math.imul(X,Oo)|0,a=a+Math.imul(ao,Wo)|0,b=b+Math.imul(ao,Oo)|0;var na=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(f,B),a=Math.imul(f,lo),a=a+Math.imul(R,B)|0,b=Math.imul(R,lo),p=p+Math.imul(L,po)|0,a=a+Math.imul(L,_o)|0,a=a+Math.imul(e,po)|0,b=b+Math.imul(e,_o)|0,p=p+Math.imul(Ko,ho)|0,a=a+Math.imul(Ko,yo)|0,a=a+Math.imul(go,ho)|0,b=b+Math.imul(go,yo)|0,p=p+Math.imul(Uo,To)|0,a=a+Math.imul(Uo,qo)|0,a=a+Math.imul(Po,To)|0,b=b+Math.imul(Po,qo)|0,p=p+Math.imul(zo,Wo)|0,a=a+Math.imul(zo,Oo)|0,a=a+Math.imul(Lo,Wo)|0,b=b+Math.imul(Lo,Oo)|0;var ma=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(f,po),a=Math.imul(f,_o),a=a+Math.imul(R,po)|0,b=Math.imul(R,_o),p=p+Math.imul(L,ho)|0,a=a+Math.imul(L,yo)|0,a=a+Math.imul(e,ho)|0,b=b+Math.imul(e,yo)|0,p=p+Math.imul(Ko,To)|0,a=a+Math.imul(Ko,qo)|0,a=a+Math.imul(go,To)|0,b=b+Math.imul(go,qo)|0,p=p+Math.imul(Uo,Wo)|0,a=a+Math.imul(Uo,Oo)|0,a=a+Math.imul(Po,Wo)|0,b=b+Math.imul(Po,Oo)|0;var ba=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ba>>>26)|0,ba&=67108863,p=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(R,ho)|0,b=Math.imul(R,yo),p=p+Math.imul(L,To)|0,a=a+Math.imul(L,qo)|0,a=a+Math.imul(e,To)|0,b=b+Math.imul(e,qo)|0,p=p+Math.imul(Ko,Wo)|0,a=a+Math.imul(Ko,Oo)|0,a=a+Math.imul(go,Wo)|0,b=b+Math.imul(go,Oo)|0;var _a=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(f,To),a=Math.imul(f,qo),a=a+Math.imul(R,To)|0,b=Math.imul(R,qo),p=p+Math.imul(L,Wo)|0,a=a+Math.imul(L,Oo)|0,a=a+Math.imul(e,Wo)|0,b=b+Math.imul(e,Oo)|0;var ia=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(f,Wo),a=Math.imul(f,Oo),a=a+Math.imul(R,Wo)|0,b=Math.imul(R,Oo);var ca=(N+p|0)+((a&8191)<<13)|0;return N=(b+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,t[0]=Go,t[1]=Io,t[2]=Do,t[3]=Qo,t[4]=Bo,t[5]=oa,t[6]=Yo,t[7]=aa,t[8]=Co,t[9]=ra,t[10]=ea,t[11]=la,t[12]=sa,t[13]=na,t[14]=ma,t[15]=ba,t[16]=_a,t[17]=ia,t[18]=ca,N!==0&&(t[19]=N,c.length++),c};Math.imul||(F=q);function g(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var l=0,m=0,t=0;t<c.length-1;t++){var N=m;m=0;for(var p=l&67108863,a=Math.min(t,n.length-1),b=Math.max(0,t-o.length+1);b<=a;b++){var S=t-b,w=o.words[S]|0,I=n.words[b]|0,No=w*I,ko=No&67108863;N=N+(No/67108864|0)|0,ko=ko+p|0,p=ko&67108863,N=N+(ko>>>26)|0,m+=N>>>26,N&=67108863}c.words[t]=p,l=N,N=m}return l!==0?c.words[t]=l:c.length--,c.strip()}function E(o,n,c){var l=new z;return l.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,l=this.length+o.length;return this.length===10&&o.length===10?c=F(this,o,n):l<63?c=q(this,o,n):l<1024?c=g(this,o,n):c=E(this,o,n),c};function z(o,n){this.x=o,this.y=n}z.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,l=0;l<o;l++)n[l]=this.revBin(l,c,o);return n},z.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var l=0,m=0;m<n;m++)l|=(o&1)<<n-m-1,o>>=1;return l},z.prototype.permute=function(o,n,c,l,m,t){for(var N=0;N<t;N++)l[N]=n[o[N]],m[N]=c[o[N]]},z.prototype.transform=function(o,n,c,l,m,t){this.permute(t,o,n,c,l,m);for(var N=1;N<m;N<<=1)for(var p=N<<1,a=Math.cos(2*Math.PI/p),b=Math.sin(2*Math.PI/p),S=0;S<m;S+=p)for(var w=a,I=b,No=0;No<N;No++){var ko=c[S+No],xo=l[S+No],bo=c[S+No+N],co=l[S+No+N],fo=w*bo-I*co;co=w*co+I*bo,bo=fo,c[S+No]=ko+bo,l[S+No]=xo+co,c[S+No+N]=ko-bo,l[S+No+N]=xo-co,No!==p&&(fo=a*w-b*I,I=a*I+b*w,w=fo)}},z.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,l=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+l},z.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var l=0;l<c/2;l++){var m=o[l];o[l]=o[c-l-1],o[c-l-1]=m,m=n[l],n[l]=-n[c-l-1],n[c-l-1]=-m}},z.prototype.normalize13b=function(o,n){for(var c=0,l=0;l<n/2;l++){var m=Math.round(o[2*l+1]/n)*8192+Math.round(o[2*l]/n)+c;o[l]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},z.prototype.convert13b=function(o,n,c,l){for(var m=0,t=0;t<n;t++)m=m+(o[t]|0),c[2*t]=m&8191,m=m>>>13,c[2*t+1]=m&8191,m=m>>>13;for(t=2*n;t<l;++t)c[t]=0;_(m===0),_((m&-8192)===0)},z.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},z.prototype.mulp=function(o,n,c){var l=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(l),t=this.stub(l),N=new Array(l),p=new Array(l),a=new Array(l),b=new Array(l),S=new Array(l),w=new Array(l),I=c.words;I.length=l,this.convert13b(o.words,o.length,N,l),this.convert13b(n.words,n.length,b,l),this.transform(N,t,p,a,l,m),this.transform(b,t,S,w,l,m);for(var No=0;No<l;No++){var ko=p[No]*S[No]-a[No]*w[No];a[No]=p[No]*w[No]+a[No]*S[No],p[No]=ko}return this.conjugate(p,a,l),this.transform(p,a,I,t,l,m),this.conjugate(I,t,l),this.normalize13b(I,l),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),E(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){_(typeof o=="number"),_(o<67108864);for(var n=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*o,m=(l&67108863)+(n&67108863);n>>=26,n+=l/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=x(o);if(n.length===0)return new u(1);for(var c=this,l=0;l<n.length&&n[l]===0;l++,c=c.sqr());if(++l<n.length)for(var m=c.sqr();l<n.length;l++,m=m.sqr())n[l]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=67108863>>>26-n<<26-n,m;if(n!==0){var t=0;for(m=0;m<this.length;m++){var N=this.words[m]&l,p=(this.words[m]|0)-N<<n;this.words[m]=p|t,t=N>>>26-n}t&&(this.words[m]=t,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return _(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){_(typeof o=="number"&&o>=0);var l;n?l=(n-n%26)/26:l=0;var m=o%26,t=Math.min((o-m)/26,this.length),N=67108863^67108863>>>m<<m,p=c;if(l-=t,l=Math.max(0,l),p){for(var a=0;a<t;a++)p.words[a]=this.words[a];p.length=t}if(t!==0)if(this.length>t)for(this.length-=t,a=0;a<this.length;a++)this.words[a]=this.words[a+t];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=l);a--){var S=this.words[a]|0;this.words[a]=b<<26-m|S>>>m,b=S&N}return p&&b!==0&&(p.words[p.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return _(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&l)},u.prototype.imaskn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var l=67108863^67108863>>>n<<n;this.words[this.length-1]&=l}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return _(typeof o=="number"),_(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(_(typeof o=="number"),_(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var l=o.length+c,m;this._expand(l);var t,N=0;for(m=0;m<o.length;m++){t=(this.words[m+c]|0)+N;var p=(o.words[m]|0)*n;t-=p&67108863,N=(t>>26)-(p/67108864|0),this.words[m+c]=t&67108863}for(;m<this.length-c;m++)t=(this.words[m+c]|0)+N,N=t>>26,this.words[m+c]=t&67108863;if(N===0)return this.strip();for(_(N===-1),N=0,m=0;m<this.length;m++)t=-(this.words[m]|0)+N,N=t>>26,this.words[m]=t&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,l=this.clone(),m=o,t=m.words[m.length-1]|0,N=this._countBits(t);c=26-N,c!==0&&(m=m.ushln(c),l.iushln(c),t=m.words[m.length-1]|0);var p=l.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=p+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var S=l.clone()._ishlnsubmul(m,1,p);S.negative===0&&(l=S,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(l.words[m.length+w]|0)*67108864+(l.words[m.length+w-1]|0);for(I=Math.min(I/t|0,67108863),l._ishlnsubmul(m,I,w);l.negative!==0;)I--,l.negative=0,l._ishlnsubmul(m,1,w),l.isZero()||(l.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),l.strip(),n!=="div"&&c!==0&&l.iushrn(c),{div:a||null,mod:l}},u.prototype.divmod=function(o,n,c){if(_(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var l,m,t;return this.negative!==0&&o.negative===0?(t=this.neg().divmod(o,n),n!=="mod"&&(l=t.div.neg()),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:l,mod:m}):this.negative===0&&o.negative!==0?(t=this.divmod(o.neg(),n),n!=="mod"&&(l=t.div.neg()),{div:l,mod:t.mod}):(this.negative&o.negative)!==0?(t=this.neg().divmod(o.neg(),n),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:t.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,l=o.ushrn(1),m=o.andln(1),t=c.cmp(l);return t<0||m===1&&t===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){_(o<=67108863);for(var n=67108864%o,c=0,l=this.length-1;l>=0;l--)c=(n*c+(this.words[l]|0))%o;return c},u.prototype.idivn=function(o){_(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+n*67108864;this.words[c]=l/o|0,n=l%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=new u(0),N=new u(1),p=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++p;for(var a=c.clone(),b=n.clone();!n.isZero();){for(var S=0,w=1;(n.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(l.isOdd()||m.isOdd())&&(l.iadd(a),m.isub(b)),l.iushrn(1),m.iushrn(1);for(var I=0,No=1;(c.words[0]&No)===0&&I<26;++I,No<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(t.isOdd()||N.isOdd())&&(t.iadd(a),N.isub(b)),t.iushrn(1),N.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(t),m.isub(N)):(c.isub(n),t.isub(l),N.isub(m))}return{a:t,b:N,gcd:c.iushln(p)}},u.prototype._invmp=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,p=1;(n.words[0]&p)===0&&N<26;++N,p<<=1);if(N>0)for(n.iushrn(N);N-- >0;)l.isOdd()&&l.iadd(t),l.iushrn(1);for(var a=0,b=1;(c.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(t),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(m)):(c.isub(n),m.isub(l))}var S;return n.cmpn(1)===0?S=l:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var l=0;n.isEven()&&c.isEven();l++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var t=n;n=c,c=t}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(l)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){_(typeof o=="number");var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var m=l,t=c;m!==0&&t<this.length;t++){var N=this.words[t]|0;N+=m,m=N>>>26,N&=67108863,this.words[t]=N}return m!==0&&(this.words[t]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),_(o<=67108863,"Number is too big");var l=this.words[0]|0;c=l===o?0:l<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,m=o.words[c]|0;if(l!==m){l<m?n=-1:l>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new uo(o)},u.prototype.toRed=function(o){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return _(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return _(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var l=c<this.n?-1:n.ucmp(this.p);return l===0?(n.words[0]=0,n.length=1):l>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},Y.prototype.split=function(o,n){o.iushrn(this.n,0,n)},Y.prototype.imulK=function(o){return o.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(o,n){for(var c=4194303,l=Math.min(o.length,9),m=0;m<l;m++)n.words[m]=o.words[m];if(n.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var t=o.words[9];for(n.words[n.length++]=t&c,m=10;m<o.length;m++){var N=o.words[m]|0;o.words[m-10]=(N&c)<<4|t>>>22,t=N}t>>>=22,o.words[m-10]=t,t===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var l=o.words[c]|0;n+=l*977,o.words[c]=n&67108863,n=l*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function mo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(mo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(to,Y);function Mo(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(Mo,Y),Mo.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var l=(o.words[c]|0)*19+n,m=l&67108863;l>>>=26,o.words[c]=m,n=l}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(K[o])return K[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new mo;else if(o==="p192")n=new to;else if(o==="p25519")n=new Mo;else throw new Error("Unknown prime "+o);return K[o]=n,n};function uo(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else _(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}uo.prototype._verify1=function(o){_(o.negative===0,"red works only with positives"),_(o.red,"red works only with red numbers")},uo.prototype._verify2=function(o,n){_((o.negative|n.negative)===0,"red works only with positives"),_(o.red&&o.red===n.red,"red works only with red numbers")},uo.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},uo.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},uo.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},uo.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},uo.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},uo.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},uo.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},uo.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},uo.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},uo.prototype.isqr=function(o){return this.imul(o,o.clone())},uo.prototype.sqr=function(o){return this.mul(o,o)},uo.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(_(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var l=this.m.subn(1),m=0;!l.isZero()&&l.andln(1)===0;)m++,l.iushrn(1);_(!l.isZero());var t=new u(1).toRed(this),N=t.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,p).cmp(N)!==0;)a.redIAdd(N);for(var b=this.pow(a,l),S=this.pow(o,l.addn(1).iushrn(1)),w=this.pow(o,l),I=m;w.cmp(t)!==0;){for(var No=w,ko=0;No.cmp(t)!==0;ko++)No=No.redSqr();_(ko<I);var xo=this.pow(b,new u(1).iushln(I-ko-1));S=S.redMul(xo),b=xo.redSqr(),w=w.redMul(b),I=ko}return S},uo.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},uo.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,l=new Array(1<<c);l[0]=new u(1).toRed(this),l[1]=o;for(var m=2;m<l.length;m++)l[m]=this.mul(l[m-1],o);var t=l[0],N=0,p=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var b=n.words[m],S=a-1;S>=0;S--){var w=b>>S&1;if(t!==l[0]&&(t=this.sqr(t)),w===0&&N===0){p=0;continue}N<<=1,N|=w,p++,!(p!==c&&(m!==0||S!==0))&&(t=this.mul(t,l[N]),p=0,N=0)}a=26}return t},uo.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},uo.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Vo(o)};function Vo(o){uo.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Vo,uo),Vo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Vo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Vo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof d>"u"||d,s)}),x0=Jo((s,d)=>{var i=ns(),h=T0();d.exports=function(v){return new T(v)};var _={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};_.p224=_.secp224r1,_.p256=_.secp256r1=_.prime256v1,_.p192=_.secp192r1=_.prime192v1,_.p384=_.secp384r1,_.p521=_.secp521r1;function T(v){this.curveType=_[v],this.curveType||(this.curveType={name:v}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}T.prototype.generateKeys=function(v,W){return this.keys=this.curve.genKeyPair(),this.getPublicKey(v,W)},T.prototype.computeSecret=function(v,W,y){W=W||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,W));var k=this.curve.keyFromPublic(v).getPublic(),Z=k.mul(this.keys.getPrivate()).getX();return u(Z,y,this.curveType.byteLength)},T.prototype.getPublicKey=function(v,W){var y=this.keys.getPublic(W==="compressed",!0);return W==="hybrid"&&(y[y.length-1]%2?y[0]=7:y[0]=6),u(y,v)},T.prototype.getPrivateKey=function(v){return u(this.keys.getPrivate(),v)},T.prototype.setPublicKey=function(v,W){return W=W||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,W)),this.keys._importPublic(v),this},T.prototype.setPrivateKey=function(v,W){W=W||"utf8",Buffer.isBuffer(v)||(v=new Buffer(v,W));var y=new h(v);return y=y.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(y),this};function u(v,W,y){Array.isArray(v)||(v=v.toArray());var k=new Buffer(v);if(y&&k.length<y){var Z=new Buffer(y-k.length);Z.fill(0),k=Buffer.concat([Z,k])}return W?k.toString(W):k}}),Xr=Jo((s,d)=>{var i=tn(),h=ta().Buffer;d.exports=function(T,u){for(var v=h.alloc(0),W=0,y;v.length<u;)y=_(W++),v=h.concat([v,i("sha1").update(T).update(y).digest()]);return v.slice(0,u)};function _(T){var u=h.allocUnsafe(4);return u.writeUInt32BE(T,0),u}}),gr=Jo((s,d)=>{d.exports=function(i,h){for(var _=i.length,T=-1;++T<_;)i[T]^=h[T];return i}}),is=Jo((s,d)=>{(function(i,h){function _(o,n){if(!o)throw new Error(n||"Assertion failed")}function T(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof i=="object"?i.exports=u:h.BN=u,u.BN=u,u.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=We().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),_(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(n===16?this._parseHex(o,l,c):(this._parseBase(o,n,l),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(_(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(_(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m,t,N=0;if(c==="be")for(l=o.length-1,m=0;l>=0;l-=3)t=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);else if(c==="le")for(l=0,m=0;l<o.length;l+=3)t=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[m]|=t<<N&67108863,this.words[m+1]=t>>>26-N&67108863,N+=24,N>=26&&(N-=26,m++);return this.strip()};function W(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var l=W(o,c);return c-1>=n&&(l|=W(o,c-1)<<4),l}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var m=0,t=0,N;if(c==="be")for(l=o.length-1;l>=n;l-=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8;else{var p=o.length-n;for(l=p%2===0?n+1:n;l<o.length;l+=2)N=y(o,n,l)<<m,this.words[t]|=N&67108863,m>=18?(m-=18,t+=1,this.words[t]|=N>>>26):m+=8}this.strip()};function k(o,n,c,l){for(var m=0,t=Math.min(o.length,c),N=n;N<t;N++){var p=o.charCodeAt(N)-48;m*=l,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var l=0,m=1;m<=67108863;m*=n)l++;l--,m=m/n|0;for(var t=o.length-c,N=t%l,p=Math.min(t,t-N)+c,a=0,b=c;b<p;b+=l)a=k(o,b,b+l,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,b,o.length,n),b=0;b<N;b++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var l=0,m=0,t=0;t<this.length;t++){var N=this.words[t],p=((N<<l|m)&16777215).toString(16);m=N>>>24-l&16777215,m!==0||t!==this.length-1?c=Z[6-p.length]+p+c:c=p+c,l+=2,l>=26&&(l-=26,t--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=$[o],b=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(b).toString(o);S=S.idivn(b),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}_(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return _(typeof v<"u"),this.toArrayLike(v,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var l=this.byteLength(),m=c||Math.max(1,l);_(l<=m,"byte array longer than desired length"),_(m>0,"Requested array length <= 0"),this.strip();var t=n==="le",N=new o(m),p,a,b=this.clone();if(t){for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[a]=p;for(;a<m;a++)N[a]=0}else{for(a=0;a<m-l;a++)N[a]=0;for(a=0;!b.isZero();a++)p=b.andln(255),b.iushrn(8),N[m-a-1]=p}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function x(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var l=c/26|0,m=c%26;n[c]=(o.words[l]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return _((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return _((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var l=0;l<c.length;l++)this.words[l]=n.words[l]^c.words[l];if(this!==n)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return _((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){_(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var l=0;l<n;l++)this.words[l]=~this.words[l]&67108863;return c>0&&(this.words[l]=~this.words[l]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){_(typeof o=="number"&&o>=0);var c=o/26|0,l=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<l:this.words[c]=this.words[c]&~(1<<l),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,l;this.length>o.length?(c=this,l=o):(c=o,l=this);for(var m=0,t=0;t<l.length;t++)n=(c.words[t]|0)+(l.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;for(;m!==0&&t<c.length;t++)n=(c.words[t]|0)+m,this.words[t]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;t<c.length;t++)this.words[t]=c.words[t];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,m;c>0?(l=this,m=o):(l=o,m=this);for(var t=0,N=0;N<m.length;N++)n=(l.words[N]|0)-(m.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;for(;t!==0&&N<l.length;N++)n=(l.words[N]|0)+t,t=n>>26,this.words[N]=n&67108863;if(t===0&&N<l.length&&l!==this)for(;N<l.length;N++)this.words[N]=l.words[N];return this.length=Math.max(this.length,N),l!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var l=o.length+n.length|0;c.length=l,l=l-1|0;var m=o.words[0]|0,t=n.words[0]|0,N=m*t,p=N&67108863,a=N/67108864|0;c.words[0]=p;for(var b=1;b<l;b++){for(var S=a>>>26,w=a&67108863,I=Math.min(b,n.length-1),No=Math.max(0,b-o.length+1);No<=I;No++){var ko=b-No|0;m=o.words[ko]|0,t=n.words[No]|0,N=m*t+w,S+=N/67108864|0,w=N&67108863}c.words[b]=w|0,a=S|0}return a!==0?c.words[b]=a|0:c.length--,c.strip()}var F=function(o,n,c){var l=o.words,m=n.words,t=c.words,N=0,p,a,b,S=l[0]|0,w=S&8191,I=S>>>13,No=l[1]|0,ko=No&8191,xo=No>>>13,bo=l[2]|0,co=bo&8191,fo=bo>>>13,Xo=l[3]|0,$o=Xo&8191,So=Xo>>>13,D=l[4]|0,X=D&8191,ao=D>>>13,wo=l[5]|0,zo=wo&8191,Lo=wo>>>13,Ho=l[6]|0,Uo=Ho&8191,Po=Ho>>>13,Ao=l[7]|0,Ko=Ao&8191,go=Ao>>>13,da=l[8]|0,L=da&8191,e=da>>>13,r=l[9]|0,f=r&8191,R=r>>>13,M=m[0]|0,O=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,oo=m[2]|0,H=oo&8191,G=oo>>>13,no=m[3]|0,Q=no&8191,ro=no>>>13,Zo=m[4]|0,A=Zo&8191,eo=Zo>>>13,so=m[5]|0,B=so&8191,lo=so>>>13,Ro=m[6]|0,po=Ro&8191,_o=Ro>>>13,Fo=m[7]|0,ho=Fo&8191,yo=Fo>>>13,jo=m[8]|0,To=jo&8191,qo=jo>>>13,Eo=m[9]|0,Wo=Eo&8191,Oo=Eo>>>13;c.negative=o.negative^n.negative,c.length=19,p=Math.imul(w,O),a=Math.imul(w,U),a=a+Math.imul(I,O)|0,b=Math.imul(I,U);var Go=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,p=Math.imul(ko,O),a=Math.imul(ko,U),a=a+Math.imul(xo,O)|0,b=Math.imul(xo,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,b=b+Math.imul(I,J)|0;var Io=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,p=Math.imul(co,O),a=Math.imul(co,U),a=a+Math.imul(fo,O)|0,b=Math.imul(fo,U),p=p+Math.imul(ko,j)|0,a=a+Math.imul(ko,J)|0,a=a+Math.imul(xo,j)|0,b=b+Math.imul(xo,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,b=b+Math.imul(I,G)|0;var Do=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,p=Math.imul($o,O),a=Math.imul($o,U),a=a+Math.imul(So,O)|0,b=Math.imul(So,U),p=p+Math.imul(co,j)|0,a=a+Math.imul(co,J)|0,a=a+Math.imul(fo,j)|0,b=b+Math.imul(fo,J)|0,p=p+Math.imul(ko,H)|0,a=a+Math.imul(ko,G)|0,a=a+Math.imul(xo,H)|0,b=b+Math.imul(xo,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,Q)|0,b=b+Math.imul(I,ro)|0;var Qo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,p=Math.imul(X,O),a=Math.imul(X,U),a=a+Math.imul(ao,O)|0,b=Math.imul(ao,U),p=p+Math.imul($o,j)|0,a=a+Math.imul($o,J)|0,a=a+Math.imul(So,j)|0,b=b+Math.imul(So,J)|0,p=p+Math.imul(co,H)|0,a=a+Math.imul(co,G)|0,a=a+Math.imul(fo,H)|0,b=b+Math.imul(fo,G)|0,p=p+Math.imul(ko,Q)|0,a=a+Math.imul(ko,ro)|0,a=a+Math.imul(xo,Q)|0,b=b+Math.imul(xo,ro)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,eo)|0,a=a+Math.imul(I,A)|0,b=b+Math.imul(I,eo)|0;var Bo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,p=Math.imul(zo,O),a=Math.imul(zo,U),a=a+Math.imul(Lo,O)|0,b=Math.imul(Lo,U),p=p+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(ao,j)|0,b=b+Math.imul(ao,J)|0,p=p+Math.imul($o,H)|0,a=a+Math.imul($o,G)|0,a=a+Math.imul(So,H)|0,b=b+Math.imul(So,G)|0,p=p+Math.imul(co,Q)|0,a=a+Math.imul(co,ro)|0,a=a+Math.imul(fo,Q)|0,b=b+Math.imul(fo,ro)|0,p=p+Math.imul(ko,A)|0,a=a+Math.imul(ko,eo)|0,a=a+Math.imul(xo,A)|0,b=b+Math.imul(xo,eo)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,B)|0,b=b+Math.imul(I,lo)|0;var oa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(Uo,O),a=Math.imul(Uo,U),a=a+Math.imul(Po,O)|0,b=Math.imul(Po,U),p=p+Math.imul(zo,j)|0,a=a+Math.imul(zo,J)|0,a=a+Math.imul(Lo,j)|0,b=b+Math.imul(Lo,J)|0,p=p+Math.imul(X,H)|0,a=a+Math.imul(X,G)|0,a=a+Math.imul(ao,H)|0,b=b+Math.imul(ao,G)|0,p=p+Math.imul($o,Q)|0,a=a+Math.imul($o,ro)|0,a=a+Math.imul(So,Q)|0,b=b+Math.imul(So,ro)|0,p=p+Math.imul(co,A)|0,a=a+Math.imul(co,eo)|0,a=a+Math.imul(fo,A)|0,b=b+Math.imul(fo,eo)|0,p=p+Math.imul(ko,B)|0,a=a+Math.imul(ko,lo)|0,a=a+Math.imul(xo,B)|0,b=b+Math.imul(xo,lo)|0,p=p+Math.imul(w,po)|0,a=a+Math.imul(w,_o)|0,a=a+Math.imul(I,po)|0,b=b+Math.imul(I,_o)|0;var Yo=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,p=Math.imul(Ko,O),a=Math.imul(Ko,U),a=a+Math.imul(go,O)|0,b=Math.imul(go,U),p=p+Math.imul(Uo,j)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Po,j)|0,b=b+Math.imul(Po,J)|0,p=p+Math.imul(zo,H)|0,a=a+Math.imul(zo,G)|0,a=a+Math.imul(Lo,H)|0,b=b+Math.imul(Lo,G)|0,p=p+Math.imul(X,Q)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(ao,Q)|0,b=b+Math.imul(ao,ro)|0,p=p+Math.imul($o,A)|0,a=a+Math.imul($o,eo)|0,a=a+Math.imul(So,A)|0,b=b+Math.imul(So,eo)|0,p=p+Math.imul(co,B)|0,a=a+Math.imul(co,lo)|0,a=a+Math.imul(fo,B)|0,b=b+Math.imul(fo,lo)|0,p=p+Math.imul(ko,po)|0,a=a+Math.imul(ko,_o)|0,a=a+Math.imul(xo,po)|0,b=b+Math.imul(xo,_o)|0,p=p+Math.imul(w,ho)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,ho)|0,b=b+Math.imul(I,yo)|0;var aa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(L,O),a=Math.imul(L,U),a=a+Math.imul(e,O)|0,b=Math.imul(e,U),p=p+Math.imul(Ko,j)|0,a=a+Math.imul(Ko,J)|0,a=a+Math.imul(go,j)|0,b=b+Math.imul(go,J)|0,p=p+Math.imul(Uo,H)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Po,H)|0,b=b+Math.imul(Po,G)|0,p=p+Math.imul(zo,Q)|0,a=a+Math.imul(zo,ro)|0,a=a+Math.imul(Lo,Q)|0,b=b+Math.imul(Lo,ro)|0,p=p+Math.imul(X,A)|0,a=a+Math.imul(X,eo)|0,a=a+Math.imul(ao,A)|0,b=b+Math.imul(ao,eo)|0,p=p+Math.imul($o,B)|0,a=a+Math.imul($o,lo)|0,a=a+Math.imul(So,B)|0,b=b+Math.imul(So,lo)|0,p=p+Math.imul(co,po)|0,a=a+Math.imul(co,_o)|0,a=a+Math.imul(fo,po)|0,b=b+Math.imul(fo,_o)|0,p=p+Math.imul(ko,ho)|0,a=a+Math.imul(ko,yo)|0,a=a+Math.imul(xo,ho)|0,b=b+Math.imul(xo,yo)|0,p=p+Math.imul(w,To)|0,a=a+Math.imul(w,qo)|0,a=a+Math.imul(I,To)|0,b=b+Math.imul(I,qo)|0;var Co=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,p=Math.imul(f,O),a=Math.imul(f,U),a=a+Math.imul(R,O)|0,b=Math.imul(R,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(e,j)|0,b=b+Math.imul(e,J)|0,p=p+Math.imul(Ko,H)|0,a=a+Math.imul(Ko,G)|0,a=a+Math.imul(go,H)|0,b=b+Math.imul(go,G)|0,p=p+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Po,Q)|0,b=b+Math.imul(Po,ro)|0,p=p+Math.imul(zo,A)|0,a=a+Math.imul(zo,eo)|0,a=a+Math.imul(Lo,A)|0,b=b+Math.imul(Lo,eo)|0,p=p+Math.imul(X,B)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(ao,B)|0,b=b+Math.imul(ao,lo)|0,p=p+Math.imul($o,po)|0,a=a+Math.imul($o,_o)|0,a=a+Math.imul(So,po)|0,b=b+Math.imul(So,_o)|0,p=p+Math.imul(co,ho)|0,a=a+Math.imul(co,yo)|0,a=a+Math.imul(fo,ho)|0,b=b+Math.imul(fo,yo)|0,p=p+Math.imul(ko,To)|0,a=a+Math.imul(ko,qo)|0,a=a+Math.imul(xo,To)|0,b=b+Math.imul(xo,qo)|0,p=p+Math.imul(w,Wo)|0,a=a+Math.imul(w,Oo)|0,a=a+Math.imul(I,Wo)|0,b=b+Math.imul(I,Oo)|0;var ra=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(f,j),a=Math.imul(f,J),a=a+Math.imul(R,j)|0,b=Math.imul(R,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(e,H)|0,b=b+Math.imul(e,G)|0,p=p+Math.imul(Ko,Q)|0,a=a+Math.imul(Ko,ro)|0,a=a+Math.imul(go,Q)|0,b=b+Math.imul(go,ro)|0,p=p+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Po,A)|0,b=b+Math.imul(Po,eo)|0,p=p+Math.imul(zo,B)|0,a=a+Math.imul(zo,lo)|0,a=a+Math.imul(Lo,B)|0,b=b+Math.imul(Lo,lo)|0,p=p+Math.imul(X,po)|0,a=a+Math.imul(X,_o)|0,a=a+Math.imul(ao,po)|0,b=b+Math.imul(ao,_o)|0,p=p+Math.imul($o,ho)|0,a=a+Math.imul($o,yo)|0,a=a+Math.imul(So,ho)|0,b=b+Math.imul(So,yo)|0,p=p+Math.imul(co,To)|0,a=a+Math.imul(co,qo)|0,a=a+Math.imul(fo,To)|0,b=b+Math.imul(fo,qo)|0,p=p+Math.imul(ko,Wo)|0,a=a+Math.imul(ko,Oo)|0,a=a+Math.imul(xo,Wo)|0,b=b+Math.imul(xo,Oo)|0;var ea=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(f,H),a=Math.imul(f,G),a=a+Math.imul(R,H)|0,b=Math.imul(R,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,ro)|0,a=a+Math.imul(e,Q)|0,b=b+Math.imul(e,ro)|0,p=p+Math.imul(Ko,A)|0,a=a+Math.imul(Ko,eo)|0,a=a+Math.imul(go,A)|0,b=b+Math.imul(go,eo)|0,p=p+Math.imul(Uo,B)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Po,B)|0,b=b+Math.imul(Po,lo)|0,p=p+Math.imul(zo,po)|0,a=a+Math.imul(zo,_o)|0,a=a+Math.imul(Lo,po)|0,b=b+Math.imul(Lo,_o)|0,p=p+Math.imul(X,ho)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(ao,ho)|0,b=b+Math.imul(ao,yo)|0,p=p+Math.imul($o,To)|0,a=a+Math.imul($o,qo)|0,a=a+Math.imul(So,To)|0,b=b+Math.imul(So,qo)|0,p=p+Math.imul(co,Wo)|0,a=a+Math.imul(co,Oo)|0,a=a+Math.imul(fo,Wo)|0,b=b+Math.imul(fo,Oo)|0;var la=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(la>>>26)|0,la&=67108863,p=Math.imul(f,Q),a=Math.imul(f,ro),a=a+Math.imul(R,Q)|0,b=Math.imul(R,ro),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,eo)|0,a=a+Math.imul(e,A)|0,b=b+Math.imul(e,eo)|0,p=p+Math.imul(Ko,B)|0,a=a+Math.imul(Ko,lo)|0,a=a+Math.imul(go,B)|0,b=b+Math.imul(go,lo)|0,p=p+Math.imul(Uo,po)|0,a=a+Math.imul(Uo,_o)|0,a=a+Math.imul(Po,po)|0,b=b+Math.imul(Po,_o)|0,p=p+Math.imul(zo,ho)|0,a=a+Math.imul(zo,yo)|0,a=a+Math.imul(Lo,ho)|0,b=b+Math.imul(Lo,yo)|0,p=p+Math.imul(X,To)|0,a=a+Math.imul(X,qo)|0,a=a+Math.imul(ao,To)|0,b=b+Math.imul(ao,qo)|0,p=p+Math.imul($o,Wo)|0,a=a+Math.imul($o,Oo)|0,a=a+Math.imul(So,Wo)|0,b=b+Math.imul(So,Oo)|0;var sa=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(f,A),a=Math.imul(f,eo),a=a+Math.imul(R,A)|0,b=Math.imul(R,eo),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,lo)|0,a=a+Math.imul(e,B)|0,b=b+Math.imul(e,lo)|0,p=p+Math.imul(Ko,po)|0,a=a+Math.imul(Ko,_o)|0,a=a+Math.imul(go,po)|0,b=b+Math.imul(go,_o)|0,p=p+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Po,ho)|0,b=b+Math.imul(Po,yo)|0,p=p+Math.imul(zo,To)|0,a=a+Math.imul(zo,qo)|0,a=a+Math.imul(Lo,To)|0,b=b+Math.imul(Lo,qo)|0,p=p+Math.imul(X,Wo)|0,a=a+Math.imul(X,Oo)|0,a=a+Math.imul(ao,Wo)|0,b=b+Math.imul(ao,Oo)|0;var na=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(f,B),a=Math.imul(f,lo),a=a+Math.imul(R,B)|0,b=Math.imul(R,lo),p=p+Math.imul(L,po)|0,a=a+Math.imul(L,_o)|0,a=a+Math.imul(e,po)|0,b=b+Math.imul(e,_o)|0,p=p+Math.imul(Ko,ho)|0,a=a+Math.imul(Ko,yo)|0,a=a+Math.imul(go,ho)|0,b=b+Math.imul(go,yo)|0,p=p+Math.imul(Uo,To)|0,a=a+Math.imul(Uo,qo)|0,a=a+Math.imul(Po,To)|0,b=b+Math.imul(Po,qo)|0,p=p+Math.imul(zo,Wo)|0,a=a+Math.imul(zo,Oo)|0,a=a+Math.imul(Lo,Wo)|0,b=b+Math.imul(Lo,Oo)|0;var ma=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(f,po),a=Math.imul(f,_o),a=a+Math.imul(R,po)|0,b=Math.imul(R,_o),p=p+Math.imul(L,ho)|0,a=a+Math.imul(L,yo)|0,a=a+Math.imul(e,ho)|0,b=b+Math.imul(e,yo)|0,p=p+Math.imul(Ko,To)|0,a=a+Math.imul(Ko,qo)|0,a=a+Math.imul(go,To)|0,b=b+Math.imul(go,qo)|0,p=p+Math.imul(Uo,Wo)|0,a=a+Math.imul(Uo,Oo)|0,a=a+Math.imul(Po,Wo)|0,b=b+Math.imul(Po,Oo)|0;var ba=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ba>>>26)|0,ba&=67108863,p=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(R,ho)|0,b=Math.imul(R,yo),p=p+Math.imul(L,To)|0,a=a+Math.imul(L,qo)|0,a=a+Math.imul(e,To)|0,b=b+Math.imul(e,qo)|0,p=p+Math.imul(Ko,Wo)|0,a=a+Math.imul(Ko,Oo)|0,a=a+Math.imul(go,Wo)|0,b=b+Math.imul(go,Oo)|0;var _a=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(f,To),a=Math.imul(f,qo),a=a+Math.imul(R,To)|0,b=Math.imul(R,qo),p=p+Math.imul(L,Wo)|0,a=a+Math.imul(L,Oo)|0,a=a+Math.imul(e,Wo)|0,b=b+Math.imul(e,Oo)|0;var ia=(N+p|0)+((a&8191)<<13)|0;N=(b+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(f,Wo),a=Math.imul(f,Oo),a=a+Math.imul(R,Wo)|0,b=Math.imul(R,Oo);var ca=(N+p|0)+((a&8191)<<13)|0;return N=(b+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,t[0]=Go,t[1]=Io,t[2]=Do,t[3]=Qo,t[4]=Bo,t[5]=oa,t[6]=Yo,t[7]=aa,t[8]=Co,t[9]=ra,t[10]=ea,t[11]=la,t[12]=sa,t[13]=na,t[14]=ma,t[15]=ba,t[16]=_a,t[17]=ia,t[18]=ca,N!==0&&(t[19]=N,c.length++),c};Math.imul||(F=q);function g(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var l=0,m=0,t=0;t<c.length-1;t++){var N=m;m=0;for(var p=l&67108863,a=Math.min(t,n.length-1),b=Math.max(0,t-o.length+1);b<=a;b++){var S=t-b,w=o.words[S]|0,I=n.words[b]|0,No=w*I,ko=No&67108863;N=N+(No/67108864|0)|0,ko=ko+p|0,p=ko&67108863,N=N+(ko>>>26)|0,m+=N>>>26,N&=67108863}c.words[t]=p,l=N,N=m}return l!==0?c.words[t]=l:c.length--,c.strip()}function E(o,n,c){var l=new z;return l.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,l=this.length+o.length;return this.length===10&&o.length===10?c=F(this,o,n):l<63?c=q(this,o,n):l<1024?c=g(this,o,n):c=E(this,o,n),c};function z(o,n){this.x=o,this.y=n}z.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,l=0;l<o;l++)n[l]=this.revBin(l,c,o);return n},z.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var l=0,m=0;m<n;m++)l|=(o&1)<<n-m-1,o>>=1;return l},z.prototype.permute=function(o,n,c,l,m,t){for(var N=0;N<t;N++)l[N]=n[o[N]],m[N]=c[o[N]]},z.prototype.transform=function(o,n,c,l,m,t){this.permute(t,o,n,c,l,m);for(var N=1;N<m;N<<=1)for(var p=N<<1,a=Math.cos(2*Math.PI/p),b=Math.sin(2*Math.PI/p),S=0;S<m;S+=p)for(var w=a,I=b,No=0;No<N;No++){var ko=c[S+No],xo=l[S+No],bo=c[S+No+N],co=l[S+No+N],fo=w*bo-I*co;co=w*co+I*bo,bo=fo,c[S+No]=ko+bo,l[S+No]=xo+co,c[S+No+N]=ko-bo,l[S+No+N]=xo-co,No!==p&&(fo=a*w-b*I,I=a*I+b*w,w=fo)}},z.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,l=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+l},z.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var l=0;l<c/2;l++){var m=o[l];o[l]=o[c-l-1],o[c-l-1]=m,m=n[l],n[l]=-n[c-l-1],n[c-l-1]=-m}},z.prototype.normalize13b=function(o,n){for(var c=0,l=0;l<n/2;l++){var m=Math.round(o[2*l+1]/n)*8192+Math.round(o[2*l]/n)+c;o[l]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},z.prototype.convert13b=function(o,n,c,l){for(var m=0,t=0;t<n;t++)m=m+(o[t]|0),c[2*t]=m&8191,m=m>>>13,c[2*t+1]=m&8191,m=m>>>13;for(t=2*n;t<l;++t)c[t]=0;_(m===0),_((m&-8192)===0)},z.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},z.prototype.mulp=function(o,n,c){var l=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(l),t=this.stub(l),N=new Array(l),p=new Array(l),a=new Array(l),b=new Array(l),S=new Array(l),w=new Array(l),I=c.words;I.length=l,this.convert13b(o.words,o.length,N,l),this.convert13b(n.words,n.length,b,l),this.transform(N,t,p,a,l,m),this.transform(b,t,S,w,l,m);for(var No=0;No<l;No++){var ko=p[No]*S[No]-a[No]*w[No];a[No]=p[No]*w[No]+a[No]*S[No],p[No]=ko}return this.conjugate(p,a,l),this.transform(p,a,I,t,l,m),this.conjugate(I,t,l),this.normalize13b(I,l),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),E(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){_(typeof o=="number"),_(o<67108864);for(var n=0,c=0;c<this.length;c++){var l=(this.words[c]|0)*o,m=(l&67108863)+(n&67108863);n>>=26,n+=l/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=x(o);if(n.length===0)return new u(1);for(var c=this,l=0;l<n.length&&n[l]===0;l++,c=c.sqr());if(++l<n.length)for(var m=c.sqr();l<n.length;l++,m=m.sqr())n[l]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=67108863>>>26-n<<26-n,m;if(n!==0){var t=0;for(m=0;m<this.length;m++){var N=this.words[m]&l,p=(this.words[m]|0)-N<<n;this.words[m]=p|t,t=N>>>26-n}t&&(this.words[m]=t,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return _(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){_(typeof o=="number"&&o>=0);var l;n?l=(n-n%26)/26:l=0;var m=o%26,t=Math.min((o-m)/26,this.length),N=67108863^67108863>>>m<<m,p=c;if(l-=t,l=Math.max(0,l),p){for(var a=0;a<t;a++)p.words[a]=this.words[a];p.length=t}if(t!==0)if(this.length>t)for(this.length-=t,a=0;a<this.length;a++)this.words[a]=this.words[a+t];else this.words[0]=0,this.length=1;var b=0;for(a=this.length-1;a>=0&&(b!==0||a>=l);a--){var S=this.words[a]|0;this.words[a]=b<<26-m|S>>>m,b=S&N}return p&&b!==0&&(p.words[p.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return _(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&l)},u.prototype.imaskn=function(o){_(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(_(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var l=67108863^67108863>>>n<<n;this.words[this.length-1]&=l}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return _(typeof o=="number"),_(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(_(typeof o=="number"),_(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var l=o.length+c,m;this._expand(l);var t,N=0;for(m=0;m<o.length;m++){t=(this.words[m+c]|0)+N;var p=(o.words[m]|0)*n;t-=p&67108863,N=(t>>26)-(p/67108864|0),this.words[m+c]=t&67108863}for(;m<this.length-c;m++)t=(this.words[m+c]|0)+N,N=t>>26,this.words[m+c]=t&67108863;if(N===0)return this.strip();for(_(N===-1),N=0,m=0;m<this.length;m++)t=-(this.words[m]|0)+N,N=t>>26,this.words[m]=t&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,l=this.clone(),m=o,t=m.words[m.length-1]|0,N=this._countBits(t);c=26-N,c!==0&&(m=m.ushln(c),l.iushln(c),t=m.words[m.length-1]|0);var p=l.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=p+1,a.words=new Array(a.length);for(var b=0;b<a.length;b++)a.words[b]=0}var S=l.clone()._ishlnsubmul(m,1,p);S.negative===0&&(l=S,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(l.words[m.length+w]|0)*67108864+(l.words[m.length+w-1]|0);for(I=Math.min(I/t|0,67108863),l._ishlnsubmul(m,I,w);l.negative!==0;)I--,l.negative=0,l._ishlnsubmul(m,1,w),l.isZero()||(l.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),l.strip(),n!=="div"&&c!==0&&l.iushrn(c),{div:a||null,mod:l}},u.prototype.divmod=function(o,n,c){if(_(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var l,m,t;return this.negative!==0&&o.negative===0?(t=this.neg().divmod(o,n),n!=="mod"&&(l=t.div.neg()),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:l,mod:m}):this.negative===0&&o.negative!==0?(t=this.divmod(o.neg(),n),n!=="mod"&&(l=t.div.neg()),{div:l,mod:t.mod}):(this.negative&o.negative)!==0?(t=this.neg().divmod(o.neg(),n),n!=="div"&&(m=t.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:t.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,l=o.ushrn(1),m=o.andln(1),t=c.cmp(l);return t<0||m===1&&t===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){_(o<=67108863);for(var n=67108864%o,c=0,l=this.length-1;l>=0;l--)c=(n*c+(this.words[l]|0))%o;return c},u.prototype.idivn=function(o){_(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var l=(this.words[c]|0)+n*67108864;this.words[c]=l/o|0,n=l%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=new u(0),N=new u(1),p=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++p;for(var a=c.clone(),b=n.clone();!n.isZero();){for(var S=0,w=1;(n.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(l.isOdd()||m.isOdd())&&(l.iadd(a),m.isub(b)),l.iushrn(1),m.iushrn(1);for(var I=0,No=1;(c.words[0]&No)===0&&I<26;++I,No<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(t.isOdd()||N.isOdd())&&(t.iadd(a),N.isub(b)),t.iushrn(1),N.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(t),m.isub(N)):(c.isub(n),t.isub(l),N.isub(m))}return{a:t,b:N,gcd:c.iushln(p)}},u.prototype._invmp=function(o){_(o.negative===0),_(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var l=new u(1),m=new u(0),t=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,p=1;(n.words[0]&p)===0&&N<26;++N,p<<=1);if(N>0)for(n.iushrn(N);N-- >0;)l.isOdd()&&l.iadd(t),l.iushrn(1);for(var a=0,b=1;(c.words[0]&b)===0&&a<26;++a,b<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(t),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),l.isub(m)):(c.isub(n),m.isub(l))}var S;return n.cmpn(1)===0?S=l:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var l=0;n.isEven()&&c.isEven();l++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var t=n;n=c,c=t}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(l)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){_(typeof o=="number");var n=o%26,c=(o-n)/26,l=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=l,this;for(var m=l,t=c;m!==0&&t<this.length;t++){var N=this.words[t]|0;N+=m,m=N>>>26,N&=67108863,this.words[t]=N}return m!==0&&(this.words[t]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),_(o<=67108863,"Number is too big");var l=this.words[0]|0;c=l===o?0:l<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var l=this.words[c]|0,m=o.words[c]|0;if(l!==m){l<m?n=-1:l>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new uo(o)},u.prototype.toRed=function(o){return _(!this.red,"Already a number in reduction context"),_(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return _(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return _(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var l=c<this.n?-1:n.ucmp(this.p);return l===0?(n.words[0]=0,n.length=1):l>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},Y.prototype.split=function(o,n){o.iushrn(this.n,0,n)},Y.prototype.imulK=function(o){return o.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(o,n){for(var c=4194303,l=Math.min(o.length,9),m=0;m<l;m++)n.words[m]=o.words[m];if(n.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var t=o.words[9];for(n.words[n.length++]=t&c,m=10;m<o.length;m++){var N=o.words[m]|0;o.words[m-10]=(N&c)<<4|t>>>22,t=N}t>>>=22,o.words[m-10]=t,t===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var l=o.words[c]|0;n+=l*977,o.words[c]=n&67108863,n=l*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function mo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(mo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(to,Y);function Mo(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(Mo,Y),Mo.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var l=(o.words[c]|0)*19+n,m=l&67108863;l>>>=26,o.words[c]=m,n=l}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(K[o])return K[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new mo;else if(o==="p192")n=new to;else if(o==="p25519")n=new Mo;else throw new Error("Unknown prime "+o);return K[o]=n,n};function uo(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else _(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}uo.prototype._verify1=function(o){_(o.negative===0,"red works only with positives"),_(o.red,"red works only with red numbers")},uo.prototype._verify2=function(o,n){_((o.negative|n.negative)===0,"red works only with positives"),_(o.red&&o.red===n.red,"red works only with red numbers")},uo.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},uo.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},uo.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},uo.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},uo.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},uo.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},uo.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},uo.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},uo.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},uo.prototype.isqr=function(o){return this.imul(o,o.clone())},uo.prototype.sqr=function(o){return this.mul(o,o)},uo.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(_(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var l=this.m.subn(1),m=0;!l.isZero()&&l.andln(1)===0;)m++,l.iushrn(1);_(!l.isZero());var t=new u(1).toRed(this),N=t.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,p).cmp(N)!==0;)a.redIAdd(N);for(var b=this.pow(a,l),S=this.pow(o,l.addn(1).iushrn(1)),w=this.pow(o,l),I=m;w.cmp(t)!==0;){for(var No=w,ko=0;No.cmp(t)!==0;ko++)No=No.redSqr();_(ko<I);var xo=this.pow(b,new u(1).iushln(I-ko-1));S=S.redMul(xo),b=xo.redSqr(),w=w.redMul(b),I=ko}return S},uo.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},uo.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,l=new Array(1<<c);l[0]=new u(1).toRed(this),l[1]=o;for(var m=2;m<l.length;m++)l[m]=this.mul(l[m-1],o);var t=l[0],N=0,p=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var b=n.words[m],S=a-1;S>=0;S--){var w=b>>S&1;if(t!==l[0]&&(t=this.sqr(t)),w===0&&N===0){p=0;continue}N<<=1,N|=w,p++,!(p!==c&&(m!==0||S!==0))&&(t=this.mul(t,l[N]),p=0,N=0)}a=26}return t},uo.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},uo.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Vo(o)};function Vo(o){uo.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Vo,uo),Vo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Vo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Vo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),l=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(l).iushrn(this.shift),t=m;return m.cmp(this.m)>=0?t=m.isub(this.m):m.cmpn(0)<0&&(t=m.iadd(this.m)),t._forceRed(this)},Vo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof d>"u"||d,s)}),Ur=Jo((s,d)=>{var i=is(),h=ta().Buffer;function _(T,u){return h.from(T.toRed(i.mont(u.modulus)).redPow(new i(u.publicExponent)).fromRed().toArray())}d.exports=_}),$0=Jo((s,d)=>{var i=ol(),h=De(),_=tn(),T=Xr(),u=gr(),v=is(),W=Ur(),y=os(),k=ta().Buffer;d.exports=function(x,q,F){var g;x.padding?g=x.padding:F?g=1:g=4;var E=i(x),z;if(g===4)z=Z(E,q);else if(g===1)z=$(E,q,F);else if(g===3){if(z=new v(q),z.cmp(E.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return F?y(z,E):W(z,E)};function Z(x,q){var F=x.modulus.byteLength(),g=q.length,E=_("sha1").update(k.alloc(0)).digest(),z=E.length,K=2*z;if(g>F-K-2)throw new Error("message too long");var Y=k.alloc(F-g-K-2),C=F-z-1,mo=h(z),to=u(k.concat([E,Y,k.alloc(1,1),q],C),T(mo,C)),Mo=u(mo,T(to,z));return new v(k.concat([k.alloc(1),Mo,to],F))}function $(x,q,F){var g=q.length,E=x.modulus.byteLength();if(g>E-11)throw new Error("message too long");var z;return F?z=k.alloc(E-g-3,255):z=V(E-g-3),new v(k.concat([k.from([0,F?1:2]),z,k.alloc(1),q],E))}function V(x){for(var q=k.allocUnsafe(x),F=0,g=h(x*2),E=0,z;F<x;)E===g.length&&(g=h(x*2),E=0),z=g[E++],z&&(q[F++]=z);return q}}),M0=Jo((s,d)=>{var i=ol(),h=Xr(),_=gr(),T=is(),u=os(),v=tn(),W=Ur(),y=ta().Buffer;d.exports=function(V,x,q){var F;V.padding?F=V.padding:q?F=1:F=4;var g=i(V),E=g.modulus.byteLength();if(x.length>E||new T(x).cmp(g.modulus)>=0)throw new Error("decryption error");var z;q?z=W(new T(x),g):z=u(x,g);var K=y.alloc(E-z.length);if(z=y.concat([K,z],E),F===4)return k(g,z);if(F===1)return Z(g,z,q);if(F===3)return z;throw new Error("unknown padding")};function k(V,x){var q=V.modulus.byteLength(),F=v("sha1").update(y.alloc(0)).digest(),g=F.length;if(x[0]!==0)throw new Error("decryption error");var E=x.slice(1,g+1),z=x.slice(g+1),K=_(E,h(z,g)),Y=_(z,h(K,q-g-1));if($(F,Y.slice(0,g)))throw new Error("decryption error");for(var C=g;Y[C]===0;)C++;if(Y[C++]!==1)throw new Error("decryption error");return Y.slice(C)}function Z(V,x,q){for(var F=x.slice(0,2),g=2,E=0;x[g++]!==0;)if(g>=x.length){E++;break}var z=x.slice(2,g-1);if((F.toString("hex")!=="0002"&&!q||F.toString("hex")!=="0001"&&q)&&E++,z.length<8&&E++,E)throw new Error("decryption error");return x.slice(g)}function $(V,x){V=y.from(V),x=y.from(x);var q=0,F=V.length;V.length!==x.length&&(q++,F=Math.min(V.length,x.length));for(var g=-1;++g<F;)q+=V[g]^x[g];return q}}),V0=Jo((s)=>{s.publicEncrypt=$0(),s.privateDecrypt=M0(),s.privateEncrypt=function(d,i){return s.publicEncrypt(d,i,!0)},s.publicDecrypt=function(d,i){return s.privateDecrypt(d,i,!0)}}),L0=Jo((s)=>{function d(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var i=ta(),h=De(),_=i.Buffer,T=i.kMaxLength,u=global.crypto||global.msCrypto,v=Math.pow(2,32)-1;function W(V,x){if(typeof V!="number"||V!==V)throw new TypeError("offset must be a number");if(V>v||V<0)throw new TypeError("offset must be a uint32");if(V>T||V>x)throw new RangeError("offset out of range")}function y(V,x,q){if(typeof V!="number"||V!==V)throw new TypeError("size must be a number");if(V>v||V<0)throw new TypeError("size must be a uint32");if(V+x>q||V>T)throw new RangeError("buffer too small")}u&&u.getRandomValues?(s.randomFill=k,s.randomFillSync=$):(s.randomFill=d,s.randomFillSync=d);function k(V,x,q,F){if(!_.isBuffer(V)&&!(V instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")F=x,x=0,q=V.length;else if(typeof q=="function")F=q,q=V.length-x;else if(typeof F!="function")throw new TypeError('"cb" argument must be a function');return W(x,V.length),y(q,x,V.length),Z(V,x,q,F)}function Z(V,x,q,F){var g=V.buffer,E=new Uint8Array(g,x,q);if(u.getRandomValues(E),F){process.nextTick(function(){F(null,V)});return}return V;var z}function $(V,x,q){if(typeof x>"u"&&(x=0),!_.isBuffer(V)&&!(V instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return W(x,V.length),q===void 0&&(q=V.length-x),y(q,x,V.length),Z(V,x,q)}}),Er=Jo((s)=>{s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=De(),s.createHash=s.Hash=tn(),s.createHmac=s.Hmac=er();var d=Zi(),i=Object.keys(d),h=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);s.getHashes=function(){return h};var _=ir();s.pbkdf2=_.pbkdf2,s.pbkdf2Sync=_.pbkdf2Sync;var T=Xi();s.Cipher=T.Cipher,s.createCipher=T.createCipher,s.Cipheriv=T.Cipheriv,s.createCipheriv=T.createCipheriv,s.Decipher=T.Decipher,s.createDecipher=T.createDecipher,s.Decipheriv=T.Decipheriv,s.createDecipheriv=T.createDecipheriv,s.getCiphers=T.getCiphers,s.listCiphers=T.listCiphers;var u=Ji();s.DiffieHellmanGroup=u.DiffieHellmanGroup,s.createDiffieHellmanGroup=u.createDiffieHellmanGroup,s.getDiffieHellman=u.getDiffieHellman,s.createDiffieHellman=u.createDiffieHellman,s.DiffieHellman=u.DiffieHellman;var v=q0();s.createSign=v.createSign,s.Sign=v.Sign,s.createVerify=v.createVerify,s.Verify=v.Verify,s.createECDH=x0();var W=V0();s.publicEncrypt=W.publicEncrypt,s.privateEncrypt=W.privateEncrypt,s.publicDecrypt=W.publicDecrypt,s.privateDecrypt=W.privateDecrypt;var y=L0();s.randomFill=y.randomFill,s.randomFillSync=y.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),jr={},In(jr,{DEFAULT_ENCODING:()=>on,default:()=>rc,getCurves:()=>fs,getRandomValues:()=>_s,randomUUID:()=>ts,scrypt:()=>nl,scryptSync:()=>el,timingSafeEqual:()=>yn,webcrypto:()=>vs}),Sl(jr,xe(Er())),W0=xe(Er()),on="buffer",_s=(s)=>crypto.getRandomValues(s),ts=()=>crypto.randomUUID(),w0=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],yn="timingSafeEqual"in crypto?(s,d)=>{let{byteLength:i}=s,{byteLength:h}=d;if(typeof i!="number"||typeof h!="number")throw new TypeError("Input must be an array buffer view");if(i!==h)throw new RangeError("Input buffers must have the same length");return crypto.timingSafeEqual(s,d)}:void 0,el="scryptSync"in crypto?(s,d,i,h)=>{let _=crypto.scryptSync(s,d,i,h);return on!=="buffer"?new Buffer(_).toString(on):new Buffer(_)}:void 0,nl="scryptSync"in crypto?function(s,d,i,h,_){if(typeof h=="function"&&(_=h,h=void 0),typeof _!="function"){var T=new TypeError("callback must be a function");throw T.code="ERR_INVALID_CALLBACK",T}try{let u=crypto.scryptSync(s,d,i,h);process.nextTick(_,null,on!=="buffer"?new Buffer(u).toString(on):new Buffer(u))}catch(u){throw u}}:void 0,yn&&(Object.defineProperty(yn,"name",{value:"::bunternal::"}),Object.defineProperty(nl,"name",{value:"::bunternal::"}),Object.defineProperty(el,"name",{value:"::bunternal::"})),vs=crypto,rc={...W0,getRandomValues:_s,randomUUID:ts,timingSafeEqual:yn,scryptSync:el,scrypt:nl,webcrypto:vs,getCurves:fs};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */}),T1=ys((s,d)=>{(function(i,h){if(typeof s==="object")d.exports=s=h();else if(typeof define==="function"&&define.amd)define([],h);else i.CryptoJS=h()})(s,function(){var i=i||function(h,_){var T;if(typeof window!=="undefined"&&window.crypto)T=window.crypto;if(typeof self!=="undefined"&&self.crypto)T=self.crypto;if(typeof globalThis!=="undefined"&&globalThis.crypto)T=globalThis.crypto;if(!T&&typeof window!=="undefined"&&window.msCrypto)T=window.msCrypto;if(!T&&typeof global!=="undefined"&&global.crypto)T=global.crypto;if(!T&&typeof X6==="function")try{T=(g6(),k1(q1))}catch(z){}var u=function(){if(T){if(typeof T.getRandomValues==="function")try{return T.getRandomValues(new Uint32Array(1))[0]}catch(z){}if(typeof T.randomBytes==="function")try{return T.randomBytes(4).readInt32LE()}catch(z){}}throw new Error("Native crypto module could not be used to get secure random number.")},v=Object.create||function(){function z(){}return function(K){var Y;return z.prototype=K,Y=new z,z.prototype=null,Y}}(),W={},y=W.lib={},k=y.Base=function(){return{extend:function(z){var K=v(this);if(z)K.mixIn(z);if(!K.hasOwnProperty("init")||this.init===K.init)K.init=function(){K.$super.init.apply(this,arguments)};return K.init.prototype=K,K.$super=this,K},create:function(){var z=this.extend();return z.init.apply(z,arguments),z},init:function(){},mixIn:function(z){for(var K in z)if(z.hasOwnProperty(K))this[K]=z[K];if(z.hasOwnProperty("toString"))this.toString=z.toString},clone:function(){return this.init.prototype.extend(this)}}}(),Z=y.WordArray=k.extend({init:function(z,K){if(z=this.words=z||[],K!=_)this.sigBytes=K;else this.sigBytes=z.length*4},toString:function(z){return(z||V).stringify(this)},concat:function(z){var K=this.words,Y=z.words,C=this.sigBytes,mo=z.sigBytes;if(this.clamp(),C%4)for(var to=0;to<mo;to++){var Mo=Y[to>>>2]>>>24-to%4*8&255;K[C+to>>>2]|=Mo<<24-(C+to)%4*8}else for(var uo=0;uo<mo;uo+=4)K[C+uo>>>2]=Y[uo>>>2];return this.sigBytes+=mo,this},clamp:function(){var z=this.words,K=this.sigBytes;z[K>>>2]&=4294967295<<32-K%4*8,z.length=h.ceil(K/4)},clone:function(){var z=k.clone.call(this);return z.words=this.words.slice(0),z},random:function(z){var K=[];for(var Y=0;Y<z;Y+=4)K.push(u());return new Z.init(K,z)}}),$=W.enc={},V=$.Hex={stringify:function(z){var{words:K,sigBytes:Y}=z,C=[];for(var mo=0;mo<Y;mo++){var to=K[mo>>>2]>>>24-mo%4*8&255;C.push((to>>>4).toString(16)),C.push((to&15).toString(16))}return C.join("")},parse:function(z){var K=z.length,Y=[];for(var C=0;C<K;C+=2)Y[C>>>3]|=parseInt(z.substr(C,2),16)<<24-C%8*4;return new Z.init(Y,K/2)}},x=$.Latin1={stringify:function(z){var{words:K,sigBytes:Y}=z,C=[];for(var mo=0;mo<Y;mo++){var to=K[mo>>>2]>>>24-mo%4*8&255;C.push(String.fromCharCode(to))}return C.join("")},parse:function(z){var K=z.length,Y=[];for(var C=0;C<K;C++)Y[C>>>2]|=(z.charCodeAt(C)&255)<<24-C%4*8;return new Z.init(Y,K)}},q=$.Utf8={stringify:function(z){try{return decodeURIComponent(escape(x.stringify(z)))}catch(K){throw new Error("Malformed UTF-8 data")}},parse:function(z){return x.parse(unescape(encodeURIComponent(z)))}},F=y.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new Z.init,this._nDataBytes=0},_append:function(z){if(typeof z=="string")z=q.parse(z);this._data.concat(z),this._nDataBytes+=z.sigBytes},_process:function(z){var K,Y=this._data,C=Y.words,mo=Y.sigBytes,to=this.blockSize,Mo=to*4,uo=mo/Mo;if(z)uo=h.ceil(uo);else uo=h.max((uo|0)-this._minBufferSize,0);var Vo=uo*to,o=h.min(Vo*4,mo);if(Vo){for(var n=0;n<Vo;n+=to)this._doProcessBlock(C,n);K=C.splice(0,Vo),Y.sigBytes-=o}return new Z.init(K,o)},clone:function(){var z=k.clone.call(this);return z._data=this._data.clone(),z},_minBufferSize:0}),g=y.Hasher=F.extend({cfg:k.extend(),init:function(z){this.cfg=this.cfg.extend(z),this.reset()},reset:function(){F.reset.call(this),this._doReset()},update:function(z){return this._append(z),this._process(),this},finalize:function(z){if(z)this._append(z);var K=this._doFinalize();return K},blockSize:16,_createHelper:function(z){return function(K,Y){return new z.init(Y).finalize(K)}},_createHmacHelper:function(z){return function(K,Y){return new E.HMAC.init(z,Y).finalize(K)}}}),E=W.algo={};return W}(Math);return i})}),U6=ys((s,d)=>{(function(i,h){if(typeof s==="object")d.exports=s=h(T1());else if(typeof define==="function"&&define.amd)define(["./core"],h);else h(i.CryptoJS)})(s,function(i){return function(h){var _=i,T=_.lib,u=T.WordArray,v=T.Hasher,W=_.algo,y=[];(function(){for(var q=0;q<64;q++)y[q]=h.abs(h.sin(q+1))*4294967296|0})();var k=W.MD5=v.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(q,F){for(var g=0;g<16;g++){var E=F+g,z=q[E];q[E]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}var K=this._hash.words,Y=q[F+0],C=q[F+1],mo=q[F+2],to=q[F+3],Mo=q[F+4],uo=q[F+5],Vo=q[F+6],o=q[F+7],n=q[F+8],c=q[F+9],l=q[F+10],m=q[F+11],t=q[F+12],N=q[F+13],p=q[F+14],a=q[F+15],b=K[0],S=K[1],w=K[2],I=K[3];b=Z(b,S,w,I,Y,7,y[0]),I=Z(I,b,S,w,C,12,y[1]),w=Z(w,I,b,S,mo,17,y[2]),S=Z(S,w,I,b,to,22,y[3]),b=Z(b,S,w,I,Mo,7,y[4]),I=Z(I,b,S,w,uo,12,y[5]),w=Z(w,I,b,S,Vo,17,y[6]),S=Z(S,w,I,b,o,22,y[7]),b=Z(b,S,w,I,n,7,y[8]),I=Z(I,b,S,w,c,12,y[9]),w=Z(w,I,b,S,l,17,y[10]),S=Z(S,w,I,b,m,22,y[11]),b=Z(b,S,w,I,t,7,y[12]),I=Z(I,b,S,w,N,12,y[13]),w=Z(w,I,b,S,p,17,y[14]),S=Z(S,w,I,b,a,22,y[15]),b=$(b,S,w,I,C,5,y[16]),I=$(I,b,S,w,Vo,9,y[17]),w=$(w,I,b,S,m,14,y[18]),S=$(S,w,I,b,Y,20,y[19]),b=$(b,S,w,I,uo,5,y[20]),I=$(I,b,S,w,l,9,y[21]),w=$(w,I,b,S,a,14,y[22]),S=$(S,w,I,b,Mo,20,y[23]),b=$(b,S,w,I,c,5,y[24]),I=$(I,b,S,w,p,9,y[25]),w=$(w,I,b,S,to,14,y[26]),S=$(S,w,I,b,n,20,y[27]),b=$(b,S,w,I,N,5,y[28]),I=$(I,b,S,w,mo,9,y[29]),w=$(w,I,b,S,o,14,y[30]),S=$(S,w,I,b,t,20,y[31]),b=V(b,S,w,I,uo,4,y[32]),I=V(I,b,S,w,n,11,y[33]),w=V(w,I,b,S,m,16,y[34]),S=V(S,w,I,b,p,23,y[35]),b=V(b,S,w,I,C,4,y[36]),I=V(I,b,S,w,Mo,11,y[37]),w=V(w,I,b,S,o,16,y[38]),S=V(S,w,I,b,l,23,y[39]),b=V(b,S,w,I,N,4,y[40]),I=V(I,b,S,w,Y,11,y[41]),w=V(w,I,b,S,to,16,y[42]),S=V(S,w,I,b,Vo,23,y[43]),b=V(b,S,w,I,c,4,y[44]),I=V(I,b,S,w,t,11,y[45]),w=V(w,I,b,S,a,16,y[46]),S=V(S,w,I,b,mo,23,y[47]),b=x(b,S,w,I,Y,6,y[48]),I=x(I,b,S,w,o,10,y[49]),w=x(w,I,b,S,p,15,y[50]),S=x(S,w,I,b,uo,21,y[51]),b=x(b,S,w,I,t,6,y[52]),I=x(I,b,S,w,to,10,y[53]),w=x(w,I,b,S,l,15,y[54]),S=x(S,w,I,b,C,21,y[55]),b=x(b,S,w,I,n,6,y[56]),I=x(I,b,S,w,a,10,y[57]),w=x(w,I,b,S,Vo,15,y[58]),S=x(S,w,I,b,N,21,y[59]),b=x(b,S,w,I,Mo,6,y[60]),I=x(I,b,S,w,m,10,y[61]),w=x(w,I,b,S,mo,15,y[62]),S=x(S,w,I,b,c,21,y[63]),K[0]=K[0]+b|0,K[1]=K[1]+S|0,K[2]=K[2]+w|0,K[3]=K[3]+I|0},_doFinalize:function(){var q=this._data,F=q.words,g=this._nDataBytes*8,E=q.sigBytes*8;F[E>>>5]|=128<<24-E%32;var z=h.floor(g/4294967296),K=g;F[(E+64>>>9<<4)+15]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,F[(E+64>>>9<<4)+14]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360,q.sigBytes=(F.length+1)*4,this._process();var Y=this._hash,C=Y.words;for(var mo=0;mo<4;mo++){var to=C[mo];C[mo]=(to<<8|to>>>24)&16711935|(to<<24|to>>>8)&4278255360}return Y},clone:function(){var q=v.clone.call(this);return q._hash=this._hash.clone(),q}});function Z(q,F,g,E,z,K,Y){var C=q+(F&g|~F&E)+z+Y;return(C<<K|C>>>32-K)+F}function $(q,F,g,E,z,K,Y){var C=q+(F&E|g&~E)+z+Y;return(C<<K|C>>>32-K)+F}function V(q,F,g,E,z,K,Y){var C=q+(F^g^E)+z+Y;return(C<<K|C>>>32-K)+F}function x(q,F,g,E,z,K,Y){var C=q+(g^(F|~E))+z+Y;return(C<<K|C>>>32-K)+F}_.MD5=v._createHelper(k),_.HmacMD5=v._createHmacHelper(k)}(Math),i.MD5})}),E6=ys((s,d)=>{(function(i,h){if(typeof s==="object")d.exports=s=h(T1());else if(typeof define==="function"&&define.amd)define(["./core"],h);else h(i.CryptoJS)})(s,function(i){return i.enc.Latin1})}),j6=ys((s,d)=>{d.exports=function i(h){return atob(h)}});class Xe{getEraseSize(s,d){return d}}var ge=Ma(()=>{}),kn,J6=Ma(()=>{kn={entry:1074521560,text:"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",text_start:1074520064,data:"GOv8P9jnC0Bx6AtA8+wLQO3oC0CP6AtA7egLQEnpC0AG6gtAeOoLQCHqC0CB5wtAo+kLQPjpC0Bn6QtAmuoLQI7pC0Ca6gtAXegLQLPoC0Dt6AtASekLQHfoC0BM6wtAs+wLQKXmC0DX7AtApeYLQKXmC0Cl5gtApeYLQKXmC0Cl5gtApeYLQKXmC0Dz6gtApeYLQM3rC0Cz7AtA",data_start:1073605544}}),P6={};be(P6,{ESP32ROM:()=>vc});class vc extends Xe{constructor(){super(...arguments);this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=kn.text_start,this.ENTRY=kn.entry,this.DATA_START=kn.data_start,this.ROM_DATA=kn.data,this.ROM_TEXT=kn.text}async readEfuse(s,d){const i=this.EFUSE_RD_REG_BASE+4*d;return s.debug("Read efuse "+i),await s.readReg(i)}async getPkgVersion(s){const d=await this.readEfuse(s,3);let i=d>>9&7;return i+=(d>>2&1)<<3,i}async getChipRevision(s){const d=await this.readEfuse(s,3),i=await this.readEfuse(s,5),h=await s.readReg(this.DR_REG_SYSCON_BASE+124),_=d>>15&1,T=i>>20&1,u=h>>31&1;if(_!=0)if(T!=0)if(u!=0)return 3;else return 2;else return 1;return 0}async getChipDescription(s){const d=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"];let i="";const h=await this.getPkgVersion(s),_=await this.getChipRevision(s),T=_==3;if((await this.readEfuse(s,3)&1)!=0)d[0]="ESP32-S0WDQ6",d[1]="ESP32-S0WD";if(T)d[5]="ESP32-PICO-V3";if(h>=0&&h<=6)i=d[h];else i="Unknown ESP32";if(T&&(h===0||h===1))i+="-V3";return i+" (revision "+_+")"}async getChipFeatures(s){const d=["Wi-Fi"],i=await this.readEfuse(s,3);if((i&2)===0)d.push(" BT");if((i&1)!==0)d.push(" Single Core");else d.push(" Dual Core");if((i&8192)!==0)if((i&4096)!==0)d.push(" 160MHz");else d.push(" 240MHz");const h=await this.getPkgVersion(s);if([2,4,5,6].indexOf(h)!==-1)d.push(" Embedded Flash");if(h===6)d.push(" Embedded PSRAM");if((await this.readEfuse(s,4)>>8&31)!==0)d.push(" VRef calibration in efuse");if((i>>14&1)!==0)d.push(" BLK3 partially reserved");const _=await this.readEfuse(s,6)&3,T=["None","3/4","Repeat (UNSUPPORTED)","Invalid"];return d.push(" Coding Scheme "+T[_]),d}async getCrystalFreq(s){const d=await s.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,i=s.transport.baudrate*d/1e6/this.XTAL_CLK_DIVIDER;let h;if(i>33)h=40;else h=26;if(Math.abs(h-i)>1)s.info("WARNING: Unsupported crystal in use");return h}_d2h(s){const d=(+s).toString(16);return d.length===1?"0"+d:d}async readMac(s){let d=await this.readEfuse(s,1);d=d>>>0;let i=await this.readEfuse(s,2);i=i>>>0;const h=new Uint8Array(6);return h[0]=i>>8&255,h[1]=i&255,h[2]=d>>24&255,h[3]=d>>16&255,h[4]=d>>8&255,h[5]=d&255,this._d2h(h[0])+":"+this._d2h(h[1])+":"+this._d2h(h[2])+":"+this._d2h(h[3])+":"+this._d2h(h[4])+":"+this._d2h(h[5])}}var K6=Ma(()=>{ge(),J6()}),qn,I6=Ma(()=>{qn={entry:1077413532,text:"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",text_start:1077411840,data:"IGvIP3YKOEDGCjhAHgs4QMILOEAuDDhA3As4QEIJOEB+CzhAvgs4QDILOEDyCDhAZgs4QPIIOEBQCjhAlgo4QMYKOEAeCzhAYgo4QKYJOEDWCThAXgo4QIAOOEDGCjhARg04QDgOOEAyCDhAYA44QDIIOEAyCDhAMgg4QDIIOEAyCDhAMgg4QDIIOEAyCDhA4gw4QDIIOEBkDThAOA44QA==",data_start:1070164912}}),G6={};be(G6,{ESP32C3ROM:()=>Nc});class Nc extends Xe{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=qn.text_start,this.ENTRY=qn.entry,this.DATA_START=qn.data_start,this.ROM_DATA=qn.data,this.ROM_TEXT=qn.text}async getPkgVersion(s){const d=this.EFUSE_BASE+68+12;return await s.readReg(d)>>21&7}async getChipRevision(s){const d=this.EFUSE_BASE+68+12;return(await s.readReg(d)&1835008)>>18}async getChipDescription(s){let d;if(await this.getPkgVersion(s)===0)d="ESP32-C3";else d="unknown ESP32-C3";const i=await this.getChipRevision(s);return d+=" (revision "+i+")",d}async getChipFeatures(s){return["Wi-Fi"]}async getCrystalFreq(s){return 40}_d2h(s){const d=(+s).toString(16);return d.length===1?"0"+d:d}async readMac(s){let d=await s.readReg(this.MAC_EFUSE_REG);d=d>>>0;let i=await s.readReg(this.MAC_EFUSE_REG+4);i=i>>>0&65535;const h=new Uint8Array(6);return h[0]=i>>8&255,h[1]=i&255,h[2]=d>>24&255,h[3]=d>>16&255,h[4]=d>>8&255,h[5]=d&255,this._d2h(h[0])+":"+this._d2h(h[1])+":"+this._d2h(h[2])+":"+this._d2h(h[3])+":"+this._d2h(h[4])+":"+this._d2h(h[5])}getEraseSize(s,d){return d}}var D6=Ma(()=>{ge(),I6()}),Tn,H6=Ma(()=>{Tn={entry:1077413304,text:"ARG3BwBgTsaDqYcASsg3Sco/JspSxAbOIsy3BABgfVoTCQkAwEwTdPQ/DeDyQGJEI6g0AUJJ0kSySSJKBWGCgIhAgycJABN19Q+Cl30U4xlE/8m/EwcADJRBqodjGOUAhUeFxiOgBQB5VYKABUdjh+YACUZjjcYAfVWCgEIFEwewDUGFY5XnAolHnMH1t5MGwA1jFtUAmMETBQAMgoCTBtANfVVjldcAmMETBbANgoC3dcs/QRGThQW6BsZhP2NFBQa3d8s/k4eHsQOnBwgD1kcIE3X1D5MGFgDCBsGCI5LXCDKXIwCnAAPXRwiRZ5OHBwRjHvcCN/fKPxMHh7GhZ7qXA6YHCLc2yz+3d8s/k4eHsZOGhrVjH+YAI6bHCCOg1wgjkgcIIaD5V+MG9fyyQEEBgoAjptcII6DnCN23NycAYHxLnYv1/zc3AGB8S52L9f+CgEERBsbdN7cnAGAjpgcCNwcACJjDmEN9/8hXskATRfX/BYlBAYKAQREGxtk/fd03BwBAtycAYJjDNycAYBxD/f+yQEEBgoBBESLEN8TKP5MHxABKwAOpBwEGxibCYwoJBEU3OcW9RxMExACBRGPWJwEERL2Ik7QUAH03hT8cRDcGgAATl8cAmeA3BgABt/b/AHWPtyYAYNjCkMKYQn3/QUeR4AVHMwnpQLqXIygkARzEskAiRJJEAklBAYKAQREGxhMHAAxjEOUCEwWwDZcAyP/ngIDjEwXADbJAQQEXA8j/ZwCD4hMHsA3jGOX+lwDI/+eAgOETBdANxbdBESLEJsIGxiqEswS1AGMXlACyQCJEkkRBAYKAA0UEAAUERTfttxMFAAwXA8j/ZwAD3nVxJsPO3v10hWn9cpOEhPqThwkHIsVKwdLc1tqmlwbHFpGzhCcAKokmhS6ElzDI/+eAgJOThwkHBWqKl7OKR0Ep5AVnfXUTBIX5kwcHB6KXM4QnABMFhfqTBwcHqpeihTOFJwCXMMj/54CAkCKFwUW5PwFFhWIWkbpAKkSaRApJ9llmWtZaSWGCgKKJY3OKAIVpTobWhUqFlwDI/+eAQOITdfUPAe1OhtaFJoWXMMj/54DAi06ZMwQ0QVm3EwUwBlW/cXH9ck7PUs1Wy17HBtci1SbTStFayWLFZsNqwe7eqokWkRMFAAIuirKKtosCwpcAyP/ngEBIhWdj7FcRhWR9dBMEhPqThwQHopczhCcAIoWXMMj/54AghX17Eww7+ZMMi/kThwQHk4cEB2KX5pcBSTMMJwCzjCcAEk1je00JY3GpA3mgfTWmhYgYSTVdNSaGjBgihZcwyP/ngCCBppkmmWN1SQOzB6lBY/F3A7MEKkFj85oA1oQmhowYToWXAMj/54Dg0xN19Q9V3QLEgUR5XY1NowEBAGKFlwDI/+eAYMR9+QNFMQDmhS0xY04FAOPinf6FZ5OHBweml4qX2pcjiqf4hQT5t+MWpf2RR+OG9PYFZ311kwcHBxMEhfmilzOEJwATBYX6kwcHB6qXM4UnAKKFlyDI/+eAgHflOyKFwUXxM8U7EwUAApcAyP/ngOA2hWIWkbpQKlSaVApZ+klqStpKSku6SypMmkwKTfZdTWGCgAERBs4izFExNwTOP2wAEwVE/5cAyP/ngKDKqocFRZXnskeT9wcgPsZ5OTcnAGAcR7cGQAATBUT/1Y8cx7JFlwDI/+eAIMgzNaAA8kBiRAVhgoBBEbfHyj8GxpOHxwAFRyOA5wAT18UAmMcFZ30XzMPIx/mNOpWqlbGBjMsjqgcAQTcZwRMFUAyyQEEBgoABESLMN8TKP5MHxAAmysRHTsYGzkrIqokTBMQAY/OVAK6EqcADKUQAJpkTWckAHEhjVfAAHERjXvkC4T593UhAJobOhZcAyP/ngCC7E3X1DwHFkwdADFzIXECml1zAXESFj1zE8kBiRNJEQkmySQVhgoDdNm2/t1dBSRlxk4f3hAFFPs6G3qLcptrK2M7W0tTW0trQ3s7izObK6sjuxpcAyP/ngICtt0fKPzd3yz+ThwcAEweHumPg5xSlOZFFaAixMYU5t/fKP5OHh7EhZz6XIyD3CLcFOEC3BzhAAUaThwcLk4UFADdJyj8VRSMg+QCXAMj/54DgGzcHAGBcRxMFAAK3xMo/k+cXEFzHlwDI/+eAoBq3RwBgiF+BRbd5yz9xiWEVEzUVAJcAyP/ngOCwwWf9FxMHABCFZkFmtwUAAQFFk4TEALdKyj8NapcAyP/ngOCrk4mJsRMJCQATi8oAJpqDp8kI9d+Dq8kIhUcjpgkIIwLxAoPHGwAJRyMT4QKjAvECAtRNR2OL5wZRR2OJ5wYpR2Of5wCDxzsAA8crAKIH2Y8RR2OW5wCDp4sAnEM+1EE2oUVIEJE+g8c7AAPHKwCiB9mPEWdBB2N+9wITBbANlwDI/+eAQJQTBcANlwDI/+eAgJMTBeAOlwDI/+eAwJKBNr23I6AHAJEHbb3JRyMT8QJ9twPHGwDRRmPn5gKFRmPm5gABTBME8A+dqHkXE3f3D8lG4+jm/rd2yz8KB5OGxro2lxhDAoeTBgcDk/b2DxFG42nW/BMH9wITd/cPjUZj7uYIt3bLPwoHk4aGvzaXGEMChxMHQAJjmucQAtQdRAFFlwDI/+eAIIoBRYE8TTxFPKFFSBB9FEk0ffABTAFEE3X0DyU8E3X8Dw08UTzjEQTsg8cbAElHY2X3MAlH43n36vUXk/f3Dz1H42P36jd3yz+KBxMHh8C6l5xDgocFRJ3rcBCBRQFFlwDI/+eAQIkd4dFFaBAVNAFEMagFRIHvlwDI/+eAwI0zNKAAKaAhR2OF5wAFRAFMYbcDrIsAA6TLALNnjADSB/X3mTll9cFsIpz9HH19MwWMQF3cs3eVAZXjwWwzBYxAY+aMAv18MwWMQF3QMYGXAMj/54Bgil35ZpT1tzGBlwDI/+eAYIld8WqU0bdBgZcAyP/ngKCIWfkzBJRBwbchR+OK5/ABTBMEAAw5t0FHzb9BRwVE453n9oOlywADpYsAVTK5v0FHBUTjk+f2A6cLAZFnY+jnHoOlSwEDpYsAMTGBt0FHBUTjlOf0g6cLARFnY2n3HAOnywCDpUsBA6WLADOE5wLdNiOsBAAjJIqwCb8DxwQAYwMHFAOniwDBFxMEAAxjE/cAwEgBR5MG8A5jRvcCg8dbAAPHSwABTKIH2Y8Dx2sAQgddj4PHewDiB9mP44T25hMEEAyFtTOG6wADRoYBBQexjuG3g8cEAP3H3ERjnQcUwEgjgAQAVb1hR2OW5wKDp8sBA6eLAYOmSwEDpgsBg6XLAAOliwCX8Mf/54BgeSqMMzSgAAG9AUwFRCm1EUcFROOd5+a3lwBgtENld30XBWb5jtGOA6WLALTDtEeBRfmO0Y60x/RD+Y7RjvTD1F91j1GP2N+X8Mf/54BAdwW1E/f3AOMXB+qT3EcAE4SLAAFMfV3jd5zbSESX8Mf/54DAYRhEVEAQQPmOYwenARxCE0f3/32P2Y4UwgUMQQTZvxFHtbVBRwVE45rn3oOniwADp0sBIyT5ACMi6QDJs4MlSQDBF5Hlic8BTBMEYAyhuwMniQBjZvcGE/c3AOMbB+IDKIkAAUYBRzMF6ECzhuUAY2n3AOMHBtIjJKkAIyLZAA2zM4brABBOEQeQwgVG6b8hRwVE45Tn2AMkiQAZwBMEgAwjJAkAIyIJADM0gAC9swFMEwQgDMW5AUwTBIAM5bEBTBMEkAzFsRMHIA1jg+cMEwdADeOR57oDxDsAg8crACIEXYyX8Mf/54BgXwOsxABBFGNzhAEijOMPDLbAQGKUMYCcSGNV8ACcRGNa9Arv8I/hdd3IQGKGk4WLAZfwx//ngGBbAcWTB0AM3MjcQOKX3MDcRLOHh0HcxJfwx//ngEBaFb4JZRMFBXEDrMsAA6SLAJfwx//ngEBMtwcAYNhLtwYAAcEWk1dHARIHdY+9i9mPs4eHAwFFs9WHApfwx//ngOBMEwWAPpfwx//ngOBI3bSDpksBA6YLAYOlywADpYsA7/Av98G8g8U7AIPHKwAThYsBogXdjcEVqTptvO/w79qBtwPEOwCDxysAE4yLASIEXYzcREEUxeORR4VLY/6HCJMHkAzcyHm0A6cNACLQBUizh+xAPtaDJ4qwY3P0AA1IQsY6xO/wb9YiRzJIN8XKP+KFfBCThsoAEBATBUUCl/DH/+eA4Ek398o/kwjHAIJXA6eIsIOlDQAdjB2PPpyyVyOk6LCqi76VI6C9AJOHygCdjQHFoWdjlvUAWoVdOCOgbQEJxNxEmcPjQHD5Y98LAJMHcAyFv4VLt33LP7fMyj+TjY26k4zMAOm/45ULntxE44IHnpMHgAyxt4OniwDjmwecAUWX8Mf/54DAOQllEwUFcZfwx//ngCA2l/DH/+eA4DlNugOkywDjBgSaAUWX8Mf/54AgNxMFgD6X8Mf/54CgMwKUQbr2UGZU1lRGWbZZJlqWWgZb9ktmTNZMRk22TQlhgoA=",text_start:1077411840,data:"DEDKP+AIOEAsCThAhAk4QFIKOEC+CjhAbAo4QKgHOEAOCjhATgo4QJgJOEBYBzhAzAk4QFgHOEC6CDhA/gg4QCwJOECECThAzAg4QBIIOEBCCDhAyAg4QBYNOEAsCThA1gs4QMoMOECkBjhA9Aw4QKQGOECkBjhApAY4QKQGOECkBjhApAY4QKQGOECkBjhAcgs4QKQGOEDyCzhAygw4QA==",data_start:1070295976,bss_start:1070219264}}),Y6={};be(Y6,{ESP32C2ROM:()=>x1});class x1 extends Nc{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C2",this.IMAGE_CHIP_ID=12,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+64,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.XTAL_CLK_DIVIDER=1,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=Tn.text_start,this.ENTRY=Tn.entry,this.DATA_START=Tn.data_start,this.ROM_DATA=Tn.data,this.ROM_TEXT=Tn.text}async getPkgVersion(s){const d=this.EFUSE_BASE+64+4;return await s.readReg(d)>>22&7}async getChipRevision(s){const d=this.EFUSE_BASE+64+4;return(await s.readReg(d)&3145728)>>20}async getChipDescription(s){let d;const i=await this.getPkgVersion(s);if(i===0||i===1)d="ESP32-C2";else d="unknown ESP32-C2";const h=await this.getChipRevision(s);return d+=" (revision "+h+")",d}async getChipFeatures(s){return["Wi-Fi","BLE"]}async getCrystalFreq(s){const d=await s.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,i=s.transport.baudrate*d/1e6/this.XTAL_CLK_DIVIDER;let h;if(i>33)h=40;else h=26;if(Math.abs(h-i)>1)s.info("WARNING: Unsupported crystal in use");return h}async changeBaudRate(s){if(await this.getCrystalFreq(s)===26)s.changeBaud()}_d2h(s){const d=(+s).toString(16);return d.length===1?"0"+d:d}async readMac(s){let d=await s.readReg(this.MAC_EFUSE_REG);d=d>>>0;let i=await s.readReg(this.MAC_EFUSE_REG+4);i=i>>>0&65535;const h=new Uint8Array(6);return h[0]=i>>8&255,h[1]=i&255,h[2]=d>>24&255,h[3]=d>>16&255,h[4]=d>>8&255,h[5]=d&255,this._d2h(h[0])+":"+this._d2h(h[1])+":"+this._d2h(h[2])+":"+this._d2h(h[3])+":"+this._d2h(h[4])+":"+this._d2h(h[5])}getEraseSize(s,d){return d}}var ib=Ma(()=>{D6(),H6()}),xn,B6=Ma(()=>{xn={entry:1082132112,text:"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",text_start:1082130432,data:"HCuEQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQEwOgECSCoBAEg2AQAQOgED+B4BALA6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBABA6AQA==",data_start:1082469292}}),C6={};be(C6,{ESP32C6ROM:()=>$1});class $1 extends Xe{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C6",this.IMAGE_CHIP_ID=13,this.EFUSE_BASE=1611335680,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=xn.text_start,this.ENTRY=xn.entry,this.DATA_START=xn.data_start,this.ROM_DATA=xn.data,this.ROM_TEXT=xn.text}async getPkgVersion(s){const d=this.EFUSE_BASE+68+12;return await s.readReg(d)>>21&7}async getChipRevision(s){const d=this.EFUSE_BASE+68+12;return(await s.readReg(d)&1835008)>>18}async getChipDescription(s){let d;if(await this.getPkgVersion(s)===0)d="ESP32-C6";else d="unknown ESP32-C6";const i=await this.getChipRevision(s);return d+=" (revision "+i+")",d}async getChipFeatures(s){return["Wi-Fi"]}async getCrystalFreq(s){return 40}_d2h(s){const d=(+s).toString(16);return d.length===1?"0"+d:d}async readMac(s){let d=await s.readReg(this.MAC_EFUSE_REG);d=d>>>0;let i=await s.readReg(this.MAC_EFUSE_REG+4);i=i>>>0&65535;const h=new Uint8Array(6);return h[0]=i>>8&255,h[1]=i&255,h[2]=d>>24&255,h[3]=d>>16&255,h[4]=d>>8&255,h[5]=d&255,this._d2h(h[0])+":"+this._d2h(h[1])+":"+this._d2h(h[2])+":"+this._d2h(h[3])+":"+this._d2h(h[4])+":"+this._d2h(h[5])}getEraseSize(s,d){return d}}var ub=Ma(()=>{ge(),B6()}),$n,Q6=Ma(()=>{$n={entry:1082132112,text:"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",text_start:1082130432,data:"EACDQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQFIOgECSCoBAEg2AQAoOgED+B4BAMg6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBACg6AQA==",data_start:1082403756}}),A6={};be(A6,{ESP32H2ROM:()=>M1});class M1 extends Xe{constructor(){super(...arguments);this.CHIP_NAME="ESP32-H2",this.IMAGE_CHIP_ID=16,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=$n.text_start,this.ENTRY=$n.entry,this.DATA_START=$n.data_start,this.ROM_DATA=$n.data,this.ROM_TEXT=$n.text}async getChipDescription(s){return this.CHIP_NAME}async getChipFeatures(s){return["BLE","IEEE802.15.4"]}async getCrystalFreq(s){return 32}_d2h(s){const d=(+s).toString(16);return d.length===1?"0"+d:d}async postConnect(s){const d=await s.readReg(this.UARTDEV_BUF_NO)&255;if(s.debug("In _post_connect "+d),d==this.UARTDEV_BUF_NO_USB)s.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(s){let d=await s.readReg(this.MAC_EFUSE_REG);d=d>>>0;let i=await s.readReg(this.MAC_EFUSE_REG+4);i=i>>>0&65535;const h=new Uint8Array(6);return h[0]=i>>8&255,h[1]=i&255,h[2]=d>>24&255,h[3]=d>>16&255,h[4]=d>>8&255,h[5]=d&255,this._d2h(h[0])+":"+this._d2h(h[1])+":"+this._d2h(h[2])+":"+this._d2h(h[3])+":"+this._d2h(h[4])+":"+this._d2h(h[5])}getEraseSize(s,d){return d}}var mb=Ma(()=>{ge(),Q6()}),Mn,o8=Ma(()=>{Mn={entry:1077381696,text:"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",text_start:1077379072,data:"ZCvKP8qNN0CvjjdAcJM3QDqPN0DPjjdAOo83QJmPN0BmkDdA2ZA3QIGQN0BVjTdA/I83QFiQN0C8jzdA+5A3QOaPN0D7kDdAnY43QPqON0A6jzdAmY83QLWON0CWjTdAvJE3QDaTN0ByjDdAVpM3QHKMN0ByjDdAcow3QHKMN0ByjDdAcow3QHKMN0ByjDdAVpE3QHKMN0BRkjdANpM3QAQInwAAAAAAAAAYAQQIBQAAAAAAAAAIAQQIBgAAAAAAAAAAAQQIIQAAAAAAIAAAEQQI3AAAAAAAIAAAEQQIDAAAAAAAIAAAAQQIEgAAAAAAIAAAESAoDAAQAQAA",data_start:1070279668}}),a8={};be(a8,{ESP32S3ROM:()=>V1});class V1 extends Xe{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=Mn.text_start,this.ENTRY=Mn.entry,this.DATA_START=Mn.data_start,this.ROM_DATA=Mn.data,this.ROM_TEXT=Mn.text}async getChipDescription(s){return"ESP32-S3"}async getChipFeatures(s){return["Wi-Fi","BLE"]}async getCrystalFreq(s){return 40}_d2h(s){const d=(+s).toString(16);return d.length===1?"0"+d:d}async postConnect(s){const d=await s.readReg(this.UARTDEV_BUF_NO)&255;if(s.debug("In _post_connect "+d),d==this.UARTDEV_BUF_NO_USB)s.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(s){let d=await s.readReg(this.MAC_EFUSE_REG);d=d>>>0;let i=await s.readReg(this.MAC_EFUSE_REG+4);i=i>>>0&65535;const h=new Uint8Array(6);return h[0]=i>>8&255,h[1]=i&255,h[2]=d>>24&255,h[3]=d>>16&255,h[4]=d>>8&255,h[5]=d&255,this._d2h(h[0])+":"+this._d2h(h[1])+":"+this._d2h(h[2])+":"+this._d2h(h[3])+":"+this._d2h(h[4])+":"+this._d2h(h[5])}getEraseSize(s,d){return d}}var bb=Ma(()=>{ge(),o8()}),Vn,e8=Ma(()=>{Vn={entry:1073907696,text:"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",text_start:1073905664,data:"ZCv9PzaLAkDBiwJAhpACQEqMAkDjiwJASowCQKmMAkByjQJA5Y0CQI2NAkDAigJAC40CQGSNAkDMjAJACI4CQPaMAkAIjgJAr4sCQA6MAkBKjAJAqYwCQMeLAkACiwJAx44CQD2QAkDYiQJAZZACQNiJAkDYiQJA2IkCQNiJAkDYiQJA2IkCQNiJAkDYiQJAZI4CQNiJAkBZjwJAPZACQA==",data_start:1073622012}}),n8={};be(n8,{ESP32S2ROM:()=>L1});class L1 extends Xe{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=Vn.text_start,this.ENTRY=Vn.entry,this.DATA_START=Vn.data_start,this.ROM_DATA=Vn.data,this.ROM_TEXT=Vn.text}async getPkgVersion(s){const d=this.EFUSE_BASE+68+12;return await s.readReg(d)>>21&15}async getChipDescription(s){const d=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],i=await this.getPkgVersion(s);if(i>=0&&i<=2)return d[i];else return"unknown ESP32-S2"}async getChipFeatures(s){const d=["Wi-Fi"],i=await this.getPkgVersion(s);if(i==1)d.push("Embedded 2MB Flash");else if(i==2)d.push("Embedded 4MB Flash");const h=4,_=this.EFUSE_BASE+92+4*h;if((await s.readReg(_)>>4&7)==1)d.push("ADC and temperature sensor calibration in BLK2 of efuse");return d}async getCrystalFreq(s){return 40}_d2h(s){const d=(+s).toString(16);return d.length===1?"0"+d:d}async readMac(s){let d=await s.readReg(this.MAC_EFUSE_REG);d=d>>>0;let i=await s.readReg(this.MAC_EFUSE_REG+4);i=i>>>0&65535;const h=new Uint8Array(6);return h[0]=i>>8&255,h[1]=i&255,h[2]=d>>24&255,h[3]=d>>16&255,h[4]=d>>8&255,h[5]=d&255,this._d2h(h[0])+":"+this._d2h(h[1])+":"+this._d2h(h[2])+":"+this._d2h(h[3])+":"+this._d2h(h[4])+":"+this._d2h(h[5])}getEraseSize(s,d){return d}}var pb=Ma(()=>{ge(),e8()}),Ln,l8=Ma(()=>{Ln={entry:1074843652,text:"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",text_start:1074843648,data:"CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",data_start:1073720488}}),s8={};be(s8,{ESP8266ROM:()=>W1});class W1 extends Xe{constructor(){super(...arguments);this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=Ln.text_start,this.ENTRY=Ln.entry,this.DATA_START=Ln.data_start,this.ROM_DATA=Ln.data,this.ROM_TEXT=Ln.text,this.getChipFeatures=async(s)=>{const d=["WiFi"];if(await this.getChipDescription(s)=="ESP8285")d.push("Embedded Flash");return d}}async readEfuse(s,d){const i=this.EFUSE_RD_REG_BASE+4*d;return s.debug("Read efuse "+i),await s.readReg(i)}async getChipDescription(s){const d=await this.readEfuse(s,2);return(await this.readEfuse(s,0)&16|d&65536)!=0?"ESP8285":"ESP8266EX"}async getCrystalFreq(s){const d=await s.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,i=s.transport.baudrate*d/1e6/this.XTAL_CLK_DIVIDER;let h;if(i>33)h=40;else h=26;if(Math.abs(h-i)>1)s.info("WARNING: Detected crystal freq "+i+"MHz is quite different to normalized freq "+h+"MHz. Unsupported crystal in use?");return h}_d2h(s){const d=(+s).toString(16);return d.length===1?"0"+d:d}async readMac(s){let d=await this.readEfuse(s,0);d=d>>>0;let i=await this.readEfuse(s,1);i=i>>>0;let h=await this.readEfuse(s,3);h=h>>>0;const _=new Uint8Array(6);if(h!=0)_[0]=h>>16&255,_[1]=h>>8&255,_[2]=h&255;else if((i>>16&255)==0)_[0]=24,_[1]=254,_[2]=52;else if((i>>16&255)==1)_[0]=172,_[1]=208,_[2]=116;else s.error("Unknown OUI");return _[3]=i>>8&255,_[4]=i&255,_[5]=d>>24&255,this._d2h(_[0])+":"+this._d2h(_[1])+":"+this._d2h(_[2])+":"+this._d2h(_[3])+":"+this._d2h(_[4])+":"+this._d2h(_[5])}getEraseSize(s,d){return d}}var db=Ma(()=>{ge(),l8()}),Wn,r8=Ma(()=>{Wn={entry:1341195918,text:"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",text_start:1341194240,data:"EAD1TwYK8U9WCvFPrgrxT4QL8U/wC/FPngvxT9QI8U9AC/FPgAvxT8IK8U+ECPFP9grxT4QI8U/gCfFPJgrxT1YK8U+uCvFP8gnxTzgJ8U9oCfFP7gnxT0AO8U9WCvFPCA3xTwAO8U/EB/FPJA7xT8QH8U/EB/FPxAfxT8QH8U/EB/FPxAfxT8QH8U/EB/FPpAzxT8QH8U8mDfFPAA7xTw==",data_start:1341533100,bss_start:1341456384}}),c8={};be(c8,{ESP32P4ROM:()=>w1});class w1 extends vc{constructor(){super(...arguments);this.CHIP_NAME="ESP32-P4",this.IMAGE_CHIP_ID=18,this.IROM_MAP_START=1073741824,this.IROM_MAP_END=1275068416,this.DROM_MAP_START=1073741824,this.DROM_MAP_END=1275068416,this.BOOTLOADER_FLASH_OFFSET=8192,this.CHIP_DETECT_MAGIC_VALUE=[0,182303440],this.UART_DATE_REG_ADDR=1343004812,this.EFUSE_BASE=1343410176,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.SPI_REG_BASE=1342754816,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.PURPOSE_VAL_XTS_AES256_KEY_1=2,this.PURPOSE_VAL_XTS_AES256_KEY_2=3,this.PURPOSE_VAL_XTS_AES128_KEY=4,this.SUPPORTS_ENCRYPTED_FLASH=!0,this.FLASH_ENCRYPTED_WRITE_ALIGN=16,this.MEMORY_MAP=[[0,65536,"PADDING"],[1073741824,1275068416,"DROM"],[1341128704,1341784064,"DRAM"],[1341128704,1341784064,"BYTE_ACCESSIBLE"],[1337982976,1338114048,"DROM_MASK"],[1337982976,1338114048,"IROM_MASK"],[1073741824,1275068416,"IROM"],[1341128704,1341784064,"IRAM"],[1343258624,1343291392,"RTC_IRAM"],[1343258624,1343291392,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=1026592404,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"},this.TEXT_START=Wn.text_start,this.ENTRY=Wn.entry,this.DATA_START=Wn.data_start,this.ROM_DATA=Wn.data,this.ROM_TEXT=Wn.text}async getPkgVersion(s){const d=this.EFUSE_BLOCK1_ADDR+8;return await s.readReg(d)>>27&7}async getMinorChipVersion(s){const d=this.EFUSE_BLOCK1_ADDR+8;return await s.readReg(d)>>0&15}async getMajorChipVersion(s){const d=this.EFUSE_BLOCK1_ADDR+8;return await s.readReg(d)>>4&3}async getChipDescription(s){const d=await this.getPkgVersion(s)===0?"ESP32-P4":"unknown ESP32-P4",i=await this.getMajorChipVersion(s),h=await this.getMinorChipVersion(s);return`${d} (revision v${i}.${h})`}async getChipFeatures(s){return["High-Performance MCU"]}async getCrystalFreq(s){return 40}async getFlashVoltage(s){return}async overrideVddsdio(s){s.debug("VDD_SDIO overrides are not supported for ESP32-P4")}async readMac(s){let d=await s.readReg(this.MAC_EFUSE_REG);d=d>>>0;let i=await s.readReg(this.MAC_EFUSE_REG+4);i=i>>>0&65535;const h=new Uint8Array(6);return h[0]=i>>8&255,h[1]=i&255,h[2]=d>>24&255,h[3]=d>>16&255,h[4]=d>>8&255,h[5]=d&255,this._d2h(h[0])+":"+this._d2h(h[1])+":"+this._d2h(h[2])+":"+this._d2h(h[3])+":"+this._d2h(h[4])+":"+this._d2h(h[5])}async getFlashCryptConfig(s){return}async getSecureBootEnabled(s){return await s.readReg(this.EFUSE_SECURE_BOOT_EN_REG)&this.EFUSE_SECURE_BOOT_EN_MASK}async getKeyBlockPurpose(s,d){if(d<0||d>this.EFUSE_MAX_KEY){s.debug(`Valid key block numbers must be in range 0-${this.EFUSE_MAX_KEY}`);return}const i=[[this.EFUSE_PURPOSE_KEY0_REG,this.EFUSE_PURPOSE_KEY0_SHIFT],[this.EFUSE_PURPOSE_KEY1_REG,this.EFUSE_PURPOSE_KEY1_SHIFT],[this.EFUSE_PURPOSE_KEY2_REG,this.EFUSE_PURPOSE_KEY2_SHIFT],[this.EFUSE_PURPOSE_KEY3_REG,this.EFUSE_PURPOSE_KEY3_SHIFT],[this.EFUSE_PURPOSE_KEY4_REG,this.EFUSE_PURPOSE_KEY4_SHIFT],[this.EFUSE_PURPOSE_KEY5_REG,this.EFUSE_PURPOSE_KEY5_SHIFT]],[h,_]=i[d];return await s.readReg(h)>>_&15}async isFlashEncryptionKeyValid(s){const d=[];for(let _=0;_<=this.EFUSE_MAX_KEY;_++){const T=await this.getKeyBlockPurpose(s,_);d.push(T)}if(typeof d.find((_)=>_===this.PURPOSE_VAL_XTS_AES128_KEY)!==void 0)return!0;const i=d.find((_)=>_===this.PURPOSE_VAL_XTS_AES256_KEY_1),h=d.find((_)=>_===this.PURPOSE_VAL_XTS_AES256_KEY_2);if(typeof i!==void 0&&typeof h!==void 0)return!0;return!1}}var fb=Ma(()=>{K6(),r8()}),O0=function(s){return s.replaceAll("\r\n","\n")},F0=function(s){return s.slice(2,-3)},u8="\x01",z0="\x02",Pr="\x03",Kr="\x04",S0=512,Ir=80,m8=1152000;class O1{constructor(){this.serial=null,this._connected=!1,this._encoder=new TextEncoder,this._decoder=new TextDecoder}requestPort(s=[]){return navigator.serial.requestPort({filters:s}).then((d)=>{if(d._serial){this.serial=d._serial,this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1);return}this.serial=new i8(d),this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1)})}connect(s={}){return new Promise((d,i)=>{if(this.serial)this.serial.open({baudRate:m8,...s}).then(()=>d()).catch((h)=>{if(h.name==="InvalidStateError")this._connected=!0,d();i(h)});else i(new Error("No device specified"))})}get connected(){return this._connected}disconnect(){return this.serial.close()}get deviceInfo(){return this.serial.getInfo()}readUntil(s,d){return new Promise((i)=>{let h="";const _=async(T)=>{if(T){if(h+=this._decoder.decode(T),d)d(T)}if(h.indexOf(s)!==-1)this.serial.off("data",_),i(h)};this.serial.on("data",_)})}writeAndReadUntil(s,d,i){return new Promise(async(h)=>{if(d)this.readUntil(d,i).then(h);for(let _=0;_<s.length;_+=S0)await this.serial.write(s.slice(_,_+S0)),await Jr(10);if(!d)h()})}async getPrompt(){return await Jr(150),await this.stop(),await Jr(150),await this.writeAndReadUntil(`\r${Pr}${z0}`,"\r\n>>>")}async enterRawRepl(){return await this.writeAndReadUntil(u8,"raw REPL; CTRL-B to exit")}async exitRawRepl(){return await this.writeAndReadUntil(z0,"\r\n>>>")}async execRaw(s,d){return await this.writeAndReadUntil(s),await this.writeAndReadUntil(Kr,`${Kr}>`,d)}async execFile(s,d){if(d=d||function(){},s){await this.enterRawRepl();const i=await this.execRaw(s,d);return await this.exitRawRepl(),i}return Promise.reject()}async run(s,d){return d=d||function(){},new Promise(async(i,h)=>{if(this.rejectRun)this.rejectRun(new Error("re-run")),this.rejectRun=null;this.rejectRun=h;try{await this.enterRawRepl();const _=await this.execRaw(s||"#",d);return await this.exitRawRepl(),i(_)}catch(_){h(_),this.rejectRun=null}})}async eval(s){await this.serial.write(s)}async stop(){if(this.rejectRun)this.rejectRun(new Error("pre stop")),this.rejectRun=null;await this.serial.write(Pr)}async reset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.serial.write(Pr),await this.serial.write(Kr)}async hardReset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.enterRawRepl(),this.execRaw("import machine\nmachine.reset()")}async exists(s){s=s||"";let d="";d+="try:\n",d+=`  f = open('${s}', 'r')\n`,d+="  print(1)\n",d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const i=await this.execRaw(d);return await this.exitRawRepl(),i[2]=="1"}async listdir(s){s=s||"";let d="";d+="import os\n",d+="try:\n",d+=`  print(os.listdir('${s}'))\n`,d+="except OSError:\n",d+="  print([])\n",await this.enterRawRepl();let i=await this.execRaw(d);return await this.exitRawRepl(),i=F0(i),i=i.replace(/'/g,'"'),JSON.parse(i)}async mkdir(s){if(s){await this.enterRawRepl();const d=await this.execRaw(`import os\nos.mkdir('${s}')`);return await this.exitRawRepl(),d}return Promise.reject(new Error("Path to file was not specified"))}async rmdir(s){if(s){let d="";d+="import os\n",d+="try:\n",d+=`  os.rmdir("${s}")\n`,d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const i=await this.execRaw(d);return await this.exitRawRepl(),i}return Promise.reject(new Error("Path to file was not specified"))}async remove(s){if(s){let d="";d+="import os\n",d+="try:\n",d+=`  os.remove("${s}")\n`,d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const i=await this.execRaw(d);return this.exitRawRepl(),i}return Promise.reject(new Error("Path to file was not specified"))}async rename(s,d){if(s&&d){await this.enterRawRepl();const i=await this.execRaw(`import os\nos.rename('${s}', '${d}')`);return this.exitRawRepl(),i}return Promise.reject(new Error("Path to file was not specified"))}async cat(s){if(s){await this.enterRawRepl();let d=await this.execRaw(`with open('${s}','r') as f:\n while 1:\n  b=f.read(256)\n  if not b:break\n  print(b,end='')`);return await this.exitRawRepl(),d=F0(d),O0(d)}return Promise.reject(new Error("Path to file was not specified"))}async checkHash(s,d){if(s){let i="";i+="import os\n",i+="import hashlib\n",i+="import binascii\n",i+="hash = hashlib.sha256()\n",i+=`with open('${s}', 'rb') as f:\n`,i+="  while True:\n",i+=`    c = f.read(${Ir})\n`,i+="    if not c: break\n",i+="    hash.update(c)\n",i+="print(binascii.hexlify(hash.digest()).decode())\n",await this.enterRawRepl();let h=await this.execRaw(i);return await this.exitRawRepl(),h=h.slice(2,h.indexOf("\n")-1),d===h}return Promise.reject(new Error("Path to file was not specified"))}async put(s,d,i){if(!d){Promise.reject(new Error("Must specify content and destination path"));return}let h;if(typeof s==="string")h=this._encoder.encode(O0(s));else if(s instanceof ArrayBuffer)h=new Uint8Array(s);else if(s instanceof Uint8Array)h=s;else Promise.reject(new Error(`${s} must string, Uint8Array or ArrayBuffer`));if(i=i||function(){},await this.exists(d)){const v=await crypto.subtle.digest("SHA-256",h),W=Array.from(new Uint8Array(v)).map((y)=>y.toString(16).padStart(2,"0")).join("");if(await this.checkHash(d,W)){i(100);return}}const _=Array.from(h).map((v)=>v.toString(16).padStart(2,"0"));let T="";T+=await this.enterRawRepl();let u=d.split("/");if(u.pop(),u.length>0){T+=await this.execRaw("import os");const v=[];u.reduce((W,y)=>{if(y===""||W!==""&&W.at(-1)!=="/")W+="/";if(W+=y,W!=="/")v.push(W);return W},"");for(let W of v)T+=await this.execRaw(`os.mkdir('${W}')`)}T+=await this.execRaw(`f=open('${d}','w')\nw=f.write`);for(let v=0;v<_.length;v+=Ir){const W=_.slice(v,v+Ir).map((y)=>`\\x${y}`);T+=await this.execRaw(`w(b"${W.join("")}")`),i(parseInt(v/_.length*100))}return T+=await this.execRaw("f.close()"),T+=await this.exitRawRepl(),i(100),T}}var F1=async(s,d)=>{const i=new O1;await i.requestPort(s),await i.connect(),await i.stop(),d(i);const h=()=>setTimeout(()=>{if(i.connected)h();else d(null)},1000);return h(),i};var z1=async(s,d)=>{await s.stop(),await s.enterRawRepl();let i="";i+="import popui.screen.download as download_screen\n",i+=`from ${d} import display\n`,i+="download_screen.render(display)\n";const h=await s.execRaw(i);return await s.exitRawRepl(),h},S1=async(s,d)=>{await s.stop(),await s.enterRawRepl();let i="import device.config as config\n";for(let[_,T]of Object.entries(d))if(typeof T==="number"&&T%1===0)i+=`config.set_int("${_}", ${T})\n`;else if(typeof T==="boolean")i+=`config.set_bool("${_}", ${T?"True":"False"})\n`;else i+=`config.set_str("${_}", "${T}")\n`;i+="config.save()\n";const h=await s.execRaw(i);return await s.exitRawRepl(),h},X1=async(s,d)=>{await s.stop();let i=0;for(let T of d)i+=T.content?.length??T.data?.length??0;await s.enterRawRepl();const h=`from device.flash import check_flash_free\nprint(check_flash_free(${i}))\n`,_=await s.execRaw(h);return await s.exitRawRepl(),_.slice(2,-3).trim()==="True"},g1=async(s,d,i)=>{await s.stop();const h=d.length;let _=0;const T=(u)=>{i(((_+1/h*(u/100))*100).toFixed(1))};for(let u of d){let{id:v,content:W}=u;if(u.type){if(u.type==="text/x-python"&&!v.endsWith(".py"))v+=".py";else if(u.type.startsWith("image/")&&!W)W=await b8(u.type,u.data)}await s.put(W||"",v,T),_+=1/h}i(100)},tb=tc(U6(),1),vb=tc(E6(),1);var zn=function(s){let d=s.length;while(--d>=0)s[d]=0},Gr=function(s,d,i,h,_){this.static_tree=s,this.extra_bits=d,this.extra_base=i,this.elems=h,this.max_length=_,this.has_stree=s&&s.length},Dr=function(s,d){this.dyn_tree=s,this.max_code=0,this.stat_desc=d},ce=function(s,d,i,h,_){this.good_length=s,this.max_lazy=d,this.nice_length=i,this.max_chain=h,this.func=_},p8=function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(i4*2),this.dyn_dtree=new Uint16Array((2*r4+1)*2),this.bl_tree=new Uint16Array((2*c4+1)*2),we(this.dyn_ltree),we(this.dyn_dtree),we(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(u4+1),this.heap=new Uint16Array(2*mc+1),we(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*mc+1),we(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0},d8=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},hc=function(s){this.options=Ts.assign({level:P4,method:I4,chunkSize:16384,windowBits:15,memLevel:8,strategy:K4},s||{});let d=this.options;if(d.raw&&d.windowBits>0)d.windowBits=-d.windowBits;else if(d.gzip&&d.windowBits>0&&d.windowBits<16)d.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ru,this.strm.avail_out=0;let i=cl.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(i!==Rs)throw new Error(_l[i]);if(d.header)cl.deflateSetHeader(this.strm,d.header);if(d.dictionary){let h;if(typeof d.dictionary==="string")h=vl.string2buf(d.dictionary);else if(cu.call(d.dictionary)==="[object ArrayBuffer]")h=new Uint8Array(d.dictionary);else h=d.dictionary;if(i=cl.deflateSetDictionary(this.strm,h),i!==Rs)throw new Error(_l[i]);this._dict_set=!0}};var f8=function(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},_8=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Rc=function(s){this.options=Ts.assign({chunkSize:65536,windowBits:15,to:""},s||{});const d=this.options;if(d.raw&&d.windowBits>=0&&d.windowBits<16){if(d.windowBits=-d.windowBits,d.windowBits===0)d.windowBits=-15}if(d.windowBits>=0&&d.windowBits<16&&!(s&&s.windowBits))d.windowBits+=32;if(d.windowBits>15&&d.windowBits<48){if((d.windowBits&15)===0)d.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ru,this.strm.avail_out=0;let i=Ne.inflateInit2(this.strm,d.windowBits);if(i!==Nl)throw new Error(_l[i]);if(this.header=new q5,Ne.inflateGetHeader(this.strm,this.header),d.dictionary){if(typeof d.dictionary==="string")d.dictionary=vl.string2buf(d.dictionary);else if(hu.call(d.dictionary)==="[object ArrayBuffer]")d.dictionary=new Uint8Array(d.dictionary);if(d.raw){if(i=Ne.inflateSetDictionary(this.strm,d.dictionary),i!==Nl)throw new Error(_l[i])}}};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var t8=0,U1=1,v8=2,N8=3,h8=258,Zc=29,hl=256,ml=hl+1+Zc,wn=30,yc=19,E1=2*ml+1,an=15,Hr=16,R8=7,kc=256,j1=16,J1=17,P1=18,cc=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ns=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Z8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),K1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),y8=512,ve=new Array((ml+2)*2);zn(ve);var rl=new Array(wn*2);zn(rl);var bl=new Array(y8);zn(bl);var pl=new Array(h8-N8+1);zn(pl);var qc=new Array(Zc);zn(qc);var hs=new Array(wn);zn(hs);var I1,G1,D1,H1=(s)=>{return s<256?bl[s]:bl[256+(s>>>7)]},dl=(s,d)=>{s.pending_buf[s.pending++]=d&255,s.pending_buf[s.pending++]=d>>>8&255},ja=(s,d,i)=>{if(s.bi_valid>Hr-i)s.bi_buf|=d<<s.bi_valid&65535,dl(s,s.bi_buf),s.bi_buf=d>>Hr-s.bi_valid,s.bi_valid+=i-Hr;else s.bi_buf|=d<<s.bi_valid&65535,s.bi_valid+=i},ie=(s,d,i)=>{ja(s,i[d*2],i[d*2+1])},Y1=(s,d)=>{let i=0;do i|=s&1,s>>>=1,i<<=1;while(--d>0);return i>>>1},k8=(s)=>{if(s.bi_valid===16)dl(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0;else if(s.bi_valid>=8)s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8},q8=(s,d)=>{const{dyn_tree:i,max_code:h}=d,_=d.stat_desc.static_tree,T=d.stat_desc.has_stree,u=d.stat_desc.extra_bits,v=d.stat_desc.extra_base,W=d.stat_desc.max_length;let y,k,Z,$,V,x,q=0;for($=0;$<=an;$++)s.bl_count[$]=0;i[s.heap[s.heap_max]*2+1]=0;for(y=s.heap_max+1;y<E1;y++){if(k=s.heap[y],$=i[i[k*2+1]*2+1]+1,$>W)$=W,q++;if(i[k*2+1]=$,k>h)continue;if(s.bl_count[$]++,V=0,k>=v)V=u[k-v];if(x=i[k*2],s.opt_len+=x*($+V),T)s.static_len+=x*(_[k*2+1]+V)}if(q===0)return;do{$=W-1;while(s.bl_count[$]===0)$--;s.bl_count[$]--,s.bl_count[$+1]+=2,s.bl_count[W]--,q-=2}while(q>0);for($=W;$!==0;$--){k=s.bl_count[$];while(k!==0){if(Z=s.heap[--y],Z>h)continue;if(i[Z*2+1]!==$)s.opt_len+=($-i[Z*2+1])*i[Z*2],i[Z*2+1]=$;k--}}},B1=(s,d,i)=>{const h=new Array(an+1);let _=0,T,u;for(T=1;T<=an;T++)_=_+i[T-1]<<1,h[T]=_;for(u=0;u<=d;u++){let v=s[u*2+1];if(v===0)continue;s[u*2]=Y1(h[v]++,v)}},T8=()=>{let s,d,i,h,_;const T=new Array(an+1);i=0;for(h=0;h<Zc-1;h++){qc[h]=i;for(s=0;s<1<<cc[h];s++)pl[i++]=h}pl[i-1]=h,_=0;for(h=0;h<16;h++){hs[h]=_;for(s=0;s<1<<Ns[h];s++)bl[_++]=h}_>>=7;for(;h<wn;h++){hs[h]=_<<7;for(s=0;s<1<<Ns[h]-7;s++)bl[256+_++]=h}for(d=0;d<=an;d++)T[d]=0;s=0;while(s<=143)ve[s*2+1]=8,s++,T[8]++;while(s<=255)ve[s*2+1]=9,s++,T[9]++;while(s<=279)ve[s*2+1]=7,s++,T[7]++;while(s<=287)ve[s*2+1]=8,s++,T[8]++;B1(ve,ml+1,T);for(s=0;s<wn;s++)rl[s*2+1]=5,rl[s*2]=Y1(s,5);I1=new Gr(ve,cc,hl+1,ml,an),G1=new Gr(rl,Ns,0,wn,an),D1=new Gr(new Array(0),Z8,0,yc,R8)},C1=(s)=>{let d;for(d=0;d<ml;d++)s.dyn_ltree[d*2]=0;for(d=0;d<wn;d++)s.dyn_dtree[d*2]=0;for(d=0;d<yc;d++)s.bl_tree[d*2]=0;s.dyn_ltree[kc*2]=1,s.opt_len=s.static_len=0,s.sym_next=s.matches=0},Q1=(s)=>{if(s.bi_valid>8)dl(s,s.bi_buf);else if(s.bi_valid>0)s.pending_buf[s.pending++]=s.bi_buf;s.bi_buf=0,s.bi_valid=0},X0=(s,d,i,h)=>{const _=d*2,T=i*2;return s[_]<s[T]||s[_]===s[T]&&h[d]<=h[i]},Yr=(s,d,i)=>{const h=s.heap[i];let _=i<<1;while(_<=s.heap_len){if(_<s.heap_len&&X0(d,s.heap[_+1],s.heap[_],s.depth))_++;if(X0(d,h,s.heap[_],s.depth))break;s.heap[i]=s.heap[_],i=_,_<<=1}s.heap[i]=h},g0=(s,d,i)=>{let h,_,T=0,u,v;if(s.sym_next!==0)do if(h=s.pending_buf[s.sym_buf+T++]&255,h+=(s.pending_buf[s.sym_buf+T++]&255)<<8,_=s.pending_buf[s.sym_buf+T++],h===0)ie(s,_,d);else{if(u=pl[_],ie(s,u+hl+1,d),v=cc[u],v!==0)_-=qc[u],ja(s,_,v);if(h--,u=H1(h),ie(s,u,i),v=Ns[u],v!==0)h-=hs[u],ja(s,h,v)}while(T<s.sym_next);ie(s,kc,d)},ic=(s,d)=>{const i=d.dyn_tree,h=d.stat_desc.static_tree,_=d.stat_desc.has_stree,T=d.stat_desc.elems;let u,v,W=-1,y;s.heap_len=0,s.heap_max=E1;for(u=0;u<T;u++)if(i[u*2]!==0)s.heap[++s.heap_len]=W=u,s.depth[u]=0;else i[u*2+1]=0;while(s.heap_len<2)if(y=s.heap[++s.heap_len]=W<2?++W:0,i[y*2]=1,s.depth[y]=0,s.opt_len--,_)s.static_len-=h[y*2+1];d.max_code=W;for(u=s.heap_len>>1;u>=1;u--)Yr(s,i,u);y=T;do u=s.heap[1],s.heap[1]=s.heap[s.heap_len--],Yr(s,i,1),v=s.heap[1],s.heap[--s.heap_max]=u,s.heap[--s.heap_max]=v,i[y*2]=i[u*2]+i[v*2],s.depth[y]=(s.depth[u]>=s.depth[v]?s.depth[u]:s.depth[v])+1,i[u*2+1]=i[v*2+1]=y,s.heap[1]=y++,Yr(s,i,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],q8(s,d),B1(i,W,s.bl_count)},U0=(s,d,i)=>{let h,_=-1,T,u=d[1],v=0,W=7,y=4;if(u===0)W=138,y=3;d[(i+1)*2+1]=65535;for(h=0;h<=i;h++){if(T=u,u=d[(h+1)*2+1],++v<W&&T===u)continue;else if(v<y)s.bl_tree[T*2]+=v;else if(T!==0){if(T!==_)s.bl_tree[T*2]++;s.bl_tree[j1*2]++}else if(v<=10)s.bl_tree[J1*2]++;else s.bl_tree[P1*2]++;if(v=0,_=T,u===0)W=138,y=3;else if(T===u)W=6,y=3;else W=7,y=4}},E0=(s,d,i)=>{let h,_=-1,T,u=d[1],v=0,W=7,y=4;if(u===0)W=138,y=3;for(h=0;h<=i;h++){if(T=u,u=d[(h+1)*2+1],++v<W&&T===u)continue;else if(v<y)do ie(s,T,s.bl_tree);while(--v!==0);else if(T!==0){if(T!==_)ie(s,T,s.bl_tree),v--;ie(s,j1,s.bl_tree),ja(s,v-3,2)}else if(v<=10)ie(s,J1,s.bl_tree),ja(s,v-3,3);else ie(s,P1,s.bl_tree),ja(s,v-11,7);if(v=0,_=T,u===0)W=138,y=3;else if(T===u)W=6,y=3;else W=7,y=4}},x8=(s)=>{let d;U0(s,s.dyn_ltree,s.l_desc.max_code),U0(s,s.dyn_dtree,s.d_desc.max_code),ic(s,s.bl_desc);for(d=yc-1;d>=3;d--)if(s.bl_tree[K1[d]*2+1]!==0)break;return s.opt_len+=3*(d+1)+5+5+4,d},$8=(s,d,i,h)=>{let _;ja(s,d-257,5),ja(s,i-1,5),ja(s,h-4,4);for(_=0;_<h;_++)ja(s,s.bl_tree[K1[_]*2+1],3);E0(s,s.dyn_ltree,d-1),E0(s,s.dyn_dtree,i-1)},M8=(s)=>{let d=4093624447,i;for(i=0;i<=31;i++,d>>>=1)if(d&1&&s.dyn_ltree[i*2]!==0)return 0;if(s.dyn_ltree[18]!==0||s.dyn_ltree[20]!==0||s.dyn_ltree[26]!==0)return 1;for(i=32;i<hl;i++)if(s.dyn_ltree[i*2]!==0)return 1;return 0},j0=!1,V8=(s)=>{if(!j0)T8(),j0=!0;s.l_desc=new Dr(s.dyn_ltree,I1),s.d_desc=new Dr(s.dyn_dtree,G1),s.bl_desc=new Dr(s.bl_tree,D1),s.bi_buf=0,s.bi_valid=0,C1(s)},A1=(s,d,i,h)=>{if(ja(s,(t8<<1)+(h?1:0),3),Q1(s),dl(s,i),dl(s,~i),i)s.pending_buf.set(s.window.subarray(d,d+i),s.pending);s.pending+=i},L8=(s)=>{ja(s,U1<<1,3),ie(s,kc,ve),k8(s)},W8=(s,d,i,h)=>{let _,T,u=0;if(s.level>0){if(s.strm.data_type===2)s.strm.data_type=M8(s);if(ic(s,s.l_desc),ic(s,s.d_desc),u=x8(s),_=s.opt_len+3+7>>>3,T=s.static_len+3+7>>>3,T<=_)_=T}else _=T=i+5;if(i+4<=_&&d!==-1)A1(s,d,i,h);else if(s.strategy===4||T===_)ja(s,(U1<<1)+(h?1:0),3),g0(s,ve,rl);else ja(s,(v8<<1)+(h?1:0),3),$8(s,s.l_desc.max_code+1,s.d_desc.max_code+1,u+1),g0(s,s.dyn_ltree,s.dyn_dtree);if(C1(s),h)Q1(s)},w8=(s,d,i)=>{if(s.pending_buf[s.sym_buf+s.sym_next++]=d,s.pending_buf[s.sym_buf+s.sym_next++]=d>>8,s.pending_buf[s.sym_buf+s.sym_next++]=i,d===0)s.dyn_ltree[i*2]++;else s.matches++,d--,s.dyn_ltree[(pl[i]+hl+1)*2]++,s.dyn_dtree[H1(d)*2]++;return s.sym_next===s.sym_end},O8=V8,F8=A1,z8=W8,S8=w8,X8=L8,g8={_tr_init:O8,_tr_stored_block:F8,_tr_flush_block:z8,_tr_tally:S8,_tr_align:X8},U8=(s,d,i,h)=>{let _=s&65535|0,T=s>>>16&65535|0,u=0;while(i!==0){u=i>2000?2000:i,i-=u;do _=_+d[h++]|0,T=T+_|0;while(--u);_%=65521,T%=65521}return _|T<<16|0},fl=U8,E8=()=>{let s,d=[];for(var i=0;i<256;i++){s=i;for(var h=0;h<8;h++)s=s&1?3988292384^s>>>1:s>>>1;d[i]=s}return d},j8=new Uint32Array(E8()),J8=(s,d,i,h)=>{const _=j8,T=h+i;s^=-1;for(let u=h;u<T;u++)s=s>>>8^_[(s^d[u])&255];return s^-1},Wa=J8,_l={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ks={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:P8,_tr_stored_block:uc,_tr_flush_block:K8,_tr_tally:Fe,_tr_align:I8}=g8,{Z_NO_FLUSH:ze,Z_PARTIAL_FLUSH:G8,Z_FULL_FLUSH:D8,Z_FINISH:Ba,Z_BLOCK:J0,Z_OK:Oa,Z_STREAM_END:P0,Z_STREAM_ERROR:ue,Z_DATA_ERROR:H8,Z_BUF_ERROR:Br,Z_DEFAULT_COMPRESSION:Y8,Z_FILTERED:B8,Z_HUFFMAN_ONLY:us,Z_RLE:C8,Z_FIXED:Q8,Z_DEFAULT_STRATEGY:A8,Z_UNKNOWN:o4,Z_DEFLATED:qs}=ks,a4=9,e4=15,n4=8,l4=29,s4=256,mc=s4+1+l4,r4=30,c4=19,i4=2*mc+1,u4=15,va=3,Oe=258,me=Oe+va+1,m4=32,On=42,Tc=57,bc=69,pc=73,dc=91,fc=103,en=113,ll=666,Xa=1,Sn=2,ln=3,Xn=4,b4=3,nn=(s,d)=>{return s.msg=_l[d],d},K0=(s)=>{return s*2-(s>4?9:0)},we=(s)=>{let d=s.length;while(--d>=0)s[d]=0},p4=(s)=>{let d,i,h,_=s.w_size;d=s.hash_size,h=d;do i=s.head[--h],s.head[h]=i>=_?i-_:0;while(--d);d=_,h=d;do i=s.prev[--h],s.prev[h]=i>=_?i-_:0;while(--d)},d4=(s,d,i)=>(d<<s.hash_shift^i)&s.hash_mask,Se=d4,Ga=(s)=>{const d=s.state;let i=d.pending;if(i>s.avail_out)i=s.avail_out;if(i===0)return;if(s.output.set(d.pending_buf.subarray(d.pending_out,d.pending_out+i),s.next_out),s.next_out+=i,d.pending_out+=i,s.total_out+=i,s.avail_out-=i,d.pending-=i,d.pending===0)d.pending_out=0},Da=(s,d)=>{K8(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,d),s.block_start=s.strstart,Ga(s.strm)},Na=(s,d)=>{s.pending_buf[s.pending++]=d},al=(s,d)=>{s.pending_buf[s.pending++]=d>>>8&255,s.pending_buf[s.pending++]=d&255},_c=(s,d,i,h)=>{let _=s.avail_in;if(_>h)_=h;if(_===0)return 0;if(s.avail_in-=_,d.set(s.input.subarray(s.next_in,s.next_in+_),i),s.state.wrap===1)s.adler=fl(s.adler,d,_,i);else if(s.state.wrap===2)s.adler=Wa(s.adler,d,_,i);return s.next_in+=_,s.total_in+=_,_},ou=(s,d)=>{let{max_chain_length:i,strstart:h}=s,_,T,u=s.prev_length,v=s.nice_match;const W=s.strstart>s.w_size-me?s.strstart-(s.w_size-me):0,y=s.window,k=s.w_mask,Z=s.prev,$=s.strstart+Oe;let V=y[h+u-1],x=y[h+u];if(s.prev_length>=s.good_match)i>>=2;if(v>s.lookahead)v=s.lookahead;do{if(_=d,y[_+u]!==x||y[_+u-1]!==V||y[_]!==y[h]||y[++_]!==y[h+1])continue;h+=2,_++;do;while(y[++h]===y[++_]&&y[++h]===y[++_]&&y[++h]===y[++_]&&y[++h]===y[++_]&&y[++h]===y[++_]&&y[++h]===y[++_]&&y[++h]===y[++_]&&y[++h]===y[++_]&&h<$);if(T=Oe-($-h),h=$-Oe,T>u){if(s.match_start=d,u=T,T>=v)break;V=y[h+u-1],x=y[h+u]}}while((d=Z[d&k])>W&&--i!==0);if(u<=s.lookahead)return u;return s.lookahead},Fn=(s)=>{const d=s.w_size;let i,h,_;do{if(h=s.window_size-s.lookahead-s.strstart,s.strstart>=d+(d-me)){if(s.window.set(s.window.subarray(d,d+d-h),0),s.match_start-=d,s.strstart-=d,s.block_start-=d,s.insert>s.strstart)s.insert=s.strstart;p4(s),h+=d}if(s.strm.avail_in===0)break;if(i=_c(s.strm,s.window,s.strstart+s.lookahead,h),s.lookahead+=i,s.lookahead+s.insert>=va){_=s.strstart-s.insert,s.ins_h=s.window[_],s.ins_h=Se(s,s.ins_h,s.window[_+1]);while(s.insert)if(s.ins_h=Se(s,s.ins_h,s.window[_+va-1]),s.prev[_&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=_,_++,s.insert--,s.lookahead+s.insert<va)break}}while(s.lookahead<me&&s.strm.avail_in!==0)},au=(s,d)=>{let i=s.pending_buf_size-5>s.w_size?s.w_size:s.pending_buf_size-5,h,_,T,u=0,v=s.strm.avail_in;do{if(h=65535,T=s.bi_valid+42>>3,s.strm.avail_out<T)break;if(T=s.strm.avail_out-T,_=s.strstart-s.block_start,h>_+s.strm.avail_in)h=_+s.strm.avail_in;if(h>T)h=T;if(h<i&&(h===0&&d!==Ba||d===ze||h!==_+s.strm.avail_in))break;if(u=d===Ba&&h===_+s.strm.avail_in?1:0,uc(s,0,0,u),s.pending_buf[s.pending-4]=h,s.pending_buf[s.pending-3]=h>>8,s.pending_buf[s.pending-2]=~h,s.pending_buf[s.pending-1]=~h>>8,Ga(s.strm),_){if(_>h)_=h;s.strm.output.set(s.window.subarray(s.block_start,s.block_start+_),s.strm.next_out),s.strm.next_out+=_,s.strm.avail_out-=_,s.strm.total_out+=_,s.block_start+=_,h-=_}if(h)_c(s.strm,s.strm.output,s.strm.next_out,h),s.strm.next_out+=h,s.strm.avail_out-=h,s.strm.total_out+=h}while(u===0);if(v-=s.strm.avail_in,v){if(v>=s.w_size)s.matches=2,s.window.set(s.strm.input.subarray(s.strm.next_in-s.w_size,s.strm.next_in),0),s.strstart=s.w_size,s.insert=s.strstart;else{if(s.window_size-s.strstart<=v){if(s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2)s.matches++;if(s.insert>s.strstart)s.insert=s.strstart}s.window.set(s.strm.input.subarray(s.strm.next_in-v,s.strm.next_in),s.strstart),s.strstart+=v,s.insert+=v>s.w_size-s.insert?s.w_size-s.insert:v}s.block_start=s.strstart}if(s.high_water<s.strstart)s.high_water=s.strstart;if(u)return Xn;if(d!==ze&&d!==Ba&&s.strm.avail_in===0&&s.strstart===s.block_start)return Sn;if(T=s.window_size-s.strstart,s.strm.avail_in>T&&s.block_start>=s.w_size){if(s.block_start-=s.w_size,s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2)s.matches++;if(T+=s.w_size,s.insert>s.strstart)s.insert=s.strstart}if(T>s.strm.avail_in)T=s.strm.avail_in;if(T)_c(s.strm,s.window,s.strstart,T),s.strstart+=T,s.insert+=T>s.w_size-s.insert?s.w_size-s.insert:T;if(s.high_water<s.strstart)s.high_water=s.strstart;if(T=s.bi_valid+42>>3,T=s.pending_buf_size-T>65535?65535:s.pending_buf_size-T,i=T>s.w_size?s.w_size:T,_=s.strstart-s.block_start,_>=i||(_||d===Ba)&&d!==ze&&s.strm.avail_in===0&&_<=T)h=_>T?T:_,u=d===Ba&&s.strm.avail_in===0&&h===_?1:0,uc(s,s.block_start,h,u),s.block_start+=h,Ga(s.strm);return u?ln:Xa},Cr=(s,d)=>{let i,h;for(;;){if(s.lookahead<me){if(Fn(s),s.lookahead<me&&d===ze)return Xa;if(s.lookahead===0)break}if(i=0,s.lookahead>=va)s.ins_h=Se(s,s.ins_h,s.window[s.strstart+va-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;if(i!==0&&s.strstart-i<=s.w_size-me)s.match_length=ou(s,i);if(s.match_length>=va)if(h=Fe(s,s.strstart-s.match_start,s.match_length-va),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=va){s.match_length--;do s.strstart++,s.ins_h=Se(s,s.ins_h,s.window[s.strstart+va-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!==0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=Se(s,s.ins_h,s.window[s.strstart+1]);else h=Fe(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(h){if(Da(s,!1),s.strm.avail_out===0)return Xa}}if(s.insert=s.strstart<va-1?s.strstart:va-1,d===Ba){if(Da(s,!0),s.strm.avail_out===0)return ln;return Xn}if(s.sym_next){if(Da(s,!1),s.strm.avail_out===0)return Xa}return Sn},Rn=(s,d)=>{let i,h,_;for(;;){if(s.lookahead<me){if(Fn(s),s.lookahead<me&&d===ze)return Xa;if(s.lookahead===0)break}if(i=0,s.lookahead>=va)s.ins_h=Se(s,s.ins_h,s.window[s.strstart+va-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;if(s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=va-1,i!==0&&s.prev_length<s.max_lazy_match&&s.strstart-i<=s.w_size-me){if(s.match_length=ou(s,i),s.match_length<=5&&(s.strategy===B8||s.match_length===va&&s.strstart-s.match_start>4096))s.match_length=va-1}if(s.prev_length>=va&&s.match_length<=s.prev_length){_=s.strstart+s.lookahead-va,h=Fe(s,s.strstart-1-s.prev_match,s.prev_length-va),s.lookahead-=s.prev_length-1,s.prev_length-=2;do if(++s.strstart<=_)s.ins_h=Se(s,s.ins_h,s.window[s.strstart+va-1]),i=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.prev_length!==0);if(s.match_available=0,s.match_length=va-1,s.strstart++,h){if(Da(s,!1),s.strm.avail_out===0)return Xa}}else if(s.match_available){if(h=Fe(s,0,s.window[s.strstart-1]),h)Da(s,!1);if(s.strstart++,s.lookahead--,s.strm.avail_out===0)return Xa}else s.match_available=1,s.strstart++,s.lookahead--}if(s.match_available)h=Fe(s,0,s.window[s.strstart-1]),s.match_available=0;if(s.insert=s.strstart<va-1?s.strstart:va-1,d===Ba){if(Da(s,!0),s.strm.avail_out===0)return ln;return Xn}if(s.sym_next){if(Da(s,!1),s.strm.avail_out===0)return Xa}return Sn},f4=(s,d)=>{let i,h,_,T;const u=s.window;for(;;){if(s.lookahead<=Oe){if(Fn(s),s.lookahead<=Oe&&d===ze)return Xa;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=va&&s.strstart>0){if(_=s.strstart-1,h=u[_],h===u[++_]&&h===u[++_]&&h===u[++_]){T=s.strstart+Oe;do;while(h===u[++_]&&h===u[++_]&&h===u[++_]&&h===u[++_]&&h===u[++_]&&h===u[++_]&&h===u[++_]&&h===u[++_]&&_<T);if(s.match_length=Oe-(T-_),s.match_length>s.lookahead)s.match_length=s.lookahead}}if(s.match_length>=va)i=Fe(s,1,s.match_length-va),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0;else i=Fe(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(i){if(Da(s,!1),s.strm.avail_out===0)return Xa}}if(s.insert=0,d===Ba){if(Da(s,!0),s.strm.avail_out===0)return ln;return Xn}if(s.sym_next){if(Da(s,!1),s.strm.avail_out===0)return Xa}return Sn},_4=(s,d)=>{let i;for(;;){if(s.lookahead===0){if(Fn(s),s.lookahead===0){if(d===ze)return Xa;break}}if(s.match_length=0,i=Fe(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,i){if(Da(s,!1),s.strm.avail_out===0)return Xa}}if(s.insert=0,d===Ba){if(Da(s,!0),s.strm.avail_out===0)return ln;return Xn}if(s.sym_next){if(Da(s,!1),s.strm.avail_out===0)return Xa}return Sn},sl=[new ce(0,0,0,0,au),new ce(4,4,8,4,Cr),new ce(4,5,16,8,Cr),new ce(4,6,32,32,Cr),new ce(4,4,16,16,Rn),new ce(8,16,32,32,Rn),new ce(8,16,128,128,Rn),new ce(8,32,128,256,Rn),new ce(32,128,258,1024,Rn),new ce(32,258,258,4096,Rn)],t4=(s)=>{s.window_size=2*s.w_size,we(s.head),s.max_lazy_match=sl[s.level].max_lazy,s.good_match=sl[s.level].good_length,s.nice_match=sl[s.level].nice_length,s.max_chain_length=sl[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=va-1,s.match_available=0,s.ins_h=0},Rl=(s)=>{if(!s)return 1;const d=s.state;if(!d||d.strm!==s||d.status!==On&&d.status!==Tc&&d.status!==bc&&d.status!==pc&&d.status!==dc&&d.status!==fc&&d.status!==en&&d.status!==ll)return 1;return 0},eu=(s)=>{if(Rl(s))return nn(s,ue);s.total_in=s.total_out=0,s.data_type=o4;const d=s.state;if(d.pending=0,d.pending_out=0,d.wrap<0)d.wrap=-d.wrap;return d.status=d.wrap===2?Tc:d.wrap?On:en,s.adler=d.wrap===2?0:1,d.last_flush=-2,P8(d),Oa},nu=(s)=>{const d=eu(s);if(d===Oa)t4(s.state);return d},v4=(s,d)=>{if(Rl(s)||s.state.wrap!==2)return ue;return s.state.gzhead=d,Oa},lu=(s,d,i,h,_,T)=>{if(!s)return ue;let u=1;if(d===Y8)d=6;if(h<0)u=0,h=-h;else if(h>15)u=2,h-=16;if(_<1||_>a4||i!==qs||h<8||h>15||d<0||d>9||T<0||T>Q8||h===8&&u!==1)return nn(s,ue);if(h===8)h=9;const v=new p8;return s.state=v,v.strm=s,v.status=On,v.wrap=u,v.gzhead=null,v.w_bits=h,v.w_size=1<<v.w_bits,v.w_mask=v.w_size-1,v.hash_bits=_+7,v.hash_size=1<<v.hash_bits,v.hash_mask=v.hash_size-1,v.hash_shift=~~((v.hash_bits+va-1)/va),v.window=new Uint8Array(v.w_size*2),v.head=new Uint16Array(v.hash_size),v.prev=new Uint16Array(v.w_size),v.lit_bufsize=1<<_+6,v.pending_buf_size=v.lit_bufsize*4,v.pending_buf=new Uint8Array(v.pending_buf_size),v.sym_buf=v.lit_bufsize,v.sym_end=(v.lit_bufsize-1)*3,v.level=d,v.strategy=T,v.method=i,nu(s)},N4=(s,d)=>{return lu(s,d,qs,e4,n4,A8)},h4=(s,d)=>{if(Rl(s)||d>J0||d<0)return s?nn(s,ue):ue;const i=s.state;if(!s.output||s.avail_in!==0&&!s.input||i.status===ll&&d!==Ba)return nn(s,s.avail_out===0?Br:ue);const h=i.last_flush;if(i.last_flush=d,i.pending!==0){if(Ga(s),s.avail_out===0)return i.last_flush=-1,Oa}else if(s.avail_in===0&&K0(d)<=K0(h)&&d!==Ba)return nn(s,Br);if(i.status===ll&&s.avail_in!==0)return nn(s,Br);if(i.status===On&&i.wrap===0)i.status=en;if(i.status===On){let _=qs+(i.w_bits-8<<4)<<8,T=-1;if(i.strategy>=us||i.level<2)T=0;else if(i.level<6)T=1;else if(i.level===6)T=2;else T=3;if(_|=T<<6,i.strstart!==0)_|=m4;if(_+=31-_%31,al(i,_),i.strstart!==0)al(i,s.adler>>>16),al(i,s.adler&65535);if(s.adler=1,i.status=en,Ga(s),i.pending!==0)return i.last_flush=-1,Oa}if(i.status===Tc)if(s.adler=0,Na(i,31),Na(i,139),Na(i,8),!i.gzhead){if(Na(i,0),Na(i,0),Na(i,0),Na(i,0),Na(i,0),Na(i,i.level===9?2:i.strategy>=us||i.level<2?4:0),Na(i,b4),i.status=en,Ga(s),i.pending!==0)return i.last_flush=-1,Oa}else{if(Na(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(!i.gzhead.extra?0:4)+(!i.gzhead.name?0:8)+(!i.gzhead.comment?0:16)),Na(i,i.gzhead.time&255),Na(i,i.gzhead.time>>8&255),Na(i,i.gzhead.time>>16&255),Na(i,i.gzhead.time>>24&255),Na(i,i.level===9?2:i.strategy>=us||i.level<2?4:0),Na(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length)Na(i,i.gzhead.extra.length&255),Na(i,i.gzhead.extra.length>>8&255);if(i.gzhead.hcrc)s.adler=Wa(s.adler,i.pending_buf,i.pending,0);i.gzindex=0,i.status=bc}if(i.status===bc){if(i.gzhead.extra){let _=i.pending,T=(i.gzhead.extra.length&65535)-i.gzindex;while(i.pending+T>i.pending_buf_size){let v=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+v),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>_)s.adler=Wa(s.adler,i.pending_buf,i.pending-_,_);if(i.gzindex+=v,Ga(s),i.pending!==0)return i.last_flush=-1,Oa;_=0,T-=v}let u=new Uint8Array(i.gzhead.extra);if(i.pending_buf.set(u.subarray(i.gzindex,i.gzindex+T),i.pending),i.pending+=T,i.gzhead.hcrc&&i.pending>_)s.adler=Wa(s.adler,i.pending_buf,i.pending-_,_);i.gzindex=0}i.status=pc}if(i.status===pc){if(i.gzhead.name){let _=i.pending,T;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>_)s.adler=Wa(s.adler,i.pending_buf,i.pending-_,_);if(Ga(s),i.pending!==0)return i.last_flush=-1,Oa;_=0}if(i.gzindex<i.gzhead.name.length)T=i.gzhead.name.charCodeAt(i.gzindex++)&255;else T=0;Na(i,T)}while(T!==0);if(i.gzhead.hcrc&&i.pending>_)s.adler=Wa(s.adler,i.pending_buf,i.pending-_,_);i.gzindex=0}i.status=dc}if(i.status===dc){if(i.gzhead.comment){let _=i.pending,T;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>_)s.adler=Wa(s.adler,i.pending_buf,i.pending-_,_);if(Ga(s),i.pending!==0)return i.last_flush=-1,Oa;_=0}if(i.gzindex<i.gzhead.comment.length)T=i.gzhead.comment.charCodeAt(i.gzindex++)&255;else T=0;Na(i,T)}while(T!==0);if(i.gzhead.hcrc&&i.pending>_)s.adler=Wa(s.adler,i.pending_buf,i.pending-_,_)}i.status=fc}if(i.status===fc){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size){if(Ga(s),i.pending!==0)return i.last_flush=-1,Oa}Na(i,s.adler&255),Na(i,s.adler>>8&255),s.adler=0}if(i.status=en,Ga(s),i.pending!==0)return i.last_flush=-1,Oa}if(s.avail_in!==0||i.lookahead!==0||d!==ze&&i.status!==ll){let _=i.level===0?au(i,d):i.strategy===us?_4(i,d):i.strategy===C8?f4(i,d):sl[i.level].func(i,d);if(_===ln||_===Xn)i.status=ll;if(_===Xa||_===ln){if(s.avail_out===0)i.last_flush=-1;return Oa}if(_===Sn){if(d===G8)I8(i);else if(d!==J0){if(uc(i,0,0,!1),d===D8){if(we(i.head),i.lookahead===0)i.strstart=0,i.block_start=0,i.insert=0}}if(Ga(s),s.avail_out===0)return i.last_flush=-1,Oa}}if(d!==Ba)return Oa;if(i.wrap<=0)return P0;if(i.wrap===2)Na(i,s.adler&255),Na(i,s.adler>>8&255),Na(i,s.adler>>16&255),Na(i,s.adler>>24&255),Na(i,s.total_in&255),Na(i,s.total_in>>8&255),Na(i,s.total_in>>16&255),Na(i,s.total_in>>24&255);else al(i,s.adler>>>16),al(i,s.adler&65535);if(Ga(s),i.wrap>0)i.wrap=-i.wrap;return i.pending!==0?Oa:P0},R4=(s)=>{if(Rl(s))return ue;const d=s.state.status;return s.state=null,d===en?nn(s,H8):Oa},Z4=(s,d)=>{let i=d.length;if(Rl(s))return ue;const h=s.state,_=h.wrap;if(_===2||_===1&&h.status!==On||h.lookahead)return ue;if(_===1)s.adler=fl(s.adler,d,i,0);if(h.wrap=0,i>=h.w_size){if(_===0)we(h.head),h.strstart=0,h.block_start=0,h.insert=0;let W=new Uint8Array(h.w_size);W.set(d.subarray(i-h.w_size,i),0),d=W,i=h.w_size}const{avail_in:T,next_in:u,input:v}=s;s.avail_in=i,s.next_in=0,s.input=d,Fn(h);while(h.lookahead>=va){let W=h.strstart,y=h.lookahead-(va-1);do h.ins_h=Se(h,h.ins_h,h.window[W+va-1]),h.prev[W&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=W,W++;while(--y);h.strstart=W,h.lookahead=va-1,Fn(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=va-1,h.match_available=0,s.next_in=u,s.input=v,s.avail_in=T,h.wrap=_,Oa},y4=N4,k4=lu,q4=nu,T4=eu,x4=v4,$4=h4,M4=R4,V4=Z4,L4="pako deflate (from Nodeca project)",cl={deflateInit:y4,deflateInit2:k4,deflateReset:q4,deflateResetKeep:T4,deflateSetHeader:x4,deflate:$4,deflateEnd:M4,deflateSetDictionary:V4,deflateInfo:L4},W4=(s,d)=>{return Object.prototype.hasOwnProperty.call(s,d)},w4=function(s){const d=Array.prototype.slice.call(arguments,1);while(d.length){const i=d.shift();if(!i)continue;if(typeof i!=="object")throw new TypeError(i+"must be non-object");for(let h in i)if(W4(i,h))s[h]=i[h]}return s},O4=(s)=>{let d=0;for(let h=0,_=s.length;h<_;h++)d+=s[h].length;const i=new Uint8Array(d);for(let h=0,_=0,T=s.length;h<T;h++){let u=s[h];i.set(u,_),_+=u.length}return i},Ts={assign:w4,flattenChunks:O4},su=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){su=!1}var tl=new Uint8Array(256);for(let s=0;s<256;s++)tl[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;tl[254]=tl[254]=1;var F4=(s)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return(new TextEncoder()).encode(s);let d,i,h,_,T,u=s.length,v=0;for(_=0;_<u;_++){if(i=s.charCodeAt(_),(i&64512)===55296&&_+1<u){if(h=s.charCodeAt(_+1),(h&64512)===56320)i=65536+(i-55296<<10)+(h-56320),_++}v+=i<128?1:i<2048?2:i<65536?3:4}d=new Uint8Array(v);for(T=0,_=0;T<v;_++){if(i=s.charCodeAt(_),(i&64512)===55296&&_+1<u){if(h=s.charCodeAt(_+1),(h&64512)===56320)i=65536+(i-55296<<10)+(h-56320),_++}if(i<128)d[T++]=i;else if(i<2048)d[T++]=192|i>>>6,d[T++]=128|i&63;else if(i<65536)d[T++]=224|i>>>12,d[T++]=128|i>>>6&63,d[T++]=128|i&63;else d[T++]=240|i>>>18,d[T++]=128|i>>>12&63,d[T++]=128|i>>>6&63,d[T++]=128|i&63}return d},z4=(s,d)=>{if(d<65534){if(s.subarray&&su)return String.fromCharCode.apply(null,s.length===d?s:s.subarray(0,d))}let i="";for(let h=0;h<d;h++)i+=String.fromCharCode(s[h]);return i},S4=(s,d)=>{const i=d||s.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return(new TextDecoder()).decode(s.subarray(0,d));let h,_;const T=new Array(i*2);for(_=0,h=0;h<i;){let u=s[h++];if(u<128){T[_++]=u;continue}let v=tl[u];if(v>4){T[_++]=65533,h+=v-1;continue}u&=v===2?31:v===3?15:7;while(v>1&&h<i)u=u<<6|s[h++]&63,v--;if(v>1){T[_++]=65533;continue}if(u<65536)T[_++]=u;else u-=65536,T[_++]=55296|u>>10&1023,T[_++]=56320|u&1023}return z4(T,_)},X4=(s,d)=>{if(d=d||s.length,d>s.length)d=s.length;let i=d-1;while(i>=0&&(s[i]&192)===128)i--;if(i<0)return d;if(i===0)return d;return i+tl[s[i]]>d?i:d},vl={string2buf:F4,buf2string:S4,utf8border:X4},ru=d8,cu=Object.prototype.toString,{Z_NO_FLUSH:g4,Z_SYNC_FLUSH:U4,Z_FULL_FLUSH:E4,Z_FINISH:j4,Z_OK:Rs,Z_STREAM_END:J4,Z_DEFAULT_COMPRESSION:P4,Z_DEFAULT_STRATEGY:K4,Z_DEFLATED:I4}=ks;hc.prototype.push=function(s,d){const i=this.strm,h=this.options.chunkSize;let _,T;if(this.ended)return!1;if(d===~~d)T=d;else T=d===!0?j4:g4;if(typeof s==="string")i.input=vl.string2buf(s);else if(cu.call(s)==="[object ArrayBuffer]")i.input=new Uint8Array(s);else i.input=s;i.next_in=0,i.avail_in=i.input.length;for(;;){if(i.avail_out===0)i.output=new Uint8Array(h),i.next_out=0,i.avail_out=h;if((T===U4||T===E4)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(_=cl.deflate(i,T),_===J4){if(i.next_out>0)this.onData(i.output.subarray(0,i.next_out));return _=cl.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===Rs}if(i.avail_out===0){this.onData(i.output);continue}if(T>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};hc.prototype.onData=function(s){this.chunks.push(s)};hc.prototype.onEnd=function(s){if(s===Rs)this.result=Ts.flattenChunks(this.chunks);this.chunks=[],this.err=s,this.msg=this.strm.msg};var ms=16209,G4=16191,D4=function s(d,i){let h,_,T,u,v,W,y,k,Z,$,V,x,q,F,g,E,z,K,Y,C,mo,to,Mo,uo;const Vo=d.state;h=d.next_in,Mo=d.input,_=h+(d.avail_in-5),T=d.next_out,uo=d.output,u=T-(i-d.avail_out),v=T+(d.avail_out-257),W=Vo.dmax,y=Vo.wsize,k=Vo.whave,Z=Vo.wnext,$=Vo.window,V=Vo.hold,x=Vo.bits,q=Vo.lencode,F=Vo.distcode,g=(1<<Vo.lenbits)-1,E=(1<<Vo.distbits)-1;o:do{if(x<15)V+=Mo[h++]<<x,x+=8,V+=Mo[h++]<<x,x+=8;z=q[V&g];a:for(;;){if(K=z>>>24,V>>>=K,x-=K,K=z>>>16&255,K===0)uo[T++]=z&65535;else if(K&16){if(Y=z&65535,K&=15,K){if(x<K)V+=Mo[h++]<<x,x+=8;Y+=V&(1<<K)-1,V>>>=K,x-=K}if(x<15)V+=Mo[h++]<<x,x+=8,V+=Mo[h++]<<x,x+=8;z=F[V&E];e:for(;;){if(K=z>>>24,V>>>=K,x-=K,K=z>>>16&255,K&16){if(C=z&65535,K&=15,x<K){if(V+=Mo[h++]<<x,x+=8,x<K)V+=Mo[h++]<<x,x+=8}if(C+=V&(1<<K)-1,C>W){d.msg="invalid distance too far back",Vo.mode=ms;break o}if(V>>>=K,x-=K,K=T-u,C>K){if(K=C-K,K>k){if(Vo.sane){d.msg="invalid distance too far back",Vo.mode=ms;break o}}if(mo=0,to=$,Z===0){if(mo+=y-K,K<Y){Y-=K;do uo[T++]=$[mo++];while(--K);mo=T-C,to=uo}}else if(Z<K){if(mo+=y+Z-K,K-=Z,K<Y){Y-=K;do uo[T++]=$[mo++];while(--K);if(mo=0,Z<Y){K=Z,Y-=K;do uo[T++]=$[mo++];while(--K);mo=T-C,to=uo}}}else if(mo+=Z-K,K<Y){Y-=K;do uo[T++]=$[mo++];while(--K);mo=T-C,to=uo}while(Y>2)uo[T++]=to[mo++],uo[T++]=to[mo++],uo[T++]=to[mo++],Y-=3;if(Y){if(uo[T++]=to[mo++],Y>1)uo[T++]=to[mo++]}}else{mo=T-C;do uo[T++]=uo[mo++],uo[T++]=uo[mo++],uo[T++]=uo[mo++],Y-=3;while(Y>2);if(Y){if(uo[T++]=uo[mo++],Y>1)uo[T++]=uo[mo++]}}}else if((K&64)===0){z=F[(z&65535)+(V&(1<<K)-1)];continue e}else{d.msg="invalid distance code",Vo.mode=ms;break o}break}}else if((K&64)===0){z=q[(z&65535)+(V&(1<<K)-1)];continue a}else if(K&32){Vo.mode=G4;break o}else{d.msg="invalid literal/length code",Vo.mode=ms;break o}break}}while(h<_&&T<v);Y=x>>3,h-=Y,x-=Y<<3,V&=(1<<x)-1,d.next_in=h,d.next_out=T,d.avail_in=h<_?5+(_-h):5-(h-_),d.avail_out=T<v?257+(v-T):257-(T-v),Vo.hold=V,Vo.bits=x;return},Zn=15,I0=852,G0=592,D0=0,Qr=1,H0=2,H4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Y4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),B4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),C4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Q4=(s,d,i,h,_,T,u,v)=>{const W=v.bits;let y=0,k=0,Z=0,$=0,V=0,x=0,q=0,F=0,g=0,E=0,z,K,Y,C,mo,to=null,Mo;const uo=new Uint16Array(Zn+1),Vo=new Uint16Array(Zn+1);let o=null,n,c,l;for(y=0;y<=Zn;y++)uo[y]=0;for(k=0;k<h;k++)uo[d[i+k]]++;V=W;for($=Zn;$>=1;$--)if(uo[$]!==0)break;if(V>$)V=$;if($===0)return _[T++]=20971520,_[T++]=20971520,v.bits=1,0;for(Z=1;Z<$;Z++)if(uo[Z]!==0)break;if(V<Z)V=Z;F=1;for(y=1;y<=Zn;y++)if(F<<=1,F-=uo[y],F<0)return-1;if(F>0&&(s===D0||$!==1))return-1;Vo[1]=0;for(y=1;y<Zn;y++)Vo[y+1]=Vo[y]+uo[y];for(k=0;k<h;k++)if(d[i+k]!==0)u[Vo[d[i+k]]++]=k;if(s===D0)to=o=u,Mo=20;else if(s===Qr)to=H4,o=Y4,Mo=257;else to=B4,o=C4,Mo=0;if(E=0,k=0,y=Z,mo=T,x=V,q=0,Y=-1,g=1<<V,C=g-1,s===Qr&&g>I0||s===H0&&g>G0)return 1;for(;;){if(n=y-q,u[k]+1<Mo)c=0,l=u[k];else if(u[k]>=Mo)c=o[u[k]-Mo],l=to[u[k]-Mo];else c=96,l=0;z=1<<y-q,K=1<<x,Z=K;do K-=z,_[mo+(E>>q)+K]=n<<24|c<<16|l|0;while(K!==0);z=1<<y-1;while(E&z)z>>=1;if(z!==0)E&=z-1,E+=z;else E=0;if(k++,--uo[y]===0){if(y===$)break;y=d[i+u[k]]}if(y>V&&(E&C)!==Y){if(q===0)q=V;mo+=Z,x=y-q,F=1<<x;while(x+q<$){if(F-=uo[x+q],F<=0)break;x++,F<<=1}if(g+=1<<x,s===Qr&&g>I0||s===H0&&g>G0)return 1;Y=E&C,_[Y]=V<<24|x<<16|mo-T|0}}if(E!==0)_[mo+E]=y-q<<24|4194304|0;return v.bits=V,0},il=Q4,A4=0,iu=1,uu=2,{Z_FINISH:Y0,Z_BLOCK:o5,Z_TREES:bs,Z_OK:sn,Z_STREAM_END:a5,Z_NEED_DICT:e5,Z_STREAM_ERROR:Ca,Z_DATA_ERROR:mu,Z_MEM_ERROR:bu,Z_BUF_ERROR:n5,Z_DEFLATED:B0}=ks,xs=16180,C0=16181,Q0=16182,A0=16183,o1=16184,a1=16185,e1=16186,n1=16187,l1=16188,s1=16189,Zs=16190,te=16191,Ar=16192,r1=16193,oc=16194,c1=16195,i1=16196,u1=16197,m1=16198,ps=16199,ds=16200,b1=16201,p1=16202,d1=16203,f1=16204,_1=16205,ac=16206,t1=16207,v1=16208,ya=16209,pu=16210,du=16211,l5=852,s5=592,r5=15,c5=r5,N1=(s)=>{return(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24)},rn=(s)=>{if(!s)return 1;const d=s.state;if(!d||d.strm!==s||d.mode<xs||d.mode>du)return 1;return 0},fu=(s)=>{if(rn(s))return Ca;const d=s.state;if(s.total_in=s.total_out=d.total=0,s.msg="",d.wrap)s.adler=d.wrap&1;return d.mode=xs,d.last=0,d.havedict=0,d.flags=-1,d.dmax=32768,d.head=null,d.hold=0,d.bits=0,d.lencode=d.lendyn=new Int32Array(l5),d.distcode=d.distdyn=new Int32Array(s5),d.sane=1,d.back=-1,sn},_u=(s)=>{if(rn(s))return Ca;const d=s.state;return d.wsize=0,d.whave=0,d.wnext=0,fu(s)},tu=(s,d)=>{let i;if(rn(s))return Ca;const h=s.state;if(d<0)i=0,d=-d;else if(i=(d>>4)+5,d<48)d&=15;if(d&&(d<8||d>15))return Ca;if(h.window!==null&&h.wbits!==d)h.window=null;return h.wrap=i,h.wbits=d,_u(s)},vu=(s,d)=>{if(!s)return Ca;const i=new f8;s.state=i,i.strm=s,i.window=null,i.mode=xs;const h=tu(s,d);if(h!==sn)s.state=null;return h},i5=(s)=>{return vu(s,c5)},h1=!0,ec,nc,u5=(s)=>{if(h1){ec=new Int32Array(512),nc=new Int32Array(32);let d=0;while(d<144)s.lens[d++]=8;while(d<256)s.lens[d++]=9;while(d<280)s.lens[d++]=7;while(d<288)s.lens[d++]=8;il(iu,s.lens,0,288,ec,0,s.work,{bits:9}),d=0;while(d<32)s.lens[d++]=5;il(uu,s.lens,0,32,nc,0,s.work,{bits:5}),h1=!1}s.lencode=ec,s.lenbits=9,s.distcode=nc,s.distbits=5},Nu=(s,d,i,h)=>{let _;const T=s.state;if(T.window===null)T.wsize=1<<T.wbits,T.wnext=0,T.whave=0,T.window=new Uint8Array(T.wsize);if(h>=T.wsize)T.window.set(d.subarray(i-T.wsize,i),0),T.wnext=0,T.whave=T.wsize;else{if(_=T.wsize-T.wnext,_>h)_=h;if(T.window.set(d.subarray(i-h,i-h+_),T.wnext),h-=_,h)T.window.set(d.subarray(i-h,i),0),T.wnext=h,T.whave=T.wsize;else{if(T.wnext+=_,T.wnext===T.wsize)T.wnext=0;if(T.whave<T.wsize)T.whave+=_}}return 0},m5=(s,d)=>{let i,h,_,T,u,v,W,y,k,Z,$,V,x,q,F=0,g,E,z,K,Y,C,mo,to;const Mo=new Uint8Array(4);let uo,Vo;const o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rn(s)||!s.output||!s.input&&s.avail_in!==0)return Ca;if(i=s.state,i.mode===te)i.mode=Ar;u=s.next_out,_=s.output,W=s.avail_out,T=s.next_in,h=s.input,v=s.avail_in,y=i.hold,k=i.bits,Z=v,$=W,to=sn;o:for(;;)switch(i.mode){case xs:if(i.wrap===0){i.mode=Ar;break}while(k<16){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(i.wrap&2&&y===35615){if(i.wbits===0)i.wbits=15;i.check=0,Mo[0]=y&255,Mo[1]=y>>>8&255,i.check=Wa(i.check,Mo,2,0),y=0,k=0,i.mode=C0;break}if(i.head)i.head.done=!1;if(!(i.wrap&1)||(((y&255)<<8)+(y>>8))%31){s.msg="incorrect header check",i.mode=ya;break}if((y&15)!==B0){s.msg="unknown compression method",i.mode=ya;break}if(y>>>=4,k-=4,mo=(y&15)+8,i.wbits===0)i.wbits=mo;if(mo>15||mo>i.wbits){s.msg="invalid window size",i.mode=ya;break}i.dmax=1<<i.wbits,i.flags=0,s.adler=i.check=1,i.mode=y&512?s1:te,y=0,k=0;break;case C0:while(k<16){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(i.flags=y,(i.flags&255)!==B0){s.msg="unknown compression method",i.mode=ya;break}if(i.flags&57344){s.msg="unknown header flags set",i.mode=ya;break}if(i.head)i.head.text=y>>8&1;if(i.flags&512&&i.wrap&4)Mo[0]=y&255,Mo[1]=y>>>8&255,i.check=Wa(i.check,Mo,2,0);y=0,k=0,i.mode=Q0;case Q0:while(k<32){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(i.head)i.head.time=y;if(i.flags&512&&i.wrap&4)Mo[0]=y&255,Mo[1]=y>>>8&255,Mo[2]=y>>>16&255,Mo[3]=y>>>24&255,i.check=Wa(i.check,Mo,4,0);y=0,k=0,i.mode=A0;case A0:while(k<16){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(i.head)i.head.xflags=y&255,i.head.os=y>>8;if(i.flags&512&&i.wrap&4)Mo[0]=y&255,Mo[1]=y>>>8&255,i.check=Wa(i.check,Mo,2,0);y=0,k=0,i.mode=o1;case o1:if(i.flags&1024){while(k<16){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(i.length=y,i.head)i.head.extra_len=y;if(i.flags&512&&i.wrap&4)Mo[0]=y&255,Mo[1]=y>>>8&255,i.check=Wa(i.check,Mo,2,0);y=0,k=0}else if(i.head)i.head.extra=null;i.mode=a1;case a1:if(i.flags&1024){if(V=i.length,V>v)V=v;if(V){if(i.head){if(mo=i.head.extra_len-i.length,!i.head.extra)i.head.extra=new Uint8Array(i.head.extra_len);i.head.extra.set(h.subarray(T,T+V),mo)}if(i.flags&512&&i.wrap&4)i.check=Wa(i.check,h,V,T);v-=V,T+=V,i.length-=V}if(i.length)break o}i.length=0,i.mode=e1;case e1:if(i.flags&2048){if(v===0)break o;V=0;do if(mo=h[T+V++],i.head&&mo&&i.length<65536)i.head.name+=String.fromCharCode(mo);while(mo&&V<v);if(i.flags&512&&i.wrap&4)i.check=Wa(i.check,h,V,T);if(v-=V,T+=V,mo)break o}else if(i.head)i.head.name=null;i.length=0,i.mode=n1;case n1:if(i.flags&4096){if(v===0)break o;V=0;do if(mo=h[T+V++],i.head&&mo&&i.length<65536)i.head.comment+=String.fromCharCode(mo);while(mo&&V<v);if(i.flags&512&&i.wrap&4)i.check=Wa(i.check,h,V,T);if(v-=V,T+=V,mo)break o}else if(i.head)i.head.comment=null;i.mode=l1;case l1:if(i.flags&512){while(k<16){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(i.wrap&4&&y!==(i.check&65535)){s.msg="header crc mismatch",i.mode=ya;break}y=0,k=0}if(i.head)i.head.hcrc=i.flags>>9&1,i.head.done=!0;s.adler=i.check=0,i.mode=te;break;case s1:while(k<32){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}s.adler=i.check=N1(y),y=0,k=0,i.mode=Zs;case Zs:if(i.havedict===0)return s.next_out=u,s.avail_out=W,s.next_in=T,s.avail_in=v,i.hold=y,i.bits=k,e5;s.adler=i.check=1,i.mode=te;case te:if(d===o5||d===bs)break o;case Ar:if(i.last){y>>>=k&7,k-=k&7,i.mode=ac;break}while(k<3){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}switch(i.last=y&1,y>>>=1,k-=1,y&3){case 0:i.mode=r1;break;case 1:if(u5(i),i.mode=ps,d===bs){y>>>=2,k-=2;break o}break;case 2:i.mode=i1;break;case 3:s.msg="invalid block type",i.mode=ya}y>>>=2,k-=2;break;case r1:y>>>=k&7,k-=k&7;while(k<32){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if((y&65535)!==(y>>>16^65535)){s.msg="invalid stored block lengths",i.mode=ya;break}if(i.length=y&65535,y=0,k=0,i.mode=oc,d===bs)break o;case oc:i.mode=c1;case c1:if(V=i.length,V){if(V>v)V=v;if(V>W)V=W;if(V===0)break o;_.set(h.subarray(T,T+V),u),v-=V,T+=V,W-=V,u+=V,i.length-=V;break}i.mode=te;break;case i1:while(k<14){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(i.nlen=(y&31)+257,y>>>=5,k-=5,i.ndist=(y&31)+1,y>>>=5,k-=5,i.ncode=(y&15)+4,y>>>=4,k-=4,i.nlen>286||i.ndist>30){s.msg="too many length or distance symbols",i.mode=ya;break}i.have=0,i.mode=u1;case u1:while(i.have<i.ncode){while(k<3){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}i.lens[o[i.have++]]=y&7,y>>>=3,k-=3}while(i.have<19)i.lens[o[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,uo={bits:i.lenbits},to=il(A4,i.lens,0,19,i.lencode,0,i.work,uo),i.lenbits=uo.bits,to){s.msg="invalid code lengths set",i.mode=ya;break}i.have=0,i.mode=m1;case m1:while(i.have<i.nlen+i.ndist){for(;;){if(F=i.lencode[y&(1<<i.lenbits)-1],g=F>>>24,E=F>>>16&255,z=F&65535,g<=k)break;if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(z<16)y>>>=g,k-=g,i.lens[i.have++]=z;else{if(z===16){Vo=g+2;while(k<Vo){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(y>>>=g,k-=g,i.have===0){s.msg="invalid bit length repeat",i.mode=ya;break}mo=i.lens[i.have-1],V=3+(y&3),y>>>=2,k-=2}else if(z===17){Vo=g+3;while(k<Vo){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}y>>>=g,k-=g,mo=0,V=3+(y&7),y>>>=3,k-=3}else{Vo=g+7;while(k<Vo){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}y>>>=g,k-=g,mo=0,V=11+(y&127),y>>>=7,k-=7}if(i.have+V>i.nlen+i.ndist){s.msg="invalid bit length repeat",i.mode=ya;break}while(V--)i.lens[i.have++]=mo}}if(i.mode===ya)break;if(i.lens[256]===0){s.msg="invalid code -- missing end-of-block",i.mode=ya;break}if(i.lenbits=9,uo={bits:i.lenbits},to=il(iu,i.lens,0,i.nlen,i.lencode,0,i.work,uo),i.lenbits=uo.bits,to){s.msg="invalid literal/lengths set",i.mode=ya;break}if(i.distbits=6,i.distcode=i.distdyn,uo={bits:i.distbits},to=il(uu,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,uo),i.distbits=uo.bits,to){s.msg="invalid distances set",i.mode=ya;break}if(i.mode=ps,d===bs)break o;case ps:i.mode=ds;case ds:if(v>=6&&W>=258){if(s.next_out=u,s.avail_out=W,s.next_in=T,s.avail_in=v,i.hold=y,i.bits=k,D4(s,$),u=s.next_out,_=s.output,W=s.avail_out,T=s.next_in,h=s.input,v=s.avail_in,y=i.hold,k=i.bits,i.mode===te)i.back=-1;break}i.back=0;for(;;){if(F=i.lencode[y&(1<<i.lenbits)-1],g=F>>>24,E=F>>>16&255,z=F&65535,g<=k)break;if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(E&&(E&240)===0){K=g,Y=E,C=z;for(;;){if(F=i.lencode[C+((y&(1<<K+Y)-1)>>K)],g=F>>>24,E=F>>>16&255,z=F&65535,K+g<=k)break;if(v===0)break o;v--,y+=h[T++]<<k,k+=8}y>>>=K,k-=K,i.back+=K}if(y>>>=g,k-=g,i.back+=g,i.length=z,E===0){i.mode=_1;break}if(E&32){i.back=-1,i.mode=te;break}if(E&64){s.msg="invalid literal/length code",i.mode=ya;break}i.extra=E&15,i.mode=b1;case b1:if(i.extra){Vo=i.extra;while(k<Vo){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}i.length+=y&(1<<i.extra)-1,y>>>=i.extra,k-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=p1;case p1:for(;;){if(F=i.distcode[y&(1<<i.distbits)-1],g=F>>>24,E=F>>>16&255,z=F&65535,g<=k)break;if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if((E&240)===0){K=g,Y=E,C=z;for(;;){if(F=i.distcode[C+((y&(1<<K+Y)-1)>>K)],g=F>>>24,E=F>>>16&255,z=F&65535,K+g<=k)break;if(v===0)break o;v--,y+=h[T++]<<k,k+=8}y>>>=K,k-=K,i.back+=K}if(y>>>=g,k-=g,i.back+=g,E&64){s.msg="invalid distance code",i.mode=ya;break}i.offset=z,i.extra=E&15,i.mode=d1;case d1:if(i.extra){Vo=i.extra;while(k<Vo){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}i.offset+=y&(1<<i.extra)-1,y>>>=i.extra,k-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){s.msg="invalid distance too far back",i.mode=ya;break}i.mode=f1;case f1:if(W===0)break o;if(V=$-W,i.offset>V){if(V=i.offset-V,V>i.whave){if(i.sane){s.msg="invalid distance too far back",i.mode=ya;break}}if(V>i.wnext)V-=i.wnext,x=i.wsize-V;else x=i.wnext-V;if(V>i.length)V=i.length;q=i.window}else q=_,x=u-i.offset,V=i.length;if(V>W)V=W;W-=V,i.length-=V;do _[u++]=q[x++];while(--V);if(i.length===0)i.mode=ds;break;case _1:if(W===0)break o;_[u++]=i.length,W--,i.mode=ds;break;case ac:if(i.wrap){while(k<32){if(v===0)break o;v--,y|=h[T++]<<k,k+=8}if($-=W,s.total_out+=$,i.total+=$,i.wrap&4&&$)s.adler=i.check=i.flags?Wa(i.check,_,$,u-$):fl(i.check,_,$,u-$);if($=W,i.wrap&4&&(i.flags?y:N1(y))!==i.check){s.msg="incorrect data check",i.mode=ya;break}y=0,k=0}i.mode=t1;case t1:if(i.wrap&&i.flags){while(k<32){if(v===0)break o;v--,y+=h[T++]<<k,k+=8}if(i.wrap&4&&y!==(i.total&4294967295)){s.msg="incorrect length check",i.mode=ya;break}y=0,k=0}i.mode=v1;case v1:to=a5;break o;case ya:to=mu;break o;case pu:return bu;case du:default:return Ca}if(s.next_out=u,s.avail_out=W,s.next_in=T,s.avail_in=v,i.hold=y,i.bits=k,i.wsize||$!==s.avail_out&&i.mode<ya&&(i.mode<ac||d!==Y0)){if(Nu(s,s.output,s.next_out,$-s.avail_out));}if(Z-=s.avail_in,$-=s.avail_out,s.total_in+=Z,s.total_out+=$,i.total+=$,i.wrap&4&&$)s.adler=i.check=i.flags?Wa(i.check,_,$,s.next_out-$):fl(i.check,_,$,s.next_out-$);if(s.data_type=i.bits+(i.last?64:0)+(i.mode===te?128:0)+(i.mode===ps||i.mode===oc?256:0),(Z===0&&$===0||d===Y0)&&to===sn)to=n5;return to},b5=(s)=>{if(rn(s))return Ca;let d=s.state;if(d.window)d.window=null;return s.state=null,sn},p5=(s,d)=>{if(rn(s))return Ca;const i=s.state;if((i.wrap&2)===0)return Ca;return i.head=d,d.done=!1,sn},d5=(s,d)=>{const i=d.length;let h,_,T;if(rn(s))return Ca;if(h=s.state,h.wrap!==0&&h.mode!==Zs)return Ca;if(h.mode===Zs){if(_=1,_=fl(_,d,i,0),_!==h.check)return mu}if(T=Nu(s,d,i,i),T)return h.mode=pu,bu;return h.havedict=1,sn},f5=_u,_5=tu,t5=fu,v5=i5,N5=vu,h5=m5,R5=b5,Z5=p5,y5=d5,k5="pako inflate (from Nodeca project)",Ne={inflateReset:f5,inflateReset2:_5,inflateResetKeep:t5,inflateInit:v5,inflateInit2:N5,inflate:h5,inflateEnd:R5,inflateGetHeader:Z5,inflateSetDictionary:y5,inflateInfo:k5},q5=_8,hu=Object.prototype.toString,{Z_NO_FLUSH:T5,Z_FINISH:x5,Z_OK:Nl,Z_STREAM_END:lc,Z_NEED_DICT:sc,Z_STREAM_ERROR:$5,Z_DATA_ERROR:R1,Z_MEM_ERROR:M5}=ks;Rc.prototype.push=function(s,d){const i=this.strm,h=this.options.chunkSize,_=this.options.dictionary;let T,u,v;if(this.ended)return!1;if(d===~~d)u=d;else u=d===!0?x5:T5;if(hu.call(s)==="[object ArrayBuffer]")i.input=new Uint8Array(s);else i.input=s;i.next_in=0,i.avail_in=i.input.length;for(;;){if(i.avail_out===0)i.output=new Uint8Array(h),i.next_out=0,i.avail_out=h;if(T=Ne.inflate(i,u),T===sc&&_){if(T=Ne.inflateSetDictionary(i,_),T===Nl)T=Ne.inflate(i,u);else if(T===R1)T=sc}while(i.avail_in>0&&T===lc&&i.state.wrap>0&&s[i.next_in]!==0)Ne.inflateReset(i),T=Ne.inflate(i,u);switch(T){case $5:case R1:case sc:case M5:return this.onEnd(T),this.ended=!0,!1}if(v=i.avail_out,i.next_out){if(i.avail_out===0||T===lc)if(this.options.to==="string"){let W=vl.utf8border(i.output,i.next_out),y=i.next_out-W,k=vl.buf2string(i.output,W);if(i.next_out=y,i.avail_out=h-y,y)i.output.set(i.output.subarray(W,W+y),0);this.onData(k)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out))}if(T===Nl&&v===0)continue;if(T===lc)return T=Ne.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,!0;if(i.avail_in===0)break}return!0};Rc.prototype.onData=function(s){this.chunks.push(s)};Rc.prototype.onEnd=function(s){if(s===Nl)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=Ts.flattenChunks(this.chunks);this.chunks=[],this.err=s,this.msg=this.strm.msg};var Nb=tc(j6(),1);ge();import{jsx as Re,jsxs as o9,Fragment as a9} from"preact/jsx-runtime";var e9=function({itemClassName:s,deviceName:d,deviceFilters:i,downloadScreen:h,onDownload:_,children:T}){const{maybeLocaleText:u}=D5(),{createAlert:v,removeAlert:W,createPrompt:y}=H5(),{key:k,name:Z,fileList:$,assetList:V,device:x,setDevice:q}=Y5(),F=(z)=>{if(!Ze)Ze=`download.${Date.now()}`;if(z<100)v({id:Ze,icon:Re(B5,{level:"success"}),message:Re(gn,{id:"blocks.alert.downloading",defaultMessage:"Downloading...{progress}%",progress:z})});else v({id:Ze,icon:null,message:Re(gn,{id:"blocks.alert.downloadCompleted",defaultMessage:"Download completed."})}),setTimeout(g,1000)},g=()=>{W(Ze),Ze=null},E=()=>{v({message:Re(gn,{id:"blocks.alert.connectionError",defaultMessage:"Connection error."})},1000)};if(Ze&&!x)E(),g();return o9(a9,{children:[Re(C5,{children:Re(Q5,{disabled:Ze,className:s,label:Re(gn,{id:"blocks.menu.device.download",defaultMessage:"Download program"}),onClick:async()=>{if(Ze)return;try{const z=x||await F1(i||A5,q);if(h)await z1(z,h);let K=_?_(Z,$,V):[].concat(V);if(K=K.map((Y)=>({...Y,id:Y.id[0]!=="_"?`proj${k}/${Y.id}`:Y.id})),F(0),await X1(z,K))await g1(z,K,F),await S1(z,{"latest-project":k});else y({title:d||Re(gn,{id:"blocks.menu.device.name",defaultMessage:"device"}),label:Re(gn,{id:"blocks.alert.flashOutSpace",defaultMessage:"The flash is running out of space."})}),g();z.hardReset()}catch(z){console.log(z),E(),g()}}})}),T]})};import{jsx as Un} from"preact/jsx-runtime";var gu=function({deviceName:s,deviceFilters:d,createProject:i,openProject:h,saveProject:_,downloadProjectToDevice:T,showDownloadScreen:u}){return[{icon:n9,label:Un(xc,{id:"blocks.menu.file",defaultMessage:"File"}),Menu:({itemClassName:v,children:W})=>Un(j5,{itemClassName:v,onNew:i,onOpen:h,onSave:_,children:W})},{icon:l9,label:Un(xc,{id:"blocks.menu.edit",defaultMessage:"Edit"}),Menu:({itemClassName:v,children:W})=>Un(G5,{itemClassName:v,children:W})},{icon:s9,label:Un(xc,{id:"blocks.menu.device",defaultMessage:"Device"}),Menu:({itemClassName:v,children:W})=>Un(e9,{deviceName:s,itemClassName:v,deviceFilters:d,downloadScreen:u,onDownload:T,children:W})}]};import{ScratchBlocks as Ha} from"@blockcode/blocks-editor";import{ScratchBlocks as ka} from"@blockcode/blocks-editor";import{ScratchBlocks as Uu} from"@blockcode/blocks-editor";import{ScratchBlocks as ql} from"@blockcode/blocks-editor";import{useEffect as i9,useState as yl} from"preact/hooks";import{useLocale as u9,useLayout as m9,useEditor as xu} from"@blockcode/core";import{classNames as b9} from"@blockcode/ui";import{BlocksEditor as p9,ScratchBlocks as Fa,makeToolboxXML as d9} from"@blockcode/blocks-editor";import{ScratchBlocks as $u,blockSeparator as f9} from"@blockcode/blocks-editor";var h9=function(s,d,i,h){const{id:_}=s,T=i(s.name);let u=`<category name="${Ee(T)}" id="${Ee(_)}"`;if(u+=` colour="${Ee(s.themeColor||Mu)}"`,u+=` secondaryColour="${Ee(s.inputColor||Vu)}"`,s.connectionConfig)u+=' showStatusButton="true"';if(s.iconURI)u+=` iconURI="${Ee(s.iconURI)}"`;return u+=">",s.blocks.forEach((v)=>{if(v==="---"){u+=`${f9}`;return}if(v.button){u+=`<button text="${i(v.text)}" callbackKey="${v.button}"></button>`;const $=$u.getMainWorkspace();if($){const V=$.getFlyout();if(V){const x=V.getWorkspace();if(x)x.registerButtonCallback(v.button,h(v.onClick))}}return}if(d&&v.useStage===!1)return;if(!d&&v.useSprite===!1)return;const W=`${_}_${v.id.toLowerCase()}`,y={message0:i(v.text),category:_,outputShape:v9,colour:s.themeColor||Mu,colourSecondary:s.inputColor||Vu,colourTertiary:s.otherColor||N9};let k=1;if(s.iconURI)y.message0=`%1 %2 ${y.message0}`,y.args0=[{type:"field_image",src:s.iconURI,width:40,height:40},{type:"field_vertical_separator"}],y.extensions=["scratch_extension"],k+=2;if(v.hat)y.nextStatement=null;else if(v.output){if(v.output==="boolean")y.output="Boolean",y.outputShape=_9;else y.output="String",y.outputShape=t9;y.checkboxInFlyout=v.monitoring!==!1}else y.previousStatement=null,y.nextStatement=null;let Z=`<block type="${Ee(W)}">`;if(v.inputs)y.checkboxInFlyout=!1,y.args0=[].concat(y.args0||[],Object.entries(v.inputs).map(([$,V])=>{const x={name:$,type:"input_value"};if(V.menu)x.type="field_dropdown",x.options=V.menu.map(([q,F])=>[i(q),F]);else if(V.type==="boolean")x.check="Boolean";else{if(Z+=`<value name="${Ee($)}">`,Lu[V.type]){if(Z+=`<shadow type="${Lu[V.type]}">`,V.default&&Wu[V.type])Z+=`<field name="${Wu[V.type]}">${Ee(i(V.default))}</field>`;Z+="</shadow>"}Z+="</value>"}return y.message0=y.message0.replace(`[${$}]`,`%${k++}`),x}));if($u.Blocks[W]={init(){this.jsonInit(y)}},v.python)vo[W]=v.python.bind(vo);else vo[W]=()=>"";Z+="</block>",u+=Z}),u+="</category>",u};import{useRef as R9,useEffect as Z9,useState as wu} from"preact/hooks";import{classNames as y9,Text as En,Button as Ou,Modal as k9,BufferedInput as q9} from"@blockcode/ui";var Wc=function(s){const d=globalThis.document,i=d.createElement("style");i.appendChild(d.createTextNode(s)),d.head.append(i)};import{jsx as ga,jsxs as kl} from"preact/jsx-runtime";var T9=function({title:s,label:d,defaultValue:i,enableLocalVariable:h,showListMessage:_,showVariableOptions:T,showCloudOption:u,onClose:v,onSubmit:W}){const y=R9(null),[k,Z]=wu(i),[$,V]=wu({scope:"global",isCloud:!1}),x=()=>{W(k,$)},q=(F)=>{if(F.key==="Escape")v();if(F.key==="Enter")W(y.current.base.value,$)};return Z9(()=>{if(y.current)y.current.base.focus(),window.addEventListener("keydown",q);return()=>{window.removeEventListener("keydown",q)}},[y]),ga(k9,{title:s,className:pe.promptModal,onClose:v,children:kl("div",{className:pe.promptContent,children:[ga("div",{className:pe.label,children:d}),ga(q9,{autoFocus:!0,forceFocus:!0,ref:y,className:pe.variableNameTextInput,defaultValue:k,onSubmit:Z}),T&&ga("div",{children:h?kl("div",{className:pe.options,children:[kl("label",{children:[ga("input",{checked:$.scope==="global",name:"variableScopeOption",type:"radio",value:"global",onChange:()=>V({...$,scope:"global"})}),ga(En,{id:"blocks.dataPrompt.forAllTargets",defaultMessage:"For all targets"})]}),kl("label",{children:[ga("input",{checked:$.scope==="local",name:"variableScopeOption",type:"radio",value:"local",onChange:()=>V({...$,scope:"local"})}),ga(En,{id:"blocks.dataPrompt.forThisTarget",defaultMessage:"For this target only"})]})]}):ga("div",{className:pe.infoMessage,children:_?ga(En,{id:"blocks.dataPrompt.listAvailableToAllTargets",defaultMessage:"This list will be available to all targets."}):ga(En,{id:"blocks.dataPrompt.availableToAllTargets",defaultMessage:"This variable will be available to all targets."})})}),kl("div",{className:pe.buttonRow,children:[ga(Ou,{className:pe.button,onClick:v,children:ga(En,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),ga(Ou,{className:y9(pe.button,pe.okButton),onClick:x,children:ga(En,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})})};import{useRef as x9,useEffect as $9,useState as M9} from"preact/hooks";import{classNames as V9,Text as je,Button as Fu,Modal as L9} from"@blockcode/ui";import{ScratchBlocks as Ms} from"@blockcode/blocks-editor";import{jsx as La,jsxs as un} from"preact/jsx-runtime";var z9=function({mutator:s,onClose:d,onSubmit:i}){const h=x9(null),[_,T]=M9("command"),u=()=>{},v=()=>{if(h.mutationRoot)h.mutationRoot.addLabelExternal()},W=()=>{if(h.mutationRoot)h.mutationRoot.addBooleanExternal()},y=()=>{if(h.mutationRoot)h.mutationRoot.addStringNumberExternal()},k=()=>{i(h.mutationRoot?.mutationToDom(!0))};return $9(()=>{if(h.current){const Z=Ms.Blocks.defaultToolbox;Ms.Blocks.defaultToolbox=null,h.workspace=Ms.inject(h.current,Object.assign({},F9,{media:"./assets/blocks-media/"})),Ms.Blocks.defaultToolbox=Z,h.mutationRoot=h.workspace.newBlock("procedures_declaration"),h.mutationRoot.setMovable(!1),h.mutationRoot.setDeletable(!1),h.mutationRoot.contextMenu=!1,h.workspace.addChangeListener(()=>{h.mutationRoot.onChangeFn();const $=h.workspace.getMetrics(),{x:V,y:x}=h.mutationRoot.getRelativeToSurfaceXY(),q=$.viewHeight/2-h.mutationRoot.height/2-x;let F=$.viewWidth/2-h.mutationRoot.width/2-V;if(h.mutationRoot.width>$.viewWidth)F=$.viewWidth-h.mutationRoot.width-V;h.mutationRoot.moveBy(F,q)}),h.mutationRoot.domToMutation(s),h.mutationRoot.initSvg(),h.mutationRoot.render(),setTimeout(()=>{h.mutationRoot.focusLastEditor_()})}return()=>{if(h.workspace)h.workspace.dispose()}},[h]),un(L9,{title:La(je,{id:"blocks.myBlockPrompt.title",defaultMessage:"Make a Block"}),className:Va.promptModal,onClose:d,children:[La("div",{ref:h,className:Va.workspace}),un("div",{className:Va.body,children:[un("div",{className:Va.optionsRow,children:[un("div",{role:"button",className:Va.optionCard,onClick:y,children:[La("img",{className:Va.optionIcon,src:w9}),La("div",{className:Va.optionTitle,children:La(je,{id:"blocks.myBlockPrompt.addAnInputNumberText",defaultMessage:"Add an input"})}),La("div",{className:Va.optionDescription,children:La(je,{id:"blocks.myBlockPrompt.numberTextType",defaultMessage:"number or text"})})]}),un("div",{role:"button",className:Va.optionCard,onClick:W,children:[La("img",{className:Va.optionIcon,src:W9}),La("div",{className:Va.optionTitle,children:La(je,{id:"blocks.myBlockPrompt.addAnInputBoolean",defaultMessage:"Add an input"})}),La("div",{className:Va.optionDescription,children:La(je,{id:"blocks.myBlockPrompt.booleanType",defaultMessage:"boolean"})})]}),un("div",{role:"button",className:Va.optionCard,onClick:v,children:[La("img",{className:Va.optionIcon,src:O9}),La("div",{className:Va.optionTitle,children:La(je,{id:"blocks.myBlockPrompt.addALabel",defaultMessage:"Add a label"})})]})]}),un("div",{className:Va.buttonRow,children:[La(Fu,{className:Va.button,onClick:d,children:La(je,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),La(Fu,{className:V9(Va.button,Va.okButton),onClick:k,children:La(je,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})]})};import{useEffect as S9,useState as zu} from"preact/hooks";import{useLocale as X9,useLayout as g9,useEditor as U9} from"@blockcode/core";import{Library as E9} from"@blockcode/ui";import{jsx as J9} from"preact/jsx-runtime";var K9=function({deviceId:s,onSelect:d,onClose:i,onFilter:h}){const[_,T]=zu([]),[u,v]=zu(!1),{language:W,getText:y}=X9(),{createAlert:k,removeAlert:Z}=g9(),{addAsset:$}=U9(),V=(x)=>{const q=x.tags||[];let F=["blocks",["dupont","data"],["3v3","5v"]];if(h)F=h(q);if(Array.isArray(F))return F.every((g)=>{if(Array.isArray(g))return g.some((E)=>q.includes(E));return q.includes(g)});return F};return S9(()=>{P9.then((x)=>{T(x.filter(V).map((q)=>Object.assign({...q,featured:!0,disabled:q.disabled||q.preview,onSelect:async()=>{k("importing",{id:q.id});let{default:F}=await import(`@blockcode/extension-${q.id}/blocks`);if(typeof F==="function")F=F(s);if(F.id=q.id,F.files)for(let g of F.files){const E=`extensions/${q.id.replace(/[^a-z\d]/gi,"_")}/${g.name}`,z=await fetch(g.uri).then((K)=>K.text());$({...g,id:E,content:z})}d(F),Z(q.id),i()}},q.translations&&q.translations[W]?{name:q.translations[W].name||q.name,description:q.translations[W].description||q.description,collaborator:q.translations[W].collaborator||q.collaborator}:{}))),v(!1)})},[]),J9(E9,{filterable:!0,loading:u,items:_,filterPlaceholder:y("gui.library.search","Search"),title:y("blocks.extensions.addExtension","Add Extension"),emptyText:y("blocks.extensions.empty","No extension!"),onClose:i})};import{jsx as mn,jsxs as Su,Fragment as G9} from"preact/jsx-runtime";var H9=function({toolbox:s,messages:d,enableMultiTargets:i,enableLocalVariable:h,disableGenerator:_,disableExtension:T,deviceId:u,onChange:v,onExtensionsFilter:W,onLoadExtension:y}){const{addLocaleData:k,getText:Z,maybeLocaleText:$}=u9(),{splash:V,createPrompt:x,createAlert:q,removeAlert:F,setSplash:g}=m9(),{editor:E,fileList:z,selectedFileId:K,openFile:Y,modifyFile:C,addAsset:mo,setModified:to}=xu(),[Mo,uo]=yl(),[Vo,o]=yl(!1),[n,c]=yl(!1),[l,m]=yl(!1),[t,N]=yl(!1);if(V){if(V===!0&&t===!1)de.clear(),N(D9(u,E.extensions,k,mo,y).then(()=>setTimeout(()=>N(!0),100)));if(t===!0){let fo=!0;if(z.length>1){for(let Xo=0;Xo>-z.length;Xo--)if(!z.at(Xo).content){fo=!1,setTimeout(()=>{const $o=(Xo+z.length)%z.length;Y(z[$o].id)},100);break}}if(fo)setTimeout(()=>{g(!1),to(!1),N(!1)},100)}}d={EVENT_WHENPROGRAMSTART:Z("blocks.event.programStart","when program start"),CONTROL_STOP_OTHER:Z("blocks.control.stopOther","other scripts"),PROCEDURES_ADD_LABEL:Z("blocks.myblock.addLabel"," label text"),PROCEDURES_ADD_BOOLEAN:Z("blocks.myblock.addBoolean","boolean"),PROCEDURES_ADD_STRING_NUMBER:Z("blocks.myblock.addNumbetText","number or text"),...d||[]},i9(()=>{Fa.prompt=(fo,Xo,$o,So,D)=>{const X={callback:$o,message:fo,defaultValue:Xo};X.title=So?So:Fa.Msg.VARIABLE_MODAL_TITLE,X.varType=typeof D==="string"?D:Fa.SCALAR_VARIABLE_TYPE,X.showVariableOptions=i&&D!==Fa.BROADCAST_MESSAGE_VARIABLE_TYPE&&X.title!==Fa.Msg.RENAME_VARIABLE_MODAL_TITLE&&X.title!==Fa.Msg.RENAME_LIST_MODAL_TITLE,X.showCloudOption=D===Fa.SCALAR_VARIABLE_TYPE&&this.props.canUseCloud,o(X)},Fa.FlyoutExtensionCategoryHeader.getExtensionState=(fo)=>{if(de.has(fo)){const Xo=de.get(fo);if(Xo.connectionConfig?.items.every(($o)=>localStorage.getItem(`${Xo.id}.connection.${$o.id}`)))return Fa.StatusButtonState.READY}return Fa.StatusButtonState.NOT_READY},Fa.statusButtonCallback=(fo)=>{if(!de.has(fo))return;const Xo=de.get(fo),{connectionConfig:$o}=Xo;if(!$o)return;x({title:Xo.name,label:$o.title,inputMode:$o.items.map((So)=>({name:So.id,placeholder:So.text,defaultValue:localStorage.getItem(`${Xo.id}.connection.${So.id}`)})),body:$o.description,onSubmit:(So)=>{if(Object.entries(So).forEach(([D,X])=>{localStorage.setItem(`${Xo.id}.connection.${D}`,`${X}`)}),Mo)Fa.refreshStatusButtons(Mo)}})},Fa.Procedures.externalProcedureDefCallback=(fo,Xo)=>{c({mutator:fo,defCallback:Xo})}},[Mo]);let p;if(Mo)p=Mo.getAllVariables().filter((fo)=>{if(fo.isLocal)return!1;if(fo.type===Fa.BROADCAST_MESSAGE_VARIABLE_TYPE){if(fo.name===Fa.Msg.DEFAULT_BROADCAST_MESSAGE_NAME)return!1;const Xo=fo.id_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),$o=new RegExp(`<field name="BROADCAST_OPTION" id="${Xo}"[^>]+>[^<]+</field>`,"g");for(let So of z)if($o.test(So.xml))return!0;return!1}return!0});let a=s||d9();const b=K===z[0].id,S=(fo)=>fo.bind(null,{context:xu(),createPrompt:x,createAlert:q,removeAlert:F});de.forEach((fo)=>{a+=h9(fo,b,$,S)});const w=(fo,Xo)=>{let $o;if(!_)$o=vo.workspaceToCode(Xo);if(C({xml:fo,content:$o}),v)v(fo,Xo)},I=(fo,Xo)=>{Vo.callback(fo,[],Xo),o(!1)},No=(fo)=>{if(fo&&Mo&&n)n.defCallback(fo),Mo.refreshToolboxSelection_(),Mo.toolbox_.scrollToCategoryById("myBlocks");c(!1)},ko=()=>{o(!1),c(!1)},xo=()=>m(!0),bo=()=>m(!1),co=(fo)=>{if(!de.has(fo.id)){if(k(fo.translations),y)y({...fo,blocks:fo.blocks.filter(Eu)});de.set(fo.id,fo)}setTimeout(()=>{Mo.toolbox_.setSelectedCategoryById(fo.id)},100)};return Su(G9,{children:[Su("div",{className:Lc.editorWrapper,children:[mn(p9,{toolbox:a,messages:d,globalVariables:p,onWorkspaceCreated:uo,onChange:K!==null?w:null}),T?null:mn("div",{className:b9("scratchCategoryMenu",Lc.extensionButton),children:mn("button",{className:Lc.addButton,title:Z("blocks.extensions.addExtension","Add Extension"),onClick:xo,children:mn("img",{src:I9,title:"Add Extension"})})}),Vo&&mn(T9,{title:Vo.title,label:Vo.message,defaultValue:Vo.defaultValue,enableLocalVariable:h,showListMessage:Vo.varType===Fa.LIST_VARIABLE_TYPE,showVariableOptions:Vo.showVariableOptions,showCloudOption:Vo.showCloudOption,onClose:ko,onSubmit:I}),n&&mn(z9,{mutator:n.mutator,onClose:ko,onSubmit:No}),l&&mn(K9,{deviceId:u,onFilter:W,onSelect:co,onClose:bo})]}),!1]})};import{jsx as ju} from"preact/jsx-runtime";var V5=Object.create,{defineProperty:Ru,getPrototypeOf:L5,getOwnPropertyNames:W5}=Object,w5=Object.prototype.hasOwnProperty,O5=(s,d,i)=>{i=s!=null?V5(L5(s)):{};const h=d||!s||!s.__esModule?Ru(i,"default",{value:s,enumerable:!0}):i;for(let _ of W5(s))if(!w5.call(h,_))Ru(h,_,{get:()=>s[_],enumerable:!0});return h},F5=(s,d)=>()=>(d||s((d={exports:{}}).exports,d),d.exports),z5=F5((s)=>{(function(){var d=typeof s!="undefined"&&s||typeof define!="undefined"&&{}||this||window;if(typeof define!=="undefined")define("save-svg-as-png",[],function(){return d});d.default=d;var i="http://www.w3.org/2000/xmlns/",h="http://www.w3.org/1999/xhtml",_="http://www.w3.org/2000/svg",T='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',u=/url\(["']?(.+?)["']?\)/,v={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},W=function Vo(o){return o instanceof HTMLElement||o instanceof SVGElement},y=function Vo(o){if(!W(o))throw new Error("an HTMLElement or SVGElement is required; got "+o)},k=function Vo(o){return new Promise(function(n,c){if(W(o))n(o);else c(new Error("an HTMLElement or SVGElement is required; got "+o))})},Z=function Vo(o){return o&&o.lastIndexOf("http",0)===0&&o.lastIndexOf(window.location.host)===-1},$=function Vo(o){var n=Object.keys(v).filter(function(c){return o.indexOf("."+c)>0}).map(function(c){return v[c]});if(n)return n[0];return console.error("Unknown font format for "+o+". Fonts may not be working correctly."),"application/octet-stream"},V=function Vo(o){var n="",c=new Uint8Array(o);for(var l=0;l<c.byteLength;l++)n+=String.fromCharCode(c[l]);return window.btoa(n)},x=function Vo(o,n,c){var l=o.viewBox&&o.viewBox.baseVal&&o.viewBox.baseVal[c]||n.getAttribute(c)!==null&&!n.getAttribute(c).match(/%$/)&&parseInt(n.getAttribute(c))||o.getBoundingClientRect()[c]||parseInt(n.style[c])||parseInt(window.getComputedStyle(o).getPropertyValue(c));return typeof l==="undefined"||l===null||isNaN(parseFloat(l))?0:l},q=function Vo(o,n,c,l){if(o.tagName==="svg")return{width:c||x(o,n,"width"),height:l||x(o,n,"height")};else if(o.getBBox){var m=o.getBBox(),t=m.x,N=m.y,p=m.width,a=m.height;return{width:t+p,height:N+a}}},F=function Vo(o){return decodeURIComponent(encodeURIComponent(o).replace(/%([0-9A-F]{2})/g,function(n,c){var l=String.fromCharCode("0x"+c);return l==="%"?"%25":l}))},g=function Vo(o){var n=window.atob(o.split(",")[1]),c=o.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(n.length),m=new Uint8Array(l);for(var t=0;t<n.length;t++)m[t]=n.charCodeAt(t);return new Blob([l],{type:c})},E=function Vo(o,n){if(!n)return;try{return o.querySelector(n)||o.parentNode&&o.parentNode.querySelector(n)}catch(c){console.warn('Invalid CSS selector "'+n+'"',c)}},z=function Vo(o,n){var c=o.cssText.match(u),l=c&&c[1]||"";if(!l||l.match(/^data:/)||l==="about:blank")return;var m=l.startsWith("../")?n+"/../"+l:l.startsWith("./")?n+"/."+l:l;return{text:o.cssText,format:$(m),url:m}},K=function Vo(o){return Promise.all(Array.from(o.querySelectorAll("image")).map(function(n){var c=n.getAttributeNS("http://www.w3.org/1999/xlink","href")||n.getAttribute("href");if(!c)return Promise.resolve(null);if(Z(c))c+=(c.indexOf("?")===-1?"?":"&")+"t="+(new Date()).valueOf();return new Promise(function(l,m){var t=document.createElement("canvas"),N=new Image;N.crossOrigin="anonymous",N.src=c,N.onerror=function(){return m(new Error("Could not load "+c))},N.onload=function(){t.width=N.width,t.height=N.height,t.getContext("2d").drawImage(N,0,0),n.setAttributeNS("http://www.w3.org/1999/xlink","href",t.toDataURL("image/png")),l(!0)}})}))},Y={},C=function Vo(o){return Promise.all(o.map(function(n){return new Promise(function(c,l){if(Y[n.url])return c(Y[n.url]);var m=new XMLHttpRequest;m.addEventListener("load",function(){var t=V(m.response),N=n.text.replace(u,'url("data:'+n.format+";base64,"+t+'")')+"\n";Y[n.url]=N,c(N)}),m.addEventListener("error",function(t){console.warn("Failed to load font from: "+n.url,t),Y[n.url]=null,c(null)}),m.addEventListener("abort",function(t){console.warn("Aborted loading font from: "+n.url,t),c(null)}),m.open("GET",n.url),m.responseType="arraybuffer",m.send()})})).then(function(n){return n.filter(function(c){return c}).join("")})},mo=null,to=function Vo(){if(mo)return mo;return mo=Array.from(document.styleSheets).map(function(o){try{return{rules:o.cssRules,href:o.href}}catch(n){return console.warn("Stylesheet could not be loaded: "+o.href,n),{}}})},Mo=function Vo(o,n){var c=n||{},l=c.selectorRemap,m=c.modifyStyle,t=c.modifyCss,N=c.fonts,p=c.excludeUnusedCss,a=t||function(I,No){var ko=l?l(I):I,xo=m?m(No):No;return ko+"{"+xo+"}\n"},b=[],S=typeof N==="undefined",w=N||[];return to().forEach(function(I){var{rules:No,href:ko}=I;if(!No)return;Array.from(No).forEach(function(xo){if(typeof xo.style!="undefined"){if(E(o,xo.selectorText))b.push(a(xo.selectorText,xo.style.cssText));else if(S&&xo.cssText.match(/^@font-face/)){var bo=z(xo,ko);if(bo)w.push(bo)}else if(!p)b.push(xo.cssText)}})}),C(w).then(function(I){return b.join("\n")+I})},uo=function Vo(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};d.prepareSvg=function(Vo,o,n){y(Vo);var c=o||{},l=c.left,m=l===void 0?0:l,t=c.top,N=t===void 0?0:t,p=c.width,a=c.height,b=c.scale,S=b===void 0?1:b,w=c.responsive,I=w===void 0?!1:w,No=c.excludeCss,ko=No===void 0?!1:No;return K(Vo).then(function(){var xo=Vo.cloneNode(!0);xo.style.backgroundColor=(o||{}).backgroundColor||Vo.style.backgroundColor;var bo=q(Vo,xo,p,a),co=bo.width,fo=bo.height;if(Vo.tagName!=="svg")if(Vo.getBBox){if(xo.getAttribute("transform")!=null)xo.setAttribute("transform",xo.getAttribute("transform").replace(/translate\(.*?\)/,""));var Xo=document.createElementNS("http://www.w3.org/2000/svg","svg");Xo.appendChild(xo),xo=Xo}else{console.error("Attempted to render non-SVG element",Vo);return}if(xo.setAttribute("version","1.1"),xo.setAttribute("viewBox",[m,N,co,fo].join(" ")),!xo.getAttribute("xmlns"))xo.setAttributeNS(i,"xmlns",_);if(!xo.getAttribute("xmlns:xlink"))xo.setAttributeNS(i,"xmlns:xlink","http://www.w3.org/1999/xlink");if(I)xo.removeAttribute("width"),xo.removeAttribute("height"),xo.setAttribute("preserveAspectRatio","xMinYMin meet");else xo.setAttribute("width",co*S),xo.setAttribute("height",fo*S);if(Array.from(xo.querySelectorAll("foreignObject > *")).forEach(function(D){D.setAttributeNS(i,"xmlns",D.tagName==="svg"?_:h)}),ko){var $o=document.createElement("div");$o.appendChild(xo);var So=$o.innerHTML;if(typeof n==="function")n(So,co,fo);else return{src:So,width:co,height:fo}}else return Mo(Vo,o).then(function(D){var X=document.createElement("style");X.setAttribute("type","text/css"),X.innerHTML="<![CDATA[\n"+D+"\n]]>";var ao=document.createElement("defs");ao.appendChild(X),xo.insertBefore(ao,xo.firstChild);var wo=document.createElement("div");wo.appendChild(xo);var zo=wo.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof n==="function")n(zo,co,fo);else return{src:zo,width:co,height:fo}})})},d.svgAsDataUri=function(Vo,o,n){return y(Vo),d.prepareSvg(Vo,o).then(function(c){var{src:l,width:m,height:t}=c,N="data:image/svg+xml;base64,"+window.btoa(F(T+l));if(typeof n==="function")n(N,m,t);return N})},d.svgAsPngUri=function(Vo,o,n){y(Vo);var c=o||{},l=c.encoderType,m=l===void 0?"image/png":l,t=c.encoderOptions,N=t===void 0?0.8:t,p=c.canvg,a=function b(S){var{src:w,width:I,height:No}=S,ko=document.createElement("canvas"),xo=ko.getContext("2d"),bo=window.devicePixelRatio||1;if(ko.width=I*bo,ko.height=No*bo,ko.style.width=ko.width+"px",ko.style.height=ko.height+"px",xo.setTransform(bo,0,0,bo,0,0),p)p(ko,w);else xo.drawImage(w,0,0);var co=void 0;try{co=ko.toDataURL(m,N)}catch(fo){if(typeof SecurityError!=="undefined"&&fo instanceof SecurityError||fo.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw fo}if(typeof n==="function")n(co,ko.width,ko.height);return Promise.resolve(co)};if(p)return d.prepareSvg(Vo,o).then(a);else return d.svgAsDataUri(Vo,o).then(function(b){return new Promise(function(S,w){var I=new Image;I.onload=function(){return S(a({src:I,width:I.width,height:I.height}))},I.onerror=function(){w("There was an error loading the data URI as an image on the following SVG\n"+window.atob(b.slice(26))+"Open the following link to see browser\'s diagnosis\n"+b)},I.src=b})})},d.download=function(Vo,o,n){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(g(o),Vo);else{var c=document.createElement("a");if("download"in c){c.download=Vo,c.style.display="none",document.body.appendChild(c);try{var l=g(o),m=URL.createObjectURL(l);c.href=m,c.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(m)})}}catch(t){console.error(t),console.warn("Error while getting object URL. Falling back to string URL."),c.href=o}c.click(),document.body.removeChild(c)}else if(n&&n.popup)n.popup.document.title=Vo,n.popup.location.replace(o)}},d.saveSvg=function(Vo,o,n){var c=uo();return k(Vo).then(function(l){return d.svgAsDataUri(l,n||{})}).then(function(l){return d.download(o,l,c)})},d.saveSvgAsPng=function(Vo,o,n){var c=uo();return k(Vo).then(function(l){return d.svgAsPngUri(l,n||{})}).then(function(l){return d.download(o,l,c)})}})()}),S5=O5(z5(),1),Mc=/Mac/i.test(navigator.platform||navigator.userAgent),Tu=/Mac/i.test(navigator.platform||navigator.userAgent),A5=[{usbVendorId:12346},{usbVendorId:11914}],Ze=null,n9="./assets/icon-file-1def53419f4ad0ae.svg",l9="./assets/icon-edit-2b1e47b495524ed2.svg",s9="./assets/icon-device-c2fafab2eaccf043.svg",r9=`code_${Date.now().toString(36)}`,Kb=`
from popsicle.blocks import *
import ${r9}
run()
`;var vo=new Ha.Generator("Python");vo.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip");vo.ORDER_ATOMIC=0;vo.ORDER_COLLECTION=1;vo.ORDER_STRING_CONVERSION=1;vo.ORDER_MEMBER=2.1;vo.ORDER_FUNCTION_CALL=2.2;vo.ORDER_EXPONENTIATION=3;vo.ORDER_UNARY_SIGN=4;vo.ORDER_BITWISE_NOT=4;vo.ORDER_MULTIPLICATIVE=5;vo.ORDER_ADDITIVE=6;vo.ORDER_BITWISE_SHIFT=7;vo.ORDER_BITWISE_AND=8;vo.ORDER_BITWISE_XOR=9;vo.ORDER_BITWISE_OR=10;vo.ORDER_RELATIONAL=11;vo.ORDER_LOGICAL_NOT=12;vo.ORDER_LOGICAL_AND=13;vo.ORDER_LOGICAL_OR=14;vo.ORDER_CONDITIONAL=15;vo.ORDER_LAMBDA=16;vo.ORDER_NONE=99;vo.ORDER_OVERRIDES=[[vo.ORDER_FUNCTION_CALL,vo.ORDER_MEMBER],[vo.ORDER_FUNCTION_CALL,vo.ORDER_FUNCTION_CALL],[vo.ORDER_MEMBER,vo.ORDER_MEMBER],[vo.ORDER_MEMBER,vo.ORDER_FUNCTION_CALL],[vo.ORDER_LOGICAL_NOT,vo.ORDER_LOGICAL_NOT],[vo.ORDER_LOGICAL_AND,vo.ORDER_LOGICAL_AND],[vo.ORDER_LOGICAL_OR,vo.ORDER_LOGICAL_OR]];vo.init=(s)=>{if(vo.PASS=vo.INDENT+"pass\n",vo.definitions_=Object.create(null),vo.functionNames_=Object.create(null),!vo.variableDB_)vo.variableDB_=new Ha.Names(vo.RESERVED_WORDS_);else vo.variableDB_.reset();vo.variableDB_.setVariableMap(s.getVariableMap());const d=[],i=s.getAllVariables();for(let _=0;_<i.length;_++){if(i[_].type===Ha.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;let T=vo.variableDB_.getName(i[_].getId(),Ha.Variables.NAME_TYPE),u="";if(i[_].type===Ha.LIST_VARIABLE_TYPE)T=`${T}_${Ha.LIST_VARIABLE_TYPE}`,u="[]";d.push(`${T} = ${u}`)}const h=Ha.Variables.allDeveloperVariables(s);for(let _=0;_<h.length;_++){let T=vo.variableDB_.getName(h[_],Ha.Names.DEVELOPER_VARIABLE_TYPE),u="";if(i[_].type===Ha.LIST_VARIABLE_TYPE)T=`${T}_${Ha.LIST_VARIABLE_TYPE}`,u="[]";d.push(`${T} = ${u}`)}if(d.length)vo.definitions_.variables=d.join("\n");vo.definitions_.import_blocks="from blocks import *"};vo.finish=(s)=>{const d=[],i=[];for(let h in vo.definitions_){const _=vo.definitions_[h];if(_.match(/^(from\s+\S+\s+)?import\s+\S+/))d.push(_);else i.push(_)}return delete vo.definitions_,delete vo.functionNames_,vo.variableDB_.reset(),(d.join("\n")+"\n\n"+i.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+s};vo.scrubNakedValue=(s)=>{return s+"\n"};vo.quote_=(s)=>{let d='"';if(s.indexOf('"')!==-1)if(s.indexOf("'")===-1)d="'";else s=s.replace(/"/g,'\\"');return d+s+d};vo.scrub_=(s,d)=>{let i="";if(!s.outputConnection?.targetConnection){let h=s.getCommentText();if(h=Ha.utils.wrap(h,vo.COMMENT_WRAP-3),h)if(s.getProcedureDef)i+='"""'+h+'\n"""\n';else i+=vo.prefixLines(h+"\n","# ");for(let _=0;_<s.inputList.length;_++)if(s.inputList[_].type==Ha.INPUT_VALUE){const T=s.inputList[_].connection.targetBlock();if(T){const u=vo.allNestedComments(T);if(u)i+=vo.prefixLines(u,"# ")}}}if(s.startHat_){const h=s.nextConnection&&s.nextConnection.targetBlock();let _=vo.blockToCode(h);if(_)_=vo.prefixLines(_,vo.INDENT),d=d.replace(`\n${vo.PASS}`,`\n${_}`);return i+d}if(s.parentBlock_){const h=s.nextConnection&&s.nextConnection.targetBlock(),_=vo.blockToCode(h);return i+d+_}};vo.getAdjustedInt=(s,d,i,h)=>{let _=i||0;if(s.workspace.options.oneBasedIndex)_--;const T=s.workspace.options.oneBasedIndex?"1":"0",u=_?vo.ORDER_ADDITIVE:vo.ORDER_NONE;let v=vo.valueToCode(s,d,u)||T;if(Ha.isNumber(v)){if(v=parseInt(v,10)+_,h)v=-v}else{if(_>0)v="int("+v+" + "+_+")";else if(_<0)v="int("+v+" - "+-_+")";else v="int("+v+")";if(h)v="-"+v}return v};vo.eventToCode_=(s,d)=>{return`async def ${s}(${d.join(",")}):\n  this_func = ${s}\n${vo.PASS}\n`};vo.hatToCode=(s,...d)=>{if(s=`hat_${s}`,!vo.functionNames_[s])vo.functionNames_[s]=0;vo.functionNames_[s]+=1;const i=`${s}_${vo.functionNames_[s]}`;return vo.HAT_FUNCTION_PLACEHOLDER=i,vo.eventToCode_(i,d)};var c9=(s)=>{const d=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;s=s.replace(d,(h,_,T,u)=>_+_+T+T+u+u);const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null};vo.colour_picker=(s)=>{const{r:d,g:i,b:h}=c9(s.getFieldValue("COLOUR"));return[`(${d}, ${i}, ${h})`,vo.ORDER_ATOMIC]};var Tl="  await runtime.next_frame()\n";vo.control_wait=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);const i=vo.valueToCode(s,"DURATION",vo.ORDER_NONE)||0;return d+=`await runtime.wait_for(num(${i}))\n`,d};vo.control_repeat=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);let i=vo.statementToCode(s,"SUBSTACK")||vo.PASS;if(vo.STATEMENT_SUFFIX)i=vo.prefixLines(vo.injectId(vo.STATEMENT_SUFFIX,s),vo.INDENT)+i;const h=vo.valueToCode(s,"TIMES",vo.ORDER_NONE)||10;return d+=`for _ in range(num(${h})):\n${i}${Tl}`,d};vo.control_forever=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);let i=vo.statementToCode(s,"SUBSTACK")||vo.PASS;if(vo.STATEMENT_SUFFIX)i=vo.prefixLines(vo.injectId(vo.STATEMENT_SUFFIX,s),vo.INDENT)+i;return d+=`while True:\n${i}${Tl}`,d};vo.control_if=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);let i=vo.statementToCode(s,"SUBSTACK")||vo.PASS;if(vo.STATEMENT_SUFFIX)i=vo.prefixLines(vo.injectId(vo.STATEMENT_SUFFIX,s),vo.INDENT)+i;const h=vo.valueToCode(s,"CONDITION",vo.ORDER_NONE)||"False";if(d+=`if ${h}:\n${i}`,s.getInput("SUBSTACK2")){if(i=vo.statementToCode(s,"SUBSTACK2")||vo.PASS,vo.STATEMENT_SUFFIX)i=vo.prefixLines(vo.injectId(vo.STATEMENT_SUFFIX,s),vo.INDENT)+i;d+=`else:\n${i}`}return d};vo.control_if_else=vo.control_if;vo.control_wait_until=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);const i=vo.valueToCode(s,"CONDITION",vo.ORDER_NONE)||"False";return d+=`while not ${i}:\n${Tl}`,d};vo.control_repeat_until=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);let i=vo.statementToCode(s,"SUBSTACK")||vo.PASS;if(vo.STATEMENT_SUFFIX)i=vo.prefixLines(vo.injectId(vo.STATEMENT_SUFFIX,s),vo.INDENT)+i;const h=vo.valueToCode(s,"CONDITION",vo.ORDER_NONE)||"False";return d+=`while not ${h}:\n${i}${Tl}`,d};vo.control_while=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);let i=vo.statementToCode(s,"SUBSTACK")||vo.PASS;if(vo.STATEMENT_SUFFIX)i=vo.prefixLines(vo.injectId(vo.STATEMENT_SUFFIX,s),vo.INDENT)+i;const h=vo.valueToCode(s,"CONDITION",vo.ORDER_NONE)||"False";return d+=`while ${h}:\n${i}${Tl}`,d};vo.control_stop=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);switch(s.getFieldValue("STOP_OPTION")){case"all":d+="runtime.stop()\n";break;case"this script":d+="return\n";break;case"other scripts in sprite":d+="runtime.stop_tasks(this_func)\n";break}return d};vo.data_variable=(s)=>{return[vo.variableDB_.getName(s.getFieldValue("VARIABLE"),ka.Variables.NAME_TYPE),vo.ORDER_ATOMIC]};vo.data_setvariableto=(s)=>{let d="";if(javascriptGenerator.STATEMENT_PREFIX)d+=javascriptGenerator.injectId(javascriptGenerator.STATEMENT_PREFIX,s);const i=vo.variableDB_.getName(s.getFieldValue("VARIABLE"),ka.Variables.NAME_TYPE),h=vo.valueToCode(s,"VALUE",vo.ORDER_NONE)||'""';return d+=`${i} = ${h}\n`,d};vo.data_changevariableby=(s)=>{let d="";if(javascriptGenerator.STATEMENT_PREFIX)d+=javascriptGenerator.injectId(javascriptGenerator.STATEMENT_PREFIX,s);const i=vo.variableDB_.getName(s.getFieldValue("VARIABLE"),ka.Variables.NAME_TYPE),h=vo.valueToCode(s,"VALUE",vo.ORDER_NONE)||0;return d+=`${i} = num(${i}) + num(${h})\n`,d};vo.data_listcontents=(s)=>{return[vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE,vo.ORDER_ATOMIC]};vo.data_addtolist=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);const i=vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE,h=vo.valueToCode(s,"ITEM",vo.ORDER_NONE)||'""';return d+=`${i}.append(${h})\n`,d};vo.data_deleteoflist=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);const i=vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE,h=vo.valueToCode(s,"INDEX",vo.ORDER_NONE)||1;return d+=`${i}.remove(runtime.index(${h}, len(${i})))\n`,d};vo.data_deletealloflist=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);const i=vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE;return d+=`${i} = []\n`,d};vo.data_insertatlist=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);const i=vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE,h=vo.valueToCode(s,"INDEX",vo.ORDER_NONE)||1,_=vo.valueToCode(s,"ITEM",vo.ORDER_NONE)||'""';return d+=`${i}.insert(runtime.index(${h}, len(${i})), ${_})\n`,d};vo.data_replaceitemoflist=(s)=>{let d="";if(vo.STATEMENT_PREFIX)d+=vo.injectId(vo.STATEMENT_PREFIX,s);const i=vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE,h=vo.valueToCode(s,"INDEX",vo.ORDER_NONE)||1,_=vo.valueToCode(s,"ITEM",vo.ORDER_NONE)||'""';return d+=`${i}[runtime.index(${h}, len(${i}))] = ${_}\n`,d};vo.data_itemoflist=(s)=>{const d=vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE,i=vo.valueToCode(s,"INDEX",vo.ORDER_NONE)||1;return[`${d}[runtime.index(${i}, len(${d}))]`,vo.ORDER_CONDITIONAL]};vo.data_itemnumoflist=(s)=>{const d=vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE,i=vo.valueToCode(s,"ITEM",vo.ORDER_NONE)||0;return[`(${d}.index(${i}) + 1)`,vo.ORDER_NONE]};vo.data_lengthoflist=(s)=>{return[`len(${vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE})`,vo.ORDER_FUNCTION_CALL]};vo.data_listcontainsitem=(s)=>{const d=vo.variableDB_.getName(s.getFieldValue("LIST"),ka.Variables.NAME_TYPE)+"_"+ka.LIST_VARIABLE_TYPE,i=vo.valueToCode(s,"ITEM",vo.ORDER_NONE)||0;return[`bool(${d}.count(${i}))`,vo.ORDER_FUNCTION_CALL]};vo.event_whenflagclicked=()=>{return`${vo.hatToCode("start")}runtime.when_start(${vo.HAT_FUNCTION_PLACEHOLDER})\n`};vo.event_whengreaterthan=(s)=>{const d=s.getFieldValue("WHENGREATERTHANMENU"),i=vo.valueToCode(s,"VALUE",vo.ORDER_NONE)||0;return`${vo.hatToCode("greaterthen")}runtime.when_greaterthen("${d}", num(${i}), ${vo.HAT_FUNCTION_PLACEHOLDER})\n`};vo.event_whenbroadcastreceived=(s)=>{const d=vo.variableDB_.getName(s.getFieldValue("BROADCAST_OPTION"),Uu.Variables.NAME_TYPE);return`${vo.hatToCode("broadcastreceived")}runtime.when_broadcastreceived("${d}", ${vo.HAT_FUNCTION_PLACEHOLDER})\n`};vo.event_broadcast_menu=(s)=>{return[vo.variableDB_.getName(s.getFieldValue("BROADCAST_OPTION"),Uu.Variables.NAME_TYPE),vo.ORDER_ATOMIC]};vo.event_broadcast=(s)=>{return`runtime.broadcast("${vo.valueToCode(s,"BROADCAST_INPUT",vo.ORDER_NONE)||'"message1"'}")\n`};vo.event_broadcastandwait=(s)=>{return`await runtime.broadcast("${vo.valueToCode(s,"BROADCAST_INPUT",vo.ORDER_NONE)||'"message1"'}", waiting=True)\n`};vo.addReservedWords("math,random,Number");vo.math_number=(s)=>{let d=parseFloat(s.getFieldValue("NUM")),i;if(d===1/0)d='float("inf")',i=vo.ORDER_FUNCTION_CALL;else if(d===-1/0)d='-float("inf")',i=vo.ORDER_UNARY_SIGN;else if(Number.isNaN(d))d='float("nan")',i=vo.ORDER_UNARY_SIGN;else i=d<0?vo.ORDER_UNARY_SIGN:vo.ORDER_ATOMIC;return[d,i]};vo.math_integer=(s)=>{const d=parseInt(s.getFieldValue("NUM")),i=d<0?vo.ORDER_UNARY_SIGN:vo.ORDER_ATOMIC;return[d,i]};vo.math_whole_number=(s)=>{return[Math.abs(parseInt(s.getFieldValue("NUM"))),vo.ORDER_ATOMIC]};vo.math_positive_number=(s)=>{let d=parseFloat(s.getFieldValue("NUM")),i;if(d===1/0)d='float("inf")',i=vo.ORDER_FUNCTION_CALL;else if(d===-1/0)d='-float("inf")',i=vo.ORDER_FUNCTION_CALL;else if(Number.isNaN(d))d='float("nan")',i=vo.ORDER_FUNCTION_CALL;else d=d<0?0:d,i=vo.ORDER_ATOMIC;return[d,i]};vo.math_angle=(s)=>{let d=parseFloat(s.getFieldValue("NUM")),i;if(d==1/0)d='float("inf")',i=vo.ORDER_FUNCTION_CALL;else if(d==-1/0)d='-float("inf")',i=vo.ORDER_UNARY_SIGN;else d=d%360,d=d<0?d+360:d,i=vo.ORDER_ATOMIC;return[d,i]};vo.operator_add=(s)=>{const d=vo.valueToCode(s,"NUM1",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"NUM2",vo.ORDER_NONE)||0;return[`(num(${d}) + num(${i}))`,vo.ORDER_SUBTRACTION]};vo.operator_subtract=(s)=>{const d=vo.valueToCode(s,"NUM1",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"NUM2",vo.ORDER_NONE)||0;return[`(num(${d}) - num(${i}))`,vo.ORDER_SUBTRACTION]};vo.operator_multiply=(s)=>{const d=vo.valueToCode(s,"NUM1",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"NUM2",vo.ORDER_NONE)||0;return[`(num(${d}) * num(${i}))`,vo.ORDER_SUBTRACTION]};vo.operator_divide=(s)=>{const d=vo.valueToCode(s,"NUM1",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"NUM2",vo.ORDER_NONE)||0;return[`(num(${d}) / num(${i}))`,vo.ORDER_SUBTRACTION]};vo.operator_random=(s)=>{const d=vo.valueToCode(s,"FROM",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"TO",vo.ORDER_NONE)||0;return[`runtime.random(${d}, ${i})`,vo.ORDER_FUNCTION_CALL]};vo.operator_gt=(s)=>{const d=vo.valueToCode(s,"OPERAND1",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"OPERAND2",vo.ORDER_NONE)||0;return[`(num(${d}) > num(${i}))`,vo.ORDER_RELATIONAL]};vo.operator_lt=(s)=>{const d=vo.valueToCode(s,"OPERAND1",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"OPERAND2",vo.ORDER_NONE)||0;return[`(num(${d}) < num(${i}))`,vo.ORDER_RELATIONAL]};vo.operator_equals=(s)=>{const d=vo.valueToCode(s,"OPERAND1",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"OPERAND2",vo.ORDER_NONE)||0;return[`equals(${d}, ${i})`,vo.ORDER_FUNCTION_CALL]};vo.operator_and=(s)=>{const d=vo.valueToCode(s,"OPERAND1",vo.ORDER_NONE)||"False",i=vo.valueToCode(s,"OPERAND2",vo.ORDER_NONE)||"False";return[`(${d} and ${i})`,vo.ORDER_LOGICAL_AND]};vo.operator_or=(s)=>{const d=vo.valueToCode(s,"OPERAND1",vo.ORDER_NONE)||"False",i=vo.valueToCode(s,"OPERAND2",vo.ORDER_NONE)||"False";return[`(${d} or ${i})`,vo.ORDER_LOGICAL_OR]};vo.operator_not=(s)=>{return[`(not ${vo.valueToCode(s,"OPERAND",vo.ORDER_NONE)||"False"})`,vo.ORDER_LOGICAL_NOT]};vo.operator_join=(s)=>{const d=vo.valueToCode(s,"STRING1",vo.ORDER_NONE)||'""',i=vo.valueToCode(s,"STRING2",vo.ORDER_NONE)||'""';return[`(str(${d}) + str(${i}))`,vo.ORDER_ATOMIC]};vo.operator_letter_of=(s)=>{const d=vo.valueToCode(s,"LETTER",vo.ORDER_NONE)||0;return[`(str(${vo.valueToCode(s,"STRING",vo.ORDER_NONE)||'""'})[num(${d}) - 1] || "")`,vo.ORDER_MEMBER]};vo.operator_length=(s)=>{return[`len(str(${vo.valueToCode(s,"STRING",vo.ORDER_NONE)||'""'}))`,vo.ORDER_FUNCTION_CALL]};vo.operator_contains=(s)=>{const d=vo.valueToCode(s,"STRING1",vo.ORDER_NONE)||'""',i=vo.valueToCode(s,"STRING2",vo.ORDER_NONE)||'""';return[`(str(${d}).count(str(${i})) > 0)`,vo.ORDER_FUNCTION_CALL]};vo.operator_mod=(s)=>{const d=vo.valueToCode(s,"NUM1",vo.ORDER_NONE)||0,i=vo.valueToCode(s,"NUM2",vo.ORDER_NONE)||0;return[`(num(${d}) % num(${i}))`,vo.ORDER_MODULUS]};vo.operator_round=(s)=>{return vo.definitions_.import_math="import math",[`math.round(num(${vo.valueToCode(s,"NUM",vo.ORDER_NONE)||0}))`,vo.ORDER_FUNCTION_CALL]};vo.operator_mathop=(s)=>{vo.definitions_.import_math="import math";const d=vo.valueToCode(s,"NUM",vo.ORDER_NONE)||0,i=s.getFieldValue("OPERATOR");let h="";if(i==="ceiling")h+=`math.ceil(num(${d}))`;else if(i==="sin"||i==="cos"||i==="tan")h+=`math.${i}(math.radians(num(${d})))`;else if(i==="asin"||i==="acos"||i==="atan")h+=`math.degrees(math.${i}(num(${d})))`;else if(i==="ln")h+=`(math.log(num(${d}))`;else if(i==="log")h+=`(math.log10(num(${d}))`;else if(i==="e ^")h+=`math.exp(num(${d}))`;else if(i==="10 ^")h+=`math.pow(10, num(${d}))`;else h+=`math.${i}(num(${d}))`;return[h,vo.ORDER_FUNCTION_CALL]};vo.procedures_definition=(s)=>{const d=s.childBlocks_[0],i=vo.variableDB_.getName(d.getProcCode(),ql.Procedures.NAME_TYPE),h=d.childBlocks_.map((_)=>vo.variableDB_.getName(_.getFieldValue("VALUE"),ql.Variables.NAME_TYPE));return h.push("target"),vo.eventToCode_(i,h)};vo.procedures_call=(s)=>{const d=vo.variableDB_.getName(s.getProcCode(),ql.Procedures.NAME_TYPE),i=s.argumentIds_.map((h)=>vo.valueToCode(s,h,vo.ORDER_NONE));return i.push("target"),`await ${d}(${i.join(",")})\n`};vo.argument_reporter_boolean=(s)=>{return[vo.variableDB_.getName(s.getFieldValue("VALUE"),ql.Variables.NAME_TYPE),vo.ORDER_ATOMIC]};vo.argument_reporter_string_number=(s)=>{return[vo.variableDB_.getName(s.getFieldValue("VALUE"),ql.Variables.NAME_TYPE),vo.ORDER_ATOMIC]};vo.sensing_timer=()=>{return["runtime.time",vo.ORDER_MEMBER]};vo.sensing_resettimer=()=>{return"runtime.reset_timer()\n"};vo.text=(s)=>{const d=s.getFieldValue("TEXT");return[d.length===0||isNaN(d)?vo.quote_(d):+d,vo.ORDER_ATOMIC]};var _9=1,t9=2,v9=3,Mu="#0FBD8C",Vu="#0DA57A",N9="#0B8E69",Ee=(s)=>{if(typeof s!=="string")if(Array.isArray(s))s=String(s);else return s;return s.replace(/[<>&'"]/g,(d)=>{switch(d){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})},Lu={number:"math_number",angle:"math_angle",text:"text",string:"text",color:"colour_picker",matrix:"matrix",note:"note"},Wu={number:"NUM",angle:"NUM",text:"TEXT",string:"TEXT",matrix:"MATRIX",note:"NOTE"};Wc("._5SVWFW_prompt-modal{width:360px}._5SVWFW_prompt-content{background:var(--ui-white);padding:1.5rem 2.25rem}._5SVWFW_prompt-content input[type=checkbox],._5SVWFW_prompt-content input[type=radio]{margin:3px}._5SVWFW_label{margin:0 0 .75rem;font-weight:500}._5SVWFW_variable-name-text-input{border:1px solid var(--ui-black-transparent);color:var(--text-primary-transparent);border-radius:5px;width:100%;height:3rem;margin-bottom:1.5rem;padding:0 1rem;font-size:.875rem}._5SVWFW_info-message{text-align:center;margin-bottom:1.5rem;font-size:.875rem;font-weight:400}._5SVWFW_options{justify-content:space-between;margin-bottom:1.5rem;font-weight:400;display:flex}._5SVWFW_button-row{text-align:right;font-weight:bolder}._5SVWFW_button{padding:.75rem 1rem;font-size:.85rem;font-weight:600}._5SVWFW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:var(--ui-white);margin-left:var(--space)}");var pe={promptContent:"_5SVWFW_prompt-content",okButton:"_5SVWFW_ok-button",label:"_5SVWFW_label",button:"_5SVWFW_button",buttonRow:"_5SVWFW_button-row",options:"_5SVWFW_options",infoMessage:"_5SVWFW_info-message",variableNameTextInput:"_5SVWFW_variable-name-text-input",promptModal:"_5SVWFW_prompt-modal"};Wc(".ObKnhW_prompt-modal{width:700px;margin:50px auto}.ObKnhW_body{background:var(--ui-white);padding:1.5rem 2.25rem}.ObKnhW_body input[type=checkbox],.ObKnhW_body input[type=radio]{margin:3px}.ObKnhW_workspace{min-height:200px;position:relative}.ObKnhW_workspace .injectionDiv{position:absolute;inset:0}.ObKnhW_workspace .blocklySvg{background-color:var(--ui-primary)}.ObKnhW_options-row{justify-content:space-between;display:flex}.ObKnhW_option-card{border:2px solid var(--ui-black-transparent);border-radius:var(--space);padding:calc(var(--space)*2);text-align:center;cursor:pointer;background:#fff;flex-grow:1;flex-basis:100px;transition:all .2s}.ObKnhW_option-card:hover{border:2px solid var(--motion-primary);box-shadow:0px 0px 0px 4px var(--motion-transparent)}.ObKnhW_option-card+.ObKnhW_option-card{margin-left:1rem}.ObKnhW_option-icon{max-height:48px;margin-bottom:.5rem}.ObKnhW_option-title{font-weight:700}.ObKnhW_radiobox-row{justify-content:space-between;margin:1rem 6rem 1.5rem;font-weight:400;display:flex}.ObKnhW_button-row{text-align:right;margin-top:1rem;font-weight:bolder}.ObKnhW_button-row button{border:1px solid var(--ui-black-transparent);background:#fff;border-radius:.25rem;padding:.75rem 1rem;font-size:.85rem;font-weight:700}.ObKnhW_button-row button.ObKnhW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:#fff}.ObKnhW_button-row button+button{margin-left:.5rem}");var Va={buttonRow:"ObKnhW_button-row",body:"ObKnhW_body",optionTitle:"ObKnhW_option-title",radioboxRow:"ObKnhW_radiobox-row",optionCard:"ObKnhW_option-card",optionsRow:"ObKnhW_options-row",promptModal:"ObKnhW_prompt-modal",workspace:"ObKnhW_workspace",optionIcon:"ObKnhW_option-icon",okButton:"ObKnhW_ok-button"},W9="./assets/icon-boolean-input-1691bdb48544a0bb.svg",w9="./assets/icon-text-input-71606840e8e95423.svg",O9="./assets/icon-label-6cb5b390e22d402a.svg",F9={zoom:{controls:!1,wheel:!1,startScale:0.9},comments:!1,collapse:!1,scrollbars:!0},j9=["nes","translate","color-sensor","servo","time","pen","brain","request","text","broadcast"].map(async(s)=>{const{default:d}=await import(`@blockcode/extension-${s}`);return d.id=s,d}),P9=Promise.all(j9);Wc(".cujmXa_editor-wrapper{border-radius:inherit;width:100%;height:100%;position:relative}.cujmXa_extension-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);border:1px solid var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;border-top:0;height:3.25rem;position:absolute;bottom:-1px;left:-1px}.cujmXa_extension-button:before{--fade-out-distance:15px;content:\"\";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.cujmXa_add-button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.cujmXa_add-button img{width:1.75rem;height:1.75rem}.cujmXa_debug-box{z-index:var(--z-index-monitor);border:1px solid var(--ui-tertiary);border-radius:var(--space)var(--space)0 0;opacity:.8;font-size:var(--standard-font-size);background:#fff;border-bottom:0;width:600px;height:300px;position:absolute;bottom:0;left:50vw;overflow:auto;transform:translate(-50%)}.cujmXa_debug-box pre{margin:calc(var(--space)/2)}");var Lc={addButton:"cujmXa_add-button",editorWrapper:"cujmXa_editor-wrapper",extensionButton:"cujmXa_extension-button",debugBox:"cujmXa_debug-box"},I9="./assets/icon-extension-5ec2ee35b87b4126.svg",de=new Map,Eu=(s)=>typeof s!=="string"&&!s.button,D9=async(s,d,i,h,_)=>{if(d){for(let T of d)if(!de.has(T)){let{default:u}=await import(`@blockcode/extension-${T}/blocks`);if(typeof u==="function")u=u(s);if(u.id=T,u.files)for(let v of u.files){const W=`extensions/${T}/${v.name}`,y=await fetch(v.uri).then((k)=>k.text());h({...v,id:W,content:y})}if(i(u.translations),_)_({...u,blocks:u.blocks.filter(Eu)});de.set(T,u)}}},Y9="./assets/icon-blocks-d7e4a3a3eb74d0fb.svg",B9={"blocks.menu.file":"File","blocks.menu.file.newProject":"New","blocks.menu.file.openProject":"Open","blocks.menu.file.saveProject":"Save","blocks.menu.file.uploadProject":"Load from your computer","blocks.menu.file.downloadProject":"Save to your computer","blocks.menu.edit":"Edit","blocks.menu.edit.undo":"Undo","blocks.menu.edit.redo":"Redo","blocks.menu.device":"Device","blocks.menu.device.name":"device","blocks.menu.device.connect":"Connect to your {name}","blocks.menu.device.disconnect":"Disconnect this {name}","blocks.menu.device.download":"Download program","blocks.menu.device.turnOnAutoDownload":"Turn on Auto Download","blocks.menu.device.turnOffAutoDownload":"Turn off Auto Download","blocks.alert.downloading":"Downloading...{progress}%","blocks.alert.downloadCompleted":"Download completed.","blocks.alert.connectionError":"Connection error.","blocks.alert.flashOutSpace":"The flash is running out of space.","blocks.codeTab":"Code","blocks.monitorPane.title":"Monitor","blocks.downloadToDevice":"Download","blocks.extensions.addExtension":"Add Extension","blocks.extensions.empty":"No extension!","blocks.prompt.ok":"OK","blocks.prompt.cancel":"Cancel","blocks.dataPrompt.forAllTargets":"For all targets","blocks.dataPrompt.forThisTarget":"For this target only","blocks.dataPrompt.availableToAllTargets":"This variable will be available to all targets.","blocks.dataPrompt.listAvailableToAllTargets":"This list will be available to all targets.","blocks.myBlockPrompt.title":"Make a Block","blocks.myBlockPrompt.addAnInputNumberText":"Add an input","blocks.myBlockPrompt.numberTextType":"number or text","blocks.myBlockPrompt.addAnInputBoolean":"Add an input","blocks.myBlockPrompt.booleanType":"boolean","blocks.myBlockPrompt.addALabel":"Add a label","blocks.myBlockPrompt.command":"Command","blocks.myBlockPrompt.reporterNumberText":"Return number or text","blocks.myBlockPrompt.reporterBoolean":"Return boolean","blocks.event.programStart":"when program start","blocks.control.stopOther":"other scripts","blocks.myblock.addLabel":" label text","blocks.myblock.addBoolean":"boolean","blocks.myblock.addNumbetText":"number or text"},C9={"blocks.menu.file":"\u6587\u4EF6","blocks.menu.file.newProject":"\u65B0\u4F5C\u54C1","blocks.menu.file.openProject":"\u6253\u5F00","blocks.menu.file.saveProject":"\u4FDD\u5B58","blocks.menu.file.uploadProject":"\u4ECE\u7535\u8111\u4E2D\u6253\u5F00","blocks.menu.file.downloadProject":"\u4FDD\u5B58\u5230\u7535\u8111","blocks.menu.edit":"\u7F16\u8F91","blocks.menu.edit.undo":"\u64A4\u9500","blocks.menu.edit.redo":"\u6062\u590D","blocks.menu.device":"\u8BBE\u5907","blocks.menu.device.name":"\u8BBE\u5907","blocks.menu.device.connect":"\u8FDE\u63A5{name}","blocks.menu.device.disconnect":"\u65AD\u5F00{name}\u8FDE\u63A5","blocks.menu.device.download":"\u4E0B\u8F7D\u7A0B\u5E8F","blocks.menu.device.turnOnAutoDownload":"\u6253\u5F00\u81EA\u52A8\u4E0B\u8F7D","blocks.menu.device.turnOffAutoDownload":"\u5173\u95ED\u81EA\u52A8\u4E0B\u8F7D","blocks.alert.downloading":"\u6B63\u5728\u4E0B\u8F7D\u2026{progress}%","blocks.alert.downloadCompleted":"\u4E0B\u8F7D\u5B8C\u6210\u3002","blocks.alert.connectionError":"\u8FDE\u63A5\u9519\u8BEF\u3002","blocks.alert.flashOutSpace":"\u8BBE\u5907\u7A7A\u95F4\u4E0D\u8DB3\u3002","blocks.codeTab":"\u4EE3\u7801","blocks.monitorPane.title":"\u76D1\u89C6\u5668","blocks.downloadToDevice":"\u4E0B\u8F7D","blocks.extensions.addExtension":"\u6DFB\u52A0\u6269\u5C55","blocks.extensions.empty":"\u6CA1\u6709\u6269\u5C55\uFF01","blocks.prompt.ok":"\u786E\u5B9A","blocks.prompt.cancel":"\u53D6\u6D88","blocks.dataPrompt.forAllTargets":"\u9002\u7528\u4E8E\u5168\u5C40","blocks.dataPrompt.forThisTarget":"\u4EC5\u9002\u7528\u4E8E\u5F53\u524D","blocks.dataPrompt.availableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u53D8\u91CF\u3002","blocks.dataPrompt.listAvailableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u5217\u8868\u3002","blocks.myBlockPrompt.title":"\u5236\u4F5C\u65B0\u7684\u79EF\u6728","blocks.myBlockPrompt.addAnInputNumberText":"\u6DFB\u52A0\u8F93\u5165\u9879","blocks.myBlockPrompt.numberTextType":"\u6570\u5B57\u6216\u6587\u672C","blocks.myBlockPrompt.addAnInputBoolean":"\u6DFB\u52A0\u8F93\u5165\u9879","blocks.myBlockPrompt.booleanType":"\u5E03\u5C14\u503C","blocks.myBlockPrompt.addALabel":"\u6DFB\u52A0\u6587\u672C\u6807\u7B7E","blocks.myBlockPrompt.command":"\u65E0\u8FD4\u56DE\u503C","blocks.myBlockPrompt.reporterNumberText":"\u8FD4\u56DE\u6570\u5B57\u6216\u6587\u672C","blocks.myBlockPrompt.reporterBoolean":"\u8FD4\u56DE\u5E03\u5C14\u503C","blocks.event.programStart":"\u5F53\u7A0B\u5E8F\u5F00\u59CB\u8FD0\u884C","blocks.control.stopOther":"\u5176\u4ED6\u811A\u672C","blocks.myblock.addLabel":"\u6587\u672C","blocks.myblock.addBoolean":"\u5E03\u5C14\u503C","blocks.myblock.addNumbetText":"\u6570\u5B57\u6216\u6587\u672C"},Ju={en:B9,"zh-Hans":C9},Vs={icon:Y9,label:ju(Xu,{id:"blocks.codeTab",defaultMessage:"Code"}),Content:H9},dp={label:ju(Xu,{id:"blocks.monitorPane.title",defaultMessage:"Monitor"}),Content:null};import{useLocale as Nm} from"@blockcode/core";import{ScratchBlocks as zp,makeToolboxXML as fm,blockSeparator as fe,categorySeparator as Sc} from"@blockcode/blocks-editor";import{ScratchBlocks as Ls} from"@blockcode/blocks-editor";Ls.Blocks.event_whenflagclicked={init(){this.jsonInit({message0:Ls.Msg.EVENT_WHENFLAGCLICKED,args0:[{type:"field_image",src:Ls.mainWorkspace.options.pathToMedia+"green-flag.svg",width:24,height:24,alt:"flag"}],category:Ls.Categories.event,extensions:["colours_event","shape_hat"]})}};import{ScratchBlocks as Ua} from"@blockcode/blocks-editor";Ua.Blocks.motion_attack={init(){this.jsonInit({message0:Ua.Msg.MOTION_ATTACK,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"DISTANCE"}],category:Ua.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ua.Blocks.motion_move={init(){this.jsonInit({message0:Ua.Msg.MOTION_MOVE,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"SPEED"}],category:Ua.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ua.Blocks.motion_setspeed={init(){this.jsonInit({message0:Ua.Msg.MOTION_SETSPEED,args0:[{type:"input_value",name:"SPEED"}],category:Ua.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ua.Blocks.motion_stop={init(){this.jsonInit({message0:Ua.Msg.MOTION_STOP,category:Ua.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ua.Blocks.motion_speed={init(){this.jsonInit({message0:Ua.Msg.MOTION_SPEED,category:Ua.Categories.motion,checkboxInFlyout:!0,extensions:["colours_motion","output_number"]})}};import{ScratchBlocks as Aa} from"@blockcode/blocks-editor";Aa.Blocks.sensing_scanwidth={init(){this.jsonInit({message0:Aa.Msg.SENSING_SCANWIDTH,args0:[{type:"input_value",name:"WIDTH"}],category:Aa.Categories.sensing,extensions:["colours_sensing","shape_statement"]})}};Aa.Blocks.sensing_scan={init(){this.jsonInit({message0:Aa.Msg.SENSING_SCAN,args0:[{type:"input_value",name:"DIRECTION"}],category:Aa.Categories.sensing,extensions:["colours_sensing","output_boolean"]})}};Aa.Blocks.sensing_scandistance={init(){this.jsonInit({message0:Aa.Msg.SENSING_DISTANCE,args0:[{type:"input_value",name:"DIRECTION"}],category:Aa.Categories.sensing,extensions:["colours_sensing","output_number"]})}};Aa.Blocks.sensing_health={init(){this.jsonInit({message0:Aa.Msg.SENSING_HEALTH,category:Aa.Categories.sensing,checkboxInFlyout:!0,extensions:["colours_sensing","output_number"]})}};import{useRef as lm,useEffect as sm} from"preact/hooks";import{useEditor as rm} from"@blockcode/core";import{ScratchBlocks as Ja} from"@blockcode/blocks-editor";import{ScratchBlocks as Ya} from"@blockcode/blocks-editor";import{ScratchBlocks as qa} from"@blockcode/blocks-editor";import{ScratchBlocks as Du} from"@blockcode/blocks-editor";import{ScratchBlocks as xl} from"@blockcode/blocks-editor";var Hu=function({width:s,height:d,onSetup:i,...h}){const _=lm(null),{fileList:T,selectedFileId:u,modifyFile:v}=rm(),W=T.find((y)=>y.id===u);if(_.script=W.script,_.xml=W.xml,_.current){const y=Ja.getMainWorkspace();if(y&&y!==_.workspace)_.workspace=y,y.addChangeListener((k)=>{if(y.isDragging())return;if(!um.has(k.type))return;const Z=Ja.Xml.workspaceToDom(y),$=Ja.Xml.domToText(Z).replace(/<variable type="broadcast_msg"[^>]+>[^<]+<\/variable>/gi,"");if(!_.script||_.xml!==$){const V=io.workspaceToCode(y);if(_.script!==V)v({script:V})}})}return sm(()=>{if(_.current){if(wc.default.setup(_.current),i)i(_.current)}return()=>{wc.default.project.clear(),wc.default.project.remove()}},[_]),im("canvas",{id:"blockcode-blocks-player",ref:_,style:{width:s,height:d},...h})};import{jsx as im} from"preact/jsx-runtime";var Q9=Object.create,{defineProperty:Pu,getPrototypeOf:A9,getOwnPropertyNames:om}=Object,am=Object.prototype.hasOwnProperty,Oc=(s,d,i)=>{i=s!=null?Q9(A9(s)):{};const h=d||!s||!s.__esModule?Pu(i,"default",{value:s,enumerable:!0}):i;for(let _ of om(s))if(!am.call(h,_))Pu(h,_,{get:()=>s[_],enumerable:!0});return h},em=(s,d)=>()=>(d||s((d={exports:{}}).exports,d),d.exports),Np=((s)=>typeof Ea!=="undefined"?Ea:typeof Proxy!=="undefined"?new Proxy(s,{get:(d,i)=>(typeof Ea!=="undefined"?Ea:d)[i]}):s)(function(s){if(typeof Ea!=="undefined")return Ea.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')}),Fc=em((s,d)=>{/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */var i=function(h,_){h=h||(()=>({}));var{window:T,document:u}=h,v=new function(){var e=/^(statics|enumerable|beans|preserve)$/,r=[],f=r.slice,R=Object.create,M=Object.getOwnPropertyDescriptor,O=Object.defineProperty,U=r.forEach||function(G,no){for(var Q=0,ro=this.length;Q<ro;Q++)G.call(no,this[Q],Q,this)},P=function(G,no){for(var Q in this)if(this.hasOwnProperty(Q))G.call(no,this[Q],Q,this)},j=Object.assign||function(G){for(var no=1,Q=arguments.length;no<Q;no++){var ro=arguments[no];for(var Zo in ro)if(ro.hasOwnProperty(Zo))G[Zo]=ro[Zo]}return G},J=function(G,no,Q){if(G){var ro=M(G,"length");(ro&&typeof ro.value==="number"?U:P).call(G,no,Q=Q||G)}return Q};function oo(G,no,Q,ro,Zo){var A={};function eo(po,_o){if(_o=_o||(_o=M(no,po))&&(_o.get?_o:_o.value),typeof _o==="string"&&_o[0]==="#")_o=G[_o.substring(1)]||_o;var Fo=typeof _o==="function",ho=_o,yo=Zo||Fo&&!_o.base?_o&&_o.get?po in G:G[po]:null,jo;if(!Zo||!yo){if(Fo&&yo)_o.base=yo;if(Fo&&ro!==!1&&(jo=po.match(/^([gs]et|is)(([A-Z])(.*))$/)))A[jo[3].toLowerCase()+jo[4]]=jo[2];if(!ho||Fo||!ho.get||typeof ho.get!=="function"||!H.isPlainObject(ho))ho={value:ho,writable:!0};if((M(G,po)||{configurable:!0}).configurable)ho.configurable=!0,ho.enumerable=Q!=null?Q:!jo;O(G,po,ho)}}if(no){for(var so in no)if(no.hasOwnProperty(so)&&!e.test(so))eo(so);for(var so in A){var B=A[so],lo=G["set"+B],Ro=G["get"+B]||lo&&G["is"+B];if(Ro&&(ro===!0||Ro.length===0))eo(so,{get:Ro,set:lo})}}return G}function H(){for(var G=0,no=arguments.length;G<no;G++){var Q=arguments[G];if(Q)j(this,Q)}return this}return oo(H,{inject:function(G){if(G){var no=G.statics===!0?G:G.statics,Q=G.beans,ro=G.preserve;if(no!==G)oo(this.prototype,G,G.enumerable,Q,ro);oo(this,no,null,Q,ro)}for(var Zo=1,A=arguments.length;Zo<A;Zo++)this.inject(arguments[Zo]);return this},extend:function(){var G=this,no,Q;for(var ro=0,Zo,A=arguments.length;ro<A&&!(no&&Q);ro++)Zo=arguments[ro],no=no||Zo.initialize,Q=Q||Zo.prototype;if(no=no||function(){G.apply(this,arguments)},Q=no.prototype=Q||R(this.prototype),O(Q,"constructor",{value:no,writable:!0,configurable:!0}),oo(no,this),arguments.length)this.inject.apply(no,arguments);return no.base=G,no}}).inject({enumerable:!1,initialize:H,set:H,inject:function(){for(var G=0,no=arguments.length;G<no;G++){var Q=arguments[G];if(Q)oo(this,Q,Q.enumerable,Q.beans,Q.preserve)}return this},extend:function(){var G=R(this);return G.inject.apply(G,arguments)},each:function(G,no){return J(this,G,no)},clone:function(){return new this.constructor(this)},statics:{set:j,each:J,create:R,define:O,describe:M,clone:function(G){return j(new G.constructor,G)},isPlainObject:function(G){var no=G!=null&&G.constructor;return no&&(no===Object||no===H||no.name==="Object")},pick:function(G,no){return G!==_?G:no},slice:function(G,no,Q){return f.call(G,no,Q)}}})};if(typeof d!=="undefined")d.exports=v;v.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+v.each(this,function(e,r){if(!/^_/.test(r)){var f=typeof e;this.push(r+": "+(f==="number"?$.instance.number(e):f==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return v.importJSON(e,this)},exportJSON:function(e){return v.exportJSON(this,e)},toJSON:function(){return v.serialize(this)},set:function(e,r){if(e)v.filter(this,e,r,this._prioritize);return this}},{beans:!1,statics:{exports:{},extend:function e(){var r=e.base.apply(this,arguments),f=r.prototype._class;if(f&&!v.exports[f])v.exports[f]=r;return r},equals:function(e,r){if(e===r)return!0;if(e&&e.equals)return e.equals(r);if(r&&r.equals)return r.equals(e);if(e&&r&&typeof e==="object"&&typeof r==="object"){if(Array.isArray(e)&&Array.isArray(r)){var f=e.length;if(f!==r.length)return!1;while(f--)if(!v.equals(e[f],r[f]))return!1}else{var R=Object.keys(e),f=R.length;if(f!==Object.keys(r).length)return!1;while(f--){var M=R[f];if(!(r.hasOwnProperty(M)&&v.equals(e[M],r[M])))return!1}}return!0}return!1},read:function(e,r,f,R){if(this===v){var M=this.peek(e,r);return e.__index++,M}var O=this.prototype,U=O._readIndex,P=r||U&&e.__index||0,j=e.length,J=e[P];if(R=R||j-P,J instanceof this||f&&f.readNull&&J==null&&R<=1){if(U)e.__index=P+1;return J&&f&&f.clone?J.clone():J}if(J=v.create(O),U)J.__read=!0;if(J=J.initialize.apply(J,P>0||P+R<j?v.slice(e,P,P+R):e)||J,U){e.__index=P+J.__read;var oo=J.__filtered;if(oo)e.__filtered=oo,J.__filtered=_;J.__read=_}return J},peek:function(e,r){return e[e.__index=r||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,r,f,R){var M=[],O,U=r||0,P=R?U+R:e.length;for(var j=U;j<P;j++)M.push(Array.isArray(O=e[j])?this.read(O,0,f):this.read(e,j,f,1));return M},readNamed:function(e,r,f,R,M){var O=this.getNamed(e,r),U=O!==_;if(U){var P=e.__filtered;if(!P){var j=this.getSource(e);P=e.__filtered=v.create(j),P.__unfiltered=j}P[r]=_}return this.read(U?[O]:e,f,R,M)},readSupported:function(e,r){var f=this.getSource(e),R=this,M=!1;if(f)Object.keys(f).forEach(function(O){if(O in r){var U=R.readNamed(e,O);if(U!==_)r[O]=U;M=!0}});return M},getSource:function(e){var r=e.__source;if(r===_){var f=e.length===1&&e[0];r=e.__source=f&&v.isPlainObject(f)?f:null}return r},getNamed:function(e,r){var f=this.getSource(e);if(f)return r?f[r]:e.__filtered||f},hasNamed:function(e,r){return!!this.getNamed(e,r)},filter:function(e,r,f,R){var M;function O(oo){if(!(f&&(oo in f))&&!(M&&(oo in M))){var H=r[oo];if(H!==_)e[oo]=H}}if(R){var U={};for(var P=0,j,J=R.length;P<J;P++)if((j=R[P])in r)O(j),U[j]=!0;M=U}return Object.keys(r.__unfiltered||r).forEach(O),e},isPlainValue:function(e,r){return v.isPlainObject(e)||Array.isArray(e)||r&&typeof e==="string"},serialize:function(e,r,f,R){r=r||{};var M=!R,O;if(M)r.formatter=new $(r.precision),R={length:0,definitions:{},references:{},add:function(H,G){var no="#"+H._id,Q=this.references[no];if(!Q){this.length++;var ro=G.call(H),Zo=H._class;if(Zo&&ro[0]!==Zo)ro.unshift(Zo);this.definitions[no]=ro,Q=this.references[no]=[no]}return Q}};if(e&&e._serialize){O=e._serialize(r,R);var U=e._class;if(U&&!e._compactSerialize&&(M||!f)&&O[0]!==U)O.unshift(U)}else if(Array.isArray(e)){O=[];for(var P=0,j=e.length;P<j;P++)O[P]=v.serialize(e[P],r,f,R)}else if(v.isPlainObject(e)){O={};var J=Object.keys(e);for(var P=0,j=J.length;P<j;P++){var oo=J[P];O[oo]=v.serialize(e[oo],r,f,R)}}else if(typeof e==="number")O=r.formatter.number(e,r.precision);else O=e;return M&&R.length>0?[["dictionary",R.definitions],O]:O},deserialize:function(e,r,f,R,M){var O=e,U=!f,P=U&&e&&e.length&&e[0][0]==="dictionary";if(f=f||{},Array.isArray(e)){var j=e[0],J=j==="dictionary";if(e.length==1&&/^#/.test(j))return f.dictionary[j];j=v.exports[j],O=[];for(var oo=j?1:0,H=e.length;oo<H;oo++)O.push(v.deserialize(e[oo],r,f,J,P));if(j){var G=O;if(r)O=r(j,G,U||M);else O=new j(G)}}else if(v.isPlainObject(e)){if(O={},R)f.dictionary=O;for(var no in e)O[no]=v.deserialize(e[no],r,f)}return P?O[1]:O},exportJSON:function(e,r){var f=v.serialize(e,r);return r&&r.asString==!1?f:JSON.stringify(f)},importJSON:function(e,r){return v.deserialize(typeof e==="string"?JSON.parse(e):e,function(f,R,M){var O=M&&r&&r.constructor===f,U=O?r:v.create(f.prototype);if(R.length===1&&U instanceof to&&(O||!(U instanceof uo))){var P=R[0];if(v.isPlainObject(P)){if(P.insert=!1,O)R=R.concat([to.INSERT])}}if((O?U.set:f).apply(U,R),O)r=null;return U})},push:function(e,r){var f=r.length;if(f<4096)e.push.apply(e,r);else{var R=e.length;e.length+=f;for(var M=0;M<f;M++)e[R+M]=r[M]}return e},splice:function(e,r,f,R){var M=r&&r.length,O=f===_;if(f=O?e.length:f,f>e.length)f=e.length;for(var U=0;U<M;U++)r[U]._index=f+U;if(O)return v.push(e,r),[];else{var P=[f,R];if(r)v.push(P,r);var j=e.splice.apply(e,P);for(var U=0,J=j.length;U<J;U++)j[U]._index=_;for(var U=f+M,J=e.length;U<J;U++)e[U]._index=U;return j}},capitalize:function(e){return e.replace(/\b[a-z]/g,function(r){return r.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(r,f){return f.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var W={on:function(e,r){if(typeof e!=="string")v.each(e,function(O,U){this.on(U,O)},this);else{var f=this._eventTypes,R=f&&f[e],M=this._callbacks=this._callbacks||{};if(M=M[e]=M[e]||[],M.indexOf(r)===-1){if(M.push(r),R&&R.install&&M.length===1)R.install.call(this,e)}}return this},off:function(e,r){if(typeof e!=="string"){v.each(e,function(U,P){this.off(P,U)},this);return}var f=this._eventTypes,R=f&&f[e],M=this._callbacks&&this._callbacks[e],O;if(M){if(!r||(O=M.indexOf(r))!==-1&&M.length===1){if(R&&R.uninstall)R.uninstall.call(this,e);delete this._callbacks[e]}else if(O!==-1)M.splice(O,1)}return this},once:function(e,r){return this.on(e,function f(){r.apply(this,arguments),this.off(e,f)})},emit:function(e,r){var f=this._callbacks&&this._callbacks[e];if(!f)return!1;var R=v.slice(arguments,1),M=r&&r.target&&!r.currentTarget;if(f=f.slice(),M)r.currentTarget=this;for(var O=0,U=f.length;O<U;O++)if(f[O].apply(this,R)==!1){if(r&&r.stop)r.stop();break}if(M)delete r.currentTarget;return!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var r=this._eventTypes,f=this._callbacks,R=e?"install":"uninstall";if(r){for(var M in f)if(f[M].length>0){var O=r[M],U=O&&O[R];if(U)U.call(this,M)}}},statics:{inject:function e(r){var f=r._events;if(f){var R={};v.each(f,function(M,O){var U=typeof M==="string",P=U?M:O,j=v.capitalize(P),J=P.substring(2).toLowerCase();R[J]=U?{}:M,P="_"+P,r["get"+j]=function(){return this[P]},r["set"+j]=function(oo){var H=this[P];if(H)this.off(J,H);if(oo)this.on(J,oo);this[P]=oo}}),r._eventTypes=R}return e.base.apply(this,arguments)}}},y=v.extend({_class:"PaperScope",initialize:function e(){L=this,this.settings=new v({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var r=e.prototype;if(!this.support){var f=Ao.getContext(1,1)||{};r.support={nativeDash:"setLineDash"in f||"mozDash"in f,nativeBlendModes:Ko.nativeModes},Ao.release(f)}if(!this.agent){var R=h.navigator.userAgent.toLowerCase(),M=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(R)||[])[0],O=M==="darwin"?"mac":M,U=r.agent=r.browser={platform:O};if(O)U[O]=!0;if(R.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(P,j,J,oo,H){if(!U.chrome){var G=j==="opera"?oo:/^(node|trident)$/.test(j)?H:J;U.version=G,U.versionNumber=parseFloat(G),j={trident:"msie",jsdom:"node"}[j]||j,U.name=j,U[j]=!0}}),U.chrome)delete U.webkit;if(U.atom)delete U.chrome}},version:"0.12.17",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,r){},install:function(e){var r=this;v.each(["project","view","tool"],function(R){v.define(e,R,{configurable:!0,get:function(){return r[R]}})});for(var f in this)if(!/^_/.test(f)&&this[f])e[f]=this[f]},setup:function(e){return L=this,this.project=new mo(e),this},createCanvas:function(e,r){return Ao.getCanvas(e,r)},activate:function(){L=this},clear:function(){var e=this.projects,r=this.tools;for(var f=e.length-1;f>=0;f--)e[f].remove();for(var f=r.length-1;f>=0;f--)r[f].remove()},remove:function(){this.clear(),delete y._scopes[this._id]},statics:new function(){function e(r){return r+="Attribute",function(f,R){return f[r](R)||f[r]("data-paper-"+R)}}return{_scopes:{},_id:0,get:function(r){return this._scopes[r]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),k=v.extend(W,{initialize:function(e){if(this._scope=L,this._index=this._scope[this._list].push(this)-1,e||!this._scope[this._reference])this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];if(e&&e!==this)e.emit("deactivate");return this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){if(this._index==null)return!1;if(v.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this)this._scope[this._reference]=null;return this._scope=null,!0},getView:function(){return this._scope.getView()}}),Z={findItemBoundsCollisions:function(e,r,f){function R(U){var P=new Array(U.length);for(var j=0;j<U.length;j++){var J=U[j].getBounds();P[j]=[J.left,J.top,J.right,J.bottom]}return P}var M=R(e),O=!r||r===e?M:R(r);return this.findBoundsCollisions(M,O,f||0)},findCurveBoundsCollisions:function(e,r,f,R){function M(G){var{min:no,max:Q}=Math,ro=new Array(G.length);for(var Zo=0;Zo<G.length;Zo++){var A=G[Zo];ro[Zo]=[no(A[0],A[2],A[4],A[6]),no(A[1],A[3],A[5],A[7]),Q(A[0],A[2],A[4],A[6]),Q(A[1],A[3],A[5],A[7])]}return ro}var O=M(e),U=!r||r===e?O:M(r);if(R){var P=this.findBoundsCollisions(O,U,f||0,!1,!0),j=this.findBoundsCollisions(O,U,f||0,!0,!0),J=[];for(var oo=0,H=P.length;oo<H;oo++)J[oo]={hor:P[oo],ver:j[oo]};return J}return this.findBoundsCollisions(O,U,f||0)},findBoundsCollisions:function(e,r,f,R,M){var O=!r||e===r,U=O?e:e.concat(r),P=e.length,j=U.length;function J(Io,Do,Qo){var Bo=0,oa=Io.length;while(Bo<oa){var Yo=oa+Bo>>>1;if(U[Io[Yo]][Do]<Qo)Bo=Yo+1;else oa=Yo}return Bo-1}var oo=R?1:0,H=oo+2,G=R?0:1,no=G+2,Q=new Array(j);for(var ro=0;ro<j;ro++)Q[ro]=ro;Q.sort(function(Io,Do){return U[Io][oo]-U[Do][oo]});var Zo=[],A=new Array(P);for(var ro=0;ro<j;ro++){var eo=Q[ro],so=U[eo],B=O?eo:eo-P,lo=eo<P,Ro=O||!lo,po=lo?[]:null;if(Zo.length){var _o=J(Zo,H,so[oo]-f)+1;if(Zo.splice(0,_o),O&&M){po=po.concat(Zo);for(var Fo=0;Fo<Zo.length;Fo++){var ho=Zo[Fo];A[ho].push(B)}}else{var yo=so[no],jo=so[G];for(var Fo=0;Fo<Zo.length;Fo++){var ho=Zo[Fo],To=U[ho],qo=ho<P,Eo=O||ho>=P;if(M||(lo&&Eo||Ro&&qo)&&(yo>=To[G]-f&&jo<=To[no]+f)){if(lo&&Eo)po.push(O?ho:ho-P);if(Ro&&qo)A[ho].push(B)}}}}if(lo){if(e===r)po.push(eo);A[eo]=po}if(Zo.length){var Wo=so[H],Oo=J(Zo,H,Wo);Zo.splice(Oo+1,0,eo)}else Zo.push(eo)}for(var ro=0;ro<A.length;ro++){var Go=A[ro];if(Go)Go.sort(function(Do,Qo){return Do-Qo})}return A}},$=v.extend({initialize:function(e){this.precision=v.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,r,f){return this.number(e)+(f||",")+this.number(r)},point:function(e,r){return this.number(e.x)+(r||",")+this.number(e.y)},size:function(e,r){return this.number(e.width)+(r||",")+this.number(e.height)},rectangle:function(e,r){return this.point(e,r)+(r||",")+this.size(e,r)}});$.instance=new $;var V=new function(){var e=[[0.5773502691896257],[0,0.7745966692414834],[0.33998104358485626,0.8611363115940526],[0,0.5384693101056831,0.906179845938664],[0.2386191860831969,0.6612093864662645,0.932469514203152],[0,0.4058451513773972,0.7415311855993945,0.9491079123427585],[0.1834346424956498,0.525532409916329,0.7966664774136267,0.9602898564975363],[0,0.3242534234038089,0.6133714327005904,0.8360311073266358,0.9681602395076261],[0.14887433898163122,0.4333953941292472,0.6794095682990244,0.8650633666889845,0.9739065285171717],[0,0.26954315595234496,0.5190961292068118,0.7301520055740494,0.8870625997680953,0.978228658146057],[0.1252334085114689,0.3678314989981802,0.5873179542866175,0.7699026741943047,0.9041172563704749,0.9815606342467192],[0,0.2304583159551348,0.44849275103644687,0.6423493394403402,0.8015780907333099,0.9175983992229779,0.9841830547185881],[0.10805494870734367,0.31911236892788974,0.5152486363581541,0.6872929048116855,0.827201315069765,0.9284348836635735,0.9862838086968123],[0,0.20119409399743451,0.3941513470775634,0.5709721726085388,0.7244177313601701,0.8482065834104272,0.937273392400706,0.9879925180204854],[0.09501250983763744,0.2816035507792589,0.45801677765722737,0.6178762444026438,0.755404408355003,0.8656312023878318,0.9445750230732326,0.9894009349916499]],r=[[1],[0.8888888888888888,0.5555555555555556],[0.6521451548625461,0.34785484513745385],[0.5688888888888889,0.47862867049936647,0.23692688505618908],[0.46791393457269104,0.3607615730481386,0.17132449237917036],[0.4179591836734694,0.3818300505051189,0.27970539148927664,0.1294849661688697],[0.362683783378362,0.31370664587788727,0.22238103445337448,0.10122853629037626],[0.3302393550012598,0.31234707704000286,0.26061069640293544,0.1806481606948574,0.08127438836157441],[0.29552422471475287,0.26926671930999635,0.21908636251598204,0.1494513491505806,0.06667134430868814],[0.2729250867779006,0.26280454451024665,0.23319376459199048,0.18629021092773426,0.1255803694649046,0.05566856711617366],[0.24914704581340277,0.2334925365383548,0.20316742672306592,0.16007832854334622,0.10693932599531843,0.04717533638651183],[0.2325515532308739,0.22628318026289723,0.2078160475368885,0.17814598076194574,0.13887351021978725,0.09212149983772845,0.04048400476531588],[0.2152638534631578,0.2051984637212956,0.18553839747793782,0.15720316715819355,0.12151857068790319,0.08015808715976021,0.03511946033175186],[0.2025782419255613,0.19843148532711158,0.1861610000155622,0.16626920581699392,0.13957067792615432,0.10715922046717194,0.07036604748810812,0.03075324199611727],[0.1894506104550685,0.18260341504492358,0.16915651939500254,0.14959598881657674,0.12462897125553388,0.09515851168249279,0.062253523938647894,0.027152459411754096]],f=Math.abs,R=Math.sqrt,M=Math.pow,O=Math.log2||function(H){return Math.log(H)*Math.LOG2E},U=0.000000000001,P=0.000000000000000112;function j(H,G,no){return H<G?G:H>no?no:H}function J(H,G,no){function Q(_o){var Fo=_o*134217729,ho=_o-Fo,yo=ho+Fo,jo=_o-yo;return[yo,jo]}var ro=G*G-H*no,Zo=G*G+H*no;if(f(ro)*3<Zo){var A=Q(H),eo=Q(G),so=Q(no),B=G*G,lo=eo[0]*eo[0]-B+2*eo[0]*eo[1]+eo[1]*eo[1],Ro=H*no,po=A[0]*so[0]-Ro+A[0]*so[1]+A[1]*so[0]+A[1]*so[1];ro=B-Ro+(lo-po)}return ro}function oo(){var H=Math.max.apply(Math,arguments);return H&&(H<0.00000001||H>1e8)?M(2,-Math.round(O(H))):0}return{EPSILON:U,MACHINE_EPSILON:P,CURVETIME_EPSILON:0.00000001,GEOMETRIC_EPSILON:0.0000001,TRIGONOMETRIC_EPSILON:0.00000001,ANGULAR_EPSILON:0.00001,KAPPA:4*(R(2)-1)/3,isZero:function(H){return H>=-U&&H<=U},isMachineZero:function(H){return H>=-P&&H<=P},clamp:j,integrate:function(H,G,no,Q){var ro=e[Q-2],Zo=r[Q-2],A=(no-G)*0.5,eo=A+G,so=0,B=Q+1>>1,lo=Q&1?Zo[so++]*H(eo):0;while(so<B){var Ro=A*ro[so];lo+=Zo[so++]*(H(eo+Ro)+H(eo-Ro))}return A*lo},findRoot:function(H,G,no,Q,ro,Zo,A){for(var eo=0;eo<Zo;eo++){var so=H(no),B=so/G(no),lo=no-B;if(f(B)<A){no=lo;break}if(so>0)ro=no,no=lo<=Q?(Q+ro)*0.5:lo;else Q=no,no=lo>=ro?(Q+ro)*0.5:lo}return j(no,Q,ro)},solveQuadratic:function(H,G,no,Q,ro,Zo){var A,eo=1/0;if(f(H)<U){if(f(G)<U)return f(no)<U?-1:0;A=-no/G}else{G*=-0.5;var so=J(H,G,no);if(so&&f(so)<P){var B=oo(f(H),f(G),f(no));if(B)H*=B,G*=B,no*=B,so=J(H,G,no)}if(so>=-P){var lo=so<0?0:R(so),Ro=G+(G<0?-lo:lo);if(Ro===0)A=no/H,eo=-A;else A=Ro/H,eo=no/Ro}}var po=0,_o=ro==null,Fo=ro-U,ho=Zo+U;if(isFinite(A)&&(_o||A>Fo&&A<ho))Q[po++]=_o?A:j(A,ro,Zo);if(eo!==A&&isFinite(eo)&&(_o||eo>Fo&&eo<ho))Q[po++]=_o?eo:j(eo,ro,Zo);return po},solveCubic:function(H,G,no,Q,ro,Zo,A){var eo=oo(f(H),f(G),f(no),f(Q)),so,B,lo,Ro,po;if(eo)H*=eo,G*=eo,no*=eo,Q*=eo;function _o(Oo){so=Oo;var Go=H*so;B=Go+G,lo=B*so+no,Ro=(Go+B)*so+lo,po=lo*so+Q}if(f(H)<U)H=G,B=no,lo=Q,so=1/0;else if(f(Q)<U)B=G,lo=no,so=0;else{_o(-(G/H)/3);var Fo=po/H,ho=M(f(Fo),0.3333333333333333),yo=Fo<0?-1:1,jo=-Ro/H,To=jo>0?1.324717957244746*Math.max(ho,R(jo)):ho,qo=so-yo*To;if(qo!==so){do _o(qo),qo=Ro===0?so:so-po/Ro/(1+P);while(yo*qo>yo*so);if(f(H)*so*so>f(Q/so))lo=-Q/so,B=(lo-no)/so}}var Eo=V.solveQuadratic(H,B,lo,ro,Zo,A),Wo=Zo==null;if(isFinite(so)&&(Eo===0||Eo>0&&so!==ro[0]&&so!==ro[1])&&(Wo||so>Zo-U&&so<A+U))ro[Eo++]=Wo?so:j(so,Zo,A);return Eo}}},x={_id:1,_pools:{},get:function(e){if(e){var r=this._pools[e];if(!r)r=this._pools[e]={_id:1};return r._id++}else return this._id++}},q=v.extend({_class:"Point",_readIndex:!0,initialize:function e(r,f){var R=typeof r,M=this.__read,O=0;if(R==="number"){var U=typeof f==="number";if(this._set(r,U?f:r),M)O=U?2:1}else if(R==="undefined"||r===null){if(this._set(0,0),M)O=r===null?1:0}else{var P=R==="string"?r.split(/[\s,]+/)||[]:r;if(O=1,Array.isArray(P))this._set(+P[0],+(P.length>1?P[1]:P[0]));else if("x"in P)this._set(P.x||0,P.y||0);else if("width"in P)this._set(P.width||0,P.height||0);else if("angle"in P)this._set(P.length||0,0),this.setAngle(P.angle||0);else this._set(0,0),O=0}if(M)this.__read=O;return this},set:"#initialize",_set:function(e,r){return this.x=e,this.y=r,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new q(this.x,this.y)},toString:function(){var e=$.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.x),r.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var r=this._angle||0;this._set(Math.cos(r)*e,Math.sin(r)*e)}else{var f=e/this.getLength();if(V.isZero(f))this.getAngle();this._set(this.x*f,this.y*f)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(!arguments.length)return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);else{var e=q.read(arguments),r=this.getLength()*e.getLength();if(V.isZero(r))return NaN;else{var f=this.dot(e)/r;return Math.acos(f<-1?-1:f>1?1:f)}}},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var r=this.getLength();this._set(Math.cos(e)*r,Math.sin(e)*r)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=q.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,r=q.read(e),f=r.x-this.x,R=r.y-this.y,M=f*f+R*R,O=v.read(e);return O?M:Math.sqrt(M)},normalize:function(e){if(e===_)e=1;var r=this.getLength(),f=r!==0?e/r:0,R=new q(this.x*f,this.y*f);if(f>=0)R._angle=this._angle;return R},rotate:function(e,r){if(e===0)return this.clone();e=e*Math.PI/180;var f=r?this.subtract(r):this,R=Math.sin(e),M=Math.cos(e);return f=new q(f.x*M-f.y*R,f.x*R+f.y*M),r?f.add(r):f},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=q.read(arguments);return new q(this.x+e.x,this.y+e.y)},subtract:function(){var e=q.read(arguments);return new q(this.x-e.x,this.y-e.y)},multiply:function(){var e=q.read(arguments);return new q(this.x*e.x,this.y*e.y)},divide:function(){var e=q.read(arguments);return new q(this.x/e.x,this.y/e.y)},modulo:function(){var e=q.read(arguments);return new q(this.x%e.x,this.y%e.y)},negate:function(){return new q(-this.x,-this.y)},isInside:function(){return z.read(arguments).contains(this)},isClose:function(){var e=arguments,r=q.read(e),f=v.read(e);return this.getDistance(r)<=f},isCollinear:function(){var e=q.read(arguments);return q.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=q.read(arguments);return q.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=V.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=q.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=q.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=q.read(arguments),r=e.isZero()?0:this.dot(e)/e.dot(e);return new q(e.x*r,e.y*r)},statics:{min:function(){var e=arguments,r=q.read(e),f=q.read(e);return new q(Math.min(r.x,f.x),Math.min(r.y,f.y))},max:function(){var e=arguments,r=q.read(e),f=q.read(e);return new q(Math.max(r.x,f.x),Math.max(r.y,f.y))},random:function(){return new q(Math.random(),Math.random())},isCollinear:function(e,r,f,R){return Math.abs(e*R-r*f)<=Math.sqrt((e*e+r*r)*(f*f+R*R))*0.00000001},isOrthogonal:function(e,r,f,R){return Math.abs(e*f+r*R)<=Math.sqrt((e*e+r*r)*(f*f+R*R))*0.00000001}}},v.each(["round","ceil","floor","abs"],function(e){var r=Math[e];this[e]=function(){return new q(r(this.x),r(this.y))}},{})),F=q.extend({initialize:function e(r,f,R,M){this._x=r,this._y=f,this._owner=R,this._setter=M},_set:function(e,r,f){if(this._x=e,this._y=r,!f)this._owner[this._setter](this);return this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),g=v.extend({_class:"Size",_readIndex:!0,initialize:function e(r,f){var R=typeof r,M=this.__read,O=0;if(R==="number"){var U=typeof f==="number";if(this._set(r,U?f:r),M)O=U?2:1}else if(R==="undefined"||r===null){if(this._set(0,0),M)O=r===null?1:0}else{var P=R==="string"?r.split(/[\s,]+/)||[]:r;if(O=1,Array.isArray(P))this._set(+P[0],+(P.length>1?P[1]:P[0]));else if("width"in P)this._set(P.width||0,P.height||0);else if("x"in P)this._set(P.x||0,P.y||0);else this._set(0,0),O=0}if(M)this.__read=O;return this},set:"#initialize",_set:function(e,r){return this.width=e,this.height=r,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new g(this.width,this.height)},toString:function(){var e=$.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.width),r.number(this.height)]},add:function(){var e=g.read(arguments);return new g(this.width+e.width,this.height+e.height)},subtract:function(){var e=g.read(arguments);return new g(this.width-e.width,this.height-e.height)},multiply:function(){var e=g.read(arguments);return new g(this.width*e.width,this.height*e.height)},divide:function(){var e=g.read(arguments);return new g(this.width/e.width,this.height/e.height)},modulo:function(){var e=g.read(arguments);return new g(this.width%e.width,this.height%e.height)},negate:function(){return new g(-this.width,-this.height)},isZero:function(){var e=V.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,r){return new g(Math.min(e.width,r.width),Math.min(e.height,r.height))},max:function(e,r){return new g(Math.max(e.width,r.width),Math.max(e.height,r.height))},random:function(){return new g(Math.random(),Math.random())}}},v.each(["round","ceil","floor","abs"],function(e){var r=Math[e];this[e]=function(){return new g(r(this.width),r(this.height))}},{})),E=g.extend({initialize:function e(r,f,R,M){this._width=r,this._height=f,this._owner=R,this._setter=M},_set:function(e,r,f){if(this._width=e,this._height=r,!f)this._owner[this._setter](this);return this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),z=v.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function e(r,f,R,M){var O=arguments,U=typeof r,P;if(U==="number")this._set(r,f,R,M),P=4;else if(U==="undefined"||r===null)this._set(0,0,0,0),P=r===null?1:0;else if(O.length===1){if(Array.isArray(r))this._set.apply(this,r),P=1;else if(r.x!==_||r.width!==_)this._set(r.x||0,r.y||0,r.width||0,r.height||0),P=1;else if(r.from===_&&r.to===_){if(this._set(0,0,0,0),v.readSupported(O,this))P=1}}if(P===_){var j=q.readNamed(O,"from"),J=v.peek(O),oo=j.x,H=j.y,G,no;if(J&&J.x!==_||v.hasNamed(O,"to")){var Q=q.readNamed(O,"to");if(G=Q.x-oo,no=Q.y-H,G<0)oo=Q.x,G=-G;if(no<0)H=Q.y,no=-no}else{var ro=g.read(O);G=ro.width,no=ro.height}this._set(oo,H,G,no),P=O.__index}var Zo=O.__filtered;if(Zo)this.__filtered=Zo;if(this.__read)this.__read=P;return this},set:"#initialize",_set:function(e,r,f,R){return this.x=e,this.y=r,this.width=f,this.height=R,this},clone:function(){return new z(this.x,this.y,this.width,this.height)},equals:function(e){var r=v.isPlainValue(e)?z.read(arguments):e;return r===this||r&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height||!1},toString:function(){var e=$.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var r=e.formatter;return[r.number(this.x),r.number(this.y),r.number(this.width),r.number(this.height)]},getPoint:function(e){var r=e?q:F;return new r(this.x,this.y,this,"setPoint")},setPoint:function(){var e=q.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var r=e?g:E;return new r(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=g.read(arguments),r=this._sx,f=this._sy,R=e.width,M=e.height;if(r)this.x+=(this.width-R)*r;if(f)this.y+=(this.height-M)*f;this.width=R,this.height=M,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var r=e-this.x;this.width-=this._sx===0.5?r*2:r}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var r=e-this.y;this.height-=this._sy===0.5?r*2:r}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var r=e-this.x;this.width=this._sx===0.5?r*2:r}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var r=e-this.y;this.height=this._sy===0.5?r*2:r}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){if(this._fw||this._sx===0.5)this.x=e-this.width/2;else{if(this._sx)this.x+=(e-this.x)*2*this._sx;this.width=(e-this.x)*2}this._sx=0.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){if(this._fh||this._sy===0.5)this.y=e-this.height/2;else{if(this._sy)this.y+=(e-this.y)*2*this._sy;this.height=(e-this.y)*2}this._sy=0.5,this._fh=0},getCenter:function(e){var r=e?q:F;return new r(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=q.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==_||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(z.read(arguments)):this._containsPoint(q.read(arguments))},_containsPoint:function(e){var{x:r,y:f}=e;return r>=this.x&&f>=this.y&&r<=this.x+this.width&&f<=this.y+this.height},_containsRectangle:function(e){var{x:r,y:f}=e;return r>=this.x&&f>=this.y&&r+e.width<=this.x+this.width&&f+e.height<=this.y+this.height},intersects:function(){var e=z.read(arguments),r=v.read(arguments)||0;return e.x+e.width>this.x-r&&e.y+e.height>this.y-r&&e.x<this.x+this.width+r&&e.y<this.y+this.height+r},intersect:function(){var e=z.read(arguments),r=Math.max(this.x,e.x),f=Math.max(this.y,e.y),R=Math.min(this.x+this.width,e.x+e.width),M=Math.min(this.y+this.height,e.y+e.height);return new z(r,f,R-r,M-f)},unite:function(){var e=z.read(arguments),r=Math.min(this.x,e.x),f=Math.min(this.y,e.y),R=Math.max(this.x+this.width,e.x+e.width),M=Math.max(this.y+this.height,e.y+e.height);return new z(r,f,R-r,M-f)},include:function(){var e=q.read(arguments),r=Math.min(this.x,e.x),f=Math.min(this.y,e.y),R=Math.max(this.x+this.width,e.x),M=Math.max(this.y+this.height,e.y);return new z(r,f,R-r,M-f)},expand:function(){var e=g.read(arguments),r=e.width,f=e.height;return new z(this.x-r/2,this.y-f/2,this.width+r,this.height+f)},scale:function(e,r){return this.expand(this.width*e-this.width,this.height*(r===_?e:r)-this.height)}},v.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,r){var f=e.join(""),R=/^[RL]/.test(f);if(r>=4)e[1]+=R?"Y":"X";var M=e[R?0:1],O=e[R?1:0],U="get"+M,P="get"+O,j="set"+M,J="set"+O,oo="get"+f,H="set"+f;this[oo]=function(G){var no=G?q:F;return new no(this[U](),this[P](),this,H)},this[H]=function(){var G=q.read(arguments);this[j](G.x),this[J](G.y)}},{beans:!0})),K=z.extend({initialize:function e(r,f,R,M,O,U){this._set(r,f,R,M,!0),this._owner=O,this._setter=U},_set:function(e,r,f,R,M){if(this._x=e,this._y=r,this._width=f,this._height=R,!M)this._owner[this._setter](this);return this}},new function(){var e=z.prototype;return v.each(["x","y","width","height"],function(r){var f=v.capitalize(r),R="_"+r;this["get"+f]=function(){return this[R]},this["set"+f]=function(M){if(this[R]=M,!this._dontNotify)this._owner[this._setter](this)}},v.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(r){var f="set"+r;this[f]=function(){this._dontNotify=!0,e[f].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(r){var f=this._owner;if(f._changeSelection)f._changeSelection(2,r)}}))}),Y=v.extend({_class:"Matrix",initialize:function e(r,f){var R=arguments,M=R.length,O=!0;if(M>=6)this._set.apply(this,R);else if(M===1||M===2)if(r instanceof e)this._set(r._a,r._b,r._c,r._d,r._tx,r._ty,f);else if(Array.isArray(r))this._set.apply(this,f?r.concat([f]):r);else O=!1;else if(!M)this.reset();else O=!1;if(!O)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,r,f,R,M,O,U){if(this._a=e,this._b=r,this._c=f,this._d=R,this._tx=M,this._ty=O,!U)this._changed();return this},_serialize:function(e,r){return v.serialize(this.getValues(),e,!0,r)},_changed:function(){var e=this._owner;if(e)if(e._applyMatrix)e.transform(null,!0);else e._changed(25)},clone:function(){return new Y(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=$.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){if(this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,!e)this._changed();return this},apply:function(e,r){var f=this._owner;if(f)return f.transform(null,v.pick(e,!0),r),this.isIdentity();return!1},translate:function(){var e=q.read(arguments),r=e.x,f=e.y;return this._tx+=r*this._a+f*this._c,this._ty+=r*this._b+f*this._d,this._changed(),this},scale:function(){var e=arguments,r=q.read(e),f=q.read(e,0,{readNull:!0});if(f)this.translate(f);if(this._a*=r.x,this._b*=r.x,this._c*=r.y,this._d*=r.y,f)this.translate(f.negate());return this._changed(),this},rotate:function(e){e*=Math.PI/180;var r=q.read(arguments,1),f=r.x,R=r.y,M=Math.cos(e),O=Math.sin(e),U=f-f*M+R*O,P=R-f*O-R*M,j=this._a,J=this._b,oo=this._c,H=this._d;return this._a=M*j+O*oo,this._b=M*J+O*H,this._c=-O*j+M*oo,this._d=-O*J+M*H,this._tx+=U*j+P*oo,this._ty+=U*J+P*H,this._changed(),this},shear:function(){var e=arguments,r=q.read(e),f=q.read(e,0,{readNull:!0});if(f)this.translate(f);var R=this._a,M=this._b;if(this._a+=r.y*this._c,this._b+=r.y*this._d,this._c+=r.x*R,this._d+=r.x*M,f)this.translate(f.negate());return this._changed(),this},skew:function(){var e=arguments,r=q.read(e),f=q.read(e,0,{readNull:!0}),R=Math.PI/180,M=new q(Math.tan(r.x*R),Math.tan(r.y*R));return this.shear(M,f)},append:function(e,r){if(e){var f=this._a,R=this._b,M=this._c,O=this._d,U=e._a,P=e._c,j=e._b,J=e._d,oo=e._tx,H=e._ty;if(this._a=U*f+j*M,this._c=P*f+J*M,this._b=U*R+j*O,this._d=P*R+J*O,this._tx+=oo*f+H*M,this._ty+=oo*R+H*O,!r)this._changed()}return this},prepend:function(e,r){if(e){var f=this._a,R=this._b,M=this._c,O=this._d,U=this._tx,P=this._ty,j=e._a,J=e._c,oo=e._b,H=e._d,G=e._tx,no=e._ty;if(this._a=j*f+J*R,this._c=j*M+J*O,this._b=oo*f+H*R,this._d=oo*M+H*O,this._tx=j*U+J*P+G,this._ty=oo*U+H*P+no,!r)this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,r=this._b,f=this._c,R=this._d,M=this._tx,O=this._ty,U=e*R-r*f,P=null;if(U&&!isNaN(U)&&isFinite(M)&&isFinite(O))this._a=R/U,this._b=-r/U,this._c=-f/U,this._d=e/U,this._tx=(f*O-R*M)/U,this._ty=(r*M-e*O)/U,P=this;return P},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Y(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,r,f){return arguments.length<3?this._transformPoint(q.read(arguments)):this._transformCoordinates(e,r,f)},_transformPoint:function(e,r,f){var{x:R,y:M}=e;if(!r)r=new q;return r._set(R*this._a+M*this._c+this._tx,R*this._b+M*this._d+this._ty,f)},_transformCoordinates:function(e,r,f){for(var R=0,M=2*f;R<M;R+=2){var O=e[R],U=e[R+1];r[R]=O*this._a+U*this._c+this._tx,r[R+1]=O*this._b+U*this._d+this._ty}return r},_transformCorners:function(e){var{x:r,y:f}=e,R=r+e.width,M=f+e.height,O=[r,f,R,f,R,M,r,M];return this._transformCoordinates(O,O,4)},_transformBounds:function(e,r,f){var R=this._transformCorners(e),M=R.slice(0,2),O=M.slice();for(var U=2;U<8;U++){var P=R[U],j=U&1;if(P<M[j])M[j]=P;else if(P>O[j])O[j]=P}if(!r)r=new z;return r._set(M[0],M[1],O[0]-M[0],O[1]-M[1],f)},inverseTransform:function(){return this._inverseTransform(q.read(arguments))},_inverseTransform:function(e,r,f){var R=this._a,M=this._b,O=this._c,U=this._d,P=this._tx,j=this._ty,J=R*U-M*O,oo=null;if(J&&!isNaN(J)&&isFinite(P)&&isFinite(j)){var H=e.x-this._tx,G=e.y-this._ty;if(!r)r=new q;oo=r._set((H*U-G*O)/J,(G*R-H*M)/J,f)}return oo},decompose:function(){var e=this._a,r=this._b,f=this._c,R=this._d,M=e*R-r*f,O=Math.sqrt,U=Math.atan2,P=180/Math.PI,j,J,oo;if(e!==0||r!==0){var H=O(e*e+r*r);j=Math.acos(e/H)*(r>0?1:-1),J=[H,M/H],oo=[U(e*f+r*R,H*H),0]}else if(f!==0||R!==0){var G=O(f*f+R*R);j=Math.asin(f/G)*(R>0?1:-1),J=[M/G,G],oo=[0,U(e*f+r*R,G*G)]}else j=0,oo=J=[0,0];return{translation:this.getTranslation(),rotation:j*P,scaling:new q(J),skewing:new q(oo[0]*P,oo[1]*P)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new q(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){if(!this.isIdentity())e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},v.each(["a","b","c","d","tx","ty"],function(e){var r=v.capitalize(e),f="_"+e;this["get"+r]=function(){return this[f]},this["set"+r]=function(R){this[f]=R,this._changed()}},{})),C=v.extend({_class:"Line",initialize:function e(r,f,R,M,O){var U=!1;if(arguments.length>=4)this._px=r,this._py=f,this._vx=R,this._vy=M,U=O;else this._px=r.x,this._py=r.y,this._vx=f.x,this._vy=f.y,U=R;if(!U)this._vx-=this._px,this._vy-=this._py},getPoint:function(){return new q(this._px,this._py)},getVector:function(){return new q(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,r){return C.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,r)},getSide:function(e,r){return C.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,r)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return C.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return q.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return q.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,r,f,R,M,O,U,P,j,J){if(!j)f-=e,R-=r,U-=M,P-=O;var oo=f*P-R*U;if(!V.isMachineZero(oo)){var H=e-M,G=r-O,no=(U*G-P*H)/oo,Q=(f*G-R*H)/oo,ro=0.000000000001,Zo=-ro,A=1+ro;if(J||Zo<no&&no<A&&Zo<Q&&Q<A){if(!J)no=no<=0?0:no>=1?1:no;return new q(e+no*f,r+no*R)}}},getSide:function(e,r,f,R,M,O,U,P){if(!U)f-=e,R-=r;var j=M-e,J=O-r,oo=j*R-J*f;if(!P&&V.isMachineZero(oo)){if(oo=(j*f+j*f)/(f*f+R*R),oo>=0&&oo<=1)oo=0}return oo<0?-1:oo>0?1:0},getSignedDistance:function(e,r,f,R,M,O,U){if(!U)f-=e,R-=r;return f===0?R>0?M-e:e-M:R===0?f<0?O-r:r-O:((M-e)*R-(O-r)*f)/(R>f?R*Math.sqrt(1+f*f/(R*R)):f*Math.sqrt(1+R*R/(f*f)))},getDistance:function(e,r,f,R,M,O,U){return Math.abs(C.getSignedDistance(e,r,f,R,M,O,U))}}}),mo=k.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function e(r){k.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new fo(null,null,this),this._view=So.create(this,r||Ao.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,r){return v.serialize(this._children,e,!0,r)},_changed:function(e,r){if(e&1){var f=this._view;if(f){if(f._needsUpdate=!0,!f._requested&&f._autoUpdate)f.requestUpdate()}}var R=this._changes;if(R&&r){var M=this._changesById,O=r._id,U=M[O];if(U)U.flags|=e;else R.push(M[O]={item:r,flags:e})}},clear:function(){var e=this._children;for(var r=e.length-1;r>=0;r--)e[r].remove()},isEmpty:function(){return!this._children.length},remove:function e(){if(!e.base.call(this))return!1;if(this._view)this._view.remove();return!0},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new uo({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],r={};return this.getItems({class:n,match:function(f){var R=f._definition,M=R._id;if(!r[M])r[M]=!0,e.push(R);return!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,r=[];for(var f in e){var R=e[f],M=R._selection;if(M&1&&R.isInserted())r.push(R);else if(!M)this._updateSelection(R)}return r},_updateSelection:function(e){var r=e._id,f=this._selectionItems;if(e._selection){if(f[r]!==e)this._selectionCount++,f[r]=e}else if(f[r]===e)this._selectionCount--,delete f[r]},selectAll:function(){var e=this._children;for(var r=0,f=e.length;r<f;r++)e[r].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var r in e)e[r].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(_,e)},insertLayer:function(e,r){if(r instanceof uo){r._remove(!1,!0),v.splice(this._children,[r],e,0),r._setProject(this,!0);var f=r._name;if(f)r.setName(f);if(this._changes)r._changed(5);if(!this._activeLayer)this._activeLayer=r}else r=null;return r},_insertItem:function(e,r,f){if(r=this.insertLayer(e,r)||(this._activeLayer||this._insertItem(_,new uo(to.NO_INSERT),!0)).insertChild(e,r),f&&r.activate)r.activate();return r},getItems:function(e){return to._getItems(this,e)},getItem:function(e){return to._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var r=this._activeLayer;return v.importJSON(e,r&&r.isEmpty()&&r)},removeOn:function(e){var r=this._removeSets;if(r){if(e==="mouseup")r.mousedrag=null;var f=r[e];if(f){for(var R in f){var M=f[R];for(var O in r){var U=r[O];if(U&&U!=f)delete U[M._id]}M.remove()}r[e]=null}}},draw:function(e,r,f){this._updateVersion++,e.save(),r.applyToContext(e);var R=this._children,M=new v({offset:new q(0,0),pixelRatio:f,viewMatrix:r.isIdentity()?null:r,matrices:[new Y],updateMatrix:!0});for(var O=0,U=R.length;O<U;O++)R[O].draw(e,M);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var P=this._selectionItems,j=this._scope.settings.handleSize,J=this._updateVersion;for(var oo in P)P[oo]._drawSelection(e,r,j,P,J);e.restore()}}}),to=v.extend(W,{statics:{extend:function e(r){if(r._serializeFields)r._serializeFields=v.set({},this.prototype._serializeFields,r._serializeFields);return e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Y,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return v.each(e,function(r){this._events[r]={install:function(f){this.getView()._countItemEvent(f,1)},uninstall:function(f){this.getView()._countItemEvent(f,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function e(){},_initialize:function(e,r){var f=e&&v.isPlainObject(e),R=f&&e.internal===!0,M=this._matrix=new Y,O=f&&e.project||L.project,U=L.settings;if(this._id=R?null:x.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&U.applyMatrix,r)M.translate(r);if(M._owner=this,this._style=new fo(O._currentStyle,this,O),R||f&&e.insert==!1||!U.insertItems&&!(f&&e.insert==!0))this._setProject(O);else(f&&e.parent||O)._insertItem(_,this,!0);if(f&&e!==to.NO_INSERT&&e!==to.INSERT)this.set(e,{internal:!0,insert:!0,project:!0,parent:!0});return f},_serialize:function(e,r){var f={},R=this;function M(O){for(var U in O){var P=R[U];if(!v.equals(P,U==="leading"?O.fontSize*1.2:O[U]))f[U]=v.serialize(P,e,U!=="data",r)}}if(M(this._serializeFields),!(this instanceof Mo))M(this._style._defaults);return[this._class,f]},_changed:function(e){var r=this._symbol,f=this._parent||r,R=this._project;if(e&8)this._bounds=this._position=this._decomposed=_;if(e&16)this._globalMatrix=_;if(f&&e&72)to._clearBoundsCache(f);if(e&2)to._clearBoundsCache(this);if(R)R._changed(e,this);if(r)r._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name)this._removeNamed();if(e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._getOwner();if(e&&r){var{_children:f,_namedChildren:R}=r;if((R[e]=R[e]||[]).push(this),!(e in f))f[e]=this}this._name=e||_,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},v.each(["locked","visible","blendMode","opacity","guide"],function(e){var r=v.capitalize(e),f="_"+e,R={locked:256,visible:265};this["get"+r]=function(){return this[f]},this["set"+r]=function(M){if(M!=this[f])this[f]=M,this._changed(R[e]||257)}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var r=this._project;if(r)r._updateSelection(this),this._changed(257)}},_changeSelection:function(e,r){var f=this._selection;this.setSelection(r?f|e:f&~e)},isSelected:function(){if(this._selectChildren){var e=this._children;for(var r=0,f=e.length;r<f;r++)if(e[r].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren){var r=this._children;for(var f=0,R=r.length;f<R;f++)r[f].setSelected(e)}this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,r=!!(this._selection&1);if(e&&r){for(var f=0,R=e.length;f<R;f++)if(!e[f].isFullySelected())return!1;return!0}return r},setFullySelected:function(e){var r=this._children;if(r)for(var f=0,R=r.length;f<R;f++)r[f].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){if(this._clipMask!=(e=!!e)){if(this._clipMask=e,e)this.setFillColor(null),this.setStrokeColor(null);if(this._changed(257),this._parent)this._parent._changed(2048)}},getData:function(){if(!this._data)this._data={};return this._data},setData:function(e){this._data=e},getPosition:function(e){var r=e?q:F,f=this._position||(this._position=this._getPositionFromBounds());return new r(f.x,f.y,this,"setPosition")},setPosition:function(){this.translate(q.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new F(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=q.read(arguments,0,{clone:!0,readNull:!0}),this._position=_}},v.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,r){this[r]=function(f){return this.getBounds(f,e)}},{beans:!0,getBounds:function(e,r){var f=r||e instanceof Y,R=v.set({},f?r:e,this._boundsOptions);if(!R.stroke||this.getStrokeScaling())R.cacheItem=this;var M=this._getCachedBounds(f&&e,R).rect;return!arguments.length?new K(M.x,M.y,M.width,M.height,this,"setBounds"):M},setBounds:function(){var e=z.read(arguments),r=this.getBounds(),f=this._matrix,R=new Y,M=e.getCenter();if(R.translate(M),e.width!=r.width||e.height!=r.height){if(!f.isInvertible())f.set(f._backup||new Y().translate(f.getTranslation())),r=this.getBounds();R.scale(r.width!==0?e.width/r.width:0,r.height!==0?e.height/r.height:0)}M=r.getCenter(),R.translate(-M.x,-M.y),this.transform(R)},_getBounds:function(e,r){var f=this._children;if(!f||!f.length)return new z;return to._updateBoundsCache(this,r.cacheItem),to._getBounds(f,e,r)},_getBoundsCacheKey:function(e,r){return[e.stroke?1:0,e.handle?1:0,r?1:0].join("")},_getCachedBounds:function(e,r,f){e=e&&e._orNullIfIdentity();var R=r.internal&&!f,M=r.cacheItem,O=R?null:this._matrix._orNullIfIdentity(),U=M&&(!e||e.equals(O))&&this._getBoundsCacheKey(r,R),P=this._bounds;if(to._updateBoundsCache(this._parent||this._symbol,M),U&&P&&U in P){var j=P[U];return{rect:j.rect.clone(),nonscaling:j.nonscaling}}var J=this._getBounds(e||O,r),oo=J.rect||J,H=this._style,G=J.nonscaling||H.hasStroke()&&!H.getStrokeScaling();if(U){if(!P)this._bounds=P={};var j=P[U]={rect:oo.clone(),nonscaling:G,internal:R}}return{rect:oo,nonscaling:G}},_getStrokeMatrix:function(e,r){var f=this.getStrokeScaling()?null:r&&r.internal?this:this._parent||this._symbol&&this._symbol._item,R=f?f.getViewMatrix().invert():e;return R&&R._shiftless()},statics:{_updateBoundsCache:function(e,r){if(e&&r){var f=r._id,R=e._boundsCache=e._boundsCache||{ids:{},list:[]};if(!R.ids[f])R.list.push(r),R.ids[f]=r}},_clearBoundsCache:function(e){var r=e._boundsCache;if(r){e._bounds=e._position=e._boundsCache=_;for(var f=0,R=r.list,M=R.length;f<M;f++){var O=R[f];if(O!==e){if(O._bounds=O._position=_,O._boundsCache)to._clearBoundsCache(O)}}}},_getBounds:function(e,r,f){var R=1/0,M=-R,O=R,U=M,P=!1;f=f||{};for(var j=0,J=e.length;j<J;j++){var oo=e[j];if(oo._visible&&!oo.isEmpty(!0)){var H=oo._getCachedBounds(r&&r.appended(oo._matrix),f,!0),G=H.rect;if(R=Math.min(G.x,R),O=Math.min(G.y,O),M=Math.max(G.x+G.width,M),U=Math.max(G.y+G.height,U),H.nonscaling)P=!0}}return{rect:isFinite(R)?new z(R,O,M-R,U-O):new z,nonscaling:P}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var r=this.getRotation();if(r!=null&&e!=null){var f=this._decomposed;if(this.rotate(e-r),f)f.rotation=e,this._decomposed=f}},getScaling:function(){var e=this._decompose(),r=e&&e.scaling;return new F(r?r.x:1,r?r.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),r=q.read(arguments,0,{clone:!0,readNull:!0});if(e&&r&&!e.equals(r)){var f=this.getRotation(),R=this._decomposed,M=new Y,O=V.isZero;if(O(e.x)||O(e.y)){if(M.translate(R.translation),f)M.rotate(f);M.scale(r.x,r.y),this._matrix.set(M)}else{var U=this.getPosition(!0);if(M.translate(U),f)M.rotate(f);if(M.scale(r.x/e.x,r.y/e.y),f)M.rotate(-f);M.translate(U.negate()),this.transform(M)}if(R)R.scaling=r,this._decomposed=R}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var r=this._globalMatrix;if(r){var f=this._parent,R=[];while(f){if(!f._globalMatrix){r=null;for(var M=0,O=R.length;M<O;M++)R[M]._globalMatrix=null;break}R.push(f),f=f._parent}}if(!r){r=this._globalMatrix=this._matrix.clone();var f=this._parent;if(f)r.prepend(f.getGlobalMatrix(!0))}return e?r:r.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){if(this._applyMatrix=this._canApplyMatrix&&!!e)this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,r){if(this._project!==e){if(this._project)this._installEvents(!1);this._project=e;var f=this._children;for(var R=0,M=f&&f.length;R<M;R++)f[R]._setProject(e);r=!0}if(r)this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(r){e.base.call(this,r);var f=this._children;for(var R=0,M=f&&f.length;R<M;R++)f[R]._installEvents(r)},getLayer:function(){var e=this;while(e=e._parent)if(e instanceof uo)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return v.equals(this._children,e._children)},clone:function(e){var r=new this.constructor(to.NO_INSERT),f=this._children,R=v.pick(e?e.insert:_,e===_||e===!0),M=v.pick(e?e.deep:_,!0);if(f)r.copyAttributes(this);if(!f||M)r.copyContent(this);if(!f)r.copyAttributes(this);if(R)r.insertAbove(this);var O=this._name,U=this._parent;if(O&&U){var f=U._children,P=O,j=1;while(f[O])O=P+" "+j++;if(O!==P)r.setName(O)}return r},copyContent:function(e){var r=e._children;for(var f=0,R=r&&r.length;f<R;f++)this.addChild(r[f].clone(!1),!0)},copyAttributes:function(e,r){this.setStyle(e._style);var f=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"];for(var R=0,M=f.length;R<M;R++){var O=f[R];if(e.hasOwnProperty(O))this[O]=e[O]}if(!r)this._matrix.set(e._matrix,!0);this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var{_data:U,_name:P}=e;if(this._data=U?v.clone(U):null,P)this.setName(P)},rasterize:function(e,r){var f,R,M;if(v.isPlainObject(e))f=e.resolution,R=e.insert,M=e.raster;else f=e,R=r;if(!M)M=new o(to.NO_INSERT);var O=this.getStrokeBounds(),U=(f||this.getView().getResolution())/72,P=O.getTopLeft().floor(),j=O.getBottomRight().ceil(),J=new g(j.subtract(P)),oo=J.multiply(U);if(M.setSize(oo,!0),!oo.isZero()){var H=M.getContext(!0),G=new Y().scale(U).translate(P.negate());H.save(),G.applyToContext(H),this.draw(H,new v({matrices:[G]})),H.restore()}if(M._matrix.set(new Y().translate(P.add(J.divide(2))).scale(1/U)),R===_||R)M.insertAbove(this);return M},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(q.read(arguments)))},_contains:function(e){var r=this._children;if(r){for(var f=r.length-1;f>=0;f--)if(r[f].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return z.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new b.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,r){if(!(e instanceof to))return!1;return this._asPathItem().getIntersections(e._asPathItem(),null,r,!0).length>0}},new function(){function e(){var R=arguments;return this._hitTest(q.read(R),l.getOptions(R))}function r(){var R=arguments,M=q.read(R),O=l.getOptions(R),U=[];return this._hitTest(M,new v({all:U},O)),U}function f(R,M,O,U){var P=this._children;if(P)for(var j=P.length-1;j>=0;j--){var J=P[j],oo=J!==U&&J._hitTest(R,M,O);if(oo&&!M.all)return oo}return null}return mo.inject({hitTest:e,hitTestAll:r,_hitTest:f}),{hitTest:e,hitTestAll:r,_hitTestChildren:f}},{_hitTest:function(e,r,f){if(this._locked||!this._visible||this._guide&&!r.guides||this.isEmpty())return null;var R=this._matrix,M=f?f.appended(R):this.getGlobalMatrix().prepend(this.getView()._matrix),O=Math.max(r.tolerance,0.000000000001),U=r._tolerancePadding=new g(b._getStrokePadding(O,R._shiftless().invert()));if(e=R._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(U.multiply(2))._containsPoint(e))return null;var P=!(r.guides&&!this._guide||r.selected&&!this.isSelected()||r.type&&r.type!==v.hyphenate(this._class)||r.class&&!(this instanceof r.class)),j=r.match,J=this,oo,H;function G(so){if(so&&j&&!j(so))so=null;if(so&&r.all)r.all.push(so);return so}function no(so,B){var lo=B?oo["get"+B]():J.getPosition();if(e.subtract(lo).divide(U).length<=1)return new l(so,J,{name:B?v.hyphenate(B):so,point:lo})}var{position:Q,center:ro,bounds:Zo}=r;if(P&&this._parent&&(Q||ro||Zo)){if(ro||Zo)oo=this.getInternalBounds();if(H=Q&&no("position")||ro&&no("center","Center"),!H&&Zo){var A=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"];for(var eo=0;eo<8&&!H;eo++)H=no("bounds",A[eo])}H=G(H)}if(!H)H=this._hitTestChildren(e,r,M)||P&&G(this._hitTestSelf(e,r,M,this.getStrokeScaling()?null:M._shiftless().invert()))||null;if(H&&H.point)H.point=R.transform(H.point);return H},_hitTestSelf:function(e,r){if(r.fill&&this.hasFill()&&this._contains(e))return new l("fill",this)},matches:function(e,r){function f(U,P){for(var j in U)if(U.hasOwnProperty(j)){var J=U[j],oo=P[j];if(v.isPlainObject(J)&&v.isPlainObject(oo)){if(!f(J,oo))return!1}else if(!v.equals(J,oo))return!1}return!0}var R=typeof e;if(R==="object"){for(var M in e)if(e.hasOwnProperty(M)&&!this.matches(M,e[M]))return!1;return!0}else if(R==="function")return e(this);else if(e==="match")return r(this);else{var O=/^(empty|editable)$/.test(e)?this["is"+v.capitalize(e)]():e==="type"?v.hyphenate(this._class):this[e];if(e==="class"){if(typeof r==="function")return this instanceof r;O=this._class}if(typeof r==="function")return!!r(O);else if(r){if(r.test)return r.test(O);else if(v.isPlainObject(r))return f(r,O)}return v.equals(O,r)}},getItems:function(e){return to._getItems(this,e,this._matrix)},getItem:function(e){return to._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(r,f,R,M,O){if(!M){var U=typeof f==="object"&&f,P=U&&U.overlapping,j=U&&U.inside,J=P||j,G=J&&z.read([J]);if(M={items:[],recursive:U&&U.recursive!==!1,inside:!!j,overlapping:!!P,rect:G,path:P&&new b.Rectangle({rectangle:G,insert:!1})},U)f=v.filter({},f,{recursive:!0,inside:!0,overlapping:!0})}var oo=r._children,H=M.items,G=M.rect;R=G&&(R||new Y);for(var no=0,Q=oo&&oo.length;no<Q;no++){var ro=oo[no],Zo=R&&R.appended(ro._matrix),A=!0;if(G){var J=ro.getBounds(Zo);if(!G.intersects(J))continue;if(!(G.contains(J)||M.overlapping&&(J.contains(G)||M.path.intersects(ro,Zo))))A=!1}if(A&&ro.matches(f)){if(H.push(ro),O)break}if(M.recursive!==!1)e(ro,f,Zo,M,O);if(O&&H.length>0)break}return H}}},{importJSON:function(e){var r=v.importJSON(e,this);return r!==this?this.addChild(r):r},addChild:function(e){return this.insertChild(_,e)},insertChild:function(e,r){var f=r?this.insertChildren(e,[r]):null;return f&&f[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,r){var f=this._children;if(f&&r&&r.length>0){r=v.slice(r);var R={};for(var M=r.length-1;M>=0;M--){var O=r[M],U=O&&O._id;if(!O||R[U])r.splice(M,1);else O._remove(!1,!0),R[U]=!0}v.splice(f,r,e,0);var P=this._project,j=P._changes;for(var M=0,J=r.length;M<J;M++){var O=r[M],oo=O._name;if(O._parent=this,O._setProject(P,!0),oo)O.setName(oo);if(j)O._changed(5)}this._changed(11)}else r=null;return r},_insertItem:"#insertChild",_insertAt:function(e,r){var f=e&&e._getOwner(),R=e!==this&&f?this:null;if(R)R._remove(!1,!0),f._insertItem(e._index+r,R);return R},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(_,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(_,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var r=this._children;if(r&&r.length===1){var f=r[0].reduce(e);if(this._parent)f.insertAbove(this),this.remove();else f.remove();return f}return this},_removeNamed:function(){var e=this._getOwner();if(e){var{_children:r,_namedChildren:f}=e,R=this._name,M=f[R],O=M?M.indexOf(this):-1;if(O!==-1){if(r[R]==this)delete r[R];if(M.splice(O,1),M.length)r[R]=M[0];else delete f[R]}}},_remove:function(e,r){var f=this._getOwner(),R=this._project,M=this._index;if(this._style)this._style._dispose();if(f){if(this._name)this._removeNamed();if(M!=null){if(R._activeLayer===this)R._activeLayer=this.getNextSibling()||this.getPreviousSibling();v.splice(f._children,null,M,1)}if(this._installEvents(!1),e&&R._changes)this._changed(5);if(r)f._changed(11,this);return this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var r=e&&e.insertBelow(this);if(r)this.remove();return r},removeChildren:function(e,r){if(!this._children)return null;e=e||0,r=v.pick(r,this._children.length);var f=v.splice(this._children,null,e,r-e);for(var R=f.length-1;R>=0;R--)f[R]._remove(!0,!1);if(f.length>0)this._changed(11);return f},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,r=this._children.length;e<r;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var r=this._children,f=r?r.length:0;if(e){for(var R=0;R<f;R++)if(!r[R].isEmpty(e))return!1;return!0}return!f},isEditable:function(){var e=this;while(e){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function r(U){var P=[];do P.unshift(U);while(U=U._parent);return P}var f=r(this),R=r(e);for(var M=0,O=Math.min(f.length,R.length);M<O;M++)if(f[M]!=R[M])return f[M]._index<R[M]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){var r=this;while(r=r._parent)if(r===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){var r=this._parent;while(r){if(r._parent&&/^(Group|Layer|CompoundPath)$/.test(r._class)&&e.isDescendant(r))return!0;r=r._parent}return!1}},v.each(["rotate","scale","shear","skew"],function(e){var r=e==="rotate";this[e]=function(){var f=arguments,R=(r?v:q).read(f),M=q.read(f,0,{readNull:!0});return this.transform(new Y()[e](R,M||this.getPosition(!0)))}},{translate:function(){var e=new Y;return this.transform(e.translate.apply(e,arguments))},transform:function(e,r,f){var R=this._matrix,M=e&&!e.isIdentity(),O=f&&this._canApplyMatrix||this._applyMatrix&&(M||!R.isIdentity()||r&&this._children);if(!M&&!O)return this;if(M){if(!e.isInvertible()&&R.isInvertible())R._backup=R.getValues();R.prepend(e,!0);var U=this._style,P=U.getFillColor(!0),j=U.getStrokeColor(!0);if(P)P.transform(e);if(j)j.transform(e)}if(O&&(O=this._transformContent(R,r,f))){var J=this._pivot;if(J)R._transformPoint(J,J,!0);if(R.reset(!0),f&&this._canApplyMatrix)this._applyMatrix=!0}var oo=this._bounds,H=this._position;if(M||O)this._changed(25);var G=M&&oo&&e.decompose();if(G&&G.skewing.isZero()&&G.rotation%90===0){for(var no in oo){var Q=oo[no];if(Q.nonscaling)delete oo[no];else if(O||!Q.internal){var ro=Q.rect;e._transformBounds(ro,ro)}}this._bounds=oo;var Zo=oo[this._getBoundsCacheKey(this._boundsOptions||{})];if(Zo)this._position=this._getPositionFromBounds(Zo.rect)}else if(M&&H&&this._pivot)this._position=e._transformPoint(H,H);return this},_transformContent:function(e,r,f){var R=this._children;if(R){for(var M=0,O=R.length;M<O;M++)R[M].transform(e,r,f);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(q.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(q.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(q.read(arguments))},localToParent:function(){return this._matrix._transformPoint(q.read(arguments))},fitBounds:function(e,r){e=z.read(arguments);var f=this.getBounds(),R=f.height/f.width,M=e.height/e.width,O=(r?R>M:R<M)?e.width/f.width:e.height/f.height,U=new z(new q,new g(f.width*O,f.height*O));U.setCenter(e.getCenter()),this.setBounds(U)}}),{_setStyles:function(e,r,f){var R=this._style,M=this._matrix;if(R.hasFill())e.fillStyle=R.getFillColor().toCanvasStyle(e,M);if(R.hasStroke()){e.strokeStyle=R.getStrokeColor().toCanvasStyle(e,M),e.lineWidth=R.getStrokeWidth();var O=R.getStrokeJoin(),U=R.getStrokeCap(),P=R.getMiterLimit();if(O)e.lineJoin=O;if(U)e.lineCap=U;if(P)e.miterLimit=P;if(L.support.nativeDash){var j=R.getDashArray(),J=R.getDashOffset();if(j&&j.length)if("setLineDash"in e)e.setLineDash(j),e.lineDashOffset=J;else e.mozDash=j,e.mozDashOffset=J}}if(R.hasShadow()){var oo=r.pixelRatio||1,H=f._shiftless().prepend(new Y().scale(oo,oo)),G=H.transform(new q(R.getShadowBlur(),0)),no=H.transform(this.getShadowOffset());e.shadowColor=R.getShadowColor().toCanvasStyle(e),e.shadowBlur=G.getLength(),e.shadowOffsetX=no.x,e.shadowOffsetY=no.y}},draw:function(e,r,f){var R=this._updateVersion=this._project._updateVersion;if(!this._visible||this._opacity===0)return;var{matrices:M,viewMatrix:O}=r,U=this._matrix,P=M[M.length-1].appended(U);if(!P.isInvertible())return;if(O=O?O.appended(P):P,M.push(P),r.updateMatrix)this._globalMatrix=P;var j=this._blendMode,J=V.clamp(this._opacity,0,1),oo=j==="normal",H=Ko.nativeModes[j],G=oo&&J===1||r.dontStart||r.clip||(H||oo&&J<1)&&this._canComposite(),no=r.pixelRatio||1,Q,ro,Zo;if(!G){var A=this.getStrokeBounds(O);if(!A.width||!A.height){M.pop();return}if(Zo=r.offset,ro=r.offset=A.getTopLeft().floor(),Q=e,e=Ao.getContext(A.getSize().ceil().add(1).multiply(no)),no!==1)e.scale(no,no)}e.save();var eo=f?f.appended(U):this._canScaleStroke&&!this.getStrokeScaling(!0)&&O,so=!G&&r.clipItem,B=!eo||so;if(G){if(e.globalAlpha=J,H)e.globalCompositeOperation=j}else if(B)e.translate(-ro.x,-ro.y);if(B)(G?U:O).applyToContext(e);if(so)r.clipItem.draw(e,r.extend({clip:!0}));if(eo){e.setTransform(no,0,0,no,0,0);var lo=r.offset;if(lo)e.translate(-lo.x,-lo.y)}if(this._draw(e,r,O,eo),e.restore(),M.pop(),r.clip&&!r.dontFinish)e.clip(this.getFillRule());if(!G)Ko.process(j,e,Q,J,ro.subtract(Zo).multiply(no)),Ao.release(e),r.offset=Zo},_isUpdated:function(e){var r=this._parent;if(r instanceof S)return r._isUpdated(e);var f=this._updateVersion===e;if(!f&&r&&r._visible&&r._isUpdated(e))this._updateVersion=e,f=!0;return f},_drawSelection:function(e,r,f,R,M){var O=this._selection,U=O&1,P=O&2||U&&this._selectBounds,j=O&4;if(!this._drawSelected)U=!1;if((U||P||j)&&this._isUpdated(M)){var J,oo=this.getSelectedColor(!0)||(J=this.getLayer())&&J.getSelectedColor(!0),H=r.appended(this.getGlobalMatrix(!0)),G=f/2;if(e.strokeStyle=e.fillStyle=oo?oo.toCanvasStyle(e):"#009dec",U)this._drawSelected(e,H,R);if(j){var no=this.getPosition(!0),Q=this._parent,ro=Q?Q.localToGlobal(no):no,Zo=ro.x,A=ro.y;e.beginPath(),e.arc(Zo,A,G,0,Math.PI*2,!0),e.stroke();var eo=[[0,-1],[1,0],[0,1],[-1,0]],so=G,B=f+1;for(var lo=0;lo<4;lo++){var Ro=eo[lo],po=Ro[0],_o=Ro[1];e.moveTo(Zo+po*so,A+_o*so),e.lineTo(Zo+po*B,A+_o*B),e.stroke()}}if(P){var Fo=H._transformCorners(this.getInternalBounds());e.beginPath();for(var lo=0;lo<8;lo++)e[!lo?"moveTo":"lineTo"](Fo[lo],Fo[++lo]);e.closePath(),e.stroke();for(var lo=0;lo<8;lo++)e.fillRect(Fo[lo]-G,Fo[++lo]-G,f,f)}}},_canComposite:function(){return!1}},v.each(["down","drag","up","move"],function(e){this["removeOn"+v.capitalize(e)]=function(){var r={};return r[e]=!0,this.removeOn(r)}},{removeOn:function(e){for(var r in e)if(e[r]){var f="mouse"+r,R=this._project,M=R._removeSets=R._removeSets||{};M[f]=M[f]||{},M[f][this._id]=this}return this}}),{tween:function(e,r,f){if(!f){if(f=r,r=e,e=null,!f)f=r,r=null}var R=f&&f.easing,M=f&&f.start,O=f!=null&&(typeof f==="number"?f:f.duration),U=new Uo(this,e,r,O,R,M);function P(j){if(U._handleFrame(j.time*1000),!U.running)this.off("frame",P)}if(O)this.on("frame",P);return U},tweenTo:function(e,r){return this.tween(null,e,r)},tweenFrom:function(e,r){return this.tween(e,null,r)}}),Mo=to.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function e(r){if(this._children=[],this._namedChildren={},!this._initialize(r))this.addChildren(Array.isArray(r)?r:arguments)},_changed:function e(r){if(e.base.call(this,r),r&2050)this._clipItem=_},_getClipItem:function(){var e=this._clipItem;if(e===_){e=null;var r=this._children;for(var f=0,R=r.length;f<R;f++)if(r[f]._clipMask){e=r[f];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var r=this.getFirstChild();if(r)r.setClipMask(e)},_getBounds:function e(r,f){var R=this._getClipItem();return R?R._getCachedBounds(R._matrix.prepended(r),v.set({},f,{stroke:!1})):e.base.call(this,r,f)},_hitTestChildren:function e(r,f,R){var M=this._getClipItem();return(!M||M.contains(r))&&e.base.call(this,r,f,R,M)},_draw:function(e,r){var f=r.clip,R=!f&&this._getClipItem();if(r=r.extend({clipItem:R,clip:!1}),f)e.beginPath(),r.dontStart=r.dontFinish=!0;else if(R)R.draw(e,r.extend({clip:!0}));var M=this._children;for(var O=0,U=M.length;O<U;O++){var P=M[O];if(P!==R)P.draw(e,r)}}}),uo=Mo.extend({_class:"Layer",initialize:function e(){Mo.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Vo=to.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function e(r,f){this._initialize(r,f)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&v.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new E(e.width,e.height,this,"setSize")},setSize:function(){var e=g.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var r=this._type,f=e.width,R=e.height;if(r==="rectangle")this._radius.set(g.min(this._radius,e.divide(2).abs()));else if(r==="circle")f=R=(f+R)/2,this._radius=f/2;else if(r==="ellipse")this._radius._set(f/2,R/2);this._size._set(f,R),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new E(e.width,e.height,this,"setRadius")},setRadius:function(e){var r=this._type;if(r==="circle"){if(e===this._radius)return;var f=e*2;this._radius=e,this._size._set(f,f)}else if(e=g.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),r==="rectangle"){var f=g.max(this._size,e.multiply(2));this._size.set(f)}else if(r==="ellipse")this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var r=new b[v.capitalize(this._type)]({center:new q,size:this._size,radius:this._radius,insert:!1});if(r.copyAttributes(this),L.settings.applyMatrix)r.setApplyMatrix(!0);if(e===_||e)r.insertAbove(this);return r},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,r,f,R){var M=this._style,O=M.hasFill(),U=M.hasStroke(),P=r.dontFinish||r.clip,j=!R;if(O||U||P){var J=this._type,oo=this._radius,H=J==="circle";if(!r.dontStart)e.beginPath();if(j&&H)e.arc(0,0,oo,0,Math.PI*2,!0);else{var G=H?oo:oo.width,no=H?oo:oo.height,Q=this._size,ro=Q.width,Zo=Q.height;if(j&&J==="rectangle"&&G===0&&no===0)e.rect(-ro/2,-Zo/2,ro,Zo);else{var A=ro/2,eo=Zo/2,so=0.44771525016920644,B=G*so,lo=no*so,Ro=[-A,-eo+no,-A,-eo+lo,-A+B,-eo,-A+G,-eo,A-G,-eo,A-B,-eo,A,-eo+lo,A,-eo+no,A,eo-no,A,eo-lo,A-B,eo,A-G,eo,-A+G,eo,-A+B,eo,-A,eo-lo,-A,eo-no];if(R)R.transform(Ro,Ro,32);if(e.moveTo(Ro[0],Ro[1]),e.bezierCurveTo(Ro[2],Ro[3],Ro[4],Ro[5],Ro[6],Ro[7]),A!==G)e.lineTo(Ro[8],Ro[9]);if(e.bezierCurveTo(Ro[10],Ro[11],Ro[12],Ro[13],Ro[14],Ro[15]),eo!==no)e.lineTo(Ro[16],Ro[17]);if(e.bezierCurveTo(Ro[18],Ro[19],Ro[20],Ro[21],Ro[22],Ro[23]),A!==G)e.lineTo(Ro[24],Ro[25]);e.bezierCurveTo(Ro[26],Ro[27],Ro[28],Ro[29],Ro[30],Ro[31])}}e.closePath()}if(!P&&(O||U)){if(this._setStyles(e,r,f),O)e.fill(M.getFillRule()),e.shadowColor="rgba(0,0,0,0)";if(U)e.stroke()}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,r){var f=new z(this._size).setCenter(0,0),R=this._style,M=r.stroke&&R.hasStroke()&&R.getStrokeWidth();if(e)f=e._transformBounds(f);return M?f.expand(b._getStrokePadding(M,this._getStrokeMatrix(e,r))):f}},new function(){function e(f,R,M){var O=f._radius;if(!O.isZero()){var U=f._size.divide(2);for(var P=1;P<=4;P++){var j=new q(P>1&&P<4?-1:1,P>2?-1:1),J=j.multiply(U),oo=J.subtract(j.multiply(O)),H=new z(M?J.add(j.multiply(M)):J,oo);if(H.contains(R))return{point:oo,quadrant:P}}}}function r(f,R,M,O){var U=f.divide(R);return(!O||U.isInQuadrant(O))&&U.subtract(U.normalize()).multiply(R).divide(M).length<=1}return{_contains:function f(R){if(this._type==="rectangle"){var M=e(this,R);return M?R.subtract(M.point).divide(this._radius).getLength()<=1:f.base.call(this,R)}else return R.divide(this.size).getLength()<=0.5},_hitTestSelf:function f(R,M,O,U){var P=!1,j=this._style,J=M.stroke&&j.hasStroke(),oo=M.fill&&j.hasFill();if(J||oo){var H=this._type,G=this._radius,no=J?j.getStrokeWidth()/2:0,Q=M._tolerancePadding.add(b._getStrokePadding(no,!j.getStrokeScaling()&&U));if(H==="rectangle"){var ro=Q.multiply(2),Zo=e(this,R,ro);if(Zo)P=r(R.subtract(Zo.point),G,Q,Zo.quadrant);else{var A=new z(this._size).setCenter(0,0),eo=A.expand(ro),so=A.expand(ro.negate());P=eo._containsPoint(R)&&!so._containsPoint(R)}}else P=r(R,G,Q)}return P?new l(J?"stroke":"fill",this):f.base.apply(this,arguments)}}},{statics:new function(){function e(r,f,R,M,O){var U=v.create(Vo.prototype);return U._type=r,U._size=R,U._radius=M,U._initialize(v.getNamed(O),f),U}return{Circle:function(){var r=arguments,f=q.readNamed(r,"center"),R=v.readNamed(r,"radius");return e("circle",f,new g(R*2),R,r)},Rectangle:function(){var r=arguments,f=z.readNamed(r,"rectangle"),R=g.min(g.readNamed(r,"radius"),f.getSize(!0).divide(2));return e("rectangle",f.getCenter(!0),f.getSize(!0),R,r)},Ellipse:function(){var r=arguments,f=Vo._readEllipse(r),R=f.radius;return e("ellipse",f.center,R.multiply(2),R,r)},_readEllipse:function(r){var f,R;if(v.hasNamed(r,"radius"))f=q.readNamed(r,"center"),R=g.readNamed(r,"radius");else{var M=z.readNamed(r,"rectangle");f=M.getCenter(!0),R=M.getSize(!0).divide(2)}return{center:f,radius:R}}}}}),o=to.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function e(r,f){if(!this._initialize(r,f!==_&&q.read(arguments))){var R,M=typeof r,O=M==="string"?u.getElementById(r):M==="object"?r:null;if(O&&O!==to.NO_INSERT){if(O.getContext||O.naturalHeight!=null)R=O;else if(O){var U=g.read(arguments);if(!U.isZero())R=Ao.getCanvas(U)}}if(R)this.setImage(R);else this.setSource(r)}if(!this._size)this._size=new g,this._loaded=!1},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var{_image:r,_canvas:f}=e;if(r)this._setImage(r);else if(f){var R=Ao.getCanvas(e._size);R.getContext("2d").drawImage(f,0,0),this._setImage(R)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new E(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,r){var f=g.read(arguments);if(!f.equals(this._size))if(f.width>0&&f.height>0){var R=!r&&this.getElement();if(this._setImage(Ao.getCanvas(f)),R)this.getContext(!0).drawImage(R,0,0,f.width,f.height)}else{if(this._canvas)Ao.release(this._canvas);this._size=f.clone()}else if(r)this.clear()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,r=new q(0,0).transform(e),f=new q(1,0).transform(e).subtract(r),R=new q(0,1).transform(e).subtract(r);return new g(72/f.getLength(),72/R.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var r=this;function f(R){var M=r.getView(),O=R&&R.type||"load";if(M&&r.responds(O))L=M._scope,r.emit(O,new X(R))}if(this._setImage(e),this._loaded)setTimeout(f,0);else if(e)$o.add(e,{load:function(R){r._setImage(e),f(R)},error:f})},_setImage:function(e){if(this._canvas)Ao.release(this._canvas);if(e&&e.getContext)this._image=null,this._canvas=e,this._loaded=!0;else this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete);this._size=new g(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=Ao.getContext(this._size);try{if(this._image)e.drawImage(this._image,0,0);this._canvas=e.canvas}catch(r){Ao.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){if(!this._context)this._context=this.getCanvas().getContext("2d");if(e)this._image=null,this._changed(1025);return this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var r=new h.Image,f=this._crossOrigin;if(f)r.crossOrigin=f;if(e)r.src=e;this.setImage(r)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var r=this._image;if(r)r.crossOrigin=e},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e==="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=z.read(arguments),r=Ao.getContext(e.getSize());return r.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),r.canvas},getSubRaster:function(){var e=z.read(arguments),r=new o(to.NO_INSERT);return r._setImage(this.getSubCanvas(e)),r.translate(e.getCenter().subtract(this.getSize().divide(2))),r._matrix.prepend(this._matrix),r.insertAbove(this),r},toDataURL:function(){var e=this._image,r=e&&e.src;if(/^data:/.test(r))return r;var f=this.getCanvas();return f?f.toDataURL.apply(f,arguments):null},drawImage:function(e){var r=q.read(arguments,1);this.getContext(!0).drawImage(e,r.x,r.y)},getAverageColor:function(e){var r,f;if(!e)r=this.getBounds();else if(e instanceof a)f=e,r=e.getBounds();else if(typeof e==="object"){if("width"in e)r=new z(e);else if("x"in e)r=new z(e.x-0.5,e.y-0.5,1,1)}if(!r)return null;var R=32,M=Math.min(r.width,R),O=Math.min(r.height,R),U=o._sampleContext;if(!U)U=o._sampleContext=Ao.getContext(new g(R));else U.clearRect(0,0,R+1,R+1);U.save();var P=new Y().scale(M/r.width,O/r.height).translate(-r.x,-r.y);if(P.applyToContext(U),f)f.draw(U,new v({clip:!0,matrices:[P]}));this._matrix.applyToContext(U);var j=this.getElement(),J=this._size;if(j)U.drawImage(j,-J.width/2,-J.height/2);U.restore();var oo=U.getImageData(0.5,0.5,Math.ceil(M),Math.ceil(O)).data,H=[0,0,0],G=0;for(var no=0,Q=oo.length;no<Q;no+=4){var ro=oo[no+3];G+=ro,ro/=255,H[0]+=oo[no]*ro,H[1]+=oo[no+1]*ro,H[2]+=oo[no+2]*ro}for(var no=0;no<3;no++)H[no]/=G;return G?xo.read(H):null},getPixel:function(){var e=q.read(arguments),r=this.getContext().getImageData(e.x,e.y,1,1).data;return new xo("rgb",[r[0]/255,r[1]/255,r[2]/255],r[3]/255)},setPixel:function(){var e=arguments,r=q.read(e),f=xo.read(e),R=f._convert("rgb"),M=f._alpha,O=this.getContext(!0),U=O.createImageData(1,1),P=U.data;P[0]=R[0]*255,P[1]=R[1]*255,P[2]=R[2]*255,P[3]=M!=null?M*255:255,O.putImageData(U,r.x,r.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=g.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=z.read(arguments);if(e.isEmpty())e=new z(this._size);return this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var r=q.read(arguments,1);this.getContext(!0).putImageData(e,r.x,r.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,r){var f=new z(this._size).setCenter(0,0);return e?e._transformBounds(f):f},_hitTestSelf:function(e){if(this._contains(e)){var r=this;return new l("pixel",r,{offset:e.add(r._size.divide(2)).round(),color:{get:function(){return r.getPixel(this.offset)}}})}},_draw:function(e,r,f){var R=this.getElement();if(R&&R.width>0&&R.height>0){e.globalAlpha=V.clamp(this._opacity,0,1),this._setStyles(e,r,f);var M=this._smoothing,O=M==="off";Xo.setPrefixed(e,O?"imageSmoothingEnabled":"imageSmoothingQuality",O?!1:M),e.drawImage(R,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),n=to.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function e(r,f){if(!this._initialize(r,f!==_&&q.read(arguments,1)))this.setDefinition(r instanceof c?r:new c(r))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,r){var f=this._definition._item;return f._getCachedBounds(f._matrix.prepended(e),r)},_hitTestSelf:function(e,r,f){var R=r.extend({all:!1}),M=this._definition._item._hitTest(e,R,f);if(M)M.item=this;return M},_draw:function(e,r){this._definition._item.draw(e,r)}}),c=v.extend({_class:"SymbolDefinition",initialize:function e(r,f){if(this._id=x.get(),this.project=L.project,r)this.setItem(r,f)},_serialize:function(e,r){return r.add(this,function(){return v.serialize([this._class,this._item],e,!1,r)})},_changed:function(e){if(e&8)to._clearBoundsCache(this);if(e&1)this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,r){if(e._symbol)e=e.clone();if(this._item)this._item._symbol=null;if(this._item=e,e.remove(),e.setSelected(!1),!r)e.setPosition(new q);e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new n(this,e)},clone:function(){return new c(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),l=v.extend({_class:"HitResult",initialize:function e(r,f,R){if(this.type=r,this.item=f,R)this.inject(R)},statics:{getOptions:function(e){var r=e&&v.read(e);return new v({type:null,tolerance:L.settings.hitTolerance,fill:!r,stroke:!r,segments:!r,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},r)}}}),m=v.extend({_class:"Segment",beans:!0,_selection:0,initialize:function e(r,f,R,M,O,U){var P=arguments.length,j,J,oo,H;if(P>0)if(r==null||typeof r==="object")if(P===1&&r&&"point"in r)j=r.point,J=r.handleIn,oo=r.handleOut,H=r.selection;else j=r,J=f,oo=R,H=M;else j=[r,f],J=R!==_?[R,M]:null,oo=O!==_?[O,U]:null;if(new t(j,this,"_point"),new t(J,this,"_handleIn"),new t(oo,this,"_handleOut"),H)this.setSelection(H)},_serialize:function(e,r){var f=this._point,R=this._selection,M=R||this.hasHandles()?[f,this._handleIn,this._handleOut]:f;if(R)M.push(R);return v.serialize(M,e,!0,r)},_changed:function(e){var r=this._path;if(!r)return;var f=r._curves,R=this._index,M;if(f){if((!e||e===this._point||e===this._handleIn)&&(M=R>0?f[R-1]:r._closed?f[f.length-1]:null))M._changed();if((!e||e===this._point||e===this._handleOut)&&(M=f[R]))M._changed()}r._changed(41)},getPoint:function(){return this._point},setPoint:function(){this._point.set(q.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(q.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(q.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,r=this._handleOut;return!e.isZero()&&!r.isZero()&&e.isCollinear(r)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var r=this._selection,f=this._path;if(this._selection=e=e||0,f&&e!==r)f._updateSelection(this,r,e),f._changed(257)},_changeSelection:function(e,r){var f=this._selection;this.setSelection(r?f|e:f&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==_?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,r=this._index;if(e){if(r>0&&!e._closed&&r===e._segments.length-1)r--;return e.getCurves()[r]||null}return null},getLocation:function(){var e=this.getCurve();return e?new p(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,r,f){var R=e||{},M=R.type,O=R.factor,U=this.getPrevious(),P=this.getNext(),j=(U||this)._point,J=this._point,oo=(P||this)._point,H=j.getDistance(J),G=J.getDistance(oo);if(!M||M==="catmull-rom"){var no=O===_?0.5:O,Q=Math.pow(H,no),ro=Q*Q,Zo=Math.pow(G,no),A=Zo*Zo;if(!r&&U){var eo=2*A+3*Zo*Q+ro,so=3*Zo*(Zo+Q);this.setHandleIn(so!==0?new q((A*j._x+eo*J._x-ro*oo._x)/so-J._x,(A*j._y+eo*J._y-ro*oo._y)/so-J._y):new q)}if(!f&&P){var eo=2*ro+3*Q*Zo+A,so=3*Q*(Q+Zo);this.setHandleOut(so!==0?new q((ro*oo._x+eo*J._x-A*j._x)/so-J._x,(ro*oo._y+eo*J._y-A*j._y)/so-J._y):new q)}}else if(M==="geometric"){if(U&&P){var B=j.subtract(oo),lo=O===_?0.4:O,Ro=lo*H/(H+G);if(!r)this.setHandleIn(B.multiply(Ro));if(!f)this.setHandleOut(B.multiply(Ro-lo))}}else throw new Error("Smoothing method \'"+M+"\' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,r=this._handleOut,f=e.clone();e.set(r),r.set(f)},reversed:function(){return new m(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new m(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];if(!this._handleIn.isZero())e.push("handleIn: "+this._handleIn);if(!this._handleOut.isZero())e.push("handleOut: "+this._handleOut);return"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,r,f){var R=1-f,M=f,O=e._point,U=r._point,P=e._handleIn,j=r._handleIn,J=r._handleOut,oo=e._handleOut;this._point._set(R*O._x+M*U._x,R*O._y+M*U._y,!0),this._handleIn._set(R*P._x+M*j._x,R*P._y+M*j._y,!0),this._handleOut._set(R*oo._x+M*J._x,R*oo._y+M*J._y,!0),this._changed()},_transformCoordinates:function(e,r,f){var R=this._point,M=!f||!this._handleIn.isZero()?this._handleIn:null,O=!f||!this._handleOut.isZero()?this._handleOut:null,U=R._x,P=R._y,j=2;if(r[0]=U,r[1]=P,M)r[j++]=M._x+U,r[j++]=M._y+P;if(O)r[j++]=O._x+U,r[j++]=O._y+P;if(e)if(e._transformCoordinates(r,r,j/2),U=r[0],P=r[1],f){if(R._x=U,R._y=P,j=2,M)M._x=r[j++]-U,M._y=r[j++]-P;if(O)O._x=r[j++]-U,O._y=r[j++]-P}else{if(!M)r[j++]=U,r[j++]=P;if(!O)r[j++]=U,r[j++]=P}return r}}),t=q.extend({initialize:function e(r,f,R){var M,O,U;if(!r)M=O=0;else if((M=r[0])!==_)O=r[1];else{var P=r;if((M=P.x)===_)P=q.read(arguments),M=P.x;O=P.y,U=P.selected}if(this._x=M,this._y=O,this._owner=f,f[R]=this,U)this.setSelected(!0)},_set:function(e,r){return this._x=e,this._y=r,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=V.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),N=v.extend({_class:"Curve",beans:!0,initialize:function e(r,f,R,M,O,U,P,j){var J=arguments.length,oo,H,G,no,Q,ro;if(J===3)this._path=r,oo=f,H=R;else if(!J)oo=new m,H=new m;else if(J===1){if("segment1"in r)oo=new m(r.segment1),H=new m(r.segment2);else if("point1"in r)G=r.point1,Q=r.handle1,ro=r.handle2,no=r.point2;else if(Array.isArray(r))G=[r[0],r[1]],no=[r[6],r[7]],Q=[r[2]-r[0],r[3]-r[1]],ro=[r[4]-r[6],r[5]-r[7]]}else if(J===2)oo=new m(r),H=new m(f);else if(J===4)G=r,Q=f,ro=R,no=M;else if(J===8)G=[r,f],no=[P,j],Q=[R-r,M-f],ro=[O-P,U-j];this._segment1=oo||new m(G,null,Q),this._segment2=H||new m(no,ro,null)},_serialize:function(e,r){return v.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,r)},_changed:function(){this._length=this._bounds=_},clone:function(){return new N(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];if(!this._segment1._handleOut.isZero())e.push("handle1: "+this._segment1._handleOut);if(!this._segment2._handleIn.isZero())e.push("handle2: "+this._segment2._handleIn);return e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return N.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var r=this._segment2,f=r._handleOut;if(e=r.remove(),e)this._segment1._handleOut.set(f)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(q.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(q.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(q.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(q.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return N.getValues(this._segment1,this._segment2,e)},getPoints:function(){var e=this.getValues(),r=[];for(var f=0;f<8;f+=2)r.push(new q(e[f],e[f+1]));return r}},{getLength:function(){if(this._length==null)this._length=N.getLength(this.getValues(),0,1);return this._length},getArea:function(){return N.getArea(this.getValues())},getLine:function(){return new C(this._segment1._point,this._segment2._point)},getPart:function(e,r){return new N(N.getPart(this.getValues(),e,r))},getPartLength:function(e,r){return N.getLength(this.getValues(),e,r)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,r){var f=0.00000001,R=1-f,M=null;if(e>=f&&e<=R){var O=N.subdivide(this.getValues(),e),U=O[0],P=O[1],j=r||this.hasHandles(),J=this._segment1,oo=this._segment2,H=this._path;if(j)J._handleOut._set(U[2]-U[0],U[3]-U[1]),oo._handleIn._set(P[4]-P[6],P[5]-P[7]);var G=U[6],no=U[7],Q=new m(new q(G,no),j&&new q(U[4]-G,U[5]-no),j&&new q(P[2]-G,P[3]-no));if(H)H.insert(J._index+1,Q),M=this.getNext();else this._segment2=Q,this._changed(),M=new N(Q,oo)}return M},splitAt:function(e){var r=this._path;return r?r.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,r){return this.divideAtTime(e===_?0.5:r?e:this.getTimeAt(e))},split:function(e,r){return this.splitAtTime(e===_?0.5:r?e:this.getTimeAt(e))},reversed:function(){return new N(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,r,f,R){var{_point:M,_handleOut:O}=e,U=r._handleIn,P=r._point,j=M.x,J=M.y,oo=P.x,H=P.y,G=R?[j,J,j,J,oo,H,oo,H]:[j,J,j+O._x,J+O._y,oo+U._x,H+U._y,oo,H];if(f)f._transformCoordinates(G,G,4);return G},subdivide:function(e,r){var f=e[0],R=e[1],M=e[2],O=e[3],U=e[4],P=e[5],j=e[6],J=e[7];if(r===_)r=0.5;var oo=1-r,H=oo*f+r*M,G=oo*R+r*O,no=oo*M+r*U,Q=oo*O+r*P,ro=oo*U+r*j,Zo=oo*P+r*J,A=oo*H+r*no,eo=oo*G+r*Q,so=oo*no+r*ro,B=oo*Q+r*Zo,lo=oo*A+r*so,Ro=oo*eo+r*B;return[[f,R,H,G,A,eo,lo,Ro],[lo,Ro,so,B,ro,Zo,j,J]]},getMonoCurves:function(e,r){var f=[],R=r?0:1,M=e[R+0],O=e[R+2],U=e[R+4],P=e[R+6];if(M>=O===O>=U&&O>=U===U>=P||N.isStraight(e))f.push(e);else{var j=3*(O-U)-M+P,J=2*(M+U)-4*O,oo=O-M,H=0.00000001,G=1-H,no=[],Q=V.solveQuadratic(j,J,oo,no,H,G);if(!Q)f.push(e);else{no.sort();var ro=no[0],Zo=N.subdivide(e,ro);if(f.push(Zo[0]),Q>1)ro=(no[1]-ro)/(1-ro),Zo=N.subdivide(Zo[1],ro),f.push(Zo[0]);f.push(Zo[1])}}return f},solveCubic:function(e,r,f,R,M,O){var U=e[r],P=e[r+2],j=e[r+4],J=e[r+6],oo=0;if(!(U<f&&J<f&&P<f&&j<f||U>f&&J>f&&P>f&&j>f)){var H=3*(P-U),G=3*(j-P)-H,no=J-U-H-G;oo=V.solveCubic(no,G,H,U-f,R,M,O)}return oo},getTimeOf:function(e,r){var f=new q(e[0],e[1]),R=new q(e[6],e[7]),M=0.000000000001,O=0.0000001,U=r.isClose(f,M)?0:r.isClose(R,M)?1:null;if(U===null){var P=[r.x,r.y],j=[];for(var J=0;J<2;J++){var oo=N.solveCubic(e,J,P[J],j,0,1);for(var H=0;H<oo;H++){var G=j[H];if(r.isClose(N.getPoint(e,G),O))return G}}}return r.isClose(f,O)?0:r.isClose(R,O)?1:null},getNearestTime:function(e,r){if(N.isStraight(e)){var f=e[0],R=e[1],M=e[6],O=e[7],U=M-f,P=O-R,j=U*U+P*P;if(j===0)return 0;var J=((r.x-f)*U+(r.y-R)*P)/j;return J<0.000000000001?0:J>0.999999999999?1:N.getTimeOf(e,new q(f+J*U,R+J*P))}var oo=100,H=1/0,G=0;function no(Zo){if(Zo>=0&&Zo<=1){var A=r.getDistance(N.getPoint(e,Zo),!0);if(A<H)return H=A,G=Zo,!0}}for(var Q=0;Q<=oo;Q++)no(Q/oo);var ro=1/(oo*2);while(ro>0.00000001)if(!no(G-ro)&&!no(G+ro))ro/=2;return G},getPart:function(e,r,f){var R=r>f;if(R){var M=r;r=f,f=M}if(r>0)e=N.subdivide(e,r)[1];if(f<1)e=N.subdivide(e,(f-r)/(1-r))[0];return R?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,r){var f=e[0],R=e[1],M=e[2],O=e[3],U=e[4],P=e[5],j=e[6],J=e[7],oo=3*M-2*f-j,H=3*O-2*R-J,G=3*U-2*j-f,no=3*P-2*J-R;return Math.max(oo*oo,G*G)+Math.max(H*H,no*no)<=16*r*r},getArea:function(e){var r=e[0],f=e[1],R=e[2],M=e[3],O=e[4],U=e[5],P=e[6],j=e[7];return 3*((j-f)*(R+O)-(P-r)*(M+U)+M*(r-O)-R*(f-U)+j*(O+r/3)-P*(U+f/3))/20},getBounds:function(e){var r=e.slice(0,2),f=r.slice(),R=[0,0];for(var M=0;M<2;M++)N._addBounds(e[M],e[M+2],e[M+4],e[M+6],M,0,r,f,R);return new z(r[0],r[1],f[0]-r[0],f[1]-r[1])},_addBounds:function(e,r,f,R,M,O,U,P,j){function J(lo,Ro){var po=lo-Ro,_o=lo+Ro;if(po<U[M])U[M]=po;if(_o>P[M])P[M]=_o}O/=2;var oo=U[M]+O,H=P[M]-O;if(e<oo||r<oo||f<oo||R<oo||e>H||r>H||f>H||R>H)if(r<e!=r<R&&f<e!=f<R)J(e,0),J(R,0);else{var G=3*(r-f)-e+R,no=2*(e+f)-4*r,Q=r-e,ro=V.solveQuadratic(G,no,Q,j),Zo=0.00000001,A=1-Zo;J(R,0);for(var eo=0;eo<ro;eo++){var so=j[eo],B=1-so;if(Zo<=so&&so<=A)J(B*B*B*e+3*B*B*so*r+3*B*so*so*f+so*so*so*R,O)}}}}},v.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){if(!this._bounds)this._bounds={};var r=this._bounds[e];if(!r)r=this._bounds[e]=b[e]([this._segment1,this._segment2],!1,this._path);return r.clone()}},{}),v.each({isStraight:function(e,r,f,R){if(r.isZero()&&f.isZero())return!0;else{var M=R.subtract(e);if(M.isZero())return!1;else if(M.isCollinear(r)&&M.isCollinear(f)){var O=new C(e,R),U=0.0000001;if(O.getDistance(e.add(r))<U&&O.getDistance(R.add(f))<U){var P=M.dot(M),j=M.dot(r)/P,J=M.dot(f)/P;return j>=0&&j<=1&&J<=0&&J>=-1}}}return!1},isLinear:function(e,r,f,R){var M=R.subtract(e).divide(3);return r.equals(M)&&f.negate().equals(M)}},function(e,r){this[r]=function(f){var R=this._segment1,M=this._segment2;return e(R._point,R._handleOut,M._handleIn,M._point,f)},this.statics[r]=function(f,R){var M=f[0],O=f[1],U=f[6],P=f[7];return e(new q(M,O),new q(f[2]-M,f[3]-O),new q(f[4]-U,f[5]-P),new q(U,P),R)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).y)<0.00000001},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).x)<0.00000001}}),{beans:!1,getLocationAt:function(e,r){return this.getLocationAtTime(r?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new p(this,e):null},getTimeAt:function(e,r){return N.getTimeAt(this.getValues(),e,r)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=q.read(arguments);return e.isZero()?[]:N.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(q.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return N.getTimeOf(this.getValues(),q.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=q.read(arguments),r=this.getValues(),f=N.getNearestTime(r,e),R=N.getPoint(r,f);return new p(this,f,R,null,e.getDistance(R))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return v.each(e,function(r){this[r+"At"]=function(f,R){var M=this.getValues();return N[r](M,R?f:N.getTimeAt(M,f))},this[r+"AtTime"]=function(f){return N[r](this.getValues(),f)}},{statics:{_evaluateMethods:e}})},new function(){function e(R){var M=R[0],O=R[1],U=R[2],P=R[3],j=R[4],J=R[5],oo=R[6],H=R[7],G=9*(U-j)+3*(oo-M),no=6*(M+j)-12*U,Q=3*(U-M),ro=9*(P-J)+3*(H-O),Zo=6*(O+J)-12*P,A=3*(P-O);return function(eo){var so=(G*eo+no)*eo+Q,B=(ro*eo+Zo)*eo+A;return Math.sqrt(so*so+B*B)}}function r(R,M){return Math.max(2,Math.min(16,Math.ceil(Math.abs(M-R)*32)))}function f(R,M,O,U){if(M==null||M<0||M>1)return null;var P=R[0],j=R[1],J=R[2],oo=R[3],H=R[4],G=R[5],no=R[6],Q=R[7],ro=V.isZero;if(ro(J-P)&&ro(oo-j))J=P,oo=j;if(ro(H-no)&&ro(G-Q))H=no,G=Q;var Zo=3*(J-P),A=3*(H-J)-Zo,eo=no-P-Zo-A,so=3*(oo-j),B=3*(G-oo)-so,lo=Q-j-so-B,Ro,po;if(O===0)Ro=M===0?P:M===1?no:((eo*M+A)*M+Zo)*M+P,po=M===0?j:M===1?Q:((lo*M+B)*M+so)*M+j;else{var _o=0.00000001,Fo=1-_o;if(M<_o)Ro=Zo,po=so;else if(M>Fo)Ro=3*(no-H),po=3*(Q-G);else Ro=(3*eo*M+2*A)*M+Zo,po=(3*lo*M+2*B)*M+so;if(U){if(Ro===0&&po===0&&(M<_o||M>Fo))Ro=H-J,po=G-oo;var ho=Math.sqrt(Ro*Ro+po*po);if(ho)Ro/=ho,po/=ho}if(O===3){var H=6*eo*M+2*A,G=6*lo*M+2*B,yo=Math.pow(Ro*Ro+po*po,1.5);Ro=yo!==0?(Ro*G-po*H)/yo:0,po=0}}return O===2?new q(po,-Ro):new q(Ro,po)}return{statics:{classify:function(R){var M=R[0],O=R[1],U=R[2],P=R[3],j=R[4],J=R[5],oo=R[6],H=R[7],G=M*(H-J)+O*(j-oo)+oo*J-H*j,no=U*(O-H)+P*(oo-M)+M*H-O*oo,Q=j*(P-O)+J*(M-U)+U*O-P*M,ro=3*Q,Zo=ro-no,A=Zo-no+G,eo=Math.sqrt(A*A+Zo*Zo+ro*ro),so=eo!==0?1/eo:0,B=V.isZero,lo="serpentine";A*=so,Zo*=so,ro*=so;function Ro(ho,yo,jo){var To=yo!==_,qo=To&&yo>0&&yo<1,Eo=To&&jo>0&&jo<1;if(To&&(!(qo||Eo)||ho==="loop"&&!(qo&&Eo)))ho="arch",qo=Eo=!1;return{type:ho,roots:qo||Eo?qo&&Eo?yo<jo?[yo,jo]:[jo,yo]:[qo?yo:jo]:null}}if(B(A))return B(Zo)?Ro(B(ro)?"line":"quadratic"):Ro(lo,ro/(3*Zo));var po=3*Zo*Zo-4*A*ro;if(B(po))return Ro("cusp",Zo/(2*A));var _o=po>0?Math.sqrt(po/3):Math.sqrt(-po),Fo=2*A;return Ro(po>0?lo:"loop",(Zo+_o)/Fo,(Zo-_o)/Fo)},getLength:function(R,M,O,U){if(M===_)M=0;if(O===_)O=1;if(N.isStraight(R)){var P=R;if(O<1)P=N.subdivide(P,O)[0],M/=O;if(M>0)P=N.subdivide(P,M)[1];var j=P[6]-P[0],J=P[7]-P[1];return Math.sqrt(j*j+J*J)}return V.integrate(U||e(R),M,O,r(M,O))},getTimeAt:function(R,M,O){if(O===_)O=M<0?1:0;if(M===0)return O;var U=Math.abs,P=0.000000000001,j=M>0,J=j?O:0,oo=j?1:O,H=e(R),G=N.getLength(R,J,oo,H),no=U(M)-G;if(U(no)<P)return j?oo:J;else if(no>P)return null;var Q=M/G,ro=0;function Zo(A){return ro+=V.integrate(H,O,A,r(O,A)),O=A,ro-M}return V.findRoot(Zo,H,O+Q,J,oo,32,0.000000000001)},getPoint:function(R,M){return f(R,M,0,!1)},getTangent:function(R,M){return f(R,M,1,!0)},getWeightedTangent:function(R,M){return f(R,M,1,!1)},getNormal:function(R,M){return f(R,M,2,!0)},getWeightedNormal:function(R,M){return f(R,M,2,!1)},getCurvature:function(R,M){return f(R,M,3,!1).x},getPeaks:function(R){var M=R[0],O=R[1],U=R[2],P=R[3],j=R[4],J=R[5],oo=R[6],H=R[7],G=-M+3*U-3*j+oo,no=3*M-6*U+3*j,Q=-3*M+3*U,ro=-O+3*P-3*J+H,Zo=3*O-6*P+3*J,A=-3*O+3*P,eo=0.00000001,so=1-eo,B=[];return V.solveCubic(9*(G*G+ro*ro),9*(G*no+Zo*ro),2*(no*no+Zo*Zo)+3*(Q*G+A*ro),Q*no+Zo*A,B,eo,so),B.sort()}}}},new function(){function e(no,Q,ro,Zo,A,eo,so){var B=!so&&ro.getPrevious()===A,lo=!so&&ro!==A&&ro.getNext()===A,Ro=0.00000001,po=1-Ro;if(Zo!==null&&Zo>=(B?Ro:0)&&Zo<=(lo?po:1)){if(eo!==null&&eo>=(lo?Ro:0)&&eo<=(B?po:1)){var _o=new p(ro,Zo,null,so),Fo=new p(A,eo,null,so);if(_o._intersection=Fo,Fo._intersection=_o,!Q||Q(_o))p.insert(no,_o,!0)}}}function r(no,Q,ro,Zo,A,eo,so,B,lo,Ro,po,_o,Fo){if(++lo>=4096||++B>=40)return lo;var ho=0.000000001,yo=Q[0],jo=Q[1],To=Q[6],qo=Q[7],Eo=C.getSignedDistance,Wo=Eo(yo,jo,To,qo,Q[2],Q[3]),Oo=Eo(yo,jo,To,qo,Q[4],Q[5]),Go=Wo*Oo>0?0.75:0.4444444444444444,Io=Go*Math.min(0,Wo,Oo),Do=Go*Math.max(0,Wo,Oo),Qo=Eo(yo,jo,To,qo,no[0],no[1]),Bo=Eo(yo,jo,To,qo,no[2],no[3]),oa=Eo(yo,jo,To,qo,no[4],no[5]),Yo=Eo(yo,jo,To,qo,no[6],no[7]),aa=f(Qo,Bo,oa,Yo),Co=aa[0],ra=aa[1],ea,la;if(Wo===0&&Oo===0&&Qo===0&&Bo===0&&oa===0&&Yo===0||(ea=R(Co,ra,Io,Do))==null||(la=R(Co.reverse(),ra.reverse(),Io,Do))==null)return lo;var sa=Ro+(po-Ro)*ea,na=Ro+(po-Ro)*la;if(Math.max(Fo-_o,na-sa)<ho){var ma=(sa+na)/2,ba=(_o+Fo)/2;e(A,eo,so?Zo:ro,so?ba:ma,so?ro:Zo,so?ma:ba)}else{no=N.getPart(no,ea,la);var _a=Fo-_o;if(la-ea>0.8)if(na-sa>_a){var ia=N.subdivide(no,0.5),ma=(sa+na)/2;lo=r(Q,ia[0],Zo,ro,A,eo,!so,B,lo,_o,Fo,sa,ma),lo=r(Q,ia[1],Zo,ro,A,eo,!so,B,lo,_o,Fo,ma,na)}else{var ia=N.subdivide(Q,0.5),ba=(_o+Fo)/2;lo=r(ia[0],no,Zo,ro,A,eo,!so,B,lo,_o,ba,sa,na),lo=r(ia[1],no,Zo,ro,A,eo,!so,B,lo,ba,Fo,sa,na)}else if(_a===0||_a>=ho)lo=r(Q,no,Zo,ro,A,eo,!so,B,lo,_o,Fo,sa,na);else lo=r(no,Q,ro,Zo,A,eo,so,B,lo,sa,na,_o,Fo)}return lo}function f(no,Q,ro,Zo){var A=[0,no],eo=[0.3333333333333333,Q],so=[0.6666666666666666,ro],B=[1,Zo],lo=Q-(2*no+Zo)/3,Ro=ro-(no+2*Zo)/3,po;if(lo*Ro<0)po=[[A,eo,B],[A,so,B]];else{var _o=lo/Ro;po=[_o>=2?[A,eo,B]:_o<=0.5?[A,so,B]:[A,eo,so,B],[A,B]]}return(lo||Ro)<0?po.reverse():po}function R(no,Q,ro,Zo){if(no[0][1]<ro)return M(no,!0,ro);else if(Q[0][1]>Zo)return M(Q,!1,Zo);else return no[0][0]}function M(no,Q,ro){var Zo=no[0][0],A=no[0][1];for(var eo=1,so=no.length;eo<so;eo++){var B=no[eo][0],lo=no[eo][1];if(Q?lo>=ro:lo<=ro)return lo===ro?B:Zo+(ro-A)*(B-Zo)/(lo-A);Zo=B,A=lo}return null}function O(no,Q,ro,Zo,A){var eo=V.isZero;if(eo(Zo)&&eo(A)){var so=N.getTimeOf(no,new q(Q,ro));return so===null?[]:[so]}var B=Math.atan2(-A,Zo),lo=Math.sin(B),Ro=Math.cos(B),po=[],_o=[];for(var Fo=0;Fo<8;Fo+=2){var ho=no[Fo]-Q,yo=no[Fo+1]-ro;po.push(ho*Ro-yo*lo,ho*lo+yo*Ro)}return N.solveCubic(po,1,0,_o,0,1),_o}function U(no,Q,ro,Zo,A,eo,so){var B=Q[0],lo=Q[1],Ro=Q[6],po=Q[7],_o=O(no,B,lo,Ro-B,po-lo);for(var Fo=0,ho=_o.length;Fo<ho;Fo++){var yo=_o[Fo],jo=N.getPoint(no,yo),To=N.getTimeOf(Q,jo);if(To!==null)e(A,eo,so?Zo:ro,so?To:yo,so?ro:Zo,so?yo:To)}}function P(no,Q,ro,Zo,A,eo){var so=C.intersect(no[0],no[1],no[6],no[7],Q[0],Q[1],Q[6],Q[7]);if(so)e(A,eo,ro,N.getTimeOf(no,so),Zo,N.getTimeOf(Q,so))}function j(no,Q,ro,Zo,A,eo){var so=0.000000000001,B=Math.min,lo=Math.max;if(lo(no[0],no[2],no[4],no[6])+so>B(Q[0],Q[2],Q[4],Q[6])&&B(no[0],no[2],no[4],no[6])-so<lo(Q[0],Q[2],Q[4],Q[6])&&lo(no[1],no[3],no[5],no[7])+so>B(Q[1],Q[3],Q[5],Q[7])&&B(no[1],no[3],no[5],no[7])-so<lo(Q[1],Q[3],Q[5],Q[7])){var Ro=H(no,Q);if(Ro)for(var po=0;po<2;po++){var _o=Ro[po];e(A,eo,ro,_o[0],Zo,_o[1],!0)}else{var Fo=N.isStraight(no),ho=N.isStraight(Q),yo=Fo&&ho,jo=Fo&&!ho,To=A.length;if((yo?P:Fo||ho?U:r)(jo?Q:no,jo?no:Q,jo?Zo:ro,jo?ro:Zo,A,eo,jo,0,0,0,1,0,1),!yo||A.length===To)for(var po=0;po<4;po++){var qo=po>>1,Eo=po&1,Wo=qo*6,Oo=Eo*6,Go=new q(no[Wo],no[Wo+1]),Io=new q(Q[Oo],Q[Oo+1]);if(Go.isClose(Io,so))e(A,eo,ro,qo,Zo,Eo)}}}return A}function J(no,Q,ro,Zo){var A=N.classify(no);if(A.type==="loop"){var eo=A.roots;e(ro,Zo,Q,eo[0],Q,eo[1])}return ro}function oo(no,Q,ro,Zo,A,eo){var so=0.0000001,B=!Q;if(B)Q=no;var lo=no.length,Ro=Q.length,po=new Array(lo),_o=B?po:new Array(Ro),Fo=[];for(var ho=0;ho<lo;ho++)po[ho]=no[ho].getValues(Zo);if(!B)for(var ho=0;ho<Ro;ho++)_o[ho]=Q[ho].getValues(A);var yo=Z.findCurveBoundsCollisions(po,_o,so);for(var jo=0;jo<lo;jo++){var To=no[jo],qo=po[jo];if(B)J(qo,To,Fo,ro);var Eo=yo[jo];if(Eo)for(var Wo=0;Wo<Eo.length;Wo++){if(eo&&Fo.length)return Fo;var Oo=Eo[Wo];if(!B||Oo>jo){var Go=Q[Oo],Io=_o[Oo];j(qo,Io,To,Go,Fo,ro)}}}return Fo}function H(no,Q){function ro(Yo){var aa=Yo[6]-Yo[0],Co=Yo[7]-Yo[1];return aa*aa+Co*Co}var Zo=Math.abs,A=C.getDistance,eo=0.00000001,so=0.0000001,B=N.isStraight(no),lo=N.isStraight(Q),Ro=B&&lo,po=ro(no)<ro(Q),_o=po?Q:no,Fo=po?no:Q,ho=_o[0],yo=_o[1],jo=_o[6]-ho,To=_o[7]-yo;if(A(ho,yo,jo,To,Fo[0],Fo[1],!0)<so&&A(ho,yo,jo,To,Fo[6],Fo[7],!0)<so){if(!Ro&&A(ho,yo,jo,To,_o[2],_o[3],!0)<so&&A(ho,yo,jo,To,_o[4],_o[5],!0)<so&&A(ho,yo,jo,To,Fo[2],Fo[3],!0)<so&&A(ho,yo,jo,To,Fo[4],Fo[5],!0)<so)B=lo=Ro=!0}else if(Ro)return null;if(B^lo)return null;var qo=[no,Q],Eo=[];for(var Wo=0;Wo<4&&Eo.length<2;Wo++){var Oo=Wo&1,Go=Oo^1,Io=Wo>>1,Do=N.getTimeOf(qo[Oo],new q(qo[Go][Io?6:0],qo[Go][Io?7:1]));if(Do!=null){var Qo=Oo?[Io,Do]:[Do,Io];if(!Eo.length||Zo(Qo[0]-Eo[0][0])>eo&&Zo(Qo[1]-Eo[0][1])>eo)Eo.push(Qo)}if(Wo>2&&!Eo.length)break}if(Eo.length!==2)Eo=null;else if(!Ro){var Bo=N.getPart(no,Eo[0][0],Eo[1][0]),oa=N.getPart(Q,Eo[0][1],Eo[1][1]);if(Zo(oa[2]-Bo[2])>so||Zo(oa[3]-Bo[3])>so||Zo(oa[4]-Bo[4])>so||Zo(oa[5]-Bo[5])>so)Eo=null}return Eo}function G(no,Q){var ro=no[0],Zo=no[1],A=no[2],eo=no[3],so=no[4],B=no[5],lo=no[6],Ro=no[7],po=Q.normalize(),_o=po.x,Fo=po.y,ho=3*lo-9*so+9*A-3*ro,yo=3*Ro-9*B+9*eo-3*Zo,jo=6*so-12*A+6*ro,To=6*B-12*eo+6*Zo,qo=3*A-3*ro,Eo=3*eo-3*Zo,Wo=2*ho*Fo-2*yo*_o,Oo=[];if(Math.abs(Wo)<V.CURVETIME_EPSILON){var Go=ho*Eo-yo*qo,Wo=ho*To-yo*jo;if(Wo!=0){var Io=-Go/Wo;if(Io>=0&&Io<=1)Oo.push(Io)}}else{var Do=(jo*jo-4*ho*qo)*Fo*Fo+(-2*jo*To+4*yo*qo+4*ho*Eo)*_o*Fo+(To*To-4*yo*Eo)*_o*_o,Qo=jo*Fo-To*_o;if(Do>=0&&Wo!=0){var Bo=Math.sqrt(Do),oa=-(Qo+Bo)/Wo,Yo=(-Qo+Bo)/Wo;if(oa>=0&&oa<=1)Oo.push(oa);if(Yo>=0&&Yo<=1)Oo.push(Yo)}}return Oo}return{getIntersections:function(no){var Q=this.getValues(),ro=no&&no!==this&&no.getValues();return ro?j(Q,ro,this,no,[]):J(Q,this,[])},statics:{getOverlaps:H,getIntersections:oo,getCurveLineIntersections:O,getTimesWithTangent:G}}}),p=v.extend({_class:"CurveLocation",initialize:function e(r,f,R,M,O){if(f>=0.99999999){var U=r.getNext();if(U)f=0,r=U}this._setCurve(r),this._time=f,this._point=R||r.getPointAtTime(f),this._overlap=M,this._distance=O,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var r=e.getCurve();if(r)this._setCurve(r);else this._setPath(e._path),this._segment1=e,this._segment2=null;this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var r=this.getCurve(),f=this.getTime();if(f===0)e=r._segment1;else if(f===1)e=r._segment2;else if(f!=null)e=r.getPartLength(0,f)<r.getPartLength(f,1)?r._segment1:r._segment2;this._segment=e}return e},getCurve:function(){var e=this._path,r=this;if(e&&e._version!==this._version)this._time=this._offset=this._curveOffset=this._curve=null;function f(R){var M=R&&R.getCurve();if(M&&(r._time=M.getTimeOf(r._point))!=null)return r._setCurve(M),M}return this._curve||f(this._segment)||f(this._segment1)||f(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),r=this._time;return e&&r==null?this._time=e.getTimeOf(this._point):r},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var r=this.getPath(),f=this.getIndex();if(r&&f!=null){var R=r.getCurves();for(var M=0;M<f;M++)e+=R[M].getLength()}this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var r=this.getCurve(),f=this.getTime();this._curveOffset=e=f!=null&&r&&r.getPartLength(0,f)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),r=e&&e.divideAtTime(this.getTime());if(r)this._setSegment(r._segment1);return r},split:function(){var e=this.getCurve(),r=e._path,f=e&&e.splitAtTime(this.getTime());if(f)this._setSegment(r.getLastSegment());return f},equals:function(e,r){var f=this===e;if(!f&&e instanceof p){var R=this.getCurve(),M=e.getCurve(),O=R._path,U=M._path;if(O===U){var P=Math.abs,j=0.0000001,J=P(this.getOffset()-e.getOffset()),oo=!r&&this._intersection,H=!r&&e._intersection;f=(J<j||O&&P(O.getLength()-J)<j)&&(!oo&&!H||oo&&H&&oo.equals(H,!0))}}return f},toString:function(){var e=[],r=this.getPoint(),f=$.instance;if(r)e.push("point: "+r);var R=this.getIndex();if(R!=null)e.push("index: "+R);var M=this.getTime();if(M!=null)e.push("time: "+f.number(M));if(this._distance!=null)e.push("distance: "+f.number(this._distance));return"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var r=this.getCurve(),f=e.getCurve();return!(r.isStraight()&&f.isStraight()&&r.getLine().intersect(f.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var r=this.getTime(),f=e.getTime(),R=0.00000001,M=1-R,O=r>=R&&r<=M,U=f>=R&&f<=M;if(O&&U)return!this.isTouching();var P=this.getCurve(),j=P&&r<R?P.getPrevious():P,J=e.getCurve(),oo=J&&f<R?J.getPrevious():J;if(r>M)P=P.getNext();if(f>M)J=J.getNext();if(!j||!P||!oo||!J)return!1;var H=[];function G(_o,Fo){var ho=_o.getValues(),yo=N.classify(ho).roots||N.getPeaks(ho),jo=yo.length,To=N.getLength(ho,Fo&&jo?yo[jo-1]:0,!Fo&&jo?yo[0]:1);H.push(jo?To:To/32)}function no(_o,Fo,ho){return Fo<ho?_o>Fo&&_o<ho:_o>Fo||_o<ho}if(!O)G(j,!0),G(P,!1);if(!U)G(oo,!0),G(J,!1);var Q=this.getPoint(),ro=Math.min.apply(Math,H),Zo=O?P.getTangentAtTime(r):P.getPointAt(ro).subtract(Q),A=O?Zo.negate():j.getPointAt(-ro).subtract(Q),eo=U?J.getTangentAtTime(f):J.getPointAt(ro).subtract(Q),so=U?eo.negate():oo.getPointAt(-ro).subtract(Q),B=A.getAngle(),lo=Zo.getAngle(),Ro=so.getAngle(),po=eo.getAngle();return!!(O?no(B,Ro,po)^no(lo,Ro,po)&&no(B,po,Ro)^no(lo,po,Ro):no(Ro,B,lo)^no(po,B,lo)&&no(Ro,lo,B)^no(po,lo,B))},hasOverlap:function(){return!!this._overlap}},v.each(N._evaluateMethods,function(e){var r=e+"At";this[e]=function(){var f=this.getCurve(),R=this.getTime();return R!=null&&f&&f[r](R,!0)}},{preserve:!0}),new function(){function e(r,f,R){var M=r.length,O=0,U=M-1;function P(Q,ro){for(var Zo=Q+ro;Zo>=-1&&Zo<=M;Zo+=ro){var A=r[(Zo%M+M)%M];if(!f.getPoint().isClose(A.getPoint(),0.0000001))break;if(f.equals(A))return A}return null}while(O<=U){var j=O+U>>>1,J=r[j],oo;if(R&&(oo=f.equals(J)?J:P(j,-1)||P(j,1))){if(f._overlap)oo._overlap=oo._intersection._overlap=!0;return oo}var H=f.getPath(),G=J.getPath(),no=H!==G?H._id-G._id:f.getIndex()+f.getTime()-(J.getIndex()+J.getTime());if(no<0)U=j-1;else O=j+1}return r.splice(O,0,f),f}return{statics:{insert:e,expand:function(r){var f=r.slice();for(var R=r.length-1;R>=0;R--)e(f,r[R]._intersection,!1);return f}}}}),a=to.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function e(){},statics:{create:function(e){var r,f,R;if(v.isPlainObject(e))f=e.segments,r=e.pathData;else if(Array.isArray(e))f=e;else if(typeof e==="string")r=e;if(f){var M=f[0];R=M&&Array.isArray(M[0])}else if(r)R=(r.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(r);var O=R?S:b;return new O(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){if(this.isClockwise()!=(e=!!e))this.reverse()},setPathData:function(e){var r=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),f,R=!1,M,O,U=new q,P=new q;function j(so,B){var lo=+f[so];if(R)lo+=U[B];return lo}function J(so){return new q(j(so,"x"),j(so+1,"y"))}this.clear();for(var oo=0,H=r&&r.length;oo<H;oo++){var G=r[oo],no=G[0],Q=no.toLowerCase();f=G.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var ro=f&&f.length;if(R=no===Q,M==="z"&&!/[mz]/.test(Q))this.moveTo(U);switch(Q){case"m":case"l":var Zo=Q==="m";for(var A=0;A<ro;A+=2)if(this[Zo?"moveTo":"lineTo"](U=J(A)),Zo)P=U,Zo=!1;O=U;break;case"h":case"v":var eo=Q==="h"?"x":"y";U=U.clone();for(var A=0;A<ro;A++)U[eo]=j(A,eo),this.lineTo(U);O=U;break;case"c":for(var A=0;A<ro;A+=6)this.cubicCurveTo(J(A),O=J(A+2),U=J(A+4));break;case"s":for(var A=0;A<ro;A+=4)this.cubicCurveTo(/[cs]/.test(M)?U.multiply(2).subtract(O):U,O=J(A),U=J(A+2)),M=Q;break;case"q":for(var A=0;A<ro;A+=4)this.quadraticCurveTo(O=J(A),U=J(A+2));break;case"t":for(var A=0;A<ro;A+=2)this.quadraticCurveTo(O=/[qt]/.test(M)?U.multiply(2).subtract(O):U,U=J(A)),M=Q;break;case"a":for(var A=0;A<ro;A+=7)this.arcTo(U=J(A+5),new g(+f[A],+f[A+1]),+f[A+2],+f[A+4],+f[A+3]);break;case"z":this.closePath(0.000000000001),U=P;break}M=Q}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var r=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return r.onPath||!!(this.getFillRule()==="evenodd"?r.windingL&1||r.windingR&1:r.winding)},getIntersections:function(e,r,f,R){var M=this===e||!e,O=this._matrix._orNullIfIdentity(),U=M?O:(f||e._matrix)._orNullIfIdentity();return M||this.getBounds(O).intersects(e.getBounds(U),0.000000000001)?N.getIntersections(this.getCurves(),!M&&e.getCurves(),r,O,U,R):[]},getCrossings:function(e){return this.getIntersections(e,function(r){return r.isCrossing()})},getNearestLocation:function(){var e=q.read(arguments),r=this.getCurves(),f=1/0,R=null;for(var M=0,O=r.length;M<O;M++){var U=r[M].getNearestLocation(e);if(U._distance<f)f=U._distance,R=U}return R},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e},interpolate:function(e,r,f){var R=!this._children,M=R?"_segments":"_children",O=e[M],U=r[M],P=this[M];if(!O||!U||O.length!==U.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+r);var j=P.length,J=U.length;if(j<J){var oo=R?m:b;for(var H=j;H<J;H++)this.add(new oo)}else if(j>J)this[R?"removeSegments":"removeChildren"](J,j);for(var H=0;H<J;H++)P[H].interpolate(O[H],U[H],f);if(R)this.setClosed(e._closed),this._changed(9)},compare:function(e){var r=!1;if(e){var f=this._children||[this],R=e._children?e._children.slice():[e],M=f.length,O=R.length,U=[],P=0;r=!0;var j=Z.findItemBoundsCollisions(f,R,V.GEOMETRIC_EPSILON);for(var J=M-1;J>=0&&r;J--){var oo=f[J];r=!1;var H=j[J];if(H){for(var G=H.length-1;G>=0&&!r;G--)if(oo.compare(R[H[G]])){if(!U[H[G]])U[H[G]]=!0,P++;r=!0}}}r=r&&P===O}return r}}),b=a.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function e(r){this._closed=!1,this._segments=[],this._version=0;var f=arguments,R=Array.isArray(r)?typeof r[0]==="object"?r:f:r&&(r.size===_&&(r.x!==_||r.point!==_))?f:null;if(R&&R.length>0)this.setSegments(R);else if(this._curves=_,this._segmentSelection=0,!R&&typeof r==="string")this.setPathData(r),r=null;this._initialize(!R&&r)},_equals:function(e){return this._closed===e._closed&&v.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(r){if(e.base.call(this,r),r&8){if(this._length=this._area=_,r&32)this._version++;else if(this._curves)for(var f=0,R=this._curves.length;f<R;f++)this._curves[f]._changed()}else if(r&64)this._bounds=_},getStyle:function(){var e=this._parent;return(e instanceof S?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var r=this.isFullySelected(),f=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=_,f){var R=e[f-1];if(typeof R==="boolean")this.setClosed(R),f--;this._add(m.readList(e,0,{},f))}if(r)this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,r=this._segments;if(!e){var f=this._countCurves();e=this._curves=new Array(f);for(var R=0;R<f;R++)e[R]=new N(this,r[R],r[R+1]||r[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var r=this._curves.length=this._countCurves();if(e)this._curves[r-1]=new N(this,this._segments[r-1],this._segments[0])}this._changed(41)}}},{beans:!0,getPathData:function(e,r){var f=this._segments,R=f.length,M=new $(r),O=new Array(6),U=!0,P,j,J,oo,H,G,no,Q,ro=[];function Zo(eo,so){if(eo._transformCoordinates(e,O),P=O[0],j=O[1],U)ro.push("M"+M.pair(P,j)),U=!1;else if(H=O[2],G=O[3],H===P&&G===j&&no===J&&Q===oo){if(!so){var B=P-J,lo=j-oo;ro.push(B===0?"v"+M.number(lo):lo===0?"h"+M.number(B):"l"+M.pair(B,lo))}}else ro.push("c"+M.pair(no-J,Q-oo)+" "+M.pair(H-J,G-oo)+" "+M.pair(P-J,j-oo));J=P,oo=j,no=O[4],Q=O[5]}if(!R)return"";for(var A=0;A<R;A++)Zo(f[A]);if(this._closed&&R>0)Zo(f[0],!0),ro.push("z");return ro.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){var r=this._segments,f=new Array(6);for(var R=0,M=r.length;R<M;R++)r[R]._transformCoordinates(e,f,!0);return!0},_add:function(e,U){var f=this._segments,R=this._curves,M=e.length,O=U==null,U=O?f.length:U;for(var P=0;P<M;P++){var j=e[P];if(j._path)j=e[P]=j.clone();if(j._path=this,j._index=U+P,j._selection)this._updateSelection(j,0,j._selection)}if(O)v.push(f,e);else{f.splice.apply(f,[U,0].concat(e));for(var P=U+M,J=f.length;P<J;P++)f[P]._index=P}if(R){var oo=this._countCurves(),H=U>0&&U+M-1===oo?U-1:U,G=H,no=Math.min(H+M,oo);if(e._curves)R.splice.apply(R,[H,0].concat(e._curves)),G+=e._curves.length;for(var P=G;P<no;P++)R.splice(P,0,new N(this,null,null));this._adjustCurves(H,no)}return this._changed(41),e},_adjustCurves:function(e,r){var f=this._segments,R=this._curves,M;for(var O=e;O<r;O++)M=R[O],M._path=this,M._segment1=f[O],M._segment2=f[O+1]||f[0],M._changed();if(M=R[this._closed&&!e?f.length-1:e-1])M._segment2=f[e]||f[0],M._changed();if(M=R[r])M._segment1=f[r],M._changed()},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var r=arguments;return r.length>1&&typeof e!=="number"?this._add(m.readList(r)):this._add([m.read(r)])[0]},insert:function(e,r){var f=arguments;return f.length>2&&typeof r!=="number"?this._add(m.readList(f,1),e):this._add([m.read(f,1)],e)[0]},addSegment:function(){return this._add([m.read(arguments)])[0]},insertSegment:function(e){return this._add([m.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(m.readList(e))},insertSegments:function(e,r){return this._add(m.readList(r),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,r,f){e=e||0,r=v.pick(r,this._segments.length);var R=this._segments,M=this._curves,O=R.length,U=R.splice(e,r-e),P=U.length;if(!P)return U;for(var j=0;j<P;j++){var J=U[j];if(J._selection)this._updateSelection(J,J._selection,0);J._index=J._path=null}for(var j=e,oo=R.length;j<oo;j++)R[j]._index=j;if(M){var H=e>0&&r===O+(this._closed?1:0)?e-1:e,M=M.splice(H,P);for(var j=M.length-1;j>=0;j--)M[j]._path=null;if(f)U._curves=M.slice(1);this._adjustCurves(H,H)}return this._changed(41),U},clear:"#removeSegments",hasHandles:function(){var e=this._segments;for(var r=0,f=e.length;r<f;r++)if(e[r].hasHandles())return!0;return!1},clearHandles:function(){var e=this._segments;for(var r=0,f=e.length;r<f;r++)e[r].clearHandles()},getLength:function(){if(this._length==null){var e=this.getCurves(),r=0;for(var f=0,R=e.length;f<R;f++)r+=e[f].getLength();this._length=r}return this._length},getArea:function(){var e=this._area;if(e==null){var r=this._segments,f=this._closed;e=0;for(var R=0,M=r.length;R<M;R++){var O=R+1===M;e+=N.getArea(N.getValues(r[R],r[O?0:R+1],null,O&&!f))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){if(e)this._selectSegments(!0);this.setSelected(e)},setSelection:function e(r){if(!(r&1))this._selectSegments(!1);e.base.call(this,r)},_selectSegments:function(e){var r=this._segments,f=r.length,R=e?7:0;this._segmentSelection=R*f;for(var M=0;M<f;M++)r[M]._selection=R},_updateSelection:function(e,r,f){e._selection=f;var R=this._segmentSelection+=f-r;if(R>0)this.setSelected(!0)},divideAt:function(e){var r=this.getLocationAt(e),f;return r&&(f=r.getCurve().divideAt(r.getCurveOffset()))?f._segment1:null},splitAt:function(e){var r=this.getLocationAt(e),f=r&&r.index,R=r&&r.time,M=0.00000001,O=1-M;if(R>O)f++,R=0;var U=this.getCurves();if(f>=0&&f<U.length){if(R>=M)U[f++].divideAtTime(R);var P=this.removeSegments(f,this._segments.length,!0),j;if(this._closed)this.setClosed(!1),j=this;else j=new b(to.NO_INSERT),j.insertAbove(this),j.copyAttributes(this);return j._add(P,0),this.addSegment(P[0]),j}return null},split:function(e,r){var f,R=r===_?e:(f=this.getCurves()[e])&&f.getLocationAtTime(r);return R!=null?this.splitAt(R):null},join:function(e,r){var f=r||0;if(e&&e!==this){var R=e._segments,M=this.getLastSegment(),O=e.getLastSegment();if(!O)return this;if(M&&M._point.isClose(O._point,f))e.reverse();var U=e.getFirstSegment();if(M&&M._point.isClose(U._point,f))M.setHandleOut(U._handleOut),this._add(R.slice(1));else{var P=this.getFirstSegment();if(P&&P._point.isClose(U._point,f))e.reverse();if(O=e.getLastSegment(),P&&P._point.isClose(O._point,f))P.setHandleIn(O._handleIn),this._add(R.slice(0,R.length-1),0);else this._add(R.slice())}if(e._closed)this._add([R[0]]);e.remove()}var j=this.getFirstSegment(),J=this.getLastSegment();if(j!==J&&j._point.isClose(J._point,f))j.setHandleIn(J._handleIn),J.remove(),this.setClosed(!0);return this},reduce:function(e){var r=this.getCurves(),f=e&&e.simplify,R=f?0.0000001:0;for(var M=r.length-1;M>=0;M--){var O=r[M];if(!O.hasHandles()&&(!O.hasLength(R)||f&&O.isCollinear(O.getNext())))O.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,r=this._segments.length;e<r;e++){var f=this._segments[e],R=f._handleIn;f._handleIn=f._handleOut,f._handleOut=R,f._index=e}this._curves=null,this._changed(9)},flatten:function(e){var r=new w(this,e||0.25,256,!0),f=r.parts,R=f.length,M=[];for(var O=0;O<R;O++)M.push(new m(f[O].curve.slice(0,2)));if(!this._closed&&R>0)M.push(new m(f[R-1].curve.slice(6)));this.setSegments(M)},simplify:function(e){var r=new I(this).fit(e||2.5);if(r)this.setSegments(r);return!!r},smooth:function(e){var r=this,f=e||{},R=f.type||"asymmetric",M=this._segments,O=M.length,U=this._closed;function P(Co,ra){var ea=Co&&Co.index;if(ea!=null){var la=Co.path;if(la&&la!==r)throw new Error(Co._class+" "+ea+" of "+la+" is not part of "+r);if(ra&&Co instanceof N)ea++}else ea=typeof Co==="number"?Co:ra;return Math.min(ea<0&&U?ea%O:ea<0?ea+O:ea,O-1)}var j=U&&f.from===_&&f.to===_,J=P(f.from,0),oo=P(f.to,O-1);if(J>oo)if(U)J-=O;else{var H=J;J=oo,oo=H}if(/^(?:asymmetric|continuous)$/.test(R)){var G=R==="asymmetric",no=Math.min,Q=oo-J+1,ro=Q-1,Zo=j?no(Q,4):1,A=Zo,eo=Zo,so=[];if(!U)A=no(1,J),eo=no(1,O-oo-1);if(ro+=A+eo,ro<=1)return;for(var B=0,lo=J-A;B<=ro;B++,lo++)so[B]=M[(lo<0?lo+O:lo)%O]._point;var Ro=so[0]._x+2*so[1]._x,po=so[0]._y+2*so[1]._y,_o=2,Fo=ro-1,ho=[Ro],yo=[po],jo=[_o],To=[],qo=[];for(var B=1;B<ro;B++){var Eo=B<Fo,Wo=Eo?1:G?1:2,Oo=Eo?4:G?2:7,Go=Eo?4:G?3:8,Io=Eo?2:G?0:1,Do=Wo/_o;_o=jo[B]=Oo-Do,Ro=ho[B]=Go*so[B]._x+Io*so[B+1]._x-Do*Ro,po=yo[B]=Go*so[B]._y+Io*so[B+1]._y-Do*po}To[Fo]=ho[Fo]/jo[Fo],qo[Fo]=yo[Fo]/jo[Fo];for(var B=ro-2;B>=0;B--)To[B]=(ho[B]-To[B+1])/jo[B],qo[B]=(yo[B]-qo[B+1])/jo[B];To[ro]=(3*so[ro]._x-To[Fo])/2,qo[ro]=(3*so[ro]._y-qo[Fo])/2;for(var B=A,Qo=ro-eo,lo=J;B<=Qo;B++,lo++){var Bo=M[lo<0?lo+O:lo],oa=Bo._point,Yo=To[B]-oa._x,aa=qo[B]-oa._y;if(j||B<Qo)Bo.setHandleOut(Yo,aa);if(j||B>A)Bo.setHandleIn(-Yo,-aa)}}else for(var B=J;B<=oo;B++)M[B<0?B+O:B].smooth(f,!j&&B===J,!j&&B===oo)},toShape:function(e){if(!this._closed)return null;var r=this._segments,f,R,M,O;function U(G,no){var Q=r[G],ro=Q.getNext(),Zo=r[no],A=Zo.getNext();return Q._handleOut.isZero()&&ro._handleIn.isZero()&&Zo._handleOut.isZero()&&A._handleIn.isZero()&&ro._point.subtract(Q._point).isCollinear(A._point.subtract(Zo._point))}function P(G){var no=r[G],Q=no.getPrevious(),ro=no.getNext();return Q._handleOut.isZero()&&no._handleIn.isZero()&&no._handleOut.isZero()&&ro._handleIn.isZero()&&no._point.subtract(Q._point).isOrthogonal(ro._point.subtract(no._point))}function j(G){var no=r[G],Q=no.getNext(),ro=no._handleOut,Zo=Q._handleIn,A=0.5522847498307936;if(ro.isOrthogonal(Zo)){var eo=no._point,so=Q._point,B=new C(eo,ro,!0).intersect(new C(so,Zo,!0),!0);return B&&V.isZero(ro.getLength()/B.subtract(eo).getLength()-A)&&V.isZero(Zo.getLength()/B.subtract(so).getLength()-A)}return!1}function J(G,no){return r[G]._point.getDistance(r[no]._point)}if(!this.hasHandles()&&r.length===4&&U(0,2)&&U(1,3)&&P(1))f=Vo.Rectangle,R=new g(J(0,3),J(0,1)),O=r[1]._point.add(r[2]._point).divide(2);else if(r.length===8&&j(0)&&j(2)&&j(4)&&j(6)&&U(1,5)&&U(3,7))f=Vo.Rectangle,R=new g(J(1,6),J(0,3)),M=R.subtract(new g(J(0,7),J(1,2))).divide(2),O=r[3]._point.add(r[4]._point).divide(2);else if(r.length===4&&j(0)&&j(1)&&j(2)&&j(3)){if(V.isZero(J(0,2)-J(1,3)))f=Vo.Circle,M=J(0,2)/2;else f=Vo.Ellipse,M=new g(J(2,0)/2,J(3,1)/2);O=r[1]._point}if(f){var oo=this.getPosition(!0),H=new f({center:oo,size:R,radius:M,insert:!1});if(H.copyAttributes(this,!0),H._matrix.prepend(this._matrix),H.rotate(O.subtract(oo).getAngle()+90),e===_||e)H.insertAbove(this);return H}return null},toPath:"#clone",compare:function e(r){if(!r||r instanceof S)return e.base.call(this,r);var f=this.getCurves(),R=r.getCurves(),M=f.length,O=R.length;if(!M||!O)return M==O;var U=f[0].getValues(),P=[],j=0,J,oo=0,H;for(var G=0;G<O;G++){var Zo=R[G].getValues();P.push(Zo);var no=N.getOverlaps(U,Zo);if(no){J=!G&&no[0][0]>0?O-1:G,H=no[0][1];break}}var Q=Math.abs,ro=0.00000001,Zo=P[J],A;while(U&&Zo){var no=N.getOverlaps(U,Zo);if(no){var eo=no[0][0];if(Q(eo-oo)<ro){if(oo=no[1][0],oo===1)U=++j<M?f[j].getValues():null,oo=0;var so=no[0][1];if(Q(so-H)<ro){if(!A)A=[J,so];if(H=no[1][1],H===1){if(++J>=O)J=0;Zo=P[J]||R[J].getValues(),H=0}if(!U)return A[0]===J&&A[1]===H;continue}}}break}return!1},_hitTestSelf:function(e,r,f,R){var M=this,O=this.getStyle(),U=this._segments,P=U.length,j=this._closed,J=r._tolerancePadding,oo=J,H,G,no,Q,ro,Zo,A=r.stroke&&O.hasStroke(),eo=r.fill&&O.hasFill(),so=r.curves,B=A?O.getStrokeWidth()/2:eo&&r.tolerance>0||so?0:null;if(B!==null)if(B>0)H=O.getStrokeJoin(),G=O.getStrokeCap(),no=O.getMiterLimit(),oo=oo.add(b._getStrokePadding(B,R));else H=G="round";function lo(To,qo){return e.subtract(To).divide(qo).length<=1}function Ro(To,qo,Eo){if(!r.selected||qo.isSelected()){var Wo=To._point;if(qo!==Wo)qo=qo.add(Wo);if(lo(qo,oo))return new l(Eo,M,{segment:To,point:qo})}}function po(To,qo){return(qo||r.segments)&&Ro(To,To._point,"segment")||!qo&&r.handles&&(Ro(To,To._handleIn,"handle-in")||Ro(To,To._handleOut,"handle-out"))}function _o(To){Q.add(To)}function Fo(To){var qo=j||To._index>0&&To._index<P-1;if((qo?H:G)==="round")return lo(To._point,oo);else{if(Q=new b({internal:!0,closed:!0}),qo){if(!To.isSmooth())b._addBevelJoin(To,H,B,no,null,R,_o,!0)}else if(G==="square")b._addSquareCap(To,G,B,null,R,_o,!0);if(!Q.isEmpty()){var Eo;return Q.contains(e)||(Eo=Q.getNearestLocation(e))&&lo(Eo.getPoint(),J)}}}if(r.ends&&!r.segments&&!j){if(Zo=po(U[0],!0)||po(U[P-1],!0))return Zo}else if(r.segments||r.handles){for(var ho=0;ho<P;ho++)if(Zo=po(U[ho]))return Zo}if(B!==null){if(ro=this.getNearestLocation(e),ro){var yo=ro.getTime();if(yo===0||yo===1&&P>1){if(!Fo(ro.getSegment()))ro=null}else if(!lo(ro.getPoint(),oo))ro=null}if(!ro&&H==="miter"&&P>1)for(var ho=0;ho<P;ho++){var jo=U[ho];if(e.getDistance(jo._point)<=no*B&&Fo(jo)){ro=jo.getLocation();break}}}return!ro&&eo&&this._contains(e)||ro&&!A&&!so?new l("fill",this):ro?new l(A?"stroke":"curve",this,{location:ro,point:ro.getPoint()}):null}},v.each(N._evaluateMethods,function(e){this[e+"At"]=function(r){var f=this.getLocationAt(r);return f&&f[e]()}},{beans:!1,getLocationOf:function(){var e=q.read(arguments),r=this.getCurves();for(var f=0,R=r.length;f<R;f++){var M=r[f].getLocationOf(e);if(M)return M}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e==="number"){var r=this.getCurves(),f=0;for(var R=0,M=r.length;R<M;R++){var O=f,U=r[R];if(f+=U.getLength(),f>e)return U.getLocationAt(e-O)}if(r.length>0&&e<=this.getLength())return new p(r[r.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=q.read(arguments);if(e.isZero())return[];var r=[],f=0,R=this.getCurves();for(var M=0,O=R.length;M<O;M++){var U=R[M],P=U.getTimesWithTangent(e);for(var j=0,J=P.length;j<J;j++){var oo=f+U.getOffsetAtTime(P[j]);if(r.indexOf(oo)<0)r.push(oo)}f+=U.length}return r}}),new function(){function e(f,R,M,O){if(O<=0)return;var U=O/2,P=O-2,j=U-1,J=new Array(6),oo,H;function G(eo){var so=J[eo],B=J[eo+1];if(oo!=so||H!=B)f.beginPath(),f.moveTo(oo,H),f.lineTo(so,B),f.stroke(),f.beginPath(),f.arc(so,B,U,0,Math.PI*2,!0),f.fill()}for(var no=0,Q=R.length;no<Q;no++){var ro=R[no],Zo=ro._selection;if(ro._transformCoordinates(M,J),oo=J[0],H=J[1],Zo&2)G(2);if(Zo&4)G(4);if(f.fillRect(oo-U,H-U,O,O),P>0&&!(Zo&1)){var A=f.fillStyle;f.fillStyle="#ffffff",f.fillRect(oo-j,H-j,P,P),f.fillStyle=A}}}function r(f,R,M){var O=R._segments,U=O.length,P=new Array(6),j=!0,J,oo,H,G,no,Q,ro,Zo;function A(so){if(M)so._transformCoordinates(M,P),J=P[0],oo=P[1];else{var B=so._point;J=B._x,oo=B._y}if(j)f.moveTo(J,oo),j=!1;else{if(M)no=P[2],Q=P[3];else{var lo=so._handleIn;no=J+lo._x,Q=oo+lo._y}if(no===J&&Q===oo&&ro===H&&Zo===G)f.lineTo(J,oo);else f.bezierCurveTo(ro,Zo,no,Q,J,oo)}if(H=J,G=oo,M)ro=P[4],Zo=P[5];else{var lo=so._handleOut;ro=H+lo._x,Zo=G+lo._y}}for(var eo=0;eo<U;eo++)A(O[eo]);if(R._closed&&U>0)A(O[0])}return{_draw:function(f,R,M,O){var U=R.dontStart,P=R.dontFinish||R.clip,j=this.getStyle(),J=j.hasFill(),oo=j.hasStroke(),H=j.getDashArray(),G=!L.support.nativeDash&&oo&&H&&H.length;if(!U)f.beginPath();if(J||oo&&!G||P){if(r(f,this,O),this._closed)f.closePath()}function no(so){return H[(so%G+G)%G]}if(!P&&(J||oo)){if(this._setStyles(f,R,M),J)f.fill(j.getFillRule()),f.shadowColor="rgba(0,0,0,0)";if(oo){if(G){if(!U)f.beginPath();var Q=new w(this,0.25,32,!1,O),ro=Q.length,Zo=-j.getDashOffset(),A,eo=0;while(Zo>0)Zo-=no(eo--)+no(eo--);while(Zo<ro){if(A=Zo+no(eo++),Zo>0||A>0)Q.drawPart(f,Math.max(Zo,0),Math.max(A,0));Zo=A+no(eo++)}}f.stroke()}}},_drawSelected:function(f,R){f.beginPath(),r(f,this,R),f.stroke(),e(f,this._segments,R,L.settings.handleSize)}}},new function(){function e(r){var f=r._segments;if(!f.length)throw new Error("Use a moveTo() command first");return f[f.length-1]}return{moveTo:function(){var r=this._segments;if(r.length===1)this.removeSegment(0);if(!r.length)this._add([new m(q.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new m(q.read(arguments))])},cubicCurveTo:function(){var r=arguments,f=q.read(r),R=q.read(r),M=q.read(r),O=e(this);O.setHandleOut(f.subtract(O._point)),this._add([new m(M,R.subtract(M))])},quadraticCurveTo:function(){var r=arguments,f=q.read(r),R=q.read(r),M=e(this)._point;this.cubicCurveTo(f.add(M.subtract(f).multiply(0.3333333333333333)),f.add(R.subtract(f).multiply(0.3333333333333333)),R)},curveTo:function(){var r=arguments,f=q.read(r),R=q.read(r),M=v.pick(v.read(r),0.5),O=1-M,U=e(this)._point,P=f.subtract(U.multiply(O*O)).subtract(R.multiply(M*M)).divide(2*M*O);if(P.isNaN())throw new Error("Cannot put a curve through points with parameter = "+M);this.quadraticCurveTo(P,R)},arcTo:function(){var r=arguments,f=Math.abs,R=Math.sqrt,M=e(this),O=M._point,U=q.read(r),Q,P=v.peek(r),j=v.pick(P,!0),J,oo,H,G;if(typeof j==="boolean")var no=O.add(U).divide(2),Q=no.add(no.subtract(O).rotate(j?-90:90));else if(v.remain(r)<=2)Q=U,U=q.read(r);else if(!O.equals(U)){var ro=g.read(r),Zo=V.isZero;if(Zo(ro.width)||Zo(ro.height))return this.lineTo(U);var A=v.read(r),j=!!v.read(r),eo=!!v.read(r),no=O.add(U).divide(2),so=O.subtract(no).rotate(-A),B=so.x,lo=so.y,Ro=f(ro.width),po=f(ro.height),_o=Ro*Ro,Fo=po*po,ho=B*B,yo=lo*lo,jo=R(ho/_o+yo/Fo);if(jo>1)Ro*=jo,po*=jo,_o=Ro*Ro,Fo=po*po;if(jo=(_o*Fo-_o*yo-Fo*ho)/(_o*yo+Fo*ho),f(jo)<0.000000000001)jo=0;if(jo<0)throw new Error("Cannot create an arc with the given arguments");if(J=new q(Ro*lo/po,-po*B/Ro).multiply((eo===j?-1:1)*R(jo)).rotate(A).add(no),G=new Y().translate(J).rotate(A).scale(Ro,po),H=G._inverseTransform(O),oo=H.getDirectedAngle(G._inverseTransform(U)),!j&&oo>0)oo-=360;else if(j&&oo<0)oo+=360}if(Q){var To=new C(O.add(Q).divide(2),Q.subtract(O).rotate(90),!0),qo=new C(Q.add(U).divide(2),U.subtract(Q).rotate(90),!0),Eo=new C(O,U),Wo=Eo.getSide(Q);if(J=To.intersect(qo,!0),!J){if(!Wo)return this.lineTo(U);throw new Error("Cannot create an arc with the given arguments")}H=O.subtract(J),oo=H.getDirectedAngle(U.subtract(J));var Oo=Eo.getSide(J,!0);if(Oo===0)oo=Wo*f(oo);else if(Wo===Oo)oo+=oo<0?360:-360}if(oo){var Go=0.00001,Io=f(oo),Do=Io>=360?4:Math.ceil((Io-Go)/90),Qo=oo/Do,Bo=Qo*Math.PI/360,oa=1.3333333333333333*Math.sin(Bo)/(1+Math.cos(Bo)),Yo=[];for(var aa=0;aa<=Do;aa++){var so=U,Co=null;if(aa<Do)if(Co=H.rotate(90).multiply(oa),G)so=G._transformPoint(H),Co=G._transformPoint(H.add(Co)).subtract(so);else so=J.add(H);if(!aa)M.setHandleOut(Co);else{var ra=H.rotate(-90).multiply(oa);if(G)ra=G._transformPoint(H.add(ra)).subtract(so);Yo.push(new m(so,ra,Co))}H=H.rotate(Qo)}this._add(Yo)}},lineBy:function(){var r=q.read(arguments),f=e(this)._point;this.lineTo(f.add(r))},curveBy:function(){var r=arguments,f=q.read(r),R=q.read(r),M=v.read(r),O=e(this)._point;this.curveTo(O.add(f),O.add(R),M)},cubicCurveBy:function(){var r=arguments,f=q.read(r),R=q.read(r),M=q.read(r),O=e(this)._point;this.cubicCurveTo(O.add(f),O.add(R),O.add(M))},quadraticCurveBy:function(){var r=arguments,f=q.read(r),R=q.read(r),M=e(this)._point;this.quadraticCurveTo(M.add(f),M.add(R))},arcBy:function(){var r=arguments,f=e(this)._point,R=f.add(q.read(r)),M=v.pick(v.peek(r),!0);if(typeof M==="boolean")this.arcTo(R,M);else this.arcTo(R,f.add(q.read(r)))},closePath:function(r){this.setClosed(!0),this.join(this,r)}}},{_getBounds:function(e,r){var f=r.handle?"getHandleBounds":r.stroke?"getStrokeBounds":"getBounds";return b[f](this._segments,this._closed,this,e,r)},statics:{getBounds:function(e,r,f,R,M,O){var U=e[0];if(!U)return new z;var P=new Array(6),j=U._transformCoordinates(R,new Array(6)),J=j.slice(0,2),oo=J.slice(),H=new Array(2);function G(ro){ro._transformCoordinates(R,P);for(var Zo=0;Zo<2;Zo++)N._addBounds(j[Zo],j[Zo+4],P[Zo+2],P[Zo],Zo,O?O[Zo]:0,J,oo,H);var A=j;j=P,P=A}for(var no=1,Q=e.length;no<Q;no++)G(e[no]);if(r)G(U);return new z(J[0],J[1],oo[0]-J[0],oo[1]-J[1])},getStrokeBounds:function(e,r,f,R,M){var O=f.getStyle(),U=O.hasStroke(),P=O.getStrokeWidth(),j=U&&f._getStrokeMatrix(R,M),J=U&&b._getStrokePadding(P,j),oo=b.getBounds(e,r,f,R,M,J);if(!U)return oo;var H=P/2,G=O.getStrokeJoin(),no=O.getStrokeCap(),Q=O.getMiterLimit(),ro=new z(new g(J));function Zo(Ro){oo=oo.include(Ro)}function A(Ro){oo=oo.unite(ro.setCenter(Ro._point.transform(R)))}function eo(Ro,po){if(po==="round"||Ro.isSmooth())A(Ro);else b._addBevelJoin(Ro,po,H,Q,R,j,Zo)}function so(Ro,po){if(po==="round")A(Ro);else b._addSquareCap(Ro,po,H,R,j,Zo)}var B=e.length-(r?0:1);if(B>0){for(var lo=1;lo<B;lo++)eo(e[lo],G);if(r)eo(e[0],G);else so(e[0],no),so(e[e.length-1],no)}return oo},_getStrokePadding:function(e,r){if(!r)return[e,e];var f=new q(e,0).transform(r),R=new q(0,e).transform(r),M=f.getAngleInRadians(),O=f.getLength(),U=R.getLength(),P=Math.sin(M),j=Math.cos(M),J=Math.tan(M),oo=Math.atan2(U*J,O),H=Math.atan2(U,J*O);return[Math.abs(O*Math.cos(oo)*j+U*Math.sin(oo)*P),Math.abs(U*Math.sin(H)*j+O*Math.cos(H)*P)]},_addBevelJoin:function(e,r,f,R,M,O,U,P){var j=e.getCurve(),J=j.getPrevious(),oo=j.getPoint1().transform(M),H=J.getNormalAtTime(1).multiply(f).transform(O),G=j.getNormalAtTime(0).multiply(f).transform(O),no=H.getDirectedAngle(G);if(no<0||no>=180)H=H.negate(),G=G.negate();if(P)U(oo);if(U(oo.add(H)),r==="miter"){var Q=new C(oo.add(H),new q(-H.y,H.x),!0).intersect(new C(oo.add(G),new q(-G.y,G.x),!0),!0);if(Q&&oo.getDistance(Q)<=R*f)U(Q)}U(oo.add(G))},_addSquareCap:function(e,r,f,R,M,O,U){var P=e._point.transform(R),j=e.getLocation(),J=j.getNormal().multiply(j.getTime()===0?f:-f).transform(M);if(r==="square"){if(U)O(P.subtract(J)),O(P.add(J));P=P.add(J.rotate(-90))}O(P.add(J)),O(P.subtract(J))},getHandleBounds:function(e,r,f,R,M){var O=f.getStyle(),U=M.stroke&&O.hasStroke(),P,j;if(U){var J=f._getStrokeMatrix(R,M),oo=O.getStrokeWidth()/2,H=oo;if(O.getStrokeJoin()==="miter")H=oo*O.getMiterLimit();if(O.getStrokeCap()==="square")H=Math.max(H,oo*Math.SQRT2);P=b._getStrokePadding(oo,J),j=b._getStrokePadding(H,J)}var G=new Array(6),no=1/0,Q=-no,ro=no,Zo=Q;for(var A=0,eo=e.length;A<eo;A++){var so=e[A];so._transformCoordinates(R,G);for(var B=0;B<6;B+=2){var lo=!B?j:P,Ro=lo?lo[0]:0,po=lo?lo[1]:0,_o=G[B],Fo=G[B+1],ho=_o-Ro,yo=_o+Ro,jo=Fo-po,To=Fo+po;if(ho<no)no=ho;if(yo>Q)Q=yo;if(jo<ro)ro=jo;if(To>Zo)Zo=To}}return new z(no,ro,Q-no,Zo-ro)}}});b.inject({statics:new function(){var e=0.5522847498307936,r=[new m([-1,0],[0,e],[0,-e]),new m([0,-1],[-e,0],[e,0]),new m([1,0],[0,-e],[0,e]),new m([0,1],[e,0],[-e,0])];function f(M,O,U){var P=v.getNamed(U),j=new b(P&&(P.insert==!0?to.INSERT:P.insert==!1?to.NO_INSERT:null));return j._add(M),j._closed=O,j.set(P,to.INSERT)}function R(M,O,U){var P=new Array(4);for(var j=0;j<4;j++){var J=r[j];P[j]=new m(J._point.multiply(O).add(M),J._handleIn.multiply(O),J._handleOut.multiply(O))}return f(P,!0,U)}return{Line:function(){var M=arguments;return f([new m(q.readNamed(M,"from")),new m(q.readNamed(M,"to"))],!1,M)},Circle:function(){var M=arguments,O=q.readNamed(M,"center"),U=v.readNamed(M,"radius");return R(O,new g(U),M)},Rectangle:function(){var M=arguments,O=z.readNamed(M,"rectangle"),U=g.readNamed(M,"radius",0,{readNull:!0}),P=O.getBottomLeft(!0),j=O.getTopLeft(!0),J=O.getTopRight(!0),oo=O.getBottomRight(!0),H;if(!U||U.isZero())H=[new m(P),new m(j),new m(J),new m(oo)];else{U=g.min(U,O.getSize(!0).divide(2));var{width:G,height:no}=U,Q=G*e,ro=no*e;H=[new m(P.add(G,0),null,[-Q,0]),new m(P.subtract(0,no),[0,ro]),new m(j.add(0,no),null,[0,-ro]),new m(j.add(G,0),[-Q,0],null),new m(J.subtract(G,0),null,[Q,0]),new m(J.add(0,no),[0,-ro],null),new m(oo.subtract(0,no),null,[0,ro]),new m(oo.subtract(G,0),[Q,0])]}return f(H,!0,M)},RoundRectangle:"#Rectangle",Ellipse:function(){var M=arguments,O=Vo._readEllipse(M);return R(O.center,O.radius,M)},Oval:"#Ellipse",Arc:function(){var M=arguments,O=q.readNamed(M,"from"),U=q.readNamed(M,"through"),P=q.readNamed(M,"to"),j=v.getNamed(M),J=new b(j&&j.insert==!1&&to.NO_INSERT);return J.moveTo(O),J.arcTo(U,P),J.set(j)},RegularPolygon:function(){var M=arguments,O=q.readNamed(M,"center"),U=v.readNamed(M,"sides"),P=v.readNamed(M,"radius"),j=360/U,J=U%3===0,oo=new q(0,J?-P:P),H=J?-1:0.5,G=new Array(U);for(var no=0;no<U;no++)G[no]=new m(O.add(oo.rotate((no+H)*j)));return f(G,!0,M)},Star:function(){var M=arguments,O=q.readNamed(M,"center"),U=v.readNamed(M,"points")*2,P=v.readNamed(M,"radius1"),j=v.readNamed(M,"radius2"),J=360/U,oo=new q(0,-1),H=new Array(U);for(var G=0;G<U;G++)H[G]=new m(O.add(oo.rotate(J*G).multiply(G%2?j:P)));return f(H,!0,M)}}}});var S=a.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function e(r){if(this._children=[],this._namedChildren={},!this._initialize(r))if(typeof r==="string")this.setPathData(r);else this.addChildren(Array.isArray(r)?r:arguments)},insertChildren:function e(r,f){var R=f,M=R[0];if(M&&typeof M[0]==="number")R=[R];for(var O=f.length-1;O>=0;O--){var U=R[O];if(R===f&&!(U instanceof b))R=v.slice(R);if(Array.isArray(U))R[O]=new b({segments:U,insert:!1});else if(U instanceof S)R.splice.apply(R,[O,1].concat(U.removeChildren())),U.remove()}return e.base.call(this,r,R)},reduce:function e(r){var f=this._children;for(var R=f.length-1;R>=0;R--){var M=f[R].reduce(r);if(M.isEmpty())M.remove()}if(!f.length){var M=new b(to.NO_INSERT);return M.copyAttributes(this),M.insertAbove(this),this.remove(),M}return e.base.call(this)},isClosed:function(){var e=this._children;for(var r=0,f=e.length;r<f;r++)if(!e[r]._closed)return!1;return!0},setClosed:function(e){var r=this._children;for(var f=0,R=r.length;f<R;f++)r[f].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){var e=this._children,r=[];for(var f=0,R=e.length;f<R;f++)v.push(r,e[f].getCurves());return r},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){var e=this._children,r=0;for(var f=0,R=e.length;f<R;f++)r+=e[f].getArea();return r},getLength:function(){var e=this._children,r=0;for(var f=0,R=e.length;f<R;f++)r+=e[f].getLength();return r},getPathData:function(e,r){var f=this._children,R=[];for(var M=0,O=f.length;M<O;M++){var U=f[M],P=U._matrix;R.push(U.getPathData(e&&!P.isIdentity()?e.appended(P):e,r))}return R.join("")},_hitTestChildren:function e(r,f,R){return e.base.call(this,r,f.class===b||f.type==="path"?f:v.set({},f,{fill:!1}),R)},_draw:function(e,r,f,R){var M=this._children;if(!M.length)return;r=r.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var O=0,U=M.length;O<U;O++)M[O].draw(e,r,R);if(!r.clip){this._setStyles(e,r,f);var P=this._style;if(P.hasFill())e.fill(P.getFillRule()),e.shadowColor="rgba(0,0,0,0)";if(P.hasStroke())e.stroke()}},_drawSelected:function(e,r,f){var R=this._children;for(var M=0,O=R.length;M<O;M++){var U=R[M],P=U._matrix;if(!f[U._id])U._drawSelected(e,P.isIdentity()?r:r.appended(P))}}},new function(){function e(r,f){var R=r._children;if(f&&!R.length)throw new Error("Use a moveTo() command first");return R[R.length-1]}return v.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(r){this[r]=function(){var f=e(this,!0);f[r].apply(f,arguments)}},{moveTo:function(){var r=e(this),f=r&&r.isEmpty()?r:new b(to.NO_INSERT);if(f!==r)this.addChild(f);f.moveTo.apply(f,arguments)},moveBy:function(){var r=e(this,!0),f=r&&r.getLastSegment(),R=q.read(arguments);this.moveTo(f?R.add(f._point):R)},closePath:function(r){e(this,!0).closePath(r)}})},v.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(r){var f=this._children,R;for(var M=0,O=f.length;M<O;M++)R=f[M][e](r)||R;return R}},{}));a.inject(new function(){var{min:e,max:r,abs:f}=Math,R={unite:{"1":!0,"2":!0},intersect:{"2":!0},subtract:{"1":!0},exclude:{"1":!0,"-1":!0}};function M(A){return A._children||[A]}function O(A,eo){var so=A.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(eo){var B=M(so);for(var lo=0,Ro=B.length;lo<Ro;lo++){var A=B[lo];if(!A._closed&&!A.isEmpty())A.closePath(0.000000000001),A.getFirstSegment().setHandleIn(0,0),A.getLastSegment().setHandleOut(0,0)}so=so.resolveCrossings().reorient(so.getFillRule()==="nonzero",!0)}return so}function U(A,eo,so,B,lo){var Ro=new S(to.NO_INSERT);if(Ro.addChildren(A,!0),Ro=Ro.reduce({simplify:eo}),!(lo&&lo.insert==!1))Ro.insertAbove(B&&so.isSibling(B)&&so.getIndex()<B.getIndex()?B:so);return Ro.copyAttributes(so,!0),Ro}function P(A){return A.hasOverlap()||A.isCrossing()}function j(A,eo,so,B){if(B&&(B.trace==!1||B.stroke)&&/^(subtract|intersect)$/.test(so))return J(A,eo,so);var lo=O(A,!0),Ro=eo&&A!==eo&&O(eo,!0),po=R[so];if(po[so]=!0,Ro&&(po.subtract||po.exclude)^(Ro.isClockwise()^lo.isClockwise()))Ro.reverse();var _o=no(p.expand(lo.getIntersections(Ro,P))),Fo=M(lo),ho=Ro&&M(Ro),yo=[],jo=[],To;function qo(Co){for(var ra=0,ea=Co.length;ra<ea;ra++){var la=Co[ra];v.push(yo,la._segments),v.push(jo,la.getCurves()),la._overlapsOnly=!0}}function Eo(Co){var ra=[];for(var ea=0,la=Co&&Co.length;ea<la;ea++)ra.push(jo[Co[ea]]);return ra}if(_o.length){if(qo(Fo),ho)qo(ho);var Wo=new Array(jo.length);for(var Oo=0,Go=jo.length;Oo<Go;Oo++)Wo[Oo]=jo[Oo].getValues();var Io=Z.findCurveBoundsCollisions(Wo,Wo,0,!0),Do={};for(var Oo=0;Oo<jo.length;Oo++){var Qo=jo[Oo],Bo=Qo._path._id,oa=Do[Bo]=Do[Bo]||{};oa[Qo.getIndex()]={hor:Eo(Io[Oo].hor),ver:Eo(Io[Oo].ver)}}for(var Oo=0,Go=_o.length;Oo<Go;Oo++)ro(_o[Oo]._segment,lo,Ro,Do,po);for(var Oo=0,Go=yo.length;Oo<Go;Oo++){var Yo=yo[Oo],aa=Yo._intersection;if(!Yo._winding)ro(Yo,lo,Ro,Do,po);if(!(aa&&aa._overlap))Yo._path._overlapsOnly=!1}To=Zo(yo,po)}else To=G(ho?Fo.concat(ho):Fo.slice(),function(Co){return!!po[Co]});return U(To,!0,A,eo,B)}function J(A,eo,so){var B=O(A),lo=O(eo),Ro=B.getIntersections(lo,P),po=so==="subtract",_o=so==="divide",Fo={},ho=[];function yo(qo){if(!Fo[qo._id]&&(_o||lo.contains(qo.getPointAt(qo.getLength()/2))^po))return ho.unshift(qo),Fo[qo._id]=!0}for(var jo=Ro.length-1;jo>=0;jo--){var To=Ro[jo].split();if(To){if(yo(To))To.getFirstSegment().setHandleIn(0,0);B.getLastSegment().setHandleOut(0,0)}}return yo(B),U(ho,!1,A,eo)}function oo(A,eo){var so=A;while(so){if(so===eo)return;so=so._previous}while(A._next&&A._next!==eo)A=A._next;if(!A._next){while(eo._previous)eo=eo._previous;A._next=eo,eo._previous=A}}function H(A){for(var eo=A.length-1;eo>=0;eo--)A[eo].clearHandles()}function G(A,eo,so){var B=A&&A.length;if(B){var lo=v.each(A,function(Io,Do){this[Io._id]={container:null,winding:Io.isClockwise()?1:-1,index:Do}},{}),Ro=A.slice().sort(function(Io,Do){return f(Do.getArea())-f(Io.getArea())}),po=Ro[0],_o=Z.findItemBoundsCollisions(Ro,null,V.GEOMETRIC_EPSILON);if(so==null)so=po.isClockwise();for(var Fo=0;Fo<B;Fo++){var ho=Ro[Fo],yo=lo[ho._id],jo=0,To=_o[Fo];if(To){var qo=null;for(var Eo=To.length-1;Eo>=0;Eo--)if(To[Eo]<Fo){qo=qo||ho.getInteriorPoint();var Wo=Ro[To[Eo]];if(Wo.contains(qo)){var Oo=lo[Wo._id];jo=Oo.winding,yo.winding+=jo,yo.container=Oo.exclude?Oo.container:Wo;break}}}if(eo(yo.winding)===eo(jo))yo.exclude=!0,A[yo.index]=null;else{var Go=yo.container;ho.setClockwise(Go?!Go.isClockwise():so)}}}return A}function no(A,eo,so){var B=eo&&[],lo=0.00000001,Ro=1-lo,po=!1,_o=so||[],Fo=so&&{},ho,yo,jo;function To(ra){return ra._path._id+"."+ra._segment1._index}for(var qo=(so&&so.length)-1;qo>=0;qo--){var Eo=so[qo];if(Eo._path)Fo[To(Eo)]=!0}for(var qo=A.length-1;qo>=0;qo--){var Wo=A[qo],Oo=Wo._time,Go=Oo,Io=eo&&!eo(Wo),Eo=Wo._curve,Do;if(Eo){if(Eo!==yo)po=!Eo.hasHandles()||Fo&&Fo[To(Eo)],ho=[],jo=null,yo=Eo;else if(jo>=lo)Oo/=jo}if(Io){if(ho)ho.push(Wo);continue}else if(eo)B.unshift(Wo);if(jo=Go,Oo<lo)Do=Eo._segment1;else if(Oo>Ro)Do=Eo._segment2;else{var Qo=Eo.divideAtTime(Oo,!0);if(po)_o.push(Eo,Qo);Do=Qo._segment1;for(var Bo=ho.length-1;Bo>=0;Bo--){var oa=ho[Bo];oa._time=(oa._time-Oo)/(1-Oo)}}Wo._setSegment(Do);var Yo=Do._intersection,aa=Wo._intersection;if(Yo){oo(Yo,aa);var Co=Yo;while(Co)oo(Co._intersection,Yo),Co=Co._next}else Do._intersection=aa}if(!so)H(_o);return B||A}function Q(A,eo,so,B,lo){var Ro=Array.isArray(eo)?eo:eo[so?"hor":"ver"],po=so?1:0,_o=po^1,Fo=[A.x,A.y],ho=Fo[po],yo=Fo[_o],jo=0.000000001,To=0.000001,qo=ho-jo,Eo=ho+jo,Wo=0,Oo=0,Go=0,Io=0,Do=!1,Qo=!1,Bo=1,oa=[],Yo,aa;function Co(ca){var Ta=ca[_o+0],za=ca[_o+6];if(yo<e(Ta,za)||yo>r(Ta,za))return;var xa=ca[po+0],qe=ca[po+2],Pn=ca[po+4],Te=ca[po+6];if(Ta===za){if(xa<Eo&&Te>qo||Te<Eo&&xa>qo)Do=!0;return}var Ie=yo===Ta?0:yo===za?1:qo>r(xa,qe,Pn,Te)||Eo<e(xa,qe,Pn,Te)?1:N.solveCubic(ca,_o,yo,oa,0,1)>0?oa[0]:1,oe=Ie===0?xa:Ie===1?Te:N.getPoint(ca,Ie)[so?"y":"x"],ee=Ta>za?1:-1,Fl=Yo[_o]>Yo[_o+6]?1:-1,Ge=Yo[po+6];if(yo!==Ta){if(oe<qo)Go+=ee;else if(oe>Eo)Io+=ee;else Do=!0;if(oe>ho-To&&oe<ho+To)Bo/=2}else{if(ee!==Fl){if(xa<qo)Go+=ee;else if(xa>Eo)Io+=ee}else if(xa!=Ge){if(Ge<Eo&&oe>Eo)Io+=ee,Do=!0;else if(Ge>qo&&oe<qo)Go+=ee,Do=!0}Bo/=4}return Yo=ca,!lo&&oe>qo&&oe<Eo&&N.getTangent(ca,Ie)[so?"x":"y"]===0&&Q(A,eo,!so,B,!0)}function ra(ca){var Ta=ca[_o+0],za=ca[_o+2],xa=ca[_o+4],qe=ca[_o+6];if(yo<=r(Ta,za,xa,qe)&&yo>=e(Ta,za,xa,qe)){var Pn=ca[po+0],Te=ca[po+2],Ie=ca[po+4],oe=ca[po+6],ee=qo>r(Pn,Te,Ie,oe)||Eo<e(Pn,Te,Ie,oe)?[ca]:N.getMonoCurves(ca,so),Fl;for(var Ge=0,W6=ee.length;Ge<W6;Ge++)if(Fl=Co(ee[Ge]))return Fl}}for(var ea=0,la=Ro.length;ea<la;ea++){var sa=Ro[ea],na=sa._path,ma=sa.getValues(),ba;if(!ea||Ro[ea-1]._path!==na){if(Yo=null,!na._closed){if(aa=N.getValues(na.getLastCurve().getSegment2(),sa.getSegment1(),null,!B),aa[_o]!==aa[_o+6])Yo=aa}if(!Yo){Yo=ma;var _a=na.getLastCurve();while(_a&&_a!==sa){var ia=_a.getValues();if(ia[_o]!==ia[_o+6]){Yo=ia;break}_a=_a.getPrevious()}}}if(ba=ra(ma))return ba;if(ea+1===la||Ro[ea+1]._path!==na){if(aa&&(ba=ra(aa)))return ba;if(Do&&!Go&&!Io)Go=Io=na.isClockwise(B)^so?1:-1;if(Wo+=Go,Oo+=Io,Go=Io=0,Do)Qo=!0,Do=!1;aa=null}}return Wo=f(Wo),Oo=f(Oo),{winding:r(Wo,Oo),windingL:Wo,windingR:Oo,quality:Bo,onPath:Qo}}function ro(A,eo,so,B,lo){var Ro=[],po=A,_o=0,jo;do{var Fo=A.getCurve();if(Fo){var ho=Fo.getLength();Ro.push({segment:A,curve:Fo,length:ho}),_o+=ho}A=A.getNext()}while(A&&!A._intersection&&A!==po);var yo=[0.5,0.25,0.75],jo={winding:0,quality:-1},To=0.001,qo=1-To;for(var Eo=0;Eo<yo.length&&jo.quality<0.5;Eo++){var ho=_o*yo[Eo];for(var Wo=0,Oo=Ro.length;Wo<Oo;Wo++){var Go=Ro[Wo],Io=Go.length;if(ho<=Io){var Fo=Go.curve,Do=Fo._path,Qo=Do._parent,Bo=Qo instanceof S?Qo:Do,oa=V.clamp(Fo.getTimeAt(ho),To,qo),Yo=Fo.getPointAtTime(oa),aa=f(Fo.getTangentAtTime(oa).y)<Math.SQRT1_2,Co=null;if(lo.subtract&&so){var ra=Bo===eo?so:eo,ea=ra._getWinding(Yo,aa,!0);if(Bo===eo&&ea.winding||Bo===so&&!ea.winding)if(ea.quality<1)continue;else Co={winding:0,quality:1}}if(Co=Co||Q(Yo,B[Do._id][Fo.getIndex()],aa,!0),Co.quality>jo.quality)jo=Co;break}ho-=Io}}for(var Wo=Ro.length-1;Wo>=0;Wo--)Ro[Wo].segment._winding=jo}function Zo(A,eo){var so=[],B;function lo(la){var sa;return!!(la&&!la._visited&&(!eo||eo[(sa=la._winding||{}).winding]&&!(eo.unite&&sa.winding===2&&sa.windingL&&sa.windingR)))}function Ro(la){if(la){for(var sa=0,na=B.length;sa<na;sa++)if(la===B[sa])return!0}return!1}function po(la){var sa=la._segments;for(var na=0,ma=sa.length;na<ma;na++)sa[na]._visited=!0}function _o(la,sa){var na=la._intersection,ma=na,ba=[];if(sa)B=[la];function _a(ia,ca){while(ia&&ia!==ca){var Ta=ia._segment,za=Ta&&Ta._path;if(za){var xa=Ta.getNext()||za.getFirstSegment(),qe=xa._intersection;if(Ta!==la&&(Ro(Ta)||Ro(xa)||xa&&(lo(Ta)&&(lo(xa)||qe&&lo(qe._segment)))))ba.push(Ta);if(sa)B.push(Ta)}ia=ia._next}}if(na){_a(na);while(na&&na._previous)na=na._previous;_a(na,ma)}return ba}A.sort(function(la,sa){var na=la._intersection,ma=sa._intersection,ba=!!(na&&na._overlap),_a=!!(ma&&ma._overlap),ia=la._path,ca=sa._path;return ba^_a?ba?1:-1:!na^!ma?na?1:-1:ia!==ca?ia._id-ca._id:la._index-sa._index});for(var Fo=0,ho=A.length;Fo<ho;Fo++){var yo=A[Fo],jo=lo(yo),To=null,qo=!1,Eo=!0,Wo=[],Oo,Go,Io;if(jo&&yo._path._overlapsOnly){var Do=yo._path,Qo=yo._intersection._segment._path;if(Do.compare(Qo)){if(Do.getArea())so.push(Do.clone(!1));po(Do),po(Qo),jo=!1}}while(jo){var Bo=!To,oa=_o(yo,Bo),Yo=oa.shift(),qo=!Bo&&(Ro(yo)||Ro(Yo)),aa=!qo&&Yo;if(Bo)To=new b(to.NO_INSERT),Oo=null;if(qo){if(yo.isFirst()||yo.isLast())Eo=yo._path._closed;yo._visited=!0;break}if(aa&&Oo)Wo.push(Oo),Oo=null;if(!Oo){if(aa)oa.push(yo);Oo={start:To._segments.length,crossings:oa,visited:Go=[],handleIn:Io}}if(aa)yo=Yo;if(!lo(yo)){To.removeSegments(Oo.start);for(var Co=0,ra=Go.length;Co<ra;Co++)Go[Co]._visited=!1;Go.length=0;do if(yo=Oo&&Oo.crossings.shift(),!yo||!yo._path){if(yo=null,Oo=Wo.pop(),Oo)Go=Oo.visited,Io=Oo.handleIn}while(Oo&&!lo(yo));if(!yo)break}var ea=yo.getNext();To.add(new m(yo._point,Io,ea&&yo._handleOut)),yo._visited=!0,Go.push(yo),yo=ea||yo._path.getFirstSegment(),Io=ea&&ea._handleIn}if(qo){if(Eo)To.getFirstSegment().setHandleIn(Io),To.setClosed(Eo);if(To.getArea()!==0)so.push(To)}}return so}return{_getWinding:function(A,eo,so){return Q(A,this.getCurves(),eo,so)},unite:function(A,eo){return j(this,A,"unite",eo)},intersect:function(A,eo){return j(this,A,"intersect",eo)},subtract:function(A,eo){return j(this,A,"subtract",eo)},exclude:function(A,eo){return j(this,A,"exclude",eo)},divide:function(A,eo){return eo&&(eo.trace==!1||eo.stroke)?J(this,A,"divide"):U([this.subtract(A,eo),this.intersect(A,eo)],!0,this,A,eo)},resolveCrossings:function(){var A=this._children,eo=A||[this];function so(Oo,Go){var Io=Oo&&Oo._intersection;return Io&&Io._overlap&&Io._path===Go}var B=!1,lo=!1,Ro=this.getIntersections(null,function(Oo){return Oo.hasOverlap()&&(B=!0)||Oo.isCrossing()&&(lo=!0)}),po=B&&lo&&[];if(Ro=p.expand(Ro),B){var _o=no(Ro,function(Oo){return Oo.hasOverlap()},po);for(var Fo=_o.length-1;Fo>=0;Fo--){var ho=_o[Fo],yo=ho._path,jo=ho._segment,To=jo.getPrevious(),qo=jo.getNext();if(so(To,yo)&&so(qo,yo)){if(jo.remove(),To._handleOut._set(0,0),qo._handleIn._set(0,0),To!==jo&&!To.getCurve().hasLength())qo._handleIn.set(To._handleIn),To.remove()}}}if(lo){if(no(Ro,B&&function(Oo){var Go=Oo.getCurve(),Io=Oo.getSegment(),Do=Oo._intersection,Qo=Do._curve,Bo=Do._segment;if(Go&&Qo&&Go._path&&Qo._path)return!0;if(Io)Io._intersection=null;if(Bo)Bo._intersection=null},po),po)H(po);eo=Zo(v.each(eo,function(Oo){v.push(this,Oo._segments)},[]))}var Eo=eo.length,Wo;if(Eo>1&&A){if(eo!==A)this.setChildren(eo);Wo=this}else if(Eo===1&&!A){if(eo[0]!==this)this.setSegments(eo[0].removeSegments());Wo=this}if(!Wo)Wo=new S(to.NO_INSERT),Wo.addChildren(eo),Wo=Wo.reduce(),Wo.copyAttributes(this),this.replaceWith(Wo);return Wo},reorient:function(A,eo){var so=this._children;if(so&&so.length)this.setChildren(G(this.removeChildren(),function(B){return!!(A?B:B&1)},eo));else if(eo!==_)this.setClockwise(eo);return this},getInteriorPoint:function(){var A=this.getBounds(),eo=A.getCenter(!0);if(!this.contains(eo)){var so=this.getCurves(),B=eo.y,lo=[],Ro=[];for(var po=0,_o=so.length;po<_o;po++){var Fo=so[po].getValues(),ho=Fo[1],yo=Fo[3],jo=Fo[5],To=Fo[7];if(B>=e(ho,yo,jo,To)&&B<=r(ho,yo,jo,To)){var qo=N.getMonoCurves(Fo);for(var Eo=0,Wo=qo.length;Eo<Wo;Eo++){var Oo=qo[Eo],Go=Oo[1],Io=Oo[7];if(Go!==Io&&(B>=Go&&B<=Io||B>=Io&&B<=Go)){var Do=B===Go?Oo[0]:B===Io?Oo[6]:N.solveCubic(Oo,1,B,Ro,0,1)===1?N.getPoint(Oo,Ro[0]).x:(Oo[0]+Oo[6])/2;lo.push(Do)}}}}if(lo.length>1)lo.sort(function(Qo,Bo){return Qo-Bo}),eo.x=(lo[0]+lo[1])/2}return eo}}});var w=v.extend({_class:"PathFlattener",initialize:function(e,r,f,R,M){var O=[],U=[],P=0,j=1/(f||32),J=e._segments,oo=J[0],H;function G(Zo,A){var eo=N.getValues(Zo,A,M);O.push(eo),no(eo,Zo._index,0,1)}function no(Zo,A,eo,so){if(so-eo>j&&!(R&&N.isStraight(Zo))&&!N.isFlatEnough(Zo,r||0.25)){var B=N.subdivide(Zo,0.5),lo=(eo+so)/2;no(B[0],A,eo,lo),no(B[1],A,lo,so)}else{var Ro=Zo[6]-Zo[0],po=Zo[7]-Zo[1],_o=Math.sqrt(Ro*Ro+po*po);if(_o>0)P+=_o,U.push({offset:P,curve:Zo,index:A,time:so})}}for(var Q=1,ro=J.length;Q<ro;Q++)H=J[Q],G(oo,H),oo=H;if(e._closed)G(H||oo,J[0]);this.curves=O,this.parts=U,this.length=P,this.index=0},_get:function(e){var r=this.parts,f=r.length,R,M,O=this.index;for(;;)if(M=O,!O||r[--O].offset<e)break;for(;M<f;M++){var U=r[M];if(U.offset>=e){this.index=M;var P=r[M-1],j=P&&P.index===U.index?P.time:0,J=P?P.offset:0;return{index:U.index,time:j+(U.time-j)*(e-J)/(U.offset-J)}}}return{index:r[f-1].index,time:1}},drawPart:function(e,r,f){var R=this._get(r),M=this._get(f);for(var O=R.index,U=M.index;O<=U;O++){var P=N.getPart(this.curves[O],O===R.index?R.time:0,O===M.index?M.time:1);if(O===R.index)e.moveTo(P[0],P[1]);e.bezierCurveTo.apply(e,P.slice(2))}}},v.each(N._evaluateMethods,function(e){this[e+"At"]=function(r){var f=this._get(r);return N[e](this.curves[f.index],f.time)}},{})),I=v.extend({initialize:function(e){var r=this.points=[],f=e._segments,R=e._closed;for(var M=0,O,U=f.length;M<U;M++){var P=f[M].point;if(!O||!O.equals(P))r.push(O=P.clone())}if(R)r.unshift(r[r.length-1]),r.push(r[1]);this.closed=R},fit:function(e){var r=this.points,f=r.length,R=null;if(f>0){if(R=[new m(r[0])],f>1){if(this.fitCubic(R,e,0,f-1,r[1].subtract(r[0]),r[f-2].subtract(r[f-1])),this.closed)R.shift(),R.pop()}}return R},fitCubic:function(e,r,f,R,M,O){var U=this.points;if(R-f===1){var P=U[f],j=U[R],J=P.getDistance(j)/3;this.addCurve(e,[P,P.add(M.normalize(J)),j.add(O.normalize(J)),j]);return}var oo=this.chordLengthParameterize(f,R),H=Math.max(r,r*r),G,no=!0;for(var Q=0;Q<=4;Q++){var ro=this.generateBezier(f,R,oo,M,O),Zo=this.findMaxError(f,R,ro,oo);if(Zo.error<r&&no){this.addCurve(e,ro);return}if(G=Zo.index,Zo.error>=H)break;no=this.reparameterize(f,R,oo,ro),H=Zo.error}var A=U[G-1].subtract(U[G+1]);this.fitCubic(e,r,f,G,M,A),this.fitCubic(e,r,G,R,A.negate(),O)},addCurve:function(e,r){var f=e[e.length-1];f.setHandleOut(r[1].subtract(r[0])),e.push(new m(r[3],r[2].subtract(r[3])))},generateBezier:function(e,r,f,R,M){var O=0.000000000001,U=Math.abs,P=this.points,j=P[e],J=P[r],oo=[[0,0],[0,0]],H=[0,0];for(var G=0,no=r-e+1;G<no;G++){var Q=f[G],ro=1-Q,Zo=3*Q*ro,A=ro*ro*ro,eo=Zo*ro,so=Zo*Q,B=Q*Q*Q,lo=R.normalize(eo),Ro=M.normalize(so),po=P[e+G].subtract(j.multiply(A+eo)).subtract(J.multiply(so+B));oo[0][0]+=lo.dot(lo),oo[0][1]+=lo.dot(Ro),oo[1][0]=oo[0][1],oo[1][1]+=Ro.dot(Ro),H[0]+=lo.dot(po),H[1]+=Ro.dot(po)}var _o=oo[0][0]*oo[1][1]-oo[1][0]*oo[0][1],Fo,ho;if(U(_o)>O){var yo=oo[0][0]*H[1]-oo[1][0]*H[0],jo=H[0]*oo[1][1]-H[1]*oo[0][1];Fo=jo/_o,ho=yo/_o}else{var To=oo[0][0]+oo[0][1],qo=oo[1][0]+oo[1][1];Fo=ho=U(To)>O?H[0]/To:U(qo)>O?H[1]/qo:0}var Eo=J.getDistance(j),Wo=O*Eo,Oo,Go;if(Fo<Wo||ho<Wo)Fo=ho=Eo/3;else{var Io=J.subtract(j);if(Oo=R.normalize(Fo),Go=M.normalize(ho),Oo.dot(Io)-Go.dot(Io)>Eo*Eo)Fo=ho=Eo/3,Oo=Go=null}return[j,j.add(Oo||R.normalize(Fo)),J.add(Go||M.normalize(ho)),J]},reparameterize:function(e,r,f,R){for(var M=e;M<=r;M++)f[M-e]=this.findRoot(R,this.points[M],f[M-e]);for(var M=1,O=f.length;M<O;M++)if(f[M]<=f[M-1])return!1;return!0},findRoot:function(e,r,f){var R=[],M=[];for(var O=0;O<=2;O++)R[O]=e[O+1].subtract(e[O]).multiply(3);for(var O=0;O<=1;O++)M[O]=R[O+1].subtract(R[O]).multiply(2);var U=this.evaluate(3,e,f),P=this.evaluate(2,R,f),j=this.evaluate(1,M,f),J=U.subtract(r),oo=P.dot(P)+J.dot(j);return V.isMachineZero(oo)?f:f-J.dot(P)/oo},evaluate:function(e,r,f){var R=r.slice();for(var M=1;M<=e;M++)for(var O=0;O<=e-M;O++)R[O]=R[O].multiply(1-f).add(R[O+1].multiply(f));return R[0]},chordLengthParameterize:function(e,r){var f=[0];for(var R=e+1;R<=r;R++)f[R-e]=f[R-e-1]+this.points[R].getDistance(this.points[R-1]);for(var R=1,M=r-e;R<=M;R++)f[R]/=f[M];return f},findMaxError:function(e,r,f,R){var M=Math.floor((r-e+1)/2),O=0;for(var U=e+1;U<r;U++){var P=this.evaluate(3,f,R[U-e]),j=P.subtract(this.points[U]),J=j.x*j.x+j.y*j.y;if(J>=O)O=J,M=U}return{error:O,index:M}}}),No=to.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function e(r){this._content="",this._lines=[];var f=r&&v.isPlainObject(r)&&r.x===_&&r.y===_;this._initialize(f&&r,!f&&q.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),ko=No.extend({_class:"PointText",initialize:function e(){No.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new F(e.x,e.y,this,"setPoint")},setPoint:function(){var e=q.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,r,f){if(!this._content)return;this._setStyles(e,r,f);var R=this._lines,M=this._style,O=M.hasFill(),U=M.hasStroke(),P=M.getLeading(),j=e.shadowColor;e.font=M.getFontStyle(),e.textAlign=M.getJustification();for(var J=0,oo=R.length;J<oo;J++){e.shadowColor=j;var H=R[J];if(O)e.fillText(H,0,0),e.shadowColor="rgba(0,0,0,0)";if(U)e.strokeText(H,0,0);e.translate(0,P)}},_getBounds:function(e,r){var f=this._style,R=this._lines,M=R.length,O=f.getJustification(),U=f.getLeading(),P=this.getView().getTextWidth(f.getFontStyle(),R),j=0;if(O!=="left")j-=P/(O==="center"?2:1);var J=new z(j,M?-0.75*U:0,P,M*U);return e?e._transformBounds(J,J):J}}),xo=v.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},f={transparent:[0,0,0,0]},R;function M(P){var j=P.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||P.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),J="rgb",oo;if(j){var H=j[4]?4:3;oo=new Array(H);for(var G=0;G<H;G++){var no=j[G+1];oo[G]=parseInt(no.length==1?no+no:no,16)/255}}else if(j=P.match(/^(rgb|hsl)a?\((.*)\)$/)){J=j[1],oo=j[2].trim().split(/[,\s]+/g);var Q=J==="hsl";for(var G=0,ro=Math.min(oo.length,4);G<ro;G++){var Zo=oo[G],no=parseFloat(Zo);if(Q){if(G===0){var A=Zo.match(/([a-z]*)$/)[1];no*={turn:360,rad:180/Math.PI,grad:0.9}[A]||1}else if(G<3)no/=100}else if(G<3)no/=/%$/.test(Zo)?100:255;oo[G]=no}}else{var eo=f[P];if(!eo)if(T){if(!R)R=Ao.getContext(1,1,{willReadFrequently:!0}),R.globalCompositeOperation="copy";R.fillStyle="rgba(0,0,0,0)",R.fillStyle=P,R.fillRect(0,0,1,1);var so=R.getImageData(0,0,1,1).data;eo=f[P]=[so[0]/255,so[1]/255,so[2]/255]}else eo=[0,0,0];oo=eo.slice()}return[J,oo]}var O=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],U={"rgb-hsb":function(P,j,J){var oo=Math.max(P,j,J),H=Math.min(P,j,J),G=oo-H,no=G===0?0:(oo==P?(j-J)/G+(j<J?6:0):oo==j?(J-P)/G+2:(P-j)/G+4)*60;return[no,oo===0?0:G/oo,oo]},"hsb-rgb":function(P,j,J){P=(P/60%6+6)%6;var H=Math.floor(P),oo=P-H,H=O[H],G=[J,J*(1-j),J*(1-j*oo),J*(1-j*(1-oo))];return[G[H[0]],G[H[1]],G[H[2]]]},"rgb-hsl":function(P,j,J){var oo=Math.max(P,j,J),H=Math.min(P,j,J),G=oo-H,no=G===0,Q=no?0:(oo==P?(j-J)/G+(j<J?6:0):oo==j?(J-P)/G+2:(P-j)/G+4)*60,ro=(oo+H)/2,Zo=no?0:ro<0.5?G/(oo+H):G/(2-oo-H);return[Q,Zo,ro]},"hsl-rgb":function(P,j,J){if(P=(P/360%1+1)%1,j===0)return[J,J,J];var oo=[P+0.3333333333333333,P,P-0.3333333333333333],H=J<0.5?J*(1+j):J+j-J*j,G=2*J-H,no=[];for(var Q=0;Q<3;Q++){var ro=oo[Q];if(ro<0)ro+=1;if(ro>1)ro-=1;no[Q]=6*ro<1?G+(H-G)*6*ro:2*ro<1?H:3*ro<2?G+(H-G)*(0.6666666666666666-ro)*6:G}return no},"rgb-gray":function(P,j,J){return[P*0.2989+j*0.587+J*0.114]},"gray-rgb":function(P){return[P,P,P]},"gray-hsb":function(P){return[0,0,P]},"gray-hsl":function(P){return[0,0,P]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return v.each(e,function(P,j){r[j]=[],v.each(P,function(J,oo){var H=v.capitalize(J),G=/^(hue|saturation)$/.test(J),no=r[j][oo]=j==="gradient"?J==="gradient"?function(Q){var ro=this._components[0];if(Q=bo.read(Array.isArray(Q)?Q:arguments,0,{readNull:!0}),ro!==Q){if(ro)ro._removeOwner(this);if(Q)Q._addOwner(this)}return Q}:function(){return q.read(arguments,0,{readNull:J==="highlight",clone:!0})}:function(Q){return Q==null||isNaN(Q)?0:+Q};this["get"+H]=function(){return this._type===j||G&&/^hs[bl]$/.test(this._type)?this._components[oo]:this._convert(j)[oo]},this["set"+H]=function(Q){if(this._type!==j&&!(G&&/^hs[bl]$/.test(this._type)))this._components=this._convert(j),this._properties=e[j],this._type=j;this._components[oo]=no.call(this,Q),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function P(j){var J=arguments,oo=this.__read,H=0,G,no,Q,ro;if(Array.isArray(j))J=j,j=J[0];var Zo=j!=null&&typeof j;if(Zo==="string"&&j in e)if(G=j,j=J[1],Array.isArray(j))no=j,Q=J[2];else{if(oo)H=1;J=v.slice(J,1),Zo=typeof j}if(!no){if(ro=Zo==="number"?J:Zo==="object"&&j.length!=null?j:null,ro){if(!G)G=ro.length>=3?"rgb":"gray";var A=e[G].length;if(Q=ro[A],oo)H+=ro===arguments?A+(Q!=null?1:0):1;if(ro.length>A)ro=v.slice(ro,0,A)}else if(Zo==="string"){var eo=M(j);if(G=eo[0],no=eo[1],no.length===4)Q=no[3],no.length--}else if(Zo==="object")if(j.constructor===P){if(G=j._type,no=j._components.slice(),Q=j._alpha,G==="gradient")for(var so=1,B=no.length;so<B;so++){var lo=no[so];if(lo)no[so]=lo.clone()}}else if(j.constructor===bo)G="gradient",ro=J;else{G="hue"in j?"lightness"in j?"hsl":"hsb":("gradient"in j)||("stops"in j)||("radial"in j)?"gradient":("gray"in j)?"gray":"rgb";var Ro=e[G],po=r[G];this._components=no=[];for(var so=0,B=Ro.length;so<B;so++){var _o=j[Ro[so]];if(_o==null&&!so&&G==="gradient"&&"stops"in j)_o={stops:j.stops,radial:j.radial};if(_o=po[so].call(this,_o),_o!=null)no[so]=_o}Q=j.alpha}if(oo&&G)H=1}if(this._type=G||"rgb",!no){this._components=no=[];var po=r[this._type];for(var so=0,B=po.length;so<B;so++){var _o=po[so].call(this,ro&&ro[so]);if(_o!=null)no[so]=_o}}if(this._components=no,this._properties=e[this._type],this._alpha=Q,oo)this.__read=H;return this},set:"#initialize",_serialize:function(P,j){var J=this.getComponents();return v.serialize(/^(gray|rgb)$/.test(this._type)?J:[this._type].concat(J),P,!0,j)},_changed:function(){if(this._canvasStyle=null,this._owner)if(this._setter)this._owner[this._setter](this);else this._owner._changed(129)},_convert:function(P){var j;return this._type===P?this._components.slice():(j=U[this._type+"-"+P])?j.apply(this,this._components):U["rgb-"+P].apply(this,U[this._type+"-rgb"].apply(this,this._components))},convert:function(P){return new xo(P,this._convert(P),this._alpha)},getType:function(){return this._type},setType:function(P){this._components=this._convert(P),this._properties=e[P],this._type=P},getComponents:function(){var P=this._components.slice();if(this._alpha!=null)P.push(this._alpha);return P},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(P){this._alpha=P==null?null:Math.min(Math.max(P,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(P){var j=v.isPlainValue(P,!0)?xo.read(arguments):P;return j===this||j&&this._class===j._class&&this._type===j._type&&this.getAlpha()===j.getAlpha()&&v.equals(this._components,j._components)||!1},toString:function(){var P=this._properties,j=[],J=this._type==="gradient",oo=$.instance;for(var H=0,G=P.length;H<G;H++){var no=this._components[H];if(no!=null)j.push(P[H]+": "+(J?no:oo.number(no)))}if(this._alpha!=null)j.push("alpha: "+oo.number(this._alpha));return"{ "+j.join(", ")+" }"},toCSS:function(P){var j=this._convert("rgb"),J=P||this._alpha==null?1:this._alpha;function oo(H){return Math.round((H<0?0:H>1?1:H)*255)}if(j=[oo(j[0]),oo(j[1]),oo(j[2])],J<1)j.push(J<0?0:J);return P?"#"+(16777216+(j[0]<<16)+(j[1]<<8)+j[2]).toString(16).slice(1):(j.length==4?"rgba(":"rgb(")+j.join(",")+")"},toCanvasStyle:function(P,j){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var J=this._components,oo=J[0],H=oo._stops,G=J[1],no=J[2],Q=J[3],ro=j&&j.inverted(),Zo;if(ro){if(G=ro._transformPoint(G),no=ro._transformPoint(no),Q)Q=ro._transformPoint(Q)}if(oo._radial){var A=no.getDistance(G);if(Q){var eo=Q.subtract(G);if(eo.getLength()>A)Q=G.add(eo.normalize(A-0.1))}var so=Q||G;Zo=P.createRadialGradient(so.x,so.y,0,G.x,G.y,A)}else Zo=P.createLinearGradient(G.x,G.y,no.x,no.y);for(var B=0,lo=H.length;B<lo;B++){var Ro=H[B],po=Ro._offset;Zo.addColorStop(po==null?B/(lo-1):po,Ro._color.toCanvasStyle())}return this._canvasStyle=Zo},transform:function(P){if(this._type==="gradient"){var j=this._components;for(var J=1,oo=j.length;J<oo;J++){var H=j[J];P._transformPoint(H,H,!0)}this._changed()}},statics:{_types:e,random:function(){var P=Math.random;return new xo(P(),P(),P())},_setOwner:function(P,j,J){if(P){if(P._owner&&j&&P._owner!==j)P=P.clone();if(!P._owner^!j)P._owner=j||null,P._setter=J||null}return P}}})},new function(){var e={add:function(r,f){return r+f},subtract:function(r,f){return r-f},multiply:function(r,f){return r*f},divide:function(r,f){return r/f}};return v.each(e,function(r,f){this[f]=function(R){R=xo.read(arguments);var M=this._type,O=this._components,U=R._convert(M);for(var P=0,j=O.length;P<j;P++)U[P]=r(O[P],U[P]);return new xo(M,U,this._alpha!=null?r(this._alpha,R.getAlpha()):null)}},{})}),bo=v.extend({_class:"Gradient",initialize:function e(r,f){if(this._id=x.get(),r&&v.isPlainObject(r))this.set(r),r=f=null;if(this._stops==null)this.setStops(r||["white","black"]);if(this._radial==null)this.setRadial(typeof f==="string"&&f==="radial"||f||!1)},_serialize:function(e,r){return r.add(this,function(){return v.serialize([this._stops,this._radial],e,!0,r)})},_changed:function(){for(var e=0,r=this._owners&&this._owners.length;e<r;e++)this._owners[e]._changed()},_addOwner:function(e){if(!this._owners)this._owners=[];this._owners.push(e)},_removeOwner:function(e){var r=this._owners?this._owners.indexOf(e):-1;if(r!=-1){if(this._owners.splice(r,1),!this._owners.length)this._owners=_}},clone:function(){var e=[];for(var r=0,f=this._stops.length;r<f;r++)e[r]=this._stops[r].clone();return new bo(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var r=this._stops;if(r)for(var f=0,R=r.length;f<R;f++)r[f]._owner=_;r=this._stops=co.readList(e,0,{clone:!0});for(var f=0,R=r.length;f<R;f++)r[f]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var r=this._stops,f=e._stops,R=r.length;if(R===f.length){for(var M=0;M<R;M++)if(!r[M].equals(f[M]))return!1;return!0}}return!1}}),co=v.extend({_class:"GradientStop",initialize:function e(r,f){var R=r,M=f;if(typeof r==="object"&&f===_){if(Array.isArray(r)&&typeof r[0]!=="number")R=r[0],M=r[1];else if("color"in r||"offset"in r||"rampPoint"in r)R=r.color,M=r.offset||r.rampPoint||0}this.setColor(R),this.setOffset(M)},clone:function(){return new co(this._color.clone(),this._offset)},_serialize:function(e,r){var f=this._color,R=this._offset;return v.serialize(R==null?[f]:[f,R],e,!0,r)},_changed:function(){if(this._owner)this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){xo._setOwner(this._color,null),this._color=xo._setOwner(xo.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),fo=v.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new q,selectedColor:null},r=v.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),f=v.set({},r,{fillColor:new xo}),R={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},M={beans:!0},O={_class:"Style",beans:!0,initialize:function U(P,j,J){if(this._values={},this._owner=j,this._project=j&&j._project||J||L.project,this._defaults=!j||j instanceof Mo?r:j instanceof No?f:e,P)this.set(P)}};return v.each(r,function(U,P){var j=/Color$/.test(P),J=P==="shadowOffset",oo=v.capitalize(P),H=R[P],G="set"+oo,no="get"+oo;O[G]=function(Q){var ro=this._owner,Zo=ro&&ro._children,A=Zo&&Zo.length>0&&!(ro instanceof S);if(A)for(var eo=0,so=Zo.length;eo<so;eo++)Zo[eo]._style[G](Q);if((P==="selectedColor"||!A)&&P in this._defaults){var B=this._values[P];if(B!==Q){if(j){if(B)xo._setOwner(B,null),B._canvasStyle=null;if(Q&&Q.constructor===xo)Q=xo._setOwner(Q,ro,A&&G)}if(this._values[P]=Q,ro)ro._changed(H||129)}}},O[no]=function(Q){var ro=this._owner,Zo=ro&&ro._children,A=Zo&&Zo.length>0&&!(ro instanceof S),eo;if(A&&!Q)for(var so=0,B=Zo.length;so<B;so++){var lo=Zo[so]._style[no]();if(!so)eo=lo;else if(!v.equals(eo,lo))return _}else if(P in this._defaults){var eo=this._values[P];if(eo===_){if(eo=this._defaults[P],eo&&eo.clone)eo=eo.clone()}else{var Ro=j?xo:J?q:null;if(Ro&&!(eo&&eo.constructor===Ro))this._values[P]=eo=Ro.read([eo],0,{readNull:!0,clone:!0})}}if(eo&&j)eo=xo._setOwner(eo,ro,A&&G);return eo},M[no]=function(Q){return this._style[no](Q)},M[G]=function(Q){this._style[G](Q)}}),v.each({Font:"FontFamily",WindingRule:"FillRule"},function(U,P){var j="get"+P,J="set"+P;O[j]=M[j]="#get"+U,O[J]=M[J]="#set"+U}),to.inject(M),O},{set:function(e){var r=e instanceof fo,f=r?e._values:e;if(f){for(var R in f)if(R in this._defaults){var M=f[R];this[R]=M&&r&&M.clone?M.clone():M}}},equals:function(e){function r(f,R,M){var O=f._values,U=R._values,P=R._defaults;for(var j in O){var J=O[j],oo=U[j];if(!(M&&(j in U))&&!v.equals(J,oo===_?P[j]:oo))return!1}return!0}return e===this||e&&this._class===e._class&&r(this,e)&&r(e,this,!0)||!1},_dispose:function(){var e=this.getFillColor();if(e)e._canvasStyle=null;if(e=this.getStrokeColor(),e)e._canvasStyle=null;if(e=this.getShadowColor(),e)e._canvasStyle=null},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var r=e.base.call(this),f=this.getFontSize();if(/pt|em|%|px/.test(f))f=this.getView().getPixelSize(f);return r!=null?r:f*1.2}}),Xo=new function(){function e(r,f,R,M){var O=["","webkit","moz","Moz","ms","o"],U=f[0].toUpperCase()+f.substring(1);for(var P=0;P<6;P++){var j=O[P],J=j?j+U:f;if(J in r){if(R)r[J]=M;else return r[J];break}}}return{getStyles:function(r){var f=r&&r.nodeType!==9?r.ownerDocument:r,R=f&&f.defaultView;return R&&R.getComputedStyle(r,"")},getBounds:function(r,f){var R=r.ownerDocument,M=R.body,O=R.documentElement,U;try{U=r.getBoundingClientRect()}catch(oo){U={left:0,top:0,width:0,height:0}}var P=U.left-(O.clientLeft||M.clientLeft||0),j=U.top-(O.clientTop||M.clientTop||0);if(!f){var J=R.defaultView;P+=J.pageXOffset||O.scrollLeft||M.scrollLeft,j+=J.pageYOffset||O.scrollTop||M.scrollTop}return new z(P,j,U.width,U.height)},getViewportBounds:function(r){var f=r.ownerDocument,R=f.defaultView,M=f.documentElement;return new z(0,0,R.innerWidth||M.clientWidth,R.innerHeight||M.clientHeight)},getOffset:function(r,f){return Xo.getBounds(r,f).getPoint()},getSize:function(r){return Xo.getBounds(r,!0).getSize()},isInvisible:function(r){return Xo.getSize(r).equals(new g(0,0))},isInView:function(r){return!Xo.isInvisible(r)&&Xo.getViewportBounds(r).intersects(Xo.getBounds(r,!0))},isInserted:function(r){return u.body.contains(r)},getPrefixed:function(r,f){return r&&e(r,f)},setPrefixed:function(r,f,R){if(typeof f==="object")for(var M in f)e(r,M,!0,f[M]);else e(r,f,!0,R)}}},$o={add:function(e,r){if(e)for(var f in r){var R=r[f],M=f.split(/[\s,]+/g);for(var O=0,U=M.length;O<U;O++){var P=M[O],j=e===u&&(P==="touchstart"||P==="touchmove")?{passive:!1}:!1;e.addEventListener(P,R,j)}}},remove:function(e,r){if(e)for(var f in r){var R=r[f],M=f.split(/[\s,]+/g);for(var O=0,U=M.length;O<U;O++)e.removeEventListener(M[O],R,!1)}},getPoint:function(e){var r=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new q(r.pageX||r.clientX+u.documentElement.scrollLeft,r.pageY||r.clientY+u.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,r){return $o.getPoint(e).subtract(Xo.getOffset(r||$o.getTarget(e)))}};$o.requestAnimationFrame=new function(){var e=Xo.getPrefixed(T,"requestAnimationFrame"),r=!1,f=[],R;function M(){var O=f;f=[];for(var U=0,P=O.length;U<P;U++)O[U]();if(r=e&&f.length,r)e(M)}return function(O){if(f.push(O),e){if(!r)e(M),r=!0}else if(!R)R=setInterval(M,16.666666666666668)}};var So=v.extend(W,{_class:"View",initialize:function e(r,f){function R(H){return f[H]||parseInt(f.getAttribute(H),10)}function M(){var H=Xo.getSize(f);return H.isNaN()||H.isZero()?new g(R("width"),R("height")):H}var O;if(T&&f){if(this._id=f.getAttribute("id"),this._id==null)f.setAttribute("id",this._id="paper-view-"+e._id++);$o.add(f,this._viewEvents);var U="none";if(Xo.setPrefixed(f.style,{userDrag:U,userSelect:U,touchCallout:U,contentZooming:U,tapHighlightColor:"rgba(0,0,0,0)"}),y.hasAttribute(f,"resize")){var P=this;$o.add(T,this._windowEvents={resize:function(){P.setViewSize(M())}})}if(O=M(),y.hasAttribute(f,"stats")&&typeof Stats!=="undefined"){this._stats=new Stats;var j=this._stats.domElement,J=j.style,oo=Xo.getOffset(f);J.position="absolute",J.left=oo.x+"px",J.top=oo.y+"px",u.body.appendChild(j)}}else O=new g(f),f=null;if(this._project=r,this._scope=r._scope,this._element=f,!this._pixelRatio)this._pixelRatio=T&&T.devicePixelRatio||1;if(this._setElementSize(O.width,O.height),this._viewSize=O,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new Y)._owner=this,!e._focused)e._focused=this;this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!L.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;if(So._focused===this)So._focused=null;So._views.splice(So._views.indexOf(this),1),delete So._viewsById[this._id];var e=this._project;if(e._view===this)e._view=null;return $o.remove(this._element,this._viewEvents),$o.remove(T,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:v.each(to._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){if(this._autoUpdate=e,e)this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;$o.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var r=e._element;if((!Xo.getPrefixed(u,"hidden")||y.getAttribute(r,"keepalive")==="true")&&Xo.isInView(r))e._handleFrame()}if(e._autoUpdate)e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){L=this._scope;var e=Date.now()/1000,r=this._last?e-this._last:0;if(this._last=e,this.emit("frame",new v({delta:r,time:this._time+=r,count:this._count++})),this._stats)this._stats.update()},_animateItem:function(e,r){var f=this._frameItems;if(r){if(f[e._id]={item:e,time:0,count:0},++this._frameItemCount===1)this.on("frame",this._handleFrameItems)}else if(delete f[e._id],--this._frameItemCount===0)this.off("frame",this._handleFrameItems)},_handleFrameItems:function(e){for(var r in this._frameItems){var f=this._frameItems[r];f.item.emit("frame",new v(e,{time:f.time+=e.delta,count:f.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=_},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new E(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=g.read(arguments),r=e.subtract(this._viewSize);if(r.isZero())return;if(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:r}),this._autoUpdate)this.update()},_setElementSize:function(e,r){var f=this._element;if(f){if(f.width!==e)f.width=e;if(f.height!==r)f.height=r}},getBounds:function(){if(!this._bounds)this._bounds=this._matrix.inverted()._transformBounds(new z(new q,this._viewSize));return this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Xo.isInView(this._element)},isInserted:function(){return Xo.isInserted(this._element)},getPixelSize:function(e){var r=this._element,f;if(r){var R=r.parentNode,M=u.createElement("div");M.style.fontSize=e,R.appendChild(M),f=parseFloat(Xo.getStyles(M).fontSize),R.removeChild(M)}else f=parseFloat(f);return f},getTextWidth:function(e,r){return 0}},v.each(["rotate","scale","shear","skew"],function(e){var r=e==="rotate";this[e]=function(){var f=arguments,R=(r?v:q).read(f),M=q.read(f,0,{readNull:!0});return this.transform(new Y()[e](R,M||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new Y;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=q.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new Y().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var r=this.getRotation();if(r!=null&&e!=null)this.rotate(e-r)},getScaling:function(){var e=this._decompose().scaling;return new F(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),r=q.read(arguments,0,{clone:!0,readNull:!0});if(e&&r)this.scale(r.x/e.x,r.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(q.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(q.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(q.read(arguments))},getEventPoint:function(e){return this.viewToProject($o.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,r){if(u&&typeof r==="string")r=u.getElementById(r);var f=T?D:So;return new f(e,r)}}},new function(){if(!T)return;var e,r,f=!1,R=!1;function M(To){var qo=$o.getTarget(To);return qo.getAttribute&&So._viewsById[qo.getAttribute("id")]}function O(){var To=So._focused;if(!To||!To.isVisible()){for(var qo=0,Eo=So._views.length;qo<Eo;qo++)if((To=So._views[qo]).isVisible()){So._focused=r=To;break}}}function U(To,qo,Eo){To._handleMouseEvent("mousemove",qo,Eo)}var P=T.navigator,j,J,oo;if(P.pointerEnabled||P.msPointerEnabled)j="pointerdown MSPointerDown",J="pointermove MSPointerMove",oo="pointerup pointercancel MSPointerUp MSPointerCancel";else if(j="touchstart",J="touchmove",oo="touchend touchcancel",!(("ontouchstart"in T)&&P.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)))j+=" mousedown",J+=" mousemove",oo+=" mouseup";var H={},G={mouseout:function(To){var qo=So._focused,Eo=$o.getRelatedTarget(To);if(qo&&(!Eo||Eo.nodeName==="HTML")){var Wo=$o.getOffset(To,qo._element),Oo=Wo.x,Go=Math.abs,Io=Go(Oo),Do=33554432,Qo=Io-Do;Wo.x=Go(Qo)<Io?Qo*(Oo<0?-1:1):Oo,U(qo,To,qo.viewToProject(Wo))}},scroll:O};H[j]=function(To){var qo=So._focused=M(To);if(!f)f=!0,qo._handleMouseEvent("mousedown",To)},G[J]=function(To){var qo=So._focused;if(!R){var Eo=M(To);if(Eo){if(qo!==Eo){if(qo)U(qo,To);if(!e)e=qo;qo=So._focused=r=Eo}}else if(r&&r===qo){if(e&&!e.isInserted())e=null;qo=So._focused=e,e=null,O()}}if(qo)U(qo,To)},G[j]=function(){R=!0},G[oo]=function(To){var qo=So._focused;if(qo&&f)qo._handleMouseEvent("mouseup",To);R=f=!1},$o.add(u,G),$o.add(T,{load:O});var no=!1,Q=!1,ro={doubleclick:"click",mousedrag:"mousemove"},Zo=!1,A,eo,so,B,lo,Ro,po,_o,Fo;function ho(To,qo,Eo,Wo,Oo,Go,Io){var Do=!1,Qo;function Bo(oa,Yo){if(oa.responds(Yo)){if(!Qo)Qo=new zo(Yo,Wo,Oo,qo||oa,Go?Oo.subtract(Go):null);if(oa.emit(Yo,Qo)){if(no=!0,Qo.prevented)Q=!0;if(Qo.stopped)return Do=!0}}else{var aa=ro[Yo];if(aa)return Bo(oa,aa)}}while(To&&To!==Io){if(Bo(To,Eo))break;To=To._parent}return Do}function yo(To,qo,Eo,Wo,Oo,Go){return To._project.removeOn(Eo),Q=no=!1,Ro&&ho(Ro,null,Eo,Wo,Oo,Go)||qo&&qo!==Ro&&!qo.isDescendant(Ro)&&ho(qo,null,Eo==="mousedrag"?"mousemove":Eo,Wo,Oo,Go,Ro)||ho(To,Ro||qo||To,Eo,Wo,Oo,Go)}var jo={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:H,_handleMouseEvent:function(To,qo,Eo){var Wo=this._itemEvents,Oo=Wo.native[To],Go=To==="mousemove",Io=this._scope.tool,Do=this;function Qo(ea){return Wo.virtual[ea]||Do.responds(ea)||Io&&Io.responds(ea)}if(Go&&f&&Qo("mousedrag"))To="mousedrag";if(!Eo)Eo=this.getEventPoint(qo);var Bo=this.getBounds().contains(Eo),oa=Oo&&Bo&&Do._project.hitTest(Eo,{tolerance:0,fill:!0,stroke:!0}),Yo=oa&&oa.item||null,aa=!1,Co={};if(Co[To.substr(5)]=!0,Oo&&Yo!==lo){if(lo)ho(lo,null,"mouseleave",qo,Eo);if(Yo)ho(Yo,null,"mouseenter",qo,Eo);lo=Yo}if(Zo^Bo)ho(this,null,Bo?"mouseenter":"mouseleave",qo,Eo),A=Bo?this:null,aa=!0;if((Bo||Co.drag)&&!Eo.equals(so))yo(this,Yo,Go?To:"mousemove",qo,Eo,so),aa=!0;if(Zo=Bo,Co.down&&Bo||Co.up&&eo){if(yo(this,Yo,To,qo,Eo,eo),Co.down){if(Fo=Yo===po&&Date.now()-_o<300,B=po=Yo,!Q&&Yo){var ra=Yo;while(ra&&!ra.responds("mousedrag"))ra=ra._parent;if(ra)Ro=Yo}eo=Eo}else if(Co.up){if(!Q&&Yo===B)_o=Date.now(),yo(this,Yo,Fo?"doubleclick":"click",qo,Eo,eo),Fo=!1;B=Ro=null}Zo=!1,aa=!0}if(so=Eo,aa&&Io)no=Io._handleMouseEvent(To,qo,Eo,Co)||no;if(qo.cancelable!==!1&&(no&&!Co.move||Co.down&&Qo("mouseup")))qo.preventDefault()},_handleKeyEvent:function(To,qo,Eo,Wo){var Oo=this._scope,Go=Oo.tool,Io;function Do(Qo){if(Qo.responds(To))L=Oo,Qo.emit(To,Io=Io||new ao(To,qo,Eo,Wo))}if(this.isVisible()){if(Do(this),Go&&Go.responds(To))Do(Go)}},_countItemEvent:function(To,qo){var Eo=this._itemEvents,Wo=Eo.native,Oo=Eo.virtual;for(var Go in jo)Wo[Go]=(Wo[Go]||0)+(jo[Go][To]||0)*qo;Oo[To]=(Oo[To]||0)+qo},statics:{updateFocus:O,_resetState:function(){f=R=no=Zo=!1,e=r=A=eo=so=B=lo=Ro=po=_o=Fo=null}}}}),D=So.extend({_class:"CanvasView",initialize:function e(r,f){if(!(f instanceof T.HTMLCanvasElement)){var R=g.read(arguments,1);if(R.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+v.slice(arguments,1));f=Ao.getCanvas(R)}var M=this._context=f.getContext("2d");if(M.save(),this._pixelRatio=1,!/^off|false$/.test(y.getAttribute(f,"hidpi"))){var O=T.devicePixelRatio||1,U=Xo.getPrefixed(M,"backingStorePixelRatio")||1;this._pixelRatio=O/U}So.call(this,r,f),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(r,f){var R=this._pixelRatio;if(e.base.call(this,r*R,f*R),R!==1){var M=this._element,O=this._context;if(!y.hasAttribute(M,"resize")){var U=M.style;U.width=r+"px",U.height=f+"px"}O.restore(),O.save(),O.scale(R,R)}},getContext:function(){return this._context},getPixelSize:function e(r){var f=L.agent,R;if(f&&f.firefox)R=e.base.call(this,r);else{var M=this._context,O=M.font;M.font=r+" serif",R=parseFloat(M.font),M.font=O}return R},getTextWidth:function(e,r){var f=this._context,R=f.font,M=0;f.font=e;for(var O=0,U=r.length;O<U;O++)M=Math.max(M,f.measureText(r[O]).width);return f.font=R,M},update:function(){if(!this._needsUpdate)return!1;var e=this._project,r=this._context,f=this._viewSize;if(r.clearRect(0,0,f.width+1,f.height+1),e)e.draw(r,this._matrix,this._pixelRatio);return this._needsUpdate=!1,!0}}),X=v.extend({_class:"Event",initialize:function e(r){this.event=r,this.type=r&&r.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return wo.modifiers}}),ao=X.extend({_class:"KeyEvent",initialize:function e(r,f,R,M){this.type=r,this.event=f,this.key=R,this.character=M},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),wo=new function(){var e={"\t":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"\t",space:" ",enter:"\r"},f={},R={},M,O,U=new v({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var J=L&&L.agent;return J&&J.mac?this.meta:this.control}}});function P(J){var oo=J.key||J.keyIdentifier;return oo=/^U\+/.test(oo)?String.fromCharCode(parseInt(oo.substr(2),16)):/^Arrow[A-Z]/.test(oo)?oo.substr(5):oo==="Unidentified"||oo===_?String.fromCharCode(J.keyCode):oo,e[oo]||(oo.length>1?v.hyphenate(oo):oo.toLowerCase())}function j(J,oo,H,G){var no=J?"keydown":"keyup",Q=So._focused,ro;if(f[oo]=J,J)R[oo]=H;else delete R[oo];if(oo.length>1&&(ro=v.camelize(oo))in U){U[ro]=J;var Zo=L&&L.agent;if(ro==="meta"&&Zo&&Zo.mac)if(J)M={};else{for(var A in M)if(A in R)j(!1,A,M[A],G);M=null}}else if(J&&M)M[oo]=H;if(Q)Q._handleKeyEvent(J?"keydown":"keyup",G,oo,H)}return $o.add(u,{keydown:function(J){var oo=P(J),H=L&&L.agent;if(oo.length>1||H&&(H.chrome&&(J.altKey||H.mac&&J.metaKey||!H.mac&&J.ctrlKey)))j(!0,oo,r[oo]||(oo.length>1?"":oo),J);else O=oo},keypress:function(J){if(O){var oo=P(J),H=J.charCode,G=H>=32?String.fromCharCode(H):oo.length>1?"":oo;if(oo!==O)oo=G.toLowerCase();j(!0,oo,G,J),O=null}},keyup:function(J){var oo=P(J);if(oo in R)j(!1,oo,R[oo],J)}}),$o.add(T,{blur:function(J){for(var oo in R)j(!1,oo,R[oo],J)}}),{modifiers:U,isDown:function(J){return!!f[J]}}},zo=X.extend({_class:"MouseEvent",initialize:function e(r,f,R,M,O){this.type=r,this.event=f,this.point=R,this.target=M,this.delta=O},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Lo=X.extend({_class:"ToolEvent",_item:null,initialize:function e(r,f,R){this.tool=r,this.type=f,this.event=R},_choosePoint:function(e,r){return e?e:r?r.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){if(!this._middlePoint&&this.tool._lastPoint)return this.tool._point.add(this.tool._lastPoint).divide(2);return this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){var r=e.item,f=r._parent;while(/^(Group|CompoundPath)$/.test(f._class))r=f,f=f._parent;this._item=r}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Ho=k.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function e(r){k.call(this),this._moveCount=-1,this._downCount=-1,this.set(r)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){if(this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance)this._maxDistance=e},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){if(this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance)this._minDistance=e},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,r,f,R){if(L=this._scope,R.drag&&!this.responds(e))e="mousemove";var M=R.move||R.drag,O=this.responds(e),U=this.minDistance,P=this.maxDistance,j=!1,J=this;function oo(G,no){var Q=f,ro=M?J._point:J._downPoint||Q;if(M){if(J._moveCount>=0&&Q.equals(ro))return!1;if(ro&&(G!=null||no!=null)){var Zo=Q.subtract(ro),A=Zo.getLength();if(A<(G||0))return!1;if(no)Q=ro.add(Zo.normalize(Math.min(A,no)))}J._moveCount++}if(J._point=Q,J._lastPoint=ro||Q,R.down)J._moveCount=-1,J._downPoint=Q,J._downCount++;return!0}function H(){if(O)j=J.emit(e,new Lo(J,e,r))||j}if(R.down)oo(),H();else if(R.up)oo(null,P),H();else if(O)while(oo(U,P))H();return j}}),Uo=v.extend(W,{_class:"Tween",statics:{easings:new v({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<0.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<0.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<0.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<0.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(r,f,R,M,O,U){this.object=r;var P=typeof O,j=P==="function";this.type=j?P:P==="string"?O:"linear",this.easing=j?O:e.easings[this.type],this.duration=M,this.running=!1,this._then=null,this._startTime=null;var J=f||R;if(this._keys=J?Object.keys(J):[],this._parsedKeys=this._parseKeys(this._keys),this._from=J&&this._getState(f),this._to=J&&this._getState(R),U!==!1)this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){if(e>=1)e=1,this.running=!1;var r=this.easing(e),f=this._keys,R=function(oo){return typeof oo==="function"?oo(r,e):oo};for(var M=0,O=f&&f.length;M<O;M++){var U=f[M],P=R(this._from[U]),j=R(this._to[U]),J=P&&j&&P.__add&&j.__add?j.__subtract(P).__multiply(r).__add(P):(j-P)*r+P;this._setProperty(this._parsedKeys[U],J)}if(this.responds("update"))this.emit("update",new v({progress:e,factor:r}));if(!this.running&&this._then)this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var r=this._startTime,f=r?(e-r)/this.duration:0;if(!r)this._startTime=e;this.update(f)},_getState:function(e){var r=this._keys,f={};for(var R=0,M=r.length;R<M;R++){var O=r[R],U=this._parsedKeys[O],P=this._getProperty(U),j;if(e){var J=this._resolveValue(P,e[O]);this._setProperty(U,J),j=this._getProperty(U),j=j&&j.clone?j.clone():j,this._setProperty(U,P)}else j=P&&P.clone?P.clone():P;f[O]=j}return f},_resolveValue:function(e,r){if(r){if(Array.isArray(r)&&r.length===2){var f=r[0];return f&&f.match&&f.match(/^[+\-\*\/]=/)?this._calculate(e,f[0],r[1]):r}else if(typeof r==="string"){var R=r.match(/^[+\-*/]=(.*)/);if(R){var M=JSON.parse(R[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,r[0],M)}}}return r},_calculate:function(e,r,f){return L.PaperScript.calculateBinary(e,r,f)},_parseKeys:function(e){var r={};for(var f=0,R=e.length;f<R;f++){var M=e[f],O=M.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");r[M]=O.split("/")}return r},_getProperty:function(e,r){var f=this.object;for(var R=0,M=e.length-(r||0);R<M&&f;R++)f=f[e[R]];return f},_setProperty:function(e,r){var f=this._getProperty(e,1);if(f)f[e[e.length-1]]=r}}),Po={request:function(e){var r=new h.XMLHttpRequest;if(r.open((e.method||"get").toUpperCase(),e.url,v.pick(e.async,!0)),e.mimeType)r.overrideMimeType(e.mimeType);return r.onload=function(){var f=r.status;if(f===0||f===200){if(e.onLoad)e.onLoad.call(r,r.responseText)}else r.onerror()},r.onerror=function(){var f=r.status,R='Could not load "'+e.url+'" (Status: '+f+")";if(e.onError)e.onError(R,f);else throw new Error(R)},r.send(null)}},Ao=v.exports.CanvasProvider={canvases:[],getCanvas:function(e,r,f){if(!T)return null;var R,M=!0;if(typeof e==="object")r=e.height,e=e.width;if(this.canvases.length)R=this.canvases.pop();else R=u.createElement("canvas"),M=!1;var O=R.getContext("2d",f||{});if(!O)throw new Error("Canvas "+R+" is unable to provide a 2D context.");if(R.width===e&&R.height===r){if(M)O.clearRect(0,0,e+1,r+1)}else R.width=e,R.height=r;return O.save(),R},getContext:function(e,r,f){var R=this.getCanvas(e,r,f);return R?R.getContext("2d",f||{}):null},release:function(e){var r=e&&e.canvas?e.canvas:e;if(r&&r.getContext)r.getContext("2d").restore(),this.canvases.push(r)}},Ko=new function(){var{min:e,max:r,abs:f}=Math,R,M,O,U,P,j,J,oo,H,G,no;function Q(lo,Ro,po){return 0.2989*lo+0.587*Ro+0.114*po}function ro(lo,Ro,po,ho){var Fo=ho-Q(lo,Ro,po);H=lo+Fo,G=Ro+Fo,no=po+Fo;var ho=Q(H,G,no),yo=e(H,G,no),jo=r(H,G,no);if(yo<0){var To=ho-yo;H=ho+(H-ho)*ho/To,G=ho+(G-ho)*ho/To,no=ho+(no-ho)*ho/To}if(jo>255){var qo=255-ho,Eo=jo-ho;H=ho+(H-ho)*qo/Eo,G=ho+(G-ho)*qo/Eo,no=ho+(no-ho)*qo/Eo}}function Zo(lo,Ro,po){return r(lo,Ro,po)-e(lo,Ro,po)}function A(lo,Ro,po,_o){var Fo=[lo,Ro,po],ho=r(lo,Ro,po),yo=e(lo,Ro,po),jo;if(yo=yo===lo?0:yo===Ro?1:2,ho=ho===lo?0:ho===Ro?1:2,jo=e(yo,ho)===0?r(yo,ho)===1?2:1:0,Fo[ho]>Fo[yo])Fo[jo]=(Fo[jo]-Fo[yo])*_o/(Fo[ho]-Fo[yo]),Fo[ho]=_o;else Fo[jo]=Fo[ho]=0;Fo[yo]=0,H=Fo[0],G=Fo[1],no=Fo[2]}var eo={multiply:function(){H=P*R/255,G=j*M/255,no=J*O/255},screen:function(){H=P+R-P*R/255,G=j+M-j*M/255,no=J+O-J*O/255},overlay:function(){H=P<128?2*P*R/255:255-2*(255-P)*(255-R)/255,G=j<128?2*j*M/255:255-2*(255-j)*(255-M)/255,no=J<128?2*J*O/255:255-2*(255-J)*(255-O)/255},"soft-light":function(){var lo=R*P/255;H=lo+P*(255-(255-P)*(255-R)/255-lo)/255,lo=M*j/255,G=lo+j*(255-(255-j)*(255-M)/255-lo)/255,lo=O*J/255,no=lo+J*(255-(255-J)*(255-O)/255-lo)/255},"hard-light":function(){H=R<128?2*R*P/255:255-2*(255-R)*(255-P)/255,G=M<128?2*M*j/255:255-2*(255-M)*(255-j)/255,no=O<128?2*O*J/255:255-2*(255-O)*(255-J)/255},"color-dodge":function(){H=P===0?0:R===255?255:e(255,255*P/(255-R)),G=j===0?0:M===255?255:e(255,255*j/(255-M)),no=J===0?0:O===255?255:e(255,255*J/(255-O))},"color-burn":function(){H=P===255?255:R===0?0:r(0,255-(255-P)*255/R),G=j===255?255:M===0?0:r(0,255-(255-j)*255/M),no=J===255?255:O===0?0:r(0,255-(255-J)*255/O)},darken:function(){H=P<R?P:R,G=j<M?j:M,no=J<O?J:O},lighten:function(){H=P>R?P:R,G=j>M?j:M,no=J>O?J:O},difference:function(){if(H=P-R,H<0)H=-H;if(G=j-M,G<0)G=-G;if(no=J-O,no<0)no=-no},exclusion:function(){H=P+R*(255-P-P)/255,G=j+M*(255-j-j)/255,no=J+O*(255-J-J)/255},hue:function(){A(R,M,O,Zo(P,j,J)),ro(H,G,no,Q(P,j,J))},saturation:function(){A(P,j,J,Zo(R,M,O)),ro(H,G,no,Q(P,j,J))},luminosity:function(){ro(P,j,J,Q(R,M,O))},color:function(){ro(R,M,O,Q(P,j,J))},add:function(){H=e(P+R,255),G=e(j+M,255),no=e(J+O,255)},subtract:function(){H=r(P-R,0),G=r(j-M,0),no=r(J-O,0)},average:function(){H=(P+R)/2,G=(j+M)/2,no=(J+O)/2},negation:function(){H=255-f(255-R-P),G=255-f(255-M-j),no=255-f(255-O-J)}},so=this.nativeModes=v.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(lo){this[lo]=!0},{}),B=Ao.getContext(1,1,{willReadFrequently:!0});if(B)v.each(eo,function(lo,Ro){var po=Ro==="darken",_o=!1;B.save();try{if(B.fillStyle=po?"#300":"#a00",B.fillRect(0,0,1,1),B.globalCompositeOperation=Ro,B.globalCompositeOperation===Ro)B.fillStyle=po?"#a00":"#300",B.fillRect(0,0,1,1),_o=B.getImageData(0,0,1,1).data[0]!==po?170:51}catch(Fo){}B.restore(),so[Ro]=_o}),Ao.release(B);this.process=function(lo,Ro,po,_o,Fo){var ho=Ro.canvas,yo=lo==="normal";if(yo||so[lo]){if(po.save(),po.setTransform(1,0,0,1,0,0),po.globalAlpha=_o,!yo)po.globalCompositeOperation=lo;po.drawImage(ho,Fo.x,Fo.y),po.restore()}else{var jo=eo[lo];if(!jo)return;var To=po.getImageData(Fo.x,Fo.y,ho.width,ho.height),qo=To.data,Eo=Ro.getImageData(0,0,ho.width,ho.height).data;for(var Wo=0,Oo=qo.length;Wo<Oo;Wo+=4){R=Eo[Wo],P=qo[Wo],M=Eo[Wo+1],j=qo[Wo+1],O=Eo[Wo+2],J=qo[Wo+2],U=Eo[Wo+3],oo=qo[Wo+3],jo();var Go=U*_o/255,Io=1-Go;qo[Wo]=Go*H+Io*P,qo[Wo+1]=Go*G+Io*j,qo[Wo+2]=Go*no+Io*J,qo[Wo+3]=U*_o+Io*oo}po.putImageData(To,Fo.x,Fo.y)}}},go=new function(){var e="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",f="http://www.w3.org/1999/xlink",R={href:f,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};function M(P,j,J){return U(u.createElementNS(e,P),j,J)}function O(P,j){var J=R[j],oo=J?P.getAttributeNS(J,j):P.getAttribute(j);return oo==="null"?null:oo}function U(P,j,J){for(var oo in j){var H=j[oo],G=R[oo];if(typeof H==="number"&&J)H=J.number(H);if(G)P.setAttributeNS(G,oo,H);else P.setAttribute(oo,H)}return P}return{svg:e,xmlns:r,xlink:f,create:M,get:O,set:U}},da=v.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,r){return!r&&(e instanceof a||e instanceof Vo||e instanceof No)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,r){var f=v.capitalize(r),R=e[2];this[r]={type:e[1],property:r,attribute:e[0],toSVG:R,fromSVG:R&&v.each(R,function(M,O){this[M]=O},{}),exportFilter:e[3],get:"get"+f,set:"set"+f}},{});new function(){var e;function r(eo,so,B){var lo=new v,Ro=eo.getTranslation();if(so){var po;if(eo.isInvertible())eo=eo._shiftless(),po=eo._inverseTransform(Ro),Ro=null;else po=new q;lo[B?"cx":"x"]=po.x,lo[B?"cy":"y"]=po.y}if(!eo.isIdentity()){var _o=eo.decompose();if(_o){var Fo=[],ho=_o.rotation,yo=_o.scaling,jo=_o.skewing;if(Ro&&!Ro.isZero())Fo.push("translate("+e.point(Ro)+")");if(ho)Fo.push("rotate("+e.number(ho)+")");if(!V.isZero(yo.x-1)||!V.isZero(yo.y-1))Fo.push("scale("+e.point(yo)+")");if(jo.x)Fo.push("skewX("+e.number(jo.x)+")");if(jo.y)Fo.push("skewY("+e.number(jo.y)+")");lo.transform=Fo.join(" ")}else lo.transform="matrix("+eo.getValues().join(",")+")"}return lo}function f(eo,so){var B=r(eo._matrix),lo=eo._children,Ro=go.create("g",B,e);for(var po=0,_o=lo.length;po<_o;po++){var Fo=lo[po],ho=Zo(Fo,so);if(ho)if(Fo.isClipMask()){var yo=go.create("clipPath");yo.appendChild(ho),Q(Fo,yo,"clip"),go.set(Ro,{"clip-path":"url(#"+yo.id+")"})}else Ro.appendChild(ho)}return Ro}function R(eo,so){var B=r(eo._matrix,!0),lo=eo.getSize(),Ro=eo.getImage();return B.x-=lo.width/2,B.y-=lo.height/2,B.width=lo.width,B.height=lo.height,B.href=so.embedImages==!1&&Ro&&Ro.src||eo.toDataURL(),go.create("image",B,e)}function M(eo,so){var B=so.matchShapes;if(B){var lo=eo.toShape(!1);if(lo)return O(lo,so)}var Ro=eo._segments,po=Ro.length,_o,Fo=r(eo._matrix);if(B&&po>=2&&!eo.hasHandles())if(po>2){_o=eo._closed?"polygon":"polyline";var ho=[];for(var yo=0;yo<po;yo++)ho.push(e.point(Ro[yo]._point));Fo.points=ho.join(" ")}else{_o="line";var jo=Ro[0]._point,To=Ro[1]._point;Fo.set({x1:jo.x,y1:jo.y,x2:To.x,y2:To.y})}else _o="path",Fo.d=eo.getPathData(null,so.precision);return go.create(_o,Fo,e)}function O(eo){var{_type:so,_radius:B}=eo,lo=r(eo._matrix,!0,so!=="rectangle");if(so==="rectangle"){so="rect";var Ro=eo._size,po=Ro.width,_o=Ro.height;if(lo.x-=po/2,lo.y-=_o/2,lo.width=po,lo.height=_o,B.isZero())B=null}if(B)if(so==="circle")lo.r=B;else lo.rx=B.width,lo.ry=B.height;return go.create(so,lo,e)}function U(eo,so){var B=r(eo._matrix),lo=eo.getPathData(null,so.precision);if(lo)B.d=lo;return go.create("path",B,e)}function P(eo,so){var B=r(eo._matrix,!0),lo=eo._definition,Ro=no(lo,"symbol"),po=lo._item,_o=po.getStrokeBounds();if(!Ro)Ro=go.create("symbol",{viewBox:e.rectangle(_o)}),Ro.appendChild(Zo(po,so)),Q(lo,Ro,"symbol");return B.href="#"+Ro.id,B.x+=_o.x,B.y+=_o.y,B.width=_o.width,B.height=_o.height,B.overflow="visible",go.create("use",B,e)}function j(eo){var so=no(eo,"color");if(!so){var B=eo.getGradient(),lo=B._radial,Ro=eo.getOrigin(),po=eo.getDestination(),_o;if(lo){_o={cx:Ro.x,cy:Ro.y,r:Ro.getDistance(po)};var Fo=eo.getHighlight();if(Fo)_o.fx=Fo.x,_o.fy=Fo.y}else _o={x1:Ro.x,y1:Ro.y,x2:po.x,y2:po.y};_o.gradientUnits="userSpaceOnUse",so=go.create((lo?"radial":"linear")+"Gradient",_o,e);var ho=B._stops;for(var yo=0,jo=ho.length;yo<jo;yo++){var To=ho[yo],qo=To._color,Eo=qo.getAlpha(),Wo=To._offset;if(_o={offset:Wo==null?yo/(jo-1):Wo},qo)_o["stop-color"]=qo.toCSS(!0);if(Eo<1)_o["stop-opacity"]=Eo;so.appendChild(go.create("stop",_o,e))}Q(eo,so,"color")}return"url(#"+so.id+")"}function J(eo){var so=go.create("text",r(eo._matrix,!0),e);return so.textContent=eo._content,so}var oo={Group:f,Layer:f,Raster:R,Path:M,Shape:O,CompoundPath:U,SymbolItem:P,PointText:J};function H(eo,so,B){var lo={},Ro=!B&&eo.getParent(),po=[];if(eo._name!=null)lo.id=eo._name;if(v.each(da,function(_o){var{get:Fo,type:ho}=_o,yo=eo[Fo]();if(_o.exportFilter?_o.exportFilter(eo,yo):!Ro||!v.equals(Ro[Fo](),yo)){if(ho==="color"&&yo!=null){var jo=yo.getAlpha();if(jo<1)lo[_o.attribute+"-opacity"]=jo}if(ho==="style")po.push(_o.attribute+": "+yo);else lo[_o.attribute]=yo==null?"none":ho==="color"?yo.gradient?j(yo,eo):yo.toCSS(!0):ho==="array"?yo.join(","):ho==="lookup"?_o.toSVG[yo]:yo}}),po.length)lo.style=po.join(";");if(lo.opacity===1)delete lo.opacity;if(!eo._visible)lo.visibility="hidden";return go.set(so,lo,e)}var G;function no(eo,so){if(!G)G={ids:{},svgs:{}};return eo&&G.svgs[so+"-"+(eo._id||eo.__id||(eo.__id=x.get("svg")))]}function Q(eo,so,B){if(!G)no();var lo=G.ids[B]=(G.ids[B]||0)+1;so.id=B+"-"+lo,G.svgs[B+"-"+(eo._id||eo.__id)]=so}function ro(eo,so){var B=eo,lo=null;if(G){B=eo.nodeName.toLowerCase()==="svg"&&eo;for(var Ro in G.svgs){if(!lo){if(!B)B=go.create("svg"),B.appendChild(eo);lo=B.insertBefore(go.create("defs"),B.firstChild)}lo.appendChild(G.svgs[Ro])}G=null}return so.asString?new h.XMLSerializer().serializeToString(B):B}function Zo(eo,so,B){var lo=oo[eo._class],Ro=lo&&lo(eo,so);if(Ro){var po=so.onExport;if(po)Ro=po(eo,Ro,so)||Ro;var _o=JSON.stringify(eo._data);if(_o&&_o!=="{}"&&_o!=="null")Ro.setAttribute("data-paper-data",_o)}return Ro&&H(eo,Ro,B)}function A(eo){if(!eo)eo={};return e=new $(eo.precision),eo}to.inject({exportSVG:function(eo){return eo=A(eo),ro(Zo(this,eo,!0),eo)}}),mo.inject({exportSVG:function(eo){eo=A(eo);var so=this._children,B=this.getView(),lo=v.pick(eo.bounds,"view"),Ro=eo.matrix||lo==="view"&&B._matrix,po=Ro&&Y.read([Ro]),_o=lo==="view"?new z([0,0],B.getViewSize()):lo==="content"?to._getBounds(so,po,{stroke:!0}).rect:z.read([lo],0,{readNull:!0}),Fo={version:"1.1",xmlns:go.svg,"xmlns:xlink":go.xlink};if(_o){if(Fo.width=_o.width,Fo.height=_o.height,_o.x||_o.x===0||_o.y||_o.y===0)Fo.viewBox=e.rectangle(_o)}var ho=go.create("svg",Fo,e),yo=ho;if(po&&!po.isIdentity())yo=ho.appendChild(go.create("g",r(po),e));for(var jo=0,To=so.length;jo<To;jo++)yo.appendChild(Zo(so[jo],eo,!0));return ro(ho,eo)}})},new function(){var e={},r;function f(so,B,lo,Ro,po,_o){var Fo=go.get(so,B)||_o,ho=Fo==null?Ro?null:lo?"":0:lo?Fo:parseFloat(Fo);return/%\s*$/.test(Fo)?ho/100*(po?1:r[/x|^width/.test(B)?"width":"height"]):ho}function R(so,B,lo,Ro,po,_o,Fo){return B=f(so,B||"x",!1,Ro,po,_o),lo=f(so,lo||"y",!1,Ro,po,Fo),Ro&&(B==null||lo==null)?null:new q(B,lo)}function M(so,B,lo,Ro,po){return B=f(so,B||"width",!1,Ro,po),lo=f(so,lo||"height",!1,Ro,po),Ro&&(B==null||lo==null)?null:new g(B,lo)}function O(so,B,lo){return so==="none"?null:B==="number"?parseFloat(so):B==="array"?so?so.split(/[\s,]+/g).map(parseFloat):[]:B==="color"?Zo(so)||so:B==="lookup"?lo[so]:so}function U(so,B,lo,Ro){var po=so.childNodes,_o=B==="clippath",Fo=B==="defs",ho=new Mo,yo=ho._project,jo=yo._currentStyle,To=[];if(!_o&&!Fo)ho=ro(ho,so,Ro),yo._currentStyle=ho._style.clone();if(Ro){var qo=so.querySelectorAll("defs");for(var Eo=0,Wo=qo.length;Eo<Wo;Eo++)A(qo[Eo],lo,!1)}for(var Eo=0,Wo=po.length;Eo<Wo;Eo++){var Oo=po[Eo],Go;if(Oo.nodeType===1&&!/^defs$/i.test(Oo.nodeName)&&(Go=A(Oo,lo,!1))&&!(Go instanceof c))To.push(Go)}if(ho.addChildren(To),_o)ho=ro(ho.reduce(),so,Ro);if(yo._currentStyle=jo,_o||Fo)ho.remove(),ho=null;return ho}function P(so,B){var lo=so.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),Ro=[];for(var po=0,_o=lo.length;po<_o;po+=2)Ro.push(new q(parseFloat(lo[po]),parseFloat(lo[po+1])));var Fo=new b(Ro);if(B==="polygon")Fo.closePath();return Fo}function j(so){return a.create(so.getAttribute("d"))}function J(so,B){var lo=(f(so,"href",!0)||"").substring(1),Ro=B==="radialgradient",po;if(lo){if(po=e[lo].getGradient(),po._radial^Ro)po=po.clone(),po._radial=Ro}else{var _o=so.childNodes,Fo=[];for(var ho=0,yo=_o.length;ho<yo;ho++){var jo=_o[ho];if(jo.nodeType===1)Fo.push(ro(new co,jo))}po=new bo(Fo,Ro)}var To,qo,Eo,Wo=f(so,"gradientUnits",!0)!=="userSpaceOnUse";if(Ro)To=R(so,"cx","cy",!1,Wo,"50%","50%"),qo=To.add(f(so,"r",!1,!1,Wo,"50%"),0),Eo=R(so,"fx","fy",!0,Wo);else To=R(so,"x1","y1",!1,Wo,"0%","0%"),qo=R(so,"x2","y2",!1,Wo,"100%","0%");var Oo=ro(new xo(po,To,qo,Eo),so);return Oo._scaleToBounds=Wo,null}var oo={"#document":function(so,B,lo,Ro){var po=so.childNodes;for(var _o=0,Fo=po.length;_o<Fo;_o++){var ho=po[_o];if(ho.nodeType===1)return A(ho,lo,Ro)}},g:U,svg:U,clippath:U,polygon:P,polyline:P,path:j,lineargradient:J,radialgradient:J,image:function(so){var B=new o(f(so,"href",!0));return B.on("load",function(){var lo=M(so);this.setSize(lo);var Ro=R(so).add(lo.divide(2));this._matrix.append(new Y().translate(Ro))}),B},symbol:function(so,B,lo,Ro){return new c(U(so,B,lo,Ro),!0)},defs:U,use:function(so){var B=(f(so,"href",!0)||"").substring(1),lo=e[B],Ro=R(so);return lo?lo instanceof c?lo.place(Ro):lo.clone().translate(Ro):null},circle:function(so){return new Vo.Circle(R(so,"cx","cy"),f(so,"r"))},ellipse:function(so){return new Vo.Ellipse({center:R(so,"cx","cy"),radius:M(so,"rx","ry")})},rect:function(so){return new Vo.Rectangle(new z(R(so),M(so)),M(so,"rx","ry"))},line:function(so){return new b.Line(R(so,"x1","y1"),R(so,"x2","y2"))},text:function(so){var B=new ko(R(so).add(R(so,"dx","dy")));return B.setContent(so.textContent.trim()||""),B},switch:U};function H(so,B,lo,Ro){if(so.transform){var po=(Ro.getAttribute(lo)||"").split(/\)\s*/g),_o=new Y;for(var Fo=0,ho=po.length;Fo<ho;Fo++){var yo=po[Fo];if(!yo)break;var jo=yo.split(/\(\s*/),To=jo[0],qo=jo[1].split(/[\s,]+/g);for(var Eo=0,Wo=qo.length;Eo<Wo;Eo++)qo[Eo]=parseFloat(qo[Eo]);switch(To){case"matrix":_o.append(new Y(qo[0],qo[1],qo[2],qo[3],qo[4],qo[5]));break;case"rotate":_o.rotate(qo[0],qo[1]||0,qo[2]||0);break;case"translate":_o.translate(qo[0],qo[1]||0);break;case"scale":_o.scale(qo);break;case"skewX":_o.skew(qo[0],0);break;case"skewY":_o.skew(0,qo[0]);break}}so.transform(_o)}}function G(so,B,lo){var Ro=lo==="fill-opacity"?"getFillColor":"getStrokeColor",po=so[Ro]&&so[Ro]();if(po)po.setAlpha(parseFloat(B))}var no=v.set(v.each(da,function(so){this[so.attribute]=function(B,lo){if(B[so.set]){if(B[so.set](O(lo,so.type,so.fromSVG)),so.type==="color"){var Ro=B[so.get]();if(Ro){if(Ro._scaleToBounds){var po=B.getBounds();Ro.transform(new Y().translate(po.getPoint()).scale(po.getSize()))}}}}}},{}),{id:function(so,B){if(e[B]=so,so.setName)so.setName(B)},"clip-path":function(so,B){var lo=Zo(B);if(lo)if(lo=lo.clone(),lo.setClipMask(!0),so instanceof Mo)so.insertChild(0,lo);else return new Mo(lo,so)},gradientTransform:H,transform:H,"fill-opacity":G,"stroke-opacity":G,visibility:function(so,B){if(so.setVisible)so.setVisible(B==="visible")},display:function(so,B){if(so.setVisible)so.setVisible(B!==null)},"stop-color":function(so,B){if(so.setColor)so.setColor(B)},"stop-opacity":function(so,B){if(so._color)so._color.setAlpha(parseFloat(B))},offset:function(so,B){if(so.setOffset){var lo=B.match(/(.*)%$/);so.setOffset(lo?lo[1]/100:parseFloat(B))}},viewBox:function(so,B,lo,Ro,po){var _o=new z(O(B,"array")),Fo=M(Ro,null,null,!0),ho,yo;if(so instanceof Mo){var jo=Fo?Fo.divide(_o.getSize()):1,yo=new Y().scale(jo).translate(_o.getPoint().negate());ho=so}else if(so instanceof c){if(Fo)_o.setSize(Fo);ho=so._item}if(ho){if(Q(Ro,"overflow",po)!=="visible"){var To=new Vo.Rectangle(_o);To.setClipMask(!0),ho.addChild(To)}if(yo)ho.transform(yo)}}});function Q(so,B,lo){var Ro=so.attributes[B],po=Ro&&Ro.value;if(!po&&so.style){var _o=v.camelize(B);if(po=so.style[_o],!po&&lo.node[_o]!==lo.parent[_o])po=lo.node[_o]}return!po?_:po==="none"?null:po}function ro(so,B,lo){var Ro=B.parentNode,po={node:Xo.getStyles(B)||{},parent:!lo&&!/^defs$/i.test(Ro.tagName)&&Xo.getStyles(Ro)||{}};return v.each(no,function(_o,Fo){var ho=Q(B,Fo,po);so=ho!==_&&_o(so,ho,Fo,B,po)||so}),so}function Zo(so){var B=so&&so.match(/\((?:["'#]*)([^"')]+)/),lo=B&&B[1],Ro=lo&&e[T?lo.replace(T.location.href.split("#")[0]+"#",""):lo];if(Ro&&Ro._scaleToBounds)Ro=Ro.clone(),Ro._scaleToBounds=!0;return Ro}function A(so,B,lo){var Ro=so.nodeName.toLowerCase(),po=Ro!=="#document",_o=u.body,Fo,ho,yo;if(lo&&po)r=L.getView().getSize(),r=M(so,null,null,!0)||r,Fo=go.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),ho=so.parentNode,yo=so.nextSibling,Fo.appendChild(so),_o.appendChild(Fo);var jo=L.settings,To=jo.applyMatrix,qo=jo.insertItems;jo.applyMatrix=!1,jo.insertItems=!1;var Eo=oo[Ro],Wo=Eo&&Eo(so,Ro,B,lo)||null;if(jo.insertItems=qo,jo.applyMatrix=To,Wo){if(po&&!(Wo instanceof Mo))Wo=ro(Wo,so,lo);var Oo=B.onImport,Go=po&&so.getAttribute("data-paper-data");if(Oo)Wo=Oo(so,Wo,B)||Wo;if(B.expandShapes&&Wo instanceof Vo)Wo.remove(),Wo=Wo.toPath();if(Go)Wo._data=JSON.parse(Go)}if(Fo){if(_o.removeChild(Fo),ho)if(yo)ho.insertBefore(so,yo);else ho.appendChild(so)}if(lo){if(e={},Wo&&v.pick(B.applyMatrix,To))Wo.matrix.apply(!0,!0)}return Wo}function eo(so,B,lo){if(!so)return null;B=typeof B==="function"?{onLoad:B}:B||{};var Ro=L,po=null;function _o(jo){try{var To=typeof jo==="object"?jo:new h.DOMParser().parseFromString(jo.trim(),"image/svg+xml");if(!To.nodeName)throw To=null,new Error("Unsupported SVG source: "+so);if(L=Ro,po=A(To,B,!0),!B||B.insert!==!1)lo._insertItem(_,po);var qo=B.onLoad;if(qo)qo(po,jo)}catch(Eo){Fo(Eo)}}function Fo(jo,To){var qo=B.onError;if(qo)qo(jo,To);else throw new Error(jo)}if(typeof so==="string"&&!/^[\s\S]*</.test(so)){var ho=u.getElementById(so);if(ho)_o(ho);else Po.request({url:so,async:!0,onLoad:_o,onError:Fo})}else if(typeof File!=="undefined"&&so instanceof File){var yo=new FileReader;return yo.onload=function(){_o(yo.result)},yo.onerror=function(){Fo(yo.error)},yo.readAsText(so)}else _o(so);return po}to.inject({importSVG:function(so,B){return eo(so,B,this)}}),mo.inject({importSVG:function(so,B){return this.activate(),eo(so,B,this)}})};var L=new(y.inject(v.exports,{Base:v,Numerical:V,Key:wo,DomEvent:$o,DomElement:Xo,document:u,window:T,Symbol:c,PlacedSymbol:n}));if(L.agent.node)(()=>({}))(L);if(typeof define==="function"&&define.amd)define("paper",L);else if(typeof d==="object"&&d)d.exports=L;return L}.call(s,typeof self==="object"?self:null)}),nm=Oc(Fc(),1),wc=Oc(Fc(),1),io=new Ya.Generator("JavaScript");io.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","));io.ORDER_ATOMIC=0;io.ORDER_NEW=1.1;io.ORDER_MEMBER=1.2;io.ORDER_FUNCTION_CALL=2;io.ORDER_INCREMENT=3;io.ORDER_DECREMENT=3;io.ORDER_BITWISE_NOT=4.1;io.ORDER_UNARY_PLUS=4.2;io.ORDER_UNARY_NEGATION=4.3;io.ORDER_LOGICAL_NOT=4.4;io.ORDER_TYPEOF=4.5;io.ORDER_VOID=4.6;io.ORDER_DELETE=4.7;io.ORDER_DIVISION=5.1;io.ORDER_MULTIPLICATION=5.2;io.ORDER_MODULUS=5.3;io.ORDER_SUBTRACTION=6.1;io.ORDER_ADDITION=6.2;io.ORDER_BITWISE_SHIFT=7;io.ORDER_RELATIONAL=8;io.ORDER_IN=8;io.ORDER_INSTANCEOF=8;io.ORDER_EQUALITY=9;io.ORDER_BITWISE_AND=10;io.ORDER_BITWISE_XOR=11;io.ORDER_BITWISE_OR=12;io.ORDER_LOGICAL_AND=13;io.ORDER_LOGICAL_OR=14;io.ORDER_CONDITIONAL=15;io.ORDER_ASSIGNMENT=16;io.ORDER_COMMA=17;io.ORDER_NONE=99;io.ORDER_OVERRIDES=[[io.ORDER_FUNCTION_CALL,io.ORDER_MEMBER],[io.ORDER_FUNCTION_CALL,io.ORDER_FUNCTION_CALL],[io.ORDER_MEMBER,io.ORDER_MEMBER],[io.ORDER_MEMBER,io.ORDER_FUNCTION_CALL],[io.ORDER_LOGICAL_NOT,io.ORDER_LOGICAL_NOT],[io.ORDER_MULTIPLICATION,io.ORDER_MULTIPLICATION],[io.ORDER_ADDITION,io.ORDER_ADDITION],[io.ORDER_LOGICAL_AND,io.ORDER_LOGICAL_AND],[io.ORDER_LOGICAL_OR,io.ORDER_LOGICAL_OR]];io.init=function(s){if(io.definitions_=Object.create(null),io.functionNames_=Object.create(null),!io.variableDB_)io.variableDB_=new Ya.Names(io.RESERVED_WORDS_);else io.variableDB_.reset();io.variableDB_.setVariableMap(s.getVariableMap());var d=[],i=s.getAllVariables();for(var h=0;h<i.length;h++){if(i[h].type===Ya.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;const T=io.variableDB_.getName(i[h].getId(),Ya.Variables.NAME_TYPE);if(i[h].type===Ya.LIST_VARIABLE_TYPE)d.push(`let ${T}${Ya.LIST_VARIABLE_TYPE} = [];`);else d.push(`let ${T} = 0;`)}var _=Ya.Variables.allDeveloperVariables(s);for(var h=0;h<_.length;h++){const u=io.variableDB_.getName(_[h],Ya.Names.DEVELOPER_VARIABLE_TYPE);if(i[h].type===Ya.LIST_VARIABLE_TYPE)d.push(`let ${u}${Ya.LIST_VARIABLE_TYPE} = [];`);else d.push(`let ${u} = 0;`)}if(d.length)io.definitions_.variables=d.join("\n")};io.finish=function(s){var d=[];for(var i in io.definitions_)d.push(io.definitions_[i]);return delete io.definitions_,delete io.functionNames_,io.variableDB_.reset(),d.join("\n\n")+"\n\n\n"+s};io.scrubNakedValue=function(s){return s+";\n"};io.quote_=function(s){return"'"+s+"'"};io.HAT_CODE="/* HatCode */";io.scrub_=function(s,d){var i="";if(!s.outputConnection?.targetConnection){var h=s.getCommentText();if(h=Ya.utils.wrap(h,io.COMMENT_WRAP-3),h)if(s.getProcedureDef)i+="/**\n"+io.prefixLines(h+"\n"," * ")+" */\n";else i+=io.prefixLines(h+"\n","// ");for(var _=0;_<s.inputList.length;_++)if(s.inputList[_].type==Ya.INPUT_VALUE){var T=s.inputList[_].connection.targetBlock();if(T){var h=io.allNestedComments(T);if(h)i+=io.prefixLines(h,"// ")}}}if(s.startHat_){const u=s.nextConnection&&s.nextConnection.targetBlock();let v=io.blockToCode(u);if(v)v=io.prefixLines(v,io.INDENT),d=d.replace(io.HAT_CODE,v);return i+d}if(s.parentBlock_){const u=s.nextConnection&&s.nextConnection.targetBlock(),v=io.blockToCode(u);return i+d+v}return""};io.getAdjusted=function(s,d,i,h,_){var T=i||0,u=_||io.ORDER_NONE;if(s.workspace.options.oneBasedIndex)T--;var v=s.workspace.options.oneBasedIndex?"1":"0";if(T>0)var W=io.valueToCode(s,d,io.ORDER_ADDITION)||v;else if(T<0)var W=io.valueToCode(s,d,io.ORDER_SUBTRACTION)||v;else if(h)var W=io.valueToCode(s,d,io.ORDER_UNARY_NEGATION)||v;else var W=io.valueToCode(s,d,u)||v;if(Ya.isNumber(W)){if(W=parseFloat(W)+T,h)W=-W}else{if(T>0){W=W+" + "+T;var y=io.ORDER_ADDITION}else if(T<0){W=W+" - "+-T;var y=io.ORDER_SUBTRACTION}if(h){if(T)W="-("+W+")";else W="-"+W;var y=io.ORDER_UNARY_NEGATION}if(y=Math.floor(y),u=Math.floor(u),y&&u>=y)W="("+W+")"}return W};io.colour_picker=(s)=>{return[io.quote_(s.getFieldValue("COLOUR")),io.ORDER_ATOMIC]};var bn="if (abort || !runtime.running) break;\n",$l=`  await runtime.nextFrame();\n  ${bn}`;io.control_wait=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"DURATION",io.ORDER_NONE)||0;return d+=`await runtime.sleep(runtime.number(${i}));\n${bn}`,d};io.control_repeat=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);let i=io.statementToCode(s,"SUBSTACK")||"";if(io.STATEMENT_SUFFIX)i=io.prefixLines(io.injectId(io.STATEMENT_SUFFIX,s),io.INDENT)+i;const h=io.valueToCode(s,"TIMES",io.ORDER_NONE)||0;return d+=`for (let _ = 0; _ < runtime.number(${h}); _++) {\n${i}${$l}}\n${bn}`,d};io.control_forever=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);let i=io.statementToCode(s,"SUBSTACK")||"";if(io.STATEMENT_SUFFIX)i=io.prefixLines(io.injectId(io.STATEMENT_SUFFIX,s),io.INDENT)+i;return d+=`while (true) {\n${i}${$l}}\n${bn}`,d};io.control_if=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);let i=io.statementToCode(s,"SUBSTACK")||"";if(io.STATEMENT_SUFFIX)i=io.prefixLines(io.injectId(io.STATEMENT_SUFFIX,s),io.INDENT)+i;const h=io.valueToCode(s,"CONDITION",io.ORDER_NONE)||"false";if(d+=`if (${h}) {\n${i}}\n`,s.getInput("SUBSTACK2")){if(i=io.statementToCode(s,"SUBSTACK2")||"",io.STATEMENT_SUFFIX)i=io.prefixLines(io.injectId(io.STATEMENT_SUFFIX,s),io.INDENT)+i;d+=`else {\n${i}}\n`}return d};io.control_if_else=io.control_if;io.control_wait_until=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"CONDITION",io.ORDER_NONE)||"false";return d+=`while (!(${i})) {\n${$l}}\n${bn}`,d};io.control_repeat_until=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);let i=io.statementToCode(s,"SUBSTACK")||"";if(io.STATEMENT_SUFFIX)i=io.prefixLines(io.injectId(io.STATEMENT_SUFFIX,s),io.INDENT)+i;const h=io.valueToCode(s,"CONDITION",io.ORDER_NONE)||"false";return d+=`while (!(${h})) {\n${i}${$l}}\n${bn}`,d};io.control_while=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);let i=io.statementToCode(s,"SUBSTACK")||"";if(io.STATEMENT_SUFFIX)i=io.prefixLines(io.injectId(io.STATEMENT_SUFFIX,s),io.INDENT)+i;const h=io.valueToCode(s,"CONDITION",io.ORDER_NONE)||"false";return d+=`while (${h}) {\n${i}${$l}}\n${bn}`,d};io.control_stop=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);switch(s.getFieldValue("STOP_OPTION")){case"all":d+="runtime.stop();\n";break;case"this script":d+="return done();\n";break;case"other scripts in sprite":d+="abort = true;\n";break}return d};io.data_variable=(s)=>{return[io.variableDB_.getName(s.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),io.ORDER_CONDITIONAL]};io.data_setvariableto=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.variableDB_.getName(s.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),h=io.valueToCode(s,"VALUE",io.ORDER_NONE)||'""';return d+=`${i} = ${h};\n`,d};io.data_changevariableby=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.variableDB_.getName(s.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),h=io.valueToCode(s,"VALUE",io.ORDER_NONE)||0;return d+=`${i} = runtime.number(${i}) + runtime.number(${h});\n`,d};io.data_listcontents=(s)=>{return[io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,io.ORDER_ATOMIC]};io.data_addtolist=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,h=io.valueToCode(s,"ITEM",io.ORDER_NONE)||'""';return d+=`${i}.push(${h});\n`,d};io.data_deleteoflist=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,h=io.valueToCode(s,"INDEX",io.ORDER_NONE)||1;return d+=`${i}.splice(runtime.index(${h}, ${i}.length), 1);\n`,d};io.data_deletealloflist=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE;return d+=`${i}.length = 0;\n`,d};io.data_insertatlist=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,h=io.valueToCode(s,"INDEX",io.ORDER_NONE)||1,_=io.valueToCode(s,"ITEM",io.ORDER_NONE)||'""';return d+=`${i}.splice(runtime.index(${h}, ${i}.length), 0, ${_});\n`,d};io.data_replaceitemoflist=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,h=io.valueToCode(s,"INDEX",io.ORDER_NONE)||1,_=io.valueToCode(s,"ITEM",io.ORDER_NONE)||'""';return d+=`${i}.splice(runtime.index(${h}, ${i}.length), 1, ${_});\n`,d};io.data_itemoflist=(s)=>{const d=io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,i=io.valueToCode(s,"INDEX",io.ORDER_NONE)||1;return[`(${d}[runtime.index(${i}, ${d}.length)] || '""')`,io.ORDER_CONDITIONAL]};io.data_itemnumoflist=(s)=>{const d=io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,i=io.valueToCode(s,"ITEM",io.ORDER_NONE)||'""';return[`(${d}.indexOf(${i}) + 1)`,io.ORDER_NONE]};io.data_lengthoflist=(s)=>{return[`${io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE}.length`,io.ORDER_MEMBER]};io.data_listcontainsitem=(s)=>{const d=io.variableDB_.getName(s.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,i=io.valueToCode(s,"ITEM",io.ORDER_NONE)||'""';return[`${d}.includes(${i})`,io.ORDER_FUNCTION_CALL]};var cm="if (abort || !runtime.running) break;\n",zc=`async (done) => {\ndo {\n${io.HAT_CODE}} while (false);\ndone();\n}`;io.event_whenflagclicked=()=>{return`runtime.when('start', ${zc});\n`};io.event_whengreaterthan=(s)=>{const d=s.getFieldValue("WHENGREATERTHANMENU"),i=io.valueToCode(s,"VALUE",io.ORDER_NONE)||10;return`runtime.whenGreaterThen('${d}', runtime.number(${i}), ${zc});\n`};io.event_whenbroadcastreceived=(s)=>{return`runtime.when('message:${io.variableDB_.getName(s.getFieldValue("BROADCAST_OPTION"),Du.Variables.NAME_TYPE)}', ${zc});\n`};io.event_broadcast_menu=(s)=>{return[io.variableDB_.getName(s.getFieldValue("BROADCAST_OPTION"),Du.Variables.NAME_TYPE),io.ORDER_ATOMIC]};io.event_broadcast=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"BROADCAST_INPUT",io.ORDER_NONE)||"message1";return d+=`runtime.fire('message:${i}')\n`,d};io.event_broadcastandwait=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"BROADCAST_INPUT",io.ORDER_NONE)||"message1";return d+=`await runtime.fire('message:${i}')\n${cm}`,d};io.math_number=(s)=>{let d=parseFloat(s.getFieldValue("NUM")),i;if(d===1/0)d="Infinity",i=io.ORDER_FUNCTION_CALL;else if(d===-1/0)d="-Infinity",i=io.ORDER_UNARY_SIGN;else if(Number.isNaN(d))d="NaN",i=io.ORDER_UNARY_SIGN;else i=d<0?io.ORDER_UNARY_SIGN:io.ORDER_ATOMIC;return[d,i]};io.math_integer=(s)=>{const d=parseInt(s.getFieldValue("NUM")),i=d<0?io.ORDER_UNARY_SIGN:io.ORDER_ATOMIC;return[d,i]};io.math_whole_number=(s)=>{return[Math.abs(parseInt(s.getFieldValue("NUM"))),io.ORDER_ATOMIC]};io.math_positive_number=(s)=>{let d=parseFloat(s.getFieldValue("NUM")),i;if(d===1/0)d="Infinity",i=io.ORDER_FUNCTION_CALL;else if(d===-1/0)d="-Infinity",i=io.ORDER_FUNCTION_CALL;else if(Number.isNaN(d))d="NaN",i=io.ORDER_FUNCTION_CALL;else d=d<0?0:d,i=io.ORDER_ATOMIC;return[d,i]};io.math_angle=(s)=>{let d=parseFloat(s.getFieldValue("NUM")),i;if(d==1/0)d="Infinity",i=io.ORDER_FUNCTION_CALL;else if(d==-1/0)d="-Infinity",i=io.ORDER_UNARY_SIGN;else d=d%360,d=d<0?d+360:d,i=io.ORDER_ATOMIC;return[d,i]};io.operator_add=(s)=>{const d=io.valueToCode(s,"NUM1",io.ORDER_NONE)||0,i=io.valueToCode(s,"NUM2",io.ORDER_NONE)||0;return[`(runtime.number(${d}) + runtime.number(${i}))`,io.ORDER_SUBTRACTION]};io.operator_subtract=(s)=>{const d=io.valueToCode(s,"NUM1",io.ORDER_NONE)||0,i=io.valueToCode(s,"NUM2",io.ORDER_NONE)||0;return[`(runtime.number(${d}) - runtime.number(${i}))`,io.ORDER_ADDITION]};io.operator_multiply=(s)=>{const d=io.valueToCode(s,"NUM1",io.ORDER_NONE)||0,i=io.valueToCode(s,"NUM2",io.ORDER_NONE)||0;return[`(runtime.number(${d}) * runtime.number(${i}))`,io.ORDER_MULTIPLICATION]};io.operator_divide=(s)=>{const d=io.valueToCode(s,"NUM1",io.ORDER_NONE)||0,i=io.valueToCode(s,"NUM2",io.ORDER_NONE)||0;return[`(runtime.number(${d}) / runtime.number(${i}))`,io.ORDER_DIVISION]};io.operator_random=(s)=>{const d=io.valueToCode(s,"FROM",io.ORDER_NONE)||0,i=io.valueToCode(s,"TO",io.ORDER_NONE)||0;return[`runtime.random(${d}, ${i})`,io.ORDER_FUNCTION_CALL]};io.operator_gt=(s)=>{const d=io.valueToCode(s,"OPERAND1",io.ORDER_NONE)||0,i=io.valueToCode(s,"OPERAND2",io.ORDER_NONE)||0;return[`(runtime.number(${d}) > runtime.number(${i}))`,io.ORDER_RELATIONAL]};io.operator_lt=(s)=>{const d=io.valueToCode(s,"OPERAND1",io.ORDER_NONE)||0,i=io.valueToCode(s,"OPERAND2",io.ORDER_NONE)||0;return[`(runtime.number(${d}) < runtime.number(${i}))`,io.ORDER_RELATIONAL]};io.operator_equals=(s)=>{const d=io.valueToCode(s,"OPERAND1",io.ORDER_NONE)||0,i=io.valueToCode(s,"OPERAND2",io.ORDER_NONE)||0;return[`(${d} == ${i})`,io.ORDER_RELATIONAL]};io.operator_and=(s)=>{const d=io.valueToCode(s,"OPERAND1",io.ORDER_NONE)||0,i=io.valueToCode(s,"OPERAND2",io.ORDER_NONE)||0;return[`(${d} && ${i})`,io.ORDER_LOGICAL_AND]};io.operator_or=(s)=>{const d=io.valueToCode(s,"OPERAND1",io.ORDER_NONE)||0,i=io.valueToCode(s,"OPERAND2",io.ORDER_NONE)||0;return[`(${d} || ${i})`,io.ORDER_LOGICAL_OR]};io.operator_not=(s)=>{return[`!(${io.valueToCode(s,"OPERAND",io.ORDER_NONE)||0})`,io.ORDER_LOGICAL_NOT]};io.operator_join=(s)=>{const d=io.valueToCode(s,"STRING1",io.ORDER_NONE)||'""',i=io.valueToCode(s,"STRING2",io.ORDER_NONE)||'""';return[`(String(${d}) + String(${i}))`,io.ORDER_ATOMIC]};io.operator_letter_of=(s)=>{const d=io.valueToCode(s,"LETTER",io.ORDER_NONE)||0;return[`(String(${io.valueToCode(s,"STRING",io.ORDER_NONE)||'""'}).at(${d} - 1) || '')`,io.ORDER_ATOMIC]};io.operator_length=(s)=>{return[`String(${io.valueToCode(s,"STRING",io.ORDER_NONE)||'""'}).length`,io.ORDER_MEMBER]};io.operator_contains=(s)=>{const d=io.valueToCode(s,"STRING1",io.ORDER_NONE)||'""',i=io.valueToCode(s,"STRING2",io.ORDER_NONE)||'""';return[`String(${d}).includes(String(${i}))`,io.ORDER_FUNCTION_CALL]};io.operator_mod=(s)=>{const d=io.valueToCode(s,"NUM1",io.ORDER_NONE)||0,i=io.valueToCode(s,"NUM2",io.ORDER_NONE)||0;return[`(runtime.number(${d}) % runtime.number(${i}))`,io.ORDER_MODULUS]};io.operator_round=(s)=>{return[`Math.round(${io.valueToCode(s,"NUM",io.ORDER_NONE)||0})`,io.ORDER_FUNCTION_CALL]};io.operator_mathop=(s)=>{const d=io.valueToCode(s,"NUM",io.ORDER_NONE)||0,i=s.getFieldValue("OPERATOR");let h="";if(i==="ceiling")h+=`Math.ceil(runtime.number(${d}))`;else if(i==="sin"||i==="cos"||i==="tan")h+=`Math.${i}(Math.PI * runtime.number(${d}) / 180)`;else if(i==="asin"||i==="acos"||i==="atan")h+=`(Math.${i}(runtime.number(${d})) * 180 / Math.PI)`;else if(i==="ln")h+=`Math.log(runtime.number(${d}))`;else if(i==="log")h+=`Math.log10(runtime.number(${d}))`;else if(i==="e ^")h+=`Math.exp(runtime.number(${d}))`;else if(i==="10 ^")h+=`Math.pow(10, runtime.number(${d}))`;else h+=`Math.${i}(runtime.number(${d}))`;return[h,io.ORDER_FUNCTION_CALL]};io.procedures_definition=(s)=>{const d=s.childBlocks_[0],i=io.variableDB_.getName(d.getProcCode(),xl.Procedures.NAME_TYPE),h=d.childBlocks_.map((T)=>io.variableDB_.getName(T.getFieldValue("VALUE"),xl.Variables.NAME_TYPE));h.push("target");let _=`async function ${i}(${h.join(",")}) {\n`;return _+=`do {\n${io.HAT_CODE}} while (false);\n}\n`,_};io.procedures_call=(s)=>{const d=io.variableDB_.getName(s.getProcCode(),xl.Procedures.NAME_TYPE),i=s.argumentIds_.map((h)=>io.valueToCode(s,h,io.ORDER_NONE));return i.push("target"),`await ${d}(${i.join(",")});\n`};io.argument_reporter_boolean=(s)=>{return[io.variableDB_.getName(s.getFieldValue("VALUE"),xl.Variables.NAME_TYPE),io.ORDER_ATOMIC]};io.argument_reporter_string_number=(s)=>{return[io.variableDB_.getName(s.getFieldValue("VALUE"),xl.Variables.NAME_TYPE),io.ORDER_ATOMIC]};io.sensing_timer=(s)=>{return["runtime.time",io.ORDER_FUNCTION_CALL]};io.sensing_resettimer=(s)=>{return"runtime.resetTimer()\n"};io.text=(s)=>{const d=s.getFieldValue("TEXT");return[d.length===0||isNaN(d)?io.quote_(d):+d,io.ORDER_ATOMIC]};var um=new Set([Ja.Events.BLOCK_CHANGE,Ja.Events.BLOCK_CREATE,Ja.Events.BLOCK_DELETE,Ja.Events.BLOCK_MOVE,Ja.Events.COMMENT_CHANGE,Ja.Events.COMMENT_CREATE,Ja.Events.COMMENT_DELETE,Ja.Events.COMMENT_MOVE,Ja.Events.VAR_CREATE,Ja.Events.VAR_DELETE,Ja.Events.VAR_RENAME]),mm=function(s){console&&console.warn&&console.warn(s)},Ra=function(){Ra.init.call(this)},ws=function(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)},Yu=function(s){return s._maxListeners===void 0?Ra.defaultMaxListeners:s._maxListeners},Bu=function(s,d,i,h){var _,T,u;if(ws(i),T=s._events,T===void 0?(T=s._events=Object.create(null),s._eventsCount=0):(T.newListener!==void 0&&(s.emit("newListener",d,i.listener?i.listener:i),T=s._events),u=T[d]),u===void 0)u=T[d]=i,++s._eventsCount;else if(typeof u=="function"?u=T[d]=h?[i,u]:[u,i]:h?u.unshift(i):u.push(i),_=Yu(s),_>0&&u.length>_&&!u.warned){u.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");v.name="MaxListenersExceededWarning",v.emitter=s,v.type=d,v.count=u.length,mm(v)}return s},bm=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)},Cu=function(s,d,i){var h={fired:!1,wrapFn:void 0,target:s,type:d,listener:i},_=bm.bind(h);return _.listener=i,h.wrapFn=_,_},Qu=function(s,d,i){var h=s._events;if(h===void 0)return[];var _=h[d];return _===void 0?[]:typeof _=="function"?i?[_.listener||_]:[_]:i?dm(_):o6(_,_.length)},Au=function(s){var d=this._events;if(d!==void 0){var i=d[s];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0},o6=function(s,d){for(var i=new Array(d),h=0;h<d;++h)i[h]=s[h];return i},pm=function(s,d){for(;d+1<s.length;d++)s[d]=s[d+1];s.pop()},dm=function(s){for(var d=new Array(s.length),i=0;i<d.length;++i)d[i]=s[i].listener||s[i];return d},jn=typeof Reflect=="object"?Reflect:null,Ku=jn&&typeof jn.apply=="function"?jn.apply:function(s,d,i){return Function.prototype.apply.call(s,d,i)},Ws;jn&&typeof jn.ownKeys=="function"?Ws=jn.ownKeys:Object.getOwnPropertySymbols?Ws=function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:Ws=function(s){return Object.getOwnPropertyNames(s)};var a6=Number.isNaN||function(s){return s!==s};Ra.EventEmitter=Ra;Ra.prototype._events=void 0;Ra.prototype._eventsCount=0;Ra.prototype._maxListeners=void 0;var Iu=10;Object.defineProperty(Ra,"defaultMaxListeners",{enumerable:!0,get:function(){return Iu},set:function(s){if(typeof s!="number"||s<0||a6(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");Iu=s}});Ra.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ra.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||a6(s))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+s+".");return this._maxListeners=s,this};Ra.prototype.getMaxListeners=function(){return Yu(this)};Ra.prototype.emit=function(s){for(var d=[],i=1;i<arguments.length;i++)d.push(arguments[i]);var h=s==="error",_=this._events;if(_!==void 0)h=h&&_.error===void 0;else if(!h)return!1;if(h){var T;if(d.length>0&&(T=d[0]),T instanceof Error)throw T;var u=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw u.context=T,u}var v=_[s];if(v===void 0)return!1;if(typeof v=="function")Ku(v,this,d);else for(var W=v.length,y=o6(v,W),i=0;i<W;++i)Ku(y[i],this,d);return!0};Ra.prototype.addListener=function(s,d){return Bu(this,s,d,!1)};Ra.prototype.on=Ra.prototype.addListener;Ra.prototype.prependListener=function(s,d){return Bu(this,s,d,!0)};Ra.prototype.once=function(s,d){return ws(d),this.on(s,Cu(this,s,d)),this};Ra.prototype.prependOnceListener=function(s,d){return ws(d),this.prependListener(s,Cu(this,s,d)),this};Ra.prototype.removeListener=function(s,d){var i,h,_,T,u;if(ws(d),h=this._events,h===void 0)return this;if(i=h[s],i===void 0)return this;if(i===d||i.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete h[s],h.removeListener&&this.emit("removeListener",s,i.listener||d));else if(typeof i!="function"){for(_=-1,T=i.length-1;T>=0;T--)if(i[T]===d||i[T].listener===d){u=i[T].listener,_=T;break}if(_<0)return this;_===0?i.shift():pm(i,_),i.length===1&&(h[s]=i[0]),h.removeListener!==void 0&&this.emit("removeListener",s,u||d)}return this};Ra.prototype.off=Ra.prototype.removeListener;Ra.prototype.removeAllListeners=function(s){var d,i,h;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[s]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[s]),this;if(arguments.length===0){var _=Object.keys(i),T;for(h=0;h<_.length;++h)T=_[h],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=i[s],typeof d=="function")this.removeListener(s,d);else if(d!==void 0)for(h=d.length-1;h>=0;h--)this.removeListener(s,d[h]);return this};Ra.prototype.listeners=function(s){return Qu(this,s,!0)};Ra.prototype.rawListeners=function(s){return Qu(this,s,!1)};Ra.listenerCount=function(s,d){return typeof s.listenerCount=="function"?s.listenerCount(d):Au.call(s,d)};Ra.prototype.listenerCount=Au;Ra.prototype.eventNames=function(){return this._eventsCount>0?Ws(this._events):[]};var $p=Ra.prototype,Gu=Oc(Fc(),1);class Os extends Ra{static DEFAULT_FPS=24;constructor(s,d=Os.DEFAULT_FPS){super();this._fps=d,this._frame_sec=1/d,this._running=!1,this._requestStop=s,this._timer=0,this._timers=[],this._data={},this._greaterThen={},this._eventsHappening={}}launch(s){new Function("runtime",s)(this)}get core(){return Gu.default}get data(){return this._data}get running(){return this._running}get time(){return(Date.now()-this._timer)/1000}resetTimer(){this._timer=Date.now()}when(s,d){this._eventsHappening[s]=this._eventsHappening[s]||[],this._eventsHappening[s].push(!1);const i=this._eventsHappening[s].length-1;this.on(`${s}_${i}`,d)}whenGreaterThen(s,d,i){const h=`${s}>${d}`;this._greaterThen[h]=!1,this.when(`greaterthen:${h}`,i)}emit(...s){return new Promise((d)=>{if(this.running)super.emit(...s,d)})}fire(s,...d){if(this.emit(s,...d),this._eventsHappening[s]=this._eventsHappening[s]||[],this._eventsHappening[s].length>0)return Promise.race(this._eventsHappening[s].map(async(i,h)=>{if(!i)this._eventsHappening[s][h]=!0,await this.emit(`${s}_${h}`,...d),this._eventsHappening[s][h]=!1}));return Promise.resolve()}_handleFrameForGreaterThen(s){const d=Object.keys(this._greaterThen);for(let i of d){const[h,_]=i.split(">");if(h==="TIMER"){const T=this.time>parseFloat(_);if(T&&!this._greaterThen[i])this.fire(`greaterthen:${i}`);this._greaterThen[i]=T}}s()}async _handleStart(){while(this.running){if(!Gu.default.project){this.stop();break}await this.nextFrame(),this.fire("frame")}}start(){this._running=!0,this.on("frame",this._handleFrameForGreaterThen.bind(this)),this.on("start",this._handleStart.bind(this)),this.fire("start"),this.resetTimer()}async stop(){this.emit("stop"),await this.nextFrame(),this._running=!1,await this.nextFrame(),this._timers.forEach(clearTimeout),this._timers.length=0,this._requestStop()}sleep(s){return new Promise((d)=>this._timers.push(setTimeout(d,s*1000)))}nextFrame(){return this.sleep(this._frame_sec)}random(s=1,d=10){const i=Math.ceil(Math.min(s,d)),h=Math.floor(Math.max(s,d));return Math.floor(Math.random()*(h-i+1))+i}number(s,d=0){return isNaN(s)?d:+s}index(s,d){let i=this.number(s)-1;return i%=d,i+=d,i%d}clamp(s,d,i){return Math.min(Math.max(s,d),i)}}var ua=nm.default;var Ml="if (abort || !runtime.running) break;\n";io.motion_attack=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"DIRECTION",io.ORDER_NONE)||0,h=io.valueToCode(s,"DISTANCE",io.ORDER_NONE)||100;return d+=`await target.util.attack(${i}, ${h});\n${Ml}`,d};io.motion_move=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"DIRECTION",io.ORDER_NONE)||0,h=io.valueToCode(s,"SPEED",io.ORDER_NONE)||100;return d+=`await target.util.move(${i}, ${h});\n${Ml}`,d};io.motion_turnright=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"DEGREES",io.ORDER_NONE)||0;return d+=`await target.util.turnRight(${i});\n${Ml}`,d};io.motion_turnleft=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"DEGREES",io.ORDER_NONE)||0;return d+=`await target.util.turnLeft(${i});\n${Ml}`,d};io.motion_pointindirection=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"DIRECTION",io.ORDER_NONE)||0;return d+=`await target.util.setDirection(+${i});\n${Ml}`,d};io.motion_setspeed=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"SPEED",io.ORDER_NONE)||0;return d+=`target.util.speed = ${i};\n`,d};io.motion_stop=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);return d+="target.util.speed = 0;\n",d};io.motion_xposition=(s)=>{return["target.util.x",io.ORDER_ATOMIC]};io.motion_yposition=(s)=>{return["target.util.y",io.ORDER_ATOMIC]};io.motion_speed=(s)=>{return["target.util.currentSpeed",io.ORDER_ATOMIC]};io.motion_direction=(s)=>{return["target.util.direction",io.ORDER_ATOMIC]};io.sensing_scanwidth=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"WIDTH",io.ORDER_NONE)||5;return d+=`target.util.scanWidth = ${i};\n`,d};io.sensing_scan=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"DIRECTION",io.ORDER_NONE)||0;return d+=`(await target.util.scan(${i}) !== Infinity)`,[d,io.ORDER_EQUALITY]};io.sensing_scandistance=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);const i=io.valueToCode(s,"DIRECTION",io.ORDER_NONE)||0;return d+=`(await target.util.scan(${i}))`,[d,io.ORDER_FUNCTION_CALL]};io.sensing_health=(s)=>{let d="";if(io.STATEMENT_PREFIX)d+=io.injectId(io.STATEMENT_PREFIX,s);return d+="target.util.health",[d,io.ORDER_FUNCTION_CALL]};var _m=()=>`
  <category name="%{BKY_CATEGORY_MOTION}" id="motion" colour="#4C97FF" secondaryColour="#3373CC">
    <block type="motion_attack">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="DISTANCE">
        <shadow type="math_number">
          <field name="NUM">200</field>
        </shadow>
      </value>
    </block>
    <block type="motion_move">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">100</field>
        </shadow>
      </value>
    </block>
    ${fe}
    <block type="motion_turnright">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_turnleft">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_pointindirection">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${fe}
    <block type="motion_setspeed">
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">50</field>
        </shadow>
      </value>
    </block>
    <block type="motion_stop"/>
    ${fe}
    <block type="motion_speed"/>
    <block type="motion_direction"/>
    ${Sc}
  </category>
`,tm=()=>`
  <category name="%{BKY_CATEGORY_SENSING}" id="sensing" colour="#4CBFE6" secondaryColour="#2E8EB8">
    <block type="sensing_scanwidth">
      <value name="WIDTH">
        <shadow type="math_number">
          <field name="NUM">5</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scan">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scandistance">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${fe}
    <block type="sensing_health"/>
    ${fe}
    <block id="timer" type="sensing_timer"/>
    <block type="sensing_resettimer"/>
    ${Sc}
  </category>
`,vm=()=>`
  <category name="%{BKY_CATEGORY_OPERATORS}" id="operators" colour="#40BF4A" secondaryColour="#389438">
    <block type="operator_add">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_subtract">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_multiply">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_divide">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${fe}
    <block type="operator_random">
      <value name="FROM">
        <shadow type="math_number">
          <field name="NUM">1</field>
        </shadow>
      </value>
      <value name="TO">
        <shadow type="math_number">
          <field name="NUM">10</field>
        </shadow>
      </value>
    </block>
    ${fe}
    <block type="operator_gt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_lt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_equals">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    ${fe}
    <block type="operator_and"/>
    <block type="operator_or"/>
    <block type="operator_not"/>
    ${fe}
    <block type="operator_mod">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_round">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${fe}
    <block type="operator_mathop">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${Sc}
  </category>
`;function Xc(){return fm([{id:"motion",xml:_m()},{id:"sensing",xml:tm()},{id:"operators",xml:vm()}])}import{jsx as Rm} from"preact/jsx-runtime";var hm=Vs.Content;function gc(){const{getText:s}=Nm(),d={MOTION_ATTACK:s("tankwar.blocks.motion_attack","fire in direction %1 at %2 steps"),MOTION_MOVE:s("tankwar.blocks.motion_move","forward in direction %1 at %2 % speed"),MOTION_SETSPEED:s("tankwar.blocks.motion_setspeed","set speed to %1 %"),MOTION_STOP:s("tankwar.blocks.motion_stop","stop"),MOTION_SPEED:s("tankwar.blocks.motion_speed","speed"),SENSING_SCANWIDTH:s("tankwar.blocks.sensing_scanwidth","set scan width to %1"),SENSING_SCAN:s("tankwar.blocks.sensing_scan","scan for enemy in direction %1?"),SENSING_DISTANCE:s("tankwar.blocks.sensing_distance","measure distance of enemy in direction %1"),SENSING_HEALTH:s("tankwar.blocks.sensing_health","health")},i=Xc();return Rm(hm,{disableGenerator:!0,disableExtension:!0,messages:d,toolbox:i})}import{useState as Ss} from"preact/hooks";import{classNames as Ym} from"@blockcode/ui";import{useState as h6} from"preact/hooks";import{useEditor as Pm} from"@blockcode/core";var e6="./assets/background-81dedab007c311a5.png";function Jn(s){return new Promise((d)=>{const i=new Image;i.src=s,i.addEventListener("load",()=>d(i))})}var n6="./assets/tank_1-5797dcf7b198a48d.png";var l6="./assets/turret_1-26017ccc46b87689.png";var s6="./assets/tank_2-337708f7538d8787.png";var r6="./assets/turret_2-5c4bb2c458561ace.png";var c6="./assets/tank_3-1d999a2c9dacc246.png";var i6="./assets/turret_3-956bfba650c81c57.png";var u6="./assets/tank_4-f93afcfd2c3d1734.png";var m6="./assets/turret_4-d6c2200ed4ca50b0.png";var b6="./assets/broken-2d9779d033bbcdb5.png";var p6="./assets/bullet-80854a0e7090b0fc.png";var d6="./assets/boom1-65b37ddc26db4cbd.png";var f6="./assets/boom2-82ff355a8e0177ba.png";var _6="./assets/boom3-703bd7bb6580e4d9.png";var zm=20,Sm=4,Xm=40,Fs=500,gm=70,Um=400,Vl=10,Uc=50,Ec=1000,t6=(s,d)=>Math.sqrt((s.x-d.x)**2+(s.y-d.y)**2),Je=(s)=>isNaN(s)?0:+s,Ll=(s,d,i)=>Math.min(Math.max(s,d),i),Wl=(s)=>s*Math.PI/180,Pe=(s)=>parseInt((s%360+360)%360),v6=(s,d)=>Pe(s)===Pe(d);class Za{static PLACE={LEFT:{get position(){return new ua.Point(ua.view.center.x-300,ua.view.center.y)},rotation:90},RIGHT:{get position(){return new ua.Point(ua.view.center.x+300,ua.view.center.y)},rotation:-90},LEFT_TOP:{get position(){return new ua.Point(ua.view.center.x-300,ua.view.center.y-300)},rotation:135},RIGHT_TOP:{get position(){return new ua.Point(ua.view.center.x+300,ua.view.center.y-300)},rotation:-135},LEFT_BOTTOM:{get position(){return new ua.Point(ua.view.center.x-300,ua.view.center.y+300)},rotation:45},RIGHT_BOTTOM:{get position(){return new ua.Point(ua.view.center.x+300,ua.view.center.y+300)},rotation:-45}};static STYLE={PLAYER:{tank:n6,turret:l6},ENEMY_A:{tank:s6,turret:r6},ENEMY_B:{tank:c6,turret:i6},ENEMY_C:{tank:u6,turret:m6}};constructor(s,d=Za.STYLE.PLAYER,i=Za.PLACE.LEFT){this.raster=new ua.Raster({name:s,scaling:0.2,source:d.tank,position:i.position,rotation:i.rotation,visible:d===Za.STYLE.PLAYER}),this.turretRaster=new ua.Raster({scaling:0.2,source:d.turret,position:i.position,rotation:i.rotation,visible:d===Za.STYLE.PLAYER}),this.raster.util=this,this.turretRaster.owner=this,this._hidden=!0,this._lastScanDistance=0,this._imageCache={},this._timers=[],this.reset()}sleep(s){return new Promise((d)=>this._timers.push(setTimeout(d,s)))}reset(){if(this._speed=0,this._currentSpeed=0,this._health=100,this._scanWidth=Sm,this._turretReady=null,this._scanShape)this._scanShape.remove(),this._scanShape=null;if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;if(this._collideTester)this._collideTester.remove(),this._collideTester=null;clearTimeout(this._turretReady),this._timers.forEach(clearTimeout),this._timers.length=0}bringToFront(){this.raster.bringToFront(),this.turretRaster.bringToFront()}get running(){return this._running}set running(s){this.reset(),this._running=s}get bullseye(){if(!this._bullseye)this._bullseye=Math.min(this.raster.width,this.raster.height)*this.raster.scaling.x/4;return this._bullseye}get enemies(){if(!this._enemies)this._enemies=["red","yellow","green","player"].filter((s)=>s!==this.raster.name).map((s)=>ua.project.activeLayer.children[s]);return this._enemies}set place(s){if(this.running)return;this.raster.position=this.turretRaster.position=s.position,this.raster.rotation=this.turretRaster.rotation=s.rotation,this.hidden=!1}get hidden(){return this._hidden}set hidden(s){this._hidden=s,this.raster.visible=this.turretRaster.visible=!s}async _turn(s,d){if(!v6(s.rotation,d)){let i=Pe(d)-Pe(s.rotation);if(i>180)i-=360;if(i<-180)i+=360;await s.tween({rotation:s.rotation+i},Ec*(Math.abs(i)/360))}}async attack(s,d){if(!this.running)return;if(this._bulletRaster||this.death)return;s=Math.round(Je(s)),d=Je(d)-Uc,clearTimeout(this._turretReady),this._turretReady=null,await this._turn(this.turretRaster,s);const i=Pe(s),h=Wl(90-i);if(!this._imageCache.buttet)this._imageCache.buttet=await Jn(p6);if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;this._bulletRaster=new ua.Raster({image:this._imageCache.buttet,position:new ua.Point(this.raster.position.x+Uc*Math.cos(h),this.raster.position.y-Uc*Math.sin(h)),rotation:this.raster.rotation,scaling:this.raster.scaling}),d=Ll(d,gm,Um);const _=d/2,T=Vl/d/2;let u=Vl*Math.cos(h),v=Vl*Math.sin(h);while(d>0){if(await this.sleep(15),d<Vl)u=d*Math.cos(h),v=d*Math.sin(h);if(d-=Vl,this._bulletRaster.position.x+=u,this._bulletRaster.position.y-=v,this._bulletRaster.scaling.x+=d>_?T:-T,this._bulletRaster.scaling.y=this._bulletRaster.scaling.x,this._bulletRaster.scaling.x<this.raster.scaling.x)this._bulletRaster.scaling=this.raster.scaling}this._boom(this._bulletRaster.position),this._collide(this._bulletRaster,(W)=>{if(t6(W.position,this._bulletRaster.position)<W.util.bullseye)W.util.hurt(10);else W.util.hurt(5)}),this._bulletRaster.remove(),this._bulletRaster=null,this._turretReady=setTimeout(()=>{this._turn(this.turretRaster,this.raster.rotation),this._turretReady=null},1000)}async _boom(s){if(!this.running)return;if(!this._imageCache.booms)this._imageCache.booms=[await Jn(d6),await Jn(f6),await Jn(_6)];if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;this._boomRaster=new ua.Raster({image:this._imageCache.booms[0],position:s}),await this.sleep(30),this._boomRaster.image=this._imageCache.booms[1],await this.sleep(50),this._boomRaster.image=this._imageCache.booms[2],await this.sleep(90),this._boomRaster.remove(),this._boomRaster=null}_intersectsOrContains(s,d){return s.intersects(d)||d.contains(s.position)}_collide(s,d){if(this.running&&!this.death)this.enemies.forEach((i)=>{if(i.util.death||i.util.hidden)return;if(this._intersectsOrContains(s,i))d(i)})}async move(s,d){if(!this.running)return;if(this.death)return;await this.setDirection(s),this.speed=Je(d)}drive(){if(!this.running)return;if(this.speed===0)return;if(this.hidden||this.death)return;let s=this.speed;const d=Wl(90-this.direction);s/=zm,this.raster.position.x+=s*Math.cos(d),this.raster.position.y-=s*Math.sin(d),this.turretRaster.position=this.raster.position}get x(){return this.raster.position.x-ua.view.center.x}get y(){return ua.view.center.y-this.raster.position.y}get currentSpeed(){return Ll(this._currentSpeed,-100,100)}get speed(){return Ll(this._speed,-100,100)}set speed(s){if(!this.running)return;this._speed=Ll(s,-100,100)}get speedVelocity(){const s=Pe(this.speed<0?180+this.direction:this.direction),d=Wl(90-s),i=Math.abs(this.speed);return new ua.Point(i*Math.cos(d),i*Math.sin(d))}get direction(){let s=this.raster.rotation%360;if(s>180)s-=360;if(s<=-180)s+=360;return s}async setDirection(s){if(!this.running)return;if(s=Math.round(Je(s)),!this._turretReady)this._turn(this.turretRaster,s);await this._turn(this.raster,s)}turnRight(s){let d=this.raster.rotation;return d+=Je(s),this.setDirection(d)}turnLeft(s){return this.turnRight(-Je(s))}hurt(s){if(!this.running)return;if(this._health-=Math.abs(s),this.death)this.raster.visible=this.turretRaster.visible=!1,new ua.Raster({source:b6,scaling:this.raster.scaling,position:this.raster.position,rotation:this.raster.rotation}).insertAbove(ua.project.activeLayer.children.background)}get health(){if(this._health<0)return 0;return this._health}get death(){return this.health<=0}get scanWidth(){return this._scanWidth}set scanWidth(s){s=Je(s),this._scanWidth=Ll(s,1,Xm)}async scan(s){if(!this.running)return 1/0;if(this._scanShape||this.death)return 1/0;if(s=Je(s),!v6(this._lastScanDistance,s)){let k=Pe(s)-Pe(this._lastScanDistance);if(k>180)k-=360;if(k<-180)k+=360;await this.sleep(Ec*(Math.abs(k)/360)),this._lastScanDistance=s}const d=Wl(90-(s-this.scanWidth/2)),i=Fs*Math.cos(d),h=Fs*Math.sin(d),_=new ua.Point(this.raster.position.x+i,this.raster.position.y-h),T=Wl(90-(s+this.scanWidth/2)),u=Fs*Math.cos(T),v=Fs*Math.sin(T),W=new ua.Point(this.raster.position.x+u,this.raster.position.y-v);if(this._scanShape)this._scanShape.remove(),this._scanShape=null;this._scanShape=new ua.Path({segments:[this.raster.position,_,W],closed:!0,fillColor:{gradient:{stops:[["rgb(255 0 0 0.4)",0],["rgb(255 0 0 0)",0.7]],radial:!0},origin:this.raster.position,destination:_}}),await this.sleep(Ec*(this.scanWidth/360));let y=1/0;return this._collide(this._scanShape,(k)=>{const Z=t6(this.raster.position,k.position);if(Z<y)y=Z}),this._scanShape.remove(),this._scanShape=null,y}}class zs extends Os{get player(){return ua.project.activeLayer.children.player}get redTank(){return ua.project.activeLayer.children.red}get yellowTank(){return ua.project.activeLayer.children.yellow}get greenTank(){return ua.project.activeLayer.children.green}start(){this.player.util.running=!0,this.redTank.util.running=!0,this.yellowTank.util.running=!0,this.greenTank.util.running=!0,super.start()}stop(){return this.player.util.running=!1,this.redTank.util.running=!1,this.yellowTank.util.running=!1,this.greenTank.util.running=!1,super.stop()}}var N6=(s="",d=[])=>`
${d.join("\n")}

((target) => {
let abort = false;
${s||""}
})(runtime.player);

runtime.on('frame', () => {
  runtime.player.util.drive();
  runtime.redTank.util.drive();
  runtime.yellowTank.util.drive();
  runtime.greenTank.util.drive();
});

runtime.player.util.bringToFront();
runtime.start();
`;var wl={};O6(wl,{simple:()=>Em,senior:()=>Jm,medium:()=>jm});var Em=(s,d)=>`
((tank) => {
  let abort = false;

  runtime.when('start', async function (done) {
    await tank.util.turnRight(45);
    tank.util.speed = 100;
    await runtime.sleep(2.5);
    tank.util.speed = 0;
    await tank.util.turnLeft(90);
    runtime.fire('@ai_simple_${s}_${d}_message_1');
    while (true) {
      tank.util.speed = 100;
      await runtime.sleep(5.5);
      tank.util.speed = 0;
      await tank.util.turnLeft(180);
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });

  runtime.when('@ai_simple_${s}_${d}_message_1', async function anonymous(done) {
    while (true) {
      if ((await tank.util.scan(0) !== Infinity)) {
        await tank.util.attack(0, (await tank.util.scan(0)));
      }
      if ((await tank.util.scan(45) !== Infinity)) {
        await tank.util.attack(45, (await tank.util.scan(45)));
      }
      if ((await tank.util.scan(90) !== Infinity)) {
        await tank.util.attack(90, (await tank.util.scan(90)));
      }
      if ((await tank.util.scan(135) !== Infinity)) {
        await tank.util.attack(135, (await tank.util.scan(135)));
      }
      if ((await tank.util.scan(180) !== Infinity)) {
        await tank.util.attack(180, (await tank.util.scan(180)));
      }
      if ((await tank.util.scan(225) !== Infinity)) {
        await tank.util.attack(225, (await tank.util.scan(225)));
      }
      if ((await tank.util.scan(270) !== Infinity)) {
        await tank.util.attack(270, (await tank.util.scan(270)));
      }
      if ((await tank.util.scan(315) !== Infinity)) {
        await tank.util.attack(315, (await tank.util.scan(315)));
      }
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });


})(runtime.${s}Tank);
`,jm=(s,d)=>`
((tank) => {
  let abort = false;

  let _health_ = 0;
  let _angle_ = 0;

  runtime.when('start', async function anonymous() {
    _angle_ = runtime.random(1, 360);
    runtime.fire('@ai_medium_${s}_${d}_start')
  });

  runtime.when('start', async function anonymous() {
    while (true) {
      _health_ = tank.util.health;
      while (!((tank.util.health < _health_))) {
        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      abort = false;
      tank.util.move(runtime.random(1, 360), 100);
      await runtime.sleep(1);
      tank.util.speed = 0;
      runtime.fire('@ai_medium_${s}_${d}_start')
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
  });

  runtime.when('@ai_medium_${s}_${d}_start', async function anonymous(done) {
    while (true) {
      while (!((await tank.util.scan(_angle_) !== Infinity))) {
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      while (((await tank.util.scan(_angle_) !== Infinity) && ((await tank.util.scan(_angle_)) > '400'))) {
        tank.util.move(_angle_, 100);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      tank.util.speed = 0;
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done()
  });


})(runtime.${s}Tank);
`,Jm=(s,d)=>`
((tank) => {
  let abort = false;

  let _angle_ = 0;
  let _health_ = 0;


  runtime.when('start', async function anonymous() {
    if (((tank.util.y < '5') && (tank.util.y > '-5'))) {
      await tank.util.turnLeft(104);
    }
    else {
      await tank.util.turnLeft(180);
    }
    tank.util.speed = 100;
    while (!(((Math.abs(tank.util.x) > '400') && (Math.abs(tank.util.y) > '400')))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${s}_${d}_start')
  });

  runtime.when('@ai_senior_${s}_${d}_start', async function anonymous(done) {
    if ((tank.util.x < '0')) {
      if ((tank.util.y < '0')) {
        _angle_ = '45';
      }
      else {
        _angle_ = '135';
      }
    }
    else {
      if ((tank.util.y < '0')) {
        _angle_ = '-45';
      }
      else {
        _angle_ = '-135';
      }
    }
    await tank.util.setDirection(_angle_);
    runtime.fire('@ai_senior_${s}_${d}_watch_health');
    _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-60);
    for (let _ = 0; _ < 78; _++) {
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${s}_${d}_next_place');
    done();
  });

  runtime.when('@ai_senior_${s}_${d}_next_place', async function anonymous(done) {
    abort = false;
    if ((runtime.random(1, 3) == '1')) {
      await tank.util.turnLeft(45);
    }
    else {
      await tank.util.turnRight(45);
    }
    tank.util.speed = 100;
    await runtime.sleep(1);
    if (((tank.util.direction > '-5') && (tank.util.direction < '5'))) {
      while (!((tank.util.y > '400'))) {

      if (abort || !runtime.running) {
        break;
      };
        await runtime.nextFrame();
      }
    }
    else {
      if (((tank.util.direction > '85') && (tank.util.direction < '95'))) {
        while (!((tank.util.x > '400'))) {

        if (abort || !runtime.running) {
          break;
        };
          await runtime.nextFrame();
        }
      }
      else {
        if (((tank.util.direction > '-95') && (tank.util.direction < '-85'))) {
          while (!((tank.util.x < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
        else {
          while (!((tank.util.y < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
      }
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${s}_${d}_start')
    done()
  });

  runtime.when('@ai_senior_${s}_${d}_watch_health', async function anonymous(done) {
    _health_ = tank.util.health;
    while (!((tank.util.health < _health_))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${s}_${d}_next_place')
    done()
  });


})(runtime.${s}Tank);
`;function R6({playing:s,enemies:d,enemiesAI:i,onRequestStop:h,onChangeHealth:_}){const[T,u]=h6(null),[v,W]=h6(!1),{fileList:y}=Pm(),k=y[0];if(T){const $=ua.project.activeLayer.children;if(s){if(!v){const V=[];if(d>0)V.push(wl[i.red]("red",Date.now().toString(36)));if(d>1)V.push(wl[i.yellow]("yellow",Date.now().toString(36)));if(d>2)V.push(wl[i.green]("green",Date.now().toString(36)));const x=new zs(h);x.launch(N6(k.script,V)),x.on("frame",()=>{_({player:$.player.util.health,red:$.red.util.health,yellow:$.yellow.util.health,green:$.green.util.health})}),W(x)}}else if(v)v.stop().then(()=>{_({player:100,red:100,yellow:100,green:100}),ua.project.activeLayer.children.forEach((V)=>{if(V.name==="background")return;if(V.util instanceof Za||V.owner instanceof Za)return;V.remove()}),W(!1)});else{if($.player.util.place=Za.PLACE.LEFT_TOP,d>0)$.red.util.place=Za.PLACE.RIGHT_BOTTOM;else $.red.util.hidden=!0;if(d>2)$.yellow.util.place=Za.PLACE.RIGHT_TOP,$.green.util.place=Za.PLACE.LEFT_BOTTOM;else $.yellow.util.hidden=!0,$.green.util.hidden=!0;ua.project.activeLayer.children.forEach((V)=>{if(V.name==="background")return;if(V.util instanceof Za||V.owner instanceof Za)return;V.remove()})}}return Km(Hu,{width:"480px",height:"480px",onSetup:($)=>{u($),ua.view.zoom=0.5,new ua.Raster({name:"background",source:e6,position:ua.view.center}),new Za("player",Za.STYLE.PLAYER,Za.PLACE.LEFT),new Za("red",Za.STYLE.ENEMY_A,Za.PLACE.RIGHT),new Za("yellow",Za.STYLE.ENEMY_B,Za.PLACE.RIGHT_BOTTOM),new Za("green",Za.STYLE.ENEMY_C,Za.PLACE.LEFT_BOTTOM)}})}import{jsx as Km} from"preact/jsx-runtime";import{useLocale as Dm} from"@blockcode/core";import{classNames as k6} from"@blockcode/ui";function ye(s){const d=globalThis.document,i=d.createElement("style");i.appendChild(d.createTextNode(s)),d.head.append(i)}ye("._1mbyQG_toolbar-wrapper{height:var(--tool-bar-height);padding:var(--space)0;flex-shrink:0;justify-content:space-between;align-items:center;display:flex}._1mbyQG_green-flag,._1mbyQG_stop-all{user-select:none;cursor:pointer;border:0;border-radius:.25rem;width:2rem;height:2rem;padding:.375rem}._1mbyQG_green-flag:hover,._1mbyQG_stop-all:hover{background:var(--motion-light-transparent)}._1mbyQG_green-flag._1mbyQG_actived{background:var(--motion-transparent)}._1mbyQG_stop-all{opacity:.5}._1mbyQG_stop-all._1mbyQG_actived{opacity:1}._1mbyQG_green-flag._1mbyQG_disabled,._1mbyQG_stop-all._1mbyQG_disabled{opacity:.5}._1mbyQG_toolbar-button{width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}._1mbyQG_space{margin-left:.2rem}._1mbyQG_toolbar-buttons-group{display:flex}._1mbyQG_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}._1mbyQG_group-button{border-left:none;border-radius:0}._1mbyQG_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}");var pn={groupButtonFirst:"_1mbyQG_group-button-first",groupButtonLast:"_1mbyQG_group-button-last",greenFlag:"_1mbyQG_green-flag",disabled:"_1mbyQG_disabled",actived:"_1mbyQG_actived",stopAll:"_1mbyQG_stop-all",space:"_1mbyQG_space",toolbarButtonsGroup:"_1mbyQG_toolbar-buttons-group",groupButton:"_1mbyQG_group-button",toolbarButton:"_1mbyQG_toolbar-button",toolbarWrapper:"_1mbyQG_toolbar-wrapper"};var Z6="./assets/icon-green-flag-8eb2c7e7b0a15fba.svg";var y6="./assets/icon-stop-all-21d83d10e3dd785f.svg";import{jsx as jc,jsxs as Hm} from"preact/jsx-runtime";function Jc({playing:s,onPlay:d,onStop:i}){const{getText:h}=Dm();return jc("div",{className:pn.toolbarWrapper,children:Hm("div",{className:pn.toolbarButtonsGroup,children:[jc("img",{className:k6(pn.greenFlag,{[pn.actived]:s}),src:Z6,title:h("tankwar.player.greenFlag","Go"),onClick:d}),jc("img",{className:k6(pn.stopAll,{[pn.actived]:s}),src:y6,title:h("tankwar.player.stopAll","Stop"),onClick:i})]})})}ye(".b0DZEW_stage-wrapper{position:relative}.b0DZEW_stage{border:1px solid var(--ui-black-transparent);border-radius:var(--space);background:var(--ui-white);width:482px;height:482px;position:relative;overflow:hidden}");var Pc={stageWrapper:"b0DZEW_stage-wrapper",stage:"b0DZEW_stage"};import{jsx as Kc,jsxs as Bm} from"preact/jsx-runtime";function Ic({playing:s,enemies:d,enemiesAI:i,onChangePlaying:h,onChangeHealth:_}){const T=()=>h(!0),u=()=>h(!1);return Bm("div",{className:Pc.stageWrapper,children:[Kc(Jc,{playing:s,onPlay:T,onStop:u}),Kc("div",{className:Ym(Pc.stage),children:Kc(R6,{playing:s,enemies:d,enemiesAI:i,onRequestStop:u,onChangeHealth:_})})]})}import{useLocale as ob,useEditor as ab} from"@blockcode/core";import{classNames as ke,Text as Ol,Button as Ke,Label as dn,BufferedInput as eb,ComingSoon as nb} from"@blockcode/ui";ye('.MaJ6dq_stage-info-wrapper{margin-top:var(--space);background:var(--ui-white);color:var(--text-primary);border-radius:var(--space);border:1px solid var(--ui-black-transparent);padding:1rem}.MaJ6dq_row{justify-content:space-between;margin-top:.5rem;display:flex}.MaJ6dq_row-primary{margin-top:0}.MaJ6dq_group{flex-direction:row;align-items:center;display:inline-flex}.MaJ6dq_full-input{flex:1}.MaJ6dq_name-input{width:8rem}.MaJ6dq_button{min-width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}.MaJ6dq_button-icon{margin:auto}.MaJ6dq_space{margin-left:.2rem}.MaJ6dq_toolbar-button-group{display:flex}.MaJ6dq_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}.MaJ6dq_group-button{border-left:none;border-radius:0}.MaJ6dq_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.MaJ6dq_button-text{flex:auto}.MaJ6dq_group-button-toggled-on .MaJ6dq_button-text{color:#4c97ff}.MaJ6dq_tank-image{width:1.65rem}.MaJ6dq_health-progress{background:#f5f5f5;border-radius:10px;width:12rem;height:20px}.MaJ6dq_health-progress:before{counter-reset:progress var(--percent,0);content:counter(progress)"%\u2002";width:calc(12rem*var(--percent,0)/100);color:var(--ui-white);text-align:right;white-space:nowrap;background:#ff6680;border-radius:10px;height:20px;font-size:12px;line-height:20px;display:block;overflow:hidden}');var fa={nameInput:"MaJ6dq_name-input",buttonIcon:"MaJ6dq_button-icon",toolbarButtonGroup:"MaJ6dq_toolbar-button-group",groupButtonFirst:"MaJ6dq_group-button-first",space:"MaJ6dq_space",row:"MaJ6dq_row",button:"MaJ6dq_button",groupButtonToggledOn:"MaJ6dq_group-button-toggled-on",stageInfoWrapper:"MaJ6dq_stage-info-wrapper",fullInput:"MaJ6dq_full-input",tankImage:"MaJ6dq_tank-image",group:"MaJ6dq_group",rowPrimary:"MaJ6dq_row-primary",healthProgress:"MaJ6dq_health-progress",groupButtonLast:"MaJ6dq_group-button-last",groupButton:"MaJ6dq_group-button",buttonText:"MaJ6dq_button-text"};var q6="./assets/tank-2-95f1944eace1f71a.png";var T6="./assets/tank-3-fc6d9534c6d7bba5.png";var x6="./assets/tank-4-79e2f163c902d864.png";import{jsx as ha,jsxs as fn} from"preact/jsx-runtime";var lb=[q6,T6,x6];function Gc({playing:s,enemies:d,enemiesAI:i,health:h,onChangeEnemies:_,onChangeEnemyAI:T}){const{getText:u}=ob(),{fileList:v,modifyFile:W}=ab(),y=v[0],k=(Z,$)=>{W({[Z]:$})};return fn("div",{className:fa.stageInfoWrapper,children:[fn("div",{className:ke(fa.row,fa.rowPrimary),children:[ha(dn,{text:u("tankwar.stageInfo.player","Player"),children:ha(eb,{disabled:s,className:fa.nameInput,placeholder:u("tankwar.stageInfo.nickname","Nickname"),onSubmit:(Z)=>k("name",Z),value:y.name})}),ha(dn,{secondary:!0,className:fa.health,text:u("tankwar.stageInfo.health","Health"),children:ha("div",{className:fa.healthProgress,style:`--percent:${h.player||0}`})})]}),fn("div",{className:fa.row,children:[fn(dn,{secondary:!0,text:u("tankwar.stageInfo.enemies","Enemies"),children:[ha(Ke,{disabled:s,className:ke(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:d===0}),onClick:()=>_(0),children:ha("div",{className:fa.buttonText,children:"0"})}),ha(Ke,{disabled:s,className:ke(fa.button,fa.groupButton,{[fa.groupButtonToggledOn]:d===1}),onClick:()=>_(1),children:ha("div",{className:fa.buttonText,children:"1"})}),ha(Ke,{disabled:s,className:ke(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:d===3}),onClick:()=>_(3),children:ha("div",{className:fa.buttonText,children:"3"})})]}),d>0&&fn(dn,{secondary:!0,children:[ha(Ke,{disabled:s,className:ke(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:!0}),children:ha("div",{className:fa.buttonText,children:ha(Ol,{id:"tankwar.stageInfo.mode.local",defaultMessage:"Local AI"})})}),ha(nb,{placement:"bottom",children:ha(Ke,{disabled:s,className:ke(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:!1}),children:ha("div",{className:fa.buttonText,children:ha(Ol,{id:"tankwar.stageInfo.mode.remote",defaultMessage:"Remote Players"})})})})]})]}),["red","yellow","green"].slice(0,d).map((Z,$)=>fn("div",{className:fa.row,children:[ha(dn,{secondary:!0,children:ha("img",{className:fa.tankImage,src:lb[$],alt:u(`tankwar.stageInfo.enemy.${Z}`,Z.replace(Z[0],Z[0].toUpperCase())),title:u(`tankwar.stageInfo.enemy.${Z}`,Z.replace(Z[0],Z[0].toUpperCase()))})}),ha(dn,{secondary:!0,children:ha("div",{className:fa.healthProgress,style:`--percent:${h[Z]||0}`})}),fn(dn,{secondary:!0,text:u("tankwar.stageInfo.ai","AI"),children:[ha(Ke,{disabled:s,className:ke(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:i[Z]==="simple"}),onClick:()=>T(Z,"simple"),children:ha("div",{className:fa.buttonText,children:ha(Ol,{id:"tankwar.stageInfo.ai.simple",defaultMessage:"Simple"})})}),ha(Ke,{disabled:s,className:ke(fa.button,fa.groupButton,{[fa.groupButtonToggledOn]:i[Z]==="medium"}),onClick:()=>T(Z,"medium"),children:ha("div",{className:fa.buttonText,children:ha(Ol,{id:"tankwar.stageInfo.ai.medium",defaultMessage:"Medium"})})}),ha(Ke,{disabled:s,className:ke(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:i[Z]==="senior"}),onClick:()=>T(Z,"senior"),children:ha("div",{className:fa.buttonText,children:ha(Ol,{id:"tankwar.stageInfo.ai.senior",defaultMessage:"Senior"})})})]})]},$))]})}ye(".FMSzyW_sidebar-wrapper{flex-direction:column;height:100%;display:flex}.FMSzyW_stage-wrapper{display:flex}.FMSzyW_selector-wrapper{margin-top:var(--space);flex-direction:row;height:100%;display:flex}");var Dc={sidebarWrapper:"FMSzyW_sidebar-wrapper",selectorWrapper:"FMSzyW_selector-wrapper",stageWrapper:"FMSzyW_stage-wrapper"};import{jsx as $6,jsxs as sb} from"preact/jsx-runtime";function Hc(){const[s,d]=Ss(!1),[i,h]=Ss(1),[_,T]=Ss({red:"simple",yellow:"medium",green:"senior"}),[u,v]=Ss({player:100,red:100,yellow:100,green:100});return sb("div",{className:Dc.sidebarWrapper,children:[$6(Ic,{className:Dc.stageWrapper,playing:s,enemies:i,enemiesAI:_,onChangePlaying:d,onChangeHealth:v}),$6(Gc,{playing:s,enemies:i,enemiesAI:_,health:u,onChangeEnemies:h,onChangeEnemyAI:(W,y)=>T({..._,[W]:y})})]})}var M6={fileList:[{id:`player_${Date.now().toString(36)}`,name:"player"}]};var V6={"tankwar.player.greenFlag":"Go","tankwar.player.stopAll":"Stop","tankwar.stageInfo.player":"Player","tankwar.stageInfo.nickname":"Nickname","tankwar.stageInfo.enemies":"Enemies","tankwar.stageInfo.health":"Health","tankwar.stageInfo.enemy.red":"Red","tankwar.stageInfo.enemy.yellow":"Yellow","tankwar.stageInfo.enemy.green":"Green","tankwar.stageInfo.mode.local":"Local AI","tankwar.stageInfo.mode.remote":"Remote Players","tankwar.stageInfo.ai":"AI","tankwar.stageInfo.ai.simple":"Simple","tankwar.stageInfo.ai.medium":"Medium","tankwar.stageInfo.ai.senior":"Senior","tankwar.blocks.motion_attack":"fire in direction %1 at %2 steps","tankwar.blocks.motion_move":"forward in direction %1 at %2 % speed","tankwar.blocks.motion_setspeed":"set speed to %1 %","tankwar.blocks.motion_stop":"stop","tankwar.blocks.motion_speed":"speed","tankwar.blocks.sensing_scanwidth":"set scan width to %1","tankwar.blocks.sensing_scan":"scan for enemy in direction %1?","tankwar.blocks.sensing_distance":"measure distance of enemy in direction %1","tankwar.blocks.sensing_health":"health"};var L6={"tankwar.player.greenFlag":"\u8FD0\u884C","tankwar.player.stopAll":"\u505C\u6B62","tankwar.stageInfo.player":"\u73A9\u5BB6","tankwar.stageInfo.nickname":"\u6635\u79F0","tankwar.stageInfo.enemies":"\u654C\u65B9\u6570\u91CF","tankwar.stageInfo.health":"\u751F\u547D\u503C","tankwar.stageInfo.enemy.red":"\u7EA2","tankwar.stageInfo.enemy.yellow":"\u9EC4","tankwar.stageInfo.enemy.green":"\u7EFF","tankwar.stageInfo.mode.local":"\u672C\u673A AI","tankwar.stageInfo.mode.remote":"\u8054\u7F51\u73A9\u5BB6","tankwar.stageInfo.ai":"AI \u7B56\u7565","tankwar.stageInfo.ai.simple":"\u7B80\u5355","tankwar.stageInfo.ai.medium":"\u4E2D\u7B49","tankwar.stageInfo.ai.senior":"\u9AD8\u7EA7","tankwar.blocks.motion_attack":"\u671D\u5411 %1 \u65B9\u5411\u8DDD\u79BB %2 \u6B65\u53D1\u5C04\u70AE\u5F39","tankwar.blocks.motion_move":"\u4EE5 %2 % \u901F\u5EA6\u9762\u5411 %1 \u65B9\u5411\u524D\u8FDB","tankwar.blocks.motion_setspeed":"\u5C06\u901F\u5EA6\u8BBE\u4E3A %1 %","tankwar.blocks.motion_stop":"\u505C\u6B62\u524D\u8FDB","tankwar.blocks.motion_speed":"\u901F\u5EA6","tankwar.blocks.sensing_scanwidth":"\u5C06\u96F7\u8FBE\u626B\u63CF\u5BBD\u5EA6\u8BBE\u4E3A %1","tankwar.blocks.sensing_scan":"\u96F7\u8FBE\u626B\u63CF %1 \u65B9\u5411\u6709\u654C\u4EBA\uFF1F","tankwar.blocks.sensing_distance":"\u96F7\u8FBE\u6D4B\u91CF %1 \u65B9\u5411\u654C\u4EBA\u7684\u8DDD\u79BB","tankwar.blocks.sensing_health":"\u751F\u547D\u503C"};function rb({addLocaleData:s,createLayout:d,openProject:i,project:h}){s(Ju),s({en:V6,"zh-Hans":L6});const _=(u)=>{u=u??M6,i(Object.assign({selectedFileId:u.fileList[0].id},u))};_(h),d({mainMenu:gu({createProject:_,openProject:i,saveProject:()=>{return{thumb:document.querySelector("#blockcode-blocks-player").toDataURL()}}}).slice(0,2),tabs:[{...Vs,Content:gc}],sidebars:[{expand:"right",Content:Hc}],pane:!1,tutorials:!1,canEditProjectName:!0})}export{rb as default};
