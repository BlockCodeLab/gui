var I6=Object.defineProperty;var J6=(l,m)=>{for(var r in m)I6(l,r,{get:m[r],enumerable:!0,configurable:!0,set:(N)=>m[r]=()=>N})};var gl=((l)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(l,{get:(m,r)=>(typeof require!=="undefined"?require:m)[r]}):l)(function(l){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+l+'" is not supported')});import{Text as wi}from"@blockcode/ui";import{Text as Vi}from"@blockcode/ui";import{Keys as va,useLayout as D4,useEditor as Q4}from"@blockcode/core";import{Text as ja,MenuSection as L1,MenuItem as Ns}from"@blockcode/ui";import{ScratchBlocks as C4}from"@blockcode/blocks-editor";import{jsx as Do,jsxs as Mi,Fragment as B4}from"preact/jsx-runtime";import{useEffect as e9,useState as Ui}from"preact/hooks";import{Keys as Fa}from"@blockcode/core";import{Text as U1,MenuSection as o9,MenuItem as O1}from"@blockcode/ui";import{ScratchBlocks as a9}from"@blockcode/blocks-editor";import{jsx as vl,jsxs as g1,Fragment as n9}from"preact/jsx-runtime";import{useLayout as l9,useEditor as r9}from"@blockcode/core";import{Text as un,Spinner as i9,MenuSection as c9,MenuItem as u9}from"@blockcode/ui";import{Serial as Z8,sleep as Jr}from"@blockcode/core";var K6=Object.create,{getPrototypeOf:z6,defineProperty:rs,getOwnPropertyNames:R0,getOwnPropertyDescriptor:E6}=Object,x0=Object.prototype.hasOwnProperty,ki=(l,m,r)=>{r=l!=null?K6(z6(l)):{};let N=m||!l||!l.__esModule?rs(r,"default",{value:l,enumerable:!0}):r;for(let p of R0(l))if(!x0.call(N,p))rs(N,p,{get:()=>l[p],enumerable:!0});return N},ac=new WeakMap,P6=(l)=>{var m=ac.get(l),r;if(m)return m;if(m=rs({},"__esModule",{value:!0}),l&&typeof l==="object"||typeof l==="function")R0(l).map((N)=>!x0.call(m,N)&&rs(m,N,{get:()=>l[N],enumerable:!(r=E6(l,N))||r.enumerable}));return ac.set(l,m),m},fl=(l,m)=>()=>(m||l((m={exports:{}}).exports,m),m.exports),Ao=(l,m)=>{for(var r in m)rs(l,r,{get:m[r],enumerable:!0,configurable:!0,set:(N)=>m[r]=()=>N})},Ro=(l,m)=>()=>(l&&(m=l(l=0)),m),q0={};Ao(q0,{webcrypto:()=>ul,timingSafeEqual:()=>vn,scryptSync:()=>An,scrypt:()=>es,randomUUID:()=>ii,getRandomValues:()=>ri,getCurves:()=>li,default:()=>ci,DEFAULT_ENCODING:()=>Zn});function li(){return U0}var T0,hs,$0,V0,M0,L0,Xl=(l,m)=>()=>(l&&(m=l(l=0)),m),je=(l,m)=>()=>(m||l((m={exports:{}}).exports,m),m.exports),Us=(l,m)=>{for(var r in m)hs(l,r,{get:m[r],enumerable:!0})},ml=(l,m,r,N)=>{if(m&&typeof m=="object"||typeof m=="function")for(let p of V0(m))!L0.call(l,p)&&p!==r&&hs(l,p,{get:()=>m[p],enumerable:!(N=$0(m,p))||N.enumerable});return l},Sl=(l,m,r)=>(ml(l,m,"default"),r&&ml(r,m,"default")),Ya=(l,m,r)=>(r=l!=null?T0(M0(l)):{},ml(m||!l||!l.__esModule?hs(r,"default",{value:l,enumerable:!0}):r,l)),Qo=(l)=>ml(hs({},"__esModule",{value:!0}),l),nc,sc,Xo,ho,Da,mo,$a,Wl,En,lc,wl,Qa,jl,Fl,Il,Ca,Os,dn,Jl,Pn,gs,rc,ic,Kl,zl,cc,uc,tc,El,Xs,Ss,Ba,mc,bc,Pl,dc,Hl,pc,Ws,Lo,la,ws,wo,Hn,Gl,ra,fc,Va,Ma,La,hc,Aa,js,Fs,_c,Is,Yl,Gn,Dl,kc,ia,Ql,Cl,Js,Nc,Bl,Zc,Al,Ks,vc,yc,_a,pn,Rc,er,or,ar,xc,nr,sr,lr,rr,qc,ir,cr,Po,zs,ur,Tc,$c,Vc,Mc,Lc,fn,Uc,Oc,gc,Xc,Sc,tr,mr,br,Es,Yn,Wc,dr,pr,Dn,wc,jc,Ps,Fc,Ic,Ua,fr,Jc,Kc,Hs,hr,_r,zc,Ec,Pc,kr,Hc,Nr,en,Zr,vr,on,Gs,Gc,Yc,yr,Rr,Dc,Qc,Cc,Ys,Ds,Bc,ca,xr,Ho,Qn,Ac,eu,ou,qr,na,hn,Tr,au,$r,nu,Vr,su,lu,ru,iu,Qs,cu,Cs,uu,tu,mu,bu,du,pu,fu,Bs,Mr,As,el,_n,ol,al,Lr,hu,Ur,Or,_u,gr,ku,Nu,Zu,Xr,vu,yu,Ru,xu,Cn,Sr,qu,Tu,$u,Vu,Mu,Wr,wr,nl,jr,Lu,Uu,Ou,gu,Fr,Ir,Xu,Zn="buffer",ri=(l)=>crypto.getRandomValues(l),ii=()=>crypto.randomUUID(),U0,vn,An,es,ul,ci,H6=Ro(()=>{T0=Object.create,hs=Object.defineProperty,$0=Object.getOwnPropertyDescriptor,V0=Object.getOwnPropertyNames,M0=Object.getPrototypeOf,L0=Object.prototype.hasOwnProperty,nc=je((l)=>{l.byteLength=L,l.toByteArray=R,l.fromByteArray=M;var m=[],r=[],N=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(x=0,u=p.length;x<u;++x)m[x]=p[x],r[p.charCodeAt(x)]=x;var x,u;r[45]=62,r[95]=63;function _(T){var q=T.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=T.indexOf("=");X===-1&&(X=q);var j=X===q?0:4-X%4;return[X,j]}function L(T){var q=_(T),X=q[0],j=q[1];return(X+j)*3/4-j}function y(T,q,X){return(q+X)*3/4-X}function R(T){var q,X=_(T),j=X[0],I=X[1],S=new N(y(T,j,I)),E=0,D=I>0?j-4:j,C;for(C=0;C<D;C+=4)q=r[T.charCodeAt(C)]<<18|r[T.charCodeAt(C+1)]<<12|r[T.charCodeAt(C+2)]<<6|r[T.charCodeAt(C+3)],S[E++]=q>>16&255,S[E++]=q>>8&255,S[E++]=q&255;return I===2&&(q=r[T.charCodeAt(C)]<<2|r[T.charCodeAt(C+1)]>>4,S[E++]=q&255),I===1&&(q=r[T.charCodeAt(C)]<<10|r[T.charCodeAt(C+1)]<<4|r[T.charCodeAt(C+2)]>>2,S[E++]=q>>8&255,S[E++]=q&255),S}function v(T){return m[T>>18&63]+m[T>>12&63]+m[T>>6&63]+m[T&63]}function $(T,q,X){for(var j,I=[],S=q;S<X;S+=3)j=(T[S]<<16&16711680)+(T[S+1]<<8&65280)+(T[S+2]&255),I.push(v(j));return I.join("")}function M(T){for(var q,X=T.length,j=X%3,I=[],S=16383,E=0,D=X-j;E<D;E+=S)I.push($(T,E,E+S>D?D:E+S));return j===1?(q=T[X-1],I.push(m[q>>2]+m[q<<4&63]+"==")):j===2&&(q=(T[X-2]<<8)+T[X-1],I.push(m[q>>10]+m[q>>4&63]+m[q<<2&63]+"=")),I.join("")}}),sc=je((l)=>{l.read=function(m,r,N,p,x){var u,_,L=x*8-p-1,y=(1<<L)-1,R=y>>1,v=-7,$=N?x-1:0,M=N?-1:1,T=m[r+$];for($+=M,u=T&(1<<-v)-1,T>>=-v,v+=L;v>0;u=u*256+m[r+$],$+=M,v-=8);for(_=u&(1<<-v)-1,u>>=-v,v+=p;v>0;_=_*256+m[r+$],$+=M,v-=8);if(u===0)u=1-R;else{if(u===y)return _?NaN:(T?-1:1)*(1/0);_=_+Math.pow(2,p),u=u-R}return(T?-1:1)*_*Math.pow(2,u-p)},l.write=function(m,r,N,p,x,u){var _,L,y,R=u*8-x-1,v=(1<<R)-1,$=v>>1,M=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=p?0:u-1,q=p?1:-1,X=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(L=isNaN(r)?1:0,_=v):(_=Math.floor(Math.log(r)/Math.LN2),r*(y=Math.pow(2,-_))<1&&(_--,y*=2),_+$>=1?r+=M/y:r+=M*Math.pow(2,1-$),r*y>=2&&(_++,y/=2),_+$>=v?(L=0,_=v):_+$>=1?(L=(r*y-1)*Math.pow(2,x),_=_+$):(L=r*Math.pow(2,$-1)*Math.pow(2,x),_=0));x>=8;m[N+T]=L&255,T+=q,L/=256,x-=8);for(_=_<<x|L,R+=x;R>0;m[N+T]=_&255,T+=q,_/=256,R-=8);m[N+T-q]|=X*128}}),Xo=je((l)=>{var m=nc(),r=sc(),N=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=_,l.SlowBuffer=I,l.INSPECT_MAX_BYTES=50;var p=2147483647;l.kMaxLength=p,_.TYPED_ARRAY_SUPPORT=x(),!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{let U=new Uint8Array(1),a={foo:function(){return 42}};return Object.setPrototypeOf(a,Uint8Array.prototype),Object.setPrototypeOf(U,a),U.foo()===42}catch{return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}});function u(U){if(U>p)throw new RangeError('The value "'+U+'" is invalid for option "size"');let a=new Uint8Array(U);return Object.setPrototypeOf(a,_.prototype),a}function _(U,a,i){if(typeof U=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(U)}return L(U,a,i)}_.poolSize=8192;function L(U,a,i){if(typeof U=="string")return $(U,a);if(ArrayBuffer.isView(U))return T(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Ie(U,ArrayBuffer)||U&&Ie(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ie(U,SharedArrayBuffer)||U&&Ie(U.buffer,SharedArrayBuffer)))return q(U,a,i);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let f=U.valueOf&&U.valueOf();if(f!=null&&f!==U)return _.from(f,a,i);let Z=X(U);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return _.from(U[Symbol.toPrimitive]("string"),a,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}_.from=function(U,a,i){return L(U,a,i)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array);function y(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function R(U,a,i){return y(U),U<=0?u(U):a!==void 0?typeof i=="string"?u(U).fill(a,i):u(U).fill(a):u(U)}_.alloc=function(U,a,i){return R(U,a,i)};function v(U){return y(U),u(U<0?0:j(U)|0)}_.allocUnsafe=function(U){return v(U)},_.allocUnsafeSlow=function(U){return v(U)};function $(U,a){if((typeof a!="string"||a==="")&&(a="utf8"),!_.isEncoding(a))throw new TypeError("Unknown encoding: "+a);let i=S(U,a)|0,f=u(i),Z=f.write(U,a);return Z!==i&&(f=f.slice(0,Z)),f}function M(U){let a=U.length<0?0:j(U.length)|0,i=u(a);for(let f=0;f<a;f+=1)i[f]=U[f]&255;return i}function T(U){if(Ie(U,Uint8Array)){let a=new Uint8Array(U);return q(a.buffer,a.byteOffset,a.byteLength)}return M(U)}function q(U,a,i){if(a<0||U.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<a+(i||0))throw new RangeError('"length" is outside of buffer bounds');let f;return a===void 0&&i===void 0?f=new Uint8Array(U):i===void 0?f=new Uint8Array(U,a):f=new Uint8Array(U,a,i),Object.setPrototypeOf(f,_.prototype),f}function X(U){if(_.isBuffer(U)){let a=j(U.length)|0,i=u(a);return i.length===0||U.copy(i,0,0,a),i}if(U.length!==void 0)return typeof U.length!="number"||Qe(U.length)?u(0):M(U);if(U.type==="Buffer"&&Array.isArray(U.data))return M(U.data)}function j(U){if(U>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return U|0}function I(U){return+U!=U&&(U=0),_.alloc(+U)}_.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==_.prototype},_.compare=function(U,a){if(Ie(U,Uint8Array)&&(U=_.from(U,U.offset,U.byteLength)),Ie(a,Uint8Array)&&(a=_.from(a,a.offset,a.byteLength)),!_.isBuffer(U)||!_.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===a)return 0;let i=U.length,f=a.length;for(let Z=0,V=Math.min(i,f);Z<V;++Z)if(U[Z]!==a[Z]){i=U[Z],f=a[Z];break}return i<f?-1:f<i?1:0},_.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(U,a){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return _.alloc(0);let i;if(a===void 0)for(a=0,i=0;i<U.length;++i)a+=U[i].length;let f=_.allocUnsafe(a),Z=0;for(i=0;i<U.length;++i){let V=U[i];if(Ie(V,Uint8Array))Z+V.length>f.length?(_.isBuffer(V)||(V=_.from(V)),V.copy(f,Z)):Uint8Array.prototype.set.call(f,V,Z);else if(_.isBuffer(V))V.copy(f,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=V.length}return f};function S(U,a){if(_.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Ie(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);let i=U.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&i===0)return 0;let Z=!1;for(;;)switch(a){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Te(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Pe(U).length;default:if(Z)return f?-1:Te(U).length;a=(""+a).toLowerCase(),Z=!0}}_.byteLength=S;function E(U,a,i){let f=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,a>>>=0,i<=a))return"";for(U||(U="utf8");;)switch(U){case"hex":return d(this,a,i);case"utf8":case"utf-8":return c(this,a,i);case"ascii":return h(this,a,i);case"latin1":case"binary":return k(this,a,i);case"base64":return n(this,a,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,a,i);default:if(f)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),f=!0}}_.prototype._isBuffer=!0;function D(U,a,i){let f=U[a];U[a]=U[i],U[i]=f}_.prototype.swap16=function(){let U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<U;a+=2)D(this,a,a+1);return this},_.prototype.swap32=function(){let U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<U;a+=4)D(this,a,a+3),D(this,a+1,a+2);return this},_.prototype.swap64=function(){let U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<U;a+=8)D(this,a,a+7),D(this,a+1,a+6),D(this,a+2,a+5),D(this,a+3,a+4);return this},_.prototype.toString=function(){let U=this.length;return U===0?"":arguments.length===0?c(this,0,U):E.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(U){if(!_.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:_.compare(this,U)===0},_.prototype.inspect=function(){let U="",a=l.INSPECT_MAX_BYTES;return U=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(U+=" ... "),"<Buffer "+U+">"},N&&(_.prototype[N]=_.prototype.inspect),_.prototype.compare=function(U,a,i,f,Z){if(Ie(U,Uint8Array)&&(U=_.from(U,U.offset,U.byteLength)),!_.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(a===void 0&&(a=0),i===void 0&&(i=U?U.length:0),f===void 0&&(f=0),Z===void 0&&(Z=this.length),a<0||i>U.length||f<0||Z>this.length)throw new RangeError("out of range index");if(f>=Z&&a>=i)return 0;if(f>=Z)return-1;if(a>=i)return 1;if(a>>>=0,i>>>=0,f>>>=0,Z>>>=0,this===U)return 0;let V=Z-f,g=i-a,F=Math.min(V,g),z=this.slice(f,Z),J=U.slice(a,i);for(let K=0;K<F;++K)if(z[K]!==J[K]){V=z[K],g=J[K];break}return V<g?-1:g<V?1:0};function C(U,a,i,f,Z){if(U.length===0)return-1;if(typeof i=="string"?(f=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,Qe(i)&&(i=Z?0:U.length-1),i<0&&(i=U.length+i),i>=U.length){if(Z)return-1;i=U.length-1}else if(i<0)if(Z)i=0;else return-1;if(typeof a=="string"&&(a=_.from(a,f)),_.isBuffer(a))return a.length===0?-1:ce(U,a,i,f,Z);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(U,a,i):Uint8Array.prototype.lastIndexOf.call(U,a,i):ce(U,[a],i,f,Z);throw new TypeError("val must be string, number or Buffer")}function ce(U,a,i,f,Z){let V=1,g=U.length,F=a.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(U.length<2||a.length<2)return-1;V=2,g/=2,F/=2,i/=2}function z(K,oe){return V===1?K[oe]:K.readUInt16BE(oe*V)}let J;if(Z){let K=-1;for(J=i;J<g;J++)if(z(U,J)===z(a,K===-1?0:J-K)){if(K===-1&&(K=J),J-K+1===F)return K*V}else K!==-1&&(J-=J-K),K=-1}else for(i+F>g&&(i=g-F),J=i;J>=0;J--){let K=!0;for(let oe=0;oe<F;oe++)if(z(U,J+oe)!==z(a,oe)){K=!1;break}if(K)return J}return-1}_.prototype.includes=function(U,a,i){return this.indexOf(U,a,i)!==-1},_.prototype.indexOf=function(U,a,i){return C(this,U,a,i,!0)},_.prototype.lastIndexOf=function(U,a,i){return C(this,U,a,i,!1)};function be(U,a,i,f){i=Number(i)||0;let Z=U.length-i;f?(f=Number(f),f>Z&&(f=Z)):f=Z;let V=a.length;f>V/2&&(f=V/2);let g;for(g=0;g<f;++g){let F=parseInt(a.substr(g*2,2),16);if(Qe(F))return g;U[i+g]=F}return g}function qe(U,a,i,f){return We(Te(a,U.length-i),U,i,f)}function ue(U,a,i,f){return We(Le(a),U,i,f)}function $e(U,a,i,f){return We(Pe(a),U,i,f)}function e(U,a,i,f){return We(Ve(a,U.length-i),U,i,f)}_.prototype.write=function(U,a,i,f){if(a===void 0)f="utf8",i=this.length,a=0;else if(i===void 0&&typeof a=="string")f=a,i=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(i)?(i=i>>>0,f===void 0&&(f="utf8")):(f=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Z=this.length-a;if((i===void 0||i>Z)&&(i=Z),U.length>0&&(i<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");let V=!1;for(;;)switch(f){case"hex":return be(this,U,a,i);case"utf8":case"utf-8":return qe(this,U,a,i);case"ascii":case"latin1":case"binary":return ue(this,U,a,i);case"base64":return $e(this,U,a,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e(this,U,a,i);default:if(V)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),V=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function n(U,a,i){return a===0&&i===U.length?m.fromByteArray(U):m.fromByteArray(U.slice(a,i))}function c(U,a,i){i=Math.min(U.length,i);let f=[],Z=a;for(;Z<i;){let V=U[Z],g=null,F=V>239?4:V>223?3:V>191?2:1;if(Z+F<=i){let z,J,K,oe;switch(F){case 1:V<128&&(g=V);break;case 2:z=U[Z+1],(z&192)===128&&(oe=(V&31)<<6|z&63,oe>127&&(g=oe));break;case 3:z=U[Z+1],J=U[Z+2],(z&192)===128&&(J&192)===128&&(oe=(V&15)<<12|(z&63)<<6|J&63,oe>2047&&(oe<55296||oe>57343)&&(g=oe));break;case 4:z=U[Z+1],J=U[Z+2],K=U[Z+3],(z&192)===128&&(J&192)===128&&(K&192)===128&&(oe=(V&15)<<18|(z&63)<<12|(J&63)<<6|K&63,oe>65535&&oe<1114112&&(g=oe))}}g===null?(g=65533,F=1):g>65535&&(g-=65536,f.push(g>>>10&1023|55296),g=56320|g&1023),f.push(g),Z+=F}return t(f)}var s=4096;function t(U){let a=U.length;if(a<=s)return String.fromCharCode.apply(String,U);let i="",f=0;for(;f<a;)i+=String.fromCharCode.apply(String,U.slice(f,f+=s));return i}function h(U,a,i){let f="";i=Math.min(U.length,i);for(let Z=a;Z<i;++Z)f+=String.fromCharCode(U[Z]&127);return f}function k(U,a,i){let f="";i=Math.min(U.length,i);for(let Z=a;Z<i;++Z)f+=String.fromCharCode(U[Z]);return f}function d(U,a,i){let f=U.length;(!a||a<0)&&(a=0),(!i||i<0||i>f)&&(i=f);let Z="";for(let V=a;V<i;++V)Z+=Je[U[V]];return Z}function o(U,a,i){let f=U.slice(a,i),Z="";for(let V=0;V<f.length-1;V+=2)Z+=String.fromCharCode(f[V]+f[V+1]*256);return Z}_.prototype.slice=function(U,a){let i=this.length;U=~~U,a=a===void 0?i:~~a,U<0?(U+=i,U<0&&(U=0)):U>i&&(U=i),a<0?(a+=i,a<0&&(a=0)):a>i&&(a=i),a<U&&(a=U);let f=this.subarray(U,a);return Object.setPrototypeOf(f,_.prototype),f};function b(U,a,i){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+a>i)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(U,a,i){U=U>>>0,a=a>>>0,i||b(U,a,this.length);let f=this[U],Z=1,V=0;for(;++V<a&&(Z*=256);)f+=this[U+V]*Z;return f},_.prototype.readUintBE=_.prototype.readUIntBE=function(U,a,i){U=U>>>0,a=a>>>0,i||b(U,a,this.length);let f=this[U+--a],Z=1;for(;a>0&&(Z*=256);)f+=this[U+--a]*Z;return f},_.prototype.readUint8=_.prototype.readUInt8=function(U,a){return U=U>>>0,a||b(U,1,this.length),this[U]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(U,a){return U=U>>>0,a||b(U,2,this.length),this[U]|this[U+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(U,a){return U=U>>>0,a||b(U,2,this.length),this[U]<<8|this[U+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(U,a){return U=U>>>0,a||b(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+this[U+3]*16777216},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(U,a){return U=U>>>0,a||b(U,4,this.length),this[U]*16777216+(this[U+1]<<16|this[U+2]<<8|this[U+3])},_.prototype.readBigUInt64LE=Se(function(U){U=U>>>0,ge(U,"offset");let a=this[U],i=this[U+7];(a===void 0||i===void 0)&&H(U,this.length-8);let f=a+this[++U]*256+this[++U]*65536+this[++U]*16777216,Z=this[++U]+this[++U]*256+this[++U]*65536+i*16777216;return BigInt(f)+(BigInt(Z)<<BigInt(32))}),_.prototype.readBigUInt64BE=Se(function(U){U=U>>>0,ge(U,"offset");let a=this[U],i=this[U+7];(a===void 0||i===void 0)&&H(U,this.length-8);let f=a*16777216+this[++U]*65536+this[++U]*256+this[++U],Z=this[++U]*16777216+this[++U]*65536+this[++U]*256+i;return(BigInt(f)<<BigInt(32))+BigInt(Z)}),_.prototype.readIntLE=function(U,a,i){U=U>>>0,a=a>>>0,i||b(U,a,this.length);let f=this[U],Z=1,V=0;for(;++V<a&&(Z*=256);)f+=this[U+V]*Z;return Z*=128,f>=Z&&(f-=Math.pow(2,8*a)),f},_.prototype.readIntBE=function(U,a,i){U=U>>>0,a=a>>>0,i||b(U,a,this.length);let f=a,Z=1,V=this[U+--f];for(;f>0&&(Z*=256);)V+=this[U+--f]*Z;return Z*=128,V>=Z&&(V-=Math.pow(2,8*a)),V},_.prototype.readInt8=function(U,a){return U=U>>>0,a||b(U,1,this.length),this[U]&128?(255-this[U]+1)*-1:this[U]},_.prototype.readInt16LE=function(U,a){U=U>>>0,a||b(U,2,this.length);let i=this[U]|this[U+1]<<8;return i&32768?i|4294901760:i},_.prototype.readInt16BE=function(U,a){U=U>>>0,a||b(U,2,this.length);let i=this[U+1]|this[U]<<8;return i&32768?i|4294901760:i},_.prototype.readInt32LE=function(U,a){return U=U>>>0,a||b(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},_.prototype.readInt32BE=function(U,a){return U=U>>>0,a||b(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},_.prototype.readBigInt64LE=Se(function(U){U=U>>>0,ge(U,"offset");let a=this[U],i=this[U+7];(a===void 0||i===void 0)&&H(U,this.length-8);let f=this[U+4]+this[U+5]*256+this[U+6]*65536+(i<<24);return(BigInt(f)<<BigInt(32))+BigInt(a+this[++U]*256+this[++U]*65536+this[++U]*16777216)}),_.prototype.readBigInt64BE=Se(function(U){U=U>>>0,ge(U,"offset");let a=this[U],i=this[U+7];(a===void 0||i===void 0)&&H(U,this.length-8);let f=(a<<24)+this[++U]*65536+this[++U]*256+this[++U];return(BigInt(f)<<BigInt(32))+BigInt(this[++U]*16777216+this[++U]*65536+this[++U]*256+i)}),_.prototype.readFloatLE=function(U,a){return U=U>>>0,a||b(U,4,this.length),r.read(this,U,!0,23,4)},_.prototype.readFloatBE=function(U,a){return U=U>>>0,a||b(U,4,this.length),r.read(this,U,!1,23,4)},_.prototype.readDoubleLE=function(U,a){return U=U>>>0,a||b(U,8,this.length),r.read(this,U,!0,52,8)},_.prototype.readDoubleBE=function(U,a){return U=U>>>0,a||b(U,8,this.length),r.read(this,U,!1,52,8)};function W(U,a,i,f,Z,V){if(!_.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>Z||a<V)throw new RangeError('"value" argument is out of bounds');if(i+f>U.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(U,a,i,f){if(U=+U,a=a>>>0,i=i>>>0,!f){let g=Math.pow(2,8*i)-1;W(this,U,a,i,g,0)}let Z=1,V=0;for(this[a]=U&255;++V<i&&(Z*=256);)this[a+V]=U/Z&255;return a+i},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(U,a,i,f){if(U=+U,a=a>>>0,i=i>>>0,!f){let g=Math.pow(2,8*i)-1;W(this,U,a,i,g,0)}let Z=i-1,V=1;for(this[a+Z]=U&255;--Z>=0&&(V*=256);)this[a+Z]=U/V&255;return a+i},_.prototype.writeUint8=_.prototype.writeUInt8=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,1,255,0),this[a]=U&255,a+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,2,65535,0),this[a]=U&255,this[a+1]=U>>>8,a+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,2,65535,0),this[a]=U>>>8,this[a+1]=U&255,a+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,4,4294967295,0),this[a+3]=U>>>24,this[a+2]=U>>>16,this[a+1]=U>>>8,this[a]=U&255,a+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,4,4294967295,0),this[a]=U>>>24,this[a+1]=U>>>16,this[a+2]=U>>>8,this[a+3]=U&255,a+4};function O(U,a,i,f,Z){Re(a,f,Z,U,i,7);let V=Number(a&BigInt(4294967295));U[i++]=V,V=V>>8,U[i++]=V,V=V>>8,U[i++]=V,V=V>>8,U[i++]=V;let g=Number(a>>BigInt(32)&BigInt(4294967295));return U[i++]=g,g=g>>8,U[i++]=g,g=g>>8,U[i++]=g,g=g>>8,U[i++]=g,i}function P(U,a,i,f,Z){Re(a,f,Z,U,i,7);let V=Number(a&BigInt(4294967295));U[i+7]=V,V=V>>8,U[i+6]=V,V=V>>8,U[i+5]=V,V=V>>8,U[i+4]=V;let g=Number(a>>BigInt(32)&BigInt(4294967295));return U[i+3]=g,g=g>>8,U[i+2]=g,g=g>>8,U[i+1]=g,g=g>>8,U[i]=g,i+8}_.prototype.writeBigUInt64LE=Se(function(U,a=0){return O(this,U,a,BigInt(0),BigInt("0xffffffffffffffff"))}),_.prototype.writeBigUInt64BE=Se(function(U,a=0){return P(this,U,a,BigInt(0),BigInt("0xffffffffffffffff"))}),_.prototype.writeIntLE=function(U,a,i,f){if(U=+U,a=a>>>0,!f){let F=Math.pow(2,8*i-1);W(this,U,a,i,F-1,-F)}let Z=0,V=1,g=0;for(this[a]=U&255;++Z<i&&(V*=256);)U<0&&g===0&&this[a+Z-1]!==0&&(g=1),this[a+Z]=(U/V>>0)-g&255;return a+i},_.prototype.writeIntBE=function(U,a,i,f){if(U=+U,a=a>>>0,!f){let F=Math.pow(2,8*i-1);W(this,U,a,i,F-1,-F)}let Z=i-1,V=1,g=0;for(this[a+Z]=U&255;--Z>=0&&(V*=256);)U<0&&g===0&&this[a+Z+1]!==0&&(g=1),this[a+Z]=(U/V>>0)-g&255;return a+i},_.prototype.writeInt8=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,1,127,-128),U<0&&(U=255+U+1),this[a]=U&255,a+1},_.prototype.writeInt16LE=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,2,32767,-32768),this[a]=U&255,this[a+1]=U>>>8,a+2},_.prototype.writeInt16BE=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,2,32767,-32768),this[a]=U>>>8,this[a+1]=U&255,a+2},_.prototype.writeInt32LE=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,4,2147483647,-2147483648),this[a]=U&255,this[a+1]=U>>>8,this[a+2]=U>>>16,this[a+3]=U>>>24,a+4},_.prototype.writeInt32BE=function(U,a,i){return U=+U,a=a>>>0,i||W(this,U,a,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[a]=U>>>24,this[a+1]=U>>>16,this[a+2]=U>>>8,this[a+3]=U&255,a+4},_.prototype.writeBigInt64LE=Se(function(U,a=0){return O(this,U,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),_.prototype.writeBigInt64BE=Se(function(U,a=0){return P(this,U,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(U,a,i,f,Z,V){if(i+f>U.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Ne(U,a,i,f,Z){return a=+a,i=i>>>0,Z||pe(U,a,i,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),r.write(U,a,i,f,23,4),i+4}_.prototype.writeFloatLE=function(U,a,i){return Ne(this,U,a,!0,i)},_.prototype.writeFloatBE=function(U,a,i){return Ne(this,U,a,!1,i)};function xe(U,a,i,f,Z){return a=+a,i=i>>>0,Z||pe(U,a,i,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),r.write(U,a,i,f,52,8),i+8}_.prototype.writeDoubleLE=function(U,a,i){return xe(this,U,a,!0,i)},_.prototype.writeDoubleBE=function(U,a,i){return xe(this,U,a,!1,i)},_.prototype.copy=function(U,a,i,f){if(!_.isBuffer(U))throw new TypeError("argument should be a Buffer");if(i||(i=0),!f&&f!==0&&(f=this.length),a>=U.length&&(a=U.length),a||(a=0),f>0&&f<i&&(f=i),f===i||U.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),U.length-a<f-i&&(f=U.length-a+i);let Z=f-i;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,i,f):Uint8Array.prototype.set.call(U,this.subarray(i,f),a),Z},_.prototype.fill=function(U,a,i,f){if(typeof U=="string"){if(typeof a=="string"?(f=a,a=0,i=this.length):typeof i=="string"&&(f=i,i=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!_.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(U.length===1){let V=U.charCodeAt(0);(f==="utf8"&&V<128||f==="latin1")&&(U=V)}}else typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=Number(U));if(a<0||this.length<a||this.length<i)throw new RangeError("Out of range index");if(i<=a)return this;a=a>>>0,i=i===void 0?this.length:i>>>0,U||(U=0);let Z;if(typeof U=="number")for(Z=a;Z<i;++Z)this[Z]=U;else{let V=_.isBuffer(U)?U:_.from(U,f),g=V.length;if(g===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(Z=0;Z<i-a;++Z)this[Z+a]=V[Z%g]}return this};var te={};function ie(U,a,i){te[U]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:a.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(f){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:f,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(U,a){return`The "${U}" argument must be of type number. Received type ${typeof a}`},TypeError),ie("ERR_OUT_OF_RANGE",function(U,a,i){let f=`The value of "${U}" is out of range.`,Z=i;return Number.isInteger(i)&&Math.abs(i)>4294967296?Z=he(String(i)):typeof i=="bigint"&&(Z=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(Z=he(Z)),Z+="n"),f+=` It must be ${a}. Received ${Z}`,f},RangeError);function he(U){let a="",i=U.length,f=U[0]==="-"?1:0;for(;i>=f+4;i-=3)a=`_${U.slice(i-3,i)}${a}`;return`${U.slice(0,i)}${a}`}function Fe(U,a,i){ge(a,"offset"),(U[a]===void 0||U[a+i]===void 0)&&H(a,U.length-(i+1))}function Re(U,a,i,f,Z,V){if(U>i||U<a){let g=typeof a=="bigint"?"n":"",F;throw V>3?a===0||a===BigInt(0)?F=`>= 0${g} and < 2${g} ** ${(V+1)*8}${g}`:F=`>= -(2${g} ** ${(V+1)*8-1}${g}) and < 2 ** ${(V+1)*8-1}${g}`:F=`>= ${a}${g} and <= ${i}${g}`,new te.ERR_OUT_OF_RANGE("value",F,U)}Fe(f,Z,V)}function ge(U,a){if(typeof U!="number")throw new te.ERR_INVALID_ARG_TYPE(a,"number",U)}function H(U,a,i){throw Math.floor(U)!==U?(ge(U,i),new te.ERR_OUT_OF_RANGE(i||"offset","an integer",U)):a<0?new te.ERR_BUFFER_OUT_OF_BOUNDS:new te.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${a}`,U)}var w=/[^+/0-9A-Za-z-_]/g;function B(U){if(U=U.split("=")[0],U=U.trim().replace(w,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function Te(U,a){a=a||1/0;let i,f=U.length,Z=null,V=[];for(let g=0;g<f;++g){if(i=U.charCodeAt(g),i>55295&&i<57344){if(!Z){if(i>56319){(a-=3)>-1&&V.push(239,191,189);continue}else if(g+1===f){(a-=3)>-1&&V.push(239,191,189);continue}Z=i;continue}if(i<56320){(a-=3)>-1&&V.push(239,191,189),Z=i;continue}i=(Z-55296<<10|i-56320)+65536}else Z&&(a-=3)>-1&&V.push(239,191,189);if(Z=null,i<128){if((a-=1)<0)break;V.push(i)}else if(i<2048){if((a-=2)<0)break;V.push(i>>6|192,i&63|128)}else if(i<65536){if((a-=3)<0)break;V.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((a-=4)<0)break;V.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return V}function Le(U){let a=[];for(let i=0;i<U.length;++i)a.push(U.charCodeAt(i)&255);return a}function Ve(U,a){let i,f,Z,V=[];for(let g=0;g<U.length&&!((a-=2)<0);++g)i=U.charCodeAt(g),f=i>>8,Z=i%256,V.push(Z),V.push(f);return V}function Pe(U){return m.toByteArray(B(U))}function We(U,a,i,f){let Z;for(Z=0;Z<f&&!(Z+i>=a.length||Z>=U.length);++Z)a[Z+i]=U[Z];return Z}function Ie(U,a){return U instanceof a||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===a.name}function Qe(U){return U!==U}var Je=function(){let U="0123456789abcdef",a=new Array(256);for(let i=0;i<16;++i){let f=i*16;for(let Z=0;Z<16;++Z)a[f+Z]=U[i]+U[Z]}return a}();function Se(U){return typeof BigInt>"u"?bo:U}function bo(){throw new Error("BigInt not supported")}}),ho=je((l,m)=>{var r=Xo(),N=r.Buffer;function p(u,_){for(var L in u)_[L]=u[L]}N.from&&N.alloc&&N.allocUnsafe&&N.allocUnsafeSlow?m.exports=r:(p(r,l),l.Buffer=x);function x(u,_,L){return N(u,_,L)}x.prototype=Object.create(N.prototype),p(N,x),x.from=function(u,_,L){if(typeof u=="number")throw new TypeError("Argument must not be a number");return N(u,_,L)},x.alloc=function(u,_,L){if(typeof u!="number")throw new TypeError("Argument must be a number");var y=N(u);return _!==void 0?typeof L=="string"?y.fill(_,L):y.fill(_):y.fill(0),y},x.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return N(u)},x.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}}),Da=je((l,m)=>{var r=65536,N=4294967295;function p(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var x=ho().Buffer,u=global.crypto||global.msCrypto;u&&u.getRandomValues?m.exports=_:m.exports=p;function _(L,y){if(L>N)throw new RangeError("requested too many random bytes");var R=x.allocUnsafe(L);if(L>0)if(L>r)for(var v=0;v<L;v+=r)u.getRandomValues(R.slice(v,v+r));else u.getRandomValues(R);return typeof y=="function"?process.nextTick(function(){y(null,R)}):R}}),mo=je((l,m)=>{typeof Object.create=="function"?m.exports=function(r,N){N&&(r.super_=N,r.prototype=Object.create(N.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(r,N){if(N){r.super_=N;var p=function(){};p.prototype=N.prototype,r.prototype=new p,r.prototype.constructor=r}}}),$a=je((l,m)=>{var r=typeof Reflect=="object"?Reflect:null,N=r&&typeof r.apply=="function"?r.apply:function(C,ce,be){return Function.prototype.apply.call(C,ce,be)},p;r&&typeof r.ownKeys=="function"?p=r.ownKeys:Object.getOwnPropertySymbols?p=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:p=function(C){return Object.getOwnPropertyNames(C)};function x(C){console&&console.warn&&console.warn(C)}var u=Number.isNaN||function(C){return C!==C};function _(){_.init.call(this)}m.exports=_,m.exports.once=S,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._eventsCount=0,_.prototype._maxListeners=void 0;var L=10;function y(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(C){if(typeof C!="number"||C<0||u(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");L=C}}),_.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||u(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function R(C){return C._maxListeners===void 0?_.defaultMaxListeners:C._maxListeners}_.prototype.getMaxListeners=function(){return R(this)},_.prototype.emit=function(C){for(var ce=[],be=1;be<arguments.length;be++)ce.push(arguments[be]);var qe=C==="error",ue=this._events;if(ue!==void 0)qe=qe&&ue.error===void 0;else if(!qe)return!1;if(qe){var $e;if(ce.length>0&&($e=ce[0]),$e instanceof Error)throw $e;var e=new Error("Unhandled error."+($e?" ("+$e.message+")":""));throw e.context=$e,e}var n=ue[C];if(n===void 0)return!1;if(typeof n=="function")N(n,this,ce);else for(var c=n.length,s=X(n,c),be=0;be<c;++be)N(s[be],this,ce);return!0};function v(C,ce,be,qe){var ue,$e,e;if(y(be),$e=C._events,$e===void 0?($e=C._events=Object.create(null),C._eventsCount=0):($e.newListener!==void 0&&(C.emit("newListener",ce,be.listener?be.listener:be),$e=C._events),e=$e[ce]),e===void 0)e=$e[ce]=be,++C._eventsCount;else if(typeof e=="function"?e=$e[ce]=qe?[be,e]:[e,be]:qe?e.unshift(be):e.push(be),ue=R(C),ue>0&&e.length>ue&&!e.warned){e.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+e.length+" "+String(ce)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=C,n.type=ce,n.count=e.length,x(n)}return C}_.prototype.addListener=function(C,ce){return v(this,C,ce,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(C,ce){return v(this,C,ce,!0)};function $(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(C,ce,be){var qe={fired:!1,wrapFn:void 0,target:C,type:ce,listener:be},ue=$.bind(qe);return ue.listener=be,qe.wrapFn=ue,ue}_.prototype.once=function(C,ce){return y(ce),this.on(C,M(this,C,ce)),this},_.prototype.prependOnceListener=function(C,ce){return y(ce),this.prependListener(C,M(this,C,ce)),this},_.prototype.removeListener=function(C,ce){var be,qe,ue,$e,e;if(y(ce),qe=this._events,qe===void 0)return this;if(be=qe[C],be===void 0)return this;if(be===ce||be.listener===ce)--this._eventsCount===0?this._events=Object.create(null):(delete qe[C],qe.removeListener&&this.emit("removeListener",C,be.listener||ce));else if(typeof be!="function"){for(ue=-1,$e=be.length-1;$e>=0;$e--)if(be[$e]===ce||be[$e].listener===ce){e=be[$e].listener,ue=$e;break}if(ue<0)return this;ue===0?be.shift():j(be,ue),be.length===1&&(qe[C]=be[0]),qe.removeListener!==void 0&&this.emit("removeListener",C,e||ce)}return this},_.prototype.off=_.prototype.removeListener,_.prototype.removeAllListeners=function(C){var ce,be,qe;if(be=this._events,be===void 0)return this;if(be.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):be[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete be[C]),this;if(arguments.length===0){var ue=Object.keys(be),$e;for(qe=0;qe<ue.length;++qe)$e=ue[qe],$e!=="removeListener"&&this.removeAllListeners($e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(ce=be[C],typeof ce=="function")this.removeListener(C,ce);else if(ce!==void 0)for(qe=ce.length-1;qe>=0;qe--)this.removeListener(C,ce[qe]);return this};function T(C,ce,be){var qe=C._events;if(qe===void 0)return[];var ue=qe[ce];return ue===void 0?[]:typeof ue=="function"?be?[ue.listener||ue]:[ue]:be?I(ue):X(ue,ue.length)}_.prototype.listeners=function(C){return T(this,C,!0)},_.prototype.rawListeners=function(C){return T(this,C,!1)},_.listenerCount=function(C,ce){return typeof C.listenerCount=="function"?C.listenerCount(ce):q.call(C,ce)},_.prototype.listenerCount=q;function q(C){var ce=this._events;if(ce!==void 0){var be=ce[C];if(typeof be=="function")return 1;if(be!==void 0)return be.length}return 0}_.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function X(C,ce){for(var be=new Array(ce),qe=0;qe<ce;++qe)be[qe]=C[qe];return be}function j(C,ce){for(;ce+1<C.length;ce++)C[ce]=C[ce+1];C.pop()}function I(C){for(var ce=new Array(C.length),be=0;be<ce.length;++be)ce[be]=C[be].listener||C[be];return ce}function S(C,ce){return new Promise(function(be,qe){function ue(e){C.removeListener(ce,$e),qe(e)}function $e(){typeof C.removeListener=="function"&&C.removeListener("error",ue),be([].slice.call(arguments))}D(C,ce,$e,{once:!0}),ce!=="error"&&E(C,ue,{once:!0})})}function E(C,ce,be){typeof C.on=="function"&&D(C,"error",ce,be)}function D(C,ce,be,qe){if(typeof C.on=="function")qe.once?C.once(ce,be):C.on(ce,be);else if(typeof C.addEventListener=="function")C.addEventListener(ce,function ue($e){qe.once&&C.removeEventListener(ce,ue),be($e)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}}),Wl=je((l,m)=>{m.exports=$a().EventEmitter}),En=je(()=>{}),lc=je((l,m)=>{function r(T,q){var X=Object.keys(T);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(T);q&&(j=j.filter(function(I){return Object.getOwnPropertyDescriptor(T,I).enumerable})),X.push.apply(X,j)}return X}function N(T){for(var q=1;q<arguments.length;q++){var X=arguments[q]!=null?arguments[q]:{};q%2?r(Object(X),!0).forEach(function(j){p(T,j,X[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(X)):r(Object(X)).forEach(function(j){Object.defineProperty(T,j,Object.getOwnPropertyDescriptor(X,j))})}return T}function p(T,q,X){return q in T?Object.defineProperty(T,q,{value:X,enumerable:!0,configurable:!0,writable:!0}):T[q]=X,T}function x(T,q){if(!(T instanceof q))throw new TypeError("Cannot call a class as a function")}function u(T,q){for(var X=0;X<q.length;X++){var j=q[X];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}function _(T,q,X){return q&&u(T.prototype,q),X&&u(T,X),T}var L=Xo(),y=L.Buffer,R=En(),v=R.inspect,$=v&&v.custom||"inspect";function M(T,q,X){y.prototype.copy.call(T,q,X)}m.exports=function(){function T(){x(this,T),this.head=null,this.tail=null,this.length=0}return _(T,[{key:"push",value:function(q){var X={data:q,next:null};this.length>0?this.tail.next=X:this.head=X,this.tail=X,++this.length}},{key:"unshift",value:function(q){var X={data:q,next:this.head};this.length===0&&(this.tail=X),this.head=X,++this.length}},{key:"shift",value:function(){if(this.length!==0){var q=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(this.length===0)return"";for(var X=this.head,j=""+X.data;X=X.next;)j+=q+X.data;return j}},{key:"concat",value:function(q){if(this.length===0)return y.alloc(0);for(var X=y.allocUnsafe(q>>>0),j=this.head,I=0;j;)M(j.data,X,I),I+=j.data.length,j=j.next;return X}},{key:"consume",value:function(q,X){var j;return q<this.head.data.length?(j=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):q===this.head.data.length?j=this.shift():j=X?this._getString(q):this._getBuffer(q),j}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var X=this.head,j=1,I=X.data;for(q-=I.length;X=X.next;){var S=X.data,E=q>S.length?S.length:q;if(E===S.length?I+=S:I+=S.slice(0,q),q-=E,q===0){E===S.length?(++j,X.next?this.head=X.next:this.head=this.tail=null):(this.head=X,X.data=S.slice(E));break}++j}return this.length-=j,I}},{key:"_getBuffer",value:function(q){var X=y.allocUnsafe(q),j=this.head,I=1;for(j.data.copy(X),q-=j.data.length;j=j.next;){var S=j.data,E=q>S.length?S.length:q;if(S.copy(X,X.length-q,0,E),q-=E,q===0){E===S.length?(++I,j.next?this.head=j.next:this.head=this.tail=null):(this.head=j,j.data=S.slice(E));break}++I}return this.length-=I,X}},{key:$,value:function(q,X){return v(this,N({},X,{depth:0,customInspect:!1}))}}]),T}()}),wl=je((l,m)=>{function r(L,y){var R=this,v=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return v||$?(y?y(L):L&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,L)):process.nextTick(u,this,L)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(L||null,function(M){!y&&M?R._writableState?R._writableState.errorEmitted?process.nextTick(p,R):(R._writableState.errorEmitted=!0,process.nextTick(N,R,M)):process.nextTick(N,R,M):y?(process.nextTick(p,R),y(M)):process.nextTick(p,R)}),this)}function N(L,y){u(L,y),p(L)}function p(L){L._writableState&&!L._writableState.emitClose||L._readableState&&!L._readableState.emitClose||L.emit("close")}function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(L,y){L.emit("error",y)}function _(L,y){var{_readableState:R,_writableState:v}=L;R&&R.autoDestroy||v&&v.autoDestroy?L.destroy(y):L.emit("error",y)}m.exports={destroy:r,undestroy:x,errorOrDestroy:_}}),Qa=je((l,m)=>{function r(y,R){y.prototype=Object.create(R.prototype),y.prototype.constructor=y,y.__proto__=R}var N={};function p(y,R,v){v||(v=Error);function $(T,q,X){return typeof R=="string"?R:R(T,q,X)}var M=function(T){r(q,T);function q(X,j,I){return T.call(this,$(X,j,I))||this}return q}(v);M.prototype.name=v.name,M.prototype.code=y,N[y]=M}function x(y,R){if(Array.isArray(y)){var v=y.length;return y=y.map(function($){return String($)}),v>2?"one of ".concat(R," ").concat(y.slice(0,v-1).join(", "),", or ")+y[v-1]:v===2?"one of ".concat(R," ").concat(y[0]," or ").concat(y[1]):"of ".concat(R," ").concat(y[0])}else return"of ".concat(R," ").concat(String(y))}function u(y,R,v){return y.substr(!v||v<0?0:+v,R.length)===R}function _(y,R,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-R.length,v)===R}function L(y,R,v){return typeof v!="number"&&(v=0),v+R.length>y.length?!1:y.indexOf(R,v)!==-1}p("ERR_INVALID_OPT_VALUE",function(y,R){return'The value "'+R+'" is invalid for option "'+y+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(y,R,v){var $;typeof R=="string"&&u(R,"not ")?($="must not be",R=R.replace(/^not /,"")):$="must be";var M;if(_(y," argument"))M="The ".concat(y," ").concat($," ").concat(x(R,"type"));else{var T=L(y,".")?"property":"argument";M='The "'.concat(y,'" ').concat(T," ").concat($," ").concat(x(R,"type"))}return M+=". Received type ".concat(typeof v),M},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=N}),jl=je((l,m)=>{var r=Qa().codes.ERR_INVALID_OPT_VALUE;function N(x,u,_){return x.highWaterMark!=null?x.highWaterMark:u?x[_]:null}function p(x,u,_,L){var y=N(u,L,_);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var R=L?_:"highWaterMark";throw new r(R,y)}return Math.floor(y)}return x.objectMode?16:16384}m.exports={getHighWaterMark:p}}),Fl=je((l,m)=>{m.exports=r;function r(p,x){if(N("noDeprecation"))return p;var u=!1;function _(){if(!u){if(N("throwDeprecation"))throw new Error(x);N("traceDeprecation")?console.trace(x):console.warn(x),u=!0}return p.apply(this,arguments)}return _}function N(p){try{if(!global.localStorage)return!1}catch{return!1}var x=global.localStorage[p];return x==null?!1:String(x).toLowerCase()==="true"}}),Il=je((l,m)=>{m.exports=ue;function r(te){var ie=this;this.next=null,this.entry=null,this.finish=function(){xe(ie,te)}}var N;ue.WritableState=be;var p={deprecate:Fl()},x=Wl(),u=Xo().Buffer,_=global.Uint8Array||function(){};function L(te){return u.from(te)}function y(te){return u.isBuffer(te)||te instanceof _}var R=wl(),v=jl(),$=v.getHighWaterMark,M=Qa().codes,T=M.ERR_INVALID_ARG_TYPE,q=M.ERR_METHOD_NOT_IMPLEMENTED,X=M.ERR_MULTIPLE_CALLBACK,j=M.ERR_STREAM_CANNOT_PIPE,I=M.ERR_STREAM_DESTROYED,S=M.ERR_STREAM_NULL_VALUES,E=M.ERR_STREAM_WRITE_AFTER_END,D=M.ERR_UNKNOWN_ENCODING,C=R.errorOrDestroy;mo()(ue,x);function ce(){}function be(te,ie,he){N=N||Ca(),te=te||{},typeof he!="boolean"&&(he=ie instanceof N),this.objectMode=!!te.objectMode,he&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=$(this,te,"writableHighWaterMark",he),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Fe=te.decodeStrings===!1;this.decodeStrings=!Fe,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Re){k(ie,Re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}be.prototype.getBuffer=function(){for(var te=this.bufferedRequest,ie=[];te;)ie.push(te),te=te.next;return ie},function(){try{Object.defineProperty(be.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var qe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(qe=Function.prototype[Symbol.hasInstance],Object.defineProperty(ue,Symbol.hasInstance,{value:function(te){return qe.call(this,te)?!0:this!==ue?!1:te&&te._writableState instanceof be}})):qe=function(te){return te instanceof this};function ue(te){N=N||Ca();var ie=this instanceof N;if(!ie&&!qe.call(ue,this))return new ue(te);this._writableState=new be(te,this,ie),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),x.call(this)}ue.prototype.pipe=function(){C(this,new j)};function $e(te,ie){var he=new E;C(te,he),process.nextTick(ie,he)}function e(te,ie,he,Fe){var Re;return he===null?Re=new S:typeof he!="string"&&!ie.objectMode&&(Re=new T("chunk",["string","Buffer"],he)),Re?(C(te,Re),process.nextTick(Fe,Re),!1):!0}ue.prototype.write=function(te,ie,he){var Fe=this._writableState,Re=!1,ge=!Fe.objectMode&&y(te);return ge&&!u.isBuffer(te)&&(te=L(te)),typeof ie=="function"&&(he=ie,ie=null),ge?ie="buffer":ie||(ie=Fe.defaultEncoding),typeof he!="function"&&(he=ce),Fe.ending?$e(this,he):(ge||e(this,Fe,te,he))&&(Fe.pendingcb++,Re=c(this,Fe,ge,te,ie,he)),Re},ue.prototype.cork=function(){this._writableState.corked++},ue.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&b(this,te))},ue.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new D(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(ue.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function n(te,ie,he){return!te.objectMode&&te.decodeStrings!==!1&&typeof ie=="string"&&(ie=u.from(ie,he)),ie}Object.defineProperty(ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(te,ie,he,Fe,Re,ge){if(!he){var H=n(ie,Fe,Re);Fe!==H&&(he=!0,Re="buffer",Fe=H)}var w=ie.objectMode?1:Fe.length;ie.length+=w;var B=ie.length<ie.highWaterMark;if(B||(ie.needDrain=!0),ie.writing||ie.corked){var Te=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:Fe,encoding:Re,isBuf:he,callback:ge,next:null},Te?Te.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else s(te,ie,!1,w,Fe,Re,ge);return B}function s(te,ie,he,Fe,Re,ge,H){ie.writelen=Fe,ie.writecb=H,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new I("write")):he?te._writev(Re,ie.onwrite):te._write(Re,ge,ie.onwrite),ie.sync=!1}function t(te,ie,he,Fe,Re){--ie.pendingcb,he?(process.nextTick(Re,Fe),process.nextTick(pe,te,ie),te._writableState.errorEmitted=!0,C(te,Fe)):(Re(Fe),te._writableState.errorEmitted=!0,C(te,Fe),pe(te,ie))}function h(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function k(te,ie){var he=te._writableState,Fe=he.sync,Re=he.writecb;if(typeof Re!="function")throw new X;if(h(he),ie)t(te,he,Fe,ie,Re);else{var ge=W(he)||te.destroyed;!ge&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&b(te,he),Fe?process.nextTick(d,te,he,ge,Re):d(te,he,ge,Re)}}function d(te,ie,he,Fe){he||o(te,ie),ie.pendingcb--,Fe(),pe(te,ie)}function o(te,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,te.emit("drain"))}function b(te,ie){ie.bufferProcessing=!0;var he=ie.bufferedRequest;if(te._writev&&he&&he.next){var Fe=ie.bufferedRequestCount,Re=new Array(Fe),ge=ie.corkedRequestsFree;ge.entry=he;for(var H=0,w=!0;he;)Re[H]=he,he.isBuf||(w=!1),he=he.next,H+=1;Re.allBuffers=w,s(te,ie,!0,ie.length,Re,"",ge.finish),ie.pendingcb++,ie.lastBufferedRequest=null,ge.next?(ie.corkedRequestsFree=ge.next,ge.next=null):ie.corkedRequestsFree=new r(ie),ie.bufferedRequestCount=0}else{for(;he;){var{chunk:B,encoding:Te,callback:Le}=he,Ve=ie.objectMode?1:B.length;if(s(te,ie,!1,Ve,B,Te,Le),he=he.next,ie.bufferedRequestCount--,ie.writing)break}he===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=he,ie.bufferProcessing=!1}ue.prototype._write=function(te,ie,he){he(new q("_write()"))},ue.prototype._writev=null,ue.prototype.end=function(te,ie,he){var Fe=this._writableState;return typeof te=="function"?(he=te,te=null,ie=null):typeof ie=="function"&&(he=ie,ie=null),te!=null&&this.write(te,ie),Fe.corked&&(Fe.corked=1,this.uncork()),Fe.ending||Ne(this,Fe,he),this},Object.defineProperty(ue.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function O(te,ie){te._final(function(he){ie.pendingcb--,he&&C(te,he),ie.prefinished=!0,te.emit("prefinish"),pe(te,ie)})}function P(te,ie){!ie.prefinished&&!ie.finalCalled&&(typeof te._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,process.nextTick(O,te,ie)):(ie.prefinished=!0,te.emit("prefinish")))}function pe(te,ie){var he=W(ie);if(he&&(P(te,ie),ie.pendingcb===0&&(ie.finished=!0,te.emit("finish"),ie.autoDestroy))){var Fe=te._readableState;(!Fe||Fe.autoDestroy&&Fe.endEmitted)&&te.destroy()}return he}function Ne(te,ie,he){ie.ending=!0,pe(te,ie),he&&(ie.finished?process.nextTick(he):te.once("finish",he)),ie.ended=!0,te.writable=!1}function xe(te,ie,he){var Fe=te.entry;for(te.entry=null;Fe;){var Re=Fe.callback;ie.pendingcb--,Re(he),Fe=Fe.next}ie.corkedRequestsFree.next=te}Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){!this._writableState||(this._writableState.destroyed=te)}}),ue.prototype.destroy=R.destroy,ue.prototype._undestroy=R.undestroy,ue.prototype._destroy=function(te,ie){ie(te)}}),Ca=je((l,m)=>{var r=Object.keys||function(v){var $=[];for(var M in v)$.push(M);return $};m.exports=L;var N=Kl(),p=Il();mo()(L,N);for(x=r(p.prototype),_=0;_<x.length;_++)u=x[_],L.prototype[u]||(L.prototype[u]=p.prototype[u]);var x,u,_;function L(v){if(!(this instanceof L))return new L(v);N.call(this,v),p.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(R,this)}function R(v){v.end()}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}),Os=je((l)=>{var m=ho().Buffer,r=m.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N(I){if(!I)return"utf8";for(var S;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(S)return;I=(""+I).toLowerCase(),S=!0}}function p(I){var S=N(I);if(typeof S!="string"&&(m.isEncoding===r||!r(I)))throw new Error("Unknown encoding: "+I);return S||I}l.StringDecoder=x;function x(I){this.encoding=p(I);var S;switch(this.encoding){case"utf16le":this.text=$,this.end=M,S=4;break;case"utf8":this.fillLast=y,S=4;break;case"base64":this.text=T,this.end=q,S=3;break;default:this.write=X,this.end=j;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(S)}x.prototype.write=function(I){if(I.length===0)return"";var S,E;if(this.lastNeed){if(S=this.fillLast(I),S===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<I.length?S?S+this.text(I,E):this.text(I,E):S||""},x.prototype.end=v,x.prototype.text=R,x.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length};function u(I){return I<=127?0:I>>5===6?2:I>>4===14?3:I>>3===30?4:I>>6===2?-1:-2}function _(I,S,E){var D=S.length-1;if(D<E)return 0;var C=u(S[D]);return C>=0?(C>0&&(I.lastNeed=C-1),C):--D<E||C===-2?0:(C=u(S[D]),C>=0?(C>0&&(I.lastNeed=C-2),C):--D<E||C===-2?0:(C=u(S[D]),C>=0?(C>0&&(C===2?C=0:I.lastNeed=C-3),C):0))}function L(I,S,E){if((S[0]&192)!==128)return I.lastNeed=0,"";if(I.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return I.lastNeed=1,"";if(I.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return I.lastNeed=2,""}}function y(I){var S=this.lastTotal-this.lastNeed,E=L(this,I,S);if(E!==void 0)return E;if(this.lastNeed<=I.length)return I.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,S,0,I.length),this.lastNeed-=I.length}function R(I,S){var E=_(this,I,S);if(!this.lastNeed)return I.toString("utf8",S);this.lastTotal=E;var D=I.length-(E-this.lastNeed);return I.copy(this.lastChar,0,D),I.toString("utf8",S,D)}function v(I){var S=I&&I.length?this.write(I):"";return this.lastNeed?S+"":S}function $(I,S){if((I.length-S)%2===0){var E=I.toString("utf16le",S);if(E){var D=E.charCodeAt(E.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",S,I.length-1)}function M(I){var S=I&&I.length?this.write(I):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,E)}return S}function T(I,S){var E=(I.length-S)%3;return E===0?I.toString("base64",S):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",S,I.length-E))}function q(I){var S=I&&I.length?this.write(I):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function X(I){return I.toString(this.encoding)}function j(I){return I&&I.length?this.write(I):""}}),dn={},Us(dn,{StringDecoder:()=>Jl.StringDecoder,default:()=>Jl.StringDecoder}),Pn=Xl(()=>{Jl=Ya(Os())}),gs=je((l,m)=>{var r=Qa().codes.ERR_STREAM_PREMATURE_CLOSE;function N(_){var L=!1;return function(){if(!L){L=!0;for(var y=arguments.length,R=new Array(y),v=0;v<y;v++)R[v]=arguments[v];_.apply(this,R)}}}function p(){}function x(_){return _.setHeader&&typeof _.abort=="function"}function u(_,L,y){if(typeof L=="function")return u(_,null,L);L||(L={}),y=N(y||p);var R=L.readable||L.readable!==!1&&_.readable,v=L.writable||L.writable!==!1&&_.writable,$=function(){_.writable||T()},M=_._writableState&&_._writableState.finished,T=function(){v=!1,M=!0,R||y.call(_)},q=_._readableState&&_._readableState.endEmitted,X=function(){R=!1,q=!0,v||y.call(_)},j=function(E){y.call(_,E)},I=function(){var E;if(R&&!q)return(!_._readableState||!_._readableState.ended)&&(E=new r),y.call(_,E);if(v&&!M)return(!_._writableState||!_._writableState.ended)&&(E=new r),y.call(_,E)},S=function(){_.req.on("finish",T)};return x(_)?(_.on("complete",T),_.on("abort",I),_.req?S():_.on("request",S)):v&&!_._writableState&&(_.on("end",$),_.on("close",$)),_.on("end",X),_.on("finish",T),L.error!==!1&&_.on("error",j),_.on("close",I),function(){_.removeListener("complete",T),_.removeListener("abort",I),_.removeListener("request",S),_.req&&_.req.removeListener("finish",T),_.removeListener("end",$),_.removeListener("close",$),_.removeListener("finish",T),_.removeListener("end",X),_.removeListener("error",j),_.removeListener("close",I)}}m.exports=u}),rc=je((l,m)=>{var r;function N(S,E,D){return E in S?Object.defineProperty(S,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[E]=D,S}var p=gs(),x=Symbol("lastResolve"),u=Symbol("lastReject"),_=Symbol("error"),L=Symbol("ended"),y=Symbol("lastPromise"),R=Symbol("handlePromise"),v=Symbol("stream");function $(S,E){return{value:S,done:E}}function M(S){var E=S[x];if(E!==null){var D=S[v].read();D!==null&&(S[y]=null,S[x]=null,S[u]=null,E($(D,!1)))}}function T(S){process.nextTick(M,S)}function q(S,E){return function(D,C){S.then(function(){if(E[L]){D($(void 0,!0));return}E[R](D,C)},C)}}var X=Object.getPrototypeOf(function(){}),j=Object.setPrototypeOf((r={get stream(){return this[v]},next:function(){var S=this,E=this[_];if(E!==null)return Promise.reject(E);if(this[L])return Promise.resolve($(void 0,!0));if(this[v].destroyed)return new Promise(function(be,qe){process.nextTick(function(){S[_]?qe(S[_]):be($(void 0,!0))})});var D=this[y],C;if(D)C=new Promise(q(D,this));else{var ce=this[v].read();if(ce!==null)return Promise.resolve($(ce,!1));C=new Promise(this[R])}return this[y]=C,C}},N(r,Symbol.asyncIterator,function(){return this}),N(r,"return",function(){var S=this;return new Promise(function(E,D){S[v].destroy(null,function(C){if(C){D(C);return}E($(void 0,!0))})})}),r),X),I=function(S){var E,D=Object.create(j,(E={},N(E,v,{value:S,writable:!0}),N(E,x,{value:null,writable:!0}),N(E,u,{value:null,writable:!0}),N(E,_,{value:null,writable:!0}),N(E,L,{value:S._readableState.endEmitted,writable:!0}),N(E,R,{value:function(C,ce){var be=D[v].read();be?(D[y]=null,D[x]=null,D[u]=null,C($(be,!1))):(D[x]=C,D[u]=ce)},writable:!0}),E));return D[y]=null,p(S,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=D[u];ce!==null&&(D[y]=null,D[x]=null,D[u]=null,ce(C)),D[_]=C;return}var be=D[x];be!==null&&(D[y]=null,D[x]=null,D[u]=null,be($(void 0,!0))),D[L]=!0}),S.on("readable",T.bind(null,D)),D};m.exports=I}),ic=je((l,m)=>{m.exports=function(){throw new Error("Readable.from is not available in the browser")}}),Kl=je((l,m)=>{m.exports=e;var r;e.ReadableState=$e;var N=$a().EventEmitter,p=function(H,w){return H.listeners(w).length},x=Wl(),u=Xo().Buffer,_=global.Uint8Array||function(){};function L(H){return u.from(H)}function y(H){return u.isBuffer(H)||H instanceof _}var R=En(),v;R&&R.debuglog?v=R.debuglog("stream"):v=function(){};var $=lc(),M=wl(),T=jl(),q=T.getHighWaterMark,X=Qa().codes,j=X.ERR_INVALID_ARG_TYPE,I=X.ERR_STREAM_PUSH_AFTER_EOF,S=X.ERR_METHOD_NOT_IMPLEMENTED,E=X.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,C,ce;mo()(e,x);var be=M.errorOrDestroy,qe=["error","close","destroy","pause","resume"];function ue(H,w,B){if(typeof H.prependListener=="function")return H.prependListener(w,B);!H._events||!H._events[w]?H.on(w,B):Array.isArray(H._events[w])?H._events[w].unshift(B):H._events[w]=[B,H._events[w]]}function $e(H,w,B){r=r||Ca(),H=H||{},typeof B!="boolean"&&(B=w instanceof r),this.objectMode=!!H.objectMode,B&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=q(this,H,"readableHighWaterMark",B),this.buffer=new $,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(D||(D=(Pn(),Qo(dn)).StringDecoder),this.decoder=new D(H.encoding),this.encoding=H.encoding)}function e(H){if(r=r||Ca(),!(this instanceof e))return new e(H);var w=this instanceof r;this._readableState=new $e(H,this,w),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),x.call(this)}Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){!this._readableState||(this._readableState.destroyed=H)}}),e.prototype.destroy=M.destroy,e.prototype._undestroy=M.undestroy,e.prototype._destroy=function(H,w){w(H)},e.prototype.push=function(H,w){var B=this._readableState,Te;return B.objectMode?Te=!0:typeof H=="string"&&(w=w||B.defaultEncoding,w!==B.encoding&&(H=u.from(H,w),w=""),Te=!0),n(this,H,w,!1,Te)},e.prototype.unshift=function(H){return n(this,H,null,!0,!1)};function n(H,w,B,Te,Le){v("readableAddChunk",w);var Ve=H._readableState;if(w===null)Ve.reading=!1,d(H,Ve);else{var Pe;if(Le||(Pe=s(Ve,w)),Pe)be(H,Pe);else if(Ve.objectMode||w&&w.length>0)if(typeof w!="string"&&!Ve.objectMode&&Object.getPrototypeOf(w)!==u.prototype&&(w=L(w)),Te)Ve.endEmitted?be(H,new E):c(H,Ve,w,!0);else if(Ve.ended)be(H,new I);else{if(Ve.destroyed)return!1;Ve.reading=!1,Ve.decoder&&!B?(w=Ve.decoder.write(w),Ve.objectMode||w.length!==0?c(H,Ve,w,!1):W(H,Ve)):c(H,Ve,w,!1)}else Te||(Ve.reading=!1,W(H,Ve))}return!Ve.ended&&(Ve.length<Ve.highWaterMark||Ve.length===0)}function c(H,w,B,Te){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,H.emit("data",B)):(w.length+=w.objectMode?1:B.length,Te?w.buffer.unshift(B):w.buffer.push(B),w.needReadable&&o(H)),W(H,w)}function s(H,w){var B;return!y(w)&&typeof w!="string"&&w!==void 0&&!H.objectMode&&(B=new j("chunk",["string","Buffer","Uint8Array"],w)),B}e.prototype.isPaused=function(){return this._readableState.flowing===!1},e.prototype.setEncoding=function(H){D||(D=(Pn(),Qo(dn)).StringDecoder);var w=new D(H);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var B=this._readableState.buffer.head,Te="";B!==null;)Te+=w.write(B.data),B=B.next;return this._readableState.buffer.clear(),Te!==""&&this._readableState.buffer.push(Te),this._readableState.length=Te.length,this};var t=1073741824;function h(H){return H>=t?H=t:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}function k(H,w){return H<=0||w.length===0&&w.ended?0:w.objectMode?1:H!==H?w.flowing&&w.length?w.buffer.head.data.length:w.length:(H>w.highWaterMark&&(w.highWaterMark=h(H)),H<=w.length?H:w.ended?w.length:(w.needReadable=!0,0))}e.prototype.read=function(H){v("read",H),H=parseInt(H,10);var w=this._readableState,B=H;if(H!==0&&(w.emittedReadable=!1),H===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return v("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?Fe(this):o(this),null;if(H=k(H,w),H===0&&w.ended)return w.length===0&&Fe(this),null;var Te=w.needReadable;v("need readable",Te),(w.length===0||w.length-H<w.highWaterMark)&&(Te=!0,v("length less than watermark",Te)),w.ended||w.reading?(Te=!1,v("reading or ended",Te)):Te&&(v("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(H=k(B,w)));var Le;return H>0?Le=he(H,w):Le=null,Le===null?(w.needReadable=w.length<=w.highWaterMark,H=0):(w.length-=H,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),B!==H&&w.ended&&Fe(this)),Le!==null&&this.emit("data",Le),Le};function d(H,w){if(v("onEofChunk"),!w.ended){if(w.decoder){var B=w.decoder.end();B&&B.length&&(w.buffer.push(B),w.length+=w.objectMode?1:B.length)}w.ended=!0,w.sync?o(H):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,b(H)))}}function o(H){var w=H._readableState;v("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(v("emitReadable",w.flowing),w.emittedReadable=!0,process.nextTick(b,H))}function b(H){var w=H._readableState;v("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(H.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,ie(H)}function W(H,w){w.readingMore||(w.readingMore=!0,process.nextTick(O,H,w))}function O(H,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var B=w.length;if(v("maybeReadMore read 0"),H.read(0),B===w.length)break}w.readingMore=!1}e.prototype._read=function(H){be(this,new S("_read()"))},e.prototype.pipe=function(H,w){var B=this,Te=this._readableState;switch(Te.pipesCount){case 0:Te.pipes=H;break;case 1:Te.pipes=[Te.pipes,H];break;default:Te.pipes.push(H);break}Te.pipesCount+=1,v("pipe count=%d opts=%j",Te.pipesCount,w);var Le=(!w||w.end!==!1)&&H!==process.stdout&&H!==process.stderr,Ve=Le?We:i;Te.endEmitted?process.nextTick(Ve):B.once("end",Ve),H.on("unpipe",Pe);function Pe(f,Z){v("onunpipe"),f===B&&Z&&Z.hasUnpiped===!1&&(Z.hasUnpiped=!0,Je())}function We(){v("onend"),H.end()}var Ie=P(B);H.on("drain",Ie);var Qe=!1;function Je(){v("cleanup"),H.removeListener("close",U),H.removeListener("finish",a),H.removeListener("drain",Ie),H.removeListener("error",bo),H.removeListener("unpipe",Pe),B.removeListener("end",We),B.removeListener("end",i),B.removeListener("data",Se),Qe=!0,Te.awaitDrain&&(!H._writableState||H._writableState.needDrain)&&Ie()}B.on("data",Se);function Se(f){v("ondata");var Z=H.write(f);v("dest.write",Z),Z===!1&&((Te.pipesCount===1&&Te.pipes===H||Te.pipesCount>1&&ge(Te.pipes,H)!==-1)&&!Qe&&(v("false write response, pause",Te.awaitDrain),Te.awaitDrain++),B.pause())}function bo(f){v("onerror",f),i(),H.removeListener("error",bo),p(H,"error")===0&&be(H,f)}ue(H,"error",bo);function U(){H.removeListener("finish",a),i()}H.once("close",U);function a(){v("onfinish"),H.removeListener("close",U),i()}H.once("finish",a);function i(){v("unpipe"),B.unpipe(H)}return H.emit("pipe",B),Te.flowing||(v("pipe resume"),B.resume()),H};function P(H){return function(){var w=H._readableState;v("pipeOnDrain",w.awaitDrain),w.awaitDrain&&w.awaitDrain--,w.awaitDrain===0&&p(H,"data")&&(w.flowing=!0,ie(H))}}e.prototype.unpipe=function(H){var w=this._readableState,B={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return H&&H!==w.pipes?this:(H||(H=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,H&&H.emit("unpipe",this,B),this);if(!H){var{pipes:Te,pipesCount:Le}=w;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var Ve=0;Ve<Le;Ve++)Te[Ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=ge(w.pipes,H);return Pe===-1?this:(w.pipes.splice(Pe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),H.emit("unpipe",this,B),this)},e.prototype.on=function(H,w){var B=x.prototype.on.call(this,H,w),Te=this._readableState;return H==="data"?(Te.readableListening=this.listenerCount("readable")>0,Te.flowing!==!1&&this.resume()):H==="readable"&&!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.flowing=!1,Te.emittedReadable=!1,v("on readable",Te.length,Te.reading),Te.length?o(this):Te.reading||process.nextTick(Ne,this)),B},e.prototype.addListener=e.prototype.on,e.prototype.removeListener=function(H,w){var B=x.prototype.removeListener.call(this,H,w);return H==="readable"&&process.nextTick(pe,this),B},e.prototype.removeAllListeners=function(H){var w=x.prototype.removeAllListeners.apply(this,arguments);return(H==="readable"||H===void 0)&&process.nextTick(pe,this),w};function pe(H){var w=H._readableState;w.readableListening=H.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:H.listenerCount("data")>0&&H.resume()}function Ne(H){v("readable nexttick read 0"),H.read(0)}e.prototype.resume=function(){var H=this._readableState;return H.flowing||(v("resume"),H.flowing=!H.readableListening,xe(this,H)),H.paused=!1,this};function xe(H,w){w.resumeScheduled||(w.resumeScheduled=!0,process.nextTick(te,H,w))}function te(H,w){v("resume",w.reading),w.reading||H.read(0),w.resumeScheduled=!1,H.emit("resume"),ie(H),w.flowing&&!w.reading&&H.read(0)}e.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(H){var w=H._readableState;for(v("flow",w.flowing);w.flowing&&H.read()!==null;);}e.prototype.wrap=function(H){var w=this,B=this._readableState,Te=!1;H.on("end",function(){if(v("wrapped end"),B.decoder&&!B.ended){var Pe=B.decoder.end();Pe&&Pe.length&&w.push(Pe)}w.push(null)}),H.on("data",function(Pe){if(v("wrapped data"),B.decoder&&(Pe=B.decoder.write(Pe)),!(B.objectMode&&Pe==null)&&!(!B.objectMode&&(!Pe||!Pe.length))){var We=w.push(Pe);We||(Te=!0,H.pause())}});for(var Le in H)this[Le]===void 0&&typeof H[Le]=="function"&&(this[Le]=function(Pe){return function(){return H[Pe].apply(H,arguments)}}(Le));for(var Ve=0;Ve<qe.length;Ve++)H.on(qe[Ve],this.emit.bind(this,qe[Ve]));return this._read=function(Pe){v("wrapped _read",Pe),Te&&(Te=!1,H.resume())},this},typeof Symbol=="function"&&(e.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=rc()),C(this)}),Object.defineProperty(e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),e._fromList=he,Object.defineProperty(e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function he(H,w){if(w.length===0)return null;var B;return w.objectMode?B=w.buffer.shift():!H||H>=w.length?(w.decoder?B=w.buffer.join(""):w.buffer.length===1?B=w.buffer.first():B=w.buffer.concat(w.length),w.buffer.clear()):B=w.buffer.consume(H,w.decoder),B}function Fe(H){var w=H._readableState;v("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,process.nextTick(Re,w,H))}function Re(H,w){if(v("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,w.readable=!1,w.emit("end"),H.autoDestroy)){var B=w._writableState;(!B||B.autoDestroy&&B.finished)&&w.destroy()}}typeof Symbol=="function"&&(e.from=function(H,w){return ce===void 0&&(ce=ic()),ce(e,H,w)});function ge(H,w){for(var B=0,Te=H.length;B<Te;B++)if(H[B]===w)return B;return-1}}),zl=je((l,m)=>{m.exports=y;var r=Qa().codes,N=r.ERR_METHOD_NOT_IMPLEMENTED,p=r.ERR_MULTIPLE_CALLBACK,x=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=r.ERR_TRANSFORM_WITH_LENGTH_0,_=Ca();mo()(y,_);function L($,M){var T=this._transformState;T.transforming=!1;var q=T.writecb;if(q===null)return this.emit("error",new p);T.writechunk=null,T.writecb=null,M!=null&&this.push(M),q($);var X=this._readableState;X.reading=!1,(X.needReadable||X.length<X.highWaterMark)&&this._read(X.highWaterMark)}function y($){if(!(this instanceof y))return new y($);_.call(this,$),this._transformState={afterTransform:L.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,$&&(typeof $.transform=="function"&&(this._transform=$.transform),typeof $.flush=="function"&&(this._flush=$.flush)),this.on("prefinish",R)}function R(){var $=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(M,T){v($,M,T)}):v(this,null,null)}y.prototype.push=function($,M){return this._transformState.needTransform=!1,_.prototype.push.call(this,$,M)},y.prototype._transform=function($,M,T){T(new N("_transform()"))},y.prototype._write=function($,M,T){var q=this._transformState;if(q.writecb=T,q.writechunk=$,q.writeencoding=M,!q.transforming){var X=this._readableState;(q.needTransform||X.needReadable||X.length<X.highWaterMark)&&this._read(X.highWaterMark)}},y.prototype._read=function($){var M=this._transformState;M.writechunk!==null&&!M.transforming?(M.transforming=!0,this._transform(M.writechunk,M.writeencoding,M.afterTransform)):M.needTransform=!0},y.prototype._destroy=function($,M){_.prototype._destroy.call(this,$,function(T){M(T)})};function v($,M,T){if(M)return $.emit("error",M);if(T!=null&&$.push(T),$._writableState.length)throw new u;if($._transformState.transforming)throw new x;return $.push(null)}}),cc=je((l,m)=>{m.exports=N;var r=zl();mo()(N,r);function N(p){if(!(this instanceof N))return new N(p);r.call(this,p)}N.prototype._transform=function(p,x,u){u(null,p)}}),uc=je((l,m)=>{var r;function N(T){var q=!1;return function(){q||(q=!0,T.apply(void 0,arguments))}}var p=Qa().codes,x=p.ERR_MISSING_ARGS,u=p.ERR_STREAM_DESTROYED;function _(T){if(T)throw T}function L(T){return T.setHeader&&typeof T.abort=="function"}function y(T,q,X,j){j=N(j);var I=!1;T.on("close",function(){I=!0}),r===void 0&&(r=gs()),r(T,{readable:q,writable:X},function(E){if(E)return j(E);I=!0,j()});var S=!1;return function(E){if(!I&&!S){if(S=!0,L(T))return T.abort();if(typeof T.destroy=="function")return T.destroy();j(E||new u("pipe"))}}}function R(T){T()}function v(T,q){return T.pipe(q)}function $(T){return!T.length||typeof T[T.length-1]!="function"?_:T.pop()}function M(){for(var T=arguments.length,q=new Array(T),X=0;X<T;X++)q[X]=arguments[X];var j=$(q);if(Array.isArray(q[0])&&(q=q[0]),q.length<2)throw new x("streams");var I,S=q.map(function(E,D){var C=D<q.length-1,ce=D>0;return y(E,C,ce,function(be){I||(I=be),be&&S.forEach(R),!C&&(S.forEach(R),j(I))})});return q.reduce(v)}m.exports=M}),tc=je((l,m)=>{l=m.exports=Kl(),l.Stream=l,l.Readable=l,l.Writable=Il(),l.Duplex=Ca(),l.Transform=zl(),l.PassThrough=cc(),l.finished=gs(),l.pipeline=uc()}),El=je((l,m)=>{var r=ho().Buffer,N=tc().Transform,p=mo();function x(_,L){if(!r.isBuffer(_)&&typeof _!="string")throw new TypeError(L+" must be a string or a buffer")}function u(_){N.call(this),this._block=r.allocUnsafe(_),this._blockSize=_,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}p(u,N),u.prototype._transform=function(_,L,y){var R=null;try{this.update(_,L)}catch(v){R=v}y(R)},u.prototype._flush=function(_){var L=null;try{this.push(this.digest())}catch(y){L=y}_(L)},u.prototype.update=function(_,L){if(x(_,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(_)||(_=r.from(_,L));for(var y=this._block,R=0;this._blockOffset+_.length-R>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)y[v++]=_[R++];this._update(),this._blockOffset=0}for(;R<_.length;)y[this._blockOffset++]=_[R++];for(var $=0,M=_.length*8;M>0;++$)this._length[$]+=M,M=this._length[$]/4294967296|0,M>0&&(this._length[$]-=4294967296*M);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(_){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var L=this._digest();_!==void 0&&(L=L.toString(_)),this._block.fill(0),this._blockOffset=0;for(var y=0;y<4;++y)this._length[y]=0;return L},u.prototype._digest=function(){throw new Error("_digest is not implemented")},m.exports=u}),Xs=je((l,m)=>{var r=mo(),N=El(),p=ho().Buffer,x=new Array(16);function u(){N.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}r(u,N),u.prototype._update=function(){for(var $=x,M=0;M<16;++M)$[M]=this._block.readInt32LE(M*4);var T=this._a,q=this._b,X=this._c,j=this._d;T=L(T,q,X,j,$[0],3614090360,7),j=L(j,T,q,X,$[1],3905402710,12),X=L(X,j,T,q,$[2],606105819,17),q=L(q,X,j,T,$[3],3250441966,22),T=L(T,q,X,j,$[4],4118548399,7),j=L(j,T,q,X,$[5],1200080426,12),X=L(X,j,T,q,$[6],2821735955,17),q=L(q,X,j,T,$[7],4249261313,22),T=L(T,q,X,j,$[8],1770035416,7),j=L(j,T,q,X,$[9],2336552879,12),X=L(X,j,T,q,$[10],4294925233,17),q=L(q,X,j,T,$[11],2304563134,22),T=L(T,q,X,j,$[12],1804603682,7),j=L(j,T,q,X,$[13],4254626195,12),X=L(X,j,T,q,$[14],2792965006,17),q=L(q,X,j,T,$[15],1236535329,22),T=y(T,q,X,j,$[1],4129170786,5),j=y(j,T,q,X,$[6],3225465664,9),X=y(X,j,T,q,$[11],643717713,14),q=y(q,X,j,T,$[0],3921069994,20),T=y(T,q,X,j,$[5],3593408605,5),j=y(j,T,q,X,$[10],38016083,9),X=y(X,j,T,q,$[15],3634488961,14),q=y(q,X,j,T,$[4],3889429448,20),T=y(T,q,X,j,$[9],568446438,5),j=y(j,T,q,X,$[14],3275163606,9),X=y(X,j,T,q,$[3],4107603335,14),q=y(q,X,j,T,$[8],1163531501,20),T=y(T,q,X,j,$[13],2850285829,5),j=y(j,T,q,X,$[2],4243563512,9),X=y(X,j,T,q,$[7],1735328473,14),q=y(q,X,j,T,$[12],2368359562,20),T=R(T,q,X,j,$[5],4294588738,4),j=R(j,T,q,X,$[8],2272392833,11),X=R(X,j,T,q,$[11],1839030562,16),q=R(q,X,j,T,$[14],4259657740,23),T=R(T,q,X,j,$[1],2763975236,4),j=R(j,T,q,X,$[4],1272893353,11),X=R(X,j,T,q,$[7],4139469664,16),q=R(q,X,j,T,$[10],3200236656,23),T=R(T,q,X,j,$[13],681279174,4),j=R(j,T,q,X,$[0],3936430074,11),X=R(X,j,T,q,$[3],3572445317,16),q=R(q,X,j,T,$[6],76029189,23),T=R(T,q,X,j,$[9],3654602809,4),j=R(j,T,q,X,$[12],3873151461,11),X=R(X,j,T,q,$[15],530742520,16),q=R(q,X,j,T,$[2],3299628645,23),T=v(T,q,X,j,$[0],4096336452,6),j=v(j,T,q,X,$[7],1126891415,10),X=v(X,j,T,q,$[14],2878612391,15),q=v(q,X,j,T,$[5],4237533241,21),T=v(T,q,X,j,$[12],1700485571,6),j=v(j,T,q,X,$[3],2399980690,10),X=v(X,j,T,q,$[10],4293915773,15),q=v(q,X,j,T,$[1],2240044497,21),T=v(T,q,X,j,$[8],1873313359,6),j=v(j,T,q,X,$[15],4264355552,10),X=v(X,j,T,q,$[6],2734768916,15),q=v(q,X,j,T,$[13],1309151649,21),T=v(T,q,X,j,$[4],4149444226,6),j=v(j,T,q,X,$[11],3174756917,10),X=v(X,j,T,q,$[2],718787259,15),q=v(q,X,j,T,$[9],3951481745,21),this._a=this._a+T|0,this._b=this._b+q|0,this._c=this._c+X|0,this._d=this._d+j|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var $=p.allocUnsafe(16);return $.writeInt32LE(this._a,0),$.writeInt32LE(this._b,4),$.writeInt32LE(this._c,8),$.writeInt32LE(this._d,12),$};function _($,M){return $<<M|$>>>32-M}function L($,M,T,q,X,j,I){return _($+(M&T|~M&q)+X+j|0,I)+M|0}function y($,M,T,q,X,j,I){return _($+(M&q|T&~q)+X+j|0,I)+M|0}function R($,M,T,q,X,j,I){return _($+(M^T^q)+X+j|0,I)+M|0}function v($,M,T,q,X,j,I){return _($+(T^(M|~q))+X+j|0,I)+M|0}m.exports=u}),Ss=je((l,m)=>{var r=Xo().Buffer,N=mo(),p=El(),x=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],L=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],R=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];function $(){p.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}N($,p),$.prototype._update=function(){for(var S=x,E=0;E<16;++E)S[E]=this._block.readInt32LE(E*4);for(var D=this._a|0,C=this._b|0,ce=this._c|0,be=this._d|0,qe=this._e|0,ue=this._a|0,$e=this._b|0,e=this._c|0,n=this._d|0,c=this._e|0,s=0;s<80;s+=1){var t,h;s<16?(t=T(D,C,ce,be,qe,S[u[s]],R[0],L[s]),h=I(ue,$e,e,n,c,S[_[s]],v[0],y[s])):s<32?(t=q(D,C,ce,be,qe,S[u[s]],R[1],L[s]),h=j(ue,$e,e,n,c,S[_[s]],v[1],y[s])):s<48?(t=X(D,C,ce,be,qe,S[u[s]],R[2],L[s]),h=X(ue,$e,e,n,c,S[_[s]],v[2],y[s])):s<64?(t=j(D,C,ce,be,qe,S[u[s]],R[3],L[s]),h=q(ue,$e,e,n,c,S[_[s]],v[3],y[s])):(t=I(D,C,ce,be,qe,S[u[s]],R[4],L[s]),h=T(ue,$e,e,n,c,S[_[s]],v[4],y[s])),D=qe,qe=be,be=M(ce,10),ce=C,C=t,ue=c,c=n,n=M(e,10),e=$e,$e=h}var k=this._b+ce+n|0;this._b=this._c+be+c|0,this._c=this._d+qe+ue|0,this._d=this._e+D+$e|0,this._e=this._a+C+e|0,this._a=k},$.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var S=r.alloc?r.alloc(20):new r(20);return S.writeInt32LE(this._a,0),S.writeInt32LE(this._b,4),S.writeInt32LE(this._c,8),S.writeInt32LE(this._d,12),S.writeInt32LE(this._e,16),S};function M(S,E){return S<<E|S>>>32-E}function T(S,E,D,C,ce,be,qe,ue){return M(S+(E^D^C)+be+qe|0,ue)+ce|0}function q(S,E,D,C,ce,be,qe,ue){return M(S+(E&D|~E&C)+be+qe|0,ue)+ce|0}function X(S,E,D,C,ce,be,qe,ue){return M(S+((E|~D)^C)+be+qe|0,ue)+ce|0}function j(S,E,D,C,ce,be,qe,ue){return M(S+(E&C|D&~C)+be+qe|0,ue)+ce|0}function I(S,E,D,C,ce,be,qe,ue){return M(S+(E^(D|~C))+be+qe|0,ue)+ce|0}m.exports=$}),Ba=je((l,m)=>{var r=ho().Buffer;function N(p,x){this._block=r.alloc(p),this._finalSize=x,this._blockSize=p,this._len=0}N.prototype.update=function(p,x){typeof p=="string"&&(x=x||"utf8",p=r.from(p,x));for(var u=this._block,_=this._blockSize,L=p.length,y=this._len,R=0;R<L;){for(var v=y%_,$=Math.min(L-R,_-v),M=0;M<$;M++)u[v+M]=p[R+M];y+=$,R+=$,y%_===0&&this._update(u)}return this._len+=L,this},N.prototype.digest=function(p){var x=this._len%this._blockSize;this._block[x]=128,this._block.fill(0,x+1),x>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=this._len*8;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var _=(u&4294967295)>>>0,L=(u-_)/4294967296;this._block.writeUInt32BE(L,this._blockSize-8),this._block.writeUInt32BE(_,this._blockSize-4)}this._update(this._block);var y=this._hash();return p?y.toString(p):y},N.prototype._update=function(){throw new Error("_update must be implemented by subclass")},m.exports=N}),mc=je((l,m)=>{var r=mo(),N=Ba(),p=ho().Buffer,x=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function _(){this.init(),this._w=u,N.call(this,64,56)}r(_,N),_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function L(v){return v<<5|v>>>27}function y(v){return v<<30|v>>>2}function R(v,$,M,T){return v===0?$&M|~$&T:v===2?$&M|$&T|M&T:$^M^T}_.prototype._update=function(v){for(var $=this._w,M=this._a|0,T=this._b|0,q=this._c|0,X=this._d|0,j=this._e|0,I=0;I<16;++I)$[I]=v.readInt32BE(I*4);for(;I<80;++I)$[I]=$[I-3]^$[I-8]^$[I-14]^$[I-16];for(var S=0;S<80;++S){var E=~~(S/20),D=L(M)+R(E,T,q,X)+j+$[S]+x[E]|0;j=X,X=q,q=y(T),T=M,M=D}this._a=M+this._a|0,this._b=T+this._b|0,this._c=q+this._c|0,this._d=X+this._d|0,this._e=j+this._e|0},_.prototype._hash=function(){var v=p.allocUnsafe(20);return v.writeInt32BE(this._a|0,0),v.writeInt32BE(this._b|0,4),v.writeInt32BE(this._c|0,8),v.writeInt32BE(this._d|0,12),v.writeInt32BE(this._e|0,16),v},m.exports=_}),bc=je((l,m)=>{var r=mo(),N=Ba(),p=ho().Buffer,x=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function _(){this.init(),this._w=u,N.call(this,64,56)}r(_,N),_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function L($){return $<<1|$>>>31}function y($){return $<<5|$>>>27}function R($){return $<<30|$>>>2}function v($,M,T,q){return $===0?M&T|~M&q:$===2?M&T|M&q|T&q:M^T^q}_.prototype._update=function($){for(var M=this._w,T=this._a|0,q=this._b|0,X=this._c|0,j=this._d|0,I=this._e|0,S=0;S<16;++S)M[S]=$.readInt32BE(S*4);for(;S<80;++S)M[S]=L(M[S-3]^M[S-8]^M[S-14]^M[S-16]);for(var E=0;E<80;++E){var D=~~(E/20),C=y(T)+v(D,q,X,j)+I+M[E]+x[D]|0;I=j,j=X,X=R(q),q=T,T=C}this._a=T+this._a|0,this._b=q+this._b|0,this._c=X+this._c|0,this._d=j+this._d|0,this._e=I+this._e|0},_.prototype._hash=function(){var $=p.allocUnsafe(20);return $.writeInt32BE(this._a|0,0),$.writeInt32BE(this._b|0,4),$.writeInt32BE(this._c|0,8),$.writeInt32BE(this._d|0,12),$.writeInt32BE(this._e|0,16),$},m.exports=_}),Pl=je((l,m)=>{var r=mo(),N=Ba(),p=ho().Buffer,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function _(){this.init(),this._w=u,N.call(this,64,56)}r(_,N),_.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function L(T,q,X){return X^T&(q^X)}function y(T,q,X){return T&q|X&(T|q)}function R(T){return(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10)}function v(T){return(T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7)}function $(T){return(T>>>7|T<<25)^(T>>>18|T<<14)^T>>>3}function M(T){return(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10}_.prototype._update=function(T){for(var q=this._w,X=this._a|0,j=this._b|0,I=this._c|0,S=this._d|0,E=this._e|0,D=this._f|0,C=this._g|0,ce=this._h|0,be=0;be<16;++be)q[be]=T.readInt32BE(be*4);for(;be<64;++be)q[be]=M(q[be-2])+q[be-7]+$(q[be-15])+q[be-16]|0;for(var qe=0;qe<64;++qe){var ue=ce+v(E)+L(E,D,C)+x[qe]+q[qe]|0,$e=R(X)+y(X,j,I)|0;ce=C,C=D,D=E,E=S+ue|0,S=I,I=j,j=X,X=ue+$e|0}this._a=X+this._a|0,this._b=j+this._b|0,this._c=I+this._c|0,this._d=S+this._d|0,this._e=E+this._e|0,this._f=D+this._f|0,this._g=C+this._g|0,this._h=ce+this._h|0},_.prototype._hash=function(){var T=p.allocUnsafe(32);return T.writeInt32BE(this._a,0),T.writeInt32BE(this._b,4),T.writeInt32BE(this._c,8),T.writeInt32BE(this._d,12),T.writeInt32BE(this._e,16),T.writeInt32BE(this._f,20),T.writeInt32BE(this._g,24),T.writeInt32BE(this._h,28),T},m.exports=_}),dc=je((l,m)=>{var r=mo(),N=Pl(),p=Ba(),x=ho().Buffer,u=new Array(64);function _(){this.init(),this._w=u,p.call(this,64,56)}r(_,N),_.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},_.prototype._hash=function(){var L=x.allocUnsafe(28);return L.writeInt32BE(this._a,0),L.writeInt32BE(this._b,4),L.writeInt32BE(this._c,8),L.writeInt32BE(this._d,12),L.writeInt32BE(this._e,16),L.writeInt32BE(this._f,20),L.writeInt32BE(this._g,24),L},m.exports=_}),Hl=je((l,m)=>{var r=mo(),N=Ba(),p=ho().Buffer,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function _(){this.init(),this._w=u,N.call(this,128,112)}r(_,N),_.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function L(j,I,S){return S^j&(I^S)}function y(j,I,S){return j&I|S&(j|I)}function R(j,I){return(j>>>28|I<<4)^(I>>>2|j<<30)^(I>>>7|j<<25)}function v(j,I){return(j>>>14|I<<18)^(j>>>18|I<<14)^(I>>>9|j<<23)}function $(j,I){return(j>>>1|I<<31)^(j>>>8|I<<24)^j>>>7}function M(j,I){return(j>>>1|I<<31)^(j>>>8|I<<24)^(j>>>7|I<<25)}function T(j,I){return(j>>>19|I<<13)^(I>>>29|j<<3)^j>>>6}function q(j,I){return(j>>>19|I<<13)^(I>>>29|j<<3)^(j>>>6|I<<26)}function X(j,I){return j>>>0<I>>>0?1:0}_.prototype._update=function(j){for(var I=this._w,S=this._ah|0,E=this._bh|0,D=this._ch|0,C=this._dh|0,ce=this._eh|0,be=this._fh|0,qe=this._gh|0,ue=this._hh|0,$e=this._al|0,e=this._bl|0,n=this._cl|0,c=this._dl|0,s=this._el|0,t=this._fl|0,h=this._gl|0,k=this._hl|0,d=0;d<32;d+=2)I[d]=j.readInt32BE(d*4),I[d+1]=j.readInt32BE(d*4+4);for(;d<160;d+=2){var o=I[d-30],b=I[d-30+1],W=$(o,b),O=M(b,o);o=I[d-4],b=I[d-4+1];var P=T(o,b),pe=q(b,o),Ne=I[d-14],xe=I[d-14+1],te=I[d-32],ie=I[d-32+1],he=O+xe|0,Fe=W+Ne+X(he,O)|0;he=he+pe|0,Fe=Fe+P+X(he,pe)|0,he=he+ie|0,Fe=Fe+te+X(he,ie)|0,I[d]=Fe,I[d+1]=he}for(var Re=0;Re<160;Re+=2){Fe=I[Re],he=I[Re+1];var ge=y(S,E,D),H=y($e,e,n),w=R(S,$e),B=R($e,S),Te=v(ce,s),Le=v(s,ce),Ve=x[Re],Pe=x[Re+1],We=L(ce,be,qe),Ie=L(s,t,h),Qe=k+Le|0,Je=ue+Te+X(Qe,k)|0;Qe=Qe+Ie|0,Je=Je+We+X(Qe,Ie)|0,Qe=Qe+Pe|0,Je=Je+Ve+X(Qe,Pe)|0,Qe=Qe+he|0,Je=Je+Fe+X(Qe,he)|0;var Se=B+H|0,bo=w+ge+X(Se,B)|0;ue=qe,k=h,qe=be,h=t,be=ce,t=s,s=c+Qe|0,ce=C+Je+X(s,c)|0,C=D,c=n,D=E,n=e,E=S,e=$e,$e=Qe+Se|0,S=Je+bo+X($e,Qe)|0}this._al=this._al+$e|0,this._bl=this._bl+e|0,this._cl=this._cl+n|0,this._dl=this._dl+c|0,this._el=this._el+s|0,this._fl=this._fl+t|0,this._gl=this._gl+h|0,this._hl=this._hl+k|0,this._ah=this._ah+S+X(this._al,$e)|0,this._bh=this._bh+E+X(this._bl,e)|0,this._ch=this._ch+D+X(this._cl,n)|0,this._dh=this._dh+C+X(this._dl,c)|0,this._eh=this._eh+ce+X(this._el,s)|0,this._fh=this._fh+be+X(this._fl,t)|0,this._gh=this._gh+qe+X(this._gl,h)|0,this._hh=this._hh+ue+X(this._hl,k)|0},_.prototype._hash=function(){var j=p.allocUnsafe(64);function I(S,E,D){j.writeInt32BE(S,D),j.writeInt32BE(E,D+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),j},m.exports=_}),pc=je((l,m)=>{var r=mo(),N=Hl(),p=Ba(),x=ho().Buffer,u=new Array(160);function _(){this.init(),this._w=u,p.call(this,128,112)}r(_,N),_.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},_.prototype._hash=function(){var L=x.allocUnsafe(48);function y(R,v,$){L.writeInt32BE(R,$),L.writeInt32BE(v,$+4)}return y(this._ah,this._al,0),y(this._bh,this._bl,8),y(this._ch,this._cl,16),y(this._dh,this._dl,24),y(this._eh,this._el,32),y(this._fh,this._fl,40),L},m.exports=_}),Ws=je((r,m)=>{var r=m.exports=function(N){N=N.toLowerCase();var p=r[N];if(!p)throw new Error(N+" is not supported (we accept pull requests)");return new p};r.sha=mc(),r.sha1=bc(),r.sha224=dc(),r.sha256=Pl(),r.sha384=pc(),r.sha512=Hl()}),Lo=je((l,m)=>{m.exports={ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,N){return r.includes(N)},ArrayPrototypeIndexOf(r,N){return r.indexOf(N)},ArrayPrototypeJoin(r,N){return r.join(N)},ArrayPrototypeMap(r,N){return r.map(N)},ArrayPrototypePop(r,N){return r.pop(N)},ArrayPrototypePush(r,N){return r.push(N)},ArrayPrototypeSlice(r,N,p){return r.slice(N,p)},Error,FunctionPrototypeCall(r,N,...p){return r.call(N,...p)},FunctionPrototypeSymbolHasInstance(r,N){return Function.prototype[Symbol.hasInstance].call(r,N)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,N){return Object.defineProperties(r,N)},ObjectDefineProperty(r,N,p){return Object.defineProperty(r,N,p)},ObjectGetOwnPropertyDescriptor(r,N){return Object.getOwnPropertyDescriptor(r,N)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,N){return Object.setPrototypeOf(r,N)},Promise,PromisePrototypeCatch(r,N){return r.catch(N)},PromisePrototypeThen(r,N,p){return r.then(N,p)},PromiseReject(r){return Promise.reject(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,N){return r.test(N)},SafeSet:Set,String,StringPrototypeSlice(r,N,p){return r.slice(N,p)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(r,N,p){return r.set(N,p)},Uint8Array}}),la=je((l,m)=>{var r=Xo(),N=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||r.Blob,x=typeof p<"u"?function(_){return _ instanceof p}:function(_){return!1},u=class extends Error{constructor(_){if(!Array.isArray(_))throw new TypeError(`Expected input to be an Array, got ${typeof _}`);let L="";for(let y=0;y<_.length;y++)L+=`    ${_[y].stack}
`;super(L),this.name="AggregateError",this.errors=_}};m.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(_){let L=!1;return function(...y){L||(L=!0,_.apply(this,y))}},createDeferredPromise:function(){let _,L;return{promise:new Promise((y,R)=>{_=y,L=R}),resolve:_,reject:L}},promisify(_){return new Promise((L,y)=>{_((R,...v)=>R?y(R):L(...v))})},debuglog(){return function(){}},format(_,...L){return _.replace(/%([sdifj])/g,function(...[y,R]){let v=L.shift();return R==="f"?v.toFixed(6):R==="j"?JSON.stringify(v):R==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(_){switch(typeof _){case"string":if(_.includes("'"))if(_.includes('"')){if(!_.includes("`")&&!_.includes("${"))return`\`${_}\``}else return`"${_}"`;return`'${_}'`;case"number":return isNaN(_)?"NaN":Object.is(_,-0)?String(_):_;case"bigint":return`${String(_)}n`;case"boolean":case"undefined":return String(_);case"object":return"{}"}},types:{isAsyncFunction(_){return _ instanceof N},isArrayBufferView(_){return ArrayBuffer.isView(_)}},isBlob:x},m.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),ws=je((l,m)=>{var{AbortController:r,AbortSignal:N}=typeof self<"u"?self:typeof window<"u"?window:void 0;m.exports=r,m.exports.AbortSignal=N,m.exports.default=r}),wo=je((l,m)=>{var{format:r,inspect:N,AggregateError:p}=la(),x=globalThis.AggregateError||p,u=Symbol("kIsNodeError"),_=["string","function","number","object","Function","Object","boolean","bigint","symbol"],L=/^([A-Z][a-z0-9]*)+$/,y="__node_internal_",R={};function v(I,S){if(!I)throw new R.ERR_INTERNAL_ASSERTION(S)}function $(I){let S="",E=I.length,D=I[0]==="-"?1:0;for(;E>=D+4;E-=3)S=`_${I.slice(E-3,E)}${S}`;return`${I.slice(0,E)}${S}`}function M(I,S,E){if(typeof S=="function")return v(S.length<=E.length,`Code: ${I}; The provided arguments length (${E.length}) does not match the required ones (${S.length}).`),S(...E);let D=(S.match(/%[dfijoOs]/g)||[]).length;return v(D===E.length,`Code: ${I}; The provided arguments length (${E.length}) does not match the required ones (${D}).`),E.length===0?S:r(S,...E)}function T(I,S,E){E||(E=Error);class D extends E{constructor(...C){super(M(I,S,C))}toString(){return`${this.name} [${I}]: ${this.message}`}}Object.defineProperties(D.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${I}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),D.prototype.code=I,D.prototype[u]=!0,R[I]=D}function q(I){let S=y+I.name;return Object.defineProperty(I,"name",{value:S}),I}function X(I,S){if(I&&S&&I!==S){if(Array.isArray(S.errors))return S.errors.push(I),S;let E=new x([S,I],S.message);return E.code=S.code,E}return I||S}var j=class extends Error{constructor(I="The operation was aborted",S=void 0){if(S!==void 0&&typeof S!="object")throw new R.ERR_INVALID_ARG_TYPE("options","Object",S);super(I,S),this.code="ABORT_ERR",this.name="AbortError"}};T("ERR_ASSERTION","%s",Error),T("ERR_INVALID_ARG_TYPE",(I,S,E)=>{v(typeof I=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let D="The ";I.endsWith(" argument")?D+=`${I} `:D+=`"${I}" ${I.includes(".")?"property":"argument"} `,D+="must be ";let C=[],ce=[],be=[];for(let ue of S)v(typeof ue=="string","All expected entries have to be of type string"),_.includes(ue)?C.push(ue.toLowerCase()):L.test(ue)?ce.push(ue):(v(ue!=="object",'The value "object" should be written as "Object"'),be.push(ue));if(ce.length>0){let ue=C.indexOf("object");ue!==-1&&(C.splice(C,ue,1),ce.push("Object"))}if(C.length>0){switch(C.length){case 1:D+=`of type ${C[0]}`;break;case 2:D+=`one of type ${C[0]} or ${C[1]}`;break;default:{let ue=C.pop();D+=`one of type ${C.join(", ")}, or ${ue}`}}(ce.length>0||be.length>0)&&(D+=" or ")}if(ce.length>0){switch(ce.length){case 1:D+=`an instance of ${ce[0]}`;break;case 2:D+=`an instance of ${ce[0]} or ${ce[1]}`;break;default:{let ue=ce.pop();D+=`an instance of ${ce.join(", ")}, or ${ue}`}}be.length>0&&(D+=" or ")}switch(be.length){case 0:break;case 1:be[0].toLowerCase()!==be[0]&&(D+="an "),D+=`${be[0]}`;break;case 2:D+=`one of ${be[0]} or ${be[1]}`;break;default:{let ue=be.pop();D+=`one of ${be.join(", ")}, or ${ue}`}}if(E==null)D+=`. Received ${E}`;else if(typeof E=="function"&&E.name)D+=`. Received function ${E.name}`;else if(typeof E=="object"){var qe;(qe=E.constructor)!==null&&qe!==void 0&&qe.name?D+=`. Received an instance of ${E.constructor.name}`:D+=`. Received ${N(E,{depth:-1})}`}else{let ue=N(E,{colors:!1});ue.length>25&&(ue=`${ue.slice(0,25)}...`),D+=`. Received type ${typeof E} (${ue})`}return D},TypeError),T("ERR_INVALID_ARG_VALUE",(I,S,E="is invalid")=>{let D=N(S);return D.length>128&&(D=D.slice(0,128)+"..."),`The ${I.includes(".")?"property":"argument"} '${I}' ${E}. Received ${D}`},TypeError),T("ERR_INVALID_RETURN_VALUE",(I,S,E)=>{var D;let C=E!=null&&(D=E.constructor)!==null&&D!==void 0&&D.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${I} to be returned from the "${S}" function but got ${C}.`},TypeError),T("ERR_MISSING_ARGS",(...I)=>{v(I.length>0,"At least one arg needs to be specified");let S,E=I.length;switch(I=(Array.isArray(I)?I:[I]).map((D)=>`"${D}"`).join(" or "),E){case 1:S+=`The ${I[0]} argument`;break;case 2:S+=`The ${I[0]} and ${I[1]} arguments`;break;default:{let D=I.pop();S+=`The ${I.join(", ")}, and ${D} arguments`}break}return`${S} must be specified`},TypeError),T("ERR_OUT_OF_RANGE",(I,S,E)=>{v(S,'Missing "range" argument');let D;return Number.isInteger(E)&&Math.abs(E)>4294967296?D=$(String(E)):typeof E=="bigint"?(D=String(E),(E>2n**32n||E<-(2n**32n))&&(D=$(D)),D+="n"):D=N(E),`The value of "${I}" is out of range. It must be ${S}. Received ${D}`},RangeError),T("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),T("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),T("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),T("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),T("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),T("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),T("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),T("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),T("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),T("ERR_STREAM_WRITE_AFTER_END","write after end",Error),T("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),m.exports={AbortError:j,aggregateTwoErrors:q(X),hideStackFrames:q,codes:R}}),Hn=je((l,m)=>{var{ArrayIsArray:r,ArrayPrototypeIncludes:N,ArrayPrototypeJoin:p,ArrayPrototypeMap:x,NumberIsInteger:u,NumberIsNaN:_,NumberMAX_SAFE_INTEGER:L,NumberMIN_SAFE_INTEGER:y,NumberParseInt:R,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:$,String:M,StringPrototypeToUpperCase:T,StringPrototypeTrim:q}=Lo(),{hideStackFrames:X,codes:{ERR_SOCKET_BAD_PORT:j,ERR_INVALID_ARG_TYPE:I,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:D}}=wo(),{normalizeEncoding:C}=la(),{isAsyncFunction:ce,isArrayBufferView:be}=la().types,qe={};function ue(H){return H===(H|0)}function $e(H){return H===H>>>0}var e=/^[0-7]+$/,n="must be a 32-bit unsigned integer or an octal string";function c(H,w,B){if(typeof H>"u"&&(H=B),typeof H=="string"){if($(e,H)===null)throw new S(w,H,n);H=R(H,8)}return h(H,w),H}var s=X((H,w,B=y,Te=L)=>{if(typeof H!="number")throw new I(w,"number",H);if(!u(H))throw new E(w,"an integer",H);if(H<B||H>Te)throw new E(w,`>= ${B} && <= ${Te}`,H)}),t=X((H,w,B=-2147483648,Te=2147483647)=>{if(typeof H!="number")throw new I(w,"number",H);if(!u(H))throw new E(w,"an integer",H);if(H<B||H>Te)throw new E(w,`>= ${B} && <= ${Te}`,H)}),h=X((H,w,B=!1)=>{if(typeof H!="number")throw new I(w,"number",H);if(!u(H))throw new E(w,"an integer",H);let Te=B?1:0,Le=4294967295;if(H<Te||H>Le)throw new E(w,`>= ${Te} && <= ${Le}`,H)});function k(H,w){if(typeof H!="string")throw new I(w,"string",H)}function d(H,w,B=void 0,Te){if(typeof H!="number")throw new I(w,"number",H);if(B!=null&&H<B||Te!=null&&H>Te||(B!=null||Te!=null)&&_(H))throw new E(w,`${B!=null?`>= ${B}`:""}${B!=null&&Te!=null?" && ":""}${Te!=null?`<= ${Te}`:""}`,H)}var o=X((H,w,B)=>{if(!N(B,H)){let Te=p(x(B,(Ve)=>typeof Ve=="string"?`'${Ve}'`:M(Ve)),", "),Le="must be one of: "+Te;throw new S(w,H,Le)}});function b(H,w){if(typeof H!="boolean")throw new I(w,"boolean",H)}function W(H,w,B){return H==null||!v(H,w)?B:H[w]}var O=X((H,w,B=null)=>{let Te=W(B,"allowArray",!1),Le=W(B,"allowFunction",!1);if(!W(B,"nullable",!1)&&H===null||!Te&&r(H)||typeof H!="object"&&(!Le||typeof H!="function"))throw new I(w,"Object",H)}),P=X((H,w,B=0)=>{if(!r(H))throw new I(w,"Array",H);if(H.length<B){let Te=`must be longer than ${B}`;throw new S(w,H,Te)}});function pe(H,w="signal"){if(k(H,w),qe[H]===void 0)throw qe[T(H)]!==void 0?new D(H+" (signals must use all capital letters)"):new D(H)}var Ne=X((H,w="buffer")=>{if(!be(H))throw new I(w,["Buffer","TypedArray","DataView"],H)});function xe(H,w){let B=C(w),Te=H.length;if(B==="hex"&&Te%2!==0)throw new S("encoding",w,`is invalid for data of length ${Te}`)}function te(H,w="Port",B=!0){if(typeof H!="number"&&typeof H!="string"||typeof H=="string"&&q(H).length===0||+H!==+H>>>0||H>65535||H===0&&!B)throw new j(w,H,B);return H|0}var ie=X((H,w)=>{if(H!==void 0&&(H===null||typeof H!="object"||!("aborted"in H)))throw new I(w,"AbortSignal",H)}),he=X((H,w)=>{if(typeof H!="function")throw new I(w,"Function",H)}),Fe=X((H,w)=>{if(typeof H!="function"||ce(H))throw new I(w,"Function",H)}),Re=X((H,w)=>{if(H!==void 0)throw new I(w,"undefined",H)});function ge(H,w,B){if(!N(B,H))throw new I(w,`('${p(B,"|")}')`,H)}m.exports={isInt32:ue,isUint32:$e,parseFileMode:c,validateArray:P,validateBoolean:b,validateBuffer:Ne,validateEncoding:xe,validateFunction:he,validateInt32:t,validateInteger:s,validateNumber:d,validateObject:O,validateOneOf:o,validatePlainFunction:Fe,validatePort:te,validateSignalName:pe,validateString:k,validateUint32:h,validateUndefined:Re,validateUnion:ge,validateAbortSignal:ie}}),Gl=je((l,m)=>{var r=m.exports={},N,p;function x(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?N=setTimeout:N=x}catch{N=x}try{typeof clearTimeout=="function"?p=clearTimeout:p=u}catch{p=u}})();function _(j){if(N===setTimeout)return setTimeout(j,0);if((N===x||!N)&&setTimeout)return N=setTimeout,setTimeout(j,0);try{return N(j,0)}catch{try{return N.call(null,j,0)}catch{return N.call(this,j,0)}}}function L(j){if(p===clearTimeout)return clearTimeout(j);if((p===u||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(j);try{return p(j)}catch{try{return p.call(null,j)}catch{return p.call(this,j)}}}var y=[],R=!1,v,$=-1;function M(){!R||!v||(R=!1,v.length?y=v.concat(y):$=-1,y.length&&T())}function T(){if(!R){var j=_(M);R=!0;for(var I=y.length;I;){for(v=y,y=[];++$<I;)v&&v[$].run();$=-1,I=y.length}v=null,R=!1,L(j)}}r.nextTick=function(j){var I=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)I[S-1]=arguments[S];y.push(new q(j,I)),y.length===1&&!R&&_(T)};function q(j,I){this.fun=j,this.array=I}q.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function X(){}r.on=X,r.addListener=X,r.once=X,r.off=X,r.removeListener=X,r.removeAllListeners=X,r.emit=X,r.prependListener=X,r.prependOnceListener=X,r.listeners=function(j){return[]},r.binding=function(j){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(j){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),ra={},Us(ra,{default:()=>fc}),Va=Xl(()=>{Sl(ra,Ya(Gl())),fc=Ya(Gl())}),Ma=je((l,m)=>{var{Symbol:r,SymbolAsyncIterator:N,SymbolIterator:p}=Lo(),x=r("kDestroyed"),u=r("kIsErrored"),_=r("kIsReadable"),L=r("kIsDisturbed");function y(s,t=!1){var h;return!!(s&&typeof s.pipe=="function"&&typeof s.on=="function"&&(!t||typeof s.pause=="function"&&typeof s.resume=="function")&&(!s._writableState||((h=s._readableState)===null||h===void 0?void 0:h.readable)!==!1)&&(!s._writableState||s._readableState))}function R(s){var t;return!!(s&&typeof s.write=="function"&&typeof s.on=="function"&&(!s._readableState||((t=s._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function v(s){return!!(s&&typeof s.pipe=="function"&&s._readableState&&typeof s.on=="function"&&typeof s.write=="function")}function $(s){return s&&(s._readableState||s._writableState||typeof s.write=="function"&&typeof s.on=="function"||typeof s.pipe=="function"&&typeof s.on=="function")}function M(s,t){return s==null?!1:t===!0?typeof s[N]=="function":t===!1?typeof s[p]=="function":typeof s[N]=="function"||typeof s[p]=="function"}function T(s){if(!$(s))return null;let{_writableState:t,_readableState:h}=s,k=t||h;return!!(s.destroyed||s[x]||k!=null&&k.destroyed)}function q(s){if(!R(s))return null;if(s.writableEnded===!0)return!0;let t=s._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function X(s,t){if(!R(s))return null;if(s.writableFinished===!0)return!0;let h=s._writableState;return h!=null&&h.errored?!1:typeof h?.finished!="boolean"?null:!!(h.finished||t===!1&&h.ended===!0&&h.length===0)}function j(s){if(!y(s))return null;if(s.readableEnded===!0)return!0;let t=s._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function I(s,t){if(!y(s))return null;let h=s._readableState;return h!=null&&h.errored?!1:typeof h?.endEmitted!="boolean"?null:!!(h.endEmitted||t===!1&&h.ended===!0&&h.length===0)}function S(s){return s&&s[_]!=null?s[_]:typeof s?.readable!="boolean"?null:T(s)?!1:y(s)&&s.readable&&!I(s)}function E(s){return typeof s?.writable!="boolean"?null:T(s)?!1:R(s)&&s.writable&&!q(s)}function D(s,t){return $(s)?T(s)?!0:!(t?.readable!==!1&&S(s)||t?.writable!==!1&&E(s)):null}function C(s){var t,h;return $(s)?s.writableErrored?s.writableErrored:(t=(h=s._writableState)===null||h===void 0?void 0:h.errored)!==null&&t!==void 0?t:null:null}function ce(s){var t,h;return $(s)?s.readableErrored?s.readableErrored:(t=(h=s._readableState)===null||h===void 0?void 0:h.errored)!==null&&t!==void 0?t:null:null}function be(s){if(!$(s))return null;if(typeof s.closed=="boolean")return s.closed;let{_writableState:t,_readableState:h}=s;return typeof t?.closed=="boolean"||typeof h?.closed=="boolean"?t?.closed||h?.closed:typeof s._closed=="boolean"&&qe(s)?s._closed:null}function qe(s){return typeof s._closed=="boolean"&&typeof s._defaultKeepAlive=="boolean"&&typeof s._removedConnection=="boolean"&&typeof s._removedContLen=="boolean"}function ue(s){return typeof s._sent100=="boolean"&&qe(s)}function $e(s){var t;return typeof s._consuming=="boolean"&&typeof s._dumped=="boolean"&&((t=s.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function e(s){if(!$(s))return null;let{_writableState:t,_readableState:h}=s,k=t||h;return!k&&ue(s)||!!(k&&k.autoDestroy&&k.emitClose&&k.closed===!1)}function n(s){var t;return!!(s&&((t=s[L])!==null&&t!==void 0?t:s.readableDidRead||s.readableAborted))}function c(s){var t,h,k,d,o,b,W,O,P,pe;return!!(s&&((t=(h=(k=(d=(o=(b=s[u])!==null&&b!==void 0?b:s.readableErrored)!==null&&o!==void 0?o:s.writableErrored)!==null&&d!==void 0?d:(W=s._readableState)===null||W===void 0?void 0:W.errorEmitted)!==null&&k!==void 0?k:(O=s._writableState)===null||O===void 0?void 0:O.errorEmitted)!==null&&h!==void 0?h:(P=s._readableState)===null||P===void 0?void 0:P.errored)!==null&&t!==void 0?t:(pe=s._writableState)===null||pe===void 0?void 0:pe.errored))}m.exports={kDestroyed:x,isDisturbed:n,kIsDisturbed:L,isErrored:c,kIsErrored:u,isReadable:S,kIsReadable:_,isClosed:be,isDestroyed:T,isDuplexNodeStream:v,isFinished:D,isIterable:M,isReadableNodeStream:y,isReadableEnded:j,isReadableFinished:I,isReadableErrored:ce,isNodeStream:$,isWritable:E,isWritableNodeStream:R,isWritableEnded:q,isWritableFinished:X,isWritableErrored:C,isServerRequest:$e,isServerResponse:ue,willEmitClose:e}}),La=je((l,m)=>{var r=(Va(),Qo(ra)),{AbortError:N,codes:p}=wo(),{ERR_INVALID_ARG_TYPE:x,ERR_STREAM_PREMATURE_CLOSE:u}=p,{kEmptyObject:_,once:L}=la(),{validateAbortSignal:y,validateFunction:R,validateObject:v}=Hn(),{Promise:$}=Lo(),{isClosed:M,isReadable:T,isReadableNodeStream:q,isReadableFinished:X,isReadableErrored:j,isWritable:I,isWritableNodeStream:S,isWritableFinished:E,isWritableErrored:D,isNodeStream:C,willEmitClose:ce}=Ma();function be(e){return e.setHeader&&typeof e.abort=="function"}var qe=()=>{};function ue(e,n,c){var s,t;arguments.length===2?(c=n,n=_):n==null?n=_:v(n,"options"),R(c,"callback"),y(n.signal,"options.signal"),c=L(c);let h=(s=n.readable)!==null&&s!==void 0?s:q(e),k=(t=n.writable)!==null&&t!==void 0?t:S(e);if(!C(e))throw new x("stream","Stream",e);let{_writableState:d,_readableState:o}=e,b=()=>{e.writable||P()},W=ce(e)&&q(e)===h&&S(e)===k,O=E(e,!1),P=()=>{O=!0,e.destroyed&&(W=!1),!(W&&(!e.readable||h))&&(!h||pe)&&c.call(e)},pe=X(e,!1),Ne=()=>{pe=!0,e.destroyed&&(W=!1),!(W&&(!e.writable||k))&&(!k||O)&&c.call(e)},xe=(Re)=>{c.call(e,Re)},te=M(e),ie=()=>{te=!0;let Re=D(e)||j(e);if(Re&&typeof Re!="boolean")return c.call(e,Re);if(h&&!pe&&q(e,!0)&&!X(e,!1))return c.call(e,new u);if(k&&!O&&!E(e,!1))return c.call(e,new u);c.call(e)},he=()=>{e.req.on("finish",P)};be(e)?(e.on("complete",P),W||e.on("abort",ie),e.req?he():e.on("request",he)):k&&!d&&(e.on("end",b),e.on("close",b)),!W&&typeof e.aborted=="boolean"&&e.on("aborted",ie),e.on("end",Ne),e.on("finish",P),n.error!==!1&&e.on("error",xe),e.on("close",ie),te?r.nextTick(ie):d!=null&&d.errorEmitted||o!=null&&o.errorEmitted?W||r.nextTick(ie):(!h&&(!W||T(e))&&(O||I(e)===!1)||!k&&(!W||I(e))&&(pe||T(e)===!1)||o&&e.req&&e.aborted)&&r.nextTick(ie);let Fe=()=>{c=qe,e.removeListener("aborted",ie),e.removeListener("complete",P),e.removeListener("abort",ie),e.removeListener("request",he),e.req&&e.req.removeListener("finish",P),e.removeListener("end",b),e.removeListener("close",b),e.removeListener("finish",P),e.removeListener("end",Ne),e.removeListener("error",xe),e.removeListener("close",ie)};if(n.signal&&!te){let Re=()=>{let ge=c;Fe(),ge.call(e,new N(void 0,{cause:n.signal.reason}))};if(n.signal.aborted)r.nextTick(Re);else{let ge=c;c=L((...H)=>{n.signal.removeEventListener("abort",Re),ge.apply(e,H)}),n.signal.addEventListener("abort",Re)}}return Fe}function $e(e,n){return new $((c,s)=>{ue(e,n,(t)=>{t?s(t):c()})})}m.exports=ue,m.exports.finished=$e}),hc=je((l,m)=>{var r=globalThis.AbortController||ws().AbortController,{codes:{ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:p,ERR_OUT_OF_RANGE:x},AbortError:u}=wo(),{validateAbortSignal:_,validateInteger:L,validateObject:y}=Hn(),R=Lo().Symbol("kWeak"),{finished:v}=La(),{ArrayPrototypePush:$,MathFloor:M,Number:T,NumberIsNaN:q,Promise:X,PromiseReject:j,PromisePrototypeThen:I,Symbol:S}=Lo(),E=S("kEmpty"),D=S("kEof");function C(o,b){if(typeof o!="function")throw new N("fn",["Function","AsyncFunction"],o);b!=null&&y(b,"options"),b?.signal!=null&&_(b.signal,"options.signal");let W=1;return b?.concurrency!=null&&(W=M(b.concurrency)),L(W,"concurrency",1),async function*(){var O,P;let pe=new r,Ne=this,xe=[],te=pe.signal,ie={signal:te},he=()=>pe.abort();b!=null&&(O=b.signal)!==null&&O!==void 0&&O.aborted&&he(),b==null||(P=b.signal)===null||P===void 0||P.addEventListener("abort",he);let Fe,Re,ge=!1;function H(){ge=!0}async function w(){try{for await(let Le of Ne){var B;if(ge)return;if(te.aborted)throw new u;try{Le=o(Le,ie)}catch(Ve){Le=j(Ve)}Le!==E&&(typeof((B=Le)===null||B===void 0?void 0:B.catch)=="function"&&Le.catch(H),xe.push(Le),Fe&&(Fe(),Fe=null),!ge&&xe.length&&xe.length>=W&&await new X((Ve)=>{Re=Ve}))}xe.push(D)}catch(Le){let Ve=j(Le);I(Ve,void 0,H),xe.push(Ve)}finally{var Te;ge=!0,Fe&&(Fe(),Fe=null),b==null||(Te=b.signal)===null||Te===void 0||Te.removeEventListener("abort",he)}}w();try{for(;;){for(;xe.length>0;){let B=await xe[0];if(B===D)return;if(te.aborted)throw new u;B!==E&&(yield B),xe.shift(),Re&&(Re(),Re=null)}await new X((B)=>{Fe=B})}}finally{pe.abort(),ge=!0,Re&&(Re(),Re=null)}}.call(this)}function ce(o=void 0){return o!=null&&y(o,"options"),o?.signal!=null&&_(o.signal,"options.signal"),async function*(){let b=0;for await(let O of this){var W;if(o!=null&&(W=o.signal)!==null&&W!==void 0&&W.aborted)throw new u({cause:o.signal.reason});yield[b++,O]}}.call(this)}async function be(o,b=void 0){for await(let W of e.call(this,o,b))return!0;return!1}async function qe(o,b=void 0){if(typeof o!="function")throw new N("fn",["Function","AsyncFunction"],o);return!await be.call(this,async(...W)=>!await o(...W),b)}async function ue(o,b){for await(let W of e.call(this,o,b))return W}async function $e(o,b){if(typeof o!="function")throw new N("fn",["Function","AsyncFunction"],o);async function W(O,P){return await o(O,P),E}for await(let O of C.call(this,W,b));}function e(o,b){if(typeof o!="function")throw new N("fn",["Function","AsyncFunction"],o);async function W(O,P){return await o(O,P)?O:E}return C.call(this,W,b)}var n=class extends p{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function c(o,b,W){var O;if(typeof o!="function")throw new N("reducer",["Function","AsyncFunction"],o);W!=null&&y(W,"options"),W?.signal!=null&&_(W.signal,"options.signal");let P=arguments.length>1;if(W!=null&&(O=W.signal)!==null&&O!==void 0&&O.aborted){let ie=new u(void 0,{cause:W.signal.reason});throw this.once("error",()=>{}),await v(this.destroy(ie)),ie}let pe=new r,Ne=pe.signal;if(W!=null&&W.signal){let ie={once:!0,[R]:this};W.signal.addEventListener("abort",()=>pe.abort(),ie)}let xe=!1;try{for await(let ie of this){var te;if(xe=!0,W!=null&&(te=W.signal)!==null&&te!==void 0&&te.aborted)throw new u;P?b=await o(b,ie,{signal:Ne}):(b=ie,P=!0)}if(!xe&&!P)throw new n}finally{pe.abort()}return b}async function s(o){o!=null&&y(o,"options"),o?.signal!=null&&_(o.signal,"options.signal");let b=[];for await(let O of this){var W;if(o!=null&&(W=o.signal)!==null&&W!==void 0&&W.aborted)throw new u(void 0,{cause:o.signal.reason});$(b,O)}return b}function t(o,b){let W=C.call(this,o,b);return async function*(){for await(let O of W)yield*O}.call(this)}function h(o){if(o=T(o),q(o))return 0;if(o<0)throw new x("number",">= 0",o);return o}function k(o,b=void 0){return b!=null&&y(b,"options"),b?.signal!=null&&_(b.signal,"options.signal"),o=h(o),async function*(){var W;if(b!=null&&(W=b.signal)!==null&&W!==void 0&&W.aborted)throw new u;for await(let P of this){var O;if(b!=null&&(O=b.signal)!==null&&O!==void 0&&O.aborted)throw new u;o--<=0&&(yield P)}}.call(this)}function d(o,b=void 0){return b!=null&&y(b,"options"),b?.signal!=null&&_(b.signal,"options.signal"),o=h(o),async function*(){var W;if(b!=null&&(W=b.signal)!==null&&W!==void 0&&W.aborted)throw new u;for await(let P of this){var O;if(b!=null&&(O=b.signal)!==null&&O!==void 0&&O.aborted)throw new u;if(o-- >0)yield P;else return}}.call(this)}m.exports.streamReturningOperators={asIndexedPairs:ce,drop:k,filter:e,flatMap:t,map:C,take:d},m.exports.promiseReturningOperators={every:qe,forEach:$e,reduce:c,toArray:s,some:be,find:ue}}),Aa=je((l,m)=>{var r=(Va(),Qo(ra)),{aggregateTwoErrors:N,codes:{ERR_MULTIPLE_CALLBACK:p},AbortError:x}=wo(),{Symbol:u}=Lo(),{kDestroyed:_,isDestroyed:L,isFinished:y,isServerRequest:R}=Ma(),v=u("kDestroy"),$=u("kConstruct");function M(e,n,c){e&&(e.stack,n&&!n.errored&&(n.errored=e),c&&!c.errored&&(c.errored=e))}function T(e,n){let c=this._readableState,s=this._writableState,t=s||c;return s&&s.destroyed||c&&c.destroyed?(typeof n=="function"&&n(),this):(M(e,s,c),s&&(s.destroyed=!0),c&&(c.destroyed=!0),t.constructed?q(this,e,n):this.once(v,function(h){q(this,N(h,e),n)}),this)}function q(e,n,c){let s=!1;function t(h){if(s)return;s=!0;let{_readableState:k,_writableState:d}=e;M(h,d,k),d&&(d.closed=!0),k&&(k.closed=!0),typeof c=="function"&&c(h),h?r.nextTick(X,e,h):r.nextTick(j,e)}try{e._destroy(n||null,t)}catch(h){t(h)}}function X(e,n){I(e,n),j(e)}function j(e){let{_readableState:n,_writableState:c}=e;c&&(c.closeEmitted=!0),n&&(n.closeEmitted=!0),(c&&c.emitClose||n&&n.emitClose)&&e.emit("close")}function I(e,n){let{_readableState:c,_writableState:s}=e;s&&s.errorEmitted||c&&c.errorEmitted||(s&&(s.errorEmitted=!0),c&&(c.errorEmitted=!0),e.emit("error",n))}function S(){let e=this._readableState,n=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),n&&(n.constructed=!0,n.destroyed=!1,n.closed=!1,n.closeEmitted=!1,n.errored=null,n.errorEmitted=!1,n.finalCalled=!1,n.prefinished=!1,n.ended=n.writable===!1,n.ending=n.writable===!1,n.finished=n.writable===!1)}function E(e,n,c){let{_readableState:s,_writableState:t}=e;if(t&&t.destroyed||s&&s.destroyed)return this;s&&s.autoDestroy||t&&t.autoDestroy?e.destroy(n):n&&(n.stack,t&&!t.errored&&(t.errored=n),s&&!s.errored&&(s.errored=n),c?r.nextTick(I,e,n):I(e,n))}function D(e,n){if(typeof e._construct!="function")return;let{_readableState:c,_writableState:s}=e;c&&(c.constructed=!1),s&&(s.constructed=!1),e.once($,n),!(e.listenerCount($)>1)&&r.nextTick(C,e)}function C(e){let n=!1;function c(s){if(n){E(e,s??new p);return}n=!0;let{_readableState:t,_writableState:h}=e,k=h||t;t&&(t.constructed=!0),h&&(h.constructed=!0),k.destroyed?e.emit(v,s):s?E(e,s,!0):r.nextTick(ce,e)}try{e._construct(c)}catch(s){c(s)}}function ce(e){e.emit($)}function be(e){return e&&e.setHeader&&typeof e.abort=="function"}function qe(e){e.emit("close")}function ue(e,n){e.emit("error",n),r.nextTick(qe,e)}function $e(e,n){!e||L(e)||(!n&&!y(e)&&(n=new x),R(e)?(e.socket=null,e.destroy(n)):be(e)?e.abort():be(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(n):typeof e.close=="function"?e.close():n?r.nextTick(ue,e,n):r.nextTick(qe,e),e.destroyed||(e[_]=!0))}m.exports={construct:D,destroyer:$e,destroy:T,undestroy:S,errorOrDestroy:E}}),js=je((l,m)=>{var{ArrayIsArray:r,ObjectSetPrototypeOf:N}=Lo(),{EventEmitter:p}=$a();function x(_){p.call(this,_)}N(x.prototype,p.prototype),N(x,p),x.prototype.pipe=function(_,L){let y=this;function R(j){_.writable&&_.write(j)===!1&&y.pause&&y.pause()}y.on("data",R);function v(){y.readable&&y.resume&&y.resume()}_.on("drain",v),!_._isStdio&&(!L||L.end!==!1)&&(y.on("end",M),y.on("close",T));let $=!1;function M(){$||($=!0,_.end())}function T(){$||($=!0,typeof _.destroy=="function"&&_.destroy())}function q(j){X(),p.listenerCount(this,"error")===0&&this.emit("error",j)}u(y,"error",q),u(_,"error",q);function X(){y.removeListener("data",R),_.removeListener("drain",v),y.removeListener("end",M),y.removeListener("close",T),y.removeListener("error",q),_.removeListener("error",q),y.removeListener("end",X),y.removeListener("close",X),_.removeListener("close",X)}return y.on("end",X),y.on("close",X),_.on("close",X),_.emit("pipe",y),_};function u(_,L,y){if(typeof _.prependListener=="function")return _.prependListener(L,y);!_._events||!_._events[L]?_.on(L,y):r(_._events[L])?_._events[L].unshift(y):_._events[L]=[y,_._events[L]]}m.exports={Stream:x,prependListener:u}}),Fs=je((l,m)=>{var{AbortError:r,codes:N}=wo(),p=La(),{ERR_INVALID_ARG_TYPE:x}=N,u=(L,y)=>{if(typeof L!="object"||!("aborted"in L))throw new x(y,"AbortSignal",L)};function _(L){return!!(L&&typeof L.pipe=="function")}m.exports.addAbortSignal=function(L,y){if(u(L,"signal"),!_(y))throw new x("stream","stream.Stream",y);return m.exports.addAbortSignalNoValidate(L,y)},m.exports.addAbortSignalNoValidate=function(L,y){if(typeof L!="object"||!("aborted"in L))return y;let R=()=>{y.destroy(new r(void 0,{cause:L.reason}))};return L.aborted?R():(L.addEventListener("abort",R),p(y,()=>L.removeEventListener("abort",R))),y}}),_c=je((l,m)=>{var{StringPrototypeSlice:r,SymbolIterator:N,TypedArrayPrototypeSet:p,Uint8Array:x}=Lo(),{Buffer:u}=Xo(),{inspect:_}=la();m.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(L){let y={data:L,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}unshift(L){let y={data:L,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}shift(){if(this.length===0)return;let L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}clear(){this.head=this.tail=null,this.length=0}join(L){if(this.length===0)return"";let y=this.head,R=""+y.data;for(;(y=y.next)!==null;)R+=L+y.data;return R}concat(L){if(this.length===0)return u.alloc(0);let y=u.allocUnsafe(L>>>0),R=this.head,v=0;for(;R;)p(y,R.data,v),v+=R.data.length,R=R.next;return y}consume(L,y){let R=this.head.data;if(L<R.length){let v=R.slice(0,L);return this.head.data=R.slice(L),v}return L===R.length?this.shift():y?this._getString(L):this._getBuffer(L)}first(){return this.head.data}*[N](){for(let L=this.head;L;L=L.next)yield L.data}_getString(L){let y="",R=this.head,v=0;do{let $=R.data;if(L>$.length)y+=$,L-=$.length;else{L===$.length?(y+=$,++v,R.next?this.head=R.next:this.head=this.tail=null):(y+=r($,0,L),this.head=R,R.data=r($,L));break}++v}while((R=R.next)!==null);return this.length-=v,y}_getBuffer(L){let y=u.allocUnsafe(L),R=L,v=this.head,$=0;do{let M=v.data;if(L>M.length)p(y,M,R-L),L-=M.length;else{L===M.length?(p(y,M,R-L),++$,v.next?this.head=v.next:this.head=this.tail=null):(p(y,new x(M.buffer,M.byteOffset,L),R-L),this.head=v,v.data=M.slice(L));break}++$}while((v=v.next)!==null);return this.length-=$,y}[Symbol.for("nodejs.util.inspect.custom")](L,y){return _(this,{...y,depth:0,customInspect:!1})}}}),Is=je((l,m)=>{var{MathFloor:r,NumberIsInteger:N}=Lo(),{ERR_INVALID_ARG_VALUE:p}=wo().codes;function x(L,y,R){return L.highWaterMark!=null?L.highWaterMark:y?L[R]:null}function u(L){return L?16:16384}function _(L,y,R,v){let $=x(y,v,R);if($!=null){if(!N($)||$<0){let M=v?`options.${R}`:"options.highWaterMark";throw new p(M,$)}return r($)}return u(L.objectMode)}m.exports={getHighWaterMark:_,getDefaultHighWaterMark:u}}),Yl=je((l,m)=>{var r=(Va(),Qo(ra)),{PromisePrototypeThen:N,SymbolAsyncIterator:p,SymbolIterator:x}=Lo(),{Buffer:u}=Xo(),{ERR_INVALID_ARG_TYPE:_,ERR_STREAM_NULL_VALUES:L}=wo().codes;function y(R,v,$){let M;if(typeof v=="string"||v instanceof u)return new R({objectMode:!0,...$,read(){this.push(v),this.push(null)}});let T;if(v&&v[p])T=!0,M=v[p]();else if(v&&v[x])T=!1,M=v[x]();else throw new _("iterable",["Iterable"],v);let q=new R({objectMode:!0,highWaterMark:1,...$}),X=!1;q._read=function(){X||(X=!0,I())},q._destroy=function(S,E){N(j(S),()=>r.nextTick(E,S),(D)=>r.nextTick(E,D||S))};async function j(S){let E=S!=null,D=typeof M.throw=="function";if(E&&D){let{value:C,done:ce}=await M.throw(S);if(await C,ce)return}if(typeof M.return=="function"){let{value:C}=await M.return();await C}}async function I(){for(;;){try{let{value:S,done:E}=T?await M.next():M.next();if(E)q.push(null);else{let D=S&&typeof S.then=="function"?await S:S;if(D===null)throw X=!1,new L;if(q.push(D))continue;X=!1}}catch(S){q.destroy(S)}break}}return q}m.exports=y}),Gn=je((l,m)=>{var r=(Va(),Qo(ra)),{ArrayPrototypeIndexOf:N,NumberIsInteger:p,NumberIsNaN:x,NumberParseInt:u,ObjectDefineProperties:_,ObjectKeys:L,ObjectSetPrototypeOf:y,Promise:R,SafeSet:v,SymbolAsyncIterator:$,Symbol:M}=Lo();m.exports=W,W.ReadableState=b;var{EventEmitter:T}=$a(),{Stream:q,prependListener:X}=js(),{Buffer:j}=Xo(),{addAbortSignal:I}=Fs(),S=La(),E=la().debuglog("stream",(U)=>{E=U}),D=_c(),C=Aa(),{getHighWaterMark:ce,getDefaultHighWaterMark:be}=Is(),{aggregateTwoErrors:qe,codes:{ERR_INVALID_ARG_TYPE:ue,ERR_METHOD_NOT_IMPLEMENTED:$e,ERR_OUT_OF_RANGE:e,ERR_STREAM_PUSH_AFTER_EOF:n,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:c}}=wo(),{validateObject:s}=Hn(),t=M("kPaused"),{StringDecoder:h}=Os(),k=Yl();y(W.prototype,q.prototype),y(W,q);var d=()=>{},{errorOrDestroy:o}=C;function b(U,a,i){typeof i!="boolean"&&(i=a instanceof ia()),this.objectMode=!!(U&&U.objectMode),i&&(this.objectMode=this.objectMode||!!(U&&U.readableObjectMode)),this.highWaterMark=U?ce(this,U,"readableHighWaterMark",i):be(!1),this.buffer=new D,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[t]=null,this.errorEmitted=!1,this.emitClose=!U||U.emitClose!==!1,this.autoDestroy=!U||U.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=U&&U.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,U&&U.encoding&&(this.decoder=new h(U.encoding),this.encoding=U.encoding)}function W(U){if(!(this instanceof W))return new W(U);let a=this instanceof ia();this._readableState=new b(U,this,a),U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.construct=="function"&&(this._construct=U.construct),U.signal&&!a&&I(U.signal,this)),q.call(this,U),C.construct(this,()=>{this._readableState.needReadable&&Fe(this,this._readableState)})}W.prototype.destroy=C.destroy,W.prototype._undestroy=C.undestroy,W.prototype._destroy=function(U,a){a(U)},W.prototype[T.captureRejectionSymbol]=function(U){this.destroy(U)},W.prototype.push=function(U,a){return O(this,U,a,!1)},W.prototype.unshift=function(U,a){return O(this,U,a,!0)};function O(U,a,i,f){E("readableAddChunk",a);let Z=U._readableState,V;if(Z.objectMode||(typeof a=="string"?(i=i||Z.defaultEncoding,Z.encoding!==i&&(f&&Z.encoding?a=j.from(a,i).toString(Z.encoding):(a=j.from(a,i),i=""))):a instanceof j?i="":q._isUint8Array(a)?(a=q._uint8ArrayToBuffer(a),i=""):a!=null&&(V=new ue("chunk",["string","Buffer","Uint8Array"],a))),V)o(U,V);else if(a===null)Z.reading=!1,te(U,Z);else if(Z.objectMode||a&&a.length>0)if(f)if(Z.endEmitted)o(U,new c);else{if(Z.destroyed||Z.errored)return!1;P(U,Z,a,!0)}else if(Z.ended)o(U,new n);else{if(Z.destroyed||Z.errored)return!1;Z.reading=!1,Z.decoder&&!i?(a=Z.decoder.write(a),Z.objectMode||a.length!==0?P(U,Z,a,!1):Fe(U,Z)):P(U,Z,a,!1)}else f||(Z.reading=!1,Fe(U,Z));return!Z.ended&&(Z.length<Z.highWaterMark||Z.length===0)}function P(U,a,i,f){a.flowing&&a.length===0&&!a.sync&&U.listenerCount("data")>0?(a.multiAwaitDrain?a.awaitDrainWriters.clear():a.awaitDrainWriters=null,a.dataEmitted=!0,U.emit("data",i)):(a.length+=a.objectMode?1:i.length,f?a.buffer.unshift(i):a.buffer.push(i),a.needReadable&&ie(U)),Fe(U,a)}W.prototype.isPaused=function(){let U=this._readableState;return U[t]===!0||U.flowing===!1},W.prototype.setEncoding=function(U){let a=new h(U);this._readableState.decoder=a,this._readableState.encoding=this._readableState.decoder.encoding;let i=this._readableState.buffer,f="";for(let Z of i)f+=a.write(Z);return i.clear(),f!==""&&i.push(f),this._readableState.length=f.length,this};var pe=1073741824;function Ne(U){if(U>pe)throw new e("size","<= 1GiB",U);return U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++,U}function xe(U,a){return U<=0||a.length===0&&a.ended?0:a.objectMode?1:x(U)?a.flowing&&a.length?a.buffer.first().length:a.length:U<=a.length?U:a.ended?a.length:0}W.prototype.read=function(U){E("read",U),U===void 0?U=NaN:p(U)||(U=u(U,10));let a=this._readableState,i=U;if(U>a.highWaterMark&&(a.highWaterMark=Ne(U)),U!==0&&(a.emittedReadable=!1),U===0&&a.needReadable&&((a.highWaterMark!==0?a.length>=a.highWaterMark:a.length>0)||a.ended))return E("read: emitReadable",a.length,a.ended),a.length===0&&a.ended?Ie(this):ie(this),null;if(U=xe(U,a),U===0&&a.ended)return a.length===0&&Ie(this),null;let f=a.needReadable;if(E("need readable",f),(a.length===0||a.length-U<a.highWaterMark)&&(f=!0,E("length less than watermark",f)),a.ended||a.reading||a.destroyed||a.errored||!a.constructed)f=!1,E("reading, ended or constructing",f);else if(f){E("do read"),a.reading=!0,a.sync=!0,a.length===0&&(a.needReadable=!0);try{this._read(a.highWaterMark)}catch(V){o(this,V)}a.sync=!1,a.reading||(U=xe(i,a))}let Z;return U>0?Z=We(U,a):Z=null,Z===null?(a.needReadable=a.length<=a.highWaterMark,U=0):(a.length-=U,a.multiAwaitDrain?a.awaitDrainWriters.clear():a.awaitDrainWriters=null),a.length===0&&(a.ended||(a.needReadable=!0),i!==U&&a.ended&&Ie(this)),Z!==null&&!a.errorEmitted&&!a.closeEmitted&&(a.dataEmitted=!0,this.emit("data",Z)),Z};function te(U,a){if(E("onEofChunk"),!a.ended){if(a.decoder){let i=a.decoder.end();i&&i.length&&(a.buffer.push(i),a.length+=a.objectMode?1:i.length)}a.ended=!0,a.sync?ie(U):(a.needReadable=!1,a.emittedReadable=!0,he(U))}}function ie(U){let a=U._readableState;E("emitReadable",a.needReadable,a.emittedReadable),a.needReadable=!1,a.emittedReadable||(E("emitReadable",a.flowing),a.emittedReadable=!0,r.nextTick(he,U))}function he(U){let a=U._readableState;E("emitReadable_",a.destroyed,a.length,a.ended),!a.destroyed&&!a.errored&&(a.length||a.ended)&&(U.emit("readable"),a.emittedReadable=!1),a.needReadable=!a.flowing&&!a.ended&&a.length<=a.highWaterMark,Le(U)}function Fe(U,a){!a.readingMore&&a.constructed&&(a.readingMore=!0,r.nextTick(Re,U,a))}function Re(U,a){for(;!a.reading&&!a.ended&&(a.length<a.highWaterMark||a.flowing&&a.length===0);){let i=a.length;if(E("maybeReadMore read 0"),U.read(0),i===a.length)break}a.readingMore=!1}W.prototype._read=function(U){throw new $e("_read()")},W.prototype.pipe=function(U,a){let i=this,f=this._readableState;f.pipes.length===1&&(f.multiAwaitDrain||(f.multiAwaitDrain=!0,f.awaitDrainWriters=new v(f.awaitDrainWriters?[f.awaitDrainWriters]:[]))),f.pipes.push(U),E("pipe count=%d opts=%j",f.pipes.length,a);let Z=(!a||a.end!==!1)&&U!==r.stdout&&U!==r.stderr?g:A;f.endEmitted?r.nextTick(Z):i.once("end",Z),U.on("unpipe",V);function V(re,ke){E("onunpipe"),re===i&&ke&&ke.hasUnpiped===!1&&(ke.hasUnpiped=!0,J())}function g(){E("onend"),U.end()}let F,z=!1;function J(){E("cleanup"),U.removeListener("close",G),U.removeListener("finish",ne),F&&U.removeListener("drain",F),U.removeListener("error",Y),U.removeListener("unpipe",V),i.removeListener("end",g),i.removeListener("end",A),i.removeListener("data",oe),z=!0,F&&f.awaitDrainWriters&&(!U._writableState||U._writableState.needDrain)&&F()}function K(){z||(f.pipes.length===1&&f.pipes[0]===U?(E("false write response, pause",0),f.awaitDrainWriters=U,f.multiAwaitDrain=!1):f.pipes.length>1&&f.pipes.includes(U)&&(E("false write response, pause",f.awaitDrainWriters.size),f.awaitDrainWriters.add(U)),i.pause()),F||(F=ge(i,U),U.on("drain",F))}i.on("data",oe);function oe(re){E("ondata");let ke=U.write(re);E("dest.write",ke),ke===!1&&K()}function Y(re){if(E("onerror",re),A(),U.removeListener("error",Y),U.listenerCount("error")===0){let ke=U._writableState||U._readableState;ke&&!ke.errorEmitted?o(U,re):U.emit("error",re)}}X(U,"error",Y);function G(){U.removeListener("finish",ne),A()}U.once("close",G);function ne(){E("onfinish"),U.removeListener("close",G),A()}U.once("finish",ne);function A(){E("unpipe"),i.unpipe(U)}return U.emit("pipe",i),U.writableNeedDrain===!0?f.flowing&&K():f.flowing||(E("pipe resume"),i.resume()),U};function ge(U,a){return function(){let i=U._readableState;i.awaitDrainWriters===a?(E("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(E("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(a)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&U.listenerCount("data")&&U.resume()}}W.prototype.unpipe=function(U){let a=this._readableState,i={hasUnpiped:!1};if(a.pipes.length===0)return this;if(!U){let Z=a.pipes;a.pipes=[],this.pause();for(let V=0;V<Z.length;V++)Z[V].emit("unpipe",this,{hasUnpiped:!1});return this}let f=N(a.pipes,U);return f===-1?this:(a.pipes.splice(f,1),a.pipes.length===0&&this.pause(),U.emit("unpipe",this,i),this)},W.prototype.on=function(U,a){let i=q.prototype.on.call(this,U,a),f=this._readableState;return U==="data"?(f.readableListening=this.listenerCount("readable")>0,f.flowing!==!1&&this.resume()):U==="readable"&&!f.endEmitted&&!f.readableListening&&(f.readableListening=f.needReadable=!0,f.flowing=!1,f.emittedReadable=!1,E("on readable",f.length,f.reading),f.length?ie(this):f.reading||r.nextTick(w,this)),i},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(U,a){let i=q.prototype.removeListener.call(this,U,a);return U==="readable"&&r.nextTick(H,this),i},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(U){let a=q.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&r.nextTick(H,this),a};function H(U){let a=U._readableState;a.readableListening=U.listenerCount("readable")>0,a.resumeScheduled&&a[t]===!1?a.flowing=!0:U.listenerCount("data")>0?U.resume():a.readableListening||(a.flowing=null)}function w(U){E("readable nexttick read 0"),U.read(0)}W.prototype.resume=function(){let U=this._readableState;return U.flowing||(E("resume"),U.flowing=!U.readableListening,B(this,U)),U[t]=!1,this};function B(U,a){a.resumeScheduled||(a.resumeScheduled=!0,r.nextTick(Te,U,a))}function Te(U,a){E("resume",a.reading),a.reading||U.read(0),a.resumeScheduled=!1,U.emit("resume"),Le(U),a.flowing&&!a.reading&&U.read(0)}W.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[t]=!0,this};function Le(U){let a=U._readableState;for(E("flow",a.flowing);a.flowing&&U.read()!==null;);}W.prototype.wrap=function(U){let a=!1;U.on("data",(f)=>{!this.push(f)&&U.pause&&(a=!0,U.pause())}),U.on("end",()=>{this.push(null)}),U.on("error",(f)=>{o(this,f)}),U.on("close",()=>{this.destroy()}),U.on("destroy",()=>{this.destroy()}),this._read=()=>{a&&U.resume&&(a=!1,U.resume())};let i=L(U);for(let f=1;f<i.length;f++){let Z=i[f];this[Z]===void 0&&typeof U[Z]=="function"&&(this[Z]=U[Z].bind(U))}return this},W.prototype[$]=function(){return Ve(this)},W.prototype.iterator=function(U){return U!==void 0&&s(U,"options"),Ve(this,U)};function Ve(U,a){typeof U.read!="function"&&(U=W.wrap(U,{objectMode:!0}));let i=Pe(U,a);return i.stream=U,i}async function*Pe(U,a){let i=d;function f(g){this===U?(i(),i=d):i=g}U.on("readable",f);let Z,V=S(U,{writable:!1},(g)=>{Z=g?qe(Z,g):null,i(),i=d});try{for(;;){let g=U.destroyed?null:U.read();if(g!==null)yield g;else{if(Z)throw Z;if(Z===null)return;await new R(f)}}}catch(g){throw Z=qe(Z,g),Z}finally{(Z||a?.destroyOnReturn!==!1)&&(Z===void 0||U._readableState.autoDestroy)?C.destroyer(U,null):(U.off("readable",f),V())}}_(W.prototype,{readable:{__proto__:null,get(){let U=this._readableState;return!!U&&U.readable!==!1&&!U.destroyed&&!U.errorEmitted&&!U.endEmitted},set(U){this._readableState&&(this._readableState.readable=!!U)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(U){!this._readableState||(this._readableState.destroyed=U)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),_(b.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[t]!==!1},set(U){this[t]=!!U}}}),W._fromList=We;function We(U,a){if(a.length===0)return null;let i;return a.objectMode?i=a.buffer.shift():!U||U>=a.length?(a.decoder?i=a.buffer.join(""):a.buffer.length===1?i=a.buffer.first():i=a.buffer.concat(a.length),a.buffer.clear()):i=a.buffer.consume(U,a.decoder),i}function Ie(U){let a=U._readableState;E("endReadable",a.endEmitted),a.endEmitted||(a.ended=!0,r.nextTick(Qe,a,U))}function Qe(U,a){if(E("endReadableNT",U.endEmitted,U.length),!U.errored&&!U.closeEmitted&&!U.endEmitted&&U.length===0){if(U.endEmitted=!0,a.emit("end"),a.writable&&a.allowHalfOpen===!1)r.nextTick(Je,a);else if(U.autoDestroy){let i=a._writableState;(!i||i.autoDestroy&&(i.finished||i.writable===!1))&&a.destroy()}}}function Je(U){U.writable&&!U.writableEnded&&!U.destroyed&&U.end()}W.from=function(U,a){return k(W,U,a)};var Se;function bo(){return Se===void 0&&(Se={}),Se}W.fromWeb=function(U,a){return bo().newStreamReadableFromReadableStream(U,a)},W.toWeb=function(U,a){return bo().newReadableStreamFromStreamReadable(U,a)},W.wrap=function(U,a){var i,f;return new W({objectMode:(i=(f=U.readableObjectMode)!==null&&f!==void 0?f:U.objectMode)!==null&&i!==void 0?i:!0,...a,destroy(Z,V){C.destroyer(U,Z),V(Z)}}).wrap(U)}}),Dl=je((l,m)=>{var r=(Va(),Qo(ra)),{ArrayPrototypeSlice:N,Error:p,FunctionPrototypeSymbolHasInstance:x,ObjectDefineProperty:u,ObjectDefineProperties:_,ObjectSetPrototypeOf:L,StringPrototypeToLowerCase:y,Symbol:R,SymbolHasInstance:v}=Lo();m.exports=h,h.WritableState=s;var{EventEmitter:$}=$a(),M=js().Stream,{Buffer:T}=Xo(),q=Aa(),{addAbortSignal:X}=Fs(),{getHighWaterMark:j,getDefaultHighWaterMark:I}=Is(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:D,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:ce,ERR_STREAM_ALREADY_FINISHED:be,ERR_STREAM_NULL_VALUES:qe,ERR_STREAM_WRITE_AFTER_END:ue,ERR_UNKNOWN_ENCODING:$e}=wo().codes,{errorOrDestroy:e}=q;L(h.prototype,M.prototype),L(h,M);function n(){}var c=R("kOnFinished");function s(w,B,Te){typeof Te!="boolean"&&(Te=B instanceof ia()),this.objectMode=!!(w&&w.objectMode),Te&&(this.objectMode=this.objectMode||!!(w&&w.writableObjectMode)),this.highWaterMark=w?j(this,w,"writableHighWaterMark",Te):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let Le=!!(w&&w.decodeStrings===!1);this.decodeStrings=!Le,this.defaultEncoding=w&&w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=W.bind(void 0,B),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,t(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!w||w.emitClose!==!1,this.autoDestroy=!w||w.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[c]=[]}function t(w){w.buffered=[],w.bufferedIndex=0,w.allBuffers=!0,w.allNoop=!0}s.prototype.getBuffer=function(){return N(this.buffered,this.bufferedIndex)},u(s.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function h(w){let B=this instanceof ia();if(!B&&!x(h,this))return new h(w);this._writableState=new s(w,this,B),w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final),typeof w.construct=="function"&&(this._construct=w.construct),w.signal&&X(w.signal,this)),M.call(this,w),q.construct(this,()=>{let Te=this._writableState;Te.writing||Ne(this,Te),he(this,Te)})}u(h,v,{__proto__:null,value:function(w){return x(this,w)?!0:this!==h?!1:w&&w._writableState instanceof s}}),h.prototype.pipe=function(){e(this,new C)};function k(w,B,Te,Le){let Ve=w._writableState;if(typeof Te=="function")Le=Te,Te=Ve.defaultEncoding;else{if(!Te)Te=Ve.defaultEncoding;else if(Te!=="buffer"&&!T.isEncoding(Te))throw new $e(Te);typeof Le!="function"&&(Le=n)}if(B===null)throw new qe;if(!Ve.objectMode)if(typeof B=="string")Ve.decodeStrings!==!1&&(B=T.from(B,Te),Te="buffer");else if(B instanceof T)Te="buffer";else if(M._isUint8Array(B))B=M._uint8ArrayToBuffer(B),Te="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],B);let Pe;return Ve.ending?Pe=new ue:Ve.destroyed&&(Pe=new ce("write")),Pe?(r.nextTick(Le,Pe),e(w,Pe,!0),Pe):(Ve.pendingcb++,d(w,Ve,B,Te,Le))}h.prototype.write=function(w,B,Te){return k(this,w,B,Te)===!0},h.prototype.cork=function(){this._writableState.corked++},h.prototype.uncork=function(){let w=this._writableState;w.corked&&(w.corked--,w.writing||Ne(this,w))},h.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=y(w)),!T.isEncoding(w))throw new $e(w);return this._writableState.defaultEncoding=w,this};function d(w,B,Te,Le,Ve){let Pe=B.objectMode?1:Te.length;B.length+=Pe;let We=B.length<B.highWaterMark;return We||(B.needDrain=!0),B.writing||B.corked||B.errored||!B.constructed?(B.buffered.push({chunk:Te,encoding:Le,callback:Ve}),B.allBuffers&&Le!=="buffer"&&(B.allBuffers=!1),B.allNoop&&Ve!==n&&(B.allNoop=!1)):(B.writelen=Pe,B.writecb=Ve,B.writing=!0,B.sync=!0,w._write(Te,Le,B.onwrite),B.sync=!1),We&&!B.errored&&!B.destroyed}function o(w,B,Te,Le,Ve,Pe,We){B.writelen=Le,B.writecb=We,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new ce("write")):Te?w._writev(Ve,B.onwrite):w._write(Ve,Pe,B.onwrite),B.sync=!1}function b(w,B,Te,Le){--B.pendingcb,Le(Te),pe(B),e(w,Te)}function W(w,B){let Te=w._writableState,Le=Te.sync,Ve=Te.writecb;if(typeof Ve!="function"){e(w,new D);return}Te.writing=!1,Te.writecb=null,Te.length-=Te.writelen,Te.writelen=0,B?(B.stack,Te.errored||(Te.errored=B),w._readableState&&!w._readableState.errored&&(w._readableState.errored=B),Le?r.nextTick(b,w,Te,B,Ve):b(w,Te,B,Ve)):(Te.buffered.length>Te.bufferedIndex&&Ne(w,Te),Le?Te.afterWriteTickInfo!==null&&Te.afterWriteTickInfo.cb===Ve?Te.afterWriteTickInfo.count++:(Te.afterWriteTickInfo={count:1,cb:Ve,stream:w,state:Te},r.nextTick(O,Te.afterWriteTickInfo)):P(w,Te,1,Ve))}function O({stream:w,state:B,count:Te,cb:Le}){return B.afterWriteTickInfo=null,P(w,B,Te,Le)}function P(w,B,Te,Le){for(!B.ending&&!w.destroyed&&B.length===0&&B.needDrain&&(B.needDrain=!1,w.emit("drain"));Te-- >0;)B.pendingcb--,Le();B.destroyed&&pe(B),he(w,B)}function pe(w){if(w.writing)return;for(let Ve=w.bufferedIndex;Ve<w.buffered.length;++Ve){var B;let{chunk:Pe,callback:We}=w.buffered[Ve],Ie=w.objectMode?1:Pe.length;w.length-=Ie,We((B=w.errored)!==null&&B!==void 0?B:new ce("write"))}let Te=w[c].splice(0);for(let Ve=0;Ve<Te.length;Ve++){var Le;Te[Ve]((Le=w.errored)!==null&&Le!==void 0?Le:new ce("end"))}t(w)}function Ne(w,B){if(B.corked||B.bufferProcessing||B.destroyed||!B.constructed)return;let{buffered:Te,bufferedIndex:Le,objectMode:Ve}=B,Pe=Te.length-Le;if(!Pe)return;let We=Le;if(B.bufferProcessing=!0,Pe>1&&w._writev){B.pendingcb-=Pe-1;let Ie=B.allNoop?n:(Je)=>{for(let Se=We;Se<Te.length;++Se)Te[Se].callback(Je)},Qe=B.allNoop&&We===0?Te:N(Te,We);Qe.allBuffers=B.allBuffers,o(w,B,!0,B.length,Qe,"",Ie),t(B)}else{do{let{chunk:Ie,encoding:Qe,callback:Je}=Te[We];Te[We++]=null;let Se=Ve?1:Ie.length;o(w,B,!1,Se,Ie,Qe,Je)}while(We<Te.length&&!B.writing);We===Te.length?t(B):We>256?(Te.splice(0,We),B.bufferedIndex=0):B.bufferedIndex=We}B.bufferProcessing=!1}h.prototype._write=function(w,B,Te){if(this._writev)this._writev([{chunk:w,encoding:B}],Te);else throw new E("_write()")},h.prototype._writev=null,h.prototype.end=function(w,B,Te){let Le=this._writableState;typeof w=="function"?(Te=w,w=null,B=null):typeof B=="function"&&(Te=B,B=null);let Ve;if(w!=null){let Pe=k(this,w,B);Pe instanceof p&&(Ve=Pe)}return Le.corked&&(Le.corked=1,this.uncork()),Ve||(!Le.errored&&!Le.ending?(Le.ending=!0,he(this,Le,!0),Le.ended=!0):Le.finished?Ve=new be("end"):Le.destroyed&&(Ve=new ce("end"))),typeof Te=="function"&&(Ve||Le.finished?r.nextTick(Te,Ve):Le[c].push(Te)),this};function xe(w){return w.ending&&!w.destroyed&&w.constructed&&w.length===0&&!w.errored&&w.buffered.length===0&&!w.finished&&!w.writing&&!w.errorEmitted&&!w.closeEmitted}function te(w,B){let Te=!1;function Le(Ve){if(Te){e(w,Ve??D());return}if(Te=!0,B.pendingcb--,Ve){let Pe=B[c].splice(0);for(let We=0;We<Pe.length;We++)Pe[We](Ve);e(w,Ve,B.sync)}else xe(B)&&(B.prefinished=!0,w.emit("prefinish"),B.pendingcb++,r.nextTick(Fe,w,B))}B.sync=!0,B.pendingcb++;try{w._final(Le)}catch(Ve){Le(Ve)}B.sync=!1}function ie(w,B){!B.prefinished&&!B.finalCalled&&(typeof w._final=="function"&&!B.destroyed?(B.finalCalled=!0,te(w,B)):(B.prefinished=!0,w.emit("prefinish")))}function he(w,B,Te){xe(B)&&(ie(w,B),B.pendingcb===0&&(Te?(B.pendingcb++,r.nextTick((Le,Ve)=>{xe(Ve)?Fe(Le,Ve):Ve.pendingcb--},w,B)):xe(B)&&(B.pendingcb++,Fe(w,B))))}function Fe(w,B){B.pendingcb--,B.finished=!0;let Te=B[c].splice(0);for(let Le=0;Le<Te.length;Le++)Te[Le]();if(w.emit("finish"),B.autoDestroy){let Le=w._readableState;(!Le||Le.autoDestroy&&(Le.endEmitted||Le.readable===!1))&&w.destroy()}}_(h.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(w){this._writableState&&(this._writableState.destroyed=w)}},writable:{__proto__:null,get(){let w=this._writableState;return!!w&&w.writable!==!1&&!w.destroyed&&!w.errored&&!w.ending&&!w.ended},set(w){this._writableState&&(this._writableState.writable=!!w)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let w=this._writableState;return w?!w.destroyed&&!w.ending&&w.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Re=q.destroy;h.prototype.destroy=function(w,B){let Te=this._writableState;return!Te.destroyed&&(Te.bufferedIndex<Te.buffered.length||Te[c].length)&&r.nextTick(pe,Te),Re.call(this,w,B),this},h.prototype._undestroy=q.undestroy,h.prototype._destroy=function(w,B){B(w)},h.prototype[$.captureRejectionSymbol]=function(w){this.destroy(w)};var ge;function H(){return ge===void 0&&(ge={}),ge}h.fromWeb=function(w,B){return H().newStreamWritableFromWritableStream(w,B)},h.toWeb=function(w){return H().newWritableStreamFromStreamWritable(w)}}),kc=je((l,m)=>{var r=(Va(),Qo(ra)),N=Xo(),{isReadable:p,isWritable:x,isIterable:u,isNodeStream:_,isReadableNodeStream:L,isWritableNodeStream:y,isDuplexNodeStream:R}=Ma(),v=La(),{AbortError:$,codes:{ERR_INVALID_ARG_TYPE:M,ERR_INVALID_RETURN_VALUE:T}}=wo(),{destroyer:q}=Aa(),X=ia(),j=Gn(),{createDeferredPromise:I}=la(),S=Yl(),E=globalThis.Blob||N.Blob,D=typeof E<"u"?function($e){return $e instanceof E}:function($e){return!1},C=globalThis.AbortController||ws().AbortController,{FunctionPrototypeCall:ce}=Lo(),be=class extends X{constructor($e){super($e),$e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),$e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};m.exports=function $e(e,n){if(R(e))return e;if(L(e))return ue({readable:e});if(y(e))return ue({writable:e});if(_(e))return ue({writable:!1,readable:!1});if(typeof e=="function"){let{value:s,write:t,final:h,destroy:k}=qe(e);if(u(s))return S(be,s,{objectMode:!0,write:t,final:h,destroy:k});let d=s?.then;if(typeof d=="function"){let o,b=ce(d,s,(W)=>{if(W!=null)throw new T("nully","body",W)},(W)=>{q(o,W)});return o=new be({objectMode:!0,readable:!1,write:t,final(W){h(async()=>{try{await b,r.nextTick(W,null)}catch(O){r.nextTick(W,O)}})},destroy:k})}throw new T("Iterable, AsyncIterable or AsyncFunction",n,s)}if(D(e))return $e(e.arrayBuffer());if(u(e))return S(be,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let s=e!=null&&e.readable?L(e?.readable)?e?.readable:$e(e.readable):void 0,t=e!=null&&e.writable?y(e?.writable)?e?.writable:$e(e.writable):void 0;return ue({readable:s,writable:t})}let c=e?.then;if(typeof c=="function"){let s;return ce(c,e,(t)=>{t!=null&&s.push(t),s.push(null)},(t)=>{q(s,t)}),s=new be({objectMode:!0,writable:!1,read(){}})}throw new M(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function qe($e){let{promise:e,resolve:n}=I(),c=new C,s=c.signal;return{value:$e(async function*(){for(;;){let t=e;e=null;let{chunk:h,done:k,cb:d}=await t;if(r.nextTick(d),k)return;if(s.aborted)throw new $(void 0,{cause:s.reason});({promise:e,resolve:n}=I()),yield h}}(),{signal:s}),write(t,h,k){let d=n;n=null,d({chunk:t,done:!1,cb:k})},final(t){let h=n;n=null,h({done:!0,cb:t})},destroy(t,h){c.abort(),h(t)}}}function ue($e){let e=$e.readable&&typeof $e.readable.read!="function"?j.wrap($e.readable):$e.readable,n=$e.writable,c=!!p(e),s=!!x(n),t,h,k,d,o;function b(W){let O=d;d=null,O?O(W):W?o.destroy(W):!c&&!s&&o.destroy()}return o=new be({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(n!=null&&n.writableObjectMode),readable:c,writable:s}),s&&(v(n,(W)=>{s=!1,W&&q(e,W),b(W)}),o._write=function(W,O,P){n.write(W,O)?P():t=P},o._final=function(W){n.end(),h=W},n.on("drain",function(){if(t){let W=t;t=null,W()}}),n.on("finish",function(){if(h){let W=h;h=null,W()}})),c&&(v(e,(W)=>{c=!1,W&&q(e,W),b(W)}),e.on("readable",function(){if(k){let W=k;k=null,W()}}),e.on("end",function(){o.push(null)}),o._read=function(){for(;;){let W=e.read();if(W===null){k=o._read;return}if(!o.push(W))return}}),o._destroy=function(W,O){!W&&d!==null&&(W=new $),k=null,t=null,h=null,d===null?O(W):(d=O,q(n,W),q(e,W))},o}}),ia=je((l,m)=>{var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:N,ObjectKeys:p,ObjectSetPrototypeOf:x}=Lo();m.exports=L;var u=Gn(),_=Dl();x(L.prototype,u.prototype),x(L,u);{let $=p(_.prototype);for(let M=0;M<$.length;M++){let T=$[M];L.prototype[T]||(L.prototype[T]=_.prototype[T])}}function L($){if(!(this instanceof L))return new L($);u.call(this,$),_.call(this,$),$?(this.allowHalfOpen=$.allowHalfOpen!==!1,$.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),$.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(L.prototype,{writable:{__proto__:null,...N(_.prototype,"writable")},writableHighWaterMark:{__proto__:null,...N(_.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...N(_.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...N(_.prototype,"writableBuffer")},writableLength:{__proto__:null,...N(_.prototype,"writableLength")},writableFinished:{__proto__:null,...N(_.prototype,"writableFinished")},writableCorked:{__proto__:null,...N(_.prototype,"writableCorked")},writableEnded:{__proto__:null,...N(_.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...N(_.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set($){this._readableState&&this._writableState&&(this._readableState.destroyed=$,this._writableState.destroyed=$)}}});var y;function R(){return y===void 0&&(y={}),y}L.fromWeb=function($,M){return R().newStreamDuplexFromReadableWritablePair($,M)},L.toWeb=function($){return R().newReadableWritablePairFromDuplex($)};var v;L.from=function($){return v||(v=kc()),v($,"body")}}),Ql=je((l,m)=>{var{ObjectSetPrototypeOf:r,Symbol:N}=Lo();m.exports=L;var{ERR_METHOD_NOT_IMPLEMENTED:p}=wo().codes,x=ia(),{getHighWaterMark:u}=Is();r(L.prototype,x.prototype),r(L,x);var _=N("kCallback");function L(v){if(!(this instanceof L))return new L(v);let $=v?u(this,v,"readableHighWaterMark",!0):null;$===0&&(v={...v,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:v.writableHighWaterMark||0}),x.call(this,v),this._readableState.sync=!1,this[_]=null,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",R)}function y(v){typeof this._flush=="function"&&!this.destroyed?this._flush(($,M)=>{if($){v?v($):this.destroy($);return}M!=null&&this.push(M),this.push(null),v&&v()}):(this.push(null),v&&v())}function R(){this._final!==y&&y.call(this)}L.prototype._final=y,L.prototype._transform=function(v,$,M){throw new p("_transform()")},L.prototype._write=function(v,$,M){let T=this._readableState,q=this._writableState,X=T.length;this._transform(v,$,(j,I)=>{if(j){M(j);return}I!=null&&this.push(I),q.ended||X===T.length||T.length<T.highWaterMark?M():this[_]=M})},L.prototype._read=function(){if(this[_]){let v=this[_];this[_]=null,v()}}}),Cl=je((l,m)=>{var{ObjectSetPrototypeOf:r}=Lo();m.exports=p;var N=Ql();r(p.prototype,N.prototype),r(p,N);function p(x){if(!(this instanceof p))return new p(x);N.call(this,x)}p.prototype._transform=function(x,u,_){_(null,x)}}),Js=je((l,m)=>{var r=(Va(),Qo(ra)),{ArrayIsArray:N,Promise:p,SymbolAsyncIterator:x}=Lo(),u=La(),{once:_}=la(),L=Aa(),y=ia(),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:$,ERR_MISSING_ARGS:M,ERR_STREAM_DESTROYED:T,ERR_STREAM_PREMATURE_CLOSE:q},AbortError:X}=wo(),{validateFunction:j,validateAbortSignal:I}=Hn(),{isIterable:S,isReadable:E,isReadableNodeStream:D,isNodeStream:C}=Ma(),ce=globalThis.AbortController||ws().AbortController,be,qe;function ue(k,d,o){let b=!1;k.on("close",()=>{b=!0});let W=u(k,{readable:d,writable:o},(O)=>{b=!O});return{destroy:(O)=>{b||(b=!0,L.destroyer(k,O||new T("pipe")))},cleanup:W}}function $e(k){return j(k[k.length-1],"streams[stream.length - 1]"),k.pop()}function e(k){if(S(k))return k;if(D(k))return n(k);throw new v("val",["Readable","Iterable","AsyncIterable"],k)}async function*n(k){qe||(qe=Gn()),yield*qe.prototype[x].call(k)}async function c(k,d,o,{end:b}){let W,O=null,P=(xe)=>{if(xe&&(W=xe),O){let te=O;O=null,te()}},pe=()=>new p((xe,te)=>{W?te(W):O=()=>{W?te(W):xe()}});d.on("drain",P);let Ne=u(d,{readable:!1},P);try{d.writableNeedDrain&&await pe();for await(let xe of k)d.write(xe)||await pe();b&&d.end(),await pe(),o()}catch(xe){o(W!==xe?R(W,xe):xe)}finally{Ne(),d.off("drain",P)}}function s(...k){return t(k,_($e(k)))}function t(k,d,o){if(k.length===1&&N(k[0])&&(k=k[0]),k.length<2)throw new M("streams");let b=new ce,W=b.signal,O=o?.signal,P=[];I(O,"options.signal");function pe(){Fe(new X)}O?.addEventListener("abort",pe);let Ne,xe,te=[],ie=0;function he(w){Fe(w,--ie===0)}function Fe(w,B){if(w&&(!Ne||Ne.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Ne=w),!(!Ne&&!B)){for(;te.length;)te.shift()(Ne);O?.removeEventListener("abort",pe),b.abort(),B&&(Ne||P.forEach((Te)=>Te()),r.nextTick(d,Ne,xe))}}let Re;for(let w=0;w<k.length;w++){let B=k[w],Te=w<k.length-1,Le=w>0,Ve=Te||o?.end!==!1,Pe=w===k.length-1;if(C(B)){let We=function(Ie){Ie&&Ie.name!=="AbortError"&&Ie.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(Ie)};var ge=We;if(Ve){let{destroy:Ie,cleanup:Qe}=ue(B,Te,Le);te.push(Ie),E(B)&&Pe&&P.push(Qe)}B.on("error",We),E(B)&&Pe&&P.push(()=>{B.removeListener("error",We)})}if(w===0)if(typeof B=="function"){if(Re=B({signal:W}),!S(Re))throw new $("Iterable, AsyncIterable or Stream","source",Re)}else S(B)||D(B)?Re=B:Re=y.from(B);else if(typeof B=="function")if(Re=e(Re),Re=B(Re,{signal:W}),Te){if(!S(Re,!0))throw new $("AsyncIterable",`transform[${w-1}]`,Re)}else{var H;be||(be=Cl());let We=new be({objectMode:!0}),Ie=(H=Re)===null||H===void 0?void 0:H.then;if(typeof Ie=="function")ie++,Ie.call(Re,(Se)=>{xe=Se,Se!=null&&We.write(Se),Ve&&We.end(),r.nextTick(he)},(Se)=>{We.destroy(Se),r.nextTick(he,Se)});else if(S(Re,!0))ie++,c(Re,We,he,{end:Ve});else throw new $("AsyncIterable or Promise","destination",Re);Re=We;let{destroy:Qe,cleanup:Je}=ue(Re,!1,!0);te.push(Qe),Pe&&P.push(Je)}else if(C(B)){if(D(Re)){ie+=2;let We=h(Re,B,he,{end:Ve});E(B)&&Pe&&P.push(We)}else if(S(Re))ie++,c(Re,B,he,{end:Ve});else throw new v("val",["Readable","Iterable","AsyncIterable"],Re);Re=B}else Re=y.from(B)}return(W!=null&&W.aborted||O!=null&&O.aborted)&&r.nextTick(pe),Re}function h(k,d,o,{end:b}){let W=!1;return d.on("close",()=>{W||o(new q)}),k.pipe(d,{end:b}),b?k.once("end",()=>{W=!0,d.end()}):o(),u(k,{readable:!0,writable:!1},(O)=>{let P=k._readableState;O&&O.code==="ERR_STREAM_PREMATURE_CLOSE"&&P&&P.ended&&!P.errored&&!P.errorEmitted?k.once("end",o).once("error",o):o(O)}),u(d,{readable:!1,writable:!0},o)}m.exports={pipelineImpl:t,pipeline:s}}),Nc=je((l,m)=>{var{pipeline:r}=Js(),N=ia(),{destroyer:p}=Aa(),{isNodeStream:x,isReadable:u,isWritable:_}=Ma(),{AbortError:L,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:R}}=wo();m.exports=function(...v){if(v.length===0)throw new R("streams");if(v.length===1)return N.from(v[0]);let $=[...v];if(typeof v[0]=="function"&&(v[0]=N.from(v[0])),typeof v[v.length-1]=="function"){let ce=v.length-1;v[ce]=N.from(v[ce])}for(let ce=0;ce<v.length;++ce)if(x(v[ce])){if(ce<v.length-1&&!u(v[ce]))throw new y(`streams[${ce}]`,$[ce],"must be readable");if(ce>0&&!_(v[ce]))throw new y(`streams[${ce}]`,$[ce],"must be writable")}let M,T,q,X,j;function I(ce){let be=X;X=null,be?be(ce):ce?j.destroy(ce):!C&&!D&&j.destroy()}let S=v[0],E=r(v,I),D=!!_(S),C=!!u(E);return j=new N({writableObjectMode:!!(S!=null&&S.writableObjectMode),readableObjectMode:!!(E!=null&&E.writableObjectMode),writable:D,readable:C}),D&&(j._write=function(ce,be,qe){S.write(ce,be)?qe():M=qe},j._final=function(ce){S.end(),T=ce},S.on("drain",function(){if(M){let ce=M;M=null,ce()}}),E.on("finish",function(){if(T){let ce=T;T=null,ce()}})),C&&(E.on("readable",function(){if(q){let ce=q;q=null,ce()}}),E.on("end",function(){j.push(null)}),j._read=function(){for(;;){let ce=E.read();if(ce===null){q=j._read;return}if(!j.push(ce))return}}),j._destroy=function(ce,be){!ce&&X!==null&&(ce=new L),q=null,M=null,T=null,X===null?be(ce):(X=be,p(E,ce))},j}}),Bl=je((l,m)=>{var{ArrayPrototypePop:r,Promise:N}=Lo(),{isIterable:p,isNodeStream:x}=Ma(),{pipelineImpl:u}=Js(),{finished:_}=La();function L(...y){return new N((R,v)=>{let $,M,T=y[y.length-1];if(T&&typeof T=="object"&&!x(T)&&!p(T)){let q=r(y);$=q.signal,M=q.end}u(y,(q,X)=>{q?v(q):R(X)},{signal:$,end:M})})}m.exports={finished:_,pipeline:L}}),Zc=je((l,m)=>{var{Buffer:r}=Xo(),{ObjectDefineProperty:N,ObjectKeys:p,ReflectApply:x}=Lo(),{promisify:{custom:u}}=la(),{streamReturningOperators:_,promiseReturningOperators:L}=hc(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:y}}=wo(),R=Nc(),{pipeline:v}=Js(),{destroyer:$}=Aa(),M=La(),T=Bl(),q=Ma(),X=m.exports=js().Stream;X.isDisturbed=q.isDisturbed,X.isErrored=q.isErrored,X.isReadable=q.isReadable,X.Readable=Gn();for(let S of p(_)){let E=function(...C){if(new.target)throw y();return X.Readable.from(x(D,this,C))};j=E;let D=_[S];N(E,"name",{__proto__:null,value:D.name}),N(E,"length",{__proto__:null,value:D.length}),N(X.Readable.prototype,S,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}var j;for(let S of p(L)){let E=function(...C){if(new.target)throw y();return x(D,this,C)};j=E;let D=L[S];N(E,"name",{__proto__:null,value:D.name}),N(E,"length",{__proto__:null,value:D.length}),N(X.Readable.prototype,S,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}var j;X.Writable=Dl(),X.Duplex=ia(),X.Transform=Ql(),X.PassThrough=Cl(),X.pipeline=v;var{addAbortSignal:I}=Fs();X.addAbortSignal=I,X.finished=M,X.destroy=$,X.compose=R,N(X,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),N(v,u,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),N(M,u,{__proto__:null,enumerable:!0,get(){return T.finished}}),X.Stream=X,X._isUint8Array=function(S){return S instanceof Uint8Array},X._uint8ArrayToBuffer=function(S){return r.from(S.buffer,S.byteOffset,S.byteLength)}}),Al=je((l,m)=>{var r=Zc(),N=Bl(),p=r.Readable.destroy;m.exports=r.Readable,m.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,m.exports._isUint8Array=r._isUint8Array,m.exports.isDisturbed=r.isDisturbed,m.exports.isErrored=r.isErrored,m.exports.isReadable=r.isReadable,m.exports.Readable=r.Readable,m.exports.Writable=r.Writable,m.exports.Duplex=r.Duplex,m.exports.Transform=r.Transform,m.exports.PassThrough=r.PassThrough,m.exports.addAbortSignal=r.addAbortSignal,m.exports.finished=r.finished,m.exports.destroy=r.destroy,m.exports.destroy=p,m.exports.pipeline=r.pipeline,m.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return N}}),m.exports.Stream=r.Stream,m.exports.default=m.exports}),Ks={},Us(Ks,{default:()=>vc}),yc=Xl(()=>{Sl(Ks,Ya(Al())),vc=Ya(Al())}),_a=je((l,m)=>{var r=ho().Buffer,N=(yc(),Qo(Ks)).Transform,p=Os().StringDecoder,x=mo();function u(_){N.call(this),this.hashMode=typeof _=="string",this.hashMode?this[_]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}x(u,N),u.prototype.update=function(_,L,y){typeof _=="string"&&(_=r.from(_,L));var R=this._update(_);return this.hashMode?this:(y&&(R=this._toString(R,y)),R)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(_,L,y){var R;try{this.hashMode?this._update(_):this.push(this._update(_))}catch(v){R=v}finally{y(R)}},u.prototype._flush=function(_){var L;try{this.push(this.__final())}catch(y){L=y}_(L)},u.prototype._finalOrDigest=function(_){var L=this.__final()||r.alloc(0);return _&&(L=this._toString(L,_,!0)),L},u.prototype._toString=function(_,L,y){if(this._decoder||(this._decoder=new p(L),this._encoding=L),this._encoding!==L)throw new Error("can't switch encodings");var R=this._decoder.write(_);return y&&(R+=this._decoder.end()),R},m.exports=u}),pn=je((l,m)=>{var r=mo(),N=Xs(),p=Ss(),x=Ws(),u=_a();function _(L){u.call(this,"digest"),this._hash=L}r(_,u),_.prototype._update=function(L){this._hash.update(L)},_.prototype._final=function(){return this._hash.digest()},m.exports=function(L){return L=L.toLowerCase(),L==="md5"?new N:L==="rmd160"||L==="ripemd160"?new p:new _(x(L))}}),Rc=je((l,m)=>{var r=mo(),N=ho().Buffer,p=_a(),x=N.alloc(128),u=64;function _(L,y){p.call(this,"digest"),typeof y=="string"&&(y=N.from(y)),this._alg=L,this._key=y,y.length>u?y=L(y):y.length<u&&(y=N.concat([y,x],u));for(var R=this._ipad=N.allocUnsafe(u),v=this._opad=N.allocUnsafe(u),$=0;$<u;$++)R[$]=y[$]^54,v[$]=y[$]^92;this._hash=[R]}r(_,p),_.prototype._update=function(L){this._hash.push(L)},_.prototype._final=function(){var L=this._alg(N.concat(this._hash));return this._alg(N.concat([this._opad,L]))},m.exports=_}),er=je((l,m)=>{var r=Xs();m.exports=function(N){return new r().update(N).digest()}}),or=je((l,m)=>{var r=mo(),N=Rc(),p=_a(),x=ho().Buffer,u=er(),_=Ss(),L=Ws(),y=x.alloc(128);function R(v,$){p.call(this,"digest"),typeof $=="string"&&($=x.from($));var M=v==="sha512"||v==="sha384"?128:64;if(this._alg=v,this._key=$,$.length>M){var T=v==="rmd160"?new _:L(v);$=T.update($).digest()}else $.length<M&&($=x.concat([$,y],M));for(var q=this._ipad=x.allocUnsafe(M),X=this._opad=x.allocUnsafe(M),j=0;j<M;j++)q[j]=$[j]^54,X[j]=$[j]^92;this._hash=v==="rmd160"?new _:L(v),this._hash.update(q)}r(R,p),R.prototype._update=function(v){this._hash.update(v)},R.prototype._final=function(){var v=this._hash.digest(),$=this._alg==="rmd160"?new _:L(this._alg);return $.update(this._opad).update(v).digest()},m.exports=function(v,$){return v=v.toLowerCase(),v==="rmd160"||v==="ripemd160"?new R("rmd160",$):v==="md5"?new N(u,$):new R(v,$)}}),ar=je((l,m)=>{m.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),xc=je((l,m)=>{m.exports=ar()}),nr=je((l,m)=>{var r=Math.pow(2,30)-1;m.exports=function(N,p){if(typeof N!="number")throw new TypeError("Iterations not a number");if(N<0)throw new TypeError("Bad iterations");if(typeof p!="number")throw new TypeError("Key length not a number");if(p<0||p>r||p!==p)throw new TypeError("Bad key length")}}),sr=je((l,m)=>{var r;global.process&&global.process.browser?r="utf-8":global.process&&global.process.version?(N=parseInt(process.version.split(".")[0].slice(1),10),r=N>=6?"utf-8":"binary"):r="utf-8";var N;m.exports=r}),lr=je((l,m)=>{var r=ho().Buffer;m.exports=function(N,p,x){if(r.isBuffer(N))return N;if(typeof N=="string")return r.from(N,p);if(ArrayBuffer.isView(N))return r.from(N.buffer);throw new TypeError(x+" must be a string, a Buffer, a typed array or a DataView")}}),rr=je((l,m)=>{var r=er(),N=Ss(),p=Ws(),x=ho().Buffer,u=nr(),_=sr(),L=lr(),y=x.alloc(128),R={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function v(T,q,X){var j=$(T),I=T==="sha512"||T==="sha384"?128:64;q.length>I?q=j(q):q.length<I&&(q=x.concat([q,y],I));for(var S=x.allocUnsafe(I+R[T]),E=x.allocUnsafe(I+R[T]),D=0;D<I;D++)S[D]=q[D]^54,E[D]=q[D]^92;var C=x.allocUnsafe(I+X+4);S.copy(C,0,0,I),this.ipad1=C,this.ipad2=S,this.opad=E,this.alg=T,this.blocksize=I,this.hash=j,this.size=R[T]}v.prototype.run=function(T,q){T.copy(q,this.blocksize);var X=this.hash(q);return X.copy(this.opad,this.blocksize),this.hash(this.opad)};function $(T){function q(j){return p(T).update(j).digest()}function X(j){return new N().update(j).digest()}return T==="rmd160"||T==="ripemd160"?X:T==="md5"?r:q}function M(T,q,X,j,I){u(X,j),T=L(T,_,"Password"),q=L(q,_,"Salt"),I=I||"sha1";var S=new v(I,T,q.length),E=x.allocUnsafe(j),D=x.allocUnsafe(q.length+4);q.copy(D,0,0,q.length);for(var C=0,ce=R[I],be=Math.ceil(j/ce),qe=1;qe<=be;qe++){D.writeUInt32BE(qe,q.length);for(var ue=S.run(D,S.ipad1),$e=ue,e=1;e<X;e++){$e=S.run($e,S.ipad2);for(var n=0;n<ce;n++)ue[n]^=$e[n]}ue.copy(E,C),C+=ce}return E}m.exports=M}),qc=je((l,m)=>{var r=ho().Buffer,N=nr(),p=sr(),x=rr(),u=lr(),_,L=global.crypto&&global.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},R=[];function v(X){if(global.process&&!global.process.browser||!L||!L.importKey||!L.deriveBits)return Promise.resolve(!1);if(R[X]!==void 0)return R[X];_=_||r.alloc(8);var j=T(_,_,10,128,X).then(function(){return!0}).catch(function(){return!1});return R[X]=j,j}var $;function M(){return $||(global.process&&global.process.nextTick?$=global.process.nextTick:global.queueMicrotask?$=global.queueMicrotask:global.setImmediate?$=global.setImmediate:$=global.setTimeout,$)}function T(X,j,I,S,E){return L.importKey("raw",X,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return L.deriveBits({name:"PBKDF2",salt:j,iterations:I,hash:{name:E}},D,S<<3)}).then(function(D){return r.from(D)})}function q(X,j){X.then(function(I){M()(function(){j(null,I)})},function(I){M()(function(){j(I)})})}m.exports=function(X,j,I,S,E,D){typeof E=="function"&&(D=E,E=void 0),E=E||"sha1";var C=y[E.toLowerCase()];if(!C||typeof global.Promise!="function"){M()(function(){var ce;try{ce=x(X,j,I,S,E)}catch(be){return D(be)}D(null,ce)});return}if(N(I,S),X=u(X,p,"Password"),j=u(j,p,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");q(v(C).then(function(ce){return ce?T(X,j,I,S,C):x(X,j,I,S,E)}),D)}}),ir=je((l)=>{l.pbkdf2=qc(),l.pbkdf2Sync=rr()}),cr=je((l)=>{l.readUInt32BE=function(p,x){var u=p[0+x]<<24|p[1+x]<<16|p[2+x]<<8|p[3+x];return u>>>0},l.writeUInt32BE=function(p,x,u){p[0+u]=x>>>24,p[1+u]=x>>>16&255,p[2+u]=x>>>8&255,p[3+u]=x&255},l.ip=function(p,x,u,_){for(var L=0,y=0,R=6;R>=0;R-=2){for(var v=0;v<=24;v+=8)L<<=1,L|=x>>>v+R&1;for(var v=0;v<=24;v+=8)L<<=1,L|=p>>>v+R&1}for(var R=6;R>=0;R-=2){for(var v=1;v<=25;v+=8)y<<=1,y|=x>>>v+R&1;for(var v=1;v<=25;v+=8)y<<=1,y|=p>>>v+R&1}u[_+0]=L>>>0,u[_+1]=y>>>0},l.rip=function(p,x,u,_){for(var L=0,y=0,R=0;R<4;R++)for(var v=24;v>=0;v-=8)L<<=1,L|=x>>>v+R&1,L<<=1,L|=p>>>v+R&1;for(var R=4;R<8;R++)for(var v=24;v>=0;v-=8)y<<=1,y|=x>>>v+R&1,y<<=1,y|=p>>>v+R&1;u[_+0]=L>>>0,u[_+1]=y>>>0},l.pc1=function(p,x,u,_){for(var L=0,y=0,R=7;R>=5;R--){for(var v=0;v<=24;v+=8)L<<=1,L|=x>>v+R&1;for(var v=0;v<=24;v+=8)L<<=1,L|=p>>v+R&1}for(var v=0;v<=24;v+=8)L<<=1,L|=x>>v+R&1;for(var R=1;R<=3;R++){for(var v=0;v<=24;v+=8)y<<=1,y|=x>>v+R&1;for(var v=0;v<=24;v+=8)y<<=1,y|=p>>v+R&1}for(var v=0;v<=24;v+=8)y<<=1,y|=p>>v+R&1;u[_+0]=L>>>0,u[_+1]=y>>>0},l.r28shl=function(p,x){return p<<x&268435455|p>>>28-x};var m=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(p,x,u,_){for(var L=0,y=0,R=m.length>>>1,v=0;v<R;v++)L<<=1,L|=p>>>m[v]&1;for(var v=R;v<m.length;v++)y<<=1,y|=x>>>m[v]&1;u[_+0]=L>>>0,u[_+1]=y>>>0},l.expand=function(p,x,u){var _=0,L=0;_=(p&1)<<5|p>>>27;for(var y=23;y>=15;y-=4)_<<=6,_|=p>>>y&63;for(var y=11;y>=3;y-=4)L|=p>>>y&63,L<<=6;L|=(p&31)<<1|p>>>31,x[u+0]=_>>>0,x[u+1]=L>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(p,x){for(var u=0,_=0;_<4;_++){var L=p>>>18-_*6&63,y=r[_*64+L];u<<=4,u|=y}for(var _=0;_<4;_++){var L=x>>>18-_*6&63,y=r[256+_*64+L];u<<=4,u|=y}return u>>>0};var N=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(p){for(var x=0,u=0;u<N.length;u++)x<<=1,x|=p>>>N[u]&1;return x>>>0},l.padSplit=function(p,x,u){for(var _=p.toString(2);_.length<x;)_="0"+_;for(var L=[],y=0;y<x;y+=u)L.push(_.slice(y,y+u));return L.join(" ")}}),Po=je((l,m)=>{m.exports=r;function r(N,p){if(!N)throw new Error(p||"Assertion failed")}r.equal=function(N,p,x){if(N!=p)throw new Error(x||"Assertion failed: "+N+" != "+p)}}),zs=je((l,m)=>{var r=Po();function N(p){this.options=p,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}m.exports=N,N.prototype._init=function(){},N.prototype.update=function(p){return p.length===0?[]:this.type==="decrypt"?this._updateDecrypt(p):this._updateEncrypt(p)},N.prototype._buffer=function(p,x){for(var u=Math.min(this.buffer.length-this.bufferOff,p.length-x),_=0;_<u;_++)this.buffer[this.bufferOff+_]=p[x+_];return this.bufferOff+=u,u},N.prototype._flushBuffer=function(p,x){return this._update(this.buffer,0,p,x),this.bufferOff=0,this.blockSize},N.prototype._updateEncrypt=function(p){var x=0,u=0,_=(this.bufferOff+p.length)/this.blockSize|0,L=new Array(_*this.blockSize);this.bufferOff!==0&&(x+=this._buffer(p,x),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(L,u)));for(var y=p.length-(p.length-x)%this.blockSize;x<y;x+=this.blockSize)this._update(p,x,L,u),u+=this.blockSize;for(;x<p.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=p[x];return L},N.prototype._updateDecrypt=function(p){for(var x=0,u=0,_=Math.ceil((this.bufferOff+p.length)/this.blockSize)-1,L=new Array(_*this.blockSize);_>0;_--)x+=this._buffer(p,x),u+=this._flushBuffer(L,u);return x+=this._buffer(p,x),L},N.prototype.final=function(p){var x;p&&(x=this.update(p));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),x?x.concat(u):u},N.prototype._pad=function(p,x){if(x===0)return!1;for(;x<p.length;)p[x++]=0;return!0},N.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var p=new Array(this.blockSize);return this._update(this.buffer,0,p,0),p},N.prototype._unpad=function(p){return p},N.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var p=new Array(this.blockSize);return this._flushBuffer(p,0),this._unpad(p)}}),ur=je((l,m)=>{var r=Po(),N=mo(),p=cr(),x=zs();function u(){this.tmp=new Array(2),this.keys=null}function _(y){x.call(this,y);var R=new u;this._desState=R,this.deriveKeys(R,y.key)}N(_,x),m.exports=_,_.create=function(y){return new _(y)};var L=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];_.prototype.deriveKeys=function(y,R){y.keys=new Array(32),r.equal(R.length,this.blockSize,"Invalid key length");var v=p.readUInt32BE(R,0),$=p.readUInt32BE(R,4);p.pc1(v,$,y.tmp,0),v=y.tmp[0],$=y.tmp[1];for(var M=0;M<y.keys.length;M+=2){var T=L[M>>>1];v=p.r28shl(v,T),$=p.r28shl($,T),p.pc2(v,$,y.keys,M)}},_.prototype._update=function(y,R,v,$){var M=this._desState,T=p.readUInt32BE(y,R),q=p.readUInt32BE(y,R+4);p.ip(T,q,M.tmp,0),T=M.tmp[0],q=M.tmp[1],this.type==="encrypt"?this._encrypt(M,T,q,M.tmp,0):this._decrypt(M,T,q,M.tmp,0),T=M.tmp[0],q=M.tmp[1],p.writeUInt32BE(v,T,$),p.writeUInt32BE(v,q,$+4)},_.prototype._pad=function(y,R){for(var v=y.length-R,$=R;$<y.length;$++)y[$]=v;return!0},_.prototype._unpad=function(y){for(var R=y[y.length-1],v=y.length-R;v<y.length;v++)r.equal(y[v],R);return y.slice(0,y.length-R)},_.prototype._encrypt=function(y,R,v,$,M){for(var T=R,q=v,X=0;X<y.keys.length;X+=2){var j=y.keys[X],I=y.keys[X+1];p.expand(q,y.tmp,0),j^=y.tmp[0],I^=y.tmp[1];var S=p.substitute(j,I),E=p.permute(S),D=q;q=(T^E)>>>0,T=D}p.rip(q,T,$,M)},_.prototype._decrypt=function(y,R,v,$,M){for(var T=v,q=R,X=y.keys.length-2;X>=0;X-=2){var j=y.keys[X],I=y.keys[X+1];p.expand(T,y.tmp,0),j^=y.tmp[0],I^=y.tmp[1];var S=p.substitute(j,I),E=p.permute(S),D=T;T=(q^E)>>>0,q=D}p.rip(T,q,$,M)}}),Tc=je((l)=>{var m=Po(),r=mo(),N={};function p(u){m.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var _=0;_<this.iv.length;_++)this.iv[_]=u[_]}function x(u){function _(v){u.call(this,v),this._cbcInit()}r(_,u);for(var L=Object.keys(N),y=0;y<L.length;y++){var R=L[y];_.prototype[R]=N[R]}return _.create=function(v){return new _(v)},_}l.instantiate=x,N._cbcInit=function(){var u=new p(this.options.iv);this._cbcState=u},N._update=function(u,_,L,y){var R=this._cbcState,v=this.constructor.super_.prototype,$=R.iv;if(this.type==="encrypt"){for(var M=0;M<this.blockSize;M++)$[M]^=u[_+M];v._update.call(this,$,0,L,y);for(var M=0;M<this.blockSize;M++)$[M]=L[y+M]}else{v._update.call(this,u,_,L,y);for(var M=0;M<this.blockSize;M++)L[y+M]^=$[M];for(var M=0;M<this.blockSize;M++)$[M]=u[_+M]}}}),$c=je((l,m)=>{var r=Po(),N=mo(),p=zs(),x=ur();function u(L,y){r.equal(y.length,24,"Invalid key length");var R=y.slice(0,8),v=y.slice(8,16),$=y.slice(16,24);L==="encrypt"?this.ciphers=[x.create({type:"encrypt",key:R}),x.create({type:"decrypt",key:v}),x.create({type:"encrypt",key:$})]:this.ciphers=[x.create({type:"decrypt",key:$}),x.create({type:"encrypt",key:v}),x.create({type:"decrypt",key:R})]}function _(L){p.call(this,L);var y=new u(this.type,this.options.key);this._edeState=y}N(_,p),m.exports=_,_.create=function(L){return new _(L)},_.prototype._update=function(L,y,R,v){var $=this._edeState;$.ciphers[0]._update(L,y,R,v),$.ciphers[1]._update(R,v,R,v),$.ciphers[2]._update(R,v,R,v)},_.prototype._pad=x.prototype._pad,_.prototype._unpad=x.prototype._unpad}),Vc=je((l)=>{l.utils=cr(),l.Cipher=zs(),l.DES=ur(),l.CBC=Tc(),l.EDE=$c()}),Mc=je((l,m)=>{var r=_a(),N=Vc(),p=mo(),x=ho().Buffer,u={"des-ede3-cbc":N.CBC.instantiate(N.EDE),"des-ede3":N.EDE,"des-ede-cbc":N.CBC.instantiate(N.EDE),"des-ede":N.EDE,"des-cbc":N.CBC.instantiate(N.DES),"des-ecb":N.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],m.exports=_,p(_,r);function _(L){r.call(this);var y=L.mode.toLowerCase(),R=u[y],v;L.decrypt?v="decrypt":v="encrypt";var $=L.key;x.isBuffer($)||($=x.from($)),(y==="des-ede"||y==="des-ede-cbc")&&($=x.concat([$,$.slice(0,8)]));var M=L.iv;x.isBuffer(M)||(M=x.from(M)),this._des=R.create({key:$,iv:M,type:v})}_.prototype._update=function(L){return x.from(this._des.update(L))},_.prototype._final=function(){return x.from(this._des.final())}}),Lc=je((l)=>{l.encrypt=function(m,r){return m._cipher.encryptBlock(r)},l.decrypt=function(m,r){return m._cipher.decryptBlock(r)}}),fn=je((l,m)=>{m.exports=function(r,N){for(var p=Math.min(r.length,N.length),x=new Buffer(p),u=0;u<p;++u)x[u]=r[u]^N[u];return x}}),Uc=je((l)=>{var m=fn();l.encrypt=function(r,N){var p=m(N,r._prev);return r._prev=r._cipher.encryptBlock(p),r._prev},l.decrypt=function(r,N){var p=r._prev;r._prev=N;var x=r._cipher.decryptBlock(N);return m(x,p)}}),Oc=je((l)=>{var m=ho().Buffer,r=fn();function N(p,x,u){var _=x.length,L=r(x,p._cache);return p._cache=p._cache.slice(_),p._prev=m.concat([p._prev,u?x:L]),L}l.encrypt=function(p,x,u){for(var _=m.allocUnsafe(0),L;x.length;)if(p._cache.length===0&&(p._cache=p._cipher.encryptBlock(p._prev),p._prev=m.allocUnsafe(0)),p._cache.length<=x.length)L=p._cache.length,_=m.concat([_,N(p,x.slice(0,L),u)]),x=x.slice(L);else{_=m.concat([_,N(p,x,u)]);break}return _}}),gc=je((l)=>{var m=ho().Buffer;function r(N,p,x){var u=N._cipher.encryptBlock(N._prev),_=u[0]^p;return N._prev=m.concat([N._prev.slice(1),m.from([x?p:_])]),_}l.encrypt=function(N,p,x){for(var u=p.length,_=m.allocUnsafe(u),L=-1;++L<u;)_[L]=r(N,p[L],x);return _}}),Xc=je((l)=>{var m=ho().Buffer;function r(p,x,u){for(var _,L=-1,y=8,R=0,v,$;++L<y;)_=p._cipher.encryptBlock(p._prev),v=x&1<<7-L?128:0,$=_[0]^v,R+=($&128)>>L%8,p._prev=N(p._prev,u?v:$);return R}function N(p,x){var u=p.length,_=-1,L=m.allocUnsafe(p.length);for(p=m.concat([p,m.from([x])]);++_<u;)L[_]=p[_]<<1|p[_+1]>>7;return L}l.encrypt=function(p,x,u){for(var _=x.length,L=m.allocUnsafe(_),y=-1;++y<_;)L[y]=r(p,x[y],u);return L}}),Sc=je((l)=>{var m=fn();function r(N){return N._prev=N._cipher.encryptBlock(N._prev),N._prev}l.encrypt=function(N,p){for(;N._cache.length<p.length;)N._cache=Buffer.concat([N._cache,r(N)]);var x=N._cache.slice(0,p.length);return N._cache=N._cache.slice(p.length),m(p,x)}}),tr=je((l,m)=>{function r(N){for(var p=N.length,x;p--;)if(x=N.readUInt8(p),x===255)N.writeUInt8(0,p);else{x++,N.writeUInt8(x,p);break}}m.exports=r}),mr=je((l)=>{var m=fn(),r=ho().Buffer,N=tr();function p(u){var _=u._cipher.encryptBlockRaw(u._prev);return N(u._prev),_}var x=16;l.encrypt=function(u,_){var L=Math.ceil(_.length/x),y=u._cache.length;u._cache=r.concat([u._cache,r.allocUnsafe(L*x)]);for(var R=0;R<L;R++){var v=p(u),$=y+R*x;u._cache.writeUInt32BE(v[0],$+0),u._cache.writeUInt32BE(v[1],$+4),u._cache.writeUInt32BE(v[2],$+8),u._cache.writeUInt32BE(v[3],$+12)}var M=u._cache.slice(0,_.length);return u._cache=u._cache.slice(_.length),m(_,M)}}),br=je((l,m)=>{m.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),Es=je((l,m)=>{var r={ECB:Lc(),CBC:Uc(),CFB:Oc(),CFB8:gc(),CFB1:Xc(),OFB:Sc(),CTR:mr(),GCM:mr()},N=br();for(p in N)N[p].module=r[N[p].mode];var p;m.exports=N}),Yn=je((l,m)=>{var r=ho().Buffer;function N(y){r.isBuffer(y)||(y=r.from(y));for(var R=y.length/4|0,v=new Array(R),$=0;$<R;$++)v[$]=y.readUInt32BE($*4);return v}function p(y){for(var R=0;R<y.length;y++)y[R]=0}function x(y,R,v,$,M){for(var T=v[0],q=v[1],X=v[2],j=v[3],I=y[0]^R[0],S=y[1]^R[1],E=y[2]^R[2],D=y[3]^R[3],C,ce,be,qe,ue=4,$e=1;$e<M;$e++)C=T[I>>>24]^q[S>>>16&255]^X[E>>>8&255]^j[D&255]^R[ue++],ce=T[S>>>24]^q[E>>>16&255]^X[D>>>8&255]^j[I&255]^R[ue++],be=T[E>>>24]^q[D>>>16&255]^X[I>>>8&255]^j[S&255]^R[ue++],qe=T[D>>>24]^q[I>>>16&255]^X[S>>>8&255]^j[E&255]^R[ue++],I=C,S=ce,E=be,D=qe;return C=($[I>>>24]<<24|$[S>>>16&255]<<16|$[E>>>8&255]<<8|$[D&255])^R[ue++],ce=($[S>>>24]<<24|$[E>>>16&255]<<16|$[D>>>8&255]<<8|$[I&255])^R[ue++],be=($[E>>>24]<<24|$[D>>>16&255]<<16|$[I>>>8&255]<<8|$[S&255])^R[ue++],qe=($[D>>>24]<<24|$[I>>>16&255]<<16|$[S>>>8&255]<<8|$[E&255])^R[ue++],C=C>>>0,ce=ce>>>0,be=be>>>0,qe=qe>>>0,[C,ce,be,qe]}var u=[0,1,2,4,8,16,32,64,128,27,54],_=function(){for(var y=new Array(256),R=0;R<256;R++)R<128?y[R]=R<<1:y[R]=R<<1^283;for(var v=[],$=[],M=[[],[],[],[]],T=[[],[],[],[]],q=0,X=0,j=0;j<256;++j){var I=X^X<<1^X<<2^X<<3^X<<4;I=I>>>8^I&255^99,v[q]=I,$[I]=q;var S=y[q],E=y[S],D=y[E],C=y[I]*257^I*16843008;M[0][q]=C<<24|C>>>8,M[1][q]=C<<16|C>>>16,M[2][q]=C<<8|C>>>24,M[3][q]=C,C=D*16843009^E*65537^S*257^q*16843008,T[0][I]=C<<24|C>>>8,T[1][I]=C<<16|C>>>16,T[2][I]=C<<8|C>>>24,T[3][I]=C,q===0?q=X=1:(q=S^y[y[y[D^S]]],X^=y[y[X]])}return{SBOX:v,INV_SBOX:$,SUB_MIX:M,INV_SUB_MIX:T}}();function L(y){this._key=N(y),this._reset()}L.blockSize=16,L.keySize=32,L.prototype.blockSize=L.blockSize,L.prototype.keySize=L.keySize,L.prototype._reset=function(){for(var y=this._key,R=y.length,v=R+6,$=(v+1)*4,M=[],T=0;T<R;T++)M[T]=y[T];for(T=R;T<$;T++){var q=M[T-1];T%R===0?(q=q<<8|q>>>24,q=_.SBOX[q>>>24]<<24|_.SBOX[q>>>16&255]<<16|_.SBOX[q>>>8&255]<<8|_.SBOX[q&255],q^=u[T/R|0]<<24):R>6&&T%R===4&&(q=_.SBOX[q>>>24]<<24|_.SBOX[q>>>16&255]<<16|_.SBOX[q>>>8&255]<<8|_.SBOX[q&255]),M[T]=M[T-R]^q}for(var X=[],j=0;j<$;j++){var I=$-j,S=M[I-(j%4?0:4)];j<4||I<=4?X[j]=S:X[j]=_.INV_SUB_MIX[0][_.SBOX[S>>>24]]^_.INV_SUB_MIX[1][_.SBOX[S>>>16&255]]^_.INV_SUB_MIX[2][_.SBOX[S>>>8&255]]^_.INV_SUB_MIX[3][_.SBOX[S&255]]}this._nRounds=v,this._keySchedule=M,this._invKeySchedule=X},L.prototype.encryptBlockRaw=function(y){return y=N(y),x(y,this._keySchedule,_.SUB_MIX,_.SBOX,this._nRounds)},L.prototype.encryptBlock=function(y){var R=this.encryptBlockRaw(y),v=r.allocUnsafe(16);return v.writeUInt32BE(R[0],0),v.writeUInt32BE(R[1],4),v.writeUInt32BE(R[2],8),v.writeUInt32BE(R[3],12),v},L.prototype.decryptBlock=function(y){y=N(y);var R=y[1];y[1]=y[3],y[3]=R;var v=x(y,this._invKeySchedule,_.INV_SUB_MIX,_.INV_SBOX,this._nRounds),$=r.allocUnsafe(16);return $.writeUInt32BE(v[0],0),$.writeUInt32BE(v[3],4),$.writeUInt32BE(v[2],8),$.writeUInt32BE(v[1],12),$},L.prototype.scrub=function(){p(this._keySchedule),p(this._invKeySchedule),p(this._key)},m.exports.AES=L}),Wc=je((l,m)=>{var r=ho().Buffer,N=r.alloc(16,0);function p(_){return[_.readUInt32BE(0),_.readUInt32BE(4),_.readUInt32BE(8),_.readUInt32BE(12)]}function x(_){var L=r.allocUnsafe(16);return L.writeUInt32BE(_[0]>>>0,0),L.writeUInt32BE(_[1]>>>0,4),L.writeUInt32BE(_[2]>>>0,8),L.writeUInt32BE(_[3]>>>0,12),L}function u(_){this.h=_,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}u.prototype.ghash=function(_){for(var L=-1;++L<_.length;)this.state[L]^=_[L];this._multiply()},u.prototype._multiply=function(){for(var _=p(this.h),L=[0,0,0,0],y,R,v,$=-1;++$<128;){for(R=(this.state[~~($/8)]&1<<7-$%8)!==0,R&&(L[0]^=_[0],L[1]^=_[1],L[2]^=_[2],L[3]^=_[3]),v=(_[3]&1)!==0,y=3;y>0;y--)_[y]=_[y]>>>1|(_[y-1]&1)<<31;_[0]=_[0]>>>1,v&&(_[0]=_[0]^-520093696)}this.state=x(L)},u.prototype.update=function(_){this.cache=r.concat([this.cache,_]);for(var L;this.cache.length>=16;)L=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(L)},u.prototype.final=function(_,L){return this.cache.length&&this.ghash(r.concat([this.cache,N],16)),this.ghash(x([0,_,0,L])),this.state},m.exports=u}),dr=je((l,m)=>{var r=Yn(),N=ho().Buffer,p=_a(),x=mo(),u=Wc(),_=fn(),L=tr();function y($,M){var T=0;$.length!==M.length&&T++;for(var q=Math.min($.length,M.length),X=0;X<q;++X)T+=$[X]^M[X];return T}function R($,M,T){if(M.length===12)return $._finID=N.concat([M,N.from([0,0,0,1])]),N.concat([M,N.from([0,0,0,2])]);var q=new u(T),X=M.length,j=X%16;q.update(M),j&&(j=16-j,q.update(N.alloc(j,0))),q.update(N.alloc(8,0));var I=X*8,S=N.alloc(8);S.writeUIntBE(I,0,8),q.update(S),$._finID=q.state;var E=N.from($._finID);return L(E),E}function v($,M,T,q){p.call(this);var X=N.alloc(4,0);this._cipher=new r.AES(M);var j=this._cipher.encryptBlock(X);this._ghash=new u(j),T=R(this,T,j),this._prev=N.from(T),this._cache=N.allocUnsafe(0),this._secCache=N.allocUnsafe(0),this._decrypt=q,this._alen=0,this._len=0,this._mode=$,this._authTag=null,this._called=!1}x(v,p),v.prototype._update=function($){if(!this._called&&this._alen){var M=16-this._alen%16;M<16&&(M=N.alloc(M,0),this._ghash.update(M))}this._called=!0;var T=this._mode.encrypt(this,$);return this._decrypt?this._ghash.update($):this._ghash.update(T),this._len+=$.length,T},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var $=_(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&y($,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=$,this._cipher.scrub()},v.prototype.getAuthTag=function(){if(this._decrypt||!N.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},v.prototype.setAuthTag=function($){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=$},v.prototype.setAAD=function($){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update($),this._alen+=$.length},m.exports=v}),pr=je((l,m)=>{var r=Yn(),N=ho().Buffer,p=_a(),x=mo();function u(_,L,y,R){p.call(this),this._cipher=new r.AES(L),this._prev=N.from(y),this._cache=N.allocUnsafe(0),this._secCache=N.allocUnsafe(0),this._decrypt=R,this._mode=_}x(u,p),u.prototype._update=function(_){return this._mode.encrypt(this,_,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},m.exports=u}),Dn=je((l,m)=>{var r=ho().Buffer,N=Xs();function p(x,u,_,L){if(r.isBuffer(x)||(x=r.from(x,"binary")),u&&(r.isBuffer(u)||(u=r.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var y=_/8,R=r.alloc(y),v=r.alloc(L||0),$=r.alloc(0);y>0||L>0;){var M=new N;M.update($),M.update(x),u&&M.update(u),$=M.digest();var T=0;if(y>0){var q=R.length-y;T=Math.min(y,$.length),$.copy(R,q,0,T),y-=T}if(T<$.length&&L>0){var X=v.length-L,j=Math.min(L,$.length-T);$.copy(v,X,T,T+j),L-=j}}return $.fill(0),{key:R,iv:v}}m.exports=p}),wc=je((l)=>{var m=Es(),r=dr(),N=ho().Buffer,p=pr(),x=_a(),u=Yn(),_=Dn(),L=mo();function y(T,q,X){x.call(this),this._cache=new v,this._cipher=new u.AES(q),this._prev=N.from(X),this._mode=T,this._autopadding=!0}L(y,x),y.prototype._update=function(T){this._cache.add(T);for(var q,X,j=[];q=this._cache.get();)X=this._mode.encrypt(this,q),j.push(X);return N.concat(j)};var R=N.alloc(16,16);y.prototype._final=function(){var T=this._cache.flush();if(this._autopadding)return T=this._mode.encrypt(this,T),this._cipher.scrub(),T;if(!T.equals(R))throw this._cipher.scrub(),new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(T){return this._autopadding=!!T,this};function v(){this.cache=N.allocUnsafe(0)}v.prototype.add=function(T){this.cache=N.concat([this.cache,T])},v.prototype.get=function(){if(this.cache.length>15){var T=this.cache.slice(0,16);return this.cache=this.cache.slice(16),T}return null},v.prototype.flush=function(){for(var T=16-this.cache.length,q=N.allocUnsafe(T),X=-1;++X<T;)q.writeUInt8(T,X);return N.concat([this.cache,q])};function $(T,q,X){var j=m[T.toLowerCase()];if(!j)throw new TypeError("invalid suite type");if(typeof q=="string"&&(q=N.from(q)),q.length!==j.key/8)throw new TypeError("invalid key length "+q.length);if(typeof X=="string"&&(X=N.from(X)),j.mode!=="GCM"&&X.length!==j.iv)throw new TypeError("invalid iv length "+X.length);return j.type==="stream"?new p(j.module,q,X):j.type==="auth"?new r(j.module,q,X):new y(j.module,q,X)}function M(T,q){var X=m[T.toLowerCase()];if(!X)throw new TypeError("invalid suite type");var j=_(q,!1,X.key,X.iv);return $(T,j.key,j.iv)}l.createCipheriv=$,l.createCipher=M}),jc=je((l)=>{var m=dr(),r=ho().Buffer,N=Es(),p=pr(),x=_a(),u=Yn(),_=Dn(),L=mo();function y(T,q,X){x.call(this),this._cache=new R,this._last=void 0,this._cipher=new u.AES(q),this._prev=r.from(X),this._mode=T,this._autopadding=!0}L(y,x),y.prototype._update=function(T){this._cache.add(T);for(var q,X,j=[];q=this._cache.get(this._autopadding);)X=this._mode.decrypt(this,q),j.push(X);return r.concat(j)},y.prototype._final=function(){var T=this._cache.flush();if(this._autopadding)return v(this._mode.decrypt(this,T));if(T)throw new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(T){return this._autopadding=!!T,this};function R(){this.cache=r.allocUnsafe(0)}R.prototype.add=function(T){this.cache=r.concat([this.cache,T])},R.prototype.get=function(T){var q;if(T){if(this.cache.length>16)return q=this.cache.slice(0,16),this.cache=this.cache.slice(16),q}else if(this.cache.length>=16)return q=this.cache.slice(0,16),this.cache=this.cache.slice(16),q;return null},R.prototype.flush=function(){if(this.cache.length)return this.cache};function v(T){var q=T[15];if(q<1||q>16)throw new Error("unable to decrypt data");for(var X=-1;++X<q;)if(T[X+(16-q)]!==q)throw new Error("unable to decrypt data");if(q!==16)return T.slice(0,16-q)}function $(T,q,X){var j=N[T.toLowerCase()];if(!j)throw new TypeError("invalid suite type");if(typeof X=="string"&&(X=r.from(X)),j.mode!=="GCM"&&X.length!==j.iv)throw new TypeError("invalid iv length "+X.length);if(typeof q=="string"&&(q=r.from(q)),q.length!==j.key/8)throw new TypeError("invalid key length "+q.length);return j.type==="stream"?new p(j.module,q,X,!0):j.type==="auth"?new m(j.module,q,X,!0):new y(j.module,q,X)}function M(T,q){var X=N[T.toLowerCase()];if(!X)throw new TypeError("invalid suite type");var j=_(q,!1,X.key,X.iv);return $(T,j.key,j.iv)}l.createDecipher=M,l.createDecipheriv=$}),Ps=je((l)=>{var m=wc(),r=jc(),N=br();function p(){return Object.keys(N)}l.createCipher=l.Cipher=m.createCipher,l.createCipheriv=l.Cipheriv=m.createCipheriv,l.createDecipher=l.Decipher=r.createDecipher,l.createDecipheriv=l.Decipheriv=r.createDecipheriv,l.listCiphers=l.getCiphers=p}),Fc=je((l)=>{l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}}),Ic=je((l)=>{var m=Mc(),r=Ps(),N=Es(),p=Fc(),x=Dn();function u(v,$){v=v.toLowerCase();var M,T;if(N[v])M=N[v].key,T=N[v].iv;else if(p[v])M=p[v].key*8,T=p[v].iv;else throw new TypeError("invalid suite type");var q=x($,!1,M,T);return L(v,q.key,q.iv)}function _(v,$){v=v.toLowerCase();var M,T;if(N[v])M=N[v].key,T=N[v].iv;else if(p[v])M=p[v].key*8,T=p[v].iv;else throw new TypeError("invalid suite type");var q=x($,!1,M,T);return y(v,q.key,q.iv)}function L(v,$,M){if(v=v.toLowerCase(),N[v])return r.createCipheriv(v,$,M);if(p[v])return new m({key:$,iv:M,mode:v});throw new TypeError("invalid suite type")}function y(v,$,M){if(v=v.toLowerCase(),N[v])return r.createDecipheriv(v,$,M);if(p[v])return new m({key:$,iv:M,mode:v,decrypt:!0});throw new TypeError("invalid suite type")}function R(){return Object.keys(p).concat(r.getCiphers())}l.createCipher=l.Cipher=u,l.createCipheriv=l.Cipheriv=L,l.createDecipher=l.Decipher=_,l.createDecipheriv=l.Decipheriv=y,l.listCiphers=l.getCiphers=R}),Ua=je(()=>{}),fr=je((l,m)=>{(function(r,N){function p(e,n){if(!e)throw new Error(n||"Assertion failed")}function x(e,n){e.super_=n;var c=function(){};c.prototype=n.prototype,e.prototype=new c,e.prototype.constructor=e}function u(e,n,c){if(u.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(e||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:N.BN=u,u.BN=u,u.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=Ua().Buffer}catch{}u.isBN=function(e){return e instanceof u?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===u.wordSize&&Array.isArray(e.words)},u.max=function(e,n){return e.cmp(n)>0?e:n},u.min=function(e,n){return e.cmp(n)<0?e:n},u.prototype._init=function(e,n,c){if(typeof e=="number")return this._initNumber(e,n,c);if(typeof e=="object")return this._initArray(e,n,c);n==="hex"&&(n=16),p(n===(n|0)&&n>=2&&n<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(n===16?this._parseHex(e,s,c):(this._parseBase(e,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(e,n,c){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(p(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(e,n,c){if(p(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t,h,k=0;if(c==="be")for(s=e.length-1,t=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);else if(c==="le")for(s=0,t=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);return this.strip()};function L(e,n){var c=e.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(e,n,c){var s=L(e,c);return c-1>=n&&(s|=L(e,c-1)<<4),s}u.prototype._parseHex=function(e,n,c){this.length=Math.ceil((e.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t=0,h=0,k;if(c==="be")for(s=e.length-1;s>=n;s-=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8;else{var d=e.length-n;for(s=d%2===0?n+1:n;s<e.length;s+=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8}this.strip()};function R(e,n,c,s){for(var t=0,h=Math.min(e.length,c),k=n;k<h;k++){var d=e.charCodeAt(k)-48;t*=s,d>=49?t+=d-49+10:d>=17?t+=d-17+10:t+=d}return t}u.prototype._parseBase=function(e,n,c){this.words=[0],this.length=1;for(var s=0,t=1;t<=67108863;t*=n)s++;s--,t=t/n|0;for(var h=e.length-c,k=h%s,d=Math.min(h,h-k)+c,o=0,b=c;b<d;b+=s)o=R(e,b,b+s,n),this.imuln(t),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(k!==0){var W=1;for(o=R(e,b,e.length,n),b=0;b<k;b++)W*=n;this.imuln(W),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(e){e.words=new Array(this.length);for(var n=0;n<this.length;n++)e.words[n]=this.words[n];e.length=this.length,e.negative=this.negative,e.red=this.red},u.prototype.clone=function(){var e=new u(null);return this.copy(e),e},u.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(e,n){e=e||10,n=n|0||1;var c;if(e===16||e==="hex"){c="";for(var s=0,t=0,h=0;h<this.length;h++){var k=this.words[h],d=((k<<s|t)&16777215).toString(16);t=k>>>24-s&16777215,t!==0||h!==this.length-1?c=v[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,h--)}for(t!==0&&(c=t.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(e===(e|0)&&e>=2&&e<=36){var o=$[e],b=M[e];c="";var W=this.clone();for(W.negative=0;!W.isZero();){var O=W.modn(b).toString(e);W=W.idivn(b),W.isZero()?c=O+c:c=v[o-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}p(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&p(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(e,n){return p(typeof _<"u"),this.toArrayLike(_,e,n)},u.prototype.toArray=function(e,n){return this.toArrayLike(Array,e,n)},u.prototype.toArrayLike=function(e,n,c){var s=this.byteLength(),t=c||Math.max(1,s);p(s<=t,"byte array longer than desired length"),p(t>0,"Requested array length <= 0"),this.strip();var h=n==="le",k=new e(t),d,o,b=this.clone();if(h){for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[o]=d;for(;o<t;o++)k[o]=0}else{for(o=0;o<t-s;o++)k[o]=0;for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[t-o-1]=d}return k},Math.clz32?u.prototype._countBits=function(e){return 32-Math.clz32(e)}:u.prototype._countBits=function(e){var n=e,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(e){if(e===0)return 26;var n=e,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var e=this.words[this.length-1],n=this._countBits(e);return(this.length-1)*26+n};function T(e){for(var n=new Array(e.bitLength()),c=0;c<n.length;c++){var s=c/26|0,t=c%26;n[c]=(e.words[s]&1<<t)>>>t}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(e+=c,c!==26)break}return e},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},u.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]|e.words[n];return this.strip()},u.prototype.ior=function(e){return p((this.negative|e.negative)===0),this.iuor(e)},u.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},u.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},u.prototype.iuand=function(e){var n;this.length>e.length?n=e:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&e.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(e){return p((this.negative|e.negative)===0),this.iuand(e)},u.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},u.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},u.prototype.iuxor=function(e){var n,c;this.length>e.length?(n=this,c=e):(n=e,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(e){return p((this.negative|e.negative)===0),this.iuxor(e)},u.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},u.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},u.prototype.inotn=function(e){p(typeof e=="number"&&e>=0);var n=Math.ceil(e/26)|0,c=e%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(e){return this.clone().inotn(e)},u.prototype.setn=function(e,n){p(typeof e=="number"&&e>=0);var c=e/26|0,s=e%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(e){var n;if(this.negative!==0&&e.negative===0)return this.negative=0,n=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,n=this.isub(e),e.negative=1,n._normSign();var c,s;this.length>e.length?(c=this,s=e):(c=e,s=this);for(var t=0,h=0;h<s.length;h++)n=(c.words[h]|0)+(s.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;for(;t!==0&&h<c.length;h++)n=(c.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;if(this.length=c.length,t!==0)this.words[this.length]=t,this.length++;else if(c!==this)for(;h<c.length;h++)this.words[h]=c.words[h];return this},u.prototype.add=function(e){var n;return e.negative!==0&&this.negative===0?(e.negative=0,n=this.sub(e),e.negative^=1,n):e.negative===0&&this.negative!==0?(this.negative=0,n=e.sub(this),this.negative=1,n):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},u.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var n=this.iadd(e);return e.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var c=this.cmp(e);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,t;c>0?(s=this,t=e):(s=e,t=this);for(var h=0,k=0;k<t.length;k++)n=(s.words[k]|0)-(t.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;for(;h!==0&&k<s.length;k++)n=(s.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;if(h===0&&k<s.length&&s!==this)for(;k<s.length;k++)this.words[k]=s.words[k];return this.length=Math.max(this.length,k),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(e){return this.clone().isub(e)};function q(e,n,c){c.negative=n.negative^e.negative;var s=e.length+n.length|0;c.length=s,s=s-1|0;var t=e.words[0]|0,h=n.words[0]|0,k=t*h,d=k&67108863,o=k/67108864|0;c.words[0]=d;for(var b=1;b<s;b++){for(var W=o>>>26,O=o&67108863,P=Math.min(b,n.length-1),pe=Math.max(0,b-e.length+1);pe<=P;pe++){var Ne=b-pe|0;t=e.words[Ne]|0,h=n.words[pe]|0,k=t*h+O,W+=k/67108864|0,O=k&67108863}c.words[b]=O|0,o=W|0}return o!==0?c.words[b]=o|0:c.length--,c.strip()}var X=function(e,n,c){var s=e.words,t=n.words,h=c.words,k=0,d,o,b,W=s[0]|0,O=W&8191,P=W>>>13,pe=s[1]|0,Ne=pe&8191,xe=pe>>>13,te=s[2]|0,ie=te&8191,he=te>>>13,Fe=s[3]|0,Re=Fe&8191,ge=Fe>>>13,H=s[4]|0,w=H&8191,B=H>>>13,Te=s[5]|0,Le=Te&8191,Ve=Te>>>13,Pe=s[6]|0,We=Pe&8191,Ie=Pe>>>13,Qe=s[7]|0,Je=Qe&8191,Se=Qe>>>13,bo=s[8]|0,U=bo&8191,a=bo>>>13,i=s[9]|0,f=i&8191,Z=i>>>13,V=t[0]|0,g=V&8191,F=V>>>13,z=t[1]|0,J=z&8191,K=z>>>13,oe=t[2]|0,Y=oe&8191,G=oe>>>13,ne=t[3]|0,A=ne&8191,re=ne>>>13,ke=t[4]|0,ee=ke&8191,ae=ke>>>13,se=t[5]|0,Q=se&8191,le=se>>>13,fe=t[6]|0,me=fe&8191,de=fe>>>13,Oe=t[7]|0,_e=Oe&8191,ve=Oe>>>13,Xe=t[8]|0,ye=Xe&8191,Ze=Xe>>>13,we=t[9]|0,Me=we&8191,Ue=we>>>13;c.negative=e.negative^n.negative,c.length=19,d=Math.imul(O,g),o=Math.imul(O,F),o=o+Math.imul(P,g)|0,b=Math.imul(P,F);var ze=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(Ne,g),o=Math.imul(Ne,F),o=o+Math.imul(xe,g)|0,b=Math.imul(xe,F),d=d+Math.imul(O,J)|0,o=o+Math.imul(O,K)|0,o=o+Math.imul(P,J)|0,b=b+Math.imul(P,K)|0;var Ke=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(ie,g),o=Math.imul(ie,F),o=o+Math.imul(he,g)|0,b=Math.imul(he,F),d=d+Math.imul(Ne,J)|0,o=o+Math.imul(Ne,K)|0,o=o+Math.imul(xe,J)|0,b=b+Math.imul(xe,K)|0,d=d+Math.imul(O,Y)|0,o=o+Math.imul(O,G)|0,o=o+Math.imul(P,Y)|0,b=b+Math.imul(P,G)|0;var Ee=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(Re,g),o=Math.imul(Re,F),o=o+Math.imul(ge,g)|0,b=Math.imul(ge,F),d=d+Math.imul(ie,J)|0,o=o+Math.imul(ie,K)|0,o=o+Math.imul(he,J)|0,b=b+Math.imul(he,K)|0,d=d+Math.imul(Ne,Y)|0,o=o+Math.imul(Ne,G)|0,o=o+Math.imul(xe,Y)|0,b=b+Math.imul(xe,G)|0,d=d+Math.imul(O,A)|0,o=o+Math.imul(O,re)|0,o=o+Math.imul(P,A)|0,b=b+Math.imul(P,re)|0;var De=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(De>>>26)|0,De&=67108863,d=Math.imul(w,g),o=Math.imul(w,F),o=o+Math.imul(B,g)|0,b=Math.imul(B,F),d=d+Math.imul(Re,J)|0,o=o+Math.imul(Re,K)|0,o=o+Math.imul(ge,J)|0,b=b+Math.imul(ge,K)|0,d=d+Math.imul(ie,Y)|0,o=o+Math.imul(ie,G)|0,o=o+Math.imul(he,Y)|0,b=b+Math.imul(he,G)|0,d=d+Math.imul(Ne,A)|0,o=o+Math.imul(Ne,re)|0,o=o+Math.imul(xe,A)|0,b=b+Math.imul(xe,re)|0,d=d+Math.imul(O,ee)|0,o=o+Math.imul(O,ae)|0,o=o+Math.imul(P,ee)|0,b=b+Math.imul(P,ae)|0;var Ge=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,d=Math.imul(Le,g),o=Math.imul(Le,F),o=o+Math.imul(Ve,g)|0,b=Math.imul(Ve,F),d=d+Math.imul(w,J)|0,o=o+Math.imul(w,K)|0,o=o+Math.imul(B,J)|0,b=b+Math.imul(B,K)|0,d=d+Math.imul(Re,Y)|0,o=o+Math.imul(Re,G)|0,o=o+Math.imul(ge,Y)|0,b=b+Math.imul(ge,G)|0,d=d+Math.imul(ie,A)|0,o=o+Math.imul(ie,re)|0,o=o+Math.imul(he,A)|0,b=b+Math.imul(he,re)|0,d=d+Math.imul(Ne,ee)|0,o=o+Math.imul(Ne,ae)|0,o=o+Math.imul(xe,ee)|0,b=b+Math.imul(xe,ae)|0,d=d+Math.imul(O,Q)|0,o=o+Math.imul(O,le)|0,o=o+Math.imul(P,Q)|0,b=b+Math.imul(P,le)|0;var Ce=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,d=Math.imul(We,g),o=Math.imul(We,F),o=o+Math.imul(Ie,g)|0,b=Math.imul(Ie,F),d=d+Math.imul(Le,J)|0,o=o+Math.imul(Le,K)|0,o=o+Math.imul(Ve,J)|0,b=b+Math.imul(Ve,K)|0,d=d+Math.imul(w,Y)|0,o=o+Math.imul(w,G)|0,o=o+Math.imul(B,Y)|0,b=b+Math.imul(B,G)|0,d=d+Math.imul(Re,A)|0,o=o+Math.imul(Re,re)|0,o=o+Math.imul(ge,A)|0,b=b+Math.imul(ge,re)|0,d=d+Math.imul(ie,ee)|0,o=o+Math.imul(ie,ae)|0,o=o+Math.imul(he,ee)|0,b=b+Math.imul(he,ae)|0,d=d+Math.imul(Ne,Q)|0,o=o+Math.imul(Ne,le)|0,o=o+Math.imul(xe,Q)|0,b=b+Math.imul(xe,le)|0,d=d+Math.imul(O,me)|0,o=o+Math.imul(O,de)|0,o=o+Math.imul(P,me)|0,b=b+Math.imul(P,de)|0;var He=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(Je,g),o=Math.imul(Je,F),o=o+Math.imul(Se,g)|0,b=Math.imul(Se,F),d=d+Math.imul(We,J)|0,o=o+Math.imul(We,K)|0,o=o+Math.imul(Ie,J)|0,b=b+Math.imul(Ie,K)|0,d=d+Math.imul(Le,Y)|0,o=o+Math.imul(Le,G)|0,o=o+Math.imul(Ve,Y)|0,b=b+Math.imul(Ve,G)|0,d=d+Math.imul(w,A)|0,o=o+Math.imul(w,re)|0,o=o+Math.imul(B,A)|0,b=b+Math.imul(B,re)|0,d=d+Math.imul(Re,ee)|0,o=o+Math.imul(Re,ae)|0,o=o+Math.imul(ge,ee)|0,b=b+Math.imul(ge,ae)|0,d=d+Math.imul(ie,Q)|0,o=o+Math.imul(ie,le)|0,o=o+Math.imul(he,Q)|0,b=b+Math.imul(he,le)|0,d=d+Math.imul(Ne,me)|0,o=o+Math.imul(Ne,de)|0,o=o+Math.imul(xe,me)|0,b=b+Math.imul(xe,de)|0,d=d+Math.imul(O,_e)|0,o=o+Math.imul(O,ve)|0,o=o+Math.imul(P,_e)|0,b=b+Math.imul(P,ve)|0;var Be=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Be>>>26)|0,Be&=67108863,d=Math.imul(U,g),o=Math.imul(U,F),o=o+Math.imul(a,g)|0,b=Math.imul(a,F),d=d+Math.imul(Je,J)|0,o=o+Math.imul(Je,K)|0,o=o+Math.imul(Se,J)|0,b=b+Math.imul(Se,K)|0,d=d+Math.imul(We,Y)|0,o=o+Math.imul(We,G)|0,o=o+Math.imul(Ie,Y)|0,b=b+Math.imul(Ie,G)|0,d=d+Math.imul(Le,A)|0,o=o+Math.imul(Le,re)|0,o=o+Math.imul(Ve,A)|0,b=b+Math.imul(Ve,re)|0,d=d+Math.imul(w,ee)|0,o=o+Math.imul(w,ae)|0,o=o+Math.imul(B,ee)|0,b=b+Math.imul(B,ae)|0,d=d+Math.imul(Re,Q)|0,o=o+Math.imul(Re,le)|0,o=o+Math.imul(ge,Q)|0,b=b+Math.imul(ge,le)|0,d=d+Math.imul(ie,me)|0,o=o+Math.imul(ie,de)|0,o=o+Math.imul(he,me)|0,b=b+Math.imul(he,de)|0,d=d+Math.imul(Ne,_e)|0,o=o+Math.imul(Ne,ve)|0,o=o+Math.imul(xe,_e)|0,b=b+Math.imul(xe,ve)|0,d=d+Math.imul(O,ye)|0,o=o+Math.imul(O,Ze)|0,o=o+Math.imul(P,ye)|0,b=b+Math.imul(P,Ze)|0;var Ye=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,d=Math.imul(f,g),o=Math.imul(f,F),o=o+Math.imul(Z,g)|0,b=Math.imul(Z,F),d=d+Math.imul(U,J)|0,o=o+Math.imul(U,K)|0,o=o+Math.imul(a,J)|0,b=b+Math.imul(a,K)|0,d=d+Math.imul(Je,Y)|0,o=o+Math.imul(Je,G)|0,o=o+Math.imul(Se,Y)|0,b=b+Math.imul(Se,G)|0,d=d+Math.imul(We,A)|0,o=o+Math.imul(We,re)|0,o=o+Math.imul(Ie,A)|0,b=b+Math.imul(Ie,re)|0,d=d+Math.imul(Le,ee)|0,o=o+Math.imul(Le,ae)|0,o=o+Math.imul(Ve,ee)|0,b=b+Math.imul(Ve,ae)|0,d=d+Math.imul(w,Q)|0,o=o+Math.imul(w,le)|0,o=o+Math.imul(B,Q)|0,b=b+Math.imul(B,le)|0,d=d+Math.imul(Re,me)|0,o=o+Math.imul(Re,de)|0,o=o+Math.imul(ge,me)|0,b=b+Math.imul(ge,de)|0,d=d+Math.imul(ie,_e)|0,o=o+Math.imul(ie,ve)|0,o=o+Math.imul(he,_e)|0,b=b+Math.imul(he,ve)|0,d=d+Math.imul(Ne,ye)|0,o=o+Math.imul(Ne,Ze)|0,o=o+Math.imul(xe,ye)|0,b=b+Math.imul(xe,Ze)|0,d=d+Math.imul(O,Me)|0,o=o+Math.imul(O,Ue)|0,o=o+Math.imul(P,Me)|0,b=b+Math.imul(P,Ue)|0;var lo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(lo>>>26)|0,lo&=67108863,d=Math.imul(f,J),o=Math.imul(f,K),o=o+Math.imul(Z,J)|0,b=Math.imul(Z,K),d=d+Math.imul(U,Y)|0,o=o+Math.imul(U,G)|0,o=o+Math.imul(a,Y)|0,b=b+Math.imul(a,G)|0,d=d+Math.imul(Je,A)|0,o=o+Math.imul(Je,re)|0,o=o+Math.imul(Se,A)|0,b=b+Math.imul(Se,re)|0,d=d+Math.imul(We,ee)|0,o=o+Math.imul(We,ae)|0,o=o+Math.imul(Ie,ee)|0,b=b+Math.imul(Ie,ae)|0,d=d+Math.imul(Le,Q)|0,o=o+Math.imul(Le,le)|0,o=o+Math.imul(Ve,Q)|0,b=b+Math.imul(Ve,le)|0,d=d+Math.imul(w,me)|0,o=o+Math.imul(w,de)|0,o=o+Math.imul(B,me)|0,b=b+Math.imul(B,de)|0,d=d+Math.imul(Re,_e)|0,o=o+Math.imul(Re,ve)|0,o=o+Math.imul(ge,_e)|0,b=b+Math.imul(ge,ve)|0,d=d+Math.imul(ie,ye)|0,o=o+Math.imul(ie,Ze)|0,o=o+Math.imul(he,ye)|0,b=b+Math.imul(he,Ze)|0,d=d+Math.imul(Ne,Me)|0,o=o+Math.imul(Ne,Ue)|0,o=o+Math.imul(xe,Me)|0,b=b+Math.imul(xe,Ue)|0;var Ae=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,d=Math.imul(f,Y),o=Math.imul(f,G),o=o+Math.imul(Z,Y)|0,b=Math.imul(Z,G),d=d+Math.imul(U,A)|0,o=o+Math.imul(U,re)|0,o=o+Math.imul(a,A)|0,b=b+Math.imul(a,re)|0,d=d+Math.imul(Je,ee)|0,o=o+Math.imul(Je,ae)|0,o=o+Math.imul(Se,ee)|0,b=b+Math.imul(Se,ae)|0,d=d+Math.imul(We,Q)|0,o=o+Math.imul(We,le)|0,o=o+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,le)|0,d=d+Math.imul(Le,me)|0,o=o+Math.imul(Le,de)|0,o=o+Math.imul(Ve,me)|0,b=b+Math.imul(Ve,de)|0,d=d+Math.imul(w,_e)|0,o=o+Math.imul(w,ve)|0,o=o+Math.imul(B,_e)|0,b=b+Math.imul(B,ve)|0,d=d+Math.imul(Re,ye)|0,o=o+Math.imul(Re,Ze)|0,o=o+Math.imul(ge,ye)|0,b=b+Math.imul(ge,Ze)|0,d=d+Math.imul(ie,Me)|0,o=o+Math.imul(ie,Ue)|0,o=o+Math.imul(he,Me)|0,b=b+Math.imul(he,Ue)|0;var ao=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ao>>>26)|0,ao&=67108863,d=Math.imul(f,A),o=Math.imul(f,re),o=o+Math.imul(Z,A)|0,b=Math.imul(Z,re),d=d+Math.imul(U,ee)|0,o=o+Math.imul(U,ae)|0,o=o+Math.imul(a,ee)|0,b=b+Math.imul(a,ae)|0,d=d+Math.imul(Je,Q)|0,o=o+Math.imul(Je,le)|0,o=o+Math.imul(Se,Q)|0,b=b+Math.imul(Se,le)|0,d=d+Math.imul(We,me)|0,o=o+Math.imul(We,de)|0,o=o+Math.imul(Ie,me)|0,b=b+Math.imul(Ie,de)|0,d=d+Math.imul(Le,_e)|0,o=o+Math.imul(Le,ve)|0,o=o+Math.imul(Ve,_e)|0,b=b+Math.imul(Ve,ve)|0,d=d+Math.imul(w,ye)|0,o=o+Math.imul(w,Ze)|0,o=o+Math.imul(B,ye)|0,b=b+Math.imul(B,Ze)|0,d=d+Math.imul(Re,Me)|0,o=o+Math.imul(Re,Ue)|0,o=o+Math.imul(ge,Me)|0,b=b+Math.imul(ge,Ue)|0;var no=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(no>>>26)|0,no&=67108863,d=Math.imul(f,ee),o=Math.imul(f,ae),o=o+Math.imul(Z,ee)|0,b=Math.imul(Z,ae),d=d+Math.imul(U,Q)|0,o=o+Math.imul(U,le)|0,o=o+Math.imul(a,Q)|0,b=b+Math.imul(a,le)|0,d=d+Math.imul(Je,me)|0,o=o+Math.imul(Je,de)|0,o=o+Math.imul(Se,me)|0,b=b+Math.imul(Se,de)|0,d=d+Math.imul(We,_e)|0,o=o+Math.imul(We,ve)|0,o=o+Math.imul(Ie,_e)|0,b=b+Math.imul(Ie,ve)|0,d=d+Math.imul(Le,ye)|0,o=o+Math.imul(Le,Ze)|0,o=o+Math.imul(Ve,ye)|0,b=b+Math.imul(Ve,Ze)|0,d=d+Math.imul(w,Me)|0,o=o+Math.imul(w,Ue)|0,o=o+Math.imul(B,Me)|0,b=b+Math.imul(B,Ue)|0;var oo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(oo>>>26)|0,oo&=67108863,d=Math.imul(f,Q),o=Math.imul(f,le),o=o+Math.imul(Z,Q)|0,b=Math.imul(Z,le),d=d+Math.imul(U,me)|0,o=o+Math.imul(U,de)|0,o=o+Math.imul(a,me)|0,b=b+Math.imul(a,de)|0,d=d+Math.imul(Je,_e)|0,o=o+Math.imul(Je,ve)|0,o=o+Math.imul(Se,_e)|0,b=b+Math.imul(Se,ve)|0,d=d+Math.imul(We,ye)|0,o=o+Math.imul(We,Ze)|0,o=o+Math.imul(Ie,ye)|0,b=b+Math.imul(Ie,Ze)|0,d=d+Math.imul(Le,Me)|0,o=o+Math.imul(Le,Ue)|0,o=o+Math.imul(Ve,Me)|0,b=b+Math.imul(Ve,Ue)|0;var uo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(uo>>>26)|0,uo&=67108863,d=Math.imul(f,me),o=Math.imul(f,de),o=o+Math.imul(Z,me)|0,b=Math.imul(Z,de),d=d+Math.imul(U,_e)|0,o=o+Math.imul(U,ve)|0,o=o+Math.imul(a,_e)|0,b=b+Math.imul(a,ve)|0,d=d+Math.imul(Je,ye)|0,o=o+Math.imul(Je,Ze)|0,o=o+Math.imul(Se,ye)|0,b=b+Math.imul(Se,Ze)|0,d=d+Math.imul(We,Me)|0,o=o+Math.imul(We,Ue)|0,o=o+Math.imul(Ie,Me)|0,b=b+Math.imul(Ie,Ue)|0;var to=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(to>>>26)|0,to&=67108863,d=Math.imul(f,_e),o=Math.imul(f,ve),o=o+Math.imul(Z,_e)|0,b=Math.imul(Z,ve),d=d+Math.imul(U,ye)|0,o=o+Math.imul(U,Ze)|0,o=o+Math.imul(a,ye)|0,b=b+Math.imul(a,Ze)|0,d=d+Math.imul(Je,Me)|0,o=o+Math.imul(Je,Ue)|0,o=o+Math.imul(Se,Me)|0,b=b+Math.imul(Se,Ue)|0;var fo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(fo>>>26)|0,fo&=67108863,d=Math.imul(f,ye),o=Math.imul(f,Ze),o=o+Math.imul(Z,ye)|0,b=Math.imul(Z,Ze),d=d+Math.imul(U,Me)|0,o=o+Math.imul(U,Ue)|0,o=o+Math.imul(a,Me)|0,b=b+Math.imul(a,Ue)|0;var io=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(io>>>26)|0,io&=67108863,d=Math.imul(f,Me),o=Math.imul(f,Ue),o=o+Math.imul(Z,Me)|0,b=Math.imul(Z,Ue);var ro=(k+d|0)+((o&8191)<<13)|0;return k=(b+(o>>>13)|0)+(ro>>>26)|0,ro&=67108863,h[0]=ze,h[1]=Ke,h[2]=Ee,h[3]=De,h[4]=Ge,h[5]=Ce,h[6]=He,h[7]=Be,h[8]=Ye,h[9]=lo,h[10]=Ae,h[11]=ao,h[12]=no,h[13]=oo,h[14]=uo,h[15]=to,h[16]=fo,h[17]=io,h[18]=ro,k!==0&&(h[19]=k,c.length++),c};Math.imul||(X=q);function j(e,n,c){c.negative=n.negative^e.negative,c.length=e.length+n.length;for(var s=0,t=0,h=0;h<c.length-1;h++){var k=t;t=0;for(var d=s&67108863,o=Math.min(h,n.length-1),b=Math.max(0,h-e.length+1);b<=o;b++){var W=h-b,O=e.words[W]|0,P=n.words[b]|0,pe=O*P,Ne=pe&67108863;k=k+(pe/67108864|0)|0,Ne=Ne+d|0,d=Ne&67108863,k=k+(Ne>>>26)|0,t+=k>>>26,k&=67108863}c.words[h]=d,s=k,k=t}return s!==0?c.words[h]=s:c.length--,c.strip()}function I(e,n,c){var s=new S;return s.mulp(e,n,c)}u.prototype.mulTo=function(e,n){var c,s=this.length+e.length;return this.length===10&&e.length===10?c=X(this,e,n):s<63?c=q(this,e,n):s<1024?c=j(this,e,n):c=I(this,e,n),c};function S(e,n){this.x=e,this.y=n}S.prototype.makeRBT=function(e){for(var n=new Array(e),c=u.prototype._countBits(e)-1,s=0;s<e;s++)n[s]=this.revBin(s,c,e);return n},S.prototype.revBin=function(e,n,c){if(e===0||e===c-1)return e;for(var s=0,t=0;t<n;t++)s|=(e&1)<<n-t-1,e>>=1;return s},S.prototype.permute=function(e,n,c,s,t,h){for(var k=0;k<h;k++)s[k]=n[e[k]],t[k]=c[e[k]]},S.prototype.transform=function(e,n,c,s,t,h){this.permute(h,e,n,c,s,t);for(var k=1;k<t;k<<=1)for(var d=k<<1,o=Math.cos(2*Math.PI/d),b=Math.sin(2*Math.PI/d),W=0;W<t;W+=d)for(var O=o,P=b,pe=0;pe<k;pe++){var Ne=c[W+pe],xe=s[W+pe],te=c[W+pe+k],ie=s[W+pe+k],he=O*te-P*ie;ie=O*ie+P*te,te=he,c[W+pe]=Ne+te,s[W+pe]=xe+ie,c[W+pe+k]=Ne-te,s[W+pe+k]=xe-ie,pe!==d&&(he=o*O-b*P,P=o*P+b*O,O=he)}},S.prototype.guessLen13b=function(e,n){var c=Math.max(n,e)|1,s=c&1,t=0;for(c=c/2|0;c;c=c>>>1)t++;return 1<<t+1+s},S.prototype.conjugate=function(e,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var t=e[s];e[s]=e[c-s-1],e[c-s-1]=t,t=n[s],n[s]=-n[c-s-1],n[c-s-1]=-t}},S.prototype.normalize13b=function(e,n){for(var c=0,s=0;s<n/2;s++){var t=Math.round(e[2*s+1]/n)*8192+Math.round(e[2*s]/n)+c;e[s]=t&67108863,t<67108864?c=0:c=t/67108864|0}return e},S.prototype.convert13b=function(e,n,c,s){for(var t=0,h=0;h<n;h++)t=t+(e[h]|0),c[2*h]=t&8191,t=t>>>13,c[2*h+1]=t&8191,t=t>>>13;for(h=2*n;h<s;++h)c[h]=0;p(t===0),p((t&-8192)===0)},S.prototype.stub=function(e){for(var n=new Array(e),c=0;c<e;c++)n[c]=0;return n},S.prototype.mulp=function(e,n,c){var s=2*this.guessLen13b(e.length,n.length),t=this.makeRBT(s),h=this.stub(s),k=new Array(s),d=new Array(s),o=new Array(s),b=new Array(s),W=new Array(s),O=new Array(s),P=c.words;P.length=s,this.convert13b(e.words,e.length,k,s),this.convert13b(n.words,n.length,b,s),this.transform(k,h,d,o,s,t),this.transform(b,h,W,O,s,t);for(var pe=0;pe<s;pe++){var Ne=d[pe]*W[pe]-o[pe]*O[pe];o[pe]=d[pe]*O[pe]+o[pe]*W[pe],d[pe]=Ne}return this.conjugate(d,o,s),this.transform(d,o,P,h,s,t),this.conjugate(P,h,s),this.normalize13b(P,s),c.negative=e.negative^n.negative,c.length=e.length+n.length,c.strip()},u.prototype.mul=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),this.mulTo(e,n)},u.prototype.mulf=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),I(this,e,n)},u.prototype.imul=function(e){return this.clone().mulTo(e,this)},u.prototype.imuln=function(e){p(typeof e=="number"),p(e<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*e,t=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=t>>>26,this.words[c]=t&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(e){return this.clone().imuln(e)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(e){var n=T(e);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var t=c.sqr();s<n.length;s++,t=t.sqr())n[s]!==0&&(c=c.mul(t));return c},u.prototype.iushln=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=67108863>>>26-n<<26-n,t;if(n!==0){var h=0;for(t=0;t<this.length;t++){var k=this.words[t]&s,d=(this.words[t]|0)-k<<n;this.words[t]=d|h,h=k>>>26-n}h&&(this.words[t]=h,this.length++)}if(c!==0){for(t=this.length-1;t>=0;t--)this.words[t+c]=this.words[t];for(t=0;t<c;t++)this.words[t]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(e){return p(this.negative===0),this.iushln(e)},u.prototype.iushrn=function(e,n,c){p(typeof e=="number"&&e>=0);var s;n?s=(n-n%26)/26:s=0;var t=e%26,h=Math.min((e-t)/26,this.length),k=67108863^67108863>>>t<<t,d=c;if(s-=h,s=Math.max(0,s),d){for(var o=0;o<h;o++)d.words[o]=this.words[o];d.length=h}if(h!==0)if(this.length>h)for(this.length-=h,o=0;o<this.length;o++)this.words[o]=this.words[o+h];else this.words[0]=0,this.length=1;var b=0;for(o=this.length-1;o>=0&&(b!==0||o>=s);o--){var W=this.words[o]|0;this.words[o]=b<<26-t|W>>>t,b=W&k}return d&&b!==0&&(d.words[d.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(e,n,c){return p(this.negative===0),this.iushrn(e,n,c)},u.prototype.shln=function(e){return this.clone().ishln(e)},u.prototype.ushln=function(e){return this.clone().iushln(e)},u.prototype.shrn=function(e){return this.clone().ishrn(e)},u.prototype.ushrn=function(e){return this.clone().iushrn(e)},u.prototype.testn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return!1;var t=this.words[c];return!!(t&s)},u.prototype.imaskn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26;if(p(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(e){return this.clone().imaskn(e)},u.prototype.iaddn=function(e){return p(typeof e=="number"),p(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},u.prototype._iaddn=function(e){this.words[0]+=e;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(e){if(p(typeof e=="number"),p(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(e){return this.clone().iaddn(e)},u.prototype.subn=function(e){return this.clone().isubn(e)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(e,n,c){var s=e.length+c,t;this._expand(s);var h,k=0;for(t=0;t<e.length;t++){h=(this.words[t+c]|0)+k;var d=(e.words[t]|0)*n;h-=d&67108863,k=(h>>26)-(d/67108864|0),this.words[t+c]=h&67108863}for(;t<this.length-c;t++)h=(this.words[t+c]|0)+k,k=h>>26,this.words[t+c]=h&67108863;if(k===0)return this.strip();for(p(k===-1),k=0,t=0;t<this.length;t++)h=-(this.words[t]|0)+k,k=h>>26,this.words[t]=h&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(e,n){var c=this.length-e.length,s=this.clone(),t=e,h=t.words[t.length-1]|0,k=this._countBits(h);c=26-k,c!==0&&(t=t.ushln(c),s.iushln(c),h=t.words[t.length-1]|0);var d=s.length-t.length,o;if(n!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var b=0;b<o.length;b++)o.words[b]=0}var W=s.clone()._ishlnsubmul(t,1,d);W.negative===0&&(s=W,o&&(o.words[d]=1));for(var O=d-1;O>=0;O--){var P=(s.words[t.length+O]|0)*67108864+(s.words[t.length+O-1]|0);for(P=Math.min(P/h|0,67108863),s._ishlnsubmul(t,P,O);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(t,1,O),s.isZero()||(s.negative^=1);o&&(o.words[O]=P)}return o&&o.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:o||null,mod:s}},u.prototype.divmod=function(e,n,c){if(p(!e.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,t,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,n),n!=="mod"&&(s=h.div.neg()),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.iadd(e)),{div:s,mod:t}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),n),n!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),n),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.isub(e)),{div:h.div,mod:t}):e.length>this.length||this.cmp(e)<0?{div:new u(0),mod:this}:e.length===1?n==="div"?{div:this.divn(e.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new u(this.modn(e.words[0]))}:this._wordDiv(e,n)},u.prototype.div=function(e){return this.divmod(e,"div",!1).div},u.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},u.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},u.prototype.divRound=function(e){var n=this.divmod(e);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(e):n.mod,s=e.ushrn(1),t=e.andln(1),h=c.cmp(s);return h<0||t===1&&h===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(e){p(e<=67108863);for(var n=67108864%e,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%e;return c},u.prototype.idivn=function(e){p(e<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/e|0,n=s%e}return this.strip()},u.prototype.divn=function(e){return this.clone().idivn(e)},u.prototype.egcd=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=new u(0),k=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var o=c.clone(),b=n.clone();!n.isZero();){for(var W=0,O=1;(n.words[0]&O)===0&&W<26;++W,O<<=1);if(W>0)for(n.iushrn(W);W-- >0;)(s.isOdd()||t.isOdd())&&(s.iadd(o),t.isub(b)),s.iushrn(1),t.iushrn(1);for(var P=0,pe=1;(c.words[0]&pe)===0&&P<26;++P,pe<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(h.isOdd()||k.isOdd())&&(h.iadd(o),k.isub(b)),h.iushrn(1),k.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(h),t.isub(k)):(c.isub(n),h.isub(s),k.isub(t))}return{a:h,b:k,gcd:c.iushln(d)}},u.prototype._invmp=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var k=0,d=1;(n.words[0]&d)===0&&k<26;++k,d<<=1);if(k>0)for(n.iushrn(k);k-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var o=0,b=1;(c.words[0]&b)===0&&o<26;++o,b<<=1);if(o>0)for(c.iushrn(o);o-- >0;)t.isOdd()&&t.iadd(h),t.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(t)):(c.isub(n),t.isub(s))}var W;return n.cmpn(1)===0?W=s:W=t,W.cmpn(0)<0&&W.iadd(e),W},u.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var n=this.clone(),c=e.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var t=n.cmp(c);if(t<0){var h=n;n=c,c=h}else if(t===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(e){return this.egcd(e).a.umod(e)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(e){return this.words[0]&e},u.prototype.bincn=function(e){p(typeof e=="number");var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var t=s,h=c;t!==0&&h<this.length;h++){var k=this.words[h]|0;k+=t,t=k>>>26,k&=67108863,this.words[h]=k}return t!==0&&(this.words[h]=t,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(e){var n=e<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(e=-e),p(e<=67108863,"Number is too big");var s=this.words[0]|0;c=s===e?0:s<e?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var n=this.ucmp(e);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,t=e.words[c]|0;if(s!==t){s<t?n=-1:s>t&&(n=1);break}}return n},u.prototype.gtn=function(e){return this.cmpn(e)===1},u.prototype.gt=function(e){return this.cmp(e)===1},u.prototype.gten=function(e){return this.cmpn(e)>=0},u.prototype.gte=function(e){return this.cmp(e)>=0},u.prototype.ltn=function(e){return this.cmpn(e)===-1},u.prototype.lt=function(e){return this.cmp(e)===-1},u.prototype.lten=function(e){return this.cmpn(e)<=0},u.prototype.lte=function(e){return this.cmp(e)<=0},u.prototype.eqn=function(e){return this.cmpn(e)===0},u.prototype.eq=function(e){return this.cmp(e)===0},u.red=function(e){return new ue(e)},u.prototype.toRed=function(e){return p(!this.red,"Already a number in reduction context"),p(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},u.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(e){return this.red=e,this},u.prototype.forceRed=function(e){return p(!this.red,"Already a number in reduction context"),this._forceRed(e)},u.prototype.redAdd=function(e){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},u.prototype.redIAdd=function(e){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},u.prototype.redSub=function(e){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},u.prototype.redISub=function(e){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},u.prototype.redShl=function(e){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},u.prototype.redMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},u.prototype.redIMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},u.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(e){return p(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};function D(e,n){this.name=e,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var e=new u(null);return e.words=new Array(Math.ceil(this.n/13)),e},D.prototype.ireduce=function(e){var n=e,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(e,n){e.iushrn(this.n,0,n)},D.prototype.imulK=function(e){return e.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(e,n){for(var c=4194303,s=Math.min(e.length,9),t=0;t<s;t++)n.words[t]=e.words[t];if(n.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(n.words[n.length++]=h&c,t=10;t<e.length;t++){var k=e.words[t]|0;e.words[t-10]=(k&c)<<4|h>>>22,h=k}h>>>=22,e.words[t-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var n=0,c=0;c<e.length;c++){var s=e.words[c]|0;n+=s*977,e.words[c]=n&67108863,n=s*64+(n/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function ce(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(ce,D);function be(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(be,D);function qe(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(qe,D),qe.prototype.imulK=function(e){for(var n=0,c=0;c<e.length;c++){var s=(e.words[c]|0)*19+n,t=s&67108863;s>>>=26,e.words[c]=t,n=s}return n!==0&&(e.words[e.length++]=n),e},u._prime=function(e){if(E[e])return E[e];var n;if(e==="k256")n=new C;else if(e==="p224")n=new ce;else if(e==="p192")n=new be;else if(e==="p25519")n=new qe;else throw new Error("Unknown prime "+e);return E[e]=n,n};function ue(e){if(typeof e=="string"){var n=u._prime(e);this.m=n.p,this.prime=n}else p(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}ue.prototype._verify1=function(e){p(e.negative===0,"red works only with positives"),p(e.red,"red works only with red numbers")},ue.prototype._verify2=function(e,n){p((e.negative|n.negative)===0,"red works only with positives"),p(e.red&&e.red===n.red,"red works only with red numbers")},ue.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},ue.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},ue.prototype.add=function(e,n){this._verify2(e,n);var c=e.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ue.prototype.iadd=function(e,n){this._verify2(e,n);var c=e.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},ue.prototype.sub=function(e,n){this._verify2(e,n);var c=e.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ue.prototype.isub=function(e,n){this._verify2(e,n);var c=e.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},ue.prototype.shl=function(e,n){return this._verify1(e),this.imod(e.ushln(n))},ue.prototype.imul=function(e,n){return this._verify2(e,n),this.imod(e.imul(n))},ue.prototype.mul=function(e,n){return this._verify2(e,n),this.imod(e.mul(n))},ue.prototype.isqr=function(e){return this.imul(e,e.clone())},ue.prototype.sqr=function(e){return this.mul(e,e)},ue.prototype.sqrt=function(e){if(e.isZero())return e.clone();var n=this.m.andln(3);if(p(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(e,c)}for(var s=this.m.subn(1),t=0;!s.isZero()&&s.andln(1)===0;)t++,s.iushrn(1);p(!s.isZero());var h=new u(1).toRed(this),k=h.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(k)!==0;)o.redIAdd(k);for(var b=this.pow(o,s),W=this.pow(e,s.addn(1).iushrn(1)),O=this.pow(e,s),P=t;O.cmp(h)!==0;){for(var pe=O,Ne=0;pe.cmp(h)!==0;Ne++)pe=pe.redSqr();p(Ne<P);var xe=this.pow(b,new u(1).iushln(P-Ne-1));W=W.redMul(xe),b=xe.redSqr(),O=O.redMul(b),P=Ne}return W},ue.prototype.invm=function(e){var n=e._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},ue.prototype.pow=function(e,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return e.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=e;for(var t=2;t<s.length;t++)s[t]=this.mul(s[t-1],e);var h=s[0],k=0,d=0,o=n.bitLength()%26;for(o===0&&(o=26),t=n.length-1;t>=0;t--){for(var b=n.words[t],W=o-1;W>=0;W--){var O=b>>W&1;if(h!==s[0]&&(h=this.sqr(h)),O===0&&k===0){d=0;continue}k<<=1,k|=O,d++,!(d!==c&&(t!==0||W!==0))&&(h=this.mul(h,s[k]),d=0,k=0)}o=26}return h},ue.prototype.convertTo=function(e){var n=e.umod(this.m);return n===e?n.clone():n},ue.prototype.convertFrom=function(e){var n=e.clone();return n.red=null,n},u.mont=function(e){return new $e(e)};function $e(e){ue.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x($e,ue),$e.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},$e.prototype.convertFrom=function(e){var n=this.imod(e.mul(this.rinv));return n.red=null,n},$e.prototype.imul=function(e,n){if(e.isZero()||n.isZero())return e.words[0]=0,e.length=1,e;var c=e.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.mul=function(e,n){if(e.isZero()||n.isZero())return new u(0)._forceRed(this);var c=e.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.invm=function(e){var n=this.imod(e._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof m>"u"||m,l)}),Jc=je((l,m)=>{(function(r,N){function p(e,n){if(!e)throw new Error(n||"Assertion failed")}function x(e,n){e.super_=n;var c=function(){};c.prototype=n.prototype,e.prototype=new c,e.prototype.constructor=e}function u(e,n,c){if(u.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(e||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:N.BN=u,u.BN=u,u.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=Ua().Buffer}catch{}u.isBN=function(e){return e instanceof u?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===u.wordSize&&Array.isArray(e.words)},u.max=function(e,n){return e.cmp(n)>0?e:n},u.min=function(e,n){return e.cmp(n)<0?e:n},u.prototype._init=function(e,n,c){if(typeof e=="number")return this._initNumber(e,n,c);if(typeof e=="object")return this._initArray(e,n,c);n==="hex"&&(n=16),p(n===(n|0)&&n>=2&&n<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(n===16?this._parseHex(e,s,c):(this._parseBase(e,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(e,n,c){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(p(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(e,n,c){if(p(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t,h,k=0;if(c==="be")for(s=e.length-1,t=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);else if(c==="le")for(s=0,t=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);return this.strip()};function L(e,n){var c=e.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(e,n,c){var s=L(e,c);return c-1>=n&&(s|=L(e,c-1)<<4),s}u.prototype._parseHex=function(e,n,c){this.length=Math.ceil((e.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t=0,h=0,k;if(c==="be")for(s=e.length-1;s>=n;s-=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8;else{var d=e.length-n;for(s=d%2===0?n+1:n;s<e.length;s+=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8}this.strip()};function R(e,n,c,s){for(var t=0,h=Math.min(e.length,c),k=n;k<h;k++){var d=e.charCodeAt(k)-48;t*=s,d>=49?t+=d-49+10:d>=17?t+=d-17+10:t+=d}return t}u.prototype._parseBase=function(e,n,c){this.words=[0],this.length=1;for(var s=0,t=1;t<=67108863;t*=n)s++;s--,t=t/n|0;for(var h=e.length-c,k=h%s,d=Math.min(h,h-k)+c,o=0,b=c;b<d;b+=s)o=R(e,b,b+s,n),this.imuln(t),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(k!==0){var W=1;for(o=R(e,b,e.length,n),b=0;b<k;b++)W*=n;this.imuln(W),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(e){e.words=new Array(this.length);for(var n=0;n<this.length;n++)e.words[n]=this.words[n];e.length=this.length,e.negative=this.negative,e.red=this.red},u.prototype.clone=function(){var e=new u(null);return this.copy(e),e},u.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(e,n){e=e||10,n=n|0||1;var c;if(e===16||e==="hex"){c="";for(var s=0,t=0,h=0;h<this.length;h++){var k=this.words[h],d=((k<<s|t)&16777215).toString(16);t=k>>>24-s&16777215,t!==0||h!==this.length-1?c=v[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,h--)}for(t!==0&&(c=t.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(e===(e|0)&&e>=2&&e<=36){var o=$[e],b=M[e];c="";var W=this.clone();for(W.negative=0;!W.isZero();){var O=W.modn(b).toString(e);W=W.idivn(b),W.isZero()?c=O+c:c=v[o-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}p(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&p(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(e,n){return p(typeof _<"u"),this.toArrayLike(_,e,n)},u.prototype.toArray=function(e,n){return this.toArrayLike(Array,e,n)},u.prototype.toArrayLike=function(e,n,c){var s=this.byteLength(),t=c||Math.max(1,s);p(s<=t,"byte array longer than desired length"),p(t>0,"Requested array length <= 0"),this.strip();var h=n==="le",k=new e(t),d,o,b=this.clone();if(h){for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[o]=d;for(;o<t;o++)k[o]=0}else{for(o=0;o<t-s;o++)k[o]=0;for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[t-o-1]=d}return k},Math.clz32?u.prototype._countBits=function(e){return 32-Math.clz32(e)}:u.prototype._countBits=function(e){var n=e,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(e){if(e===0)return 26;var n=e,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var e=this.words[this.length-1],n=this._countBits(e);return(this.length-1)*26+n};function T(e){for(var n=new Array(e.bitLength()),c=0;c<n.length;c++){var s=c/26|0,t=c%26;n[c]=(e.words[s]&1<<t)>>>t}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(e+=c,c!==26)break}return e},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},u.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]|e.words[n];return this.strip()},u.prototype.ior=function(e){return p((this.negative|e.negative)===0),this.iuor(e)},u.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},u.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},u.prototype.iuand=function(e){var n;this.length>e.length?n=e:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&e.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(e){return p((this.negative|e.negative)===0),this.iuand(e)},u.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},u.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},u.prototype.iuxor=function(e){var n,c;this.length>e.length?(n=this,c=e):(n=e,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(e){return p((this.negative|e.negative)===0),this.iuxor(e)},u.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},u.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},u.prototype.inotn=function(e){p(typeof e=="number"&&e>=0);var n=Math.ceil(e/26)|0,c=e%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(e){return this.clone().inotn(e)},u.prototype.setn=function(e,n){p(typeof e=="number"&&e>=0);var c=e/26|0,s=e%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(e){var n;if(this.negative!==0&&e.negative===0)return this.negative=0,n=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,n=this.isub(e),e.negative=1,n._normSign();var c,s;this.length>e.length?(c=this,s=e):(c=e,s=this);for(var t=0,h=0;h<s.length;h++)n=(c.words[h]|0)+(s.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;for(;t!==0&&h<c.length;h++)n=(c.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;if(this.length=c.length,t!==0)this.words[this.length]=t,this.length++;else if(c!==this)for(;h<c.length;h++)this.words[h]=c.words[h];return this},u.prototype.add=function(e){var n;return e.negative!==0&&this.negative===0?(e.negative=0,n=this.sub(e),e.negative^=1,n):e.negative===0&&this.negative!==0?(this.negative=0,n=e.sub(this),this.negative=1,n):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},u.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var n=this.iadd(e);return e.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var c=this.cmp(e);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,t;c>0?(s=this,t=e):(s=e,t=this);for(var h=0,k=0;k<t.length;k++)n=(s.words[k]|0)-(t.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;for(;h!==0&&k<s.length;k++)n=(s.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;if(h===0&&k<s.length&&s!==this)for(;k<s.length;k++)this.words[k]=s.words[k];return this.length=Math.max(this.length,k),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(e){return this.clone().isub(e)};function q(e,n,c){c.negative=n.negative^e.negative;var s=e.length+n.length|0;c.length=s,s=s-1|0;var t=e.words[0]|0,h=n.words[0]|0,k=t*h,d=k&67108863,o=k/67108864|0;c.words[0]=d;for(var b=1;b<s;b++){for(var W=o>>>26,O=o&67108863,P=Math.min(b,n.length-1),pe=Math.max(0,b-e.length+1);pe<=P;pe++){var Ne=b-pe|0;t=e.words[Ne]|0,h=n.words[pe]|0,k=t*h+O,W+=k/67108864|0,O=k&67108863}c.words[b]=O|0,o=W|0}return o!==0?c.words[b]=o|0:c.length--,c.strip()}var X=function(e,n,c){var s=e.words,t=n.words,h=c.words,k=0,d,o,b,W=s[0]|0,O=W&8191,P=W>>>13,pe=s[1]|0,Ne=pe&8191,xe=pe>>>13,te=s[2]|0,ie=te&8191,he=te>>>13,Fe=s[3]|0,Re=Fe&8191,ge=Fe>>>13,H=s[4]|0,w=H&8191,B=H>>>13,Te=s[5]|0,Le=Te&8191,Ve=Te>>>13,Pe=s[6]|0,We=Pe&8191,Ie=Pe>>>13,Qe=s[7]|0,Je=Qe&8191,Se=Qe>>>13,bo=s[8]|0,U=bo&8191,a=bo>>>13,i=s[9]|0,f=i&8191,Z=i>>>13,V=t[0]|0,g=V&8191,F=V>>>13,z=t[1]|0,J=z&8191,K=z>>>13,oe=t[2]|0,Y=oe&8191,G=oe>>>13,ne=t[3]|0,A=ne&8191,re=ne>>>13,ke=t[4]|0,ee=ke&8191,ae=ke>>>13,se=t[5]|0,Q=se&8191,le=se>>>13,fe=t[6]|0,me=fe&8191,de=fe>>>13,Oe=t[7]|0,_e=Oe&8191,ve=Oe>>>13,Xe=t[8]|0,ye=Xe&8191,Ze=Xe>>>13,we=t[9]|0,Me=we&8191,Ue=we>>>13;c.negative=e.negative^n.negative,c.length=19,d=Math.imul(O,g),o=Math.imul(O,F),o=o+Math.imul(P,g)|0,b=Math.imul(P,F);var ze=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(Ne,g),o=Math.imul(Ne,F),o=o+Math.imul(xe,g)|0,b=Math.imul(xe,F),d=d+Math.imul(O,J)|0,o=o+Math.imul(O,K)|0,o=o+Math.imul(P,J)|0,b=b+Math.imul(P,K)|0;var Ke=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(ie,g),o=Math.imul(ie,F),o=o+Math.imul(he,g)|0,b=Math.imul(he,F),d=d+Math.imul(Ne,J)|0,o=o+Math.imul(Ne,K)|0,o=o+Math.imul(xe,J)|0,b=b+Math.imul(xe,K)|0,d=d+Math.imul(O,Y)|0,o=o+Math.imul(O,G)|0,o=o+Math.imul(P,Y)|0,b=b+Math.imul(P,G)|0;var Ee=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(Re,g),o=Math.imul(Re,F),o=o+Math.imul(ge,g)|0,b=Math.imul(ge,F),d=d+Math.imul(ie,J)|0,o=o+Math.imul(ie,K)|0,o=o+Math.imul(he,J)|0,b=b+Math.imul(he,K)|0,d=d+Math.imul(Ne,Y)|0,o=o+Math.imul(Ne,G)|0,o=o+Math.imul(xe,Y)|0,b=b+Math.imul(xe,G)|0,d=d+Math.imul(O,A)|0,o=o+Math.imul(O,re)|0,o=o+Math.imul(P,A)|0,b=b+Math.imul(P,re)|0;var De=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(De>>>26)|0,De&=67108863,d=Math.imul(w,g),o=Math.imul(w,F),o=o+Math.imul(B,g)|0,b=Math.imul(B,F),d=d+Math.imul(Re,J)|0,o=o+Math.imul(Re,K)|0,o=o+Math.imul(ge,J)|0,b=b+Math.imul(ge,K)|0,d=d+Math.imul(ie,Y)|0,o=o+Math.imul(ie,G)|0,o=o+Math.imul(he,Y)|0,b=b+Math.imul(he,G)|0,d=d+Math.imul(Ne,A)|0,o=o+Math.imul(Ne,re)|0,o=o+Math.imul(xe,A)|0,b=b+Math.imul(xe,re)|0,d=d+Math.imul(O,ee)|0,o=o+Math.imul(O,ae)|0,o=o+Math.imul(P,ee)|0,b=b+Math.imul(P,ae)|0;var Ge=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,d=Math.imul(Le,g),o=Math.imul(Le,F),o=o+Math.imul(Ve,g)|0,b=Math.imul(Ve,F),d=d+Math.imul(w,J)|0,o=o+Math.imul(w,K)|0,o=o+Math.imul(B,J)|0,b=b+Math.imul(B,K)|0,d=d+Math.imul(Re,Y)|0,o=o+Math.imul(Re,G)|0,o=o+Math.imul(ge,Y)|0,b=b+Math.imul(ge,G)|0,d=d+Math.imul(ie,A)|0,o=o+Math.imul(ie,re)|0,o=o+Math.imul(he,A)|0,b=b+Math.imul(he,re)|0,d=d+Math.imul(Ne,ee)|0,o=o+Math.imul(Ne,ae)|0,o=o+Math.imul(xe,ee)|0,b=b+Math.imul(xe,ae)|0,d=d+Math.imul(O,Q)|0,o=o+Math.imul(O,le)|0,o=o+Math.imul(P,Q)|0,b=b+Math.imul(P,le)|0;var Ce=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,d=Math.imul(We,g),o=Math.imul(We,F),o=o+Math.imul(Ie,g)|0,b=Math.imul(Ie,F),d=d+Math.imul(Le,J)|0,o=o+Math.imul(Le,K)|0,o=o+Math.imul(Ve,J)|0,b=b+Math.imul(Ve,K)|0,d=d+Math.imul(w,Y)|0,o=o+Math.imul(w,G)|0,o=o+Math.imul(B,Y)|0,b=b+Math.imul(B,G)|0,d=d+Math.imul(Re,A)|0,o=o+Math.imul(Re,re)|0,o=o+Math.imul(ge,A)|0,b=b+Math.imul(ge,re)|0,d=d+Math.imul(ie,ee)|0,o=o+Math.imul(ie,ae)|0,o=o+Math.imul(he,ee)|0,b=b+Math.imul(he,ae)|0,d=d+Math.imul(Ne,Q)|0,o=o+Math.imul(Ne,le)|0,o=o+Math.imul(xe,Q)|0,b=b+Math.imul(xe,le)|0,d=d+Math.imul(O,me)|0,o=o+Math.imul(O,de)|0,o=o+Math.imul(P,me)|0,b=b+Math.imul(P,de)|0;var He=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(Je,g),o=Math.imul(Je,F),o=o+Math.imul(Se,g)|0,b=Math.imul(Se,F),d=d+Math.imul(We,J)|0,o=o+Math.imul(We,K)|0,o=o+Math.imul(Ie,J)|0,b=b+Math.imul(Ie,K)|0,d=d+Math.imul(Le,Y)|0,o=o+Math.imul(Le,G)|0,o=o+Math.imul(Ve,Y)|0,b=b+Math.imul(Ve,G)|0,d=d+Math.imul(w,A)|0,o=o+Math.imul(w,re)|0,o=o+Math.imul(B,A)|0,b=b+Math.imul(B,re)|0,d=d+Math.imul(Re,ee)|0,o=o+Math.imul(Re,ae)|0,o=o+Math.imul(ge,ee)|0,b=b+Math.imul(ge,ae)|0,d=d+Math.imul(ie,Q)|0,o=o+Math.imul(ie,le)|0,o=o+Math.imul(he,Q)|0,b=b+Math.imul(he,le)|0,d=d+Math.imul(Ne,me)|0,o=o+Math.imul(Ne,de)|0,o=o+Math.imul(xe,me)|0,b=b+Math.imul(xe,de)|0,d=d+Math.imul(O,_e)|0,o=o+Math.imul(O,ve)|0,o=o+Math.imul(P,_e)|0,b=b+Math.imul(P,ve)|0;var Be=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Be>>>26)|0,Be&=67108863,d=Math.imul(U,g),o=Math.imul(U,F),o=o+Math.imul(a,g)|0,b=Math.imul(a,F),d=d+Math.imul(Je,J)|0,o=o+Math.imul(Je,K)|0,o=o+Math.imul(Se,J)|0,b=b+Math.imul(Se,K)|0,d=d+Math.imul(We,Y)|0,o=o+Math.imul(We,G)|0,o=o+Math.imul(Ie,Y)|0,b=b+Math.imul(Ie,G)|0,d=d+Math.imul(Le,A)|0,o=o+Math.imul(Le,re)|0,o=o+Math.imul(Ve,A)|0,b=b+Math.imul(Ve,re)|0,d=d+Math.imul(w,ee)|0,o=o+Math.imul(w,ae)|0,o=o+Math.imul(B,ee)|0,b=b+Math.imul(B,ae)|0,d=d+Math.imul(Re,Q)|0,o=o+Math.imul(Re,le)|0,o=o+Math.imul(ge,Q)|0,b=b+Math.imul(ge,le)|0,d=d+Math.imul(ie,me)|0,o=o+Math.imul(ie,de)|0,o=o+Math.imul(he,me)|0,b=b+Math.imul(he,de)|0,d=d+Math.imul(Ne,_e)|0,o=o+Math.imul(Ne,ve)|0,o=o+Math.imul(xe,_e)|0,b=b+Math.imul(xe,ve)|0,d=d+Math.imul(O,ye)|0,o=o+Math.imul(O,Ze)|0,o=o+Math.imul(P,ye)|0,b=b+Math.imul(P,Ze)|0;var Ye=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,d=Math.imul(f,g),o=Math.imul(f,F),o=o+Math.imul(Z,g)|0,b=Math.imul(Z,F),d=d+Math.imul(U,J)|0,o=o+Math.imul(U,K)|0,o=o+Math.imul(a,J)|0,b=b+Math.imul(a,K)|0,d=d+Math.imul(Je,Y)|0,o=o+Math.imul(Je,G)|0,o=o+Math.imul(Se,Y)|0,b=b+Math.imul(Se,G)|0,d=d+Math.imul(We,A)|0,o=o+Math.imul(We,re)|0,o=o+Math.imul(Ie,A)|0,b=b+Math.imul(Ie,re)|0,d=d+Math.imul(Le,ee)|0,o=o+Math.imul(Le,ae)|0,o=o+Math.imul(Ve,ee)|0,b=b+Math.imul(Ve,ae)|0,d=d+Math.imul(w,Q)|0,o=o+Math.imul(w,le)|0,o=o+Math.imul(B,Q)|0,b=b+Math.imul(B,le)|0,d=d+Math.imul(Re,me)|0,o=o+Math.imul(Re,de)|0,o=o+Math.imul(ge,me)|0,b=b+Math.imul(ge,de)|0,d=d+Math.imul(ie,_e)|0,o=o+Math.imul(ie,ve)|0,o=o+Math.imul(he,_e)|0,b=b+Math.imul(he,ve)|0,d=d+Math.imul(Ne,ye)|0,o=o+Math.imul(Ne,Ze)|0,o=o+Math.imul(xe,ye)|0,b=b+Math.imul(xe,Ze)|0,d=d+Math.imul(O,Me)|0,o=o+Math.imul(O,Ue)|0,o=o+Math.imul(P,Me)|0,b=b+Math.imul(P,Ue)|0;var lo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(lo>>>26)|0,lo&=67108863,d=Math.imul(f,J),o=Math.imul(f,K),o=o+Math.imul(Z,J)|0,b=Math.imul(Z,K),d=d+Math.imul(U,Y)|0,o=o+Math.imul(U,G)|0,o=o+Math.imul(a,Y)|0,b=b+Math.imul(a,G)|0,d=d+Math.imul(Je,A)|0,o=o+Math.imul(Je,re)|0,o=o+Math.imul(Se,A)|0,b=b+Math.imul(Se,re)|0,d=d+Math.imul(We,ee)|0,o=o+Math.imul(We,ae)|0,o=o+Math.imul(Ie,ee)|0,b=b+Math.imul(Ie,ae)|0,d=d+Math.imul(Le,Q)|0,o=o+Math.imul(Le,le)|0,o=o+Math.imul(Ve,Q)|0,b=b+Math.imul(Ve,le)|0,d=d+Math.imul(w,me)|0,o=o+Math.imul(w,de)|0,o=o+Math.imul(B,me)|0,b=b+Math.imul(B,de)|0,d=d+Math.imul(Re,_e)|0,o=o+Math.imul(Re,ve)|0,o=o+Math.imul(ge,_e)|0,b=b+Math.imul(ge,ve)|0,d=d+Math.imul(ie,ye)|0,o=o+Math.imul(ie,Ze)|0,o=o+Math.imul(he,ye)|0,b=b+Math.imul(he,Ze)|0,d=d+Math.imul(Ne,Me)|0,o=o+Math.imul(Ne,Ue)|0,o=o+Math.imul(xe,Me)|0,b=b+Math.imul(xe,Ue)|0;var Ae=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,d=Math.imul(f,Y),o=Math.imul(f,G),o=o+Math.imul(Z,Y)|0,b=Math.imul(Z,G),d=d+Math.imul(U,A)|0,o=o+Math.imul(U,re)|0,o=o+Math.imul(a,A)|0,b=b+Math.imul(a,re)|0,d=d+Math.imul(Je,ee)|0,o=o+Math.imul(Je,ae)|0,o=o+Math.imul(Se,ee)|0,b=b+Math.imul(Se,ae)|0,d=d+Math.imul(We,Q)|0,o=o+Math.imul(We,le)|0,o=o+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,le)|0,d=d+Math.imul(Le,me)|0,o=o+Math.imul(Le,de)|0,o=o+Math.imul(Ve,me)|0,b=b+Math.imul(Ve,de)|0,d=d+Math.imul(w,_e)|0,o=o+Math.imul(w,ve)|0,o=o+Math.imul(B,_e)|0,b=b+Math.imul(B,ve)|0,d=d+Math.imul(Re,ye)|0,o=o+Math.imul(Re,Ze)|0,o=o+Math.imul(ge,ye)|0,b=b+Math.imul(ge,Ze)|0,d=d+Math.imul(ie,Me)|0,o=o+Math.imul(ie,Ue)|0,o=o+Math.imul(he,Me)|0,b=b+Math.imul(he,Ue)|0;var ao=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ao>>>26)|0,ao&=67108863,d=Math.imul(f,A),o=Math.imul(f,re),o=o+Math.imul(Z,A)|0,b=Math.imul(Z,re),d=d+Math.imul(U,ee)|0,o=o+Math.imul(U,ae)|0,o=o+Math.imul(a,ee)|0,b=b+Math.imul(a,ae)|0,d=d+Math.imul(Je,Q)|0,o=o+Math.imul(Je,le)|0,o=o+Math.imul(Se,Q)|0,b=b+Math.imul(Se,le)|0,d=d+Math.imul(We,me)|0,o=o+Math.imul(We,de)|0,o=o+Math.imul(Ie,me)|0,b=b+Math.imul(Ie,de)|0,d=d+Math.imul(Le,_e)|0,o=o+Math.imul(Le,ve)|0,o=o+Math.imul(Ve,_e)|0,b=b+Math.imul(Ve,ve)|0,d=d+Math.imul(w,ye)|0,o=o+Math.imul(w,Ze)|0,o=o+Math.imul(B,ye)|0,b=b+Math.imul(B,Ze)|0,d=d+Math.imul(Re,Me)|0,o=o+Math.imul(Re,Ue)|0,o=o+Math.imul(ge,Me)|0,b=b+Math.imul(ge,Ue)|0;var no=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(no>>>26)|0,no&=67108863,d=Math.imul(f,ee),o=Math.imul(f,ae),o=o+Math.imul(Z,ee)|0,b=Math.imul(Z,ae),d=d+Math.imul(U,Q)|0,o=o+Math.imul(U,le)|0,o=o+Math.imul(a,Q)|0,b=b+Math.imul(a,le)|0,d=d+Math.imul(Je,me)|0,o=o+Math.imul(Je,de)|0,o=o+Math.imul(Se,me)|0,b=b+Math.imul(Se,de)|0,d=d+Math.imul(We,_e)|0,o=o+Math.imul(We,ve)|0,o=o+Math.imul(Ie,_e)|0,b=b+Math.imul(Ie,ve)|0,d=d+Math.imul(Le,ye)|0,o=o+Math.imul(Le,Ze)|0,o=o+Math.imul(Ve,ye)|0,b=b+Math.imul(Ve,Ze)|0,d=d+Math.imul(w,Me)|0,o=o+Math.imul(w,Ue)|0,o=o+Math.imul(B,Me)|0,b=b+Math.imul(B,Ue)|0;var oo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(oo>>>26)|0,oo&=67108863,d=Math.imul(f,Q),o=Math.imul(f,le),o=o+Math.imul(Z,Q)|0,b=Math.imul(Z,le),d=d+Math.imul(U,me)|0,o=o+Math.imul(U,de)|0,o=o+Math.imul(a,me)|0,b=b+Math.imul(a,de)|0,d=d+Math.imul(Je,_e)|0,o=o+Math.imul(Je,ve)|0,o=o+Math.imul(Se,_e)|0,b=b+Math.imul(Se,ve)|0,d=d+Math.imul(We,ye)|0,o=o+Math.imul(We,Ze)|0,o=o+Math.imul(Ie,ye)|0,b=b+Math.imul(Ie,Ze)|0,d=d+Math.imul(Le,Me)|0,o=o+Math.imul(Le,Ue)|0,o=o+Math.imul(Ve,Me)|0,b=b+Math.imul(Ve,Ue)|0;var uo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(uo>>>26)|0,uo&=67108863,d=Math.imul(f,me),o=Math.imul(f,de),o=o+Math.imul(Z,me)|0,b=Math.imul(Z,de),d=d+Math.imul(U,_e)|0,o=o+Math.imul(U,ve)|0,o=o+Math.imul(a,_e)|0,b=b+Math.imul(a,ve)|0,d=d+Math.imul(Je,ye)|0,o=o+Math.imul(Je,Ze)|0,o=o+Math.imul(Se,ye)|0,b=b+Math.imul(Se,Ze)|0,d=d+Math.imul(We,Me)|0,o=o+Math.imul(We,Ue)|0,o=o+Math.imul(Ie,Me)|0,b=b+Math.imul(Ie,Ue)|0;var to=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(to>>>26)|0,to&=67108863,d=Math.imul(f,_e),o=Math.imul(f,ve),o=o+Math.imul(Z,_e)|0,b=Math.imul(Z,ve),d=d+Math.imul(U,ye)|0,o=o+Math.imul(U,Ze)|0,o=o+Math.imul(a,ye)|0,b=b+Math.imul(a,Ze)|0,d=d+Math.imul(Je,Me)|0,o=o+Math.imul(Je,Ue)|0,o=o+Math.imul(Se,Me)|0,b=b+Math.imul(Se,Ue)|0;var fo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(fo>>>26)|0,fo&=67108863,d=Math.imul(f,ye),o=Math.imul(f,Ze),o=o+Math.imul(Z,ye)|0,b=Math.imul(Z,Ze),d=d+Math.imul(U,Me)|0,o=o+Math.imul(U,Ue)|0,o=o+Math.imul(a,Me)|0,b=b+Math.imul(a,Ue)|0;var io=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(io>>>26)|0,io&=67108863,d=Math.imul(f,Me),o=Math.imul(f,Ue),o=o+Math.imul(Z,Me)|0,b=Math.imul(Z,Ue);var ro=(k+d|0)+((o&8191)<<13)|0;return k=(b+(o>>>13)|0)+(ro>>>26)|0,ro&=67108863,h[0]=ze,h[1]=Ke,h[2]=Ee,h[3]=De,h[4]=Ge,h[5]=Ce,h[6]=He,h[7]=Be,h[8]=Ye,h[9]=lo,h[10]=Ae,h[11]=ao,h[12]=no,h[13]=oo,h[14]=uo,h[15]=to,h[16]=fo,h[17]=io,h[18]=ro,k!==0&&(h[19]=k,c.length++),c};Math.imul||(X=q);function j(e,n,c){c.negative=n.negative^e.negative,c.length=e.length+n.length;for(var s=0,t=0,h=0;h<c.length-1;h++){var k=t;t=0;for(var d=s&67108863,o=Math.min(h,n.length-1),b=Math.max(0,h-e.length+1);b<=o;b++){var W=h-b,O=e.words[W]|0,P=n.words[b]|0,pe=O*P,Ne=pe&67108863;k=k+(pe/67108864|0)|0,Ne=Ne+d|0,d=Ne&67108863,k=k+(Ne>>>26)|0,t+=k>>>26,k&=67108863}c.words[h]=d,s=k,k=t}return s!==0?c.words[h]=s:c.length--,c.strip()}function I(e,n,c){var s=new S;return s.mulp(e,n,c)}u.prototype.mulTo=function(e,n){var c,s=this.length+e.length;return this.length===10&&e.length===10?c=X(this,e,n):s<63?c=q(this,e,n):s<1024?c=j(this,e,n):c=I(this,e,n),c};function S(e,n){this.x=e,this.y=n}S.prototype.makeRBT=function(e){for(var n=new Array(e),c=u.prototype._countBits(e)-1,s=0;s<e;s++)n[s]=this.revBin(s,c,e);return n},S.prototype.revBin=function(e,n,c){if(e===0||e===c-1)return e;for(var s=0,t=0;t<n;t++)s|=(e&1)<<n-t-1,e>>=1;return s},S.prototype.permute=function(e,n,c,s,t,h){for(var k=0;k<h;k++)s[k]=n[e[k]],t[k]=c[e[k]]},S.prototype.transform=function(e,n,c,s,t,h){this.permute(h,e,n,c,s,t);for(var k=1;k<t;k<<=1)for(var d=k<<1,o=Math.cos(2*Math.PI/d),b=Math.sin(2*Math.PI/d),W=0;W<t;W+=d)for(var O=o,P=b,pe=0;pe<k;pe++){var Ne=c[W+pe],xe=s[W+pe],te=c[W+pe+k],ie=s[W+pe+k],he=O*te-P*ie;ie=O*ie+P*te,te=he,c[W+pe]=Ne+te,s[W+pe]=xe+ie,c[W+pe+k]=Ne-te,s[W+pe+k]=xe-ie,pe!==d&&(he=o*O-b*P,P=o*P+b*O,O=he)}},S.prototype.guessLen13b=function(e,n){var c=Math.max(n,e)|1,s=c&1,t=0;for(c=c/2|0;c;c=c>>>1)t++;return 1<<t+1+s},S.prototype.conjugate=function(e,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var t=e[s];e[s]=e[c-s-1],e[c-s-1]=t,t=n[s],n[s]=-n[c-s-1],n[c-s-1]=-t}},S.prototype.normalize13b=function(e,n){for(var c=0,s=0;s<n/2;s++){var t=Math.round(e[2*s+1]/n)*8192+Math.round(e[2*s]/n)+c;e[s]=t&67108863,t<67108864?c=0:c=t/67108864|0}return e},S.prototype.convert13b=function(e,n,c,s){for(var t=0,h=0;h<n;h++)t=t+(e[h]|0),c[2*h]=t&8191,t=t>>>13,c[2*h+1]=t&8191,t=t>>>13;for(h=2*n;h<s;++h)c[h]=0;p(t===0),p((t&-8192)===0)},S.prototype.stub=function(e){for(var n=new Array(e),c=0;c<e;c++)n[c]=0;return n},S.prototype.mulp=function(e,n,c){var s=2*this.guessLen13b(e.length,n.length),t=this.makeRBT(s),h=this.stub(s),k=new Array(s),d=new Array(s),o=new Array(s),b=new Array(s),W=new Array(s),O=new Array(s),P=c.words;P.length=s,this.convert13b(e.words,e.length,k,s),this.convert13b(n.words,n.length,b,s),this.transform(k,h,d,o,s,t),this.transform(b,h,W,O,s,t);for(var pe=0;pe<s;pe++){var Ne=d[pe]*W[pe]-o[pe]*O[pe];o[pe]=d[pe]*O[pe]+o[pe]*W[pe],d[pe]=Ne}return this.conjugate(d,o,s),this.transform(d,o,P,h,s,t),this.conjugate(P,h,s),this.normalize13b(P,s),c.negative=e.negative^n.negative,c.length=e.length+n.length,c.strip()},u.prototype.mul=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),this.mulTo(e,n)},u.prototype.mulf=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),I(this,e,n)},u.prototype.imul=function(e){return this.clone().mulTo(e,this)},u.prototype.imuln=function(e){p(typeof e=="number"),p(e<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*e,t=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=t>>>26,this.words[c]=t&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(e){return this.clone().imuln(e)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(e){var n=T(e);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var t=c.sqr();s<n.length;s++,t=t.sqr())n[s]!==0&&(c=c.mul(t));return c},u.prototype.iushln=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=67108863>>>26-n<<26-n,t;if(n!==0){var h=0;for(t=0;t<this.length;t++){var k=this.words[t]&s,d=(this.words[t]|0)-k<<n;this.words[t]=d|h,h=k>>>26-n}h&&(this.words[t]=h,this.length++)}if(c!==0){for(t=this.length-1;t>=0;t--)this.words[t+c]=this.words[t];for(t=0;t<c;t++)this.words[t]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(e){return p(this.negative===0),this.iushln(e)},u.prototype.iushrn=function(e,n,c){p(typeof e=="number"&&e>=0);var s;n?s=(n-n%26)/26:s=0;var t=e%26,h=Math.min((e-t)/26,this.length),k=67108863^67108863>>>t<<t,d=c;if(s-=h,s=Math.max(0,s),d){for(var o=0;o<h;o++)d.words[o]=this.words[o];d.length=h}if(h!==0)if(this.length>h)for(this.length-=h,o=0;o<this.length;o++)this.words[o]=this.words[o+h];else this.words[0]=0,this.length=1;var b=0;for(o=this.length-1;o>=0&&(b!==0||o>=s);o--){var W=this.words[o]|0;this.words[o]=b<<26-t|W>>>t,b=W&k}return d&&b!==0&&(d.words[d.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(e,n,c){return p(this.negative===0),this.iushrn(e,n,c)},u.prototype.shln=function(e){return this.clone().ishln(e)},u.prototype.ushln=function(e){return this.clone().iushln(e)},u.prototype.shrn=function(e){return this.clone().ishrn(e)},u.prototype.ushrn=function(e){return this.clone().iushrn(e)},u.prototype.testn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return!1;var t=this.words[c];return!!(t&s)},u.prototype.imaskn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26;if(p(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(e){return this.clone().imaskn(e)},u.prototype.iaddn=function(e){return p(typeof e=="number"),p(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},u.prototype._iaddn=function(e){this.words[0]+=e;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(e){if(p(typeof e=="number"),p(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(e){return this.clone().iaddn(e)},u.prototype.subn=function(e){return this.clone().isubn(e)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(e,n,c){var s=e.length+c,t;this._expand(s);var h,k=0;for(t=0;t<e.length;t++){h=(this.words[t+c]|0)+k;var d=(e.words[t]|0)*n;h-=d&67108863,k=(h>>26)-(d/67108864|0),this.words[t+c]=h&67108863}for(;t<this.length-c;t++)h=(this.words[t+c]|0)+k,k=h>>26,this.words[t+c]=h&67108863;if(k===0)return this.strip();for(p(k===-1),k=0,t=0;t<this.length;t++)h=-(this.words[t]|0)+k,k=h>>26,this.words[t]=h&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(e,n){var c=this.length-e.length,s=this.clone(),t=e,h=t.words[t.length-1]|0,k=this._countBits(h);c=26-k,c!==0&&(t=t.ushln(c),s.iushln(c),h=t.words[t.length-1]|0);var d=s.length-t.length,o;if(n!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var b=0;b<o.length;b++)o.words[b]=0}var W=s.clone()._ishlnsubmul(t,1,d);W.negative===0&&(s=W,o&&(o.words[d]=1));for(var O=d-1;O>=0;O--){var P=(s.words[t.length+O]|0)*67108864+(s.words[t.length+O-1]|0);for(P=Math.min(P/h|0,67108863),s._ishlnsubmul(t,P,O);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(t,1,O),s.isZero()||(s.negative^=1);o&&(o.words[O]=P)}return o&&o.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:o||null,mod:s}},u.prototype.divmod=function(e,n,c){if(p(!e.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,t,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,n),n!=="mod"&&(s=h.div.neg()),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.iadd(e)),{div:s,mod:t}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),n),n!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),n),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.isub(e)),{div:h.div,mod:t}):e.length>this.length||this.cmp(e)<0?{div:new u(0),mod:this}:e.length===1?n==="div"?{div:this.divn(e.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new u(this.modn(e.words[0]))}:this._wordDiv(e,n)},u.prototype.div=function(e){return this.divmod(e,"div",!1).div},u.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},u.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},u.prototype.divRound=function(e){var n=this.divmod(e);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(e):n.mod,s=e.ushrn(1),t=e.andln(1),h=c.cmp(s);return h<0||t===1&&h===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(e){p(e<=67108863);for(var n=67108864%e,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%e;return c},u.prototype.idivn=function(e){p(e<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/e|0,n=s%e}return this.strip()},u.prototype.divn=function(e){return this.clone().idivn(e)},u.prototype.egcd=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=new u(0),k=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var o=c.clone(),b=n.clone();!n.isZero();){for(var W=0,O=1;(n.words[0]&O)===0&&W<26;++W,O<<=1);if(W>0)for(n.iushrn(W);W-- >0;)(s.isOdd()||t.isOdd())&&(s.iadd(o),t.isub(b)),s.iushrn(1),t.iushrn(1);for(var P=0,pe=1;(c.words[0]&pe)===0&&P<26;++P,pe<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(h.isOdd()||k.isOdd())&&(h.iadd(o),k.isub(b)),h.iushrn(1),k.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(h),t.isub(k)):(c.isub(n),h.isub(s),k.isub(t))}return{a:h,b:k,gcd:c.iushln(d)}},u.prototype._invmp=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var k=0,d=1;(n.words[0]&d)===0&&k<26;++k,d<<=1);if(k>0)for(n.iushrn(k);k-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var o=0,b=1;(c.words[0]&b)===0&&o<26;++o,b<<=1);if(o>0)for(c.iushrn(o);o-- >0;)t.isOdd()&&t.iadd(h),t.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(t)):(c.isub(n),t.isub(s))}var W;return n.cmpn(1)===0?W=s:W=t,W.cmpn(0)<0&&W.iadd(e),W},u.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var n=this.clone(),c=e.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var t=n.cmp(c);if(t<0){var h=n;n=c,c=h}else if(t===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(e){return this.egcd(e).a.umod(e)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(e){return this.words[0]&e},u.prototype.bincn=function(e){p(typeof e=="number");var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var t=s,h=c;t!==0&&h<this.length;h++){var k=this.words[h]|0;k+=t,t=k>>>26,k&=67108863,this.words[h]=k}return t!==0&&(this.words[h]=t,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(e){var n=e<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(e=-e),p(e<=67108863,"Number is too big");var s=this.words[0]|0;c=s===e?0:s<e?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var n=this.ucmp(e);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,t=e.words[c]|0;if(s!==t){s<t?n=-1:s>t&&(n=1);break}}return n},u.prototype.gtn=function(e){return this.cmpn(e)===1},u.prototype.gt=function(e){return this.cmp(e)===1},u.prototype.gten=function(e){return this.cmpn(e)>=0},u.prototype.gte=function(e){return this.cmp(e)>=0},u.prototype.ltn=function(e){return this.cmpn(e)===-1},u.prototype.lt=function(e){return this.cmp(e)===-1},u.prototype.lten=function(e){return this.cmpn(e)<=0},u.prototype.lte=function(e){return this.cmp(e)<=0},u.prototype.eqn=function(e){return this.cmpn(e)===0},u.prototype.eq=function(e){return this.cmp(e)===0},u.red=function(e){return new ue(e)},u.prototype.toRed=function(e){return p(!this.red,"Already a number in reduction context"),p(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},u.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(e){return this.red=e,this},u.prototype.forceRed=function(e){return p(!this.red,"Already a number in reduction context"),this._forceRed(e)},u.prototype.redAdd=function(e){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},u.prototype.redIAdd=function(e){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},u.prototype.redSub=function(e){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},u.prototype.redISub=function(e){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},u.prototype.redShl=function(e){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},u.prototype.redMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},u.prototype.redIMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},u.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(e){return p(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};function D(e,n){this.name=e,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var e=new u(null);return e.words=new Array(Math.ceil(this.n/13)),e},D.prototype.ireduce=function(e){var n=e,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(e,n){e.iushrn(this.n,0,n)},D.prototype.imulK=function(e){return e.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(e,n){for(var c=4194303,s=Math.min(e.length,9),t=0;t<s;t++)n.words[t]=e.words[t];if(n.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(n.words[n.length++]=h&c,t=10;t<e.length;t++){var k=e.words[t]|0;e.words[t-10]=(k&c)<<4|h>>>22,h=k}h>>>=22,e.words[t-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var n=0,c=0;c<e.length;c++){var s=e.words[c]|0;n+=s*977,e.words[c]=n&67108863,n=s*64+(n/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function ce(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(ce,D);function be(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(be,D);function qe(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(qe,D),qe.prototype.imulK=function(e){for(var n=0,c=0;c<e.length;c++){var s=(e.words[c]|0)*19+n,t=s&67108863;s>>>=26,e.words[c]=t,n=s}return n!==0&&(e.words[e.length++]=n),e},u._prime=function(e){if(E[e])return E[e];var n;if(e==="k256")n=new C;else if(e==="p224")n=new ce;else if(e==="p192")n=new be;else if(e==="p25519")n=new qe;else throw new Error("Unknown prime "+e);return E[e]=n,n};function ue(e){if(typeof e=="string"){var n=u._prime(e);this.m=n.p,this.prime=n}else p(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}ue.prototype._verify1=function(e){p(e.negative===0,"red works only with positives"),p(e.red,"red works only with red numbers")},ue.prototype._verify2=function(e,n){p((e.negative|n.negative)===0,"red works only with positives"),p(e.red&&e.red===n.red,"red works only with red numbers")},ue.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},ue.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},ue.prototype.add=function(e,n){this._verify2(e,n);var c=e.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ue.prototype.iadd=function(e,n){this._verify2(e,n);var c=e.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},ue.prototype.sub=function(e,n){this._verify2(e,n);var c=e.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ue.prototype.isub=function(e,n){this._verify2(e,n);var c=e.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},ue.prototype.shl=function(e,n){return this._verify1(e),this.imod(e.ushln(n))},ue.prototype.imul=function(e,n){return this._verify2(e,n),this.imod(e.imul(n))},ue.prototype.mul=function(e,n){return this._verify2(e,n),this.imod(e.mul(n))},ue.prototype.isqr=function(e){return this.imul(e,e.clone())},ue.prototype.sqr=function(e){return this.mul(e,e)},ue.prototype.sqrt=function(e){if(e.isZero())return e.clone();var n=this.m.andln(3);if(p(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(e,c)}for(var s=this.m.subn(1),t=0;!s.isZero()&&s.andln(1)===0;)t++,s.iushrn(1);p(!s.isZero());var h=new u(1).toRed(this),k=h.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(k)!==0;)o.redIAdd(k);for(var b=this.pow(o,s),W=this.pow(e,s.addn(1).iushrn(1)),O=this.pow(e,s),P=t;O.cmp(h)!==0;){for(var pe=O,Ne=0;pe.cmp(h)!==0;Ne++)pe=pe.redSqr();p(Ne<P);var xe=this.pow(b,new u(1).iushln(P-Ne-1));W=W.redMul(xe),b=xe.redSqr(),O=O.redMul(b),P=Ne}return W},ue.prototype.invm=function(e){var n=e._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},ue.prototype.pow=function(e,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return e.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=e;for(var t=2;t<s.length;t++)s[t]=this.mul(s[t-1],e);var h=s[0],k=0,d=0,o=n.bitLength()%26;for(o===0&&(o=26),t=n.length-1;t>=0;t--){for(var b=n.words[t],W=o-1;W>=0;W--){var O=b>>W&1;if(h!==s[0]&&(h=this.sqr(h)),O===0&&k===0){d=0;continue}k<<=1,k|=O,d++,!(d!==c&&(t!==0||W!==0))&&(h=this.mul(h,s[k]),d=0,k=0)}o=26}return h},ue.prototype.convertTo=function(e){var n=e.umod(this.m);return n===e?n.clone():n},ue.prototype.convertFrom=function(e){var n=e.clone();return n.red=null,n},u.mont=function(e){return new $e(e)};function $e(e){ue.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x($e,ue),$e.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},$e.prototype.convertFrom=function(e){var n=this.imod(e.mul(this.rinv));return n.red=null,n},$e.prototype.imul=function(e,n){if(e.isZero()||n.isZero())return e.words[0]=0,e.length=1,e;var c=e.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.mul=function(e,n){if(e.isZero()||n.isZero())return new u(0)._forceRed(this);var c=e.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.invm=function(e){var n=this.imod(e._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof m>"u"||m,l)}),Kc=je(()=>{}),Hs=je((l,m)=>{var r;m.exports=function(x){return r||(r=new N(null)),r.generate(x)};function N(x){this.rand=x}if(m.exports.Rand=N,N.prototype.generate=function(x){return this._rand(x)},N.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var u=new Uint8Array(x),_=0;_<u.length;_++)u[_]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?N.prototype._rand=function(x){var u=new Uint8Array(x);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?N.prototype._rand=function(x){var u=new Uint8Array(x);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(N.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(p=Kc(),typeof p.randomBytes!="function")throw new Error("Not supported");N.prototype._rand=function(x){return p.randomBytes(x)}}catch{}var p}),hr=je((l,m)=>{var r=Jc(),N=Hs();function p(x){this.rand=x||new N.Rand}m.exports=p,p.create=function(x){return new p(x)},p.prototype._randbelow=function(x){var u=x.bitLength(),_=Math.ceil(u/8);do var L=new r(this.rand.generate(_));while(L.cmp(x)>=0);return L},p.prototype._randrange=function(x,u){var _=u.sub(x);return x.add(this._randbelow(_))},p.prototype.test=function(x,u,_){var L=x.bitLength(),y=r.mont(x),R=new r(1).toRed(y);u||(u=Math.max(1,L/48|0));for(var v=x.subn(1),$=0;!v.testn($);$++);for(var M=x.shrn($),T=v.toRed(y),q=!0;u>0;u--){var X=this._randrange(new r(2),v);_&&_(X);var j=X.toRed(y).redPow(M);if(!(j.cmp(R)===0||j.cmp(T)===0)){for(var I=1;I<$;I++){if(j=j.redSqr(),j.cmp(R)===0)return!1;if(j.cmp(T)===0)break}if(I===$)return!1}}return q},p.prototype.getDivisor=function(x,u){var _=x.bitLength(),L=r.mont(x),y=new r(1).toRed(L);u||(u=Math.max(1,_/48|0));for(var R=x.subn(1),v=0;!R.testn(v);v++);for(var $=x.shrn(v),M=R.toRed(L);u>0;u--){var T=this._randrange(new r(2),R),q=x.gcd(T);if(q.cmpn(1)!==0)return q;var X=T.toRed(L).redPow($);if(!(X.cmp(y)===0||X.cmp(M)===0)){for(var j=1;j<v;j++){if(X=X.redSqr(),X.cmp(y)===0)return X.fromRed().subn(1).gcd(x);if(X.cmp(M)===0)break}if(j===v)return X=X.redSqr(),X.fromRed().subn(1).gcd(x)}}return!1}}),_r=je((l,m)=>{var r=Da();m.exports=C,C.simpleSieve=E,C.fermatTest=D;var N=fr(),p=new N(24),x=hr(),u=new x,_=new N(1),L=new N(2),y=new N(5),R=new N(16),v=new N(8),$=new N(10),M=new N(3),T=new N(7),q=new N(11),X=new N(4),j=new N(12),I=null;function S(){if(I!==null)return I;var ce=1048576,be=[];be[0]=2;for(var qe=1,ue=3;ue<ce;ue+=2){for(var $e=Math.ceil(Math.sqrt(ue)),e=0;e<qe&&be[e]<=$e&&ue%be[e]!==0;e++);qe!==e&&be[e]<=$e||(be[qe++]=ue)}return I=be,be}function E(ce){for(var be=S(),qe=0;qe<be.length;qe++)if(ce.modn(be[qe])===0)return ce.cmpn(be[qe])===0;return!0}function D(ce){var be=N.mont(ce);return L.toRed(be).redPow(ce.subn(1)).fromRed().cmpn(1)===0}function C(ce,be){if(ce<16)return be===2||be===5?new N([140,123]):new N([140,39]);be=new N(be);for(var qe,ue;;){for(qe=new N(r(Math.ceil(ce/8)));qe.bitLength()>ce;)qe.ishrn(1);if(qe.isEven()&&qe.iadd(_),qe.testn(1)||qe.iadd(L),be.cmp(L)){if(!be.cmp(y))for(;qe.mod($).cmp(M);)qe.iadd(X)}else for(;qe.mod(p).cmp(q);)qe.iadd(X);if(ue=qe.shrn(1),E(ue)&&E(qe)&&D(ue)&&D(qe)&&u.test(ue)&&u.test(qe))return qe}}}),zc=je((l,m)=>{m.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),Ec=je((l,m)=>{var r=fr(),N=hr(),p=new N,x=new r(24),u=new r(11),_=new r(10),L=new r(3),y=new r(7),R=_r(),v=Da();m.exports=X;function $(I,S){return S=S||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,S)),this._pub=new r(I),this}function M(I,S){return S=S||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,S)),this._priv=new r(I),this}var T={};function q(I,S){var E=S.toString("hex"),D=[E,I.toString(16)].join("_");if(D in T)return T[D];var C=0;if(I.isEven()||!R.simpleSieve||!R.fermatTest(I)||!p.test(I))return C+=1,E==="02"||E==="05"?C+=8:C+=4,T[D]=C,C;p.test(I.shrn(1))||(C+=2);var ce;switch(E){case"02":I.mod(x).cmp(u)&&(C+=8);break;case"05":ce=I.mod(_),ce.cmp(L)&&ce.cmp(y)&&(C+=8);break;default:C+=4}return T[D]=C,C}function X(I,S,E){this.setGenerator(S),this.__prime=new r(I),this._prime=r.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,E?(this.setPublicKey=$,this.setPrivateKey=M):this._primeCode=8}Object.defineProperty(X.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=q(this.__prime,this.__gen)),this._primeCode}}),X.prototype.generateKeys=function(){return this._priv||(this._priv=new r(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},X.prototype.computeSecret=function(I){I=new r(I),I=I.toRed(this._prime);var S=I.redPow(this._priv).fromRed(),E=new Buffer(S.toArray()),D=this.getPrime();if(E.length<D.length){var C=new Buffer(D.length-E.length);C.fill(0),E=Buffer.concat([C,E])}return E},X.prototype.getPublicKey=function(I){return j(this._pub,I)},X.prototype.getPrivateKey=function(I){return j(this._priv,I)},X.prototype.getPrime=function(I){return j(this.__prime,I)},X.prototype.getGenerator=function(I){return j(this._gen,I)},X.prototype.setGenerator=function(I,S){return S=S||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,S)),this.__gen=I,this._gen=new r(I),this};function j(I,S){var E=new Buffer(I.toArray());return S?E.toString(S):E}}),Pc=je((l)=>{var m=_r(),r=zc(),N=Ec();function p(_){var L=new Buffer(r[_].prime,"hex"),y=new Buffer(r[_].gen,"hex");return new N(L,y)}var x={binary:!0,hex:!0,base64:!0};function u(_,L,y,R){return Buffer.isBuffer(L)||x[L]===void 0?u(_,"binary",L,y):(L=L||"binary",R=R||"binary",y=y||new Buffer([2]),Buffer.isBuffer(y)||(y=new Buffer(y,R)),typeof _=="number"?new N(m(_,y),y,!0):(Buffer.isBuffer(_)||(_=new Buffer(_,L)),new N(_,y,!0)))}l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=p,l.createDiffieHellman=l.DiffieHellman=u}),kr=je((l,m)=>{m.exports=$a().EventEmitter}),Hc=je((l,m)=>{function r(T,q){var X=Object.keys(T);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(T);q&&(j=j.filter(function(I){return Object.getOwnPropertyDescriptor(T,I).enumerable})),X.push.apply(X,j)}return X}function N(T){for(var q=1;q<arguments.length;q++){var X=arguments[q]!=null?arguments[q]:{};q%2?r(Object(X),!0).forEach(function(j){p(T,j,X[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(X)):r(Object(X)).forEach(function(j){Object.defineProperty(T,j,Object.getOwnPropertyDescriptor(X,j))})}return T}function p(T,q,X){return q in T?Object.defineProperty(T,q,{value:X,enumerable:!0,configurable:!0,writable:!0}):T[q]=X,T}function x(T,q){if(!(T instanceof q))throw new TypeError("Cannot call a class as a function")}function u(T,q){for(var X=0;X<q.length;X++){var j=q[X];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}function _(T,q,X){return q&&u(T.prototype,q),X&&u(T,X),T}var L=Xo(),y=L.Buffer,R=En(),v=R.inspect,$=v&&v.custom||"inspect";function M(T,q,X){y.prototype.copy.call(T,q,X)}m.exports=function(){function T(){x(this,T),this.head=null,this.tail=null,this.length=0}return _(T,[{key:"push",value:function(q){var X={data:q,next:null};this.length>0?this.tail.next=X:this.head=X,this.tail=X,++this.length}},{key:"unshift",value:function(q){var X={data:q,next:this.head};this.length===0&&(this.tail=X),this.head=X,++this.length}},{key:"shift",value:function(){if(this.length!==0){var q=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(this.length===0)return"";for(var X=this.head,j=""+X.data;X=X.next;)j+=q+X.data;return j}},{key:"concat",value:function(q){if(this.length===0)return y.alloc(0);for(var X=y.allocUnsafe(q>>>0),j=this.head,I=0;j;)M(j.data,X,I),I+=j.data.length,j=j.next;return X}},{key:"consume",value:function(q,X){var j;return q<this.head.data.length?(j=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):q===this.head.data.length?j=this.shift():j=X?this._getString(q):this._getBuffer(q),j}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var X=this.head,j=1,I=X.data;for(q-=I.length;X=X.next;){var S=X.data,E=q>S.length?S.length:q;if(E===S.length?I+=S:I+=S.slice(0,q),q-=E,q===0){E===S.length?(++j,X.next?this.head=X.next:this.head=this.tail=null):(this.head=X,X.data=S.slice(E));break}++j}return this.length-=j,I}},{key:"_getBuffer",value:function(q){var X=y.allocUnsafe(q),j=this.head,I=1;for(j.data.copy(X),q-=j.data.length;j=j.next;){var S=j.data,E=q>S.length?S.length:q;if(S.copy(X,X.length-q,0,E),q-=E,q===0){E===S.length?(++I,j.next?this.head=j.next:this.head=this.tail=null):(this.head=j,j.data=S.slice(E));break}++I}return this.length-=I,X}},{key:$,value:function(q,X){return v(this,N({},X,{depth:0,customInspect:!1}))}}]),T}()}),Nr=je((l,m)=>{function r(L,y){var R=this,v=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return v||$?(y?y(L):L&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,L)):process.nextTick(u,this,L)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(L||null,function(M){!y&&M?R._writableState?R._writableState.errorEmitted?process.nextTick(p,R):(R._writableState.errorEmitted=!0,process.nextTick(N,R,M)):process.nextTick(N,R,M):y?(process.nextTick(p,R),y(M)):process.nextTick(p,R)}),this)}function N(L,y){u(L,y),p(L)}function p(L){L._writableState&&!L._writableState.emitClose||L._readableState&&!L._readableState.emitClose||L.emit("close")}function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(L,y){L.emit("error",y)}function _(L,y){var{_readableState:R,_writableState:v}=L;R&&R.autoDestroy||v&&v.autoDestroy?L.destroy(y):L.emit("error",y)}m.exports={destroy:r,undestroy:x,errorOrDestroy:_}}),en=je((l,m)=>{function r(y,R){y.prototype=Object.create(R.prototype),y.prototype.constructor=y,y.__proto__=R}var N={};function p(y,R,v){v||(v=Error);function $(T,q,X){return typeof R=="string"?R:R(T,q,X)}var M=function(T){r(q,T);function q(X,j,I){return T.call(this,$(X,j,I))||this}return q}(v);M.prototype.name=v.name,M.prototype.code=y,N[y]=M}function x(y,R){if(Array.isArray(y)){var v=y.length;return y=y.map(function($){return String($)}),v>2?"one of ".concat(R," ").concat(y.slice(0,v-1).join(", "),", or ")+y[v-1]:v===2?"one of ".concat(R," ").concat(y[0]," or ").concat(y[1]):"of ".concat(R," ").concat(y[0])}else return"of ".concat(R," ").concat(String(y))}function u(y,R,v){return y.substr(!v||v<0?0:+v,R.length)===R}function _(y,R,v){return(v===void 0||v>y.length)&&(v=y.length),y.substring(v-R.length,v)===R}function L(y,R,v){return typeof v!="number"&&(v=0),v+R.length>y.length?!1:y.indexOf(R,v)!==-1}p("ERR_INVALID_OPT_VALUE",function(y,R){return'The value "'+R+'" is invalid for option "'+y+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(y,R,v){var $;typeof R=="string"&&u(R,"not ")?($="must not be",R=R.replace(/^not /,"")):$="must be";var M;if(_(y," argument"))M="The ".concat(y," ").concat($," ").concat(x(R,"type"));else{var T=L(y,".")?"property":"argument";M='The "'.concat(y,'" ').concat(T," ").concat($," ").concat(x(R,"type"))}return M+=". Received type ".concat(typeof v),M},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=N}),Zr=je((l,m)=>{var r=en().codes.ERR_INVALID_OPT_VALUE;function N(x,u,_){return x.highWaterMark!=null?x.highWaterMark:u?x[_]:null}function p(x,u,_,L){var y=N(u,L,_);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var R=L?_:"highWaterMark";throw new r(R,y)}return Math.floor(y)}return x.objectMode?16:16384}m.exports={getHighWaterMark:p}}),vr=je((l,m)=>{m.exports=ue;function r(te){var ie=this;this.next=null,this.entry=null,this.finish=function(){xe(ie,te)}}var N;ue.WritableState=be;var p={deprecate:Fl()},x=kr(),u=Xo().Buffer,_=global.Uint8Array||function(){};function L(te){return u.from(te)}function y(te){return u.isBuffer(te)||te instanceof _}var R=Nr(),v=Zr(),$=v.getHighWaterMark,M=en().codes,T=M.ERR_INVALID_ARG_TYPE,q=M.ERR_METHOD_NOT_IMPLEMENTED,X=M.ERR_MULTIPLE_CALLBACK,j=M.ERR_STREAM_CANNOT_PIPE,I=M.ERR_STREAM_DESTROYED,S=M.ERR_STREAM_NULL_VALUES,E=M.ERR_STREAM_WRITE_AFTER_END,D=M.ERR_UNKNOWN_ENCODING,C=R.errorOrDestroy;mo()(ue,x);function ce(){}function be(te,ie,he){N=N||on(),te=te||{},typeof he!="boolean"&&(he=ie instanceof N),this.objectMode=!!te.objectMode,he&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=$(this,te,"writableHighWaterMark",he),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Fe=te.decodeStrings===!1;this.decodeStrings=!Fe,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Re){k(ie,Re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}be.prototype.getBuffer=function(){for(var te=this.bufferedRequest,ie=[];te;)ie.push(te),te=te.next;return ie},function(){try{Object.defineProperty(be.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var qe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(qe=Function.prototype[Symbol.hasInstance],Object.defineProperty(ue,Symbol.hasInstance,{value:function(te){return qe.call(this,te)?!0:this!==ue?!1:te&&te._writableState instanceof be}})):qe=function(te){return te instanceof this};function ue(te){N=N||on();var ie=this instanceof N;if(!ie&&!qe.call(ue,this))return new ue(te);this._writableState=new be(te,this,ie),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),x.call(this)}ue.prototype.pipe=function(){C(this,new j)};function $e(te,ie){var he=new E;C(te,he),process.nextTick(ie,he)}function e(te,ie,he,Fe){var Re;return he===null?Re=new S:typeof he!="string"&&!ie.objectMode&&(Re=new T("chunk",["string","Buffer"],he)),Re?(C(te,Re),process.nextTick(Fe,Re),!1):!0}ue.prototype.write=function(te,ie,he){var Fe=this._writableState,Re=!1,ge=!Fe.objectMode&&y(te);return ge&&!u.isBuffer(te)&&(te=L(te)),typeof ie=="function"&&(he=ie,ie=null),ge?ie="buffer":ie||(ie=Fe.defaultEncoding),typeof he!="function"&&(he=ce),Fe.ending?$e(this,he):(ge||e(this,Fe,te,he))&&(Fe.pendingcb++,Re=c(this,Fe,ge,te,ie,he)),Re},ue.prototype.cork=function(){this._writableState.corked++},ue.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&b(this,te))},ue.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new D(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(ue.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function n(te,ie,he){return!te.objectMode&&te.decodeStrings!==!1&&typeof ie=="string"&&(ie=u.from(ie,he)),ie}Object.defineProperty(ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(te,ie,he,Fe,Re,ge){if(!he){var H=n(ie,Fe,Re);Fe!==H&&(he=!0,Re="buffer",Fe=H)}var w=ie.objectMode?1:Fe.length;ie.length+=w;var B=ie.length<ie.highWaterMark;if(B||(ie.needDrain=!0),ie.writing||ie.corked){var Te=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:Fe,encoding:Re,isBuf:he,callback:ge,next:null},Te?Te.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else s(te,ie,!1,w,Fe,Re,ge);return B}function s(te,ie,he,Fe,Re,ge,H){ie.writelen=Fe,ie.writecb=H,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new I("write")):he?te._writev(Re,ie.onwrite):te._write(Re,ge,ie.onwrite),ie.sync=!1}function t(te,ie,he,Fe,Re){--ie.pendingcb,he?(process.nextTick(Re,Fe),process.nextTick(pe,te,ie),te._writableState.errorEmitted=!0,C(te,Fe)):(Re(Fe),te._writableState.errorEmitted=!0,C(te,Fe),pe(te,ie))}function h(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function k(te,ie){var he=te._writableState,Fe=he.sync,Re=he.writecb;if(typeof Re!="function")throw new X;if(h(he),ie)t(te,he,Fe,ie,Re);else{var ge=W(he)||te.destroyed;!ge&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&b(te,he),Fe?process.nextTick(d,te,he,ge,Re):d(te,he,ge,Re)}}function d(te,ie,he,Fe){he||o(te,ie),ie.pendingcb--,Fe(),pe(te,ie)}function o(te,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,te.emit("drain"))}function b(te,ie){ie.bufferProcessing=!0;var he=ie.bufferedRequest;if(te._writev&&he&&he.next){var Fe=ie.bufferedRequestCount,Re=new Array(Fe),ge=ie.corkedRequestsFree;ge.entry=he;for(var H=0,w=!0;he;)Re[H]=he,he.isBuf||(w=!1),he=he.next,H+=1;Re.allBuffers=w,s(te,ie,!0,ie.length,Re,"",ge.finish),ie.pendingcb++,ie.lastBufferedRequest=null,ge.next?(ie.corkedRequestsFree=ge.next,ge.next=null):ie.corkedRequestsFree=new r(ie),ie.bufferedRequestCount=0}else{for(;he;){var{chunk:B,encoding:Te,callback:Le}=he,Ve=ie.objectMode?1:B.length;if(s(te,ie,!1,Ve,B,Te,Le),he=he.next,ie.bufferedRequestCount--,ie.writing)break}he===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=he,ie.bufferProcessing=!1}ue.prototype._write=function(te,ie,he){he(new q("_write()"))},ue.prototype._writev=null,ue.prototype.end=function(te,ie,he){var Fe=this._writableState;return typeof te=="function"?(he=te,te=null,ie=null):typeof ie=="function"&&(he=ie,ie=null),te!=null&&this.write(te,ie),Fe.corked&&(Fe.corked=1,this.uncork()),Fe.ending||Ne(this,Fe,he),this},Object.defineProperty(ue.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function O(te,ie){te._final(function(he){ie.pendingcb--,he&&C(te,he),ie.prefinished=!0,te.emit("prefinish"),pe(te,ie)})}function P(te,ie){!ie.prefinished&&!ie.finalCalled&&(typeof te._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,process.nextTick(O,te,ie)):(ie.prefinished=!0,te.emit("prefinish")))}function pe(te,ie){var he=W(ie);if(he&&(P(te,ie),ie.pendingcb===0&&(ie.finished=!0,te.emit("finish"),ie.autoDestroy))){var Fe=te._readableState;(!Fe||Fe.autoDestroy&&Fe.endEmitted)&&te.destroy()}return he}function Ne(te,ie,he){ie.ending=!0,pe(te,ie),he&&(ie.finished?process.nextTick(he):te.once("finish",he)),ie.ended=!0,te.writable=!1}function xe(te,ie,he){var Fe=te.entry;for(te.entry=null;Fe;){var Re=Fe.callback;ie.pendingcb--,Re(he),Fe=Fe.next}ie.corkedRequestsFree.next=te}Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){!this._writableState||(this._writableState.destroyed=te)}}),ue.prototype.destroy=R.destroy,ue.prototype._undestroy=R.undestroy,ue.prototype._destroy=function(te,ie){ie(te)}}),on=je((l,m)=>{var r=Object.keys||function(v){var $=[];for(var M in v)$.push(M);return $};m.exports=L;var N=yr(),p=vr();mo()(L,N);for(x=r(p.prototype),_=0;_<x.length;_++)u=x[_],L.prototype[u]||(L.prototype[u]=p.prototype[u]);var x,u,_;function L(v){if(!(this instanceof L))return new L(v);N.call(this,v),p.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(R,this)}function R(v){v.end()}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}),Gs=je((l,m)=>{var r=en().codes.ERR_STREAM_PREMATURE_CLOSE;function N(_){var L=!1;return function(){if(!L){L=!0;for(var y=arguments.length,R=new Array(y),v=0;v<y;v++)R[v]=arguments[v];_.apply(this,R)}}}function p(){}function x(_){return _.setHeader&&typeof _.abort=="function"}function u(_,L,y){if(typeof L=="function")return u(_,null,L);L||(L={}),y=N(y||p);var R=L.readable||L.readable!==!1&&_.readable,v=L.writable||L.writable!==!1&&_.writable,$=function(){_.writable||T()},M=_._writableState&&_._writableState.finished,T=function(){v=!1,M=!0,R||y.call(_)},q=_._readableState&&_._readableState.endEmitted,X=function(){R=!1,q=!0,v||y.call(_)},j=function(E){y.call(_,E)},I=function(){var E;if(R&&!q)return(!_._readableState||!_._readableState.ended)&&(E=new r),y.call(_,E);if(v&&!M)return(!_._writableState||!_._writableState.ended)&&(E=new r),y.call(_,E)},S=function(){_.req.on("finish",T)};return x(_)?(_.on("complete",T),_.on("abort",I),_.req?S():_.on("request",S)):v&&!_._writableState&&(_.on("end",$),_.on("close",$)),_.on("end",X),_.on("finish",T),L.error!==!1&&_.on("error",j),_.on("close",I),function(){_.removeListener("complete",T),_.removeListener("abort",I),_.removeListener("request",S),_.req&&_.req.removeListener("finish",T),_.removeListener("end",$),_.removeListener("close",$),_.removeListener("finish",T),_.removeListener("end",X),_.removeListener("error",j),_.removeListener("close",I)}}m.exports=u}),Gc=je((l,m)=>{var r;function N(S,E,D){return E in S?Object.defineProperty(S,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):S[E]=D,S}var p=Gs(),x=Symbol("lastResolve"),u=Symbol("lastReject"),_=Symbol("error"),L=Symbol("ended"),y=Symbol("lastPromise"),R=Symbol("handlePromise"),v=Symbol("stream");function $(S,E){return{value:S,done:E}}function M(S){var E=S[x];if(E!==null){var D=S[v].read();D!==null&&(S[y]=null,S[x]=null,S[u]=null,E($(D,!1)))}}function T(S){process.nextTick(M,S)}function q(S,E){return function(D,C){S.then(function(){if(E[L]){D($(void 0,!0));return}E[R](D,C)},C)}}var X=Object.getPrototypeOf(function(){}),j=Object.setPrototypeOf((r={get stream(){return this[v]},next:function(){var S=this,E=this[_];if(E!==null)return Promise.reject(E);if(this[L])return Promise.resolve($(void 0,!0));if(this[v].destroyed)return new Promise(function(be,qe){process.nextTick(function(){S[_]?qe(S[_]):be($(void 0,!0))})});var D=this[y],C;if(D)C=new Promise(q(D,this));else{var ce=this[v].read();if(ce!==null)return Promise.resolve($(ce,!1));C=new Promise(this[R])}return this[y]=C,C}},N(r,Symbol.asyncIterator,function(){return this}),N(r,"return",function(){var S=this;return new Promise(function(E,D){S[v].destroy(null,function(C){if(C){D(C);return}E($(void 0,!0))})})}),r),X),I=function(S){var E,D=Object.create(j,(E={},N(E,v,{value:S,writable:!0}),N(E,x,{value:null,writable:!0}),N(E,u,{value:null,writable:!0}),N(E,_,{value:null,writable:!0}),N(E,L,{value:S._readableState.endEmitted,writable:!0}),N(E,R,{value:function(C,ce){var be=D[v].read();be?(D[y]=null,D[x]=null,D[u]=null,C($(be,!1))):(D[x]=C,D[u]=ce)},writable:!0}),E));return D[y]=null,p(S,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=D[u];ce!==null&&(D[y]=null,D[x]=null,D[u]=null,ce(C)),D[_]=C;return}var be=D[x];be!==null&&(D[y]=null,D[x]=null,D[u]=null,be($(void 0,!0))),D[L]=!0}),S.on("readable",T.bind(null,D)),D};m.exports=I}),Yc=je((l,m)=>{m.exports=function(){throw new Error("Readable.from is not available in the browser")}}),yr=je((l,m)=>{m.exports=e;var r;e.ReadableState=$e;var N=$a().EventEmitter,p=function(H,w){return H.listeners(w).length},x=kr(),u=Xo().Buffer,_=global.Uint8Array||function(){};function L(H){return u.from(H)}function y(H){return u.isBuffer(H)||H instanceof _}var R=En(),v;R&&R.debuglog?v=R.debuglog("stream"):v=function(){};var $=Hc(),M=Nr(),T=Zr(),q=T.getHighWaterMark,X=en().codes,j=X.ERR_INVALID_ARG_TYPE,I=X.ERR_STREAM_PUSH_AFTER_EOF,S=X.ERR_METHOD_NOT_IMPLEMENTED,E=X.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,C,ce;mo()(e,x);var be=M.errorOrDestroy,qe=["error","close","destroy","pause","resume"];function ue(H,w,B){if(typeof H.prependListener=="function")return H.prependListener(w,B);!H._events||!H._events[w]?H.on(w,B):Array.isArray(H._events[w])?H._events[w].unshift(B):H._events[w]=[B,H._events[w]]}function $e(H,w,B){r=r||on(),H=H||{},typeof B!="boolean"&&(B=w instanceof r),this.objectMode=!!H.objectMode,B&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=q(this,H,"readableHighWaterMark",B),this.buffer=new $,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(D||(D=(Pn(),Qo(dn)).StringDecoder),this.decoder=new D(H.encoding),this.encoding=H.encoding)}function e(H){if(r=r||on(),!(this instanceof e))return new e(H);var w=this instanceof r;this._readableState=new $e(H,this,w),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),x.call(this)}Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){!this._readableState||(this._readableState.destroyed=H)}}),e.prototype.destroy=M.destroy,e.prototype._undestroy=M.undestroy,e.prototype._destroy=function(H,w){w(H)},e.prototype.push=function(H,w){var B=this._readableState,Te;return B.objectMode?Te=!0:typeof H=="string"&&(w=w||B.defaultEncoding,w!==B.encoding&&(H=u.from(H,w),w=""),Te=!0),n(this,H,w,!1,Te)},e.prototype.unshift=function(H){return n(this,H,null,!0,!1)};function n(H,w,B,Te,Le){v("readableAddChunk",w);var Ve=H._readableState;if(w===null)Ve.reading=!1,d(H,Ve);else{var Pe;if(Le||(Pe=s(Ve,w)),Pe)be(H,Pe);else if(Ve.objectMode||w&&w.length>0)if(typeof w!="string"&&!Ve.objectMode&&Object.getPrototypeOf(w)!==u.prototype&&(w=L(w)),Te)Ve.endEmitted?be(H,new E):c(H,Ve,w,!0);else if(Ve.ended)be(H,new I);else{if(Ve.destroyed)return!1;Ve.reading=!1,Ve.decoder&&!B?(w=Ve.decoder.write(w),Ve.objectMode||w.length!==0?c(H,Ve,w,!1):W(H,Ve)):c(H,Ve,w,!1)}else Te||(Ve.reading=!1,W(H,Ve))}return!Ve.ended&&(Ve.length<Ve.highWaterMark||Ve.length===0)}function c(H,w,B,Te){w.flowing&&w.length===0&&!w.sync?(w.awaitDrain=0,H.emit("data",B)):(w.length+=w.objectMode?1:B.length,Te?w.buffer.unshift(B):w.buffer.push(B),w.needReadable&&o(H)),W(H,w)}function s(H,w){var B;return!y(w)&&typeof w!="string"&&w!==void 0&&!H.objectMode&&(B=new j("chunk",["string","Buffer","Uint8Array"],w)),B}e.prototype.isPaused=function(){return this._readableState.flowing===!1},e.prototype.setEncoding=function(H){D||(D=(Pn(),Qo(dn)).StringDecoder);var w=new D(H);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;for(var B=this._readableState.buffer.head,Te="";B!==null;)Te+=w.write(B.data),B=B.next;return this._readableState.buffer.clear(),Te!==""&&this._readableState.buffer.push(Te),this._readableState.length=Te.length,this};var t=1073741824;function h(H){return H>=t?H=t:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}function k(H,w){return H<=0||w.length===0&&w.ended?0:w.objectMode?1:H!==H?w.flowing&&w.length?w.buffer.head.data.length:w.length:(H>w.highWaterMark&&(w.highWaterMark=h(H)),H<=w.length?H:w.ended?w.length:(w.needReadable=!0,0))}e.prototype.read=function(H){v("read",H),H=parseInt(H,10);var w=this._readableState,B=H;if(H!==0&&(w.emittedReadable=!1),H===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return v("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?Fe(this):o(this),null;if(H=k(H,w),H===0&&w.ended)return w.length===0&&Fe(this),null;var Te=w.needReadable;v("need readable",Te),(w.length===0||w.length-H<w.highWaterMark)&&(Te=!0,v("length less than watermark",Te)),w.ended||w.reading?(Te=!1,v("reading or ended",Te)):Te&&(v("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0),this._read(w.highWaterMark),w.sync=!1,w.reading||(H=k(B,w)));var Le;return H>0?Le=he(H,w):Le=null,Le===null?(w.needReadable=w.length<=w.highWaterMark,H=0):(w.length-=H,w.awaitDrain=0),w.length===0&&(w.ended||(w.needReadable=!0),B!==H&&w.ended&&Fe(this)),Le!==null&&this.emit("data",Le),Le};function d(H,w){if(v("onEofChunk"),!w.ended){if(w.decoder){var B=w.decoder.end();B&&B.length&&(w.buffer.push(B),w.length+=w.objectMode?1:B.length)}w.ended=!0,w.sync?o(H):(w.needReadable=!1,w.emittedReadable||(w.emittedReadable=!0,b(H)))}}function o(H){var w=H._readableState;v("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(v("emitReadable",w.flowing),w.emittedReadable=!0,process.nextTick(b,H))}function b(H){var w=H._readableState;v("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&(w.length||w.ended)&&(H.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,ie(H)}function W(H,w){w.readingMore||(w.readingMore=!0,process.nextTick(O,H,w))}function O(H,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){var B=w.length;if(v("maybeReadMore read 0"),H.read(0),B===w.length)break}w.readingMore=!1}e.prototype._read=function(H){be(this,new S("_read()"))},e.prototype.pipe=function(H,w){var B=this,Te=this._readableState;switch(Te.pipesCount){case 0:Te.pipes=H;break;case 1:Te.pipes=[Te.pipes,H];break;default:Te.pipes.push(H);break}Te.pipesCount+=1,v("pipe count=%d opts=%j",Te.pipesCount,w);var Le=(!w||w.end!==!1)&&H!==process.stdout&&H!==process.stderr,Ve=Le?We:i;Te.endEmitted?process.nextTick(Ve):B.once("end",Ve),H.on("unpipe",Pe);function Pe(f,Z){v("onunpipe"),f===B&&Z&&Z.hasUnpiped===!1&&(Z.hasUnpiped=!0,Je())}function We(){v("onend"),H.end()}var Ie=P(B);H.on("drain",Ie);var Qe=!1;function Je(){v("cleanup"),H.removeListener("close",U),H.removeListener("finish",a),H.removeListener("drain",Ie),H.removeListener("error",bo),H.removeListener("unpipe",Pe),B.removeListener("end",We),B.removeListener("end",i),B.removeListener("data",Se),Qe=!0,Te.awaitDrain&&(!H._writableState||H._writableState.needDrain)&&Ie()}B.on("data",Se);function Se(f){v("ondata");var Z=H.write(f);v("dest.write",Z),Z===!1&&((Te.pipesCount===1&&Te.pipes===H||Te.pipesCount>1&&ge(Te.pipes,H)!==-1)&&!Qe&&(v("false write response, pause",Te.awaitDrain),Te.awaitDrain++),B.pause())}function bo(f){v("onerror",f),i(),H.removeListener("error",bo),p(H,"error")===0&&be(H,f)}ue(H,"error",bo);function U(){H.removeListener("finish",a),i()}H.once("close",U);function a(){v("onfinish"),H.removeListener("close",U),i()}H.once("finish",a);function i(){v("unpipe"),B.unpipe(H)}return H.emit("pipe",B),Te.flowing||(v("pipe resume"),B.resume()),H};function P(H){return function(){var w=H._readableState;v("pipeOnDrain",w.awaitDrain),w.awaitDrain&&w.awaitDrain--,w.awaitDrain===0&&p(H,"data")&&(w.flowing=!0,ie(H))}}e.prototype.unpipe=function(H){var w=this._readableState,B={hasUnpiped:!1};if(w.pipesCount===0)return this;if(w.pipesCount===1)return H&&H!==w.pipes?this:(H||(H=w.pipes),w.pipes=null,w.pipesCount=0,w.flowing=!1,H&&H.emit("unpipe",this,B),this);if(!H){var{pipes:Te,pipesCount:Le}=w;w.pipes=null,w.pipesCount=0,w.flowing=!1;for(var Ve=0;Ve<Le;Ve++)Te[Ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Pe=ge(w.pipes,H);return Pe===-1?this:(w.pipes.splice(Pe,1),w.pipesCount-=1,w.pipesCount===1&&(w.pipes=w.pipes[0]),H.emit("unpipe",this,B),this)},e.prototype.on=function(H,w){var B=x.prototype.on.call(this,H,w),Te=this._readableState;return H==="data"?(Te.readableListening=this.listenerCount("readable")>0,Te.flowing!==!1&&this.resume()):H==="readable"&&!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.flowing=!1,Te.emittedReadable=!1,v("on readable",Te.length,Te.reading),Te.length?o(this):Te.reading||process.nextTick(Ne,this)),B},e.prototype.addListener=e.prototype.on,e.prototype.removeListener=function(H,w){var B=x.prototype.removeListener.call(this,H,w);return H==="readable"&&process.nextTick(pe,this),B},e.prototype.removeAllListeners=function(H){var w=x.prototype.removeAllListeners.apply(this,arguments);return(H==="readable"||H===void 0)&&process.nextTick(pe,this),w};function pe(H){var w=H._readableState;w.readableListening=H.listenerCount("readable")>0,w.resumeScheduled&&!w.paused?w.flowing=!0:H.listenerCount("data")>0&&H.resume()}function Ne(H){v("readable nexttick read 0"),H.read(0)}e.prototype.resume=function(){var H=this._readableState;return H.flowing||(v("resume"),H.flowing=!H.readableListening,xe(this,H)),H.paused=!1,this};function xe(H,w){w.resumeScheduled||(w.resumeScheduled=!0,process.nextTick(te,H,w))}function te(H,w){v("resume",w.reading),w.reading||H.read(0),w.resumeScheduled=!1,H.emit("resume"),ie(H),w.flowing&&!w.reading&&H.read(0)}e.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(H){var w=H._readableState;for(v("flow",w.flowing);w.flowing&&H.read()!==null;);}e.prototype.wrap=function(H){var w=this,B=this._readableState,Te=!1;H.on("end",function(){if(v("wrapped end"),B.decoder&&!B.ended){var Pe=B.decoder.end();Pe&&Pe.length&&w.push(Pe)}w.push(null)}),H.on("data",function(Pe){if(v("wrapped data"),B.decoder&&(Pe=B.decoder.write(Pe)),!(B.objectMode&&Pe==null)&&!(!B.objectMode&&(!Pe||!Pe.length))){var We=w.push(Pe);We||(Te=!0,H.pause())}});for(var Le in H)this[Le]===void 0&&typeof H[Le]=="function"&&(this[Le]=function(Pe){return function(){return H[Pe].apply(H,arguments)}}(Le));for(var Ve=0;Ve<qe.length;Ve++)H.on(qe[Ve],this.emit.bind(this,qe[Ve]));return this._read=function(Pe){v("wrapped _read",Pe),Te&&(Te=!1,H.resume())},this},typeof Symbol=="function"&&(e.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=Gc()),C(this)}),Object.defineProperty(e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),e._fromList=he,Object.defineProperty(e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function he(H,w){if(w.length===0)return null;var B;return w.objectMode?B=w.buffer.shift():!H||H>=w.length?(w.decoder?B=w.buffer.join(""):w.buffer.length===1?B=w.buffer.first():B=w.buffer.concat(w.length),w.buffer.clear()):B=w.buffer.consume(H,w.decoder),B}function Fe(H){var w=H._readableState;v("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,process.nextTick(Re,w,H))}function Re(H,w){if(v("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,w.readable=!1,w.emit("end"),H.autoDestroy)){var B=w._writableState;(!B||B.autoDestroy&&B.finished)&&w.destroy()}}typeof Symbol=="function"&&(e.from=function(H,w){return ce===void 0&&(ce=Yc()),ce(e,H,w)});function ge(H,w){for(var B=0,Te=H.length;B<Te;B++)if(H[B]===w)return B;return-1}}),Rr=je((l,m)=>{m.exports=y;var r=en().codes,N=r.ERR_METHOD_NOT_IMPLEMENTED,p=r.ERR_MULTIPLE_CALLBACK,x=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=r.ERR_TRANSFORM_WITH_LENGTH_0,_=on();mo()(y,_);function L($,M){var T=this._transformState;T.transforming=!1;var q=T.writecb;if(q===null)return this.emit("error",new p);T.writechunk=null,T.writecb=null,M!=null&&this.push(M),q($);var X=this._readableState;X.reading=!1,(X.needReadable||X.length<X.highWaterMark)&&this._read(X.highWaterMark)}function y($){if(!(this instanceof y))return new y($);_.call(this,$),this._transformState={afterTransform:L.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,$&&(typeof $.transform=="function"&&(this._transform=$.transform),typeof $.flush=="function"&&(this._flush=$.flush)),this.on("prefinish",R)}function R(){var $=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(M,T){v($,M,T)}):v(this,null,null)}y.prototype.push=function($,M){return this._transformState.needTransform=!1,_.prototype.push.call(this,$,M)},y.prototype._transform=function($,M,T){T(new N("_transform()"))},y.prototype._write=function($,M,T){var q=this._transformState;if(q.writecb=T,q.writechunk=$,q.writeencoding=M,!q.transforming){var X=this._readableState;(q.needTransform||X.needReadable||X.length<X.highWaterMark)&&this._read(X.highWaterMark)}},y.prototype._read=function($){var M=this._transformState;M.writechunk!==null&&!M.transforming?(M.transforming=!0,this._transform(M.writechunk,M.writeencoding,M.afterTransform)):M.needTransform=!0},y.prototype._destroy=function($,M){_.prototype._destroy.call(this,$,function(T){M(T)})};function v($,M,T){if(M)return $.emit("error",M);if(T!=null&&$.push(T),$._writableState.length)throw new u;if($._transformState.transforming)throw new x;return $.push(null)}}),Dc=je((l,m)=>{m.exports=N;var r=Rr();mo()(N,r);function N(p){if(!(this instanceof N))return new N(p);r.call(this,p)}N.prototype._transform=function(p,x,u){u(null,p)}}),Qc=je((l,m)=>{var r;function N(T){var q=!1;return function(){q||(q=!0,T.apply(void 0,arguments))}}var p=en().codes,x=p.ERR_MISSING_ARGS,u=p.ERR_STREAM_DESTROYED;function _(T){if(T)throw T}function L(T){return T.setHeader&&typeof T.abort=="function"}function y(T,q,X,j){j=N(j);var I=!1;T.on("close",function(){I=!0}),r===void 0&&(r=Gs()),r(T,{readable:q,writable:X},function(E){if(E)return j(E);I=!0,j()});var S=!1;return function(E){if(!I&&!S){if(S=!0,L(T))return T.abort();if(typeof T.destroy=="function")return T.destroy();j(E||new u("pipe"))}}}function R(T){T()}function v(T,q){return T.pipe(q)}function $(T){return!T.length||typeof T[T.length-1]!="function"?_:T.pop()}function M(){for(var T=arguments.length,q=new Array(T),X=0;X<T;X++)q[X]=arguments[X];var j=$(q);if(Array.isArray(q[0])&&(q=q[0]),q.length<2)throw new x("streams");var I,S=q.map(function(E,D){var C=D<q.length-1,ce=D>0;return y(E,C,ce,function(be){I||(I=be),be&&S.forEach(R),!C&&(S.forEach(R),j(I))})});return q.reduce(v)}m.exports=M}),Cc=je((l,m)=>{l=m.exports=yr(),l.Stream=l,l.Readable=l,l.Writable=vr(),l.Duplex=on(),l.Transform=Rr(),l.PassThrough=Dc(),l.finished=Gs(),l.pipeline=Qc()}),Ys=je((l,m)=>{(function(r,N){function p(s,t){if(!s)throw new Error(t||"Assertion failed")}function x(s,t){s.super_=t;var h=function(){};h.prototype=t.prototype,s.prototype=new h,s.prototype.constructor=s}function u(s,t,h){if(u.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((t==="le"||t==="be")&&(h=t,t=10),this._init(s||0,t||10,h||"be"))}typeof r=="object"?r.exports=u:N.BN=u,u.BN=u,u.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=Ua().Buffer}catch{}u.isBN=function(s){return s instanceof u?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===u.wordSize&&Array.isArray(s.words)},u.max=function(s,t){return s.cmp(t)>0?s:t},u.min=function(s,t){return s.cmp(t)<0?s:t},u.prototype._init=function(s,t,h){if(typeof s=="number")return this._initNumber(s,t,h);if(typeof s=="object")return this._initArray(s,t,h);t==="hex"&&(t=16),p(t===(t|0)&&t>=2&&t<=36),s=s.toString().replace(/\s+/g,"");var k=0;s[0]==="-"&&(k++,this.negative=1),k<s.length&&(t===16?this._parseHex(s,k,h):(this._parseBase(s,t,k),h==="le"&&this._initArray(this.toArray(),t,h)))},u.prototype._initNumber=function(s,t,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(p(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),t,h)},u.prototype._initArray=function(s,t,h){if(p(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var d,o,b=0;if(h==="be")for(k=s.length-1,d=0;k>=0;k-=3)o=s[k]|s[k-1]<<8|s[k-2]<<16,this.words[d]|=o<<b&67108863,this.words[d+1]=o>>>26-b&67108863,b+=24,b>=26&&(b-=26,d++);else if(h==="le")for(k=0,d=0;k<s.length;k+=3)o=s[k]|s[k+1]<<8|s[k+2]<<16,this.words[d]|=o<<b&67108863,this.words[d+1]=o>>>26-b&67108863,b+=24,b>=26&&(b-=26,d++);return this._strip()};function L(s,t){var h=s.charCodeAt(t);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;p(!1,"Invalid character in "+s)}function y(s,t,h){var k=L(s,h);return h-1>=t&&(k|=L(s,h-1)<<4),k}u.prototype._parseHex=function(s,t,h){this.length=Math.ceil((s.length-t)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var d=0,o=0,b;if(h==="be")for(k=s.length-1;k>=t;k-=2)b=y(s,t,k)<<d,this.words[o]|=b&67108863,d>=18?(d-=18,o+=1,this.words[o]|=b>>>26):d+=8;else{var W=s.length-t;for(k=W%2===0?t+1:t;k<s.length;k+=2)b=y(s,t,k)<<d,this.words[o]|=b&67108863,d>=18?(d-=18,o+=1,this.words[o]|=b>>>26):d+=8}this._strip()};function R(s,t,h,k){for(var d=0,o=0,b=Math.min(s.length,h),W=t;W<b;W++){var O=s.charCodeAt(W)-48;d*=k,O>=49?o=O-49+10:O>=17?o=O-17+10:o=O,p(O>=0&&o<k,"Invalid character"),d+=o}return d}u.prototype._parseBase=function(s,t,h){this.words=[0],this.length=1;for(var k=0,d=1;d<=67108863;d*=t)k++;k--,d=d/t|0;for(var o=s.length-h,b=o%k,W=Math.min(o,o-b)+h,O=0,P=h;P<W;P+=k)O=R(s,P,P+k,t),this.imuln(d),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(b!==0){var pe=1;for(O=R(s,P,s.length,t),P=0;P<b;P++)pe*=t;this.imuln(pe),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this._strip()},u.prototype.copy=function(s){s.words=new Array(this.length);for(var t=0;t<this.length;t++)s.words[t]=this.words[t];s.length=this.length,s.negative=this.negative,s.red=this.red};function v(s,t){s.words=t.words,s.length=t.length,s.negative=t.negative,s.red=t.red}if(u.prototype._move=function(s){v(s,this)},u.prototype.clone=function(){var s=new u(null);return this.copy(s),s},u.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=$}catch{u.prototype.inspect=$}else u.prototype.inspect=$;function $(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(s,t){s=s||10,t=t|0||1;var h;if(s===16||s==="hex"){h="";for(var k=0,d=0,o=0;o<this.length;o++){var b=this.words[o],W=((b<<k|d)&16777215).toString(16);d=b>>>24-k&16777215,k+=2,k>=26&&(k-=26,o--),d!==0||o!==this.length-1?h=M[6-W.length]+W+h:h=W+h}for(d!==0&&(h=d.toString(16)+h);h.length%t!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var O=T[s],P=q[s];h="";var pe=this.clone();for(pe.negative=0;!pe.isZero();){var Ne=pe.modrn(P).toString(s);pe=pe.idivn(P),pe.isZero()?h=Ne+h:h=M[O-Ne.length]+Ne+h}for(this.isZero()&&(h="0"+h);h.length%t!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}p(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&p(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},u.prototype.toJSON=function(){return this.toString(16,2)},_&&(u.prototype.toBuffer=function(s,t){return this.toArrayLike(_,s,t)}),u.prototype.toArray=function(s,t){return this.toArrayLike(Array,s,t)};var X=function(s,t){return s.allocUnsafe?s.allocUnsafe(t):new s(t)};u.prototype.toArrayLike=function(s,t,h){this._strip();var k=this.byteLength(),d=h||Math.max(1,k);p(k<=d,"byte array longer than desired length"),p(d>0,"Requested array length <= 0");var o=X(s,d),b=t==="le"?"LE":"BE";return this["_toArrayLike"+b](o,k),o},u.prototype._toArrayLikeLE=function(s,t){for(var h=0,k=0,d=0,o=0;d<this.length;d++){var b=this.words[d]<<o|k;s[h++]=b&255,h<s.length&&(s[h++]=b>>8&255),h<s.length&&(s[h++]=b>>16&255),o===6?(h<s.length&&(s[h++]=b>>24&255),k=0,o=0):(k=b>>>24,o+=2)}if(h<s.length)for(s[h++]=k;h<s.length;)s[h++]=0},u.prototype._toArrayLikeBE=function(s,t){for(var h=s.length-1,k=0,d=0,o=0;d<this.length;d++){var b=this.words[d]<<o|k;s[h--]=b&255,h>=0&&(s[h--]=b>>8&255),h>=0&&(s[h--]=b>>16&255),o===6?(h>=0&&(s[h--]=b>>24&255),k=0,o=0):(k=b>>>24,o+=2)}if(h>=0)for(s[h--]=k;h>=0;)s[h--]=0},Math.clz32?u.prototype._countBits=function(s){return 32-Math.clz32(s)}:u.prototype._countBits=function(s){var t=s,h=0;return t>=4096&&(h+=13,t>>>=13),t>=64&&(h+=7,t>>>=7),t>=8&&(h+=4,t>>>=4),t>=2&&(h+=2,t>>>=2),h+t},u.prototype._zeroBits=function(s){if(s===0)return 26;var t=s,h=0;return(t&8191)===0&&(h+=13,t>>>=13),(t&127)===0&&(h+=7,t>>>=7),(t&15)===0&&(h+=4,t>>>=4),(t&3)===0&&(h+=2,t>>>=2),(t&1)===0&&h++,h},u.prototype.bitLength=function(){var s=this.words[this.length-1],t=this._countBits(s);return(this.length-1)*26+t};function j(s){for(var t=new Array(s.bitLength()),h=0;h<t.length;h++){var k=h/26|0,d=h%26;t[h]=s.words[k]>>>d&1}return t}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,t=0;t<this.length;t++){var h=this._zeroBits(this.words[t]);if(s+=h,h!==26)break}return s},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},u.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var t=0;t<s.length;t++)this.words[t]=this.words[t]|s.words[t];return this._strip()},u.prototype.ior=function(s){return p((this.negative|s.negative)===0),this.iuor(s)},u.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},u.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},u.prototype.iuand=function(s){var t;this.length>s.length?t=s:t=this;for(var h=0;h<t.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=t.length,this._strip()},u.prototype.iand=function(s){return p((this.negative|s.negative)===0),this.iuand(s)},u.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},u.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},u.prototype.iuxor=function(s){var t,h;this.length>s.length?(t=this,h=s):(t=s,h=this);for(var k=0;k<h.length;k++)this.words[k]=t.words[k]^h.words[k];if(this!==t)for(;k<t.length;k++)this.words[k]=t.words[k];return this.length=t.length,this._strip()},u.prototype.ixor=function(s){return p((this.negative|s.negative)===0),this.iuxor(s)},u.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},u.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},u.prototype.inotn=function(s){p(typeof s=="number"&&s>=0);var t=Math.ceil(s/26)|0,h=s%26;this._expand(t),h>0&&t--;for(var k=0;k<t;k++)this.words[k]=~this.words[k]&67108863;return h>0&&(this.words[k]=~this.words[k]&67108863>>26-h),this._strip()},u.prototype.notn=function(s){return this.clone().inotn(s)},u.prototype.setn=function(s,t){p(typeof s=="number"&&s>=0);var h=s/26|0,k=s%26;return this._expand(h+1),t?this.words[h]=this.words[h]|1<<k:this.words[h]=this.words[h]&~(1<<k),this._strip()},u.prototype.iadd=function(s){var t;if(this.negative!==0&&s.negative===0)return this.negative=0,t=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,t=this.isub(s),s.negative=1,t._normSign();var h,k;this.length>s.length?(h=this,k=s):(h=s,k=this);for(var d=0,o=0;o<k.length;o++)t=(h.words[o]|0)+(k.words[o]|0)+d,this.words[o]=t&67108863,d=t>>>26;for(;d!==0&&o<h.length;o++)t=(h.words[o]|0)+d,this.words[o]=t&67108863,d=t>>>26;if(this.length=h.length,d!==0)this.words[this.length]=d,this.length++;else if(h!==this)for(;o<h.length;o++)this.words[o]=h.words[o];return this},u.prototype.add=function(s){var t;return s.negative!==0&&this.negative===0?(s.negative=0,t=this.sub(s),s.negative^=1,t):s.negative===0&&this.negative!==0?(this.negative=0,t=s.sub(this),this.negative=1,t):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},u.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var t=this.iadd(s);return s.negative=1,t._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,d;h>0?(k=this,d=s):(k=s,d=this);for(var o=0,b=0;b<d.length;b++)t=(k.words[b]|0)-(d.words[b]|0)+o,o=t>>26,this.words[b]=t&67108863;for(;o!==0&&b<k.length;b++)t=(k.words[b]|0)+o,o=t>>26,this.words[b]=t&67108863;if(o===0&&b<k.length&&k!==this)for(;b<k.length;b++)this.words[b]=k.words[b];return this.length=Math.max(this.length,b),k!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(s){return this.clone().isub(s)};function I(s,t,h){h.negative=t.negative^s.negative;var k=s.length+t.length|0;h.length=k,k=k-1|0;var d=s.words[0]|0,o=t.words[0]|0,b=d*o,W=b&67108863,O=b/67108864|0;h.words[0]=W;for(var P=1;P<k;P++){for(var pe=O>>>26,Ne=O&67108863,xe=Math.min(P,t.length-1),te=Math.max(0,P-s.length+1);te<=xe;te++){var ie=P-te|0;d=s.words[ie]|0,o=t.words[te]|0,b=d*o+Ne,pe+=b/67108864|0,Ne=b&67108863}h.words[P]=Ne|0,O=pe|0}return O!==0?h.words[P]=O|0:h.length--,h._strip()}var S=function(s,t,h){var k=s.words,d=t.words,o=h.words,b=0,W,O,P,pe=k[0]|0,Ne=pe&8191,xe=pe>>>13,te=k[1]|0,ie=te&8191,he=te>>>13,Fe=k[2]|0,Re=Fe&8191,ge=Fe>>>13,H=k[3]|0,w=H&8191,B=H>>>13,Te=k[4]|0,Le=Te&8191,Ve=Te>>>13,Pe=k[5]|0,We=Pe&8191,Ie=Pe>>>13,Qe=k[6]|0,Je=Qe&8191,Se=Qe>>>13,bo=k[7]|0,U=bo&8191,a=bo>>>13,i=k[8]|0,f=i&8191,Z=i>>>13,V=k[9]|0,g=V&8191,F=V>>>13,z=d[0]|0,J=z&8191,K=z>>>13,oe=d[1]|0,Y=oe&8191,G=oe>>>13,ne=d[2]|0,A=ne&8191,re=ne>>>13,ke=d[3]|0,ee=ke&8191,ae=ke>>>13,se=d[4]|0,Q=se&8191,le=se>>>13,fe=d[5]|0,me=fe&8191,de=fe>>>13,Oe=d[6]|0,_e=Oe&8191,ve=Oe>>>13,Xe=d[7]|0,ye=Xe&8191,Ze=Xe>>>13,we=d[8]|0,Me=we&8191,Ue=we>>>13,ze=d[9]|0,Ke=ze&8191,Ee=ze>>>13;h.negative=s.negative^t.negative,h.length=19,W=Math.imul(Ne,J),O=Math.imul(Ne,K),O=O+Math.imul(xe,J)|0,P=Math.imul(xe,K);var De=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(De>>>26)|0,De&=67108863,W=Math.imul(ie,J),O=Math.imul(ie,K),O=O+Math.imul(he,J)|0,P=Math.imul(he,K),W=W+Math.imul(Ne,Y)|0,O=O+Math.imul(Ne,G)|0,O=O+Math.imul(xe,Y)|0,P=P+Math.imul(xe,G)|0;var Ge=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,W=Math.imul(Re,J),O=Math.imul(Re,K),O=O+Math.imul(ge,J)|0,P=Math.imul(ge,K),W=W+Math.imul(ie,Y)|0,O=O+Math.imul(ie,G)|0,O=O+Math.imul(he,Y)|0,P=P+Math.imul(he,G)|0,W=W+Math.imul(Ne,A)|0,O=O+Math.imul(Ne,re)|0,O=O+Math.imul(xe,A)|0,P=P+Math.imul(xe,re)|0;var Ce=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,W=Math.imul(w,J),O=Math.imul(w,K),O=O+Math.imul(B,J)|0,P=Math.imul(B,K),W=W+Math.imul(Re,Y)|0,O=O+Math.imul(Re,G)|0,O=O+Math.imul(ge,Y)|0,P=P+Math.imul(ge,G)|0,W=W+Math.imul(ie,A)|0,O=O+Math.imul(ie,re)|0,O=O+Math.imul(he,A)|0,P=P+Math.imul(he,re)|0,W=W+Math.imul(Ne,ee)|0,O=O+Math.imul(Ne,ae)|0,O=O+Math.imul(xe,ee)|0,P=P+Math.imul(xe,ae)|0;var He=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(He>>>26)|0,He&=67108863,W=Math.imul(Le,J),O=Math.imul(Le,K),O=O+Math.imul(Ve,J)|0,P=Math.imul(Ve,K),W=W+Math.imul(w,Y)|0,O=O+Math.imul(w,G)|0,O=O+Math.imul(B,Y)|0,P=P+Math.imul(B,G)|0,W=W+Math.imul(Re,A)|0,O=O+Math.imul(Re,re)|0,O=O+Math.imul(ge,A)|0,P=P+Math.imul(ge,re)|0,W=W+Math.imul(ie,ee)|0,O=O+Math.imul(ie,ae)|0,O=O+Math.imul(he,ee)|0,P=P+Math.imul(he,ae)|0,W=W+Math.imul(Ne,Q)|0,O=O+Math.imul(Ne,le)|0,O=O+Math.imul(xe,Q)|0,P=P+Math.imul(xe,le)|0;var Be=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(Be>>>26)|0,Be&=67108863,W=Math.imul(We,J),O=Math.imul(We,K),O=O+Math.imul(Ie,J)|0,P=Math.imul(Ie,K),W=W+Math.imul(Le,Y)|0,O=O+Math.imul(Le,G)|0,O=O+Math.imul(Ve,Y)|0,P=P+Math.imul(Ve,G)|0,W=W+Math.imul(w,A)|0,O=O+Math.imul(w,re)|0,O=O+Math.imul(B,A)|0,P=P+Math.imul(B,re)|0,W=W+Math.imul(Re,ee)|0,O=O+Math.imul(Re,ae)|0,O=O+Math.imul(ge,ee)|0,P=P+Math.imul(ge,ae)|0,W=W+Math.imul(ie,Q)|0,O=O+Math.imul(ie,le)|0,O=O+Math.imul(he,Q)|0,P=P+Math.imul(he,le)|0,W=W+Math.imul(Ne,me)|0,O=O+Math.imul(Ne,de)|0,O=O+Math.imul(xe,me)|0,P=P+Math.imul(xe,de)|0;var Ye=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,W=Math.imul(Je,J),O=Math.imul(Je,K),O=O+Math.imul(Se,J)|0,P=Math.imul(Se,K),W=W+Math.imul(We,Y)|0,O=O+Math.imul(We,G)|0,O=O+Math.imul(Ie,Y)|0,P=P+Math.imul(Ie,G)|0,W=W+Math.imul(Le,A)|0,O=O+Math.imul(Le,re)|0,O=O+Math.imul(Ve,A)|0,P=P+Math.imul(Ve,re)|0,W=W+Math.imul(w,ee)|0,O=O+Math.imul(w,ae)|0,O=O+Math.imul(B,ee)|0,P=P+Math.imul(B,ae)|0,W=W+Math.imul(Re,Q)|0,O=O+Math.imul(Re,le)|0,O=O+Math.imul(ge,Q)|0,P=P+Math.imul(ge,le)|0,W=W+Math.imul(ie,me)|0,O=O+Math.imul(ie,de)|0,O=O+Math.imul(he,me)|0,P=P+Math.imul(he,de)|0,W=W+Math.imul(Ne,_e)|0,O=O+Math.imul(Ne,ve)|0,O=O+Math.imul(xe,_e)|0,P=P+Math.imul(xe,ve)|0;var lo=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(lo>>>26)|0,lo&=67108863,W=Math.imul(U,J),O=Math.imul(U,K),O=O+Math.imul(a,J)|0,P=Math.imul(a,K),W=W+Math.imul(Je,Y)|0,O=O+Math.imul(Je,G)|0,O=O+Math.imul(Se,Y)|0,P=P+Math.imul(Se,G)|0,W=W+Math.imul(We,A)|0,O=O+Math.imul(We,re)|0,O=O+Math.imul(Ie,A)|0,P=P+Math.imul(Ie,re)|0,W=W+Math.imul(Le,ee)|0,O=O+Math.imul(Le,ae)|0,O=O+Math.imul(Ve,ee)|0,P=P+Math.imul(Ve,ae)|0,W=W+Math.imul(w,Q)|0,O=O+Math.imul(w,le)|0,O=O+Math.imul(B,Q)|0,P=P+Math.imul(B,le)|0,W=W+Math.imul(Re,me)|0,O=O+Math.imul(Re,de)|0,O=O+Math.imul(ge,me)|0,P=P+Math.imul(ge,de)|0,W=W+Math.imul(ie,_e)|0,O=O+Math.imul(ie,ve)|0,O=O+Math.imul(he,_e)|0,P=P+Math.imul(he,ve)|0,W=W+Math.imul(Ne,ye)|0,O=O+Math.imul(Ne,Ze)|0,O=O+Math.imul(xe,ye)|0,P=P+Math.imul(xe,Ze)|0;var Ae=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,W=Math.imul(f,J),O=Math.imul(f,K),O=O+Math.imul(Z,J)|0,P=Math.imul(Z,K),W=W+Math.imul(U,Y)|0,O=O+Math.imul(U,G)|0,O=O+Math.imul(a,Y)|0,P=P+Math.imul(a,G)|0,W=W+Math.imul(Je,A)|0,O=O+Math.imul(Je,re)|0,O=O+Math.imul(Se,A)|0,P=P+Math.imul(Se,re)|0,W=W+Math.imul(We,ee)|0,O=O+Math.imul(We,ae)|0,O=O+Math.imul(Ie,ee)|0,P=P+Math.imul(Ie,ae)|0,W=W+Math.imul(Le,Q)|0,O=O+Math.imul(Le,le)|0,O=O+Math.imul(Ve,Q)|0,P=P+Math.imul(Ve,le)|0,W=W+Math.imul(w,me)|0,O=O+Math.imul(w,de)|0,O=O+Math.imul(B,me)|0,P=P+Math.imul(B,de)|0,W=W+Math.imul(Re,_e)|0,O=O+Math.imul(Re,ve)|0,O=O+Math.imul(ge,_e)|0,P=P+Math.imul(ge,ve)|0,W=W+Math.imul(ie,ye)|0,O=O+Math.imul(ie,Ze)|0,O=O+Math.imul(he,ye)|0,P=P+Math.imul(he,Ze)|0,W=W+Math.imul(Ne,Me)|0,O=O+Math.imul(Ne,Ue)|0,O=O+Math.imul(xe,Me)|0,P=P+Math.imul(xe,Ue)|0;var ao=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(ao>>>26)|0,ao&=67108863,W=Math.imul(g,J),O=Math.imul(g,K),O=O+Math.imul(F,J)|0,P=Math.imul(F,K),W=W+Math.imul(f,Y)|0,O=O+Math.imul(f,G)|0,O=O+Math.imul(Z,Y)|0,P=P+Math.imul(Z,G)|0,W=W+Math.imul(U,A)|0,O=O+Math.imul(U,re)|0,O=O+Math.imul(a,A)|0,P=P+Math.imul(a,re)|0,W=W+Math.imul(Je,ee)|0,O=O+Math.imul(Je,ae)|0,O=O+Math.imul(Se,ee)|0,P=P+Math.imul(Se,ae)|0,W=W+Math.imul(We,Q)|0,O=O+Math.imul(We,le)|0,O=O+Math.imul(Ie,Q)|0,P=P+Math.imul(Ie,le)|0,W=W+Math.imul(Le,me)|0,O=O+Math.imul(Le,de)|0,O=O+Math.imul(Ve,me)|0,P=P+Math.imul(Ve,de)|0,W=W+Math.imul(w,_e)|0,O=O+Math.imul(w,ve)|0,O=O+Math.imul(B,_e)|0,P=P+Math.imul(B,ve)|0,W=W+Math.imul(Re,ye)|0,O=O+Math.imul(Re,Ze)|0,O=O+Math.imul(ge,ye)|0,P=P+Math.imul(ge,Ze)|0,W=W+Math.imul(ie,Me)|0,O=O+Math.imul(ie,Ue)|0,O=O+Math.imul(he,Me)|0,P=P+Math.imul(he,Ue)|0,W=W+Math.imul(Ne,Ke)|0,O=O+Math.imul(Ne,Ee)|0,O=O+Math.imul(xe,Ke)|0,P=P+Math.imul(xe,Ee)|0;var no=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(no>>>26)|0,no&=67108863,W=Math.imul(g,Y),O=Math.imul(g,G),O=O+Math.imul(F,Y)|0,P=Math.imul(F,G),W=W+Math.imul(f,A)|0,O=O+Math.imul(f,re)|0,O=O+Math.imul(Z,A)|0,P=P+Math.imul(Z,re)|0,W=W+Math.imul(U,ee)|0,O=O+Math.imul(U,ae)|0,O=O+Math.imul(a,ee)|0,P=P+Math.imul(a,ae)|0,W=W+Math.imul(Je,Q)|0,O=O+Math.imul(Je,le)|0,O=O+Math.imul(Se,Q)|0,P=P+Math.imul(Se,le)|0,W=W+Math.imul(We,me)|0,O=O+Math.imul(We,de)|0,O=O+Math.imul(Ie,me)|0,P=P+Math.imul(Ie,de)|0,W=W+Math.imul(Le,_e)|0,O=O+Math.imul(Le,ve)|0,O=O+Math.imul(Ve,_e)|0,P=P+Math.imul(Ve,ve)|0,W=W+Math.imul(w,ye)|0,O=O+Math.imul(w,Ze)|0,O=O+Math.imul(B,ye)|0,P=P+Math.imul(B,Ze)|0,W=W+Math.imul(Re,Me)|0,O=O+Math.imul(Re,Ue)|0,O=O+Math.imul(ge,Me)|0,P=P+Math.imul(ge,Ue)|0,W=W+Math.imul(ie,Ke)|0,O=O+Math.imul(ie,Ee)|0,O=O+Math.imul(he,Ke)|0,P=P+Math.imul(he,Ee)|0;var oo=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(oo>>>26)|0,oo&=67108863,W=Math.imul(g,A),O=Math.imul(g,re),O=O+Math.imul(F,A)|0,P=Math.imul(F,re),W=W+Math.imul(f,ee)|0,O=O+Math.imul(f,ae)|0,O=O+Math.imul(Z,ee)|0,P=P+Math.imul(Z,ae)|0,W=W+Math.imul(U,Q)|0,O=O+Math.imul(U,le)|0,O=O+Math.imul(a,Q)|0,P=P+Math.imul(a,le)|0,W=W+Math.imul(Je,me)|0,O=O+Math.imul(Je,de)|0,O=O+Math.imul(Se,me)|0,P=P+Math.imul(Se,de)|0,W=W+Math.imul(We,_e)|0,O=O+Math.imul(We,ve)|0,O=O+Math.imul(Ie,_e)|0,P=P+Math.imul(Ie,ve)|0,W=W+Math.imul(Le,ye)|0,O=O+Math.imul(Le,Ze)|0,O=O+Math.imul(Ve,ye)|0,P=P+Math.imul(Ve,Ze)|0,W=W+Math.imul(w,Me)|0,O=O+Math.imul(w,Ue)|0,O=O+Math.imul(B,Me)|0,P=P+Math.imul(B,Ue)|0,W=W+Math.imul(Re,Ke)|0,O=O+Math.imul(Re,Ee)|0,O=O+Math.imul(ge,Ke)|0,P=P+Math.imul(ge,Ee)|0;var uo=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(uo>>>26)|0,uo&=67108863,W=Math.imul(g,ee),O=Math.imul(g,ae),O=O+Math.imul(F,ee)|0,P=Math.imul(F,ae),W=W+Math.imul(f,Q)|0,O=O+Math.imul(f,le)|0,O=O+Math.imul(Z,Q)|0,P=P+Math.imul(Z,le)|0,W=W+Math.imul(U,me)|0,O=O+Math.imul(U,de)|0,O=O+Math.imul(a,me)|0,P=P+Math.imul(a,de)|0,W=W+Math.imul(Je,_e)|0,O=O+Math.imul(Je,ve)|0,O=O+Math.imul(Se,_e)|0,P=P+Math.imul(Se,ve)|0,W=W+Math.imul(We,ye)|0,O=O+Math.imul(We,Ze)|0,O=O+Math.imul(Ie,ye)|0,P=P+Math.imul(Ie,Ze)|0,W=W+Math.imul(Le,Me)|0,O=O+Math.imul(Le,Ue)|0,O=O+Math.imul(Ve,Me)|0,P=P+Math.imul(Ve,Ue)|0,W=W+Math.imul(w,Ke)|0,O=O+Math.imul(w,Ee)|0,O=O+Math.imul(B,Ke)|0,P=P+Math.imul(B,Ee)|0;var to=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(to>>>26)|0,to&=67108863,W=Math.imul(g,Q),O=Math.imul(g,le),O=O+Math.imul(F,Q)|0,P=Math.imul(F,le),W=W+Math.imul(f,me)|0,O=O+Math.imul(f,de)|0,O=O+Math.imul(Z,me)|0,P=P+Math.imul(Z,de)|0,W=W+Math.imul(U,_e)|0,O=O+Math.imul(U,ve)|0,O=O+Math.imul(a,_e)|0,P=P+Math.imul(a,ve)|0,W=W+Math.imul(Je,ye)|0,O=O+Math.imul(Je,Ze)|0,O=O+Math.imul(Se,ye)|0,P=P+Math.imul(Se,Ze)|0,W=W+Math.imul(We,Me)|0,O=O+Math.imul(We,Ue)|0,O=O+Math.imul(Ie,Me)|0,P=P+Math.imul(Ie,Ue)|0,W=W+Math.imul(Le,Ke)|0,O=O+Math.imul(Le,Ee)|0,O=O+Math.imul(Ve,Ke)|0,P=P+Math.imul(Ve,Ee)|0;var fo=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(fo>>>26)|0,fo&=67108863,W=Math.imul(g,me),O=Math.imul(g,de),O=O+Math.imul(F,me)|0,P=Math.imul(F,de),W=W+Math.imul(f,_e)|0,O=O+Math.imul(f,ve)|0,O=O+Math.imul(Z,_e)|0,P=P+Math.imul(Z,ve)|0,W=W+Math.imul(U,ye)|0,O=O+Math.imul(U,Ze)|0,O=O+Math.imul(a,ye)|0,P=P+Math.imul(a,Ze)|0,W=W+Math.imul(Je,Me)|0,O=O+Math.imul(Je,Ue)|0,O=O+Math.imul(Se,Me)|0,P=P+Math.imul(Se,Ue)|0,W=W+Math.imul(We,Ke)|0,O=O+Math.imul(We,Ee)|0,O=O+Math.imul(Ie,Ke)|0,P=P+Math.imul(Ie,Ee)|0;var io=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(io>>>26)|0,io&=67108863,W=Math.imul(g,_e),O=Math.imul(g,ve),O=O+Math.imul(F,_e)|0,P=Math.imul(F,ve),W=W+Math.imul(f,ye)|0,O=O+Math.imul(f,Ze)|0,O=O+Math.imul(Z,ye)|0,P=P+Math.imul(Z,Ze)|0,W=W+Math.imul(U,Me)|0,O=O+Math.imul(U,Ue)|0,O=O+Math.imul(a,Me)|0,P=P+Math.imul(a,Ue)|0,W=W+Math.imul(Je,Ke)|0,O=O+Math.imul(Je,Ee)|0,O=O+Math.imul(Se,Ke)|0,P=P+Math.imul(Se,Ee)|0;var ro=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(ro>>>26)|0,ro&=67108863,W=Math.imul(g,ye),O=Math.imul(g,Ze),O=O+Math.imul(F,ye)|0,P=Math.imul(F,Ze),W=W+Math.imul(f,Me)|0,O=O+Math.imul(f,Ue)|0,O=O+Math.imul(Z,Me)|0,P=P+Math.imul(Z,Ue)|0,W=W+Math.imul(U,Ke)|0,O=O+Math.imul(U,Ee)|0,O=O+Math.imul(a,Ke)|0,P=P+Math.imul(a,Ee)|0;var To=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(To>>>26)|0,To&=67108863,W=Math.imul(g,Me),O=Math.imul(g,Ue),O=O+Math.imul(F,Me)|0,P=Math.imul(F,Ue),W=W+Math.imul(f,Ke)|0,O=O+Math.imul(f,Ee)|0,O=O+Math.imul(Z,Ke)|0,P=P+Math.imul(Z,Ee)|0;var Wo=(b+W|0)+((O&8191)<<13)|0;b=(P+(O>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,W=Math.imul(g,Ke),O=Math.imul(g,Ee),O=O+Math.imul(F,Ke)|0,P=Math.imul(F,Ee);var Mo=(b+W|0)+((O&8191)<<13)|0;return b=(P+(O>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,o[0]=De,o[1]=Ge,o[2]=Ce,o[3]=He,o[4]=Be,o[5]=Ye,o[6]=lo,o[7]=Ae,o[8]=ao,o[9]=no,o[10]=oo,o[11]=uo,o[12]=to,o[13]=fo,o[14]=io,o[15]=ro,o[16]=To,o[17]=Wo,o[18]=Mo,b!==0&&(o[19]=b,h.length++),h};Math.imul||(S=I);function E(s,t,h){h.negative=t.negative^s.negative,h.length=s.length+t.length;for(var k=0,d=0,o=0;o<h.length-1;o++){var b=d;d=0;for(var W=k&67108863,O=Math.min(o,t.length-1),P=Math.max(0,o-s.length+1);P<=O;P++){var pe=o-P,Ne=s.words[pe]|0,xe=t.words[P]|0,te=Ne*xe,ie=te&67108863;b=b+(te/67108864|0)|0,ie=ie+W|0,W=ie&67108863,b=b+(ie>>>26)|0,d+=b>>>26,b&=67108863}h.words[o]=W,k=b,b=d}return k!==0?h.words[o]=k:h.length--,h._strip()}function D(s,t,h){return E(s,t,h)}u.prototype.mulTo=function(s,t){var h,k=this.length+s.length;return this.length===10&&s.length===10?h=S(this,s,t):k<63?h=I(this,s,t):k<1024?h=E(this,s,t):h=D(this,s,t),h};function C(s,t){this.x=s,this.y=t}C.prototype.makeRBT=function(s){for(var t=new Array(s),h=u.prototype._countBits(s)-1,k=0;k<s;k++)t[k]=this.revBin(k,h,s);return t},C.prototype.revBin=function(s,t,h){if(s===0||s===h-1)return s;for(var k=0,d=0;d<t;d++)k|=(s&1)<<t-d-1,s>>=1;return k},C.prototype.permute=function(s,t,h,k,d,o){for(var b=0;b<o;b++)k[b]=t[s[b]],d[b]=h[s[b]]},C.prototype.transform=function(s,t,h,k,d,o){this.permute(o,s,t,h,k,d);for(var b=1;b<d;b<<=1)for(var W=b<<1,O=Math.cos(2*Math.PI/W),P=Math.sin(2*Math.PI/W),pe=0;pe<d;pe+=W)for(var Ne=O,xe=P,te=0;te<b;te++){var ie=h[pe+te],he=k[pe+te],Fe=h[pe+te+b],Re=k[pe+te+b],ge=Ne*Fe-xe*Re;Re=Ne*Re+xe*Fe,Fe=ge,h[pe+te]=ie+Fe,k[pe+te]=he+Re,h[pe+te+b]=ie-Fe,k[pe+te+b]=he-Re,te!==W&&(ge=O*Ne-P*xe,xe=O*xe+P*Ne,Ne=ge)}},C.prototype.guessLen13b=function(s,t){var h=Math.max(t,s)|1,k=h&1,d=0;for(h=h/2|0;h;h=h>>>1)d++;return 1<<d+1+k},C.prototype.conjugate=function(s,t,h){if(!(h<=1))for(var k=0;k<h/2;k++){var d=s[k];s[k]=s[h-k-1],s[h-k-1]=d,d=t[k],t[k]=-t[h-k-1],t[h-k-1]=-d}},C.prototype.normalize13b=function(s,t){for(var h=0,k=0;k<t/2;k++){var d=Math.round(s[2*k+1]/t)*8192+Math.round(s[2*k]/t)+h;s[k]=d&67108863,d<67108864?h=0:h=d/67108864|0}return s},C.prototype.convert13b=function(s,t,h,k){for(var d=0,o=0;o<t;o++)d=d+(s[o]|0),h[2*o]=d&8191,d=d>>>13,h[2*o+1]=d&8191,d=d>>>13;for(o=2*t;o<k;++o)h[o]=0;p(d===0),p((d&-8192)===0)},C.prototype.stub=function(s){for(var t=new Array(s),h=0;h<s;h++)t[h]=0;return t},C.prototype.mulp=function(s,t,h){var k=2*this.guessLen13b(s.length,t.length),d=this.makeRBT(k),o=this.stub(k),b=new Array(k),W=new Array(k),O=new Array(k),P=new Array(k),pe=new Array(k),Ne=new Array(k),xe=h.words;xe.length=k,this.convert13b(s.words,s.length,b,k),this.convert13b(t.words,t.length,P,k),this.transform(b,o,W,O,k,d),this.transform(P,o,pe,Ne,k,d);for(var te=0;te<k;te++){var ie=W[te]*pe[te]-O[te]*Ne[te];O[te]=W[te]*Ne[te]+O[te]*pe[te],W[te]=ie}return this.conjugate(W,O,k),this.transform(W,O,xe,o,k,d),this.conjugate(xe,o,k),this.normalize13b(xe,k),h.negative=s.negative^t.negative,h.length=s.length+t.length,h._strip()},u.prototype.mul=function(s){var t=new u(null);return t.words=new Array(this.length+s.length),this.mulTo(s,t)},u.prototype.mulf=function(s){var t=new u(null);return t.words=new Array(this.length+s.length),D(this,s,t)},u.prototype.imul=function(s){return this.clone().mulTo(s,this)},u.prototype.imuln=function(s){var t=s<0;t&&(s=-s),p(typeof s=="number"),p(s<67108864);for(var h=0,k=0;k<this.length;k++){var d=(this.words[k]|0)*s,o=(d&67108863)+(h&67108863);h>>=26,h+=d/67108864|0,h+=o>>>26,this.words[k]=o&67108863}return h!==0&&(this.words[k]=h,this.length++),t?this.ineg():this},u.prototype.muln=function(s){return this.clone().imuln(s)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(s){var t=j(s);if(t.length===0)return new u(1);for(var h=this,k=0;k<t.length&&t[k]===0;k++,h=h.sqr());if(++k<t.length)for(var d=h.sqr();k<t.length;k++,d=d.sqr())t[k]!==0&&(h=h.mul(d));return h},u.prototype.iushln=function(s){p(typeof s=="number"&&s>=0);var t=s%26,h=(s-t)/26,k=67108863>>>26-t<<26-t,d;if(t!==0){var o=0;for(d=0;d<this.length;d++){var b=this.words[d]&k,W=(this.words[d]|0)-b<<t;this.words[d]=W|o,o=b>>>26-t}o&&(this.words[d]=o,this.length++)}if(h!==0){for(d=this.length-1;d>=0;d--)this.words[d+h]=this.words[d];for(d=0;d<h;d++)this.words[d]=0;this.length+=h}return this._strip()},u.prototype.ishln=function(s){return p(this.negative===0),this.iushln(s)},u.prototype.iushrn=function(s,t,h){p(typeof s=="number"&&s>=0);var k;t?k=(t-t%26)/26:k=0;var d=s%26,o=Math.min((s-d)/26,this.length),b=67108863^67108863>>>d<<d,W=h;if(k-=o,k=Math.max(0,k),W){for(var O=0;O<o;O++)W.words[O]=this.words[O];W.length=o}if(o!==0)if(this.length>o)for(this.length-=o,O=0;O<this.length;O++)this.words[O]=this.words[O+o];else this.words[0]=0,this.length=1;var P=0;for(O=this.length-1;O>=0&&(P!==0||O>=k);O--){var pe=this.words[O]|0;this.words[O]=P<<26-d|pe>>>d,P=pe&b}return W&&P!==0&&(W.words[W.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(s,t,h){return p(this.negative===0),this.iushrn(s,t,h)},u.prototype.shln=function(s){return this.clone().ishln(s)},u.prototype.ushln=function(s){return this.clone().iushln(s)},u.prototype.shrn=function(s){return this.clone().ishrn(s)},u.prototype.ushrn=function(s){return this.clone().iushrn(s)},u.prototype.testn=function(s){p(typeof s=="number"&&s>=0);var t=s%26,h=(s-t)/26,k=1<<t;if(this.length<=h)return!1;var d=this.words[h];return!!(d&k)},u.prototype.imaskn=function(s){p(typeof s=="number"&&s>=0);var t=s%26,h=(s-t)/26;if(p(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(t!==0&&h++,this.length=Math.min(h,this.length),t!==0){var k=67108863^67108863>>>t<<t;this.words[this.length-1]&=k}return this._strip()},u.prototype.maskn=function(s){return this.clone().imaskn(s)},u.prototype.iaddn=function(s){return p(typeof s=="number"),p(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},u.prototype._iaddn=function(s){this.words[0]+=s;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},u.prototype.isubn=function(s){if(p(typeof s=="number"),p(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},u.prototype.addn=function(s){return this.clone().iaddn(s)},u.prototype.subn=function(s){return this.clone().isubn(s)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(s,t,h){var k=s.length+h,d;this._expand(k);var o,b=0;for(d=0;d<s.length;d++){o=(this.words[d+h]|0)+b;var W=(s.words[d]|0)*t;o-=W&67108863,b=(o>>26)-(W/67108864|0),this.words[d+h]=o&67108863}for(;d<this.length-h;d++)o=(this.words[d+h]|0)+b,b=o>>26,this.words[d+h]=o&67108863;if(b===0)return this._strip();for(p(b===-1),b=0,d=0;d<this.length;d++)o=-(this.words[d]|0)+b,b=o>>26,this.words[d]=o&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(s,t){var h=this.length-s.length,k=this.clone(),d=s,o=d.words[d.length-1]|0,b=this._countBits(o);h=26-b,h!==0&&(d=d.ushln(h),k.iushln(h),o=d.words[d.length-1]|0);var W=k.length-d.length,O;if(t!=="mod"){O=new u(null),O.length=W+1,O.words=new Array(O.length);for(var P=0;P<O.length;P++)O.words[P]=0}var pe=k.clone()._ishlnsubmul(d,1,W);pe.negative===0&&(k=pe,O&&(O.words[W]=1));for(var Ne=W-1;Ne>=0;Ne--){var xe=(k.words[d.length+Ne]|0)*67108864+(k.words[d.length+Ne-1]|0);for(xe=Math.min(xe/o|0,67108863),k._ishlnsubmul(d,xe,Ne);k.negative!==0;)xe--,k.negative=0,k._ishlnsubmul(d,1,Ne),k.isZero()||(k.negative^=1);O&&(O.words[Ne]=xe)}return O&&O._strip(),k._strip(),t!=="div"&&h!==0&&k.iushrn(h),{div:O||null,mod:k}},u.prototype.divmod=function(s,t,h){if(p(!s.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var k,d,o;return this.negative!==0&&s.negative===0?(o=this.neg().divmod(s,t),t!=="mod"&&(k=o.div.neg()),t!=="div"&&(d=o.mod.neg(),h&&d.negative!==0&&d.iadd(s)),{div:k,mod:d}):this.negative===0&&s.negative!==0?(o=this.divmod(s.neg(),t),t!=="mod"&&(k=o.div.neg()),{div:k,mod:o.mod}):(this.negative&s.negative)!==0?(o=this.neg().divmod(s.neg(),t),t!=="div"&&(d=o.mod.neg(),h&&d.negative!==0&&d.isub(s)),{div:o.div,mod:d}):s.length>this.length||this.cmp(s)<0?{div:new u(0),mod:this}:s.length===1?t==="div"?{div:this.divn(s.words[0]),mod:null}:t==="mod"?{div:null,mod:new u(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new u(this.modrn(s.words[0]))}:this._wordDiv(s,t)},u.prototype.div=function(s){return this.divmod(s,"div",!1).div},u.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},u.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},u.prototype.divRound=function(s){var t=this.divmod(s);if(t.mod.isZero())return t.div;var h=t.div.negative!==0?t.mod.isub(s):t.mod,k=s.ushrn(1),d=s.andln(1),o=h.cmp(k);return o<0||d===1&&o===0?t.div:t.div.negative!==0?t.div.isubn(1):t.div.iaddn(1)},u.prototype.modrn=function(s){var t=s<0;t&&(s=-s),p(s<=67108863);for(var h=67108864%s,k=0,d=this.length-1;d>=0;d--)k=(h*k+(this.words[d]|0))%s;return t?-k:k},u.prototype.modn=function(s){return this.modrn(s)},u.prototype.idivn=function(s){var t=s<0;t&&(s=-s),p(s<=67108863);for(var h=0,k=this.length-1;k>=0;k--){var d=(this.words[k]|0)+h*67108864;this.words[k]=d/s|0,h=d%s}return this._strip(),t?this.ineg():this},u.prototype.divn=function(s){return this.clone().idivn(s)},u.prototype.egcd=function(s){p(s.negative===0),p(!s.isZero());var t=this,h=s.clone();t.negative!==0?t=t.umod(s):t=t.clone();for(var k=new u(1),d=new u(0),o=new u(0),b=new u(1),W=0;t.isEven()&&h.isEven();)t.iushrn(1),h.iushrn(1),++W;for(var O=h.clone(),P=t.clone();!t.isZero();){for(var pe=0,Ne=1;(t.words[0]&Ne)===0&&pe<26;++pe,Ne<<=1);if(pe>0)for(t.iushrn(pe);pe-- >0;)(k.isOdd()||d.isOdd())&&(k.iadd(O),d.isub(P)),k.iushrn(1),d.iushrn(1);for(var xe=0,te=1;(h.words[0]&te)===0&&xe<26;++xe,te<<=1);if(xe>0)for(h.iushrn(xe);xe-- >0;)(o.isOdd()||b.isOdd())&&(o.iadd(O),b.isub(P)),o.iushrn(1),b.iushrn(1);t.cmp(h)>=0?(t.isub(h),k.isub(o),d.isub(b)):(h.isub(t),o.isub(k),b.isub(d))}return{a:o,b,gcd:h.iushln(W)}},u.prototype._invmp=function(s){p(s.negative===0),p(!s.isZero());var t=this,h=s.clone();t.negative!==0?t=t.umod(s):t=t.clone();for(var k=new u(1),d=new u(0),o=h.clone();t.cmpn(1)>0&&h.cmpn(1)>0;){for(var b=0,W=1;(t.words[0]&W)===0&&b<26;++b,W<<=1);if(b>0)for(t.iushrn(b);b-- >0;)k.isOdd()&&k.iadd(o),k.iushrn(1);for(var O=0,P=1;(h.words[0]&P)===0&&O<26;++O,P<<=1);if(O>0)for(h.iushrn(O);O-- >0;)d.isOdd()&&d.iadd(o),d.iushrn(1);t.cmp(h)>=0?(t.isub(h),k.isub(d)):(h.isub(t),d.isub(k))}var pe;return t.cmpn(1)===0?pe=k:pe=d,pe.cmpn(0)<0&&pe.iadd(s),pe},u.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var t=this.clone(),h=s.clone();t.negative=0,h.negative=0;for(var k=0;t.isEven()&&h.isEven();k++)t.iushrn(1),h.iushrn(1);do{for(;t.isEven();)t.iushrn(1);for(;h.isEven();)h.iushrn(1);var d=t.cmp(h);if(d<0){var o=t;t=h,h=o}else if(d===0||h.cmpn(1)===0)break;t.isub(h)}while(!0);return h.iushln(k)},u.prototype.invm=function(s){return this.egcd(s).a.umod(s)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(s){return this.words[0]&s},u.prototype.bincn=function(s){p(typeof s=="number");var t=s%26,h=(s-t)/26,k=1<<t;if(this.length<=h)return this._expand(h+1),this.words[h]|=k,this;for(var d=k,o=h;d!==0&&o<this.length;o++){var b=this.words[o]|0;b+=d,d=b>>>26,b&=67108863,this.words[o]=b}return d!==0&&(this.words[o]=d,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(s){var t=s<0;if(this.negative!==0&&!t)return-1;if(this.negative===0&&t)return 1;this._strip();var h;if(this.length>1)h=1;else{t&&(s=-s),p(s<=67108863,"Number is too big");var k=this.words[0]|0;h=k===s?0:k<s?-1:1}return this.negative!==0?-h|0:h},u.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var t=this.ucmp(s);return this.negative!==0?-t|0:t},u.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var t=0,h=this.length-1;h>=0;h--){var k=this.words[h]|0,d=s.words[h]|0;if(k!==d){k<d?t=-1:k>d&&(t=1);break}}return t},u.prototype.gtn=function(s){return this.cmpn(s)===1},u.prototype.gt=function(s){return this.cmp(s)===1},u.prototype.gten=function(s){return this.cmpn(s)>=0},u.prototype.gte=function(s){return this.cmp(s)>=0},u.prototype.ltn=function(s){return this.cmpn(s)===-1},u.prototype.lt=function(s){return this.cmp(s)===-1},u.prototype.lten=function(s){return this.cmpn(s)<=0},u.prototype.lte=function(s){return this.cmp(s)<=0},u.prototype.eqn=function(s){return this.cmpn(s)===0},u.prototype.eq=function(s){return this.cmp(s)===0},u.red=function(s){return new n(s)},u.prototype.toRed=function(s){return p(!this.red,"Already a number in reduction context"),p(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},u.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(s){return this.red=s,this},u.prototype.forceRed=function(s){return p(!this.red,"Already a number in reduction context"),this._forceRed(s)},u.prototype.redAdd=function(s){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},u.prototype.redIAdd=function(s){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},u.prototype.redSub=function(s){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},u.prototype.redISub=function(s){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},u.prototype.redShl=function(s){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},u.prototype.redMul=function(s){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},u.prototype.redIMul=function(s){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},u.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(s){return p(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var ce={k256:null,p224:null,p192:null,p25519:null};function be(s,t){this.name=s,this.p=new u(t,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}be.prototype._tmp=function(){var s=new u(null);return s.words=new Array(Math.ceil(this.n/13)),s},be.prototype.ireduce=function(s){var t=s,h;do this.split(t,this.tmp),t=this.imulK(t),t=t.iadd(this.tmp),h=t.bitLength();while(h>this.n);var k=h<this.n?-1:t.ucmp(this.p);return k===0?(t.words[0]=0,t.length=1):k>0?t.isub(this.p):t.strip!==void 0?t.strip():t._strip(),t},be.prototype.split=function(s,t){s.iushrn(this.n,0,t)},be.prototype.imulK=function(s){return s.imul(this.k)};function qe(){be.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(qe,be),qe.prototype.split=function(s,t){for(var h=4194303,k=Math.min(s.length,9),d=0;d<k;d++)t.words[d]=s.words[d];if(t.length=k,s.length<=9){s.words[0]=0,s.length=1;return}var o=s.words[9];for(t.words[t.length++]=o&h,d=10;d<s.length;d++){var b=s.words[d]|0;s.words[d-10]=(b&h)<<4|o>>>22,o=b}o>>>=22,s.words[d-10]=o,o===0&&s.length>10?s.length-=10:s.length-=9},qe.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var t=0,h=0;h<s.length;h++){var k=s.words[h]|0;t+=k*977,s.words[h]=t&67108863,t=k*64+(t/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ue(){be.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(ue,be);function $e(){be.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x($e,be);function e(){be.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(e,be),e.prototype.imulK=function(s){for(var t=0,h=0;h<s.length;h++){var k=(s.words[h]|0)*19+t,d=k&67108863;k>>>=26,s.words[h]=d,t=k}return t!==0&&(s.words[s.length++]=t),s},u._prime=function(s){if(ce[s])return ce[s];var t;if(s==="k256")t=new qe;else if(s==="p224")t=new ue;else if(s==="p192")t=new $e;else if(s==="p25519")t=new e;else throw new Error("Unknown prime "+s);return ce[s]=t,t};function n(s){if(typeof s=="string"){var t=u._prime(s);this.m=t.p,this.prime=t}else p(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}n.prototype._verify1=function(s){p(s.negative===0,"red works only with positives"),p(s.red,"red works only with red numbers")},n.prototype._verify2=function(s,t){p((s.negative|t.negative)===0,"red works only with positives"),p(s.red&&s.red===t.red,"red works only with red numbers")},n.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(v(s,s.umod(this.m)._forceRed(this)),s)},n.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},n.prototype.add=function(s,t){this._verify2(s,t);var h=s.add(t);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},n.prototype.iadd=function(s,t){this._verify2(s,t);var h=s.iadd(t);return h.cmp(this.m)>=0&&h.isub(this.m),h},n.prototype.sub=function(s,t){this._verify2(s,t);var h=s.sub(t);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},n.prototype.isub=function(s,t){this._verify2(s,t);var h=s.isub(t);return h.cmpn(0)<0&&h.iadd(this.m),h},n.prototype.shl=function(s,t){return this._verify1(s),this.imod(s.ushln(t))},n.prototype.imul=function(s,t){return this._verify2(s,t),this.imod(s.imul(t))},n.prototype.mul=function(s,t){return this._verify2(s,t),this.imod(s.mul(t))},n.prototype.isqr=function(s){return this.imul(s,s.clone())},n.prototype.sqr=function(s){return this.mul(s,s)},n.prototype.sqrt=function(s){if(s.isZero())return s.clone();var t=this.m.andln(3);if(p(t%2===1),t===3){var h=this.m.add(new u(1)).iushrn(2);return this.pow(s,h)}for(var k=this.m.subn(1),d=0;!k.isZero()&&k.andln(1)===0;)d++,k.iushrn(1);p(!k.isZero());var o=new u(1).toRed(this),b=o.redNeg(),W=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new u(2*O*O).toRed(this);this.pow(O,W).cmp(b)!==0;)O.redIAdd(b);for(var P=this.pow(O,k),pe=this.pow(s,k.addn(1).iushrn(1)),Ne=this.pow(s,k),xe=d;Ne.cmp(o)!==0;){for(var te=Ne,ie=0;te.cmp(o)!==0;ie++)te=te.redSqr();p(ie<xe);var he=this.pow(P,new u(1).iushln(xe-ie-1));pe=pe.redMul(he),P=he.redSqr(),Ne=Ne.redMul(P),xe=ie}return pe},n.prototype.invm=function(s){var t=s._invmp(this.m);return t.negative!==0?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},n.prototype.pow=function(s,t){if(t.isZero())return new u(1).toRed(this);if(t.cmpn(1)===0)return s.clone();var h=4,k=new Array(1<<h);k[0]=new u(1).toRed(this),k[1]=s;for(var d=2;d<k.length;d++)k[d]=this.mul(k[d-1],s);var o=k[0],b=0,W=0,O=t.bitLength()%26;for(O===0&&(O=26),d=t.length-1;d>=0;d--){for(var P=t.words[d],pe=O-1;pe>=0;pe--){var Ne=P>>pe&1;if(o!==k[0]&&(o=this.sqr(o)),Ne===0&&b===0){W=0;continue}b<<=1,b|=Ne,W++,!(W!==h&&(d!==0||pe!==0))&&(o=this.mul(o,k[b]),W=0,b=0)}O=26}return o},n.prototype.convertTo=function(s){var t=s.umod(this.m);return t===s?t.clone():t},n.prototype.convertFrom=function(s){var t=s.clone();return t.red=null,t},u.mont=function(s){return new c(s)};function c(s){n.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x(c,n),c.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},c.prototype.convertFrom=function(s){var t=this.imod(s.mul(this.rinv));return t.red=null,t},c.prototype.imul=function(s,t){if(s.isZero()||t.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(t),k=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(k).iushrn(this.shift),o=d;return d.cmp(this.m)>=0?o=d.isub(this.m):d.cmpn(0)<0&&(o=d.iadd(this.m)),o._forceRed(this)},c.prototype.mul=function(s,t){if(s.isZero()||t.isZero())return new u(0)._forceRed(this);var h=s.mul(t),k=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=h.isub(k).iushrn(this.shift),o=d;return d.cmp(this.m)>=0?o=d.isub(this.m):d.cmpn(0)<0&&(o=d.iadd(this.m)),o._forceRed(this)},c.prototype.invm=function(s){var t=this.imod(s._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(typeof m>"u"||m,l)}),Ds=je((l,m)=>{var r=Ys(),N=Da();function p(_){var L=x(_),y=L.toRed(r.mont(_.modulus)).redPow(new r(_.publicExponent)).fromRed();return{blinder:y,unblinder:L.invm(_.modulus)}}function x(_){var L=_.modulus.byteLength(),y;do y=new r(N(L));while(y.cmp(_.modulus)>=0||!y.umod(_.prime1)||!y.umod(_.prime2));return y}function u(_,L){var y=p(L),R=L.modulus.byteLength(),v=new r(_).mul(y.blinder).umod(L.modulus),$=v.toRed(r.mont(L.prime1)),M=v.toRed(r.mont(L.prime2)),T=L.coefficient,q=L.prime1,X=L.prime2,j=$.redPow(L.exponent1).fromRed(),I=M.redPow(L.exponent2).fromRed(),S=j.isub(I).imul(T).umod(q).imul(X);return I.iadd(S).imul(y.unblinder).umod(L.modulus).toArrayLike(Buffer,"be",R)}u.getr=x,m.exports=u}),Bc=je((l,m)=>{m.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),ca=je((l,m)=>{(function(r,N){function p(e,n){if(!e)throw new Error(n||"Assertion failed")}function x(e,n){e.super_=n;var c=function(){};c.prototype=n.prototype,e.prototype=new c,e.prototype.constructor=e}function u(e,n,c){if(u.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(e||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:N.BN=u,u.BN=u,u.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=Ua().Buffer}catch{}u.isBN=function(e){return e instanceof u?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===u.wordSize&&Array.isArray(e.words)},u.max=function(e,n){return e.cmp(n)>0?e:n},u.min=function(e,n){return e.cmp(n)<0?e:n},u.prototype._init=function(e,n,c){if(typeof e=="number")return this._initNumber(e,n,c);if(typeof e=="object")return this._initArray(e,n,c);n==="hex"&&(n=16),p(n===(n|0)&&n>=2&&n<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(n===16?this._parseHex(e,s,c):(this._parseBase(e,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(e,n,c){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(p(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(e,n,c){if(p(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t,h,k=0;if(c==="be")for(s=e.length-1,t=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);else if(c==="le")for(s=0,t=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);return this.strip()};function L(e,n){var c=e.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(e,n,c){var s=L(e,c);return c-1>=n&&(s|=L(e,c-1)<<4),s}u.prototype._parseHex=function(e,n,c){this.length=Math.ceil((e.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t=0,h=0,k;if(c==="be")for(s=e.length-1;s>=n;s-=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8;else{var d=e.length-n;for(s=d%2===0?n+1:n;s<e.length;s+=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8}this.strip()};function R(e,n,c,s){for(var t=0,h=Math.min(e.length,c),k=n;k<h;k++){var d=e.charCodeAt(k)-48;t*=s,d>=49?t+=d-49+10:d>=17?t+=d-17+10:t+=d}return t}u.prototype._parseBase=function(e,n,c){this.words=[0],this.length=1;for(var s=0,t=1;t<=67108863;t*=n)s++;s--,t=t/n|0;for(var h=e.length-c,k=h%s,d=Math.min(h,h-k)+c,o=0,b=c;b<d;b+=s)o=R(e,b,b+s,n),this.imuln(t),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(k!==0){var W=1;for(o=R(e,b,e.length,n),b=0;b<k;b++)W*=n;this.imuln(W),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(e){e.words=new Array(this.length);for(var n=0;n<this.length;n++)e.words[n]=this.words[n];e.length=this.length,e.negative=this.negative,e.red=this.red},u.prototype.clone=function(){var e=new u(null);return this.copy(e),e},u.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(e,n){e=e||10,n=n|0||1;var c;if(e===16||e==="hex"){c="";for(var s=0,t=0,h=0;h<this.length;h++){var k=this.words[h],d=((k<<s|t)&16777215).toString(16);t=k>>>24-s&16777215,t!==0||h!==this.length-1?c=v[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,h--)}for(t!==0&&(c=t.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(e===(e|0)&&e>=2&&e<=36){var o=$[e],b=M[e];c="";var W=this.clone();for(W.negative=0;!W.isZero();){var O=W.modn(b).toString(e);W=W.idivn(b),W.isZero()?c=O+c:c=v[o-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}p(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&p(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(e,n){return p(typeof _<"u"),this.toArrayLike(_,e,n)},u.prototype.toArray=function(e,n){return this.toArrayLike(Array,e,n)},u.prototype.toArrayLike=function(e,n,c){var s=this.byteLength(),t=c||Math.max(1,s);p(s<=t,"byte array longer than desired length"),p(t>0,"Requested array length <= 0"),this.strip();var h=n==="le",k=new e(t),d,o,b=this.clone();if(h){for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[o]=d;for(;o<t;o++)k[o]=0}else{for(o=0;o<t-s;o++)k[o]=0;for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[t-o-1]=d}return k},Math.clz32?u.prototype._countBits=function(e){return 32-Math.clz32(e)}:u.prototype._countBits=function(e){var n=e,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(e){if(e===0)return 26;var n=e,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var e=this.words[this.length-1],n=this._countBits(e);return(this.length-1)*26+n};function T(e){for(var n=new Array(e.bitLength()),c=0;c<n.length;c++){var s=c/26|0,t=c%26;n[c]=(e.words[s]&1<<t)>>>t}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(e+=c,c!==26)break}return e},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},u.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]|e.words[n];return this.strip()},u.prototype.ior=function(e){return p((this.negative|e.negative)===0),this.iuor(e)},u.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},u.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},u.prototype.iuand=function(e){var n;this.length>e.length?n=e:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&e.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(e){return p((this.negative|e.negative)===0),this.iuand(e)},u.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},u.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},u.prototype.iuxor=function(e){var n,c;this.length>e.length?(n=this,c=e):(n=e,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(e){return p((this.negative|e.negative)===0),this.iuxor(e)},u.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},u.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},u.prototype.inotn=function(e){p(typeof e=="number"&&e>=0);var n=Math.ceil(e/26)|0,c=e%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(e){return this.clone().inotn(e)},u.prototype.setn=function(e,n){p(typeof e=="number"&&e>=0);var c=e/26|0,s=e%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(e){var n;if(this.negative!==0&&e.negative===0)return this.negative=0,n=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,n=this.isub(e),e.negative=1,n._normSign();var c,s;this.length>e.length?(c=this,s=e):(c=e,s=this);for(var t=0,h=0;h<s.length;h++)n=(c.words[h]|0)+(s.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;for(;t!==0&&h<c.length;h++)n=(c.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;if(this.length=c.length,t!==0)this.words[this.length]=t,this.length++;else if(c!==this)for(;h<c.length;h++)this.words[h]=c.words[h];return this},u.prototype.add=function(e){var n;return e.negative!==0&&this.negative===0?(e.negative=0,n=this.sub(e),e.negative^=1,n):e.negative===0&&this.negative!==0?(this.negative=0,n=e.sub(this),this.negative=1,n):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},u.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var n=this.iadd(e);return e.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var c=this.cmp(e);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,t;c>0?(s=this,t=e):(s=e,t=this);for(var h=0,k=0;k<t.length;k++)n=(s.words[k]|0)-(t.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;for(;h!==0&&k<s.length;k++)n=(s.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;if(h===0&&k<s.length&&s!==this)for(;k<s.length;k++)this.words[k]=s.words[k];return this.length=Math.max(this.length,k),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(e){return this.clone().isub(e)};function q(e,n,c){c.negative=n.negative^e.negative;var s=e.length+n.length|0;c.length=s,s=s-1|0;var t=e.words[0]|0,h=n.words[0]|0,k=t*h,d=k&67108863,o=k/67108864|0;c.words[0]=d;for(var b=1;b<s;b++){for(var W=o>>>26,O=o&67108863,P=Math.min(b,n.length-1),pe=Math.max(0,b-e.length+1);pe<=P;pe++){var Ne=b-pe|0;t=e.words[Ne]|0,h=n.words[pe]|0,k=t*h+O,W+=k/67108864|0,O=k&67108863}c.words[b]=O|0,o=W|0}return o!==0?c.words[b]=o|0:c.length--,c.strip()}var X=function(e,n,c){var s=e.words,t=n.words,h=c.words,k=0,d,o,b,W=s[0]|0,O=W&8191,P=W>>>13,pe=s[1]|0,Ne=pe&8191,xe=pe>>>13,te=s[2]|0,ie=te&8191,he=te>>>13,Fe=s[3]|0,Re=Fe&8191,ge=Fe>>>13,H=s[4]|0,w=H&8191,B=H>>>13,Te=s[5]|0,Le=Te&8191,Ve=Te>>>13,Pe=s[6]|0,We=Pe&8191,Ie=Pe>>>13,Qe=s[7]|0,Je=Qe&8191,Se=Qe>>>13,bo=s[8]|0,U=bo&8191,a=bo>>>13,i=s[9]|0,f=i&8191,Z=i>>>13,V=t[0]|0,g=V&8191,F=V>>>13,z=t[1]|0,J=z&8191,K=z>>>13,oe=t[2]|0,Y=oe&8191,G=oe>>>13,ne=t[3]|0,A=ne&8191,re=ne>>>13,ke=t[4]|0,ee=ke&8191,ae=ke>>>13,se=t[5]|0,Q=se&8191,le=se>>>13,fe=t[6]|0,me=fe&8191,de=fe>>>13,Oe=t[7]|0,_e=Oe&8191,ve=Oe>>>13,Xe=t[8]|0,ye=Xe&8191,Ze=Xe>>>13,we=t[9]|0,Me=we&8191,Ue=we>>>13;c.negative=e.negative^n.negative,c.length=19,d=Math.imul(O,g),o=Math.imul(O,F),o=o+Math.imul(P,g)|0,b=Math.imul(P,F);var ze=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(Ne,g),o=Math.imul(Ne,F),o=o+Math.imul(xe,g)|0,b=Math.imul(xe,F),d=d+Math.imul(O,J)|0,o=o+Math.imul(O,K)|0,o=o+Math.imul(P,J)|0,b=b+Math.imul(P,K)|0;var Ke=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(ie,g),o=Math.imul(ie,F),o=o+Math.imul(he,g)|0,b=Math.imul(he,F),d=d+Math.imul(Ne,J)|0,o=o+Math.imul(Ne,K)|0,o=o+Math.imul(xe,J)|0,b=b+Math.imul(xe,K)|0,d=d+Math.imul(O,Y)|0,o=o+Math.imul(O,G)|0,o=o+Math.imul(P,Y)|0,b=b+Math.imul(P,G)|0;var Ee=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(Re,g),o=Math.imul(Re,F),o=o+Math.imul(ge,g)|0,b=Math.imul(ge,F),d=d+Math.imul(ie,J)|0,o=o+Math.imul(ie,K)|0,o=o+Math.imul(he,J)|0,b=b+Math.imul(he,K)|0,d=d+Math.imul(Ne,Y)|0,o=o+Math.imul(Ne,G)|0,o=o+Math.imul(xe,Y)|0,b=b+Math.imul(xe,G)|0,d=d+Math.imul(O,A)|0,o=o+Math.imul(O,re)|0,o=o+Math.imul(P,A)|0,b=b+Math.imul(P,re)|0;var De=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(De>>>26)|0,De&=67108863,d=Math.imul(w,g),o=Math.imul(w,F),o=o+Math.imul(B,g)|0,b=Math.imul(B,F),d=d+Math.imul(Re,J)|0,o=o+Math.imul(Re,K)|0,o=o+Math.imul(ge,J)|0,b=b+Math.imul(ge,K)|0,d=d+Math.imul(ie,Y)|0,o=o+Math.imul(ie,G)|0,o=o+Math.imul(he,Y)|0,b=b+Math.imul(he,G)|0,d=d+Math.imul(Ne,A)|0,o=o+Math.imul(Ne,re)|0,o=o+Math.imul(xe,A)|0,b=b+Math.imul(xe,re)|0,d=d+Math.imul(O,ee)|0,o=o+Math.imul(O,ae)|0,o=o+Math.imul(P,ee)|0,b=b+Math.imul(P,ae)|0;var Ge=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,d=Math.imul(Le,g),o=Math.imul(Le,F),o=o+Math.imul(Ve,g)|0,b=Math.imul(Ve,F),d=d+Math.imul(w,J)|0,o=o+Math.imul(w,K)|0,o=o+Math.imul(B,J)|0,b=b+Math.imul(B,K)|0,d=d+Math.imul(Re,Y)|0,o=o+Math.imul(Re,G)|0,o=o+Math.imul(ge,Y)|0,b=b+Math.imul(ge,G)|0,d=d+Math.imul(ie,A)|0,o=o+Math.imul(ie,re)|0,o=o+Math.imul(he,A)|0,b=b+Math.imul(he,re)|0,d=d+Math.imul(Ne,ee)|0,o=o+Math.imul(Ne,ae)|0,o=o+Math.imul(xe,ee)|0,b=b+Math.imul(xe,ae)|0,d=d+Math.imul(O,Q)|0,o=o+Math.imul(O,le)|0,o=o+Math.imul(P,Q)|0,b=b+Math.imul(P,le)|0;var Ce=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,d=Math.imul(We,g),o=Math.imul(We,F),o=o+Math.imul(Ie,g)|0,b=Math.imul(Ie,F),d=d+Math.imul(Le,J)|0,o=o+Math.imul(Le,K)|0,o=o+Math.imul(Ve,J)|0,b=b+Math.imul(Ve,K)|0,d=d+Math.imul(w,Y)|0,o=o+Math.imul(w,G)|0,o=o+Math.imul(B,Y)|0,b=b+Math.imul(B,G)|0,d=d+Math.imul(Re,A)|0,o=o+Math.imul(Re,re)|0,o=o+Math.imul(ge,A)|0,b=b+Math.imul(ge,re)|0,d=d+Math.imul(ie,ee)|0,o=o+Math.imul(ie,ae)|0,o=o+Math.imul(he,ee)|0,b=b+Math.imul(he,ae)|0,d=d+Math.imul(Ne,Q)|0,o=o+Math.imul(Ne,le)|0,o=o+Math.imul(xe,Q)|0,b=b+Math.imul(xe,le)|0,d=d+Math.imul(O,me)|0,o=o+Math.imul(O,de)|0,o=o+Math.imul(P,me)|0,b=b+Math.imul(P,de)|0;var He=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(Je,g),o=Math.imul(Je,F),o=o+Math.imul(Se,g)|0,b=Math.imul(Se,F),d=d+Math.imul(We,J)|0,o=o+Math.imul(We,K)|0,o=o+Math.imul(Ie,J)|0,b=b+Math.imul(Ie,K)|0,d=d+Math.imul(Le,Y)|0,o=o+Math.imul(Le,G)|0,o=o+Math.imul(Ve,Y)|0,b=b+Math.imul(Ve,G)|0,d=d+Math.imul(w,A)|0,o=o+Math.imul(w,re)|0,o=o+Math.imul(B,A)|0,b=b+Math.imul(B,re)|0,d=d+Math.imul(Re,ee)|0,o=o+Math.imul(Re,ae)|0,o=o+Math.imul(ge,ee)|0,b=b+Math.imul(ge,ae)|0,d=d+Math.imul(ie,Q)|0,o=o+Math.imul(ie,le)|0,o=o+Math.imul(he,Q)|0,b=b+Math.imul(he,le)|0,d=d+Math.imul(Ne,me)|0,o=o+Math.imul(Ne,de)|0,o=o+Math.imul(xe,me)|0,b=b+Math.imul(xe,de)|0,d=d+Math.imul(O,_e)|0,o=o+Math.imul(O,ve)|0,o=o+Math.imul(P,_e)|0,b=b+Math.imul(P,ve)|0;var Be=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Be>>>26)|0,Be&=67108863,d=Math.imul(U,g),o=Math.imul(U,F),o=o+Math.imul(a,g)|0,b=Math.imul(a,F),d=d+Math.imul(Je,J)|0,o=o+Math.imul(Je,K)|0,o=o+Math.imul(Se,J)|0,b=b+Math.imul(Se,K)|0,d=d+Math.imul(We,Y)|0,o=o+Math.imul(We,G)|0,o=o+Math.imul(Ie,Y)|0,b=b+Math.imul(Ie,G)|0,d=d+Math.imul(Le,A)|0,o=o+Math.imul(Le,re)|0,o=o+Math.imul(Ve,A)|0,b=b+Math.imul(Ve,re)|0,d=d+Math.imul(w,ee)|0,o=o+Math.imul(w,ae)|0,o=o+Math.imul(B,ee)|0,b=b+Math.imul(B,ae)|0,d=d+Math.imul(Re,Q)|0,o=o+Math.imul(Re,le)|0,o=o+Math.imul(ge,Q)|0,b=b+Math.imul(ge,le)|0,d=d+Math.imul(ie,me)|0,o=o+Math.imul(ie,de)|0,o=o+Math.imul(he,me)|0,b=b+Math.imul(he,de)|0,d=d+Math.imul(Ne,_e)|0,o=o+Math.imul(Ne,ve)|0,o=o+Math.imul(xe,_e)|0,b=b+Math.imul(xe,ve)|0,d=d+Math.imul(O,ye)|0,o=o+Math.imul(O,Ze)|0,o=o+Math.imul(P,ye)|0,b=b+Math.imul(P,Ze)|0;var Ye=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,d=Math.imul(f,g),o=Math.imul(f,F),o=o+Math.imul(Z,g)|0,b=Math.imul(Z,F),d=d+Math.imul(U,J)|0,o=o+Math.imul(U,K)|0,o=o+Math.imul(a,J)|0,b=b+Math.imul(a,K)|0,d=d+Math.imul(Je,Y)|0,o=o+Math.imul(Je,G)|0,o=o+Math.imul(Se,Y)|0,b=b+Math.imul(Se,G)|0,d=d+Math.imul(We,A)|0,o=o+Math.imul(We,re)|0,o=o+Math.imul(Ie,A)|0,b=b+Math.imul(Ie,re)|0,d=d+Math.imul(Le,ee)|0,o=o+Math.imul(Le,ae)|0,o=o+Math.imul(Ve,ee)|0,b=b+Math.imul(Ve,ae)|0,d=d+Math.imul(w,Q)|0,o=o+Math.imul(w,le)|0,o=o+Math.imul(B,Q)|0,b=b+Math.imul(B,le)|0,d=d+Math.imul(Re,me)|0,o=o+Math.imul(Re,de)|0,o=o+Math.imul(ge,me)|0,b=b+Math.imul(ge,de)|0,d=d+Math.imul(ie,_e)|0,o=o+Math.imul(ie,ve)|0,o=o+Math.imul(he,_e)|0,b=b+Math.imul(he,ve)|0,d=d+Math.imul(Ne,ye)|0,o=o+Math.imul(Ne,Ze)|0,o=o+Math.imul(xe,ye)|0,b=b+Math.imul(xe,Ze)|0,d=d+Math.imul(O,Me)|0,o=o+Math.imul(O,Ue)|0,o=o+Math.imul(P,Me)|0,b=b+Math.imul(P,Ue)|0;var lo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(lo>>>26)|0,lo&=67108863,d=Math.imul(f,J),o=Math.imul(f,K),o=o+Math.imul(Z,J)|0,b=Math.imul(Z,K),d=d+Math.imul(U,Y)|0,o=o+Math.imul(U,G)|0,o=o+Math.imul(a,Y)|0,b=b+Math.imul(a,G)|0,d=d+Math.imul(Je,A)|0,o=o+Math.imul(Je,re)|0,o=o+Math.imul(Se,A)|0,b=b+Math.imul(Se,re)|0,d=d+Math.imul(We,ee)|0,o=o+Math.imul(We,ae)|0,o=o+Math.imul(Ie,ee)|0,b=b+Math.imul(Ie,ae)|0,d=d+Math.imul(Le,Q)|0,o=o+Math.imul(Le,le)|0,o=o+Math.imul(Ve,Q)|0,b=b+Math.imul(Ve,le)|0,d=d+Math.imul(w,me)|0,o=o+Math.imul(w,de)|0,o=o+Math.imul(B,me)|0,b=b+Math.imul(B,de)|0,d=d+Math.imul(Re,_e)|0,o=o+Math.imul(Re,ve)|0,o=o+Math.imul(ge,_e)|0,b=b+Math.imul(ge,ve)|0,d=d+Math.imul(ie,ye)|0,o=o+Math.imul(ie,Ze)|0,o=o+Math.imul(he,ye)|0,b=b+Math.imul(he,Ze)|0,d=d+Math.imul(Ne,Me)|0,o=o+Math.imul(Ne,Ue)|0,o=o+Math.imul(xe,Me)|0,b=b+Math.imul(xe,Ue)|0;var Ae=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,d=Math.imul(f,Y),o=Math.imul(f,G),o=o+Math.imul(Z,Y)|0,b=Math.imul(Z,G),d=d+Math.imul(U,A)|0,o=o+Math.imul(U,re)|0,o=o+Math.imul(a,A)|0,b=b+Math.imul(a,re)|0,d=d+Math.imul(Je,ee)|0,o=o+Math.imul(Je,ae)|0,o=o+Math.imul(Se,ee)|0,b=b+Math.imul(Se,ae)|0,d=d+Math.imul(We,Q)|0,o=o+Math.imul(We,le)|0,o=o+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,le)|0,d=d+Math.imul(Le,me)|0,o=o+Math.imul(Le,de)|0,o=o+Math.imul(Ve,me)|0,b=b+Math.imul(Ve,de)|0,d=d+Math.imul(w,_e)|0,o=o+Math.imul(w,ve)|0,o=o+Math.imul(B,_e)|0,b=b+Math.imul(B,ve)|0,d=d+Math.imul(Re,ye)|0,o=o+Math.imul(Re,Ze)|0,o=o+Math.imul(ge,ye)|0,b=b+Math.imul(ge,Ze)|0,d=d+Math.imul(ie,Me)|0,o=o+Math.imul(ie,Ue)|0,o=o+Math.imul(he,Me)|0,b=b+Math.imul(he,Ue)|0;var ao=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ao>>>26)|0,ao&=67108863,d=Math.imul(f,A),o=Math.imul(f,re),o=o+Math.imul(Z,A)|0,b=Math.imul(Z,re),d=d+Math.imul(U,ee)|0,o=o+Math.imul(U,ae)|0,o=o+Math.imul(a,ee)|0,b=b+Math.imul(a,ae)|0,d=d+Math.imul(Je,Q)|0,o=o+Math.imul(Je,le)|0,o=o+Math.imul(Se,Q)|0,b=b+Math.imul(Se,le)|0,d=d+Math.imul(We,me)|0,o=o+Math.imul(We,de)|0,o=o+Math.imul(Ie,me)|0,b=b+Math.imul(Ie,de)|0,d=d+Math.imul(Le,_e)|0,o=o+Math.imul(Le,ve)|0,o=o+Math.imul(Ve,_e)|0,b=b+Math.imul(Ve,ve)|0,d=d+Math.imul(w,ye)|0,o=o+Math.imul(w,Ze)|0,o=o+Math.imul(B,ye)|0,b=b+Math.imul(B,Ze)|0,d=d+Math.imul(Re,Me)|0,o=o+Math.imul(Re,Ue)|0,o=o+Math.imul(ge,Me)|0,b=b+Math.imul(ge,Ue)|0;var no=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(no>>>26)|0,no&=67108863,d=Math.imul(f,ee),o=Math.imul(f,ae),o=o+Math.imul(Z,ee)|0,b=Math.imul(Z,ae),d=d+Math.imul(U,Q)|0,o=o+Math.imul(U,le)|0,o=o+Math.imul(a,Q)|0,b=b+Math.imul(a,le)|0,d=d+Math.imul(Je,me)|0,o=o+Math.imul(Je,de)|0,o=o+Math.imul(Se,me)|0,b=b+Math.imul(Se,de)|0,d=d+Math.imul(We,_e)|0,o=o+Math.imul(We,ve)|0,o=o+Math.imul(Ie,_e)|0,b=b+Math.imul(Ie,ve)|0,d=d+Math.imul(Le,ye)|0,o=o+Math.imul(Le,Ze)|0,o=o+Math.imul(Ve,ye)|0,b=b+Math.imul(Ve,Ze)|0,d=d+Math.imul(w,Me)|0,o=o+Math.imul(w,Ue)|0,o=o+Math.imul(B,Me)|0,b=b+Math.imul(B,Ue)|0;var oo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(oo>>>26)|0,oo&=67108863,d=Math.imul(f,Q),o=Math.imul(f,le),o=o+Math.imul(Z,Q)|0,b=Math.imul(Z,le),d=d+Math.imul(U,me)|0,o=o+Math.imul(U,de)|0,o=o+Math.imul(a,me)|0,b=b+Math.imul(a,de)|0,d=d+Math.imul(Je,_e)|0,o=o+Math.imul(Je,ve)|0,o=o+Math.imul(Se,_e)|0,b=b+Math.imul(Se,ve)|0,d=d+Math.imul(We,ye)|0,o=o+Math.imul(We,Ze)|0,o=o+Math.imul(Ie,ye)|0,b=b+Math.imul(Ie,Ze)|0,d=d+Math.imul(Le,Me)|0,o=o+Math.imul(Le,Ue)|0,o=o+Math.imul(Ve,Me)|0,b=b+Math.imul(Ve,Ue)|0;var uo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(uo>>>26)|0,uo&=67108863,d=Math.imul(f,me),o=Math.imul(f,de),o=o+Math.imul(Z,me)|0,b=Math.imul(Z,de),d=d+Math.imul(U,_e)|0,o=o+Math.imul(U,ve)|0,o=o+Math.imul(a,_e)|0,b=b+Math.imul(a,ve)|0,d=d+Math.imul(Je,ye)|0,o=o+Math.imul(Je,Ze)|0,o=o+Math.imul(Se,ye)|0,b=b+Math.imul(Se,Ze)|0,d=d+Math.imul(We,Me)|0,o=o+Math.imul(We,Ue)|0,o=o+Math.imul(Ie,Me)|0,b=b+Math.imul(Ie,Ue)|0;var to=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(to>>>26)|0,to&=67108863,d=Math.imul(f,_e),o=Math.imul(f,ve),o=o+Math.imul(Z,_e)|0,b=Math.imul(Z,ve),d=d+Math.imul(U,ye)|0,o=o+Math.imul(U,Ze)|0,o=o+Math.imul(a,ye)|0,b=b+Math.imul(a,Ze)|0,d=d+Math.imul(Je,Me)|0,o=o+Math.imul(Je,Ue)|0,o=o+Math.imul(Se,Me)|0,b=b+Math.imul(Se,Ue)|0;var fo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(fo>>>26)|0,fo&=67108863,d=Math.imul(f,ye),o=Math.imul(f,Ze),o=o+Math.imul(Z,ye)|0,b=Math.imul(Z,Ze),d=d+Math.imul(U,Me)|0,o=o+Math.imul(U,Ue)|0,o=o+Math.imul(a,Me)|0,b=b+Math.imul(a,Ue)|0;var io=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(io>>>26)|0,io&=67108863,d=Math.imul(f,Me),o=Math.imul(f,Ue),o=o+Math.imul(Z,Me)|0,b=Math.imul(Z,Ue);var ro=(k+d|0)+((o&8191)<<13)|0;return k=(b+(o>>>13)|0)+(ro>>>26)|0,ro&=67108863,h[0]=ze,h[1]=Ke,h[2]=Ee,h[3]=De,h[4]=Ge,h[5]=Ce,h[6]=He,h[7]=Be,h[8]=Ye,h[9]=lo,h[10]=Ae,h[11]=ao,h[12]=no,h[13]=oo,h[14]=uo,h[15]=to,h[16]=fo,h[17]=io,h[18]=ro,k!==0&&(h[19]=k,c.length++),c};Math.imul||(X=q);function j(e,n,c){c.negative=n.negative^e.negative,c.length=e.length+n.length;for(var s=0,t=0,h=0;h<c.length-1;h++){var k=t;t=0;for(var d=s&67108863,o=Math.min(h,n.length-1),b=Math.max(0,h-e.length+1);b<=o;b++){var W=h-b,O=e.words[W]|0,P=n.words[b]|0,pe=O*P,Ne=pe&67108863;k=k+(pe/67108864|0)|0,Ne=Ne+d|0,d=Ne&67108863,k=k+(Ne>>>26)|0,t+=k>>>26,k&=67108863}c.words[h]=d,s=k,k=t}return s!==0?c.words[h]=s:c.length--,c.strip()}function I(e,n,c){var s=new S;return s.mulp(e,n,c)}u.prototype.mulTo=function(e,n){var c,s=this.length+e.length;return this.length===10&&e.length===10?c=X(this,e,n):s<63?c=q(this,e,n):s<1024?c=j(this,e,n):c=I(this,e,n),c};function S(e,n){this.x=e,this.y=n}S.prototype.makeRBT=function(e){for(var n=new Array(e),c=u.prototype._countBits(e)-1,s=0;s<e;s++)n[s]=this.revBin(s,c,e);return n},S.prototype.revBin=function(e,n,c){if(e===0||e===c-1)return e;for(var s=0,t=0;t<n;t++)s|=(e&1)<<n-t-1,e>>=1;return s},S.prototype.permute=function(e,n,c,s,t,h){for(var k=0;k<h;k++)s[k]=n[e[k]],t[k]=c[e[k]]},S.prototype.transform=function(e,n,c,s,t,h){this.permute(h,e,n,c,s,t);for(var k=1;k<t;k<<=1)for(var d=k<<1,o=Math.cos(2*Math.PI/d),b=Math.sin(2*Math.PI/d),W=0;W<t;W+=d)for(var O=o,P=b,pe=0;pe<k;pe++){var Ne=c[W+pe],xe=s[W+pe],te=c[W+pe+k],ie=s[W+pe+k],he=O*te-P*ie;ie=O*ie+P*te,te=he,c[W+pe]=Ne+te,s[W+pe]=xe+ie,c[W+pe+k]=Ne-te,s[W+pe+k]=xe-ie,pe!==d&&(he=o*O-b*P,P=o*P+b*O,O=he)}},S.prototype.guessLen13b=function(e,n){var c=Math.max(n,e)|1,s=c&1,t=0;for(c=c/2|0;c;c=c>>>1)t++;return 1<<t+1+s},S.prototype.conjugate=function(e,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var t=e[s];e[s]=e[c-s-1],e[c-s-1]=t,t=n[s],n[s]=-n[c-s-1],n[c-s-1]=-t}},S.prototype.normalize13b=function(e,n){for(var c=0,s=0;s<n/2;s++){var t=Math.round(e[2*s+1]/n)*8192+Math.round(e[2*s]/n)+c;e[s]=t&67108863,t<67108864?c=0:c=t/67108864|0}return e},S.prototype.convert13b=function(e,n,c,s){for(var t=0,h=0;h<n;h++)t=t+(e[h]|0),c[2*h]=t&8191,t=t>>>13,c[2*h+1]=t&8191,t=t>>>13;for(h=2*n;h<s;++h)c[h]=0;p(t===0),p((t&-8192)===0)},S.prototype.stub=function(e){for(var n=new Array(e),c=0;c<e;c++)n[c]=0;return n},S.prototype.mulp=function(e,n,c){var s=2*this.guessLen13b(e.length,n.length),t=this.makeRBT(s),h=this.stub(s),k=new Array(s),d=new Array(s),o=new Array(s),b=new Array(s),W=new Array(s),O=new Array(s),P=c.words;P.length=s,this.convert13b(e.words,e.length,k,s),this.convert13b(n.words,n.length,b,s),this.transform(k,h,d,o,s,t),this.transform(b,h,W,O,s,t);for(var pe=0;pe<s;pe++){var Ne=d[pe]*W[pe]-o[pe]*O[pe];o[pe]=d[pe]*O[pe]+o[pe]*W[pe],d[pe]=Ne}return this.conjugate(d,o,s),this.transform(d,o,P,h,s,t),this.conjugate(P,h,s),this.normalize13b(P,s),c.negative=e.negative^n.negative,c.length=e.length+n.length,c.strip()},u.prototype.mul=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),this.mulTo(e,n)},u.prototype.mulf=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),I(this,e,n)},u.prototype.imul=function(e){return this.clone().mulTo(e,this)},u.prototype.imuln=function(e){p(typeof e=="number"),p(e<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*e,t=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=t>>>26,this.words[c]=t&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(e){return this.clone().imuln(e)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(e){var n=T(e);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var t=c.sqr();s<n.length;s++,t=t.sqr())n[s]!==0&&(c=c.mul(t));return c},u.prototype.iushln=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=67108863>>>26-n<<26-n,t;if(n!==0){var h=0;for(t=0;t<this.length;t++){var k=this.words[t]&s,d=(this.words[t]|0)-k<<n;this.words[t]=d|h,h=k>>>26-n}h&&(this.words[t]=h,this.length++)}if(c!==0){for(t=this.length-1;t>=0;t--)this.words[t+c]=this.words[t];for(t=0;t<c;t++)this.words[t]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(e){return p(this.negative===0),this.iushln(e)},u.prototype.iushrn=function(e,n,c){p(typeof e=="number"&&e>=0);var s;n?s=(n-n%26)/26:s=0;var t=e%26,h=Math.min((e-t)/26,this.length),k=67108863^67108863>>>t<<t,d=c;if(s-=h,s=Math.max(0,s),d){for(var o=0;o<h;o++)d.words[o]=this.words[o];d.length=h}if(h!==0)if(this.length>h)for(this.length-=h,o=0;o<this.length;o++)this.words[o]=this.words[o+h];else this.words[0]=0,this.length=1;var b=0;for(o=this.length-1;o>=0&&(b!==0||o>=s);o--){var W=this.words[o]|0;this.words[o]=b<<26-t|W>>>t,b=W&k}return d&&b!==0&&(d.words[d.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(e,n,c){return p(this.negative===0),this.iushrn(e,n,c)},u.prototype.shln=function(e){return this.clone().ishln(e)},u.prototype.ushln=function(e){return this.clone().iushln(e)},u.prototype.shrn=function(e){return this.clone().ishrn(e)},u.prototype.ushrn=function(e){return this.clone().iushrn(e)},u.prototype.testn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return!1;var t=this.words[c];return!!(t&s)},u.prototype.imaskn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26;if(p(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(e){return this.clone().imaskn(e)},u.prototype.iaddn=function(e){return p(typeof e=="number"),p(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},u.prototype._iaddn=function(e){this.words[0]+=e;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(e){if(p(typeof e=="number"),p(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(e){return this.clone().iaddn(e)},u.prototype.subn=function(e){return this.clone().isubn(e)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(e,n,c){var s=e.length+c,t;this._expand(s);var h,k=0;for(t=0;t<e.length;t++){h=(this.words[t+c]|0)+k;var d=(e.words[t]|0)*n;h-=d&67108863,k=(h>>26)-(d/67108864|0),this.words[t+c]=h&67108863}for(;t<this.length-c;t++)h=(this.words[t+c]|0)+k,k=h>>26,this.words[t+c]=h&67108863;if(k===0)return this.strip();for(p(k===-1),k=0,t=0;t<this.length;t++)h=-(this.words[t]|0)+k,k=h>>26,this.words[t]=h&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(e,n){var c=this.length-e.length,s=this.clone(),t=e,h=t.words[t.length-1]|0,k=this._countBits(h);c=26-k,c!==0&&(t=t.ushln(c),s.iushln(c),h=t.words[t.length-1]|0);var d=s.length-t.length,o;if(n!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var b=0;b<o.length;b++)o.words[b]=0}var W=s.clone()._ishlnsubmul(t,1,d);W.negative===0&&(s=W,o&&(o.words[d]=1));for(var O=d-1;O>=0;O--){var P=(s.words[t.length+O]|0)*67108864+(s.words[t.length+O-1]|0);for(P=Math.min(P/h|0,67108863),s._ishlnsubmul(t,P,O);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(t,1,O),s.isZero()||(s.negative^=1);o&&(o.words[O]=P)}return o&&o.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:o||null,mod:s}},u.prototype.divmod=function(e,n,c){if(p(!e.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,t,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,n),n!=="mod"&&(s=h.div.neg()),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.iadd(e)),{div:s,mod:t}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),n),n!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),n),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.isub(e)),{div:h.div,mod:t}):e.length>this.length||this.cmp(e)<0?{div:new u(0),mod:this}:e.length===1?n==="div"?{div:this.divn(e.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new u(this.modn(e.words[0]))}:this._wordDiv(e,n)},u.prototype.div=function(e){return this.divmod(e,"div",!1).div},u.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},u.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},u.prototype.divRound=function(e){var n=this.divmod(e);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(e):n.mod,s=e.ushrn(1),t=e.andln(1),h=c.cmp(s);return h<0||t===1&&h===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(e){p(e<=67108863);for(var n=67108864%e,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%e;return c},u.prototype.idivn=function(e){p(e<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/e|0,n=s%e}return this.strip()},u.prototype.divn=function(e){return this.clone().idivn(e)},u.prototype.egcd=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=new u(0),k=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var o=c.clone(),b=n.clone();!n.isZero();){for(var W=0,O=1;(n.words[0]&O)===0&&W<26;++W,O<<=1);if(W>0)for(n.iushrn(W);W-- >0;)(s.isOdd()||t.isOdd())&&(s.iadd(o),t.isub(b)),s.iushrn(1),t.iushrn(1);for(var P=0,pe=1;(c.words[0]&pe)===0&&P<26;++P,pe<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(h.isOdd()||k.isOdd())&&(h.iadd(o),k.isub(b)),h.iushrn(1),k.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(h),t.isub(k)):(c.isub(n),h.isub(s),k.isub(t))}return{a:h,b:k,gcd:c.iushln(d)}},u.prototype._invmp=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var k=0,d=1;(n.words[0]&d)===0&&k<26;++k,d<<=1);if(k>0)for(n.iushrn(k);k-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var o=0,b=1;(c.words[0]&b)===0&&o<26;++o,b<<=1);if(o>0)for(c.iushrn(o);o-- >0;)t.isOdd()&&t.iadd(h),t.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(t)):(c.isub(n),t.isub(s))}var W;return n.cmpn(1)===0?W=s:W=t,W.cmpn(0)<0&&W.iadd(e),W},u.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var n=this.clone(),c=e.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var t=n.cmp(c);if(t<0){var h=n;n=c,c=h}else if(t===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(e){return this.egcd(e).a.umod(e)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(e){return this.words[0]&e},u.prototype.bincn=function(e){p(typeof e=="number");var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var t=s,h=c;t!==0&&h<this.length;h++){var k=this.words[h]|0;k+=t,t=k>>>26,k&=67108863,this.words[h]=k}return t!==0&&(this.words[h]=t,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(e){var n=e<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(e=-e),p(e<=67108863,"Number is too big");var s=this.words[0]|0;c=s===e?0:s<e?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var n=this.ucmp(e);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,t=e.words[c]|0;if(s!==t){s<t?n=-1:s>t&&(n=1);break}}return n},u.prototype.gtn=function(e){return this.cmpn(e)===1},u.prototype.gt=function(e){return this.cmp(e)===1},u.prototype.gten=function(e){return this.cmpn(e)>=0},u.prototype.gte=function(e){return this.cmp(e)>=0},u.prototype.ltn=function(e){return this.cmpn(e)===-1},u.prototype.lt=function(e){return this.cmp(e)===-1},u.prototype.lten=function(e){return this.cmpn(e)<=0},u.prototype.lte=function(e){return this.cmp(e)<=0},u.prototype.eqn=function(e){return this.cmpn(e)===0},u.prototype.eq=function(e){return this.cmp(e)===0},u.red=function(e){return new ue(e)},u.prototype.toRed=function(e){return p(!this.red,"Already a number in reduction context"),p(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},u.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(e){return this.red=e,this},u.prototype.forceRed=function(e){return p(!this.red,"Already a number in reduction context"),this._forceRed(e)},u.prototype.redAdd=function(e){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},u.prototype.redIAdd=function(e){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},u.prototype.redSub=function(e){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},u.prototype.redISub=function(e){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},u.prototype.redShl=function(e){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},u.prototype.redMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},u.prototype.redIMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},u.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(e){return p(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};function D(e,n){this.name=e,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var e=new u(null);return e.words=new Array(Math.ceil(this.n/13)),e},D.prototype.ireduce=function(e){var n=e,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(e,n){e.iushrn(this.n,0,n)},D.prototype.imulK=function(e){return e.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(e,n){for(var c=4194303,s=Math.min(e.length,9),t=0;t<s;t++)n.words[t]=e.words[t];if(n.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(n.words[n.length++]=h&c,t=10;t<e.length;t++){var k=e.words[t]|0;e.words[t-10]=(k&c)<<4|h>>>22,h=k}h>>>=22,e.words[t-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var n=0,c=0;c<e.length;c++){var s=e.words[c]|0;n+=s*977,e.words[c]=n&67108863,n=s*64+(n/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function ce(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(ce,D);function be(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(be,D);function qe(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(qe,D),qe.prototype.imulK=function(e){for(var n=0,c=0;c<e.length;c++){var s=(e.words[c]|0)*19+n,t=s&67108863;s>>>=26,e.words[c]=t,n=s}return n!==0&&(e.words[e.length++]=n),e},u._prime=function(e){if(E[e])return E[e];var n;if(e==="k256")n=new C;else if(e==="p224")n=new ce;else if(e==="p192")n=new be;else if(e==="p25519")n=new qe;else throw new Error("Unknown prime "+e);return E[e]=n,n};function ue(e){if(typeof e=="string"){var n=u._prime(e);this.m=n.p,this.prime=n}else p(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}ue.prototype._verify1=function(e){p(e.negative===0,"red works only with positives"),p(e.red,"red works only with red numbers")},ue.prototype._verify2=function(e,n){p((e.negative|n.negative)===0,"red works only with positives"),p(e.red&&e.red===n.red,"red works only with red numbers")},ue.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},ue.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},ue.prototype.add=function(e,n){this._verify2(e,n);var c=e.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ue.prototype.iadd=function(e,n){this._verify2(e,n);var c=e.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},ue.prototype.sub=function(e,n){this._verify2(e,n);var c=e.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ue.prototype.isub=function(e,n){this._verify2(e,n);var c=e.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},ue.prototype.shl=function(e,n){return this._verify1(e),this.imod(e.ushln(n))},ue.prototype.imul=function(e,n){return this._verify2(e,n),this.imod(e.imul(n))},ue.prototype.mul=function(e,n){return this._verify2(e,n),this.imod(e.mul(n))},ue.prototype.isqr=function(e){return this.imul(e,e.clone())},ue.prototype.sqr=function(e){return this.mul(e,e)},ue.prototype.sqrt=function(e){if(e.isZero())return e.clone();var n=this.m.andln(3);if(p(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(e,c)}for(var s=this.m.subn(1),t=0;!s.isZero()&&s.andln(1)===0;)t++,s.iushrn(1);p(!s.isZero());var h=new u(1).toRed(this),k=h.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(k)!==0;)o.redIAdd(k);for(var b=this.pow(o,s),W=this.pow(e,s.addn(1).iushrn(1)),O=this.pow(e,s),P=t;O.cmp(h)!==0;){for(var pe=O,Ne=0;pe.cmp(h)!==0;Ne++)pe=pe.redSqr();p(Ne<P);var xe=this.pow(b,new u(1).iushln(P-Ne-1));W=W.redMul(xe),b=xe.redSqr(),O=O.redMul(b),P=Ne}return W},ue.prototype.invm=function(e){var n=e._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},ue.prototype.pow=function(e,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return e.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=e;for(var t=2;t<s.length;t++)s[t]=this.mul(s[t-1],e);var h=s[0],k=0,d=0,o=n.bitLength()%26;for(o===0&&(o=26),t=n.length-1;t>=0;t--){for(var b=n.words[t],W=o-1;W>=0;W--){var O=b>>W&1;if(h!==s[0]&&(h=this.sqr(h)),O===0&&k===0){d=0;continue}k<<=1,k|=O,d++,!(d!==c&&(t!==0||W!==0))&&(h=this.mul(h,s[k]),d=0,k=0)}o=26}return h},ue.prototype.convertTo=function(e){var n=e.umod(this.m);return n===e?n.clone():n},ue.prototype.convertFrom=function(e){var n=e.clone();return n.red=null,n},u.mont=function(e){return new $e(e)};function $e(e){ue.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x($e,ue),$e.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},$e.prototype.convertFrom=function(e){var n=this.imod(e.mul(this.rinv));return n.red=null,n},$e.prototype.imul=function(e,n){if(e.isZero()||n.isZero())return e.words[0]=0,e.length=1,e;var c=e.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.mul=function(e,n){if(e.isZero()||n.isZero())return new u(0)._forceRed(this);var c=e.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.invm=function(e){var n=this.imod(e._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof m>"u"||m,l)}),xr=je((l)=>{var m=l;function r(x,u){if(Array.isArray(x))return x.slice();if(!x)return[];var _=[];if(typeof x!="string"){for(var L=0;L<x.length;L++)_[L]=x[L]|0;return _}if(u==="hex"){x=x.replace(/[^a-z0-9]+/ig,""),x.length%2!==0&&(x="0"+x);for(var L=0;L<x.length;L+=2)_.push(parseInt(x[L]+x[L+1],16))}else for(var L=0;L<x.length;L++){var y=x.charCodeAt(L),R=y>>8,v=y&255;R?_.push(R,v):_.push(v)}return _}m.toArray=r;function N(x){return x.length===1?"0"+x:x}m.zero2=N;function p(x){for(var u="",_=0;_<x.length;_++)u+=N(x[_].toString(16));return u}m.toHex=p,m.encode=function(x,u){return u==="hex"?p(x):x}}),Ho=je((l)=>{var m=l,r=ca(),N=Po(),p=xr();m.assert=N,m.toArray=p.toArray,m.zero2=p.zero2,m.toHex=p.toHex,m.encode=p.encode;function x(R,v,$){var M=new Array(Math.max(R.bitLength(),$)+1);M.fill(0);for(var T=1<<v+1,q=R.clone(),X=0;X<M.length;X++){var j,I=q.andln(T-1);q.isOdd()?(I>(T>>1)-1?j=(T>>1)-I:j=I,q.isubn(j)):j=0,M[X]=j,q.iushrn(1)}return M}m.getNAF=x;function u(R,v){var $=[[],[]];R=R.clone(),v=v.clone();for(var M=0,T=0,q;R.cmpn(-M)>0||v.cmpn(-T)>0;){var X=R.andln(3)+M&3,j=v.andln(3)+T&3;X===3&&(X=-1),j===3&&(j=-1);var I;(X&1)===0?I=0:(q=R.andln(7)+M&7,(q===3||q===5)&&j===2?I=-X:I=X),$[0].push(I);var S;(j&1)===0?S=0:(q=v.andln(7)+T&7,(q===3||q===5)&&X===2?S=-j:S=j),$[1].push(S),2*M===I+1&&(M=1-M),2*T===S+1&&(T=1-T),R.iushrn(1),v.iushrn(1)}return $}m.getJSF=u;function _(R,v,$){var M="_"+v;R.prototype[v]=function(){return this[M]!==void 0?this[M]:this[M]=$.call(this)}}m.cachedProperty=_;function L(R){return typeof R=="string"?m.toArray(R,"hex"):R}m.parseBytes=L;function y(R){return new r(R,"hex","le")}m.intFromLE=y}),Qn=je((l,m)=>{var r=ca(),N=Ho(),p=N.getNAF,x=N.getJSF,u=N.assert;function _(y,R){this.type=y,this.p=new r(R.p,16),this.red=R.prime?r.red(R.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=R.n&&new r(R.n,16),this.g=R.g&&this.pointFromJSON(R.g,R.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var v=this.n&&this.p.div(this.n);!v||v.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}m.exports=_,_.prototype.point=function(){throw new Error("Not implemented")},_.prototype.validate=function(){throw new Error("Not implemented")},_.prototype._fixedNafMul=function(y,R){u(y.precomputed);var v=y._getDoubles(),$=p(R,1,this._bitLength),M=(1<<v.step+1)-(v.step%2===0?2:1);M/=3;var T=[],q,X;for(q=0;q<$.length;q+=v.step){X=0;for(var j=q+v.step-1;j>=q;j--)X=(X<<1)+$[j];T.push(X)}for(var I=this.jpoint(null,null,null),S=this.jpoint(null,null,null),E=M;E>0;E--){for(q=0;q<T.length;q++)X=T[q],X===E?S=S.mixedAdd(v.points[q]):X===-E&&(S=S.mixedAdd(v.points[q].neg()));I=I.add(S)}return I.toP()},_.prototype._wnafMul=function(y,R){var v=4,$=y._getNAFPoints(v);v=$.wnd;for(var M=$.points,T=p(R,v,this._bitLength),q=this.jpoint(null,null,null),X=T.length-1;X>=0;X--){for(var j=0;X>=0&&T[X]===0;X--)j++;if(X>=0&&j++,q=q.dblp(j),X<0)break;var I=T[X];u(I!==0),y.type==="affine"?I>0?q=q.mixedAdd(M[I-1>>1]):q=q.mixedAdd(M[-I-1>>1].neg()):I>0?q=q.add(M[I-1>>1]):q=q.add(M[-I-1>>1].neg())}return y.type==="affine"?q.toP():q},_.prototype._wnafMulAdd=function(y,R,v,$,M){var T=this._wnafT1,q=this._wnafT2,X=this._wnafT3,j=0,I,S,E;for(I=0;I<$;I++){E=R[I];var D=E._getNAFPoints(y);T[I]=D.wnd,q[I]=D.points}for(I=$-1;I>=1;I-=2){var C=I-1,ce=I;if(T[C]!==1||T[ce]!==1){X[C]=p(v[C],T[C],this._bitLength),X[ce]=p(v[ce],T[ce],this._bitLength),j=Math.max(X[C].length,j),j=Math.max(X[ce].length,j);continue}var be=[R[C],null,null,R[ce]];R[C].y.cmp(R[ce].y)===0?(be[1]=R[C].add(R[ce]),be[2]=R[C].toJ().mixedAdd(R[ce].neg())):R[C].y.cmp(R[ce].y.redNeg())===0?(be[1]=R[C].toJ().mixedAdd(R[ce]),be[2]=R[C].add(R[ce].neg())):(be[1]=R[C].toJ().mixedAdd(R[ce]),be[2]=R[C].toJ().mixedAdd(R[ce].neg()));var qe=[-3,-1,-5,-7,0,7,5,1,3],ue=x(v[C],v[ce]);for(j=Math.max(ue[0].length,j),X[C]=new Array(j),X[ce]=new Array(j),S=0;S<j;S++){var $e=ue[0][S]|0,e=ue[1][S]|0;X[C][S]=qe[($e+1)*3+(e+1)],X[ce][S]=0,q[C]=be}}var n=this.jpoint(null,null,null),c=this._wnafT4;for(I=j;I>=0;I--){for(var s=0;I>=0;){var t=!0;for(S=0;S<$;S++)c[S]=X[S][I]|0,c[S]!==0&&(t=!1);if(!t)break;s++,I--}if(I>=0&&s++,n=n.dblp(s),I<0)break;for(S=0;S<$;S++){var h=c[S];h!==0&&(h>0?E=q[S][h-1>>1]:h<0&&(E=q[S][-h-1>>1].neg()),E.type==="affine"?n=n.mixedAdd(E):n=n.add(E))}}for(I=0;I<$;I++)q[I]=null;return M?n:n.toP()};function L(y,R){this.curve=y,this.type=R,this.precomputed=null}_.BasePoint=L,L.prototype.eq=function(){throw new Error("Not implemented")},L.prototype.validate=function(){return this.curve.validate(this)},_.prototype.decodePoint=function(y,R){y=N.toArray(y,R);var v=this.p.byteLength();if((y[0]===4||y[0]===6||y[0]===7)&&y.length-1===2*v){y[0]===6?u(y[y.length-1]%2===0):y[0]===7&&u(y[y.length-1]%2===1);var $=this.point(y.slice(1,1+v),y.slice(1+v,1+2*v));return $}else if((y[0]===2||y[0]===3)&&y.length-1===v)return this.pointFromX(y.slice(1,1+v),y[0]===3);throw new Error("Unknown point format")},L.prototype.encodeCompressed=function(y){return this.encode(y,!0)},L.prototype._encode=function(y){var R=this.curve.p.byteLength(),v=this.getX().toArray("be",R);return y?[this.getY().isEven()?2:3].concat(v):[4].concat(v,this.getY().toArray("be",R))},L.prototype.encode=function(y,R){return N.encode(this._encode(R),y)},L.prototype.precompute=function(y){if(this.precomputed)return this;var R={doubles:null,naf:null,beta:null};return R.naf=this._getNAFPoints(8),R.doubles=this._getDoubles(4,y),R.beta=this._getBeta(),this.precomputed=R,this},L.prototype._hasDoubles=function(y){if(!this.precomputed)return!1;var R=this.precomputed.doubles;return R?R.points.length>=Math.ceil((y.bitLength()+1)/R.step):!1},L.prototype._getDoubles=function(y,R){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var v=[this],$=this,M=0;M<R;M+=y){for(var T=0;T<y;T++)$=$.dbl();v.push($)}return{step:y,points:v}},L.prototype._getNAFPoints=function(y){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var R=[this],v=(1<<y)-1,$=v===1?null:this.dbl(),M=1;M<v;M++)R[M]=R[M-1].add($);return{wnd:y,points:R}},L.prototype._getBeta=function(){return null},L.prototype.dblp=function(y){for(var R=this,v=0;v<y;v++)R=R.dbl();return R}}),Ac=je((l,m)=>{var r=Ho(),N=ca(),p=mo(),x=Qn(),u=r.assert;function _(R){x.call(this,"short",R),this.a=new N(R.a,16).toRed(this.red),this.b=new N(R.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(R),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}p(_,x),m.exports=_,_.prototype._getEndomorphism=function(R){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var v,$;if(R.beta)v=new N(R.beta,16).toRed(this.red);else{var M=this._getEndoRoots(this.p);v=M[0].cmp(M[1])<0?M[0]:M[1],v=v.toRed(this.red)}if(R.lambda)$=new N(R.lambda,16);else{var T=this._getEndoRoots(this.n);this.g.mul(T[0]).x.cmp(this.g.x.redMul(v))===0?$=T[0]:($=T[1],u(this.g.mul($).x.cmp(this.g.x.redMul(v))===0))}var q;return R.basis?q=R.basis.map(function(X){return{a:new N(X.a,16),b:new N(X.b,16)}}):q=this._getEndoBasis($),{beta:v,lambda:$,basis:q}}},_.prototype._getEndoRoots=function(R){var v=R===this.p?this.red:N.mont(R),$=new N(2).toRed(v).redInvm(),M=$.redNeg(),T=new N(3).toRed(v).redNeg().redSqrt().redMul($),q=M.redAdd(T).fromRed(),X=M.redSub(T).fromRed();return[q,X]},_.prototype._getEndoBasis=function(R){for(var v=this.n.ushrn(Math.floor(this.n.bitLength()/2)),$=R,M=this.n.clone(),T=new N(1),q=new N(0),X=new N(0),j=new N(1),I,S,E,D,C,ce,be,qe=0,ue,$e;$.cmpn(0)!==0;){var e=M.div($);ue=M.sub(e.mul($)),$e=X.sub(e.mul(T));var n=j.sub(e.mul(q));if(!E&&ue.cmp(v)<0)I=be.neg(),S=T,E=ue.neg(),D=$e;else if(E&&++qe===2)break;be=ue,M=$,$=ue,X=T,T=$e,j=q,q=n}C=ue.neg(),ce=$e;var c=E.sqr().add(D.sqr()),s=C.sqr().add(ce.sqr());return s.cmp(c)>=0&&(C=I,ce=S),E.negative&&(E=E.neg(),D=D.neg()),C.negative&&(C=C.neg(),ce=ce.neg()),[{a:E,b:D},{a:C,b:ce}]},_.prototype._endoSplit=function(R){var v=this.endo.basis,$=v[0],M=v[1],T=M.b.mul(R).divRound(this.n),q=$.b.neg().mul(R).divRound(this.n),X=T.mul($.a),j=q.mul(M.a),I=T.mul($.b),S=q.mul(M.b),E=R.sub(X).sub(j),D=I.add(S).neg();return{k1:E,k2:D}},_.prototype.pointFromX=function(R,v){R=new N(R,16),R.red||(R=R.toRed(this.red));var $=R.redSqr().redMul(R).redIAdd(R.redMul(this.a)).redIAdd(this.b),M=$.redSqrt();if(M.redSqr().redSub($).cmp(this.zero)!==0)throw new Error("invalid point");var T=M.fromRed().isOdd();return(v&&!T||!v&&T)&&(M=M.redNeg()),this.point(R,M)},_.prototype.validate=function(R){if(R.inf)return!0;var{x:v,y:$}=R,M=this.a.redMul(v),T=v.redSqr().redMul(v).redIAdd(M).redIAdd(this.b);return $.redSqr().redISub(T).cmpn(0)===0},_.prototype._endoWnafMulAdd=function(R,v,$){for(var M=this._endoWnafT1,T=this._endoWnafT2,q=0;q<R.length;q++){var X=this._endoSplit(v[q]),j=R[q],I=j._getBeta();X.k1.negative&&(X.k1.ineg(),j=j.neg(!0)),X.k2.negative&&(X.k2.ineg(),I=I.neg(!0)),M[q*2]=j,M[q*2+1]=I,T[q*2]=X.k1,T[q*2+1]=X.k2}for(var S=this._wnafMulAdd(1,M,T,q*2,$),E=0;E<q*2;E++)M[E]=null,T[E]=null;return S};function L(R,v,$,M){x.BasePoint.call(this,R,"affine"),v===null&&$===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new N(v,16),this.y=new N($,16),M&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}p(L,x.BasePoint),_.prototype.point=function(R,v,$){return new L(this,R,v,$)},_.prototype.pointFromJSON=function(R,v){return L.fromJSON(this,R,v)},L.prototype._getBeta=function(){if(this.curve.endo){var R=this.precomputed;if(R&&R.beta)return R.beta;var v=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(R){var $=this.curve,M=function(T){return $.point(T.x.redMul($.endo.beta),T.y)};R.beta=v,v.precomputed={beta:null,naf:R.naf&&{wnd:R.naf.wnd,points:R.naf.points.map(M)},doubles:R.doubles&&{step:R.doubles.step,points:R.doubles.points.map(M)}}}return v}},L.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},L.fromJSON=function(R,v,$){typeof v=="string"&&(v=JSON.parse(v));var M=R.point(v[0],v[1],$);if(!v[2])return M;function T(X){return R.point(X[0],X[1],$)}var q=v[2];return M.precomputed={beta:null,doubles:q.doubles&&{step:q.doubles.step,points:[M].concat(q.doubles.points.map(T))},naf:q.naf&&{wnd:q.naf.wnd,points:[M].concat(q.naf.points.map(T))}},M},L.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function(){return this.inf},L.prototype.add=function(R){if(this.inf)return R;if(R.inf)return this;if(this.eq(R))return this.dbl();if(this.neg().eq(R))return this.curve.point(null,null);if(this.x.cmp(R.x)===0)return this.curve.point(null,null);var v=this.y.redSub(R.y);v.cmpn(0)!==0&&(v=v.redMul(this.x.redSub(R.x).redInvm()));var $=v.redSqr().redISub(this.x).redISub(R.x),M=v.redMul(this.x.redSub($)).redISub(this.y);return this.curve.point($,M)},L.prototype.dbl=function(){if(this.inf)return this;var R=this.y.redAdd(this.y);if(R.cmpn(0)===0)return this.curve.point(null,null);var v=this.curve.a,$=this.x.redSqr(),M=R.redInvm(),T=$.redAdd($).redIAdd($).redIAdd(v).redMul(M),q=T.redSqr().redISub(this.x.redAdd(this.x)),X=T.redMul(this.x.redSub(q)).redISub(this.y);return this.curve.point(q,X)},L.prototype.getX=function(){return this.x.fromRed()},L.prototype.getY=function(){return this.y.fromRed()},L.prototype.mul=function(R){return R=new N(R,16),this.isInfinity()?this:this._hasDoubles(R)?this.curve._fixedNafMul(this,R):this.curve.endo?this.curve._endoWnafMulAdd([this],[R]):this.curve._wnafMul(this,R)},L.prototype.mulAdd=function(R,v,$){var M=[this,v],T=[R,$];return this.curve.endo?this.curve._endoWnafMulAdd(M,T):this.curve._wnafMulAdd(1,M,T,2)},L.prototype.jmulAdd=function(R,v,$){var M=[this,v],T=[R,$];return this.curve.endo?this.curve._endoWnafMulAdd(M,T,!0):this.curve._wnafMulAdd(1,M,T,2,!0)},L.prototype.eq=function(R){return this===R||this.inf===R.inf&&(this.inf||this.x.cmp(R.x)===0&&this.y.cmp(R.y)===0)},L.prototype.neg=function(R){if(this.inf)return this;var v=this.curve.point(this.x,this.y.redNeg());if(R&&this.precomputed){var $=this.precomputed,M=function(T){return T.neg()};v.precomputed={naf:$.naf&&{wnd:$.naf.wnd,points:$.naf.points.map(M)},doubles:$.doubles&&{step:$.doubles.step,points:$.doubles.points.map(M)}}}return v},L.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var R=this.curve.jpoint(this.x,this.y,this.curve.one);return R};function y(R,v,$,M){x.BasePoint.call(this,R,"jacobian"),v===null&&$===null&&M===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new N(0)):(this.x=new N(v,16),this.y=new N($,16),this.z=new N(M,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}p(y,x.BasePoint),_.prototype.jpoint=function(R,v,$){return new y(this,R,v,$)},y.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var R=this.z.redInvm(),v=R.redSqr(),$=this.x.redMul(v),M=this.y.redMul(v).redMul(R);return this.curve.point($,M)},y.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},y.prototype.add=function(R){if(this.isInfinity())return R;if(R.isInfinity())return this;var v=R.z.redSqr(),$=this.z.redSqr(),M=this.x.redMul(v),T=R.x.redMul($),q=this.y.redMul(v.redMul(R.z)),X=R.y.redMul($.redMul(this.z)),j=M.redSub(T),I=q.redSub(X);if(j.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var S=j.redSqr(),E=S.redMul(j),D=M.redMul(S),C=I.redSqr().redIAdd(E).redISub(D).redISub(D),ce=I.redMul(D.redISub(C)).redISub(q.redMul(E)),be=this.z.redMul(R.z).redMul(j);return this.curve.jpoint(C,ce,be)},y.prototype.mixedAdd=function(R){if(this.isInfinity())return R.toJ();if(R.isInfinity())return this;var v=this.z.redSqr(),$=this.x,M=R.x.redMul(v),T=this.y,q=R.y.redMul(v).redMul(this.z),X=$.redSub(M),j=T.redSub(q);if(X.cmpn(0)===0)return j.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=X.redSqr(),S=I.redMul(X),E=$.redMul(I),D=j.redSqr().redIAdd(S).redISub(E).redISub(E),C=j.redMul(E.redISub(D)).redISub(T.redMul(S)),ce=this.z.redMul(X);return this.curve.jpoint(D,C,ce)},y.prototype.dblp=function(R){if(R===0)return this;if(this.isInfinity())return this;if(!R)return this.dbl();var v;if(this.curve.zeroA||this.curve.threeA){var $=this;for(v=0;v<R;v++)$=$.dbl();return $}var M=this.curve.a,T=this.curve.tinv,q=this.x,X=this.y,j=this.z,I=j.redSqr().redSqr(),S=X.redAdd(X);for(v=0;v<R;v++){var E=q.redSqr(),D=S.redSqr(),C=D.redSqr(),ce=E.redAdd(E).redIAdd(E).redIAdd(M.redMul(I)),be=q.redMul(D),qe=ce.redSqr().redISub(be.redAdd(be)),ue=be.redISub(qe),$e=ce.redMul(ue);$e=$e.redIAdd($e).redISub(C);var e=S.redMul(j);v+1<R&&(I=I.redMul(C)),q=qe,j=e,S=$e}return this.curve.jpoint(q,S.redMul(T),j)},y.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},y.prototype._zeroDbl=function(){var R,v,$;if(this.zOne){var M=this.x.redSqr(),T=this.y.redSqr(),q=T.redSqr(),X=this.x.redAdd(T).redSqr().redISub(M).redISub(q);X=X.redIAdd(X);var j=M.redAdd(M).redIAdd(M),I=j.redSqr().redISub(X).redISub(X),S=q.redIAdd(q);S=S.redIAdd(S),S=S.redIAdd(S),R=I,v=j.redMul(X.redISub(I)).redISub(S),$=this.y.redAdd(this.y)}else{var E=this.x.redSqr(),D=this.y.redSqr(),C=D.redSqr(),ce=this.x.redAdd(D).redSqr().redISub(E).redISub(C);ce=ce.redIAdd(ce);var be=E.redAdd(E).redIAdd(E),qe=be.redSqr(),ue=C.redIAdd(C);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),R=qe.redISub(ce).redISub(ce),v=be.redMul(ce.redISub(R)).redISub(ue),$=this.y.redMul(this.z),$=$.redIAdd($)}return this.curve.jpoint(R,v,$)},y.prototype._threeDbl=function(){var R,v,$;if(this.zOne){var M=this.x.redSqr(),T=this.y.redSqr(),q=T.redSqr(),X=this.x.redAdd(T).redSqr().redISub(M).redISub(q);X=X.redIAdd(X);var j=M.redAdd(M).redIAdd(M).redIAdd(this.curve.a),I=j.redSqr().redISub(X).redISub(X);R=I;var S=q.redIAdd(q);S=S.redIAdd(S),S=S.redIAdd(S),v=j.redMul(X.redISub(I)).redISub(S),$=this.y.redAdd(this.y)}else{var E=this.z.redSqr(),D=this.y.redSqr(),C=this.x.redMul(D),ce=this.x.redSub(E).redMul(this.x.redAdd(E));ce=ce.redAdd(ce).redIAdd(ce);var be=C.redIAdd(C);be=be.redIAdd(be);var qe=be.redAdd(be);R=ce.redSqr().redISub(qe),$=this.y.redAdd(this.z).redSqr().redISub(D).redISub(E);var ue=D.redSqr();ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),ue=ue.redIAdd(ue),v=ce.redMul(be.redISub(R)).redISub(ue)}return this.curve.jpoint(R,v,$)},y.prototype._dbl=function(){var R=this.curve.a,v=this.x,$=this.y,M=this.z,T=M.redSqr().redSqr(),q=v.redSqr(),X=$.redSqr(),j=q.redAdd(q).redIAdd(q).redIAdd(R.redMul(T)),I=v.redAdd(v);I=I.redIAdd(I);var S=I.redMul(X),E=j.redSqr().redISub(S.redAdd(S)),D=S.redISub(E),C=X.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var ce=j.redMul(D).redISub(C),be=$.redAdd($).redMul(M);return this.curve.jpoint(E,ce,be)},y.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var R=this.x.redSqr(),v=this.y.redSqr(),$=this.z.redSqr(),M=v.redSqr(),T=R.redAdd(R).redIAdd(R),q=T.redSqr(),X=this.x.redAdd(v).redSqr().redISub(R).redISub(M);X=X.redIAdd(X),X=X.redAdd(X).redIAdd(X),X=X.redISub(q);var j=X.redSqr(),I=M.redIAdd(M);I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var S=T.redIAdd(X).redSqr().redISub(q).redISub(j).redISub(I),E=v.redMul(S);E=E.redIAdd(E),E=E.redIAdd(E);var D=this.x.redMul(j).redISub(E);D=D.redIAdd(D),D=D.redIAdd(D);var C=this.y.redMul(S.redMul(I.redISub(S)).redISub(X.redMul(j)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var ce=this.z.redAdd(X).redSqr().redISub($).redISub(j);return this.curve.jpoint(D,C,ce)},y.prototype.mul=function(R,v){return R=new N(R,v),this.curve._wnafMul(this,R)},y.prototype.eq=function(R){if(R.type==="affine")return this.eq(R.toJ());if(this===R)return!0;var v=this.z.redSqr(),$=R.z.redSqr();if(this.x.redMul($).redISub(R.x.redMul(v)).cmpn(0)!==0)return!1;var M=v.redMul(this.z),T=$.redMul(R.z);return this.y.redMul(T).redISub(R.y.redMul(M)).cmpn(0)===0},y.prototype.eqXToP=function(R){var v=this.z.redSqr(),$=R.toRed(this.curve.red).redMul(v);if(this.x.cmp($)===0)return!0;for(var M=R.clone(),T=this.curve.redN.redMul(v);;){if(M.iadd(this.curve.n),M.cmp(this.curve.p)>=0)return!1;if($.redIAdd(T),this.x.cmp($)===0)return!0}},y.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},y.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),eu=je((l,m)=>{var r=ca(),N=mo(),p=Qn(),x=Ho();function u(L){p.call(this,"mont",L),this.a=new r(L.a,16).toRed(this.red),this.b=new r(L.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}N(u,p),m.exports=u,u.prototype.validate=function(L){var y=L.normalize().x,R=y.redSqr(),v=R.redMul(y).redAdd(R.redMul(this.a)).redAdd(y),$=v.redSqrt();return $.redSqr().cmp(v)===0};function _(L,y,R){p.BasePoint.call(this,L,"projective"),y===null&&R===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(y,16),this.z=new r(R,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}N(_,p.BasePoint),u.prototype.decodePoint=function(L,y){return this.point(x.toArray(L,y),1)},u.prototype.point=function(L,y){return new _(this,L,y)},u.prototype.pointFromJSON=function(L){return _.fromJSON(this,L)},_.prototype.precompute=function(){},_.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},_.fromJSON=function(L,y){return new _(L,y[0],y[1]||L.one)},_.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},_.prototype.isInfinity=function(){return this.z.cmpn(0)===0},_.prototype.dbl=function(){var L=this.x.redAdd(this.z),y=L.redSqr(),R=this.x.redSub(this.z),v=R.redSqr(),$=y.redSub(v),M=y.redMul(v),T=$.redMul(v.redAdd(this.curve.a24.redMul($)));return this.curve.point(M,T)},_.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},_.prototype.diffAdd=function(L,y){var R=this.x.redAdd(this.z),v=this.x.redSub(this.z),$=L.x.redAdd(L.z),M=L.x.redSub(L.z),T=M.redMul(R),q=$.redMul(v),X=y.z.redMul(T.redAdd(q).redSqr()),j=y.x.redMul(T.redISub(q).redSqr());return this.curve.point(X,j)},_.prototype.mul=function(L){for(var y=L.clone(),R=this,v=this.curve.point(null,null),$=this,M=[];y.cmpn(0)!==0;y.iushrn(1))M.push(y.andln(1));for(var T=M.length-1;T>=0;T--)M[T]===0?(R=R.diffAdd(v,$),v=v.dbl()):(v=R.diffAdd(v,$),R=R.dbl());return v},_.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},_.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},_.prototype.eq=function(L){return this.getX().cmp(L.getX())===0},_.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},_.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),ou=je((l,m)=>{var r=Ho(),N=ca(),p=mo(),x=Qn(),u=r.assert;function _(y){this.twisted=(y.a|0)!==1,this.mOneA=this.twisted&&(y.a|0)===-1,this.extended=this.mOneA,x.call(this,"edwards",y),this.a=new N(y.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new N(y.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new N(y.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(y.c|0)===1}p(_,x),m.exports=_,_.prototype._mulA=function(y){return this.mOneA?y.redNeg():this.a.redMul(y)},_.prototype._mulC=function(y){return this.oneC?y:this.c.redMul(y)},_.prototype.jpoint=function(y,R,v,$){return this.point(y,R,v,$)},_.prototype.pointFromX=function(y,R){y=new N(y,16),y.red||(y=y.toRed(this.red));var v=y.redSqr(),$=this.c2.redSub(this.a.redMul(v)),M=this.one.redSub(this.c2.redMul(this.d).redMul(v)),T=$.redMul(M.redInvm()),q=T.redSqrt();if(q.redSqr().redSub(T).cmp(this.zero)!==0)throw new Error("invalid point");var X=q.fromRed().isOdd();return(R&&!X||!R&&X)&&(q=q.redNeg()),this.point(y,q)},_.prototype.pointFromY=function(y,R){y=new N(y,16),y.red||(y=y.toRed(this.red));var v=y.redSqr(),$=v.redSub(this.c2),M=v.redMul(this.d).redMul(this.c2).redSub(this.a),T=$.redMul(M.redInvm());if(T.cmp(this.zero)===0){if(R)throw new Error("invalid point");return this.point(this.zero,y)}var q=T.redSqrt();if(q.redSqr().redSub(T).cmp(this.zero)!==0)throw new Error("invalid point");return q.fromRed().isOdd()!==R&&(q=q.redNeg()),this.point(q,y)},_.prototype.validate=function(y){if(y.isInfinity())return!0;y.normalize();var R=y.x.redSqr(),v=y.y.redSqr(),$=R.redMul(this.a).redAdd(v),M=this.c2.redMul(this.one.redAdd(this.d.redMul(R).redMul(v)));return $.cmp(M)===0};function L(y,R,v,$,M){x.BasePoint.call(this,y,"projective"),R===null&&v===null&&$===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new N(R,16),this.y=new N(v,16),this.z=$?new N($,16):this.curve.one,this.t=M&&new N(M,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}p(L,x.BasePoint),_.prototype.pointFromJSON=function(y){return L.fromJSON(this,y)},_.prototype.point=function(y,R,v,$){return new L(this,y,R,v,$)},L.fromJSON=function(y,R){return new L(y,R[0],R[1],R[2])},L.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},L.prototype._extDbl=function(){var y=this.x.redSqr(),R=this.y.redSqr(),v=this.z.redSqr();v=v.redIAdd(v);var $=this.curve._mulA(y),M=this.x.redAdd(this.y).redSqr().redISub(y).redISub(R),T=$.redAdd(R),q=T.redSub(v),X=$.redSub(R),j=M.redMul(q),I=T.redMul(X),S=M.redMul(X),E=q.redMul(T);return this.curve.point(j,I,E,S)},L.prototype._projDbl=function(){var y=this.x.redAdd(this.y).redSqr(),R=this.x.redSqr(),v=this.y.redSqr(),$,M,T,q,X,j;if(this.curve.twisted){q=this.curve._mulA(R);var I=q.redAdd(v);this.zOne?($=y.redSub(R).redSub(v).redMul(I.redSub(this.curve.two)),M=I.redMul(q.redSub(v)),T=I.redSqr().redSub(I).redSub(I)):(X=this.z.redSqr(),j=I.redSub(X).redISub(X),$=y.redSub(R).redISub(v).redMul(j),M=I.redMul(q.redSub(v)),T=I.redMul(j))}else q=R.redAdd(v),X=this.curve._mulC(this.z).redSqr(),j=q.redSub(X).redSub(X),$=this.curve._mulC(y.redISub(q)).redMul(j),M=this.curve._mulC(q).redMul(R.redISub(v)),T=q.redMul(j);return this.curve.point($,M,T)},L.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},L.prototype._extAdd=function(y){var R=this.y.redSub(this.x).redMul(y.y.redSub(y.x)),v=this.y.redAdd(this.x).redMul(y.y.redAdd(y.x)),$=this.t.redMul(this.curve.dd).redMul(y.t),M=this.z.redMul(y.z.redAdd(y.z)),T=v.redSub(R),q=M.redSub($),X=M.redAdd($),j=v.redAdd(R),I=T.redMul(q),S=X.redMul(j),E=T.redMul(j),D=q.redMul(X);return this.curve.point(I,S,D,E)},L.prototype._projAdd=function(y){var R=this.z.redMul(y.z),v=R.redSqr(),$=this.x.redMul(y.x),M=this.y.redMul(y.y),T=this.curve.d.redMul($).redMul(M),q=v.redSub(T),X=v.redAdd(T),j=this.x.redAdd(this.y).redMul(y.x.redAdd(y.y)).redISub($).redISub(M),I=R.redMul(q).redMul(j),S,E;return this.curve.twisted?(S=R.redMul(X).redMul(M.redSub(this.curve._mulA($))),E=q.redMul(X)):(S=R.redMul(X).redMul(M.redSub($)),E=this.curve._mulC(q).redMul(X)),this.curve.point(I,S,E)},L.prototype.add=function(y){return this.isInfinity()?y:y.isInfinity()?this:this.curve.extended?this._extAdd(y):this._projAdd(y)},L.prototype.mul=function(y){return this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve._wnafMul(this,y)},L.prototype.mulAdd=function(y,R,v){return this.curve._wnafMulAdd(1,[this,R],[y,v],2,!1)},L.prototype.jmulAdd=function(y,R,v){return this.curve._wnafMulAdd(1,[this,R],[y,v],2,!0)},L.prototype.normalize=function(){if(this.zOne)return this;var y=this.z.redInvm();return this.x=this.x.redMul(y),this.y=this.y.redMul(y),this.t&&(this.t=this.t.redMul(y)),this.z=this.curve.one,this.zOne=!0,this},L.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},L.prototype.getX=function(){return this.normalize(),this.x.fromRed()},L.prototype.getY=function(){return this.normalize(),this.y.fromRed()},L.prototype.eq=function(y){return this===y||this.getX().cmp(y.getX())===0&&this.getY().cmp(y.getY())===0},L.prototype.eqXToP=function(y){var R=y.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(R)===0)return!0;for(var v=y.clone(),$=this.curve.redN.redMul(this.z);;){if(v.iadd(this.curve.n),v.cmp(this.curve.p)>=0)return!1;if(R.redIAdd($),this.x.cmp(R)===0)return!0}},L.prototype.toP=L.prototype.normalize,L.prototype.mixedAdd=L.prototype.add}),qr=je((l)=>{var m=l;m.base=Qn(),m.short=Ac(),m.mont=eu(),m.edwards=ou()}),na=je((l)=>{var m=Po(),r=mo();l.inherits=r;function N(n,c){return(n.charCodeAt(c)&64512)!==55296||c<0||c+1>=n.length?!1:(n.charCodeAt(c+1)&64512)===56320}function p(n,c){if(Array.isArray(n))return n.slice();if(!n)return[];var s=[];if(typeof n=="string")if(c){if(c==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),h=0;h<n.length;h+=2)s.push(parseInt(n[h]+n[h+1],16))}else for(var t=0,h=0;h<n.length;h++){var k=n.charCodeAt(h);k<128?s[t++]=k:k<2048?(s[t++]=k>>6|192,s[t++]=k&63|128):N(n,h)?(k=65536+((k&1023)<<10)+(n.charCodeAt(++h)&1023),s[t++]=k>>18|240,s[t++]=k>>12&63|128,s[t++]=k>>6&63|128,s[t++]=k&63|128):(s[t++]=k>>12|224,s[t++]=k>>6&63|128,s[t++]=k&63|128)}else for(h=0;h<n.length;h++)s[h]=n[h]|0;return s}l.toArray=p;function x(n){for(var c="",s=0;s<n.length;s++)c+=L(n[s].toString(16));return c}l.toHex=x;function u(n){var c=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return c>>>0}l.htonl=u;function _(n,c){for(var s="",t=0;t<n.length;t++){var h=n[t];c==="little"&&(h=u(h)),s+=y(h.toString(16))}return s}l.toHex32=_;function L(n){return n.length===1?"0"+n:n}l.zero2=L;function y(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}l.zero8=y;function R(n,c,s,t){var h=s-c;m(h%4===0);for(var k=new Array(h/4),d=0,o=c;d<k.length;d++,o+=4){var b;t==="big"?b=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3]:b=n[o+3]<<24|n[o+2]<<16|n[o+1]<<8|n[o],k[d]=b>>>0}return k}l.join32=R;function v(n,c){for(var s=new Array(n.length*4),t=0,h=0;t<n.length;t++,h+=4){var k=n[t];c==="big"?(s[h]=k>>>24,s[h+1]=k>>>16&255,s[h+2]=k>>>8&255,s[h+3]=k&255):(s[h+3]=k>>>24,s[h+2]=k>>>16&255,s[h+1]=k>>>8&255,s[h]=k&255)}return s}l.split32=v;function $(n,c){return n>>>c|n<<32-c}l.rotr32=$;function M(n,c){return n<<c|n>>>32-c}l.rotl32=M;function T(n,c){return n+c>>>0}l.sum32=T;function q(n,c,s){return n+c+s>>>0}l.sum32_3=q;function X(n,c,s,t){return n+c+s+t>>>0}l.sum32_4=X;function j(n,c,s,t,h){return n+c+s+t+h>>>0}l.sum32_5=j;function I(n,c,s,t){var h=n[c],k=n[c+1],d=t+k>>>0,o=(d<t?1:0)+s+h;n[c]=o>>>0,n[c+1]=d}l.sum64=I;function S(n,c,s,t){var h=c+t>>>0,k=(h<c?1:0)+n+s;return k>>>0}l.sum64_hi=S;function E(n,c,s,t){var h=c+t;return h>>>0}l.sum64_lo=E;function D(n,c,s,t,h,k,d,o){var b=0,W=c;W=W+t>>>0,b+=W<c?1:0,W=W+k>>>0,b+=W<k?1:0,W=W+o>>>0,b+=W<o?1:0;var O=n+s+h+d+b;return O>>>0}l.sum64_4_hi=D;function C(n,c,s,t,h,k,d,o){var b=c+t+k+o;return b>>>0}l.sum64_4_lo=C;function ce(n,c,s,t,h,k,d,o,b,W){var O=0,P=c;P=P+t>>>0,O+=P<c?1:0,P=P+k>>>0,O+=P<k?1:0,P=P+o>>>0,O+=P<o?1:0,P=P+W>>>0,O+=P<W?1:0;var pe=n+s+h+d+b+O;return pe>>>0}l.sum64_5_hi=ce;function be(n,c,s,t,h,k,d,o,b,W){var O=c+t+k+o+W;return O>>>0}l.sum64_5_lo=be;function qe(n,c,s){var t=c<<32-s|n>>>s;return t>>>0}l.rotr64_hi=qe;function ue(n,c,s){var t=n<<32-s|c>>>s;return t>>>0}l.rotr64_lo=ue;function $e(n,c,s){return n>>>s}l.shr64_hi=$e;function e(n,c,s){var t=n<<32-s|c>>>s;return t>>>0}l.shr64_lo=e}),hn=je((l)=>{var m=na(),r=Po();function N(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=N,N.prototype.update=function(p,x){if(p=m.toArray(p,x),this.pending?this.pending=this.pending.concat(p):this.pending=p,this.pendingTotal+=p.length,this.pending.length>=this._delta8){p=this.pending;var u=p.length%this._delta8;this.pending=p.slice(p.length-u,p.length),this.pending.length===0&&(this.pending=null),p=m.join32(p,0,p.length-u,this.endian);for(var _=0;_<p.length;_+=this._delta32)this._update(p,_,_+this._delta32)}return this},N.prototype.digest=function(p){return this.update(this._pad()),r(this.pending===null),this._digest(p)},N.prototype._pad=function(){var p=this.pendingTotal,x=this._delta8,u=x-(p+this.padLength)%x,_=new Array(u+this.padLength);_[0]=128;for(var L=1;L<u;L++)_[L]=0;if(p<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)_[L++]=0;_[L++]=0,_[L++]=0,_[L++]=0,_[L++]=0,_[L++]=p>>>24&255,_[L++]=p>>>16&255,_[L++]=p>>>8&255,_[L++]=p&255}else for(_[L++]=p&255,_[L++]=p>>>8&255,_[L++]=p>>>16&255,_[L++]=p>>>24&255,_[L++]=0,_[L++]=0,_[L++]=0,_[L++]=0,y=8;y<this.padLength;y++)_[L++]=0;return _}}),Tr=je((l)=>{var m=na(),r=m.rotr32;function N(v,$,M,T){if(v===0)return p($,M,T);if(v===1||v===3)return u($,M,T);if(v===2)return x($,M,T)}l.ft_1=N;function p(v,$,M){return v&$^~v&M}l.ch32=p;function x(v,$,M){return v&$^v&M^$&M}l.maj32=x;function u(v,$,M){return v^$^M}l.p32=u;function _(v){return r(v,2)^r(v,13)^r(v,22)}l.s0_256=_;function L(v){return r(v,6)^r(v,11)^r(v,25)}l.s1_256=L;function y(v){return r(v,7)^r(v,18)^v>>>3}l.g0_256=y;function R(v){return r(v,17)^r(v,19)^v>>>10}l.g1_256=R}),au=je((l,m)=>{var r=na(),N=hn(),p=Tr(),x=r.rotl32,u=r.sum32,_=r.sum32_5,L=p.ft_1,y=N.BlockHash,R=[1518500249,1859775393,2400959708,3395469782];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(v,y),m.exports=v,v.blockSize=512,v.outSize=160,v.hmacStrength=80,v.padLength=64,v.prototype._update=function($,M){for(var T=this.W,q=0;q<16;q++)T[q]=$[M+q];for(;q<T.length;q++)T[q]=x(T[q-3]^T[q-8]^T[q-14]^T[q-16],1);var X=this.h[0],j=this.h[1],I=this.h[2],S=this.h[3],E=this.h[4];for(q=0;q<T.length;q++){var D=~~(q/20),C=_(x(X,5),L(D,j,I,S),E,T[q],R[D]);E=S,S=I,I=x(j,30),j=X,X=C}this.h[0]=u(this.h[0],X),this.h[1]=u(this.h[1],j),this.h[2]=u(this.h[2],I),this.h[3]=u(this.h[3],S),this.h[4]=u(this.h[4],E)},v.prototype._digest=function($){return $==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),$r=je((l,m)=>{var r=na(),N=hn(),p=Tr(),x=Po(),u=r.sum32,_=r.sum32_4,L=r.sum32_5,y=p.ch32,R=p.maj32,v=p.s0_256,$=p.s1_256,M=p.g0_256,T=p.g1_256,q=N.BlockHash,X=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function j(){if(!(this instanceof j))return new j;q.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=X,this.W=new Array(64)}r.inherits(j,q),m.exports=j,j.blockSize=512,j.outSize=256,j.hmacStrength=192,j.padLength=64,j.prototype._update=function(I,S){for(var E=this.W,D=0;D<16;D++)E[D]=I[S+D];for(;D<E.length;D++)E[D]=_(T(E[D-2]),E[D-7],M(E[D-15]),E[D-16]);var C=this.h[0],ce=this.h[1],be=this.h[2],qe=this.h[3],ue=this.h[4],$e=this.h[5],e=this.h[6],n=this.h[7];for(x(this.k.length===E.length),D=0;D<E.length;D++){var c=L(n,$(ue),y(ue,$e,e),this.k[D],E[D]),s=u(v(C),R(C,ce,be));n=e,e=$e,$e=ue,ue=u(qe,c),qe=be,be=ce,ce=C,C=u(c,s)}this.h[0]=u(this.h[0],C),this.h[1]=u(this.h[1],ce),this.h[2]=u(this.h[2],be),this.h[3]=u(this.h[3],qe),this.h[4]=u(this.h[4],ue),this.h[5]=u(this.h[5],$e),this.h[6]=u(this.h[6],e),this.h[7]=u(this.h[7],n)},j.prototype._digest=function(I){return I==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),nu=je((l,m)=>{var r=na(),N=$r();function p(){if(!(this instanceof p))return new p;N.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(p,N),m.exports=p,p.blockSize=512,p.outSize=224,p.hmacStrength=192,p.padLength=64,p.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),Vr=je((l,m)=>{var r=na(),N=hn(),p=Po(),x=r.rotr64_hi,u=r.rotr64_lo,_=r.shr64_hi,L=r.shr64_lo,y=r.sum64,R=r.sum64_hi,v=r.sum64_lo,$=r.sum64_4_hi,M=r.sum64_4_lo,T=r.sum64_5_hi,q=r.sum64_5_lo,X=N.BlockHash,j=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;X.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=j,this.W=new Array(160)}r.inherits(I,X),m.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(s,t){for(var h=this.W,k=0;k<32;k++)h[k]=s[t+k];for(;k<h.length;k+=2){var d=n(h[k-4],h[k-3]),o=c(h[k-4],h[k-3]),b=h[k-14],W=h[k-13],O=$e(h[k-30],h[k-29]),P=e(h[k-30],h[k-29]),pe=h[k-32],Ne=h[k-31];h[k]=$(d,o,b,W,O,P,pe,Ne),h[k+1]=M(d,o,b,W,O,P,pe,Ne)}},I.prototype._update=function(s,t){this._prepareBlock(s,t);var h=this.W,k=this.h[0],d=this.h[1],o=this.h[2],b=this.h[3],W=this.h[4],O=this.h[5],P=this.h[6],pe=this.h[7],Ne=this.h[8],xe=this.h[9],te=this.h[10],ie=this.h[11],he=this.h[12],Fe=this.h[13],Re=this.h[14],ge=this.h[15];p(this.k.length===h.length);for(var H=0;H<h.length;H+=2){var w=Re,B=ge,Te=qe(Ne,xe),Le=ue(Ne,xe),Ve=S(Ne,xe,te,ie,he,Fe),Pe=E(Ne,xe,te,ie,he,Fe),We=this.k[H],Ie=this.k[H+1],Qe=h[H],Je=h[H+1],Se=T(w,B,Te,Le,Ve,Pe,We,Ie,Qe,Je),bo=q(w,B,Te,Le,Ve,Pe,We,Ie,Qe,Je);w=ce(k,d),B=be(k,d),Te=D(k,d,o,b,W,O),Le=C(k,d,o,b,W,O);var U=R(w,B,Te,Le),a=v(w,B,Te,Le);Re=he,ge=Fe,he=te,Fe=ie,te=Ne,ie=xe,Ne=R(P,pe,Se,bo),xe=v(pe,pe,Se,bo),P=W,pe=O,W=o,O=b,o=k,b=d,k=R(Se,bo,U,a),d=v(Se,bo,U,a)}y(this.h,0,k,d),y(this.h,2,o,b),y(this.h,4,W,O),y(this.h,6,P,pe),y(this.h,8,Ne,xe),y(this.h,10,te,ie),y(this.h,12,he,Fe),y(this.h,14,Re,ge)},I.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function S(s,t,h,k,d){var o=s&h^~s&d;return o<0&&(o+=4294967296),o}function E(s,t,h,k,d,o){var b=t&k^~t&o;return b<0&&(b+=4294967296),b}function D(s,t,h,k,d){var o=s&h^s&d^h&d;return o<0&&(o+=4294967296),o}function C(s,t,h,k,d,o){var b=t&k^t&o^k&o;return b<0&&(b+=4294967296),b}function ce(s,t){var h=x(s,t,28),k=x(t,s,2),d=x(t,s,7),o=h^k^d;return o<0&&(o+=4294967296),o}function be(s,t){var h=u(s,t,28),k=u(t,s,2),d=u(t,s,7),o=h^k^d;return o<0&&(o+=4294967296),o}function qe(s,t){var h=x(s,t,14),k=x(s,t,18),d=x(t,s,9),o=h^k^d;return o<0&&(o+=4294967296),o}function ue(s,t){var h=u(s,t,14),k=u(s,t,18),d=u(t,s,9),o=h^k^d;return o<0&&(o+=4294967296),o}function $e(s,t){var h=x(s,t,1),k=x(s,t,8),d=_(s,t,7),o=h^k^d;return o<0&&(o+=4294967296),o}function e(s,t){var h=u(s,t,1),k=u(s,t,8),d=L(s,t,7),o=h^k^d;return o<0&&(o+=4294967296),o}function n(s,t){var h=x(s,t,19),k=x(t,s,29),d=_(s,t,6),o=h^k^d;return o<0&&(o+=4294967296),o}function c(s,t){var h=u(s,t,19),k=u(t,s,29),d=L(s,t,6),o=h^k^d;return o<0&&(o+=4294967296),o}}),su=je((l,m)=>{var r=na(),N=Vr();function p(){if(!(this instanceof p))return new p;N.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(p,N),m.exports=p,p.blockSize=1024,p.outSize=384,p.hmacStrength=192,p.padLength=128,p.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),lu=je((l)=>{l.sha1=au(),l.sha224=nu(),l.sha256=$r(),l.sha384=su(),l.sha512=Vr()}),ru=je((l)=>{var m=na(),r=hn(),N=m.rotl32,p=m.sum32,x=m.sum32_3,u=m.sum32_4,_=r.BlockHash;function L(){if(!(this instanceof L))return new L;_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}m.inherits(L,_),l.ripemd160=L,L.blockSize=512,L.outSize=160,L.hmacStrength=192,L.padLength=64,L.prototype._update=function(X,j){for(var I=this.h[0],S=this.h[1],E=this.h[2],D=this.h[3],C=this.h[4],ce=I,be=S,qe=E,ue=D,$e=C,e=0;e<80;e++){var n=p(N(u(I,y(e,S,E,D),X[$[e]+j],R(e)),T[e]),C);I=C,C=D,D=N(E,10),E=S,S=n,n=p(N(u(ce,y(79-e,be,qe,ue),X[M[e]+j],v(e)),q[e]),$e),ce=$e,$e=ue,ue=N(qe,10),qe=be,be=n}n=x(this.h[1],E,ue),this.h[1]=x(this.h[2],D,$e),this.h[2]=x(this.h[3],C,ce),this.h[3]=x(this.h[4],I,be),this.h[4]=x(this.h[0],S,qe),this.h[0]=n},L.prototype._digest=function(X){return X==="hex"?m.toHex32(this.h,"little"):m.split32(this.h,"little")};function y(X,j,I,S){return X<=15?j^I^S:X<=31?j&I|~j&S:X<=47?(j|~I)^S:X<=63?j&S|I&~S:j^(I|~S)}function R(X){return X<=15?0:X<=31?1518500249:X<=47?1859775393:X<=63?2400959708:2840853838}function v(X){return X<=15?1352829926:X<=31?1548603684:X<=47?1836072691:X<=63?2053994217:0}var $=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],M=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],T=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],q=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),iu=je((l,m)=>{var r=na(),N=Po();function p(x,u,_){if(!(this instanceof p))return new p(x,u,_);this.Hash=x,this.blockSize=x.blockSize/8,this.outSize=x.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(u,_))}m.exports=p,p.prototype._init=function(x){x.length>this.blockSize&&(x=new this.Hash().update(x).digest()),N(x.length<=this.blockSize);for(var u=x.length;u<this.blockSize;u++)x.push(0);for(u=0;u<x.length;u++)x[u]^=54;for(this.inner=new this.Hash().update(x),u=0;u<x.length;u++)x[u]^=106;this.outer=new this.Hash().update(x)},p.prototype.update=function(x,u){return this.inner.update(x,u),this},p.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}}),Qs=je((l)=>{var m=l;m.utils=na(),m.common=hn(),m.sha=lu(),m.ripemd=ru(),m.hmac=iu(),m.sha1=m.sha.sha1,m.sha256=m.sha.sha256,m.sha224=m.sha.sha224,m.sha384=m.sha.sha384,m.sha512=m.sha.sha512,m.ripemd160=m.ripemd.ripemd160}),cu=je((l,m)=>{m.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),Cs=je((l)=>{var m=l,r=Qs(),N=qr(),p=Ho(),x=p.assert;function u(y){y.type==="short"?this.curve=new N.short(y):y.type==="edwards"?this.curve=new N.edwards(y):this.curve=new N.mont(y),this.g=this.curve.g,this.n=this.curve.n,this.hash=y.hash,x(this.g.validate(),"Invalid curve"),x(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}m.PresetCurve=u;function _(y,R){Object.defineProperty(m,y,{configurable:!0,enumerable:!0,get:function(){var v=new u(R);return Object.defineProperty(m,y,{configurable:!0,enumerable:!0,value:v}),v}})}_("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),_("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),_("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),_("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),_("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),_("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),_("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var L;try{L=cu()}catch{L=void 0}_("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",L]})}),uu=je((l,m)=>{var r=Qs(),N=xr(),p=Po();function x(u){if(!(this instanceof x))return new x(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var _=N.toArray(u.entropy,u.entropyEnc||"hex"),L=N.toArray(u.nonce,u.nonceEnc||"hex"),y=N.toArray(u.pers,u.persEnc||"hex");p(_.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(_,L,y)}m.exports=x,x.prototype._init=function(u,_,L){var y=u.concat(_).concat(L);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var R=0;R<this.V.length;R++)this.K[R]=0,this.V[R]=1;this._update(y),this._reseed=1,this.reseedInterval=281474976710656},x.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},x.prototype._update=function(u){var _=this._hmac().update(this.V).update([0]);u&&(_=_.update(u)),this.K=_.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},x.prototype.reseed=function(u,_,L,y){typeof _!="string"&&(y=L,L=_,_=null),u=N.toArray(u,_),L=N.toArray(L,y),p(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(L||[])),this._reseed=1},x.prototype.generate=function(u,_,L,y){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof _!="string"&&(y=L,L=_,_=null),L&&(L=N.toArray(L,y||"hex"),this._update(L));for(var R=[];R.length<u;)this.V=this._hmac().update(this.V).digest(),R=R.concat(this.V);var v=R.slice(0,u);return this._update(L),this._reseed++,N.encode(v,_)}}),tu=je((l,m)=>{var r=ca(),N=Ho(),p=N.assert;function x(u,_){this.ec=u,this.priv=null,this.pub=null,_.priv&&this._importPrivate(_.priv,_.privEnc),_.pub&&this._importPublic(_.pub,_.pubEnc)}m.exports=x,x.fromPublic=function(u,_,L){return _ instanceof x?_:new x(u,{pub:_,pubEnc:L})},x.fromPrivate=function(u,_,L){return _ instanceof x?_:new x(u,{priv:_,privEnc:L})},x.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},x.prototype.getPublic=function(u,_){return typeof u=="string"&&(_=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),_?this.pub.encode(_,u):this.pub},x.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},x.prototype._importPrivate=function(u,_){this.priv=new r(u,_||16),this.priv=this.priv.umod(this.ec.curve.n)},x.prototype._importPublic=function(u,_){if(u.x||u.y){this.ec.curve.type==="mont"?p(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&p(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,_)},x.prototype.derive=function(u){return u.validate()||p(u.validate(),"public point not validated"),u.mul(this.priv).getX()},x.prototype.sign=function(u,_,L){return this.ec.sign(u,this,_,L)},x.prototype.verify=function(u,_){return this.ec.verify(u,_,this)},x.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),mu=je((l,m)=>{var r=ca(),N=Ho(),p=N.assert;function x(R,v){if(R instanceof x)return R;this._importDER(R,v)||(p(R.r&&R.s,"Signature without r or s"),this.r=new r(R.r,16),this.s=new r(R.s,16),R.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=R.recoveryParam)}m.exports=x;function u(){this.place=0}function _(R,v){var $=R[v.place++];if(!($&128))return $;var M=$&15;if(M===0||M>4)return!1;for(var T=0,q=0,X=v.place;q<M;q++,X++)T<<=8,T|=R[X],T>>>=0;return T<=127?!1:(v.place=X,T)}function L(R){for(var v=0,$=R.length-1;!R[v]&&!(R[v+1]&128)&&v<$;)v++;return v===0?R:R.slice(v)}x.prototype._importDER=function(R,v){R=N.toArray(R,v);var $=new u;if(R[$.place++]!==48)return!1;var M=_(R,$);if(M===!1||M+$.place!==R.length||R[$.place++]!==2)return!1;var T=_(R,$);if(T===!1)return!1;var q=R.slice($.place,T+$.place);if($.place+=T,R[$.place++]!==2)return!1;var X=_(R,$);if(X===!1||R.length!==X+$.place)return!1;var j=R.slice($.place,X+$.place);if(q[0]===0)if(q[1]&128)q=q.slice(1);else return!1;if(j[0]===0)if(j[1]&128)j=j.slice(1);else return!1;return this.r=new r(q),this.s=new r(j),this.recoveryParam=null,!0};function y(R,v){if(v<128){R.push(v);return}var $=1+(Math.log(v)/Math.LN2>>>3);for(R.push($|128);--$;)R.push(v>>>($<<3)&255);R.push(v)}x.prototype.toDER=function(R){var v=this.r.toArray(),$=this.s.toArray();for(v[0]&128&&(v=[0].concat(v)),$[0]&128&&($=[0].concat($)),v=L(v),$=L($);!$[0]&&!($[1]&128);)$=$.slice(1);var M=[2];y(M,v.length),M=M.concat(v),M.push(2),y(M,$.length);var T=M.concat($),q=[48];return y(q,T.length),q=q.concat(T),N.encode(q,R)}}),bu=je((l,m)=>{var r=ca(),N=uu(),p=Ho(),x=Cs(),u=Hs(),_=p.assert,L=tu(),y=mu();function R(v){if(!(this instanceof R))return new R(v);typeof v=="string"&&(_(Object.prototype.hasOwnProperty.call(x,v),"Unknown curve "+v),v=x[v]),v instanceof x.PresetCurve&&(v={curve:v}),this.curve=v.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=v.curve.g,this.g.precompute(v.curve.n.bitLength()+1),this.hash=v.hash||v.curve.hash}m.exports=R,R.prototype.keyPair=function(v){return new L(this,v)},R.prototype.keyFromPrivate=function(v,$){return L.fromPrivate(this,v,$)},R.prototype.keyFromPublic=function(v,$){return L.fromPublic(this,v,$)},R.prototype.genKeyPair=function(v){v||(v={});for(var $=new N({hash:this.hash,pers:v.pers,persEnc:v.persEnc||"utf8",entropy:v.entropy||u(this.hash.hmacStrength),entropyEnc:v.entropy&&v.entropyEnc||"utf8",nonce:this.n.toArray()}),M=this.n.byteLength(),T=this.n.sub(new r(2));;){var q=new r($.generate(M));if(!(q.cmp(T)>0))return q.iaddn(1),this.keyFromPrivate(q)}},R.prototype._truncateToN=function(v,$){var M=v.byteLength()*8-this.n.bitLength();return M>0&&(v=v.ushrn(M)),!$&&v.cmp(this.n)>=0?v.sub(this.n):v},R.prototype.sign=function(v,$,M,T){typeof M=="object"&&(T=M,M=null),T||(T={}),$=this.keyFromPrivate($,M),v=this._truncateToN(new r(v,16));for(var q=this.n.byteLength(),X=$.getPrivate().toArray("be",q),j=v.toArray("be",q),I=new N({hash:this.hash,entropy:X,nonce:j,pers:T.pers,persEnc:T.persEnc||"utf8"}),S=this.n.sub(new r(1)),E=0;;E++){var D=T.k?T.k(E):new r(I.generate(this.n.byteLength()));if(D=this._truncateToN(D,!0),!(D.cmpn(1)<=0||D.cmp(S)>=0)){var C=this.g.mul(D);if(!C.isInfinity()){var ce=C.getX(),be=ce.umod(this.n);if(be.cmpn(0)!==0){var qe=D.invm(this.n).mul(be.mul($.getPrivate()).iadd(v));if(qe=qe.umod(this.n),qe.cmpn(0)!==0){var ue=(C.getY().isOdd()?1:0)|(ce.cmp(be)!==0?2:0);return T.canonical&&qe.cmp(this.nh)>0&&(qe=this.n.sub(qe),ue^=1),new y({r:be,s:qe,recoveryParam:ue})}}}}}},R.prototype.verify=function(v,$,M,T){v=this._truncateToN(new r(v,16)),M=this.keyFromPublic(M,T),$=new y($,"hex");var{r:q,s:X}=$;if(q.cmpn(1)<0||q.cmp(this.n)>=0||X.cmpn(1)<0||X.cmp(this.n)>=0)return!1;var j=X.invm(this.n),I=j.mul(v).umod(this.n),S=j.mul(q).umod(this.n),E;return this.curve._maxwellTrick?(E=this.g.jmulAdd(I,M.getPublic(),S),E.isInfinity()?!1:E.eqXToP(q)):(E=this.g.mulAdd(I,M.getPublic(),S),E.isInfinity()?!1:E.getX().umod(this.n).cmp(q)===0)},R.prototype.recoverPubKey=function(v,$,M,T){_((3&M)===M,"The recovery param is more than two bits"),$=new y($,T);var q=this.n,X=new r(v),j=$.r,I=$.s,S=M&1,E=M>>1;if(j.cmp(this.curve.p.umod(this.curve.n))>=0&&E)throw new Error("Unable to find sencond key candinate");E?j=this.curve.pointFromX(j.add(this.curve.n),S):j=this.curve.pointFromX(j,S);var D=$.r.invm(q),C=q.sub(X).mul(D).umod(q),ce=I.mul(D).umod(q);return this.g.mulAdd(C,j,ce)},R.prototype.getKeyRecoveryParam=function(v,$,M,T){if($=new y($,T),$.recoveryParam!==null)return $.recoveryParam;for(var q=0;q<4;q++){var X;try{X=this.recoverPubKey(v,$,q)}catch{continue}if(X.eq(M))return q}throw new Error("Unable to find valid recovery factor")}}),du=je((l,m)=>{var r=Ho(),N=r.assert,p=r.parseBytes,x=r.cachedProperty;function u(_,L){this.eddsa=_,this._secret=p(L.secret),_.isPoint(L.pub)?this._pub=L.pub:this._pubBytes=p(L.pub)}u.fromPublic=function(_,L){return L instanceof u?L:new u(_,{pub:L})},u.fromSecret=function(_,L){return L instanceof u?L:new u(_,{secret:L})},u.prototype.secret=function(){return this._secret},x(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),x(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),x(u,"privBytes",function(){var _=this.eddsa,L=this.hash(),y=_.encodingLength-1,R=L.slice(0,_.encodingLength);return R[0]&=248,R[y]&=127,R[y]|=64,R}),x(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),x(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),x(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(_){return N(this._secret,"KeyPair can only verify"),this.eddsa.sign(_,this)},u.prototype.verify=function(_,L){return this.eddsa.verify(_,L,this)},u.prototype.getSecret=function(_){return N(this._secret,"KeyPair is public only"),r.encode(this.secret(),_)},u.prototype.getPublic=function(_){return r.encode(this.pubBytes(),_)},m.exports=u}),pu=je((l,m)=>{var r=ca(),N=Ho(),p=N.assert,x=N.cachedProperty,u=N.parseBytes;function _(L,y){this.eddsa=L,typeof y!="object"&&(y=u(y)),Array.isArray(y)&&(y={R:y.slice(0,L.encodingLength),S:y.slice(L.encodingLength)}),p(y.R&&y.S,"Signature without R or S"),L.isPoint(y.R)&&(this._R=y.R),y.S instanceof r&&(this._S=y.S),this._Rencoded=Array.isArray(y.R)?y.R:y.Rencoded,this._Sencoded=Array.isArray(y.S)?y.S:y.Sencoded}x(_,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),x(_,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),x(_,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),x(_,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),_.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},_.prototype.toHex=function(){return N.encode(this.toBytes(),"hex").toUpperCase()},m.exports=_}),fu=je((l,m)=>{var r=Qs(),N=Cs(),p=Ho(),x=p.assert,u=p.parseBytes,_=du(),L=pu();function y(R){if(x(R==="ed25519","only tested with ed25519 so far"),!(this instanceof y))return new y(R);R=N[R].curve,this.curve=R,this.g=R.g,this.g.precompute(R.n.bitLength()+1),this.pointClass=R.point().constructor,this.encodingLength=Math.ceil(R.n.bitLength()/8),this.hash=r.sha512}m.exports=y,y.prototype.sign=function(R,v){R=u(R);var $=this.keyFromSecret(v),M=this.hashInt($.messagePrefix(),R),T=this.g.mul(M),q=this.encodePoint(T),X=this.hashInt(q,$.pubBytes(),R).mul($.priv()),j=M.add(X).umod(this.curve.n);return this.makeSignature({R:T,S:j,Rencoded:q})},y.prototype.verify=function(R,v,$){R=u(R),v=this.makeSignature(v);var M=this.keyFromPublic($),T=this.hashInt(v.Rencoded(),M.pubBytes(),R),q=this.g.mul(v.S()),X=v.R().add(M.pub().mul(T));return X.eq(q)},y.prototype.hashInt=function(){for(var R=this.hash(),v=0;v<arguments.length;v++)R.update(arguments[v]);return p.intFromLE(R.digest()).umod(this.curve.n)},y.prototype.keyFromPublic=function(R){return _.fromPublic(this,R)},y.prototype.keyFromSecret=function(R){return _.fromSecret(this,R)},y.prototype.makeSignature=function(R){return R instanceof L?R:new L(this,R)},y.prototype.encodePoint=function(R){var v=R.getY().toArray("le",this.encodingLength);return v[this.encodingLength-1]|=R.getX().isOdd()?128:0,v},y.prototype.decodePoint=function(R){R=p.parseBytes(R);var v=R.length-1,$=R.slice(0,v).concat(R[v]&-129),M=(R[v]&128)!==0,T=p.intFromLE($);return this.curve.pointFromY(T,M)},y.prototype.encodeInt=function(R){return R.toArray("le",this.encodingLength)},y.prototype.decodeInt=function(R){return p.intFromLE(R)},y.prototype.isPoint=function(R){return R instanceof this.pointClass}}),Bs=je((l)=>{var m=l;m.version=Bc().version,m.utils=Ho(),m.rand=Hs(),m.curve=qr(),m.curves=Cs(),m.ec=bu(),m.eddsa=fu()}),Mr=je((l,m)=>{(function(r,N){function p(e,n){if(!e)throw new Error(n||"Assertion failed")}function x(e,n){e.super_=n;var c=function(){};c.prototype=n.prototype,e.prototype=new c,e.prototype.constructor=e}function u(e,n,c){if(u.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(e||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:N.BN=u,u.BN=u,u.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=Ua().Buffer}catch{}u.isBN=function(e){return e instanceof u?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===u.wordSize&&Array.isArray(e.words)},u.max=function(e,n){return e.cmp(n)>0?e:n},u.min=function(e,n){return e.cmp(n)<0?e:n},u.prototype._init=function(e,n,c){if(typeof e=="number")return this._initNumber(e,n,c);if(typeof e=="object")return this._initArray(e,n,c);n==="hex"&&(n=16),p(n===(n|0)&&n>=2&&n<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(n===16?this._parseHex(e,s,c):(this._parseBase(e,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(e,n,c){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(p(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(e,n,c){if(p(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t,h,k=0;if(c==="be")for(s=e.length-1,t=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);else if(c==="le")for(s=0,t=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);return this.strip()};function L(e,n){var c=e.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(e,n,c){var s=L(e,c);return c-1>=n&&(s|=L(e,c-1)<<4),s}u.prototype._parseHex=function(e,n,c){this.length=Math.ceil((e.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t=0,h=0,k;if(c==="be")for(s=e.length-1;s>=n;s-=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8;else{var d=e.length-n;for(s=d%2===0?n+1:n;s<e.length;s+=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8}this.strip()};function R(e,n,c,s){for(var t=0,h=Math.min(e.length,c),k=n;k<h;k++){var d=e.charCodeAt(k)-48;t*=s,d>=49?t+=d-49+10:d>=17?t+=d-17+10:t+=d}return t}u.prototype._parseBase=function(e,n,c){this.words=[0],this.length=1;for(var s=0,t=1;t<=67108863;t*=n)s++;s--,t=t/n|0;for(var h=e.length-c,k=h%s,d=Math.min(h,h-k)+c,o=0,b=c;b<d;b+=s)o=R(e,b,b+s,n),this.imuln(t),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(k!==0){var W=1;for(o=R(e,b,e.length,n),b=0;b<k;b++)W*=n;this.imuln(W),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(e){e.words=new Array(this.length);for(var n=0;n<this.length;n++)e.words[n]=this.words[n];e.length=this.length,e.negative=this.negative,e.red=this.red},u.prototype.clone=function(){var e=new u(null);return this.copy(e),e},u.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(e,n){e=e||10,n=n|0||1;var c;if(e===16||e==="hex"){c="";for(var s=0,t=0,h=0;h<this.length;h++){var k=this.words[h],d=((k<<s|t)&16777215).toString(16);t=k>>>24-s&16777215,t!==0||h!==this.length-1?c=v[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,h--)}for(t!==0&&(c=t.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(e===(e|0)&&e>=2&&e<=36){var o=$[e],b=M[e];c="";var W=this.clone();for(W.negative=0;!W.isZero();){var O=W.modn(b).toString(e);W=W.idivn(b),W.isZero()?c=O+c:c=v[o-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}p(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&p(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(e,n){return p(typeof _<"u"),this.toArrayLike(_,e,n)},u.prototype.toArray=function(e,n){return this.toArrayLike(Array,e,n)},u.prototype.toArrayLike=function(e,n,c){var s=this.byteLength(),t=c||Math.max(1,s);p(s<=t,"byte array longer than desired length"),p(t>0,"Requested array length <= 0"),this.strip();var h=n==="le",k=new e(t),d,o,b=this.clone();if(h){for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[o]=d;for(;o<t;o++)k[o]=0}else{for(o=0;o<t-s;o++)k[o]=0;for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[t-o-1]=d}return k},Math.clz32?u.prototype._countBits=function(e){return 32-Math.clz32(e)}:u.prototype._countBits=function(e){var n=e,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(e){if(e===0)return 26;var n=e,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var e=this.words[this.length-1],n=this._countBits(e);return(this.length-1)*26+n};function T(e){for(var n=new Array(e.bitLength()),c=0;c<n.length;c++){var s=c/26|0,t=c%26;n[c]=(e.words[s]&1<<t)>>>t}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(e+=c,c!==26)break}return e},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},u.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]|e.words[n];return this.strip()},u.prototype.ior=function(e){return p((this.negative|e.negative)===0),this.iuor(e)},u.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},u.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},u.prototype.iuand=function(e){var n;this.length>e.length?n=e:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&e.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(e){return p((this.negative|e.negative)===0),this.iuand(e)},u.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},u.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},u.prototype.iuxor=function(e){var n,c;this.length>e.length?(n=this,c=e):(n=e,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(e){return p((this.negative|e.negative)===0),this.iuxor(e)},u.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},u.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},u.prototype.inotn=function(e){p(typeof e=="number"&&e>=0);var n=Math.ceil(e/26)|0,c=e%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(e){return this.clone().inotn(e)},u.prototype.setn=function(e,n){p(typeof e=="number"&&e>=0);var c=e/26|0,s=e%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(e){var n;if(this.negative!==0&&e.negative===0)return this.negative=0,n=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,n=this.isub(e),e.negative=1,n._normSign();var c,s;this.length>e.length?(c=this,s=e):(c=e,s=this);for(var t=0,h=0;h<s.length;h++)n=(c.words[h]|0)+(s.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;for(;t!==0&&h<c.length;h++)n=(c.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;if(this.length=c.length,t!==0)this.words[this.length]=t,this.length++;else if(c!==this)for(;h<c.length;h++)this.words[h]=c.words[h];return this},u.prototype.add=function(e){var n;return e.negative!==0&&this.negative===0?(e.negative=0,n=this.sub(e),e.negative^=1,n):e.negative===0&&this.negative!==0?(this.negative=0,n=e.sub(this),this.negative=1,n):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},u.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var n=this.iadd(e);return e.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var c=this.cmp(e);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,t;c>0?(s=this,t=e):(s=e,t=this);for(var h=0,k=0;k<t.length;k++)n=(s.words[k]|0)-(t.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;for(;h!==0&&k<s.length;k++)n=(s.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;if(h===0&&k<s.length&&s!==this)for(;k<s.length;k++)this.words[k]=s.words[k];return this.length=Math.max(this.length,k),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(e){return this.clone().isub(e)};function q(e,n,c){c.negative=n.negative^e.negative;var s=e.length+n.length|0;c.length=s,s=s-1|0;var t=e.words[0]|0,h=n.words[0]|0,k=t*h,d=k&67108863,o=k/67108864|0;c.words[0]=d;for(var b=1;b<s;b++){for(var W=o>>>26,O=o&67108863,P=Math.min(b,n.length-1),pe=Math.max(0,b-e.length+1);pe<=P;pe++){var Ne=b-pe|0;t=e.words[Ne]|0,h=n.words[pe]|0,k=t*h+O,W+=k/67108864|0,O=k&67108863}c.words[b]=O|0,o=W|0}return o!==0?c.words[b]=o|0:c.length--,c.strip()}var X=function(e,n,c){var s=e.words,t=n.words,h=c.words,k=0,d,o,b,W=s[0]|0,O=W&8191,P=W>>>13,pe=s[1]|0,Ne=pe&8191,xe=pe>>>13,te=s[2]|0,ie=te&8191,he=te>>>13,Fe=s[3]|0,Re=Fe&8191,ge=Fe>>>13,H=s[4]|0,w=H&8191,B=H>>>13,Te=s[5]|0,Le=Te&8191,Ve=Te>>>13,Pe=s[6]|0,We=Pe&8191,Ie=Pe>>>13,Qe=s[7]|0,Je=Qe&8191,Se=Qe>>>13,bo=s[8]|0,U=bo&8191,a=bo>>>13,i=s[9]|0,f=i&8191,Z=i>>>13,V=t[0]|0,g=V&8191,F=V>>>13,z=t[1]|0,J=z&8191,K=z>>>13,oe=t[2]|0,Y=oe&8191,G=oe>>>13,ne=t[3]|0,A=ne&8191,re=ne>>>13,ke=t[4]|0,ee=ke&8191,ae=ke>>>13,se=t[5]|0,Q=se&8191,le=se>>>13,fe=t[6]|0,me=fe&8191,de=fe>>>13,Oe=t[7]|0,_e=Oe&8191,ve=Oe>>>13,Xe=t[8]|0,ye=Xe&8191,Ze=Xe>>>13,we=t[9]|0,Me=we&8191,Ue=we>>>13;c.negative=e.negative^n.negative,c.length=19,d=Math.imul(O,g),o=Math.imul(O,F),o=o+Math.imul(P,g)|0,b=Math.imul(P,F);var ze=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(Ne,g),o=Math.imul(Ne,F),o=o+Math.imul(xe,g)|0,b=Math.imul(xe,F),d=d+Math.imul(O,J)|0,o=o+Math.imul(O,K)|0,o=o+Math.imul(P,J)|0,b=b+Math.imul(P,K)|0;var Ke=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(ie,g),o=Math.imul(ie,F),o=o+Math.imul(he,g)|0,b=Math.imul(he,F),d=d+Math.imul(Ne,J)|0,o=o+Math.imul(Ne,K)|0,o=o+Math.imul(xe,J)|0,b=b+Math.imul(xe,K)|0,d=d+Math.imul(O,Y)|0,o=o+Math.imul(O,G)|0,o=o+Math.imul(P,Y)|0,b=b+Math.imul(P,G)|0;var Ee=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(Re,g),o=Math.imul(Re,F),o=o+Math.imul(ge,g)|0,b=Math.imul(ge,F),d=d+Math.imul(ie,J)|0,o=o+Math.imul(ie,K)|0,o=o+Math.imul(he,J)|0,b=b+Math.imul(he,K)|0,d=d+Math.imul(Ne,Y)|0,o=o+Math.imul(Ne,G)|0,o=o+Math.imul(xe,Y)|0,b=b+Math.imul(xe,G)|0,d=d+Math.imul(O,A)|0,o=o+Math.imul(O,re)|0,o=o+Math.imul(P,A)|0,b=b+Math.imul(P,re)|0;var De=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(De>>>26)|0,De&=67108863,d=Math.imul(w,g),o=Math.imul(w,F),o=o+Math.imul(B,g)|0,b=Math.imul(B,F),d=d+Math.imul(Re,J)|0,o=o+Math.imul(Re,K)|0,o=o+Math.imul(ge,J)|0,b=b+Math.imul(ge,K)|0,d=d+Math.imul(ie,Y)|0,o=o+Math.imul(ie,G)|0,o=o+Math.imul(he,Y)|0,b=b+Math.imul(he,G)|0,d=d+Math.imul(Ne,A)|0,o=o+Math.imul(Ne,re)|0,o=o+Math.imul(xe,A)|0,b=b+Math.imul(xe,re)|0,d=d+Math.imul(O,ee)|0,o=o+Math.imul(O,ae)|0,o=o+Math.imul(P,ee)|0,b=b+Math.imul(P,ae)|0;var Ge=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,d=Math.imul(Le,g),o=Math.imul(Le,F),o=o+Math.imul(Ve,g)|0,b=Math.imul(Ve,F),d=d+Math.imul(w,J)|0,o=o+Math.imul(w,K)|0,o=o+Math.imul(B,J)|0,b=b+Math.imul(B,K)|0,d=d+Math.imul(Re,Y)|0,o=o+Math.imul(Re,G)|0,o=o+Math.imul(ge,Y)|0,b=b+Math.imul(ge,G)|0,d=d+Math.imul(ie,A)|0,o=o+Math.imul(ie,re)|0,o=o+Math.imul(he,A)|0,b=b+Math.imul(he,re)|0,d=d+Math.imul(Ne,ee)|0,o=o+Math.imul(Ne,ae)|0,o=o+Math.imul(xe,ee)|0,b=b+Math.imul(xe,ae)|0,d=d+Math.imul(O,Q)|0,o=o+Math.imul(O,le)|0,o=o+Math.imul(P,Q)|0,b=b+Math.imul(P,le)|0;var Ce=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,d=Math.imul(We,g),o=Math.imul(We,F),o=o+Math.imul(Ie,g)|0,b=Math.imul(Ie,F),d=d+Math.imul(Le,J)|0,o=o+Math.imul(Le,K)|0,o=o+Math.imul(Ve,J)|0,b=b+Math.imul(Ve,K)|0,d=d+Math.imul(w,Y)|0,o=o+Math.imul(w,G)|0,o=o+Math.imul(B,Y)|0,b=b+Math.imul(B,G)|0,d=d+Math.imul(Re,A)|0,o=o+Math.imul(Re,re)|0,o=o+Math.imul(ge,A)|0,b=b+Math.imul(ge,re)|0,d=d+Math.imul(ie,ee)|0,o=o+Math.imul(ie,ae)|0,o=o+Math.imul(he,ee)|0,b=b+Math.imul(he,ae)|0,d=d+Math.imul(Ne,Q)|0,o=o+Math.imul(Ne,le)|0,o=o+Math.imul(xe,Q)|0,b=b+Math.imul(xe,le)|0,d=d+Math.imul(O,me)|0,o=o+Math.imul(O,de)|0,o=o+Math.imul(P,me)|0,b=b+Math.imul(P,de)|0;var He=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(Je,g),o=Math.imul(Je,F),o=o+Math.imul(Se,g)|0,b=Math.imul(Se,F),d=d+Math.imul(We,J)|0,o=o+Math.imul(We,K)|0,o=o+Math.imul(Ie,J)|0,b=b+Math.imul(Ie,K)|0,d=d+Math.imul(Le,Y)|0,o=o+Math.imul(Le,G)|0,o=o+Math.imul(Ve,Y)|0,b=b+Math.imul(Ve,G)|0,d=d+Math.imul(w,A)|0,o=o+Math.imul(w,re)|0,o=o+Math.imul(B,A)|0,b=b+Math.imul(B,re)|0,d=d+Math.imul(Re,ee)|0,o=o+Math.imul(Re,ae)|0,o=o+Math.imul(ge,ee)|0,b=b+Math.imul(ge,ae)|0,d=d+Math.imul(ie,Q)|0,o=o+Math.imul(ie,le)|0,o=o+Math.imul(he,Q)|0,b=b+Math.imul(he,le)|0,d=d+Math.imul(Ne,me)|0,o=o+Math.imul(Ne,de)|0,o=o+Math.imul(xe,me)|0,b=b+Math.imul(xe,de)|0,d=d+Math.imul(O,_e)|0,o=o+Math.imul(O,ve)|0,o=o+Math.imul(P,_e)|0,b=b+Math.imul(P,ve)|0;var Be=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Be>>>26)|0,Be&=67108863,d=Math.imul(U,g),o=Math.imul(U,F),o=o+Math.imul(a,g)|0,b=Math.imul(a,F),d=d+Math.imul(Je,J)|0,o=o+Math.imul(Je,K)|0,o=o+Math.imul(Se,J)|0,b=b+Math.imul(Se,K)|0,d=d+Math.imul(We,Y)|0,o=o+Math.imul(We,G)|0,o=o+Math.imul(Ie,Y)|0,b=b+Math.imul(Ie,G)|0,d=d+Math.imul(Le,A)|0,o=o+Math.imul(Le,re)|0,o=o+Math.imul(Ve,A)|0,b=b+Math.imul(Ve,re)|0,d=d+Math.imul(w,ee)|0,o=o+Math.imul(w,ae)|0,o=o+Math.imul(B,ee)|0,b=b+Math.imul(B,ae)|0,d=d+Math.imul(Re,Q)|0,o=o+Math.imul(Re,le)|0,o=o+Math.imul(ge,Q)|0,b=b+Math.imul(ge,le)|0,d=d+Math.imul(ie,me)|0,o=o+Math.imul(ie,de)|0,o=o+Math.imul(he,me)|0,b=b+Math.imul(he,de)|0,d=d+Math.imul(Ne,_e)|0,o=o+Math.imul(Ne,ve)|0,o=o+Math.imul(xe,_e)|0,b=b+Math.imul(xe,ve)|0,d=d+Math.imul(O,ye)|0,o=o+Math.imul(O,Ze)|0,o=o+Math.imul(P,ye)|0,b=b+Math.imul(P,Ze)|0;var Ye=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,d=Math.imul(f,g),o=Math.imul(f,F),o=o+Math.imul(Z,g)|0,b=Math.imul(Z,F),d=d+Math.imul(U,J)|0,o=o+Math.imul(U,K)|0,o=o+Math.imul(a,J)|0,b=b+Math.imul(a,K)|0,d=d+Math.imul(Je,Y)|0,o=o+Math.imul(Je,G)|0,o=o+Math.imul(Se,Y)|0,b=b+Math.imul(Se,G)|0,d=d+Math.imul(We,A)|0,o=o+Math.imul(We,re)|0,o=o+Math.imul(Ie,A)|0,b=b+Math.imul(Ie,re)|0,d=d+Math.imul(Le,ee)|0,o=o+Math.imul(Le,ae)|0,o=o+Math.imul(Ve,ee)|0,b=b+Math.imul(Ve,ae)|0,d=d+Math.imul(w,Q)|0,o=o+Math.imul(w,le)|0,o=o+Math.imul(B,Q)|0,b=b+Math.imul(B,le)|0,d=d+Math.imul(Re,me)|0,o=o+Math.imul(Re,de)|0,o=o+Math.imul(ge,me)|0,b=b+Math.imul(ge,de)|0,d=d+Math.imul(ie,_e)|0,o=o+Math.imul(ie,ve)|0,o=o+Math.imul(he,_e)|0,b=b+Math.imul(he,ve)|0,d=d+Math.imul(Ne,ye)|0,o=o+Math.imul(Ne,Ze)|0,o=o+Math.imul(xe,ye)|0,b=b+Math.imul(xe,Ze)|0,d=d+Math.imul(O,Me)|0,o=o+Math.imul(O,Ue)|0,o=o+Math.imul(P,Me)|0,b=b+Math.imul(P,Ue)|0;var lo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(lo>>>26)|0,lo&=67108863,d=Math.imul(f,J),o=Math.imul(f,K),o=o+Math.imul(Z,J)|0,b=Math.imul(Z,K),d=d+Math.imul(U,Y)|0,o=o+Math.imul(U,G)|0,o=o+Math.imul(a,Y)|0,b=b+Math.imul(a,G)|0,d=d+Math.imul(Je,A)|0,o=o+Math.imul(Je,re)|0,o=o+Math.imul(Se,A)|0,b=b+Math.imul(Se,re)|0,d=d+Math.imul(We,ee)|0,o=o+Math.imul(We,ae)|0,o=o+Math.imul(Ie,ee)|0,b=b+Math.imul(Ie,ae)|0,d=d+Math.imul(Le,Q)|0,o=o+Math.imul(Le,le)|0,o=o+Math.imul(Ve,Q)|0,b=b+Math.imul(Ve,le)|0,d=d+Math.imul(w,me)|0,o=o+Math.imul(w,de)|0,o=o+Math.imul(B,me)|0,b=b+Math.imul(B,de)|0,d=d+Math.imul(Re,_e)|0,o=o+Math.imul(Re,ve)|0,o=o+Math.imul(ge,_e)|0,b=b+Math.imul(ge,ve)|0,d=d+Math.imul(ie,ye)|0,o=o+Math.imul(ie,Ze)|0,o=o+Math.imul(he,ye)|0,b=b+Math.imul(he,Ze)|0,d=d+Math.imul(Ne,Me)|0,o=o+Math.imul(Ne,Ue)|0,o=o+Math.imul(xe,Me)|0,b=b+Math.imul(xe,Ue)|0;var Ae=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,d=Math.imul(f,Y),o=Math.imul(f,G),o=o+Math.imul(Z,Y)|0,b=Math.imul(Z,G),d=d+Math.imul(U,A)|0,o=o+Math.imul(U,re)|0,o=o+Math.imul(a,A)|0,b=b+Math.imul(a,re)|0,d=d+Math.imul(Je,ee)|0,o=o+Math.imul(Je,ae)|0,o=o+Math.imul(Se,ee)|0,b=b+Math.imul(Se,ae)|0,d=d+Math.imul(We,Q)|0,o=o+Math.imul(We,le)|0,o=o+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,le)|0,d=d+Math.imul(Le,me)|0,o=o+Math.imul(Le,de)|0,o=o+Math.imul(Ve,me)|0,b=b+Math.imul(Ve,de)|0,d=d+Math.imul(w,_e)|0,o=o+Math.imul(w,ve)|0,o=o+Math.imul(B,_e)|0,b=b+Math.imul(B,ve)|0,d=d+Math.imul(Re,ye)|0,o=o+Math.imul(Re,Ze)|0,o=o+Math.imul(ge,ye)|0,b=b+Math.imul(ge,Ze)|0,d=d+Math.imul(ie,Me)|0,o=o+Math.imul(ie,Ue)|0,o=o+Math.imul(he,Me)|0,b=b+Math.imul(he,Ue)|0;var ao=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ao>>>26)|0,ao&=67108863,d=Math.imul(f,A),o=Math.imul(f,re),o=o+Math.imul(Z,A)|0,b=Math.imul(Z,re),d=d+Math.imul(U,ee)|0,o=o+Math.imul(U,ae)|0,o=o+Math.imul(a,ee)|0,b=b+Math.imul(a,ae)|0,d=d+Math.imul(Je,Q)|0,o=o+Math.imul(Je,le)|0,o=o+Math.imul(Se,Q)|0,b=b+Math.imul(Se,le)|0,d=d+Math.imul(We,me)|0,o=o+Math.imul(We,de)|0,o=o+Math.imul(Ie,me)|0,b=b+Math.imul(Ie,de)|0,d=d+Math.imul(Le,_e)|0,o=o+Math.imul(Le,ve)|0,o=o+Math.imul(Ve,_e)|0,b=b+Math.imul(Ve,ve)|0,d=d+Math.imul(w,ye)|0,o=o+Math.imul(w,Ze)|0,o=o+Math.imul(B,ye)|0,b=b+Math.imul(B,Ze)|0,d=d+Math.imul(Re,Me)|0,o=o+Math.imul(Re,Ue)|0,o=o+Math.imul(ge,Me)|0,b=b+Math.imul(ge,Ue)|0;var no=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(no>>>26)|0,no&=67108863,d=Math.imul(f,ee),o=Math.imul(f,ae),o=o+Math.imul(Z,ee)|0,b=Math.imul(Z,ae),d=d+Math.imul(U,Q)|0,o=o+Math.imul(U,le)|0,o=o+Math.imul(a,Q)|0,b=b+Math.imul(a,le)|0,d=d+Math.imul(Je,me)|0,o=o+Math.imul(Je,de)|0,o=o+Math.imul(Se,me)|0,b=b+Math.imul(Se,de)|0,d=d+Math.imul(We,_e)|0,o=o+Math.imul(We,ve)|0,o=o+Math.imul(Ie,_e)|0,b=b+Math.imul(Ie,ve)|0,d=d+Math.imul(Le,ye)|0,o=o+Math.imul(Le,Ze)|0,o=o+Math.imul(Ve,ye)|0,b=b+Math.imul(Ve,Ze)|0,d=d+Math.imul(w,Me)|0,o=o+Math.imul(w,Ue)|0,o=o+Math.imul(B,Me)|0,b=b+Math.imul(B,Ue)|0;var oo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(oo>>>26)|0,oo&=67108863,d=Math.imul(f,Q),o=Math.imul(f,le),o=o+Math.imul(Z,Q)|0,b=Math.imul(Z,le),d=d+Math.imul(U,me)|0,o=o+Math.imul(U,de)|0,o=o+Math.imul(a,me)|0,b=b+Math.imul(a,de)|0,d=d+Math.imul(Je,_e)|0,o=o+Math.imul(Je,ve)|0,o=o+Math.imul(Se,_e)|0,b=b+Math.imul(Se,ve)|0,d=d+Math.imul(We,ye)|0,o=o+Math.imul(We,Ze)|0,o=o+Math.imul(Ie,ye)|0,b=b+Math.imul(Ie,Ze)|0,d=d+Math.imul(Le,Me)|0,o=o+Math.imul(Le,Ue)|0,o=o+Math.imul(Ve,Me)|0,b=b+Math.imul(Ve,Ue)|0;var uo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(uo>>>26)|0,uo&=67108863,d=Math.imul(f,me),o=Math.imul(f,de),o=o+Math.imul(Z,me)|0,b=Math.imul(Z,de),d=d+Math.imul(U,_e)|0,o=o+Math.imul(U,ve)|0,o=o+Math.imul(a,_e)|0,b=b+Math.imul(a,ve)|0,d=d+Math.imul(Je,ye)|0,o=o+Math.imul(Je,Ze)|0,o=o+Math.imul(Se,ye)|0,b=b+Math.imul(Se,Ze)|0,d=d+Math.imul(We,Me)|0,o=o+Math.imul(We,Ue)|0,o=o+Math.imul(Ie,Me)|0,b=b+Math.imul(Ie,Ue)|0;var to=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(to>>>26)|0,to&=67108863,d=Math.imul(f,_e),o=Math.imul(f,ve),o=o+Math.imul(Z,_e)|0,b=Math.imul(Z,ve),d=d+Math.imul(U,ye)|0,o=o+Math.imul(U,Ze)|0,o=o+Math.imul(a,ye)|0,b=b+Math.imul(a,Ze)|0,d=d+Math.imul(Je,Me)|0,o=o+Math.imul(Je,Ue)|0,o=o+Math.imul(Se,Me)|0,b=b+Math.imul(Se,Ue)|0;var fo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(fo>>>26)|0,fo&=67108863,d=Math.imul(f,ye),o=Math.imul(f,Ze),o=o+Math.imul(Z,ye)|0,b=Math.imul(Z,Ze),d=d+Math.imul(U,Me)|0,o=o+Math.imul(U,Ue)|0,o=o+Math.imul(a,Me)|0,b=b+Math.imul(a,Ue)|0;var io=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(io>>>26)|0,io&=67108863,d=Math.imul(f,Me),o=Math.imul(f,Ue),o=o+Math.imul(Z,Me)|0,b=Math.imul(Z,Ue);var ro=(k+d|0)+((o&8191)<<13)|0;return k=(b+(o>>>13)|0)+(ro>>>26)|0,ro&=67108863,h[0]=ze,h[1]=Ke,h[2]=Ee,h[3]=De,h[4]=Ge,h[5]=Ce,h[6]=He,h[7]=Be,h[8]=Ye,h[9]=lo,h[10]=Ae,h[11]=ao,h[12]=no,h[13]=oo,h[14]=uo,h[15]=to,h[16]=fo,h[17]=io,h[18]=ro,k!==0&&(h[19]=k,c.length++),c};Math.imul||(X=q);function j(e,n,c){c.negative=n.negative^e.negative,c.length=e.length+n.length;for(var s=0,t=0,h=0;h<c.length-1;h++){var k=t;t=0;for(var d=s&67108863,o=Math.min(h,n.length-1),b=Math.max(0,h-e.length+1);b<=o;b++){var W=h-b,O=e.words[W]|0,P=n.words[b]|0,pe=O*P,Ne=pe&67108863;k=k+(pe/67108864|0)|0,Ne=Ne+d|0,d=Ne&67108863,k=k+(Ne>>>26)|0,t+=k>>>26,k&=67108863}c.words[h]=d,s=k,k=t}return s!==0?c.words[h]=s:c.length--,c.strip()}function I(e,n,c){var s=new S;return s.mulp(e,n,c)}u.prototype.mulTo=function(e,n){var c,s=this.length+e.length;return this.length===10&&e.length===10?c=X(this,e,n):s<63?c=q(this,e,n):s<1024?c=j(this,e,n):c=I(this,e,n),c};function S(e,n){this.x=e,this.y=n}S.prototype.makeRBT=function(e){for(var n=new Array(e),c=u.prototype._countBits(e)-1,s=0;s<e;s++)n[s]=this.revBin(s,c,e);return n},S.prototype.revBin=function(e,n,c){if(e===0||e===c-1)return e;for(var s=0,t=0;t<n;t++)s|=(e&1)<<n-t-1,e>>=1;return s},S.prototype.permute=function(e,n,c,s,t,h){for(var k=0;k<h;k++)s[k]=n[e[k]],t[k]=c[e[k]]},S.prototype.transform=function(e,n,c,s,t,h){this.permute(h,e,n,c,s,t);for(var k=1;k<t;k<<=1)for(var d=k<<1,o=Math.cos(2*Math.PI/d),b=Math.sin(2*Math.PI/d),W=0;W<t;W+=d)for(var O=o,P=b,pe=0;pe<k;pe++){var Ne=c[W+pe],xe=s[W+pe],te=c[W+pe+k],ie=s[W+pe+k],he=O*te-P*ie;ie=O*ie+P*te,te=he,c[W+pe]=Ne+te,s[W+pe]=xe+ie,c[W+pe+k]=Ne-te,s[W+pe+k]=xe-ie,pe!==d&&(he=o*O-b*P,P=o*P+b*O,O=he)}},S.prototype.guessLen13b=function(e,n){var c=Math.max(n,e)|1,s=c&1,t=0;for(c=c/2|0;c;c=c>>>1)t++;return 1<<t+1+s},S.prototype.conjugate=function(e,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var t=e[s];e[s]=e[c-s-1],e[c-s-1]=t,t=n[s],n[s]=-n[c-s-1],n[c-s-1]=-t}},S.prototype.normalize13b=function(e,n){for(var c=0,s=0;s<n/2;s++){var t=Math.round(e[2*s+1]/n)*8192+Math.round(e[2*s]/n)+c;e[s]=t&67108863,t<67108864?c=0:c=t/67108864|0}return e},S.prototype.convert13b=function(e,n,c,s){for(var t=0,h=0;h<n;h++)t=t+(e[h]|0),c[2*h]=t&8191,t=t>>>13,c[2*h+1]=t&8191,t=t>>>13;for(h=2*n;h<s;++h)c[h]=0;p(t===0),p((t&-8192)===0)},S.prototype.stub=function(e){for(var n=new Array(e),c=0;c<e;c++)n[c]=0;return n},S.prototype.mulp=function(e,n,c){var s=2*this.guessLen13b(e.length,n.length),t=this.makeRBT(s),h=this.stub(s),k=new Array(s),d=new Array(s),o=new Array(s),b=new Array(s),W=new Array(s),O=new Array(s),P=c.words;P.length=s,this.convert13b(e.words,e.length,k,s),this.convert13b(n.words,n.length,b,s),this.transform(k,h,d,o,s,t),this.transform(b,h,W,O,s,t);for(var pe=0;pe<s;pe++){var Ne=d[pe]*W[pe]-o[pe]*O[pe];o[pe]=d[pe]*O[pe]+o[pe]*W[pe],d[pe]=Ne}return this.conjugate(d,o,s),this.transform(d,o,P,h,s,t),this.conjugate(P,h,s),this.normalize13b(P,s),c.negative=e.negative^n.negative,c.length=e.length+n.length,c.strip()},u.prototype.mul=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),this.mulTo(e,n)},u.prototype.mulf=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),I(this,e,n)},u.prototype.imul=function(e){return this.clone().mulTo(e,this)},u.prototype.imuln=function(e){p(typeof e=="number"),p(e<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*e,t=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=t>>>26,this.words[c]=t&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(e){return this.clone().imuln(e)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(e){var n=T(e);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var t=c.sqr();s<n.length;s++,t=t.sqr())n[s]!==0&&(c=c.mul(t));return c},u.prototype.iushln=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=67108863>>>26-n<<26-n,t;if(n!==0){var h=0;for(t=0;t<this.length;t++){var k=this.words[t]&s,d=(this.words[t]|0)-k<<n;this.words[t]=d|h,h=k>>>26-n}h&&(this.words[t]=h,this.length++)}if(c!==0){for(t=this.length-1;t>=0;t--)this.words[t+c]=this.words[t];for(t=0;t<c;t++)this.words[t]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(e){return p(this.negative===0),this.iushln(e)},u.prototype.iushrn=function(e,n,c){p(typeof e=="number"&&e>=0);var s;n?s=(n-n%26)/26:s=0;var t=e%26,h=Math.min((e-t)/26,this.length),k=67108863^67108863>>>t<<t,d=c;if(s-=h,s=Math.max(0,s),d){for(var o=0;o<h;o++)d.words[o]=this.words[o];d.length=h}if(h!==0)if(this.length>h)for(this.length-=h,o=0;o<this.length;o++)this.words[o]=this.words[o+h];else this.words[0]=0,this.length=1;var b=0;for(o=this.length-1;o>=0&&(b!==0||o>=s);o--){var W=this.words[o]|0;this.words[o]=b<<26-t|W>>>t,b=W&k}return d&&b!==0&&(d.words[d.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(e,n,c){return p(this.negative===0),this.iushrn(e,n,c)},u.prototype.shln=function(e){return this.clone().ishln(e)},u.prototype.ushln=function(e){return this.clone().iushln(e)},u.prototype.shrn=function(e){return this.clone().ishrn(e)},u.prototype.ushrn=function(e){return this.clone().iushrn(e)},u.prototype.testn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return!1;var t=this.words[c];return!!(t&s)},u.prototype.imaskn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26;if(p(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(e){return this.clone().imaskn(e)},u.prototype.iaddn=function(e){return p(typeof e=="number"),p(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},u.prototype._iaddn=function(e){this.words[0]+=e;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(e){if(p(typeof e=="number"),p(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(e){return this.clone().iaddn(e)},u.prototype.subn=function(e){return this.clone().isubn(e)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(e,n,c){var s=e.length+c,t;this._expand(s);var h,k=0;for(t=0;t<e.length;t++){h=(this.words[t+c]|0)+k;var d=(e.words[t]|0)*n;h-=d&67108863,k=(h>>26)-(d/67108864|0),this.words[t+c]=h&67108863}for(;t<this.length-c;t++)h=(this.words[t+c]|0)+k,k=h>>26,this.words[t+c]=h&67108863;if(k===0)return this.strip();for(p(k===-1),k=0,t=0;t<this.length;t++)h=-(this.words[t]|0)+k,k=h>>26,this.words[t]=h&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(e,n){var c=this.length-e.length,s=this.clone(),t=e,h=t.words[t.length-1]|0,k=this._countBits(h);c=26-k,c!==0&&(t=t.ushln(c),s.iushln(c),h=t.words[t.length-1]|0);var d=s.length-t.length,o;if(n!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var b=0;b<o.length;b++)o.words[b]=0}var W=s.clone()._ishlnsubmul(t,1,d);W.negative===0&&(s=W,o&&(o.words[d]=1));for(var O=d-1;O>=0;O--){var P=(s.words[t.length+O]|0)*67108864+(s.words[t.length+O-1]|0);for(P=Math.min(P/h|0,67108863),s._ishlnsubmul(t,P,O);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(t,1,O),s.isZero()||(s.negative^=1);o&&(o.words[O]=P)}return o&&o.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:o||null,mod:s}},u.prototype.divmod=function(e,n,c){if(p(!e.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,t,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,n),n!=="mod"&&(s=h.div.neg()),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.iadd(e)),{div:s,mod:t}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),n),n!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),n),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.isub(e)),{div:h.div,mod:t}):e.length>this.length||this.cmp(e)<0?{div:new u(0),mod:this}:e.length===1?n==="div"?{div:this.divn(e.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new u(this.modn(e.words[0]))}:this._wordDiv(e,n)},u.prototype.div=function(e){return this.divmod(e,"div",!1).div},u.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},u.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},u.prototype.divRound=function(e){var n=this.divmod(e);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(e):n.mod,s=e.ushrn(1),t=e.andln(1),h=c.cmp(s);return h<0||t===1&&h===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(e){p(e<=67108863);for(var n=67108864%e,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%e;return c},u.prototype.idivn=function(e){p(e<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/e|0,n=s%e}return this.strip()},u.prototype.divn=function(e){return this.clone().idivn(e)},u.prototype.egcd=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=new u(0),k=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var o=c.clone(),b=n.clone();!n.isZero();){for(var W=0,O=1;(n.words[0]&O)===0&&W<26;++W,O<<=1);if(W>0)for(n.iushrn(W);W-- >0;)(s.isOdd()||t.isOdd())&&(s.iadd(o),t.isub(b)),s.iushrn(1),t.iushrn(1);for(var P=0,pe=1;(c.words[0]&pe)===0&&P<26;++P,pe<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(h.isOdd()||k.isOdd())&&(h.iadd(o),k.isub(b)),h.iushrn(1),k.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(h),t.isub(k)):(c.isub(n),h.isub(s),k.isub(t))}return{a:h,b:k,gcd:c.iushln(d)}},u.prototype._invmp=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var k=0,d=1;(n.words[0]&d)===0&&k<26;++k,d<<=1);if(k>0)for(n.iushrn(k);k-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var o=0,b=1;(c.words[0]&b)===0&&o<26;++o,b<<=1);if(o>0)for(c.iushrn(o);o-- >0;)t.isOdd()&&t.iadd(h),t.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(t)):(c.isub(n),t.isub(s))}var W;return n.cmpn(1)===0?W=s:W=t,W.cmpn(0)<0&&W.iadd(e),W},u.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var n=this.clone(),c=e.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var t=n.cmp(c);if(t<0){var h=n;n=c,c=h}else if(t===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(e){return this.egcd(e).a.umod(e)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(e){return this.words[0]&e},u.prototype.bincn=function(e){p(typeof e=="number");var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var t=s,h=c;t!==0&&h<this.length;h++){var k=this.words[h]|0;k+=t,t=k>>>26,k&=67108863,this.words[h]=k}return t!==0&&(this.words[h]=t,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(e){var n=e<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(e=-e),p(e<=67108863,"Number is too big");var s=this.words[0]|0;c=s===e?0:s<e?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var n=this.ucmp(e);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,t=e.words[c]|0;if(s!==t){s<t?n=-1:s>t&&(n=1);break}}return n},u.prototype.gtn=function(e){return this.cmpn(e)===1},u.prototype.gt=function(e){return this.cmp(e)===1},u.prototype.gten=function(e){return this.cmpn(e)>=0},u.prototype.gte=function(e){return this.cmp(e)>=0},u.prototype.ltn=function(e){return this.cmpn(e)===-1},u.prototype.lt=function(e){return this.cmp(e)===-1},u.prototype.lten=function(e){return this.cmpn(e)<=0},u.prototype.lte=function(e){return this.cmp(e)<=0},u.prototype.eqn=function(e){return this.cmpn(e)===0},u.prototype.eq=function(e){return this.cmp(e)===0},u.red=function(e){return new ue(e)},u.prototype.toRed=function(e){return p(!this.red,"Already a number in reduction context"),p(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},u.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(e){return this.red=e,this},u.prototype.forceRed=function(e){return p(!this.red,"Already a number in reduction context"),this._forceRed(e)},u.prototype.redAdd=function(e){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},u.prototype.redIAdd=function(e){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},u.prototype.redSub=function(e){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},u.prototype.redISub=function(e){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},u.prototype.redShl=function(e){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},u.prototype.redMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},u.prototype.redIMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},u.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(e){return p(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};function D(e,n){this.name=e,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var e=new u(null);return e.words=new Array(Math.ceil(this.n/13)),e},D.prototype.ireduce=function(e){var n=e,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(e,n){e.iushrn(this.n,0,n)},D.prototype.imulK=function(e){return e.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(e,n){for(var c=4194303,s=Math.min(e.length,9),t=0;t<s;t++)n.words[t]=e.words[t];if(n.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(n.words[n.length++]=h&c,t=10;t<e.length;t++){var k=e.words[t]|0;e.words[t-10]=(k&c)<<4|h>>>22,h=k}h>>>=22,e.words[t-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var n=0,c=0;c<e.length;c++){var s=e.words[c]|0;n+=s*977,e.words[c]=n&67108863,n=s*64+(n/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function ce(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(ce,D);function be(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(be,D);function qe(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(qe,D),qe.prototype.imulK=function(e){for(var n=0,c=0;c<e.length;c++){var s=(e.words[c]|0)*19+n,t=s&67108863;s>>>=26,e.words[c]=t,n=s}return n!==0&&(e.words[e.length++]=n),e},u._prime=function(e){if(E[e])return E[e];var n;if(e==="k256")n=new C;else if(e==="p224")n=new ce;else if(e==="p192")n=new be;else if(e==="p25519")n=new qe;else throw new Error("Unknown prime "+e);return E[e]=n,n};function ue(e){if(typeof e=="string"){var n=u._prime(e);this.m=n.p,this.prime=n}else p(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}ue.prototype._verify1=function(e){p(e.negative===0,"red works only with positives"),p(e.red,"red works only with red numbers")},ue.prototype._verify2=function(e,n){p((e.negative|n.negative)===0,"red works only with positives"),p(e.red&&e.red===n.red,"red works only with red numbers")},ue.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},ue.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},ue.prototype.add=function(e,n){this._verify2(e,n);var c=e.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ue.prototype.iadd=function(e,n){this._verify2(e,n);var c=e.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},ue.prototype.sub=function(e,n){this._verify2(e,n);var c=e.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ue.prototype.isub=function(e,n){this._verify2(e,n);var c=e.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},ue.prototype.shl=function(e,n){return this._verify1(e),this.imod(e.ushln(n))},ue.prototype.imul=function(e,n){return this._verify2(e,n),this.imod(e.imul(n))},ue.prototype.mul=function(e,n){return this._verify2(e,n),this.imod(e.mul(n))},ue.prototype.isqr=function(e){return this.imul(e,e.clone())},ue.prototype.sqr=function(e){return this.mul(e,e)},ue.prototype.sqrt=function(e){if(e.isZero())return e.clone();var n=this.m.andln(3);if(p(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(e,c)}for(var s=this.m.subn(1),t=0;!s.isZero()&&s.andln(1)===0;)t++,s.iushrn(1);p(!s.isZero());var h=new u(1).toRed(this),k=h.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(k)!==0;)o.redIAdd(k);for(var b=this.pow(o,s),W=this.pow(e,s.addn(1).iushrn(1)),O=this.pow(e,s),P=t;O.cmp(h)!==0;){for(var pe=O,Ne=0;pe.cmp(h)!==0;Ne++)pe=pe.redSqr();p(Ne<P);var xe=this.pow(b,new u(1).iushln(P-Ne-1));W=W.redMul(xe),b=xe.redSqr(),O=O.redMul(b),P=Ne}return W},ue.prototype.invm=function(e){var n=e._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},ue.prototype.pow=function(e,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return e.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=e;for(var t=2;t<s.length;t++)s[t]=this.mul(s[t-1],e);var h=s[0],k=0,d=0,o=n.bitLength()%26;for(o===0&&(o=26),t=n.length-1;t>=0;t--){for(var b=n.words[t],W=o-1;W>=0;W--){var O=b>>W&1;if(h!==s[0]&&(h=this.sqr(h)),O===0&&k===0){d=0;continue}k<<=1,k|=O,d++,!(d!==c&&(t!==0||W!==0))&&(h=this.mul(h,s[k]),d=0,k=0)}o=26}return h},ue.prototype.convertTo=function(e){var n=e.umod(this.m);return n===e?n.clone():n},ue.prototype.convertFrom=function(e){var n=e.clone();return n.red=null,n},u.mont=function(e){return new $e(e)};function $e(e){ue.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x($e,ue),$e.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},$e.prototype.convertFrom=function(e){var n=this.imod(e.mul(this.rinv));return n.red=null,n},$e.prototype.imul=function(e,n){if(e.isZero()||n.isZero())return e.words[0]=0,e.length=1,e;var c=e.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.mul=function(e,n){if(e.isZero()||n.isZero())return new u(0)._forceRed(this);var c=e.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.invm=function(e){var n=this.imod(e._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof m>"u"||m,l)}),As=je((l,m)=>{var r=Xo(),N=r.Buffer,p={},x;for(x in r)!r.hasOwnProperty(x)||x==="SlowBuffer"||x==="Buffer"||(p[x]=r[x]);var u=p.Buffer={};for(x in N)!N.hasOwnProperty(x)||x==="allocUnsafe"||x==="allocUnsafeSlow"||(u[x]=N[x]);if(p.Buffer.prototype=N.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(_,L,y){if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof _);if(_&&typeof _.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);return N(_,L,y)}),u.alloc||(u.alloc=function(_,L,y){if(typeof _!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof _);if(_<0||_>=2147483648)throw new RangeError('The value "'+_+'" is invalid for option "size"');var R=N(_);return!L||L.length===0?R.fill(0):typeof y=="string"?R.fill(L,y):R.fill(L),R}),!p.kStringMaxLength)try{p.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}p.constants||(p.constants={MAX_LENGTH:p.kMaxLength},p.kStringMaxLength&&(p.constants.MAX_STRING_LENGTH=p.kStringMaxLength)),m.exports=p}),el=je((l)=>{var m=mo();function r(p){this._reporterState={obj:null,path:[],options:p||{},errors:[]}}l.Reporter=r,r.prototype.isError=function(p){return p instanceof N},r.prototype.save=function(){let p=this._reporterState;return{obj:p.obj,pathLen:p.path.length}},r.prototype.restore=function(p){let x=this._reporterState;x.obj=p.obj,x.path=x.path.slice(0,p.pathLen)},r.prototype.enterKey=function(p){return this._reporterState.path.push(p)},r.prototype.exitKey=function(p){let x=this._reporterState;x.path=x.path.slice(0,p-1)},r.prototype.leaveKey=function(p,x,u){let _=this._reporterState;this.exitKey(p),_.obj!==null&&(_.obj[x]=u)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){let p=this._reporterState,x=p.obj;return p.obj={},x},r.prototype.leaveObject=function(p){let x=this._reporterState,u=x.obj;return x.obj=p,u},r.prototype.error=function(p){let x,u=this._reporterState,_=p instanceof N;if(_?x=p:x=new N(u.path.map(function(L){return"["+JSON.stringify(L)+"]"}).join(""),p.message||p,p.stack),!u.options.partial)throw x;return _||u.errors.push(x),x},r.prototype.wrapResult=function(p){let x=this._reporterState;return x.options.partial?{result:this.isError(p)?null:p,errors:x.errors}:p};function N(p,x){this.path=p,this.rethrow(x)}m(N,Error),N.prototype.rethrow=function(p){if(this.message=p+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,N),!this.stack)try{throw new Error(this.message)}catch(x){this.stack=x.stack}return this}}),_n=je((l)=>{var m=mo(),r=el().Reporter,N=As().Buffer;function p(u,_){if(r.call(this,_),!N.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}m(p,r),l.DecoderBuffer=p,p.isDecoderBuffer=function(u){return u instanceof p?!0:typeof u=="object"&&N.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},p.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},p.prototype.restore=function(u){let _=new p(this.base);return _.offset=u.offset,_.length=this.offset,this.offset=u.offset,r.prototype.restore.call(this,u.reporter),_},p.prototype.isEmpty=function(){return this.offset===this.length},p.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},p.prototype.skip=function(u,_){if(!(this.offset+u<=this.length))return this.error(_||"DecoderBuffer overrun");let L=new p(this.base);return L._reporterState=this._reporterState,L.offset=this.offset,L.length=this.offset+u,this.offset+=u,L},p.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)};function x(u,_){if(Array.isArray(u))this.length=0,this.value=u.map(function(L){return x.isEncoderBuffer(L)||(L=new x(L,_)),this.length+=L.length,L},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return _.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=N.byteLength(u);else if(N.isBuffer(u))this.value=u,this.length=u.length;else return _.error("Unsupported type: "+typeof u)}l.EncoderBuffer=x,x.isEncoderBuffer=function(u){return u instanceof x?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},x.prototype.join=function(u,_){return u||(u=N.alloc(this.length)),_||(_=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(L){L.join(u,_),_+=L.length}):(typeof this.value=="number"?u[_]=this.value:typeof this.value=="string"?u.write(this.value,_):N.isBuffer(this.value)&&this.value.copy(u,_),_+=this.length)),u}}),ol=je((l,m)=>{var r=el().Reporter,N=_n().EncoderBuffer,p=_n().DecoderBuffer,x=Po(),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],_=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),L=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function y(v,$,M){let T={};this._baseState=T,T.name=M,T.enc=v,T.parent=$||null,T.children=null,T.tag=null,T.args=null,T.reverseArgs=null,T.choice=null,T.optional=!1,T.any=!1,T.obj=!1,T.use=null,T.useDecoder=null,T.key=null,T.default=null,T.explicit=null,T.implicit=null,T.contains=null,T.parent||(T.children=[],this._wrap())}m.exports=y;var R=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];y.prototype.clone=function(){let v=this._baseState,$={};R.forEach(function(T){$[T]=v[T]});let M=new this.constructor($.parent);return M._baseState=$,M},y.prototype._wrap=function(){let v=this._baseState;_.forEach(function($){this[$]=function(){let M=new this.constructor(this);return v.children.push(M),M[$].apply(M,arguments)}},this)},y.prototype._init=function(v){let $=this._baseState;x($.parent===null),v.call(this),$.children=$.children.filter(function(M){return M._baseState.parent===this},this),x.equal($.children.length,1,"Root node can have only one child")},y.prototype._useArgs=function(v){let $=this._baseState,M=v.filter(function(T){return T instanceof this.constructor},this);v=v.filter(function(T){return!(T instanceof this.constructor)},this),M.length!==0&&(x($.children===null),$.children=M,M.forEach(function(T){T._baseState.parent=this},this)),v.length!==0&&(x($.args===null),$.args=v,$.reverseArgs=v.map(function(T){if(typeof T!="object"||T.constructor!==Object)return T;let q={};return Object.keys(T).forEach(function(X){X==(X|0)&&(X|=0);let j=T[X];q[j]=X}),q}))},L.forEach(function(v){y.prototype[v]=function(){let $=this._baseState;throw new Error(v+" not implemented for encoding: "+$.enc)}}),u.forEach(function(v){y.prototype[v]=function(){let $=this._baseState,M=Array.prototype.slice.call(arguments);return x($.tag===null),$.tag=v,this._useArgs(M),this}}),y.prototype.use=function(v){x(v);let $=this._baseState;return x($.use===null),$.use=v,this},y.prototype.optional=function(){let v=this._baseState;return v.optional=!0,this},y.prototype.def=function(v){let $=this._baseState;return x($.default===null),$.default=v,$.optional=!0,this},y.prototype.explicit=function(v){let $=this._baseState;return x($.explicit===null&&$.implicit===null),$.explicit=v,this},y.prototype.implicit=function(v){let $=this._baseState;return x($.explicit===null&&$.implicit===null),$.implicit=v,this},y.prototype.obj=function(){let v=this._baseState,$=Array.prototype.slice.call(arguments);return v.obj=!0,$.length!==0&&this._useArgs($),this},y.prototype.key=function(v){let $=this._baseState;return x($.key===null),$.key=v,this},y.prototype.any=function(){let v=this._baseState;return v.any=!0,this},y.prototype.choice=function(v){let $=this._baseState;return x($.choice===null),$.choice=v,this._useArgs(Object.keys(v).map(function(M){return v[M]})),this},y.prototype.contains=function(v){let $=this._baseState;return x($.use===null),$.contains=v,this},y.prototype._decode=function(v,$){let M=this._baseState;if(M.parent===null)return v.wrapResult(M.children[0]._decode(v,$));let T=M.default,q=!0,X=null;if(M.key!==null&&(X=v.enterKey(M.key)),M.optional){let I=null;if(M.explicit!==null?I=M.explicit:M.implicit!==null?I=M.implicit:M.tag!==null&&(I=M.tag),I===null&&!M.any){let S=v.save();try{M.choice===null?this._decodeGeneric(M.tag,v,$):this._decodeChoice(v,$),q=!0}catch{q=!1}v.restore(S)}else if(q=this._peekTag(v,I,M.any),v.isError(q))return q}let j;if(M.obj&&q&&(j=v.enterObject()),q){if(M.explicit!==null){let S=this._decodeTag(v,M.explicit);if(v.isError(S))return S;v=S}let I=v.offset;if(M.use===null&&M.choice===null){let S;M.any&&(S=v.save());let E=this._decodeTag(v,M.implicit!==null?M.implicit:M.tag,M.any);if(v.isError(E))return E;M.any?T=v.raw(S):v=E}if($&&$.track&&M.tag!==null&&$.track(v.path(),I,v.length,"tagged"),$&&$.track&&M.tag!==null&&$.track(v.path(),v.offset,v.length,"content"),M.any||(M.choice===null?T=this._decodeGeneric(M.tag,v,$):T=this._decodeChoice(v,$)),v.isError(T))return T;if(!M.any&&M.choice===null&&M.children!==null&&M.children.forEach(function(S){S._decode(v,$)}),M.contains&&(M.tag==="octstr"||M.tag==="bitstr")){let S=new p(T);T=this._getUse(M.contains,v._reporterState.obj)._decode(S,$)}}return M.obj&&q&&(T=v.leaveObject(j)),M.key!==null&&(T!==null||q===!0)?v.leaveKey(X,M.key,T):X!==null&&v.exitKey(X),T},y.prototype._decodeGeneric=function(v,$,M){let T=this._baseState;return v==="seq"||v==="set"?null:v==="seqof"||v==="setof"?this._decodeList($,v,T.args[0],M):/str$/.test(v)?this._decodeStr($,v,M):v==="objid"&&T.args?this._decodeObjid($,T.args[0],T.args[1],M):v==="objid"?this._decodeObjid($,null,null,M):v==="gentime"||v==="utctime"?this._decodeTime($,v,M):v==="null_"?this._decodeNull($,M):v==="bool"?this._decodeBool($,M):v==="objDesc"?this._decodeStr($,v,M):v==="int"||v==="enum"?this._decodeInt($,T.args&&T.args[0],M):T.use!==null?this._getUse(T.use,$._reporterState.obj)._decode($,M):$.error("unknown tag: "+v)},y.prototype._getUse=function(v,$){let M=this._baseState;return M.useDecoder=this._use(v,$),x(M.useDecoder._baseState.parent===null),M.useDecoder=M.useDecoder._baseState.children[0],M.implicit!==M.useDecoder._baseState.implicit&&(M.useDecoder=M.useDecoder.clone(),M.useDecoder._baseState.implicit=M.implicit),M.useDecoder},y.prototype._decodeChoice=function(v,$){let M=this._baseState,T=null,q=!1;return Object.keys(M.choice).some(function(X){let j=v.save(),I=M.choice[X];try{let S=I._decode(v,$);if(v.isError(S))return!1;T={type:X,value:S},q=!0}catch{return v.restore(j),!1}return!0},this),q?T:v.error("Choice not matched")},y.prototype._createEncoderBuffer=function(v){return new N(v,this.reporter)},y.prototype._encode=function(v,$,M){let T=this._baseState;if(T.default!==null&&T.default===v)return;let q=this._encodeValue(v,$,M);if(q!==void 0&&!this._skipDefault(q,$,M))return q},y.prototype._encodeValue=function(v,$,M){let T=this._baseState;if(T.parent===null)return T.children[0]._encode(v,$||new r);let q=null;if(this.reporter=$,T.optional&&v===void 0)if(T.default!==null)v=T.default;else return;let X=null,j=!1;if(T.any)q=this._createEncoderBuffer(v);else if(T.choice)q=this._encodeChoice(v,$);else if(T.contains)X=this._getUse(T.contains,M)._encode(v,$),j=!0;else if(T.children)X=T.children.map(function(I){if(I._baseState.tag==="null_")return I._encode(null,$,v);if(I._baseState.key===null)return $.error("Child should have a key");let S=$.enterKey(I._baseState.key);if(typeof v!="object")return $.error("Child expected, but input is not object");let E=I._encode(v[I._baseState.key],$,v);return $.leaveKey(S),E},this).filter(function(I){return I}),X=this._createEncoderBuffer(X);else if(T.tag==="seqof"||T.tag==="setof"){if(!(T.args&&T.args.length===1))return $.error("Too many args for : "+T.tag);if(!Array.isArray(v))return $.error("seqof/setof, but data is not Array");let I=this.clone();I._baseState.implicit=null,X=this._createEncoderBuffer(v.map(function(S){let E=this._baseState;return this._getUse(E.args[0],v)._encode(S,$)},I))}else T.use!==null?q=this._getUse(T.use,M)._encode(v,$):(X=this._encodePrimitive(T.tag,v),j=!0);if(!T.any&&T.choice===null){let I=T.implicit!==null?T.implicit:T.tag,S=T.implicit===null?"universal":"context";I===null?T.use===null&&$.error("Tag could be omitted only for .use()"):T.use===null&&(q=this._encodeComposite(I,j,S,X))}return T.explicit!==null&&(q=this._encodeComposite(T.explicit,!1,"context",q)),q},y.prototype._encodeChoice=function(v,$){let M=this._baseState,T=M.choice[v.type];return T||x(!1,v.type+" not found in "+JSON.stringify(Object.keys(M.choice))),T._encode(v.value,$)},y.prototype._encodePrimitive=function(v,$){let M=this._baseState;if(/str$/.test(v))return this._encodeStr($,v);if(v==="objid"&&M.args)return this._encodeObjid($,M.reverseArgs[0],M.args[1]);if(v==="objid")return this._encodeObjid($,null,null);if(v==="gentime"||v==="utctime")return this._encodeTime($,v);if(v==="null_")return this._encodeNull();if(v==="int"||v==="enum")return this._encodeInt($,M.args&&M.reverseArgs[0]);if(v==="bool")return this._encodeBool($);if(v==="objDesc")return this._encodeStr($,v);throw new Error("Unsupported tag: "+v)},y.prototype._isNumstr=function(v){return/^[0-9 ]*$/.test(v)},y.prototype._isPrintstr=function(v){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(v)}}),al=je((l)=>{function m(r){let N={};return Object.keys(r).forEach(function(p){(p|0)==p&&(p=p|0);let x=r[p];N[x]=p}),N}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=m(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=m(l.tag)}),Lr=je((l,m)=>{var r=mo(),N=As().Buffer,p=ol(),x=al();function u(R){this.enc="der",this.name=R.name,this.entity=R,this.tree=new _,this.tree._init(R.body)}m.exports=u,u.prototype.encode=function(R,v){return this.tree._encode(R,v).join()};function _(R){p.call(this,"der",R)}r(_,p),_.prototype._encodeComposite=function(R,v,$,M){let T=y(R,v,$,this.reporter);if(M.length<128){let j=N.alloc(2);return j[0]=T,j[1]=M.length,this._createEncoderBuffer([j,M])}let q=1;for(let j=M.length;j>=256;j>>=8)q++;let X=N.alloc(2+q);X[0]=T,X[1]=128|q;for(let j=1+q,I=M.length;I>0;j--,I>>=8)X[j]=I&255;return this._createEncoderBuffer([X,M])},_.prototype._encodeStr=function(R,v){if(v==="bitstr")return this._createEncoderBuffer([R.unused|0,R.data]);if(v==="bmpstr"){let $=N.alloc(R.length*2);for(let M=0;M<R.length;M++)$.writeUInt16BE(R.charCodeAt(M),M*2);return this._createEncoderBuffer($)}else return v==="numstr"?this._isNumstr(R)?this._createEncoderBuffer(R):this.reporter.error("Encoding of string type: numstr supports only digits and space"):v==="printstr"?this._isPrintstr(R)?this._createEncoderBuffer(R):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(v)?this._createEncoderBuffer(R):v==="objDesc"?this._createEncoderBuffer(R):this.reporter.error("Encoding of string type: "+v+" unsupported")},_.prototype._encodeObjid=function(R,v,$){if(typeof R=="string"){if(!v)return this.reporter.error("string objid given, but no values map found");if(!v.hasOwnProperty(R))return this.reporter.error("objid not found in values map");R=v[R].split(/[\s.]+/g);for(let X=0;X<R.length;X++)R[X]|=0}else if(Array.isArray(R)){R=R.slice();for(let X=0;X<R.length;X++)R[X]|=0}if(!Array.isArray(R))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(R));if(!$){if(R[1]>=40)return this.reporter.error("Second objid identifier OOB");R.splice(0,2,R[0]*40+R[1])}let M=0;for(let X=0;X<R.length;X++){let j=R[X];for(M++;j>=128;j>>=7)M++}let T=N.alloc(M),q=T.length-1;for(let X=R.length-1;X>=0;X--){let j=R[X];for(T[q--]=j&127;(j>>=7)>0;)T[q--]=128|j&127}return this._createEncoderBuffer(T)};function L(R){return R<10?"0"+R:R}_.prototype._encodeTime=function(R,v){let $,M=new Date(R);return v==="gentime"?$=[L(M.getUTCFullYear()),L(M.getUTCMonth()+1),L(M.getUTCDate()),L(M.getUTCHours()),L(M.getUTCMinutes()),L(M.getUTCSeconds()),"Z"].join(""):v==="utctime"?$=[L(M.getUTCFullYear()%100),L(M.getUTCMonth()+1),L(M.getUTCDate()),L(M.getUTCHours()),L(M.getUTCMinutes()),L(M.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+v+" time is not supported yet"),this._encodeStr($,"octstr")},_.prototype._encodeNull=function(){return this._createEncoderBuffer("")},_.prototype._encodeInt=function(R,v){if(typeof R=="string"){if(!v)return this.reporter.error("String int or enum given, but no values map");if(!v.hasOwnProperty(R))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(R));R=v[R]}if(typeof R!="number"&&!N.isBuffer(R)){let T=R.toArray();!R.sign&&T[0]&128&&T.unshift(0),R=N.from(T)}if(N.isBuffer(R)){let T=R.length;R.length===0&&T++;let q=N.alloc(T);return R.copy(q),R.length===0&&(q[0]=0),this._createEncoderBuffer(q)}if(R<128)return this._createEncoderBuffer(R);if(R<256)return this._createEncoderBuffer([0,R]);let $=1;for(let T=R;T>=256;T>>=8)$++;let M=new Array($);for(let T=M.length-1;T>=0;T--)M[T]=R&255,R>>=8;return M[0]&128&&M.unshift(0),this._createEncoderBuffer(N.from(M))},_.prototype._encodeBool=function(R){return this._createEncoderBuffer(R?255:0)},_.prototype._use=function(R,v){return typeof R=="function"&&(R=R(v)),R._getEncoder("der").tree},_.prototype._skipDefault=function(R,v,$){let M=this._baseState,T;if(M.default===null)return!1;let q=R.join();if(M.defaultBuffer===void 0&&(M.defaultBuffer=this._encodeValue(M.default,v,$).join()),q.length!==M.defaultBuffer.length)return!1;for(T=0;T<q.length;T++)if(q[T]!==M.defaultBuffer[T])return!1;return!0};function y(R,v,$,M){let T;if(R==="seqof"?R="seq":R==="setof"&&(R="set"),x.tagByName.hasOwnProperty(R))T=x.tagByName[R];else if(typeof R=="number"&&(R|0)===R)T=R;else return M.error("Unknown tag: "+R);return T>=31?M.error("Multi-octet tag encoding unsupported"):(v||(T|=32),T|=x.tagClassByName[$||"universal"]<<6,T)}}),hu=je((l,m)=>{var r=mo(),N=Lr();function p(x){N.call(this,x),this.enc="pem"}r(p,N),m.exports=p,p.prototype.encode=function(x,u){let _=N.prototype.encode.call(this,x).toString("base64"),L=["-----BEGIN "+u.label+"-----"];for(let y=0;y<_.length;y+=64)L.push(_.slice(y,y+64));return L.push("-----END "+u.label+"-----"),L.join(`
`)}}),Ur=je((l)=>{var m=l;m.der=Lr(),m.pem=hu()}),Or=je((l,m)=>{var r=mo(),N=Mr(),p=_n().DecoderBuffer,x=ol(),u=al();function _(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new L,this.tree._init(v.body)}m.exports=_,_.prototype.decode=function(v,$){return p.isDecoderBuffer(v)||(v=new p(v,$)),this.tree._decode(v,$)};function L(v){x.call(this,"der",v)}r(L,x),L.prototype._peekTag=function(v,$,M){if(v.isEmpty())return!1;let T=v.save(),q=y(v,'Failed to peek tag: "'+$+'"');return v.isError(q)?q:(v.restore(T),q.tag===$||q.tagStr===$||q.tagStr+"of"===$||M)},L.prototype._decodeTag=function(v,$,M){let T=y(v,'Failed to decode tag of "'+$+'"');if(v.isError(T))return T;let q=R(v,T.primitive,'Failed to get length of "'+$+'"');if(v.isError(q))return q;if(!M&&T.tag!==$&&T.tagStr!==$&&T.tagStr+"of"!==$)return v.error('Failed to match tag: "'+$+'"');if(T.primitive||q!==null)return v.skip(q,'Failed to match body of: "'+$+'"');let X=v.save(),j=this._skipUntilEnd(v,'Failed to skip indefinite length body: "'+this.tag+'"');return v.isError(j)?j:(q=v.offset-X.offset,v.restore(X),v.skip(q,'Failed to match body of: "'+$+'"'))},L.prototype._skipUntilEnd=function(v,$){for(;;){let M=y(v,$);if(v.isError(M))return M;let T=R(v,M.primitive,$);if(v.isError(T))return T;let q;if(M.primitive||T!==null?q=v.skip(T):q=this._skipUntilEnd(v,$),v.isError(q))return q;if(M.tagStr==="end")break}},L.prototype._decodeList=function(v,$,M,T){let q=[];for(;!v.isEmpty();){let X=this._peekTag(v,"end");if(v.isError(X))return X;let j=M.decode(v,"der",T);if(v.isError(j)&&X)break;q.push(j)}return q},L.prototype._decodeStr=function(v,$){if($==="bitstr"){let M=v.readUInt8();return v.isError(M)?M:{unused:M,data:v.raw()}}else if($==="bmpstr"){let M=v.raw();if(M.length%2===1)return v.error("Decoding of string type: bmpstr length mismatch");let T="";for(let q=0;q<M.length/2;q++)T+=String.fromCharCode(M.readUInt16BE(q*2));return T}else if($==="numstr"){let M=v.raw().toString("ascii");return this._isNumstr(M)?M:v.error("Decoding of string type: numstr unsupported characters")}else{if($==="octstr")return v.raw();if($==="objDesc")return v.raw();if($==="printstr"){let M=v.raw().toString("ascii");return this._isPrintstr(M)?M:v.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test($)?v.raw().toString():v.error("Decoding of string type: "+$+" unsupported")}},L.prototype._decodeObjid=function(v,$,M){let T,q=[],X=0,j=0;for(;!v.isEmpty();)j=v.readUInt8(),X<<=7,X|=j&127,(j&128)===0&&(q.push(X),X=0);j&128&&q.push(X);let I=q[0]/40|0,S=q[0]%40;if(M?T=q:T=[I,S].concat(q.slice(1)),$){let E=$[T.join(" ")];E===void 0&&(E=$[T.join(".")]),E!==void 0&&(T=E)}return T},L.prototype._decodeTime=function(v,$){let M=v.raw().toString(),T,q,X,j,I,S;if($==="gentime")T=M.slice(0,4)|0,q=M.slice(4,6)|0,X=M.slice(6,8)|0,j=M.slice(8,10)|0,I=M.slice(10,12)|0,S=M.slice(12,14)|0;else if($==="utctime")T=M.slice(0,2)|0,q=M.slice(2,4)|0,X=M.slice(4,6)|0,j=M.slice(6,8)|0,I=M.slice(8,10)|0,S=M.slice(10,12)|0,T<70?T=2000+T:T=1900+T;else return v.error("Decoding "+$+" time is not supported yet");return Date.UTC(T,q-1,X,j,I,S,0)},L.prototype._decodeNull=function(){return null},L.prototype._decodeBool=function(v){let $=v.readUInt8();return v.isError($)?$:$!==0},L.prototype._decodeInt=function(v,$){let M=v.raw(),T=new N(M);return $&&(T=$[T.toString(10)]||T),T},L.prototype._use=function(v,$){return typeof v=="function"&&(v=v($)),v._getDecoder("der").tree};function y(v,$){let M=v.readUInt8($);if(v.isError(M))return M;let T=u.tagClass[M>>6],q=(M&32)===0;if((M&31)===31){let j=M;for(M=0;(j&128)===128;){if(j=v.readUInt8($),v.isError(j))return j;M<<=7,M|=j&127}}else M&=31;let X=u.tag[M];return{cls:T,primitive:q,tag:M,tagStr:X}}function R(v,$,M){let T=v.readUInt8(M);if(v.isError(T))return T;if(!$&&T===128)return null;if((T&128)===0)return T;let q=T&127;if(q>4)return v.error("length octect is too long");T=0;for(let X=0;X<q;X++){T<<=8;let j=v.readUInt8(M);if(v.isError(j))return j;T|=j}return T}}),_u=je((l,m)=>{var r=mo(),N=As().Buffer,p=Or();function x(u){p.call(this,u),this.enc="pem"}r(x,p),m.exports=x,x.prototype.decode=function(u,_){let L=u.toString().split(/[\r\n]+/g),y=_.label.toUpperCase(),R=/^-----(BEGIN|END) ([^-]+)-----$/,v=-1,$=-1;for(let q=0;q<L.length;q++){let X=L[q].match(R);if(X!==null&&X[2]===y)if(v===-1){if(X[1]!=="BEGIN")break;v=q}else{if(X[1]!=="END")break;$=q;break}}if(v===-1||$===-1)throw new Error("PEM section not found for: "+y);let M=L.slice(v+1,$).join("");M.replace(/[^a-z0-9+/=]+/gi,"");let T=N.from(M,"base64");return p.prototype.decode.call(this,T,_)}}),gr=je((l)=>{var m=l;m.der=Or(),m.pem=_u()}),ku=je((l)=>{var m=Ur(),r=gr(),N=mo(),p=l;p.define=function(u,_){return new x(u,_)};function x(u,_){this.name=u,this.body=_,this.decoders={},this.encoders={}}x.prototype._createNamed=function(u){let _=this.name;function L(y){this._initNamed(y,_)}return N(L,u),L.prototype._initNamed=function(y,R){u.call(this,y,R)},new L(this)},x.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(r[u])),this.decoders[u]},x.prototype.decode=function(u,_,L){return this._getDecoder(_).decode(u,L)},x.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(m[u])),this.encoders[u]},x.prototype.encode=function(u,_,L){return this._getEncoder(_).encode(u,L)}}),Nu=je((l)=>{var m=l;m.Reporter=el().Reporter,m.DecoderBuffer=_n().DecoderBuffer,m.EncoderBuffer=_n().EncoderBuffer,m.Node=ol()}),Zu=je((l)=>{var m=l;m._reverse=function(r){let N={};return Object.keys(r).forEach(function(p){(p|0)==p&&(p=p|0);let x=r[p];N[x]=p}),N},m.der=al()}),Xr=je((l)=>{var m=l;m.bignum=Mr(),m.define=ku().define,m.base=Nu(),m.constants=Zu(),m.decoders=gr(),m.encoders=Ur()}),vu=je((l,m)=>{var r=Xr(),N=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),p=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),x=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(x),this.key("subjectPublicKey").bitstr())}),_=r.define("RelativeDistinguishedName",function(){this.setof(p)}),L=r.define("RDNSequence",function(){this.seqof(_)}),y=r.define("Name",function(){this.choice({rdnSequence:this.use(L)})}),R=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(N),this.key("notAfter").use(N))}),v=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),$=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(x),this.key("issuer").use(y),this.key("validity").use(R),this.key("subject").use(y),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(v).optional())}),M=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use($),this.key("signatureAlgorithm").use(x),this.key("signatureValue").bitstr())});m.exports=M}),yu=je((l)=>{var m=Xr();l.certificate=vu();var r=m.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});l.RSAPrivateKey=r;var N=m.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});l.RSAPublicKey=N;var p=m.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(x),this.key("subjectPublicKey").bitstr())});l.PublicKey=p;var x=m.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=m.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(x),this.key("subjectPrivateKey").octstr())});l.PrivateKey=u;var _=m.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});l.EncryptedPrivateKey=_;var L=m.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});l.DSAPrivateKey=L,l.DSAparam=m.define("DSAparam",function(){this.int()});var y=m.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(R),this.key("publicKey").optional().explicit(1).bitstr())});l.ECPrivateKey=y;var R=m.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});l.signature=m.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),Ru=je((l,m)=>{m.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),xu=je((l,m)=>{var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,N=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,p=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,x=Dn(),u=Ps(),_=ho().Buffer;m.exports=function(L,y){var R=L.toString(),v=R.match(r),$;if(v){var M="aes"+v[1],T=_.from(v[2],"hex"),q=_.from(v[3].replace(/[\r\n]/g,""),"base64"),X=x(y,T.slice(0,8),parseInt(v[1],10)).key,j=[],I=u.createDecipheriv(M,X,T);j.push(I.update(q)),j.push(I.final()),$=_.concat(j)}else{var S=R.match(p);$=_.from(S[2].replace(/[\r\n]/g,""),"base64")}var E=R.match(N)[1];return{tag:E,data:$}}}),Cn=je((l,m)=>{var r=yu(),N=Ru(),p=xu(),x=Ps(),u=ir(),_=ho().Buffer;m.exports=L;function L(R){var v;typeof R=="object"&&!_.isBuffer(R)&&(v=R.passphrase,R=R.key),typeof R=="string"&&(R=_.from(R));var $=p(R,v),M=$.tag,T=$.data,q,X;switch(M){case"CERTIFICATE":X=r.certificate.decode(T,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(X||(X=r.PublicKey.decode(T,"der")),q=X.algorithm.algorithm.join("."),q){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(X.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return X.subjectPrivateKey=X.subjectPublicKey,{type:"ec",data:X};case"1.2.840.10040.4.1":return X.algorithm.params.pub_key=r.DSAparam.decode(X.subjectPublicKey.data,"der"),{type:"dsa",data:X.algorithm.params};default:throw new Error("unknown key id "+q)}case"ENCRYPTED PRIVATE KEY":T=r.EncryptedPrivateKey.decode(T,"der"),T=y(T,v);case"PRIVATE KEY":switch(X=r.PrivateKey.decode(T,"der"),q=X.algorithm.algorithm.join("."),q){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(X.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:X.algorithm.curve,privateKey:r.ECPrivateKey.decode(X.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return X.algorithm.params.priv_key=r.DSAparam.decode(X.subjectPrivateKey,"der"),{type:"dsa",params:X.algorithm.params};default:throw new Error("unknown key id "+q)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(T,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(T,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(T,"der")};case"EC PRIVATE KEY":return T=r.ECPrivateKey.decode(T,"der"),{curve:T.parameters.value,privateKey:T.privateKey};default:throw new Error("unknown key type "+M)}}L.signature=r.signature;function y(R,v){var $=R.algorithm.decrypt.kde.kdeparams.salt,M=parseInt(R.algorithm.decrypt.kde.kdeparams.iters.toString(),10),T=N[R.algorithm.decrypt.cipher.algo.join(".")],q=R.algorithm.decrypt.cipher.iv,X=R.subjectPrivateKey,j=parseInt(T.split("-")[1],10)/8,I=u.pbkdf2Sync(v,$,M,j,"sha1"),S=x.createDecipheriv(T,I,q),E=[];return E.push(S.update(X)),E.push(S.final()),_.concat(E)}}),Sr=je((l,m)=>{m.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),qu=je((l,m)=>{var r=ho().Buffer,N=or(),p=Ds(),x=Bs().ec,u=Ys(),_=Cn(),L=Sr();function y(I,S,E,D,C){var ce=_(S);if(ce.curve){if(D!=="ecdsa"&&D!=="ecdsa/rsa")throw new Error("wrong private key type");return R(I,ce)}else if(ce.type==="dsa"){if(D!=="dsa")throw new Error("wrong private key type");return v(I,ce,E)}else if(D!=="rsa"&&D!=="ecdsa/rsa")throw new Error("wrong private key type");I=r.concat([C,I]);for(var be=ce.modulus.byteLength(),qe=[0,1];I.length+qe.length+1<be;)qe.push(255);qe.push(0);for(var ue=-1;++ue<I.length;)qe.push(I[ue]);var $e=p(qe,ce);return $e}function R(I,S){var E=L[S.curve.join(".")];if(!E)throw new Error("unknown curve "+S.curve.join("."));var D=new x(E),C=D.keyFromPrivate(S.privateKey),ce=C.sign(I);return r.from(ce.toDER())}function v(I,S,E){for(var D=S.params.priv_key,C=S.params.p,ce=S.params.q,be=S.params.g,qe=new u(0),ue,$e=T(I,ce).mod(ce),e=!1,n=M(D,ce,I,E);e===!1;)ue=X(ce,n,E),qe=j(be,ue,C,ce),e=ue.invm(ce).imul($e.add(D.mul(qe))).mod(ce),e.cmpn(0)===0&&(e=!1,qe=new u(0));return $(qe,e)}function $(I,S){I=I.toArray(),S=S.toArray(),I[0]&128&&(I=[0].concat(I)),S[0]&128&&(S=[0].concat(S));var E=I.length+S.length+4,D=[48,E,2,I.length];return D=D.concat(I,[2,S.length],S),r.from(D)}function M(I,S,E,D){if(I=r.from(I.toArray()),I.length<S.byteLength()){var C=r.alloc(S.byteLength()-I.length);I=r.concat([C,I])}var ce=E.length,be=q(E,S),qe=r.alloc(ce);qe.fill(1);var ue=r.alloc(ce);return ue=N(D,ue).update(qe).update(r.from([0])).update(I).update(be).digest(),qe=N(D,ue).update(qe).digest(),ue=N(D,ue).update(qe).update(r.from([1])).update(I).update(be).digest(),qe=N(D,ue).update(qe).digest(),{k:ue,v:qe}}function T(I,S){var E=new u(I),D=(I.length<<3)-S.bitLength();return D>0&&E.ishrn(D),E}function q(I,S){I=T(I,S),I=I.mod(S);var E=r.from(I.toArray());if(E.length<S.byteLength()){var D=r.alloc(S.byteLength()-E.length);E=r.concat([D,E])}return E}function X(I,S,E){var D,C;do{for(D=r.alloc(0);D.length*8<I.bitLength();)S.v=N(E,S.k).update(S.v).digest(),D=r.concat([D,S.v]);C=T(D,I),S.k=N(E,S.k).update(S.v).update(r.from([0])).digest(),S.v=N(E,S.k).update(S.v).digest()}while(C.cmp(I)!==-1);return C}function j(I,S,E,D){return I.toRed(u.mont(E)).redPow(S).fromRed().mod(D)}m.exports=y,m.exports.getKey=M,m.exports.makeKey=X}),Tu=je((l,m)=>{var r=ho().Buffer,N=Ys(),p=Bs().ec,x=Cn(),u=Sr();function _(v,$,M,T,q){var X=x(M);if(X.type==="ec"){if(T!=="ecdsa"&&T!=="ecdsa/rsa")throw new Error("wrong public key type");return L(v,$,X)}else if(X.type==="dsa"){if(T!=="dsa")throw new Error("wrong public key type");return y(v,$,X)}else if(T!=="rsa"&&T!=="ecdsa/rsa")throw new Error("wrong public key type");$=r.concat([q,$]);for(var j=X.modulus.byteLength(),I=[1],S=0;$.length+I.length+2<j;)I.push(255),S++;I.push(0);for(var E=-1;++E<$.length;)I.push($[E]);I=r.from(I);var D=N.mont(X.modulus);v=new N(v).toRed(D),v=v.redPow(new N(X.publicExponent)),v=r.from(v.fromRed().toArray());var C=S<8?1:0;for(j=Math.min(v.length,I.length),v.length!==I.length&&(C=1),E=-1;++E<j;)C|=v[E]^I[E];return C===0}function L(v,$,M){var T=u[M.data.algorithm.curve.join(".")];if(!T)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var q=new p(T),X=M.data.subjectPrivateKey.data;return q.verify($,v,X)}function y(v,$,M){var T=M.data.p,q=M.data.q,X=M.data.g,j=M.data.pub_key,I=x.signature.decode(v,"der"),S=I.s,E=I.r;R(S,q),R(E,q);var D=N.mont(T),C=S.invm(q),ce=X.toRed(D).redPow(new N($).mul(C).mod(q)).fromRed().mul(j.toRed(D).redPow(E.mul(C).mod(q)).fromRed()).mod(T).mod(q);return ce.cmp(E)===0}function R(v,$){if(v.cmpn(0)<=0)throw new Error("invalid sig");if(v.cmp($)>=$)throw new Error("invalid sig")}m.exports=_}),$u=je((l,m)=>{var r=ho().Buffer,N=pn(),p=Cc(),x=mo(),u=qu(),_=Tu(),L=ar();Object.keys(L).forEach(function(M){L[M].id=r.from(L[M].id,"hex"),L[M.toLowerCase()]=L[M]});function y(M){p.Writable.call(this);var T=L[M];if(!T)throw new Error("Unknown message digest");this._hashType=T.hash,this._hash=N(T.hash),this._tag=T.id,this._signType=T.sign}x(y,p.Writable),y.prototype._write=function(M,T,q){this._hash.update(M),q()},y.prototype.update=function(M,T){return typeof M=="string"&&(M=r.from(M,T)),this._hash.update(M),this},y.prototype.sign=function(M,T){this.end();var q=this._hash.digest(),X=u(q,M,this._hashType,this._signType,this._tag);return T?X.toString(T):X};function R(M){p.Writable.call(this);var T=L[M];if(!T)throw new Error("Unknown message digest");this._hash=N(T.hash),this._tag=T.id,this._signType=T.sign}x(R,p.Writable),R.prototype._write=function(M,T,q){this._hash.update(M),q()},R.prototype.update=function(M,T){return typeof M=="string"&&(M=r.from(M,T)),this._hash.update(M),this},R.prototype.verify=function(M,T,q){typeof T=="string"&&(T=r.from(T,q)),this.end();var X=this._hash.digest();return _(T,X,M,this._signType,this._tag)};function v(M){return new y(M)}function $(M){return new R(M)}m.exports={Sign:v,Verify:$,createSign:v,createVerify:$}}),Vu=je((l,m)=>{(function(r,N){function p(e,n){if(!e)throw new Error(n||"Assertion failed")}function x(e,n){e.super_=n;var c=function(){};c.prototype=n.prototype,e.prototype=new c,e.prototype.constructor=e}function u(e,n,c){if(u.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(e||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:N.BN=u,u.BN=u,u.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=Ua().Buffer}catch{}u.isBN=function(e){return e instanceof u?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===u.wordSize&&Array.isArray(e.words)},u.max=function(e,n){return e.cmp(n)>0?e:n},u.min=function(e,n){return e.cmp(n)<0?e:n},u.prototype._init=function(e,n,c){if(typeof e=="number")return this._initNumber(e,n,c);if(typeof e=="object")return this._initArray(e,n,c);n==="hex"&&(n=16),p(n===(n|0)&&n>=2&&n<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(n===16?this._parseHex(e,s,c):(this._parseBase(e,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(e,n,c){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(p(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(e,n,c){if(p(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t,h,k=0;if(c==="be")for(s=e.length-1,t=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);else if(c==="le")for(s=0,t=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);return this.strip()};function L(e,n){var c=e.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(e,n,c){var s=L(e,c);return c-1>=n&&(s|=L(e,c-1)<<4),s}u.prototype._parseHex=function(e,n,c){this.length=Math.ceil((e.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t=0,h=0,k;if(c==="be")for(s=e.length-1;s>=n;s-=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8;else{var d=e.length-n;for(s=d%2===0?n+1:n;s<e.length;s+=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8}this.strip()};function R(e,n,c,s){for(var t=0,h=Math.min(e.length,c),k=n;k<h;k++){var d=e.charCodeAt(k)-48;t*=s,d>=49?t+=d-49+10:d>=17?t+=d-17+10:t+=d}return t}u.prototype._parseBase=function(e,n,c){this.words=[0],this.length=1;for(var s=0,t=1;t<=67108863;t*=n)s++;s--,t=t/n|0;for(var h=e.length-c,k=h%s,d=Math.min(h,h-k)+c,o=0,b=c;b<d;b+=s)o=R(e,b,b+s,n),this.imuln(t),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(k!==0){var W=1;for(o=R(e,b,e.length,n),b=0;b<k;b++)W*=n;this.imuln(W),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(e){e.words=new Array(this.length);for(var n=0;n<this.length;n++)e.words[n]=this.words[n];e.length=this.length,e.negative=this.negative,e.red=this.red},u.prototype.clone=function(){var e=new u(null);return this.copy(e),e},u.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(e,n){e=e||10,n=n|0||1;var c;if(e===16||e==="hex"){c="";for(var s=0,t=0,h=0;h<this.length;h++){var k=this.words[h],d=((k<<s|t)&16777215).toString(16);t=k>>>24-s&16777215,t!==0||h!==this.length-1?c=v[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,h--)}for(t!==0&&(c=t.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(e===(e|0)&&e>=2&&e<=36){var o=$[e],b=M[e];c="";var W=this.clone();for(W.negative=0;!W.isZero();){var O=W.modn(b).toString(e);W=W.idivn(b),W.isZero()?c=O+c:c=v[o-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}p(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&p(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(e,n){return p(typeof _<"u"),this.toArrayLike(_,e,n)},u.prototype.toArray=function(e,n){return this.toArrayLike(Array,e,n)},u.prototype.toArrayLike=function(e,n,c){var s=this.byteLength(),t=c||Math.max(1,s);p(s<=t,"byte array longer than desired length"),p(t>0,"Requested array length <= 0"),this.strip();var h=n==="le",k=new e(t),d,o,b=this.clone();if(h){for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[o]=d;for(;o<t;o++)k[o]=0}else{for(o=0;o<t-s;o++)k[o]=0;for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[t-o-1]=d}return k},Math.clz32?u.prototype._countBits=function(e){return 32-Math.clz32(e)}:u.prototype._countBits=function(e){var n=e,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(e){if(e===0)return 26;var n=e,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var e=this.words[this.length-1],n=this._countBits(e);return(this.length-1)*26+n};function T(e){for(var n=new Array(e.bitLength()),c=0;c<n.length;c++){var s=c/26|0,t=c%26;n[c]=(e.words[s]&1<<t)>>>t}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(e+=c,c!==26)break}return e},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},u.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]|e.words[n];return this.strip()},u.prototype.ior=function(e){return p((this.negative|e.negative)===0),this.iuor(e)},u.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},u.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},u.prototype.iuand=function(e){var n;this.length>e.length?n=e:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&e.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(e){return p((this.negative|e.negative)===0),this.iuand(e)},u.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},u.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},u.prototype.iuxor=function(e){var n,c;this.length>e.length?(n=this,c=e):(n=e,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(e){return p((this.negative|e.negative)===0),this.iuxor(e)},u.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},u.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},u.prototype.inotn=function(e){p(typeof e=="number"&&e>=0);var n=Math.ceil(e/26)|0,c=e%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(e){return this.clone().inotn(e)},u.prototype.setn=function(e,n){p(typeof e=="number"&&e>=0);var c=e/26|0,s=e%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(e){var n;if(this.negative!==0&&e.negative===0)return this.negative=0,n=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,n=this.isub(e),e.negative=1,n._normSign();var c,s;this.length>e.length?(c=this,s=e):(c=e,s=this);for(var t=0,h=0;h<s.length;h++)n=(c.words[h]|0)+(s.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;for(;t!==0&&h<c.length;h++)n=(c.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;if(this.length=c.length,t!==0)this.words[this.length]=t,this.length++;else if(c!==this)for(;h<c.length;h++)this.words[h]=c.words[h];return this},u.prototype.add=function(e){var n;return e.negative!==0&&this.negative===0?(e.negative=0,n=this.sub(e),e.negative^=1,n):e.negative===0&&this.negative!==0?(this.negative=0,n=e.sub(this),this.negative=1,n):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},u.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var n=this.iadd(e);return e.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var c=this.cmp(e);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,t;c>0?(s=this,t=e):(s=e,t=this);for(var h=0,k=0;k<t.length;k++)n=(s.words[k]|0)-(t.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;for(;h!==0&&k<s.length;k++)n=(s.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;if(h===0&&k<s.length&&s!==this)for(;k<s.length;k++)this.words[k]=s.words[k];return this.length=Math.max(this.length,k),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(e){return this.clone().isub(e)};function q(e,n,c){c.negative=n.negative^e.negative;var s=e.length+n.length|0;c.length=s,s=s-1|0;var t=e.words[0]|0,h=n.words[0]|0,k=t*h,d=k&67108863,o=k/67108864|0;c.words[0]=d;for(var b=1;b<s;b++){for(var W=o>>>26,O=o&67108863,P=Math.min(b,n.length-1),pe=Math.max(0,b-e.length+1);pe<=P;pe++){var Ne=b-pe|0;t=e.words[Ne]|0,h=n.words[pe]|0,k=t*h+O,W+=k/67108864|0,O=k&67108863}c.words[b]=O|0,o=W|0}return o!==0?c.words[b]=o|0:c.length--,c.strip()}var X=function(e,n,c){var s=e.words,t=n.words,h=c.words,k=0,d,o,b,W=s[0]|0,O=W&8191,P=W>>>13,pe=s[1]|0,Ne=pe&8191,xe=pe>>>13,te=s[2]|0,ie=te&8191,he=te>>>13,Fe=s[3]|0,Re=Fe&8191,ge=Fe>>>13,H=s[4]|0,w=H&8191,B=H>>>13,Te=s[5]|0,Le=Te&8191,Ve=Te>>>13,Pe=s[6]|0,We=Pe&8191,Ie=Pe>>>13,Qe=s[7]|0,Je=Qe&8191,Se=Qe>>>13,bo=s[8]|0,U=bo&8191,a=bo>>>13,i=s[9]|0,f=i&8191,Z=i>>>13,V=t[0]|0,g=V&8191,F=V>>>13,z=t[1]|0,J=z&8191,K=z>>>13,oe=t[2]|0,Y=oe&8191,G=oe>>>13,ne=t[3]|0,A=ne&8191,re=ne>>>13,ke=t[4]|0,ee=ke&8191,ae=ke>>>13,se=t[5]|0,Q=se&8191,le=se>>>13,fe=t[6]|0,me=fe&8191,de=fe>>>13,Oe=t[7]|0,_e=Oe&8191,ve=Oe>>>13,Xe=t[8]|0,ye=Xe&8191,Ze=Xe>>>13,we=t[9]|0,Me=we&8191,Ue=we>>>13;c.negative=e.negative^n.negative,c.length=19,d=Math.imul(O,g),o=Math.imul(O,F),o=o+Math.imul(P,g)|0,b=Math.imul(P,F);var ze=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(Ne,g),o=Math.imul(Ne,F),o=o+Math.imul(xe,g)|0,b=Math.imul(xe,F),d=d+Math.imul(O,J)|0,o=o+Math.imul(O,K)|0,o=o+Math.imul(P,J)|0,b=b+Math.imul(P,K)|0;var Ke=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(ie,g),o=Math.imul(ie,F),o=o+Math.imul(he,g)|0,b=Math.imul(he,F),d=d+Math.imul(Ne,J)|0,o=o+Math.imul(Ne,K)|0,o=o+Math.imul(xe,J)|0,b=b+Math.imul(xe,K)|0,d=d+Math.imul(O,Y)|0,o=o+Math.imul(O,G)|0,o=o+Math.imul(P,Y)|0,b=b+Math.imul(P,G)|0;var Ee=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(Re,g),o=Math.imul(Re,F),o=o+Math.imul(ge,g)|0,b=Math.imul(ge,F),d=d+Math.imul(ie,J)|0,o=o+Math.imul(ie,K)|0,o=o+Math.imul(he,J)|0,b=b+Math.imul(he,K)|0,d=d+Math.imul(Ne,Y)|0,o=o+Math.imul(Ne,G)|0,o=o+Math.imul(xe,Y)|0,b=b+Math.imul(xe,G)|0,d=d+Math.imul(O,A)|0,o=o+Math.imul(O,re)|0,o=o+Math.imul(P,A)|0,b=b+Math.imul(P,re)|0;var De=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(De>>>26)|0,De&=67108863,d=Math.imul(w,g),o=Math.imul(w,F),o=o+Math.imul(B,g)|0,b=Math.imul(B,F),d=d+Math.imul(Re,J)|0,o=o+Math.imul(Re,K)|0,o=o+Math.imul(ge,J)|0,b=b+Math.imul(ge,K)|0,d=d+Math.imul(ie,Y)|0,o=o+Math.imul(ie,G)|0,o=o+Math.imul(he,Y)|0,b=b+Math.imul(he,G)|0,d=d+Math.imul(Ne,A)|0,o=o+Math.imul(Ne,re)|0,o=o+Math.imul(xe,A)|0,b=b+Math.imul(xe,re)|0,d=d+Math.imul(O,ee)|0,o=o+Math.imul(O,ae)|0,o=o+Math.imul(P,ee)|0,b=b+Math.imul(P,ae)|0;var Ge=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,d=Math.imul(Le,g),o=Math.imul(Le,F),o=o+Math.imul(Ve,g)|0,b=Math.imul(Ve,F),d=d+Math.imul(w,J)|0,o=o+Math.imul(w,K)|0,o=o+Math.imul(B,J)|0,b=b+Math.imul(B,K)|0,d=d+Math.imul(Re,Y)|0,o=o+Math.imul(Re,G)|0,o=o+Math.imul(ge,Y)|0,b=b+Math.imul(ge,G)|0,d=d+Math.imul(ie,A)|0,o=o+Math.imul(ie,re)|0,o=o+Math.imul(he,A)|0,b=b+Math.imul(he,re)|0,d=d+Math.imul(Ne,ee)|0,o=o+Math.imul(Ne,ae)|0,o=o+Math.imul(xe,ee)|0,b=b+Math.imul(xe,ae)|0,d=d+Math.imul(O,Q)|0,o=o+Math.imul(O,le)|0,o=o+Math.imul(P,Q)|0,b=b+Math.imul(P,le)|0;var Ce=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,d=Math.imul(We,g),o=Math.imul(We,F),o=o+Math.imul(Ie,g)|0,b=Math.imul(Ie,F),d=d+Math.imul(Le,J)|0,o=o+Math.imul(Le,K)|0,o=o+Math.imul(Ve,J)|0,b=b+Math.imul(Ve,K)|0,d=d+Math.imul(w,Y)|0,o=o+Math.imul(w,G)|0,o=o+Math.imul(B,Y)|0,b=b+Math.imul(B,G)|0,d=d+Math.imul(Re,A)|0,o=o+Math.imul(Re,re)|0,o=o+Math.imul(ge,A)|0,b=b+Math.imul(ge,re)|0,d=d+Math.imul(ie,ee)|0,o=o+Math.imul(ie,ae)|0,o=o+Math.imul(he,ee)|0,b=b+Math.imul(he,ae)|0,d=d+Math.imul(Ne,Q)|0,o=o+Math.imul(Ne,le)|0,o=o+Math.imul(xe,Q)|0,b=b+Math.imul(xe,le)|0,d=d+Math.imul(O,me)|0,o=o+Math.imul(O,de)|0,o=o+Math.imul(P,me)|0,b=b+Math.imul(P,de)|0;var He=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(Je,g),o=Math.imul(Je,F),o=o+Math.imul(Se,g)|0,b=Math.imul(Se,F),d=d+Math.imul(We,J)|0,o=o+Math.imul(We,K)|0,o=o+Math.imul(Ie,J)|0,b=b+Math.imul(Ie,K)|0,d=d+Math.imul(Le,Y)|0,o=o+Math.imul(Le,G)|0,o=o+Math.imul(Ve,Y)|0,b=b+Math.imul(Ve,G)|0,d=d+Math.imul(w,A)|0,o=o+Math.imul(w,re)|0,o=o+Math.imul(B,A)|0,b=b+Math.imul(B,re)|0,d=d+Math.imul(Re,ee)|0,o=o+Math.imul(Re,ae)|0,o=o+Math.imul(ge,ee)|0,b=b+Math.imul(ge,ae)|0,d=d+Math.imul(ie,Q)|0,o=o+Math.imul(ie,le)|0,o=o+Math.imul(he,Q)|0,b=b+Math.imul(he,le)|0,d=d+Math.imul(Ne,me)|0,o=o+Math.imul(Ne,de)|0,o=o+Math.imul(xe,me)|0,b=b+Math.imul(xe,de)|0,d=d+Math.imul(O,_e)|0,o=o+Math.imul(O,ve)|0,o=o+Math.imul(P,_e)|0,b=b+Math.imul(P,ve)|0;var Be=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Be>>>26)|0,Be&=67108863,d=Math.imul(U,g),o=Math.imul(U,F),o=o+Math.imul(a,g)|0,b=Math.imul(a,F),d=d+Math.imul(Je,J)|0,o=o+Math.imul(Je,K)|0,o=o+Math.imul(Se,J)|0,b=b+Math.imul(Se,K)|0,d=d+Math.imul(We,Y)|0,o=o+Math.imul(We,G)|0,o=o+Math.imul(Ie,Y)|0,b=b+Math.imul(Ie,G)|0,d=d+Math.imul(Le,A)|0,o=o+Math.imul(Le,re)|0,o=o+Math.imul(Ve,A)|0,b=b+Math.imul(Ve,re)|0,d=d+Math.imul(w,ee)|0,o=o+Math.imul(w,ae)|0,o=o+Math.imul(B,ee)|0,b=b+Math.imul(B,ae)|0,d=d+Math.imul(Re,Q)|0,o=o+Math.imul(Re,le)|0,o=o+Math.imul(ge,Q)|0,b=b+Math.imul(ge,le)|0,d=d+Math.imul(ie,me)|0,o=o+Math.imul(ie,de)|0,o=o+Math.imul(he,me)|0,b=b+Math.imul(he,de)|0,d=d+Math.imul(Ne,_e)|0,o=o+Math.imul(Ne,ve)|0,o=o+Math.imul(xe,_e)|0,b=b+Math.imul(xe,ve)|0,d=d+Math.imul(O,ye)|0,o=o+Math.imul(O,Ze)|0,o=o+Math.imul(P,ye)|0,b=b+Math.imul(P,Ze)|0;var Ye=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,d=Math.imul(f,g),o=Math.imul(f,F),o=o+Math.imul(Z,g)|0,b=Math.imul(Z,F),d=d+Math.imul(U,J)|0,o=o+Math.imul(U,K)|0,o=o+Math.imul(a,J)|0,b=b+Math.imul(a,K)|0,d=d+Math.imul(Je,Y)|0,o=o+Math.imul(Je,G)|0,o=o+Math.imul(Se,Y)|0,b=b+Math.imul(Se,G)|0,d=d+Math.imul(We,A)|0,o=o+Math.imul(We,re)|0,o=o+Math.imul(Ie,A)|0,b=b+Math.imul(Ie,re)|0,d=d+Math.imul(Le,ee)|0,o=o+Math.imul(Le,ae)|0,o=o+Math.imul(Ve,ee)|0,b=b+Math.imul(Ve,ae)|0,d=d+Math.imul(w,Q)|0,o=o+Math.imul(w,le)|0,o=o+Math.imul(B,Q)|0,b=b+Math.imul(B,le)|0,d=d+Math.imul(Re,me)|0,o=o+Math.imul(Re,de)|0,o=o+Math.imul(ge,me)|0,b=b+Math.imul(ge,de)|0,d=d+Math.imul(ie,_e)|0,o=o+Math.imul(ie,ve)|0,o=o+Math.imul(he,_e)|0,b=b+Math.imul(he,ve)|0,d=d+Math.imul(Ne,ye)|0,o=o+Math.imul(Ne,Ze)|0,o=o+Math.imul(xe,ye)|0,b=b+Math.imul(xe,Ze)|0,d=d+Math.imul(O,Me)|0,o=o+Math.imul(O,Ue)|0,o=o+Math.imul(P,Me)|0,b=b+Math.imul(P,Ue)|0;var lo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(lo>>>26)|0,lo&=67108863,d=Math.imul(f,J),o=Math.imul(f,K),o=o+Math.imul(Z,J)|0,b=Math.imul(Z,K),d=d+Math.imul(U,Y)|0,o=o+Math.imul(U,G)|0,o=o+Math.imul(a,Y)|0,b=b+Math.imul(a,G)|0,d=d+Math.imul(Je,A)|0,o=o+Math.imul(Je,re)|0,o=o+Math.imul(Se,A)|0,b=b+Math.imul(Se,re)|0,d=d+Math.imul(We,ee)|0,o=o+Math.imul(We,ae)|0,o=o+Math.imul(Ie,ee)|0,b=b+Math.imul(Ie,ae)|0,d=d+Math.imul(Le,Q)|0,o=o+Math.imul(Le,le)|0,o=o+Math.imul(Ve,Q)|0,b=b+Math.imul(Ve,le)|0,d=d+Math.imul(w,me)|0,o=o+Math.imul(w,de)|0,o=o+Math.imul(B,me)|0,b=b+Math.imul(B,de)|0,d=d+Math.imul(Re,_e)|0,o=o+Math.imul(Re,ve)|0,o=o+Math.imul(ge,_e)|0,b=b+Math.imul(ge,ve)|0,d=d+Math.imul(ie,ye)|0,o=o+Math.imul(ie,Ze)|0,o=o+Math.imul(he,ye)|0,b=b+Math.imul(he,Ze)|0,d=d+Math.imul(Ne,Me)|0,o=o+Math.imul(Ne,Ue)|0,o=o+Math.imul(xe,Me)|0,b=b+Math.imul(xe,Ue)|0;var Ae=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,d=Math.imul(f,Y),o=Math.imul(f,G),o=o+Math.imul(Z,Y)|0,b=Math.imul(Z,G),d=d+Math.imul(U,A)|0,o=o+Math.imul(U,re)|0,o=o+Math.imul(a,A)|0,b=b+Math.imul(a,re)|0,d=d+Math.imul(Je,ee)|0,o=o+Math.imul(Je,ae)|0,o=o+Math.imul(Se,ee)|0,b=b+Math.imul(Se,ae)|0,d=d+Math.imul(We,Q)|0,o=o+Math.imul(We,le)|0,o=o+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,le)|0,d=d+Math.imul(Le,me)|0,o=o+Math.imul(Le,de)|0,o=o+Math.imul(Ve,me)|0,b=b+Math.imul(Ve,de)|0,d=d+Math.imul(w,_e)|0,o=o+Math.imul(w,ve)|0,o=o+Math.imul(B,_e)|0,b=b+Math.imul(B,ve)|0,d=d+Math.imul(Re,ye)|0,o=o+Math.imul(Re,Ze)|0,o=o+Math.imul(ge,ye)|0,b=b+Math.imul(ge,Ze)|0,d=d+Math.imul(ie,Me)|0,o=o+Math.imul(ie,Ue)|0,o=o+Math.imul(he,Me)|0,b=b+Math.imul(he,Ue)|0;var ao=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ao>>>26)|0,ao&=67108863,d=Math.imul(f,A),o=Math.imul(f,re),o=o+Math.imul(Z,A)|0,b=Math.imul(Z,re),d=d+Math.imul(U,ee)|0,o=o+Math.imul(U,ae)|0,o=o+Math.imul(a,ee)|0,b=b+Math.imul(a,ae)|0,d=d+Math.imul(Je,Q)|0,o=o+Math.imul(Je,le)|0,o=o+Math.imul(Se,Q)|0,b=b+Math.imul(Se,le)|0,d=d+Math.imul(We,me)|0,o=o+Math.imul(We,de)|0,o=o+Math.imul(Ie,me)|0,b=b+Math.imul(Ie,de)|0,d=d+Math.imul(Le,_e)|0,o=o+Math.imul(Le,ve)|0,o=o+Math.imul(Ve,_e)|0,b=b+Math.imul(Ve,ve)|0,d=d+Math.imul(w,ye)|0,o=o+Math.imul(w,Ze)|0,o=o+Math.imul(B,ye)|0,b=b+Math.imul(B,Ze)|0,d=d+Math.imul(Re,Me)|0,o=o+Math.imul(Re,Ue)|0,o=o+Math.imul(ge,Me)|0,b=b+Math.imul(ge,Ue)|0;var no=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(no>>>26)|0,no&=67108863,d=Math.imul(f,ee),o=Math.imul(f,ae),o=o+Math.imul(Z,ee)|0,b=Math.imul(Z,ae),d=d+Math.imul(U,Q)|0,o=o+Math.imul(U,le)|0,o=o+Math.imul(a,Q)|0,b=b+Math.imul(a,le)|0,d=d+Math.imul(Je,me)|0,o=o+Math.imul(Je,de)|0,o=o+Math.imul(Se,me)|0,b=b+Math.imul(Se,de)|0,d=d+Math.imul(We,_e)|0,o=o+Math.imul(We,ve)|0,o=o+Math.imul(Ie,_e)|0,b=b+Math.imul(Ie,ve)|0,d=d+Math.imul(Le,ye)|0,o=o+Math.imul(Le,Ze)|0,o=o+Math.imul(Ve,ye)|0,b=b+Math.imul(Ve,Ze)|0,d=d+Math.imul(w,Me)|0,o=o+Math.imul(w,Ue)|0,o=o+Math.imul(B,Me)|0,b=b+Math.imul(B,Ue)|0;var oo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(oo>>>26)|0,oo&=67108863,d=Math.imul(f,Q),o=Math.imul(f,le),o=o+Math.imul(Z,Q)|0,b=Math.imul(Z,le),d=d+Math.imul(U,me)|0,o=o+Math.imul(U,de)|0,o=o+Math.imul(a,me)|0,b=b+Math.imul(a,de)|0,d=d+Math.imul(Je,_e)|0,o=o+Math.imul(Je,ve)|0,o=o+Math.imul(Se,_e)|0,b=b+Math.imul(Se,ve)|0,d=d+Math.imul(We,ye)|0,o=o+Math.imul(We,Ze)|0,o=o+Math.imul(Ie,ye)|0,b=b+Math.imul(Ie,Ze)|0,d=d+Math.imul(Le,Me)|0,o=o+Math.imul(Le,Ue)|0,o=o+Math.imul(Ve,Me)|0,b=b+Math.imul(Ve,Ue)|0;var uo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(uo>>>26)|0,uo&=67108863,d=Math.imul(f,me),o=Math.imul(f,de),o=o+Math.imul(Z,me)|0,b=Math.imul(Z,de),d=d+Math.imul(U,_e)|0,o=o+Math.imul(U,ve)|0,o=o+Math.imul(a,_e)|0,b=b+Math.imul(a,ve)|0,d=d+Math.imul(Je,ye)|0,o=o+Math.imul(Je,Ze)|0,o=o+Math.imul(Se,ye)|0,b=b+Math.imul(Se,Ze)|0,d=d+Math.imul(We,Me)|0,o=o+Math.imul(We,Ue)|0,o=o+Math.imul(Ie,Me)|0,b=b+Math.imul(Ie,Ue)|0;var to=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(to>>>26)|0,to&=67108863,d=Math.imul(f,_e),o=Math.imul(f,ve),o=o+Math.imul(Z,_e)|0,b=Math.imul(Z,ve),d=d+Math.imul(U,ye)|0,o=o+Math.imul(U,Ze)|0,o=o+Math.imul(a,ye)|0,b=b+Math.imul(a,Ze)|0,d=d+Math.imul(Je,Me)|0,o=o+Math.imul(Je,Ue)|0,o=o+Math.imul(Se,Me)|0,b=b+Math.imul(Se,Ue)|0;var fo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(fo>>>26)|0,fo&=67108863,d=Math.imul(f,ye),o=Math.imul(f,Ze),o=o+Math.imul(Z,ye)|0,b=Math.imul(Z,Ze),d=d+Math.imul(U,Me)|0,o=o+Math.imul(U,Ue)|0,o=o+Math.imul(a,Me)|0,b=b+Math.imul(a,Ue)|0;var io=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(io>>>26)|0,io&=67108863,d=Math.imul(f,Me),o=Math.imul(f,Ue),o=o+Math.imul(Z,Me)|0,b=Math.imul(Z,Ue);var ro=(k+d|0)+((o&8191)<<13)|0;return k=(b+(o>>>13)|0)+(ro>>>26)|0,ro&=67108863,h[0]=ze,h[1]=Ke,h[2]=Ee,h[3]=De,h[4]=Ge,h[5]=Ce,h[6]=He,h[7]=Be,h[8]=Ye,h[9]=lo,h[10]=Ae,h[11]=ao,h[12]=no,h[13]=oo,h[14]=uo,h[15]=to,h[16]=fo,h[17]=io,h[18]=ro,k!==0&&(h[19]=k,c.length++),c};Math.imul||(X=q);function j(e,n,c){c.negative=n.negative^e.negative,c.length=e.length+n.length;for(var s=0,t=0,h=0;h<c.length-1;h++){var k=t;t=0;for(var d=s&67108863,o=Math.min(h,n.length-1),b=Math.max(0,h-e.length+1);b<=o;b++){var W=h-b,O=e.words[W]|0,P=n.words[b]|0,pe=O*P,Ne=pe&67108863;k=k+(pe/67108864|0)|0,Ne=Ne+d|0,d=Ne&67108863,k=k+(Ne>>>26)|0,t+=k>>>26,k&=67108863}c.words[h]=d,s=k,k=t}return s!==0?c.words[h]=s:c.length--,c.strip()}function I(e,n,c){var s=new S;return s.mulp(e,n,c)}u.prototype.mulTo=function(e,n){var c,s=this.length+e.length;return this.length===10&&e.length===10?c=X(this,e,n):s<63?c=q(this,e,n):s<1024?c=j(this,e,n):c=I(this,e,n),c};function S(e,n){this.x=e,this.y=n}S.prototype.makeRBT=function(e){for(var n=new Array(e),c=u.prototype._countBits(e)-1,s=0;s<e;s++)n[s]=this.revBin(s,c,e);return n},S.prototype.revBin=function(e,n,c){if(e===0||e===c-1)return e;for(var s=0,t=0;t<n;t++)s|=(e&1)<<n-t-1,e>>=1;return s},S.prototype.permute=function(e,n,c,s,t,h){for(var k=0;k<h;k++)s[k]=n[e[k]],t[k]=c[e[k]]},S.prototype.transform=function(e,n,c,s,t,h){this.permute(h,e,n,c,s,t);for(var k=1;k<t;k<<=1)for(var d=k<<1,o=Math.cos(2*Math.PI/d),b=Math.sin(2*Math.PI/d),W=0;W<t;W+=d)for(var O=o,P=b,pe=0;pe<k;pe++){var Ne=c[W+pe],xe=s[W+pe],te=c[W+pe+k],ie=s[W+pe+k],he=O*te-P*ie;ie=O*ie+P*te,te=he,c[W+pe]=Ne+te,s[W+pe]=xe+ie,c[W+pe+k]=Ne-te,s[W+pe+k]=xe-ie,pe!==d&&(he=o*O-b*P,P=o*P+b*O,O=he)}},S.prototype.guessLen13b=function(e,n){var c=Math.max(n,e)|1,s=c&1,t=0;for(c=c/2|0;c;c=c>>>1)t++;return 1<<t+1+s},S.prototype.conjugate=function(e,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var t=e[s];e[s]=e[c-s-1],e[c-s-1]=t,t=n[s],n[s]=-n[c-s-1],n[c-s-1]=-t}},S.prototype.normalize13b=function(e,n){for(var c=0,s=0;s<n/2;s++){var t=Math.round(e[2*s+1]/n)*8192+Math.round(e[2*s]/n)+c;e[s]=t&67108863,t<67108864?c=0:c=t/67108864|0}return e},S.prototype.convert13b=function(e,n,c,s){for(var t=0,h=0;h<n;h++)t=t+(e[h]|0),c[2*h]=t&8191,t=t>>>13,c[2*h+1]=t&8191,t=t>>>13;for(h=2*n;h<s;++h)c[h]=0;p(t===0),p((t&-8192)===0)},S.prototype.stub=function(e){for(var n=new Array(e),c=0;c<e;c++)n[c]=0;return n},S.prototype.mulp=function(e,n,c){var s=2*this.guessLen13b(e.length,n.length),t=this.makeRBT(s),h=this.stub(s),k=new Array(s),d=new Array(s),o=new Array(s),b=new Array(s),W=new Array(s),O=new Array(s),P=c.words;P.length=s,this.convert13b(e.words,e.length,k,s),this.convert13b(n.words,n.length,b,s),this.transform(k,h,d,o,s,t),this.transform(b,h,W,O,s,t);for(var pe=0;pe<s;pe++){var Ne=d[pe]*W[pe]-o[pe]*O[pe];o[pe]=d[pe]*O[pe]+o[pe]*W[pe],d[pe]=Ne}return this.conjugate(d,o,s),this.transform(d,o,P,h,s,t),this.conjugate(P,h,s),this.normalize13b(P,s),c.negative=e.negative^n.negative,c.length=e.length+n.length,c.strip()},u.prototype.mul=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),this.mulTo(e,n)},u.prototype.mulf=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),I(this,e,n)},u.prototype.imul=function(e){return this.clone().mulTo(e,this)},u.prototype.imuln=function(e){p(typeof e=="number"),p(e<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*e,t=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=t>>>26,this.words[c]=t&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(e){return this.clone().imuln(e)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(e){var n=T(e);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var t=c.sqr();s<n.length;s++,t=t.sqr())n[s]!==0&&(c=c.mul(t));return c},u.prototype.iushln=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=67108863>>>26-n<<26-n,t;if(n!==0){var h=0;for(t=0;t<this.length;t++){var k=this.words[t]&s,d=(this.words[t]|0)-k<<n;this.words[t]=d|h,h=k>>>26-n}h&&(this.words[t]=h,this.length++)}if(c!==0){for(t=this.length-1;t>=0;t--)this.words[t+c]=this.words[t];for(t=0;t<c;t++)this.words[t]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(e){return p(this.negative===0),this.iushln(e)},u.prototype.iushrn=function(e,n,c){p(typeof e=="number"&&e>=0);var s;n?s=(n-n%26)/26:s=0;var t=e%26,h=Math.min((e-t)/26,this.length),k=67108863^67108863>>>t<<t,d=c;if(s-=h,s=Math.max(0,s),d){for(var o=0;o<h;o++)d.words[o]=this.words[o];d.length=h}if(h!==0)if(this.length>h)for(this.length-=h,o=0;o<this.length;o++)this.words[o]=this.words[o+h];else this.words[0]=0,this.length=1;var b=0;for(o=this.length-1;o>=0&&(b!==0||o>=s);o--){var W=this.words[o]|0;this.words[o]=b<<26-t|W>>>t,b=W&k}return d&&b!==0&&(d.words[d.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(e,n,c){return p(this.negative===0),this.iushrn(e,n,c)},u.prototype.shln=function(e){return this.clone().ishln(e)},u.prototype.ushln=function(e){return this.clone().iushln(e)},u.prototype.shrn=function(e){return this.clone().ishrn(e)},u.prototype.ushrn=function(e){return this.clone().iushrn(e)},u.prototype.testn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return!1;var t=this.words[c];return!!(t&s)},u.prototype.imaskn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26;if(p(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(e){return this.clone().imaskn(e)},u.prototype.iaddn=function(e){return p(typeof e=="number"),p(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},u.prototype._iaddn=function(e){this.words[0]+=e;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(e){if(p(typeof e=="number"),p(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(e){return this.clone().iaddn(e)},u.prototype.subn=function(e){return this.clone().isubn(e)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(e,n,c){var s=e.length+c,t;this._expand(s);var h,k=0;for(t=0;t<e.length;t++){h=(this.words[t+c]|0)+k;var d=(e.words[t]|0)*n;h-=d&67108863,k=(h>>26)-(d/67108864|0),this.words[t+c]=h&67108863}for(;t<this.length-c;t++)h=(this.words[t+c]|0)+k,k=h>>26,this.words[t+c]=h&67108863;if(k===0)return this.strip();for(p(k===-1),k=0,t=0;t<this.length;t++)h=-(this.words[t]|0)+k,k=h>>26,this.words[t]=h&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(e,n){var c=this.length-e.length,s=this.clone(),t=e,h=t.words[t.length-1]|0,k=this._countBits(h);c=26-k,c!==0&&(t=t.ushln(c),s.iushln(c),h=t.words[t.length-1]|0);var d=s.length-t.length,o;if(n!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var b=0;b<o.length;b++)o.words[b]=0}var W=s.clone()._ishlnsubmul(t,1,d);W.negative===0&&(s=W,o&&(o.words[d]=1));for(var O=d-1;O>=0;O--){var P=(s.words[t.length+O]|0)*67108864+(s.words[t.length+O-1]|0);for(P=Math.min(P/h|0,67108863),s._ishlnsubmul(t,P,O);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(t,1,O),s.isZero()||(s.negative^=1);o&&(o.words[O]=P)}return o&&o.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:o||null,mod:s}},u.prototype.divmod=function(e,n,c){if(p(!e.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,t,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,n),n!=="mod"&&(s=h.div.neg()),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.iadd(e)),{div:s,mod:t}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),n),n!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),n),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.isub(e)),{div:h.div,mod:t}):e.length>this.length||this.cmp(e)<0?{div:new u(0),mod:this}:e.length===1?n==="div"?{div:this.divn(e.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new u(this.modn(e.words[0]))}:this._wordDiv(e,n)},u.prototype.div=function(e){return this.divmod(e,"div",!1).div},u.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},u.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},u.prototype.divRound=function(e){var n=this.divmod(e);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(e):n.mod,s=e.ushrn(1),t=e.andln(1),h=c.cmp(s);return h<0||t===1&&h===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(e){p(e<=67108863);for(var n=67108864%e,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%e;return c},u.prototype.idivn=function(e){p(e<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/e|0,n=s%e}return this.strip()},u.prototype.divn=function(e){return this.clone().idivn(e)},u.prototype.egcd=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=new u(0),k=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var o=c.clone(),b=n.clone();!n.isZero();){for(var W=0,O=1;(n.words[0]&O)===0&&W<26;++W,O<<=1);if(W>0)for(n.iushrn(W);W-- >0;)(s.isOdd()||t.isOdd())&&(s.iadd(o),t.isub(b)),s.iushrn(1),t.iushrn(1);for(var P=0,pe=1;(c.words[0]&pe)===0&&P<26;++P,pe<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(h.isOdd()||k.isOdd())&&(h.iadd(o),k.isub(b)),h.iushrn(1),k.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(h),t.isub(k)):(c.isub(n),h.isub(s),k.isub(t))}return{a:h,b:k,gcd:c.iushln(d)}},u.prototype._invmp=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var k=0,d=1;(n.words[0]&d)===0&&k<26;++k,d<<=1);if(k>0)for(n.iushrn(k);k-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var o=0,b=1;(c.words[0]&b)===0&&o<26;++o,b<<=1);if(o>0)for(c.iushrn(o);o-- >0;)t.isOdd()&&t.iadd(h),t.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(t)):(c.isub(n),t.isub(s))}var W;return n.cmpn(1)===0?W=s:W=t,W.cmpn(0)<0&&W.iadd(e),W},u.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var n=this.clone(),c=e.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var t=n.cmp(c);if(t<0){var h=n;n=c,c=h}else if(t===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(e){return this.egcd(e).a.umod(e)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(e){return this.words[0]&e},u.prototype.bincn=function(e){p(typeof e=="number");var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var t=s,h=c;t!==0&&h<this.length;h++){var k=this.words[h]|0;k+=t,t=k>>>26,k&=67108863,this.words[h]=k}return t!==0&&(this.words[h]=t,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(e){var n=e<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(e=-e),p(e<=67108863,"Number is too big");var s=this.words[0]|0;c=s===e?0:s<e?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var n=this.ucmp(e);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,t=e.words[c]|0;if(s!==t){s<t?n=-1:s>t&&(n=1);break}}return n},u.prototype.gtn=function(e){return this.cmpn(e)===1},u.prototype.gt=function(e){return this.cmp(e)===1},u.prototype.gten=function(e){return this.cmpn(e)>=0},u.prototype.gte=function(e){return this.cmp(e)>=0},u.prototype.ltn=function(e){return this.cmpn(e)===-1},u.prototype.lt=function(e){return this.cmp(e)===-1},u.prototype.lten=function(e){return this.cmpn(e)<=0},u.prototype.lte=function(e){return this.cmp(e)<=0},u.prototype.eqn=function(e){return this.cmpn(e)===0},u.prototype.eq=function(e){return this.cmp(e)===0},u.red=function(e){return new ue(e)},u.prototype.toRed=function(e){return p(!this.red,"Already a number in reduction context"),p(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},u.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(e){return this.red=e,this},u.prototype.forceRed=function(e){return p(!this.red,"Already a number in reduction context"),this._forceRed(e)},u.prototype.redAdd=function(e){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},u.prototype.redIAdd=function(e){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},u.prototype.redSub=function(e){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},u.prototype.redISub=function(e){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},u.prototype.redShl=function(e){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},u.prototype.redMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},u.prototype.redIMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},u.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(e){return p(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};function D(e,n){this.name=e,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var e=new u(null);return e.words=new Array(Math.ceil(this.n/13)),e},D.prototype.ireduce=function(e){var n=e,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(e,n){e.iushrn(this.n,0,n)},D.prototype.imulK=function(e){return e.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(e,n){for(var c=4194303,s=Math.min(e.length,9),t=0;t<s;t++)n.words[t]=e.words[t];if(n.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(n.words[n.length++]=h&c,t=10;t<e.length;t++){var k=e.words[t]|0;e.words[t-10]=(k&c)<<4|h>>>22,h=k}h>>>=22,e.words[t-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var n=0,c=0;c<e.length;c++){var s=e.words[c]|0;n+=s*977,e.words[c]=n&67108863,n=s*64+(n/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function ce(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(ce,D);function be(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(be,D);function qe(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(qe,D),qe.prototype.imulK=function(e){for(var n=0,c=0;c<e.length;c++){var s=(e.words[c]|0)*19+n,t=s&67108863;s>>>=26,e.words[c]=t,n=s}return n!==0&&(e.words[e.length++]=n),e},u._prime=function(e){if(E[e])return E[e];var n;if(e==="k256")n=new C;else if(e==="p224")n=new ce;else if(e==="p192")n=new be;else if(e==="p25519")n=new qe;else throw new Error("Unknown prime "+e);return E[e]=n,n};function ue(e){if(typeof e=="string"){var n=u._prime(e);this.m=n.p,this.prime=n}else p(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}ue.prototype._verify1=function(e){p(e.negative===0,"red works only with positives"),p(e.red,"red works only with red numbers")},ue.prototype._verify2=function(e,n){p((e.negative|n.negative)===0,"red works only with positives"),p(e.red&&e.red===n.red,"red works only with red numbers")},ue.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},ue.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},ue.prototype.add=function(e,n){this._verify2(e,n);var c=e.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ue.prototype.iadd=function(e,n){this._verify2(e,n);var c=e.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},ue.prototype.sub=function(e,n){this._verify2(e,n);var c=e.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ue.prototype.isub=function(e,n){this._verify2(e,n);var c=e.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},ue.prototype.shl=function(e,n){return this._verify1(e),this.imod(e.ushln(n))},ue.prototype.imul=function(e,n){return this._verify2(e,n),this.imod(e.imul(n))},ue.prototype.mul=function(e,n){return this._verify2(e,n),this.imod(e.mul(n))},ue.prototype.isqr=function(e){return this.imul(e,e.clone())},ue.prototype.sqr=function(e){return this.mul(e,e)},ue.prototype.sqrt=function(e){if(e.isZero())return e.clone();var n=this.m.andln(3);if(p(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(e,c)}for(var s=this.m.subn(1),t=0;!s.isZero()&&s.andln(1)===0;)t++,s.iushrn(1);p(!s.isZero());var h=new u(1).toRed(this),k=h.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(k)!==0;)o.redIAdd(k);for(var b=this.pow(o,s),W=this.pow(e,s.addn(1).iushrn(1)),O=this.pow(e,s),P=t;O.cmp(h)!==0;){for(var pe=O,Ne=0;pe.cmp(h)!==0;Ne++)pe=pe.redSqr();p(Ne<P);var xe=this.pow(b,new u(1).iushln(P-Ne-1));W=W.redMul(xe),b=xe.redSqr(),O=O.redMul(b),P=Ne}return W},ue.prototype.invm=function(e){var n=e._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},ue.prototype.pow=function(e,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return e.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=e;for(var t=2;t<s.length;t++)s[t]=this.mul(s[t-1],e);var h=s[0],k=0,d=0,o=n.bitLength()%26;for(o===0&&(o=26),t=n.length-1;t>=0;t--){for(var b=n.words[t],W=o-1;W>=0;W--){var O=b>>W&1;if(h!==s[0]&&(h=this.sqr(h)),O===0&&k===0){d=0;continue}k<<=1,k|=O,d++,!(d!==c&&(t!==0||W!==0))&&(h=this.mul(h,s[k]),d=0,k=0)}o=26}return h},ue.prototype.convertTo=function(e){var n=e.umod(this.m);return n===e?n.clone():n},ue.prototype.convertFrom=function(e){var n=e.clone();return n.red=null,n},u.mont=function(e){return new $e(e)};function $e(e){ue.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x($e,ue),$e.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},$e.prototype.convertFrom=function(e){var n=this.imod(e.mul(this.rinv));return n.red=null,n},$e.prototype.imul=function(e,n){if(e.isZero()||n.isZero())return e.words[0]=0,e.length=1,e;var c=e.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.mul=function(e,n){if(e.isZero()||n.isZero())return new u(0)._forceRed(this);var c=e.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.invm=function(e){var n=this.imod(e._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof m>"u"||m,l)}),Mu=je((l,m)=>{var r=Bs(),N=Vu();m.exports=function(_){return new x(_)};var p={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};p.p224=p.secp224r1,p.p256=p.secp256r1=p.prime256v1,p.p192=p.secp192r1=p.prime192v1,p.p384=p.secp384r1,p.p521=p.secp521r1;function x(_){this.curveType=p[_],this.curveType||(this.curveType={name:_}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}x.prototype.generateKeys=function(_,L){return this.keys=this.curve.genKeyPair(),this.getPublicKey(_,L)},x.prototype.computeSecret=function(_,L,y){L=L||"utf8",Buffer.isBuffer(_)||(_=new Buffer(_,L));var R=this.curve.keyFromPublic(_).getPublic(),v=R.mul(this.keys.getPrivate()).getX();return u(v,y,this.curveType.byteLength)},x.prototype.getPublicKey=function(_,L){var y=this.keys.getPublic(L==="compressed",!0);return L==="hybrid"&&(y[y.length-1]%2?y[0]=7:y[0]=6),u(y,_)},x.prototype.getPrivateKey=function(_){return u(this.keys.getPrivate(),_)},x.prototype.setPublicKey=function(_,L){return L=L||"utf8",Buffer.isBuffer(_)||(_=new Buffer(_,L)),this.keys._importPublic(_),this},x.prototype.setPrivateKey=function(_,L){L=L||"utf8",Buffer.isBuffer(_)||(_=new Buffer(_,L));var y=new N(_);return y=y.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(y),this};function u(_,L,y){Array.isArray(_)||(_=_.toArray());var R=new Buffer(_);if(y&&R.length<y){var v=new Buffer(y-R.length);v.fill(0),R=Buffer.concat([v,R])}return L?R.toString(L):R}}),Wr=je((l,m)=>{var r=pn(),N=ho().Buffer;m.exports=function(x,u){for(var _=N.alloc(0),L=0,y;_.length<u;)y=p(L++),_=N.concat([_,r("sha1").update(x).update(y).digest()]);return _.slice(0,u)};function p(x){var u=N.allocUnsafe(4);return u.writeUInt32BE(x,0),u}}),wr=je((l,m)=>{m.exports=function(r,N){for(var p=r.length,x=-1;++x<p;)r[x]^=N[x];return r}}),nl=je((l,m)=>{(function(r,N){function p(e,n){if(!e)throw new Error(n||"Assertion failed")}function x(e,n){e.super_=n;var c=function(){};c.prototype=n.prototype,e.prototype=new c,e.prototype.constructor=e}function u(e,n,c){if(u.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(e||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:N.BN=u,u.BN=u,u.wordSize=26;var _;try{typeof window<"u"&&typeof window.Buffer<"u"?_=window.Buffer:_=Ua().Buffer}catch{}u.isBN=function(e){return e instanceof u?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===u.wordSize&&Array.isArray(e.words)},u.max=function(e,n){return e.cmp(n)>0?e:n},u.min=function(e,n){return e.cmp(n)<0?e:n},u.prototype._init=function(e,n,c){if(typeof e=="number")return this._initNumber(e,n,c);if(typeof e=="object")return this._initArray(e,n,c);n==="hex"&&(n=16),p(n===(n|0)&&n>=2&&n<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(n===16?this._parseHex(e,s,c):(this._parseBase(e,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(e,n,c){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(p(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(e,n,c){if(p(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t,h,k=0;if(c==="be")for(s=e.length-1,t=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);else if(c==="le")for(s=0,t=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[t]|=h<<k&67108863,this.words[t+1]=h>>>26-k&67108863,k+=24,k>=26&&(k-=26,t++);return this.strip()};function L(e,n){var c=e.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(e,n,c){var s=L(e,c);return c-1>=n&&(s|=L(e,c-1)<<4),s}u.prototype._parseHex=function(e,n,c){this.length=Math.ceil((e.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var t=0,h=0,k;if(c==="be")for(s=e.length-1;s>=n;s-=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8;else{var d=e.length-n;for(s=d%2===0?n+1:n;s<e.length;s+=2)k=y(e,n,s)<<t,this.words[h]|=k&67108863,t>=18?(t-=18,h+=1,this.words[h]|=k>>>26):t+=8}this.strip()};function R(e,n,c,s){for(var t=0,h=Math.min(e.length,c),k=n;k<h;k++){var d=e.charCodeAt(k)-48;t*=s,d>=49?t+=d-49+10:d>=17?t+=d-17+10:t+=d}return t}u.prototype._parseBase=function(e,n,c){this.words=[0],this.length=1;for(var s=0,t=1;t<=67108863;t*=n)s++;s--,t=t/n|0;for(var h=e.length-c,k=h%s,d=Math.min(h,h-k)+c,o=0,b=c;b<d;b+=s)o=R(e,b,b+s,n),this.imuln(t),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(k!==0){var W=1;for(o=R(e,b,e.length,n),b=0;b<k;b++)W*=n;this.imuln(W),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(e){e.words=new Array(this.length);for(var n=0;n<this.length;n++)e.words[n]=this.words[n];e.length=this.length,e.negative=this.negative,e.red=this.red},u.prototype.clone=function(){var e=new u(null);return this.copy(e),e},u.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(e,n){e=e||10,n=n|0||1;var c;if(e===16||e==="hex"){c="";for(var s=0,t=0,h=0;h<this.length;h++){var k=this.words[h],d=((k<<s|t)&16777215).toString(16);t=k>>>24-s&16777215,t!==0||h!==this.length-1?c=v[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,h--)}for(t!==0&&(c=t.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(e===(e|0)&&e>=2&&e<=36){var o=$[e],b=M[e];c="";var W=this.clone();for(W.negative=0;!W.isZero();){var O=W.modn(b).toString(e);W=W.idivn(b),W.isZero()?c=O+c:c=v[o-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}p(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&p(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(e,n){return p(typeof _<"u"),this.toArrayLike(_,e,n)},u.prototype.toArray=function(e,n){return this.toArrayLike(Array,e,n)},u.prototype.toArrayLike=function(e,n,c){var s=this.byteLength(),t=c||Math.max(1,s);p(s<=t,"byte array longer than desired length"),p(t>0,"Requested array length <= 0"),this.strip();var h=n==="le",k=new e(t),d,o,b=this.clone();if(h){for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[o]=d;for(;o<t;o++)k[o]=0}else{for(o=0;o<t-s;o++)k[o]=0;for(o=0;!b.isZero();o++)d=b.andln(255),b.iushrn(8),k[t-o-1]=d}return k},Math.clz32?u.prototype._countBits=function(e){return 32-Math.clz32(e)}:u.prototype._countBits=function(e){var n=e,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(e){if(e===0)return 26;var n=e,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var e=this.words[this.length-1],n=this._countBits(e);return(this.length-1)*26+n};function T(e){for(var n=new Array(e.bitLength()),c=0;c<n.length;c++){var s=c/26|0,t=c%26;n[c]=(e.words[s]&1<<t)>>>t}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(e+=c,c!==26)break}return e},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},u.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]|e.words[n];return this.strip()},u.prototype.ior=function(e){return p((this.negative|e.negative)===0),this.iuor(e)},u.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},u.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},u.prototype.iuand=function(e){var n;this.length>e.length?n=e:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&e.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(e){return p((this.negative|e.negative)===0),this.iuand(e)},u.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},u.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},u.prototype.iuxor=function(e){var n,c;this.length>e.length?(n=this,c=e):(n=e,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(e){return p((this.negative|e.negative)===0),this.iuxor(e)},u.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},u.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},u.prototype.inotn=function(e){p(typeof e=="number"&&e>=0);var n=Math.ceil(e/26)|0,c=e%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(e){return this.clone().inotn(e)},u.prototype.setn=function(e,n){p(typeof e=="number"&&e>=0);var c=e/26|0,s=e%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(e){var n;if(this.negative!==0&&e.negative===0)return this.negative=0,n=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,n=this.isub(e),e.negative=1,n._normSign();var c,s;this.length>e.length?(c=this,s=e):(c=e,s=this);for(var t=0,h=0;h<s.length;h++)n=(c.words[h]|0)+(s.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;for(;t!==0&&h<c.length;h++)n=(c.words[h]|0)+t,this.words[h]=n&67108863,t=n>>>26;if(this.length=c.length,t!==0)this.words[this.length]=t,this.length++;else if(c!==this)for(;h<c.length;h++)this.words[h]=c.words[h];return this},u.prototype.add=function(e){var n;return e.negative!==0&&this.negative===0?(e.negative=0,n=this.sub(e),e.negative^=1,n):e.negative===0&&this.negative!==0?(this.negative=0,n=e.sub(this),this.negative=1,n):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},u.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var n=this.iadd(e);return e.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var c=this.cmp(e);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,t;c>0?(s=this,t=e):(s=e,t=this);for(var h=0,k=0;k<t.length;k++)n=(s.words[k]|0)-(t.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;for(;h!==0&&k<s.length;k++)n=(s.words[k]|0)+h,h=n>>26,this.words[k]=n&67108863;if(h===0&&k<s.length&&s!==this)for(;k<s.length;k++)this.words[k]=s.words[k];return this.length=Math.max(this.length,k),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(e){return this.clone().isub(e)};function q(e,n,c){c.negative=n.negative^e.negative;var s=e.length+n.length|0;c.length=s,s=s-1|0;var t=e.words[0]|0,h=n.words[0]|0,k=t*h,d=k&67108863,o=k/67108864|0;c.words[0]=d;for(var b=1;b<s;b++){for(var W=o>>>26,O=o&67108863,P=Math.min(b,n.length-1),pe=Math.max(0,b-e.length+1);pe<=P;pe++){var Ne=b-pe|0;t=e.words[Ne]|0,h=n.words[pe]|0,k=t*h+O,W+=k/67108864|0,O=k&67108863}c.words[b]=O|0,o=W|0}return o!==0?c.words[b]=o|0:c.length--,c.strip()}var X=function(e,n,c){var s=e.words,t=n.words,h=c.words,k=0,d,o,b,W=s[0]|0,O=W&8191,P=W>>>13,pe=s[1]|0,Ne=pe&8191,xe=pe>>>13,te=s[2]|0,ie=te&8191,he=te>>>13,Fe=s[3]|0,Re=Fe&8191,ge=Fe>>>13,H=s[4]|0,w=H&8191,B=H>>>13,Te=s[5]|0,Le=Te&8191,Ve=Te>>>13,Pe=s[6]|0,We=Pe&8191,Ie=Pe>>>13,Qe=s[7]|0,Je=Qe&8191,Se=Qe>>>13,bo=s[8]|0,U=bo&8191,a=bo>>>13,i=s[9]|0,f=i&8191,Z=i>>>13,V=t[0]|0,g=V&8191,F=V>>>13,z=t[1]|0,J=z&8191,K=z>>>13,oe=t[2]|0,Y=oe&8191,G=oe>>>13,ne=t[3]|0,A=ne&8191,re=ne>>>13,ke=t[4]|0,ee=ke&8191,ae=ke>>>13,se=t[5]|0,Q=se&8191,le=se>>>13,fe=t[6]|0,me=fe&8191,de=fe>>>13,Oe=t[7]|0,_e=Oe&8191,ve=Oe>>>13,Xe=t[8]|0,ye=Xe&8191,Ze=Xe>>>13,we=t[9]|0,Me=we&8191,Ue=we>>>13;c.negative=e.negative^n.negative,c.length=19,d=Math.imul(O,g),o=Math.imul(O,F),o=o+Math.imul(P,g)|0,b=Math.imul(P,F);var ze=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(Ne,g),o=Math.imul(Ne,F),o=o+Math.imul(xe,g)|0,b=Math.imul(xe,F),d=d+Math.imul(O,J)|0,o=o+Math.imul(O,K)|0,o=o+Math.imul(P,J)|0,b=b+Math.imul(P,K)|0;var Ke=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(ie,g),o=Math.imul(ie,F),o=o+Math.imul(he,g)|0,b=Math.imul(he,F),d=d+Math.imul(Ne,J)|0,o=o+Math.imul(Ne,K)|0,o=o+Math.imul(xe,J)|0,b=b+Math.imul(xe,K)|0,d=d+Math.imul(O,Y)|0,o=o+Math.imul(O,G)|0,o=o+Math.imul(P,Y)|0,b=b+Math.imul(P,G)|0;var Ee=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(Re,g),o=Math.imul(Re,F),o=o+Math.imul(ge,g)|0,b=Math.imul(ge,F),d=d+Math.imul(ie,J)|0,o=o+Math.imul(ie,K)|0,o=o+Math.imul(he,J)|0,b=b+Math.imul(he,K)|0,d=d+Math.imul(Ne,Y)|0,o=o+Math.imul(Ne,G)|0,o=o+Math.imul(xe,Y)|0,b=b+Math.imul(xe,G)|0,d=d+Math.imul(O,A)|0,o=o+Math.imul(O,re)|0,o=o+Math.imul(P,A)|0,b=b+Math.imul(P,re)|0;var De=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(De>>>26)|0,De&=67108863,d=Math.imul(w,g),o=Math.imul(w,F),o=o+Math.imul(B,g)|0,b=Math.imul(B,F),d=d+Math.imul(Re,J)|0,o=o+Math.imul(Re,K)|0,o=o+Math.imul(ge,J)|0,b=b+Math.imul(ge,K)|0,d=d+Math.imul(ie,Y)|0,o=o+Math.imul(ie,G)|0,o=o+Math.imul(he,Y)|0,b=b+Math.imul(he,G)|0,d=d+Math.imul(Ne,A)|0,o=o+Math.imul(Ne,re)|0,o=o+Math.imul(xe,A)|0,b=b+Math.imul(xe,re)|0,d=d+Math.imul(O,ee)|0,o=o+Math.imul(O,ae)|0,o=o+Math.imul(P,ee)|0,b=b+Math.imul(P,ae)|0;var Ge=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,d=Math.imul(Le,g),o=Math.imul(Le,F),o=o+Math.imul(Ve,g)|0,b=Math.imul(Ve,F),d=d+Math.imul(w,J)|0,o=o+Math.imul(w,K)|0,o=o+Math.imul(B,J)|0,b=b+Math.imul(B,K)|0,d=d+Math.imul(Re,Y)|0,o=o+Math.imul(Re,G)|0,o=o+Math.imul(ge,Y)|0,b=b+Math.imul(ge,G)|0,d=d+Math.imul(ie,A)|0,o=o+Math.imul(ie,re)|0,o=o+Math.imul(he,A)|0,b=b+Math.imul(he,re)|0,d=d+Math.imul(Ne,ee)|0,o=o+Math.imul(Ne,ae)|0,o=o+Math.imul(xe,ee)|0,b=b+Math.imul(xe,ae)|0,d=d+Math.imul(O,Q)|0,o=o+Math.imul(O,le)|0,o=o+Math.imul(P,Q)|0,b=b+Math.imul(P,le)|0;var Ce=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,d=Math.imul(We,g),o=Math.imul(We,F),o=o+Math.imul(Ie,g)|0,b=Math.imul(Ie,F),d=d+Math.imul(Le,J)|0,o=o+Math.imul(Le,K)|0,o=o+Math.imul(Ve,J)|0,b=b+Math.imul(Ve,K)|0,d=d+Math.imul(w,Y)|0,o=o+Math.imul(w,G)|0,o=o+Math.imul(B,Y)|0,b=b+Math.imul(B,G)|0,d=d+Math.imul(Re,A)|0,o=o+Math.imul(Re,re)|0,o=o+Math.imul(ge,A)|0,b=b+Math.imul(ge,re)|0,d=d+Math.imul(ie,ee)|0,o=o+Math.imul(ie,ae)|0,o=o+Math.imul(he,ee)|0,b=b+Math.imul(he,ae)|0,d=d+Math.imul(Ne,Q)|0,o=o+Math.imul(Ne,le)|0,o=o+Math.imul(xe,Q)|0,b=b+Math.imul(xe,le)|0,d=d+Math.imul(O,me)|0,o=o+Math.imul(O,de)|0,o=o+Math.imul(P,me)|0,b=b+Math.imul(P,de)|0;var He=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(Je,g),o=Math.imul(Je,F),o=o+Math.imul(Se,g)|0,b=Math.imul(Se,F),d=d+Math.imul(We,J)|0,o=o+Math.imul(We,K)|0,o=o+Math.imul(Ie,J)|0,b=b+Math.imul(Ie,K)|0,d=d+Math.imul(Le,Y)|0,o=o+Math.imul(Le,G)|0,o=o+Math.imul(Ve,Y)|0,b=b+Math.imul(Ve,G)|0,d=d+Math.imul(w,A)|0,o=o+Math.imul(w,re)|0,o=o+Math.imul(B,A)|0,b=b+Math.imul(B,re)|0,d=d+Math.imul(Re,ee)|0,o=o+Math.imul(Re,ae)|0,o=o+Math.imul(ge,ee)|0,b=b+Math.imul(ge,ae)|0,d=d+Math.imul(ie,Q)|0,o=o+Math.imul(ie,le)|0,o=o+Math.imul(he,Q)|0,b=b+Math.imul(he,le)|0,d=d+Math.imul(Ne,me)|0,o=o+Math.imul(Ne,de)|0,o=o+Math.imul(xe,me)|0,b=b+Math.imul(xe,de)|0,d=d+Math.imul(O,_e)|0,o=o+Math.imul(O,ve)|0,o=o+Math.imul(P,_e)|0,b=b+Math.imul(P,ve)|0;var Be=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Be>>>26)|0,Be&=67108863,d=Math.imul(U,g),o=Math.imul(U,F),o=o+Math.imul(a,g)|0,b=Math.imul(a,F),d=d+Math.imul(Je,J)|0,o=o+Math.imul(Je,K)|0,o=o+Math.imul(Se,J)|0,b=b+Math.imul(Se,K)|0,d=d+Math.imul(We,Y)|0,o=o+Math.imul(We,G)|0,o=o+Math.imul(Ie,Y)|0,b=b+Math.imul(Ie,G)|0,d=d+Math.imul(Le,A)|0,o=o+Math.imul(Le,re)|0,o=o+Math.imul(Ve,A)|0,b=b+Math.imul(Ve,re)|0,d=d+Math.imul(w,ee)|0,o=o+Math.imul(w,ae)|0,o=o+Math.imul(B,ee)|0,b=b+Math.imul(B,ae)|0,d=d+Math.imul(Re,Q)|0,o=o+Math.imul(Re,le)|0,o=o+Math.imul(ge,Q)|0,b=b+Math.imul(ge,le)|0,d=d+Math.imul(ie,me)|0,o=o+Math.imul(ie,de)|0,o=o+Math.imul(he,me)|0,b=b+Math.imul(he,de)|0,d=d+Math.imul(Ne,_e)|0,o=o+Math.imul(Ne,ve)|0,o=o+Math.imul(xe,_e)|0,b=b+Math.imul(xe,ve)|0,d=d+Math.imul(O,ye)|0,o=o+Math.imul(O,Ze)|0,o=o+Math.imul(P,ye)|0,b=b+Math.imul(P,Ze)|0;var Ye=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,d=Math.imul(f,g),o=Math.imul(f,F),o=o+Math.imul(Z,g)|0,b=Math.imul(Z,F),d=d+Math.imul(U,J)|0,o=o+Math.imul(U,K)|0,o=o+Math.imul(a,J)|0,b=b+Math.imul(a,K)|0,d=d+Math.imul(Je,Y)|0,o=o+Math.imul(Je,G)|0,o=o+Math.imul(Se,Y)|0,b=b+Math.imul(Se,G)|0,d=d+Math.imul(We,A)|0,o=o+Math.imul(We,re)|0,o=o+Math.imul(Ie,A)|0,b=b+Math.imul(Ie,re)|0,d=d+Math.imul(Le,ee)|0,o=o+Math.imul(Le,ae)|0,o=o+Math.imul(Ve,ee)|0,b=b+Math.imul(Ve,ae)|0,d=d+Math.imul(w,Q)|0,o=o+Math.imul(w,le)|0,o=o+Math.imul(B,Q)|0,b=b+Math.imul(B,le)|0,d=d+Math.imul(Re,me)|0,o=o+Math.imul(Re,de)|0,o=o+Math.imul(ge,me)|0,b=b+Math.imul(ge,de)|0,d=d+Math.imul(ie,_e)|0,o=o+Math.imul(ie,ve)|0,o=o+Math.imul(he,_e)|0,b=b+Math.imul(he,ve)|0,d=d+Math.imul(Ne,ye)|0,o=o+Math.imul(Ne,Ze)|0,o=o+Math.imul(xe,ye)|0,b=b+Math.imul(xe,Ze)|0,d=d+Math.imul(O,Me)|0,o=o+Math.imul(O,Ue)|0,o=o+Math.imul(P,Me)|0,b=b+Math.imul(P,Ue)|0;var lo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(lo>>>26)|0,lo&=67108863,d=Math.imul(f,J),o=Math.imul(f,K),o=o+Math.imul(Z,J)|0,b=Math.imul(Z,K),d=d+Math.imul(U,Y)|0,o=o+Math.imul(U,G)|0,o=o+Math.imul(a,Y)|0,b=b+Math.imul(a,G)|0,d=d+Math.imul(Je,A)|0,o=o+Math.imul(Je,re)|0,o=o+Math.imul(Se,A)|0,b=b+Math.imul(Se,re)|0,d=d+Math.imul(We,ee)|0,o=o+Math.imul(We,ae)|0,o=o+Math.imul(Ie,ee)|0,b=b+Math.imul(Ie,ae)|0,d=d+Math.imul(Le,Q)|0,o=o+Math.imul(Le,le)|0,o=o+Math.imul(Ve,Q)|0,b=b+Math.imul(Ve,le)|0,d=d+Math.imul(w,me)|0,o=o+Math.imul(w,de)|0,o=o+Math.imul(B,me)|0,b=b+Math.imul(B,de)|0,d=d+Math.imul(Re,_e)|0,o=o+Math.imul(Re,ve)|0,o=o+Math.imul(ge,_e)|0,b=b+Math.imul(ge,ve)|0,d=d+Math.imul(ie,ye)|0,o=o+Math.imul(ie,Ze)|0,o=o+Math.imul(he,ye)|0,b=b+Math.imul(he,Ze)|0,d=d+Math.imul(Ne,Me)|0,o=o+Math.imul(Ne,Ue)|0,o=o+Math.imul(xe,Me)|0,b=b+Math.imul(xe,Ue)|0;var Ae=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,d=Math.imul(f,Y),o=Math.imul(f,G),o=o+Math.imul(Z,Y)|0,b=Math.imul(Z,G),d=d+Math.imul(U,A)|0,o=o+Math.imul(U,re)|0,o=o+Math.imul(a,A)|0,b=b+Math.imul(a,re)|0,d=d+Math.imul(Je,ee)|0,o=o+Math.imul(Je,ae)|0,o=o+Math.imul(Se,ee)|0,b=b+Math.imul(Se,ae)|0,d=d+Math.imul(We,Q)|0,o=o+Math.imul(We,le)|0,o=o+Math.imul(Ie,Q)|0,b=b+Math.imul(Ie,le)|0,d=d+Math.imul(Le,me)|0,o=o+Math.imul(Le,de)|0,o=o+Math.imul(Ve,me)|0,b=b+Math.imul(Ve,de)|0,d=d+Math.imul(w,_e)|0,o=o+Math.imul(w,ve)|0,o=o+Math.imul(B,_e)|0,b=b+Math.imul(B,ve)|0,d=d+Math.imul(Re,ye)|0,o=o+Math.imul(Re,Ze)|0,o=o+Math.imul(ge,ye)|0,b=b+Math.imul(ge,Ze)|0,d=d+Math.imul(ie,Me)|0,o=o+Math.imul(ie,Ue)|0,o=o+Math.imul(he,Me)|0,b=b+Math.imul(he,Ue)|0;var ao=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(ao>>>26)|0,ao&=67108863,d=Math.imul(f,A),o=Math.imul(f,re),o=o+Math.imul(Z,A)|0,b=Math.imul(Z,re),d=d+Math.imul(U,ee)|0,o=o+Math.imul(U,ae)|0,o=o+Math.imul(a,ee)|0,b=b+Math.imul(a,ae)|0,d=d+Math.imul(Je,Q)|0,o=o+Math.imul(Je,le)|0,o=o+Math.imul(Se,Q)|0,b=b+Math.imul(Se,le)|0,d=d+Math.imul(We,me)|0,o=o+Math.imul(We,de)|0,o=o+Math.imul(Ie,me)|0,b=b+Math.imul(Ie,de)|0,d=d+Math.imul(Le,_e)|0,o=o+Math.imul(Le,ve)|0,o=o+Math.imul(Ve,_e)|0,b=b+Math.imul(Ve,ve)|0,d=d+Math.imul(w,ye)|0,o=o+Math.imul(w,Ze)|0,o=o+Math.imul(B,ye)|0,b=b+Math.imul(B,Ze)|0,d=d+Math.imul(Re,Me)|0,o=o+Math.imul(Re,Ue)|0,o=o+Math.imul(ge,Me)|0,b=b+Math.imul(ge,Ue)|0;var no=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(no>>>26)|0,no&=67108863,d=Math.imul(f,ee),o=Math.imul(f,ae),o=o+Math.imul(Z,ee)|0,b=Math.imul(Z,ae),d=d+Math.imul(U,Q)|0,o=o+Math.imul(U,le)|0,o=o+Math.imul(a,Q)|0,b=b+Math.imul(a,le)|0,d=d+Math.imul(Je,me)|0,o=o+Math.imul(Je,de)|0,o=o+Math.imul(Se,me)|0,b=b+Math.imul(Se,de)|0,d=d+Math.imul(We,_e)|0,o=o+Math.imul(We,ve)|0,o=o+Math.imul(Ie,_e)|0,b=b+Math.imul(Ie,ve)|0,d=d+Math.imul(Le,ye)|0,o=o+Math.imul(Le,Ze)|0,o=o+Math.imul(Ve,ye)|0,b=b+Math.imul(Ve,Ze)|0,d=d+Math.imul(w,Me)|0,o=o+Math.imul(w,Ue)|0,o=o+Math.imul(B,Me)|0,b=b+Math.imul(B,Ue)|0;var oo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(oo>>>26)|0,oo&=67108863,d=Math.imul(f,Q),o=Math.imul(f,le),o=o+Math.imul(Z,Q)|0,b=Math.imul(Z,le),d=d+Math.imul(U,me)|0,o=o+Math.imul(U,de)|0,o=o+Math.imul(a,me)|0,b=b+Math.imul(a,de)|0,d=d+Math.imul(Je,_e)|0,o=o+Math.imul(Je,ve)|0,o=o+Math.imul(Se,_e)|0,b=b+Math.imul(Se,ve)|0,d=d+Math.imul(We,ye)|0,o=o+Math.imul(We,Ze)|0,o=o+Math.imul(Ie,ye)|0,b=b+Math.imul(Ie,Ze)|0,d=d+Math.imul(Le,Me)|0,o=o+Math.imul(Le,Ue)|0,o=o+Math.imul(Ve,Me)|0,b=b+Math.imul(Ve,Ue)|0;var uo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(uo>>>26)|0,uo&=67108863,d=Math.imul(f,me),o=Math.imul(f,de),o=o+Math.imul(Z,me)|0,b=Math.imul(Z,de),d=d+Math.imul(U,_e)|0,o=o+Math.imul(U,ve)|0,o=o+Math.imul(a,_e)|0,b=b+Math.imul(a,ve)|0,d=d+Math.imul(Je,ye)|0,o=o+Math.imul(Je,Ze)|0,o=o+Math.imul(Se,ye)|0,b=b+Math.imul(Se,Ze)|0,d=d+Math.imul(We,Me)|0,o=o+Math.imul(We,Ue)|0,o=o+Math.imul(Ie,Me)|0,b=b+Math.imul(Ie,Ue)|0;var to=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(to>>>26)|0,to&=67108863,d=Math.imul(f,_e),o=Math.imul(f,ve),o=o+Math.imul(Z,_e)|0,b=Math.imul(Z,ve),d=d+Math.imul(U,ye)|0,o=o+Math.imul(U,Ze)|0,o=o+Math.imul(a,ye)|0,b=b+Math.imul(a,Ze)|0,d=d+Math.imul(Je,Me)|0,o=o+Math.imul(Je,Ue)|0,o=o+Math.imul(Se,Me)|0,b=b+Math.imul(Se,Ue)|0;var fo=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(fo>>>26)|0,fo&=67108863,d=Math.imul(f,ye),o=Math.imul(f,Ze),o=o+Math.imul(Z,ye)|0,b=Math.imul(Z,Ze),d=d+Math.imul(U,Me)|0,o=o+Math.imul(U,Ue)|0,o=o+Math.imul(a,Me)|0,b=b+Math.imul(a,Ue)|0;var io=(k+d|0)+((o&8191)<<13)|0;k=(b+(o>>>13)|0)+(io>>>26)|0,io&=67108863,d=Math.imul(f,Me),o=Math.imul(f,Ue),o=o+Math.imul(Z,Me)|0,b=Math.imul(Z,Ue);var ro=(k+d|0)+((o&8191)<<13)|0;return k=(b+(o>>>13)|0)+(ro>>>26)|0,ro&=67108863,h[0]=ze,h[1]=Ke,h[2]=Ee,h[3]=De,h[4]=Ge,h[5]=Ce,h[6]=He,h[7]=Be,h[8]=Ye,h[9]=lo,h[10]=Ae,h[11]=ao,h[12]=no,h[13]=oo,h[14]=uo,h[15]=to,h[16]=fo,h[17]=io,h[18]=ro,k!==0&&(h[19]=k,c.length++),c};Math.imul||(X=q);function j(e,n,c){c.negative=n.negative^e.negative,c.length=e.length+n.length;for(var s=0,t=0,h=0;h<c.length-1;h++){var k=t;t=0;for(var d=s&67108863,o=Math.min(h,n.length-1),b=Math.max(0,h-e.length+1);b<=o;b++){var W=h-b,O=e.words[W]|0,P=n.words[b]|0,pe=O*P,Ne=pe&67108863;k=k+(pe/67108864|0)|0,Ne=Ne+d|0,d=Ne&67108863,k=k+(Ne>>>26)|0,t+=k>>>26,k&=67108863}c.words[h]=d,s=k,k=t}return s!==0?c.words[h]=s:c.length--,c.strip()}function I(e,n,c){var s=new S;return s.mulp(e,n,c)}u.prototype.mulTo=function(e,n){var c,s=this.length+e.length;return this.length===10&&e.length===10?c=X(this,e,n):s<63?c=q(this,e,n):s<1024?c=j(this,e,n):c=I(this,e,n),c};function S(e,n){this.x=e,this.y=n}S.prototype.makeRBT=function(e){for(var n=new Array(e),c=u.prototype._countBits(e)-1,s=0;s<e;s++)n[s]=this.revBin(s,c,e);return n},S.prototype.revBin=function(e,n,c){if(e===0||e===c-1)return e;for(var s=0,t=0;t<n;t++)s|=(e&1)<<n-t-1,e>>=1;return s},S.prototype.permute=function(e,n,c,s,t,h){for(var k=0;k<h;k++)s[k]=n[e[k]],t[k]=c[e[k]]},S.prototype.transform=function(e,n,c,s,t,h){this.permute(h,e,n,c,s,t);for(var k=1;k<t;k<<=1)for(var d=k<<1,o=Math.cos(2*Math.PI/d),b=Math.sin(2*Math.PI/d),W=0;W<t;W+=d)for(var O=o,P=b,pe=0;pe<k;pe++){var Ne=c[W+pe],xe=s[W+pe],te=c[W+pe+k],ie=s[W+pe+k],he=O*te-P*ie;ie=O*ie+P*te,te=he,c[W+pe]=Ne+te,s[W+pe]=xe+ie,c[W+pe+k]=Ne-te,s[W+pe+k]=xe-ie,pe!==d&&(he=o*O-b*P,P=o*P+b*O,O=he)}},S.prototype.guessLen13b=function(e,n){var c=Math.max(n,e)|1,s=c&1,t=0;for(c=c/2|0;c;c=c>>>1)t++;return 1<<t+1+s},S.prototype.conjugate=function(e,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var t=e[s];e[s]=e[c-s-1],e[c-s-1]=t,t=n[s],n[s]=-n[c-s-1],n[c-s-1]=-t}},S.prototype.normalize13b=function(e,n){for(var c=0,s=0;s<n/2;s++){var t=Math.round(e[2*s+1]/n)*8192+Math.round(e[2*s]/n)+c;e[s]=t&67108863,t<67108864?c=0:c=t/67108864|0}return e},S.prototype.convert13b=function(e,n,c,s){for(var t=0,h=0;h<n;h++)t=t+(e[h]|0),c[2*h]=t&8191,t=t>>>13,c[2*h+1]=t&8191,t=t>>>13;for(h=2*n;h<s;++h)c[h]=0;p(t===0),p((t&-8192)===0)},S.prototype.stub=function(e){for(var n=new Array(e),c=0;c<e;c++)n[c]=0;return n},S.prototype.mulp=function(e,n,c){var s=2*this.guessLen13b(e.length,n.length),t=this.makeRBT(s),h=this.stub(s),k=new Array(s),d=new Array(s),o=new Array(s),b=new Array(s),W=new Array(s),O=new Array(s),P=c.words;P.length=s,this.convert13b(e.words,e.length,k,s),this.convert13b(n.words,n.length,b,s),this.transform(k,h,d,o,s,t),this.transform(b,h,W,O,s,t);for(var pe=0;pe<s;pe++){var Ne=d[pe]*W[pe]-o[pe]*O[pe];o[pe]=d[pe]*O[pe]+o[pe]*W[pe],d[pe]=Ne}return this.conjugate(d,o,s),this.transform(d,o,P,h,s,t),this.conjugate(P,h,s),this.normalize13b(P,s),c.negative=e.negative^n.negative,c.length=e.length+n.length,c.strip()},u.prototype.mul=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),this.mulTo(e,n)},u.prototype.mulf=function(e){var n=new u(null);return n.words=new Array(this.length+e.length),I(this,e,n)},u.prototype.imul=function(e){return this.clone().mulTo(e,this)},u.prototype.imuln=function(e){p(typeof e=="number"),p(e<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*e,t=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=t>>>26,this.words[c]=t&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(e){return this.clone().imuln(e)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(e){var n=T(e);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var t=c.sqr();s<n.length;s++,t=t.sqr())n[s]!==0&&(c=c.mul(t));return c},u.prototype.iushln=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=67108863>>>26-n<<26-n,t;if(n!==0){var h=0;for(t=0;t<this.length;t++){var k=this.words[t]&s,d=(this.words[t]|0)-k<<n;this.words[t]=d|h,h=k>>>26-n}h&&(this.words[t]=h,this.length++)}if(c!==0){for(t=this.length-1;t>=0;t--)this.words[t+c]=this.words[t];for(t=0;t<c;t++)this.words[t]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(e){return p(this.negative===0),this.iushln(e)},u.prototype.iushrn=function(e,n,c){p(typeof e=="number"&&e>=0);var s;n?s=(n-n%26)/26:s=0;var t=e%26,h=Math.min((e-t)/26,this.length),k=67108863^67108863>>>t<<t,d=c;if(s-=h,s=Math.max(0,s),d){for(var o=0;o<h;o++)d.words[o]=this.words[o];d.length=h}if(h!==0)if(this.length>h)for(this.length-=h,o=0;o<this.length;o++)this.words[o]=this.words[o+h];else this.words[0]=0,this.length=1;var b=0;for(o=this.length-1;o>=0&&(b!==0||o>=s);o--){var W=this.words[o]|0;this.words[o]=b<<26-t|W>>>t,b=W&k}return d&&b!==0&&(d.words[d.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(e,n,c){return p(this.negative===0),this.iushrn(e,n,c)},u.prototype.shln=function(e){return this.clone().ishln(e)},u.prototype.ushln=function(e){return this.clone().iushln(e)},u.prototype.shrn=function(e){return this.clone().ishrn(e)},u.prototype.ushrn=function(e){return this.clone().iushrn(e)},u.prototype.testn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return!1;var t=this.words[c];return!!(t&s)},u.prototype.imaskn=function(e){p(typeof e=="number"&&e>=0);var n=e%26,c=(e-n)/26;if(p(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(e){return this.clone().imaskn(e)},u.prototype.iaddn=function(e){return p(typeof e=="number"),p(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},u.prototype._iaddn=function(e){this.words[0]+=e;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(e){if(p(typeof e=="number"),p(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(e){return this.clone().iaddn(e)},u.prototype.subn=function(e){return this.clone().isubn(e)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(e,n,c){var s=e.length+c,t;this._expand(s);var h,k=0;for(t=0;t<e.length;t++){h=(this.words[t+c]|0)+k;var d=(e.words[t]|0)*n;h-=d&67108863,k=(h>>26)-(d/67108864|0),this.words[t+c]=h&67108863}for(;t<this.length-c;t++)h=(this.words[t+c]|0)+k,k=h>>26,this.words[t+c]=h&67108863;if(k===0)return this.strip();for(p(k===-1),k=0,t=0;t<this.length;t++)h=-(this.words[t]|0)+k,k=h>>26,this.words[t]=h&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(e,n){var c=this.length-e.length,s=this.clone(),t=e,h=t.words[t.length-1]|0,k=this._countBits(h);c=26-k,c!==0&&(t=t.ushln(c),s.iushln(c),h=t.words[t.length-1]|0);var d=s.length-t.length,o;if(n!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var b=0;b<o.length;b++)o.words[b]=0}var W=s.clone()._ishlnsubmul(t,1,d);W.negative===0&&(s=W,o&&(o.words[d]=1));for(var O=d-1;O>=0;O--){var P=(s.words[t.length+O]|0)*67108864+(s.words[t.length+O-1]|0);for(P=Math.min(P/h|0,67108863),s._ishlnsubmul(t,P,O);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(t,1,O),s.isZero()||(s.negative^=1);o&&(o.words[O]=P)}return o&&o.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:o||null,mod:s}},u.prototype.divmod=function(e,n,c){if(p(!e.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,t,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,n),n!=="mod"&&(s=h.div.neg()),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.iadd(e)),{div:s,mod:t}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),n),n!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),n),n!=="div"&&(t=h.mod.neg(),c&&t.negative!==0&&t.isub(e)),{div:h.div,mod:t}):e.length>this.length||this.cmp(e)<0?{div:new u(0),mod:this}:e.length===1?n==="div"?{div:this.divn(e.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new u(this.modn(e.words[0]))}:this._wordDiv(e,n)},u.prototype.div=function(e){return this.divmod(e,"div",!1).div},u.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},u.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},u.prototype.divRound=function(e){var n=this.divmod(e);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(e):n.mod,s=e.ushrn(1),t=e.andln(1),h=c.cmp(s);return h<0||t===1&&h===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(e){p(e<=67108863);for(var n=67108864%e,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%e;return c},u.prototype.idivn=function(e){p(e<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/e|0,n=s%e}return this.strip()},u.prototype.divn=function(e){return this.clone().idivn(e)},u.prototype.egcd=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=new u(0),k=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var o=c.clone(),b=n.clone();!n.isZero();){for(var W=0,O=1;(n.words[0]&O)===0&&W<26;++W,O<<=1);if(W>0)for(n.iushrn(W);W-- >0;)(s.isOdd()||t.isOdd())&&(s.iadd(o),t.isub(b)),s.iushrn(1),t.iushrn(1);for(var P=0,pe=1;(c.words[0]&pe)===0&&P<26;++P,pe<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(h.isOdd()||k.isOdd())&&(h.iadd(o),k.isub(b)),h.iushrn(1),k.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(h),t.isub(k)):(c.isub(n),h.isub(s),k.isub(t))}return{a:h,b:k,gcd:c.iushln(d)}},u.prototype._invmp=function(e){p(e.negative===0),p(!e.isZero());var n=this,c=e.clone();n.negative!==0?n=n.umod(e):n=n.clone();for(var s=new u(1),t=new u(0),h=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var k=0,d=1;(n.words[0]&d)===0&&k<26;++k,d<<=1);if(k>0)for(n.iushrn(k);k-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var o=0,b=1;(c.words[0]&b)===0&&o<26;++o,b<<=1);if(o>0)for(c.iushrn(o);o-- >0;)t.isOdd()&&t.iadd(h),t.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(t)):(c.isub(n),t.isub(s))}var W;return n.cmpn(1)===0?W=s:W=t,W.cmpn(0)<0&&W.iadd(e),W},u.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var n=this.clone(),c=e.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var t=n.cmp(c);if(t<0){var h=n;n=c,c=h}else if(t===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(e){return this.egcd(e).a.umod(e)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(e){return this.words[0]&e},u.prototype.bincn=function(e){p(typeof e=="number");var n=e%26,c=(e-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var t=s,h=c;t!==0&&h<this.length;h++){var k=this.words[h]|0;k+=t,t=k>>>26,k&=67108863,this.words[h]=k}return t!==0&&(this.words[h]=t,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(e){var n=e<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(e=-e),p(e<=67108863,"Number is too big");var s=this.words[0]|0;c=s===e?0:s<e?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var n=this.ucmp(e);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,t=e.words[c]|0;if(s!==t){s<t?n=-1:s>t&&(n=1);break}}return n},u.prototype.gtn=function(e){return this.cmpn(e)===1},u.prototype.gt=function(e){return this.cmp(e)===1},u.prototype.gten=function(e){return this.cmpn(e)>=0},u.prototype.gte=function(e){return this.cmp(e)>=0},u.prototype.ltn=function(e){return this.cmpn(e)===-1},u.prototype.lt=function(e){return this.cmp(e)===-1},u.prototype.lten=function(e){return this.cmpn(e)<=0},u.prototype.lte=function(e){return this.cmp(e)<=0},u.prototype.eqn=function(e){return this.cmpn(e)===0},u.prototype.eq=function(e){return this.cmp(e)===0},u.red=function(e){return new ue(e)},u.prototype.toRed=function(e){return p(!this.red,"Already a number in reduction context"),p(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},u.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(e){return this.red=e,this},u.prototype.forceRed=function(e){return p(!this.red,"Already a number in reduction context"),this._forceRed(e)},u.prototype.redAdd=function(e){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},u.prototype.redIAdd=function(e){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},u.prototype.redSub=function(e){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},u.prototype.redISub=function(e){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},u.prototype.redShl=function(e){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},u.prototype.redMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},u.prototype.redIMul=function(e){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},u.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(e){return p(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var E={k256:null,p224:null,p192:null,p25519:null};function D(e,n){this.name=e,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var e=new u(null);return e.words=new Array(Math.ceil(this.n/13)),e},D.prototype.ireduce=function(e){var n=e,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(e,n){e.iushrn(this.n,0,n)},D.prototype.imulK=function(e){return e.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(e,n){for(var c=4194303,s=Math.min(e.length,9),t=0;t<s;t++)n.words[t]=e.words[t];if(n.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(n.words[n.length++]=h&c,t=10;t<e.length;t++){var k=e.words[t]|0;e.words[t-10]=(k&c)<<4|h>>>22,h=k}h>>>=22,e.words[t-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var n=0,c=0;c<e.length;c++){var s=e.words[c]|0;n+=s*977,e.words[c]=n&67108863,n=s*64+(n/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function ce(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(ce,D);function be(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(be,D);function qe(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(qe,D),qe.prototype.imulK=function(e){for(var n=0,c=0;c<e.length;c++){var s=(e.words[c]|0)*19+n,t=s&67108863;s>>>=26,e.words[c]=t,n=s}return n!==0&&(e.words[e.length++]=n),e},u._prime=function(e){if(E[e])return E[e];var n;if(e==="k256")n=new C;else if(e==="p224")n=new ce;else if(e==="p192")n=new be;else if(e==="p25519")n=new qe;else throw new Error("Unknown prime "+e);return E[e]=n,n};function ue(e){if(typeof e=="string"){var n=u._prime(e);this.m=n.p,this.prime=n}else p(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}ue.prototype._verify1=function(e){p(e.negative===0,"red works only with positives"),p(e.red,"red works only with red numbers")},ue.prototype._verify2=function(e,n){p((e.negative|n.negative)===0,"red works only with positives"),p(e.red&&e.red===n.red,"red works only with red numbers")},ue.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},ue.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},ue.prototype.add=function(e,n){this._verify2(e,n);var c=e.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ue.prototype.iadd=function(e,n){this._verify2(e,n);var c=e.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},ue.prototype.sub=function(e,n){this._verify2(e,n);var c=e.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ue.prototype.isub=function(e,n){this._verify2(e,n);var c=e.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},ue.prototype.shl=function(e,n){return this._verify1(e),this.imod(e.ushln(n))},ue.prototype.imul=function(e,n){return this._verify2(e,n),this.imod(e.imul(n))},ue.prototype.mul=function(e,n){return this._verify2(e,n),this.imod(e.mul(n))},ue.prototype.isqr=function(e){return this.imul(e,e.clone())},ue.prototype.sqr=function(e){return this.mul(e,e)},ue.prototype.sqrt=function(e){if(e.isZero())return e.clone();var n=this.m.andln(3);if(p(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(e,c)}for(var s=this.m.subn(1),t=0;!s.isZero()&&s.andln(1)===0;)t++,s.iushrn(1);p(!s.isZero());var h=new u(1).toRed(this),k=h.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(k)!==0;)o.redIAdd(k);for(var b=this.pow(o,s),W=this.pow(e,s.addn(1).iushrn(1)),O=this.pow(e,s),P=t;O.cmp(h)!==0;){for(var pe=O,Ne=0;pe.cmp(h)!==0;Ne++)pe=pe.redSqr();p(Ne<P);var xe=this.pow(b,new u(1).iushln(P-Ne-1));W=W.redMul(xe),b=xe.redSqr(),O=O.redMul(b),P=Ne}return W},ue.prototype.invm=function(e){var n=e._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},ue.prototype.pow=function(e,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return e.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=e;for(var t=2;t<s.length;t++)s[t]=this.mul(s[t-1],e);var h=s[0],k=0,d=0,o=n.bitLength()%26;for(o===0&&(o=26),t=n.length-1;t>=0;t--){for(var b=n.words[t],W=o-1;W>=0;W--){var O=b>>W&1;if(h!==s[0]&&(h=this.sqr(h)),O===0&&k===0){d=0;continue}k<<=1,k|=O,d++,!(d!==c&&(t!==0||W!==0))&&(h=this.mul(h,s[k]),d=0,k=0)}o=26}return h},ue.prototype.convertTo=function(e){var n=e.umod(this.m);return n===e?n.clone():n},ue.prototype.convertFrom=function(e){var n=e.clone();return n.red=null,n},u.mont=function(e){return new $e(e)};function $e(e){ue.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x($e,ue),$e.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},$e.prototype.convertFrom=function(e){var n=this.imod(e.mul(this.rinv));return n.red=null,n},$e.prototype.imul=function(e,n){if(e.isZero()||n.isZero())return e.words[0]=0,e.length=1,e;var c=e.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.mul=function(e,n){if(e.isZero()||n.isZero())return new u(0)._forceRed(this);var c=e.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=c.isub(s).iushrn(this.shift),h=t;return t.cmp(this.m)>=0?h=t.isub(this.m):t.cmpn(0)<0&&(h=t.iadd(this.m)),h._forceRed(this)},$e.prototype.invm=function(e){var n=this.imod(e._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof m>"u"||m,l)}),jr=je((l,m)=>{var r=nl(),N=ho().Buffer;function p(x,u){return N.from(x.toRed(r.mont(u.modulus)).redPow(new r(u.publicExponent)).fromRed().toArray())}m.exports=p}),Lu=je((l,m)=>{var r=Cn(),N=Da(),p=pn(),x=Wr(),u=wr(),_=nl(),L=jr(),y=Ds(),R=ho().Buffer;m.exports=function(T,q,X){var j;T.padding?j=T.padding:X?j=1:j=4;var I=r(T),S;if(j===4)S=v(I,q);else if(j===1)S=$(I,q,X);else if(j===3){if(S=new _(q),S.cmp(I.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return X?y(S,I):L(S,I)};function v(T,q){var X=T.modulus.byteLength(),j=q.length,I=p("sha1").update(R.alloc(0)).digest(),S=I.length,E=2*S;if(j>X-E-2)throw new Error("message too long");var D=R.alloc(X-j-E-2),C=X-S-1,ce=N(S),be=u(R.concat([I,D,R.alloc(1,1),q],C),x(ce,C)),qe=u(ce,x(be,S));return new _(R.concat([R.alloc(1),qe,be],X))}function $(T,q,X){var j=q.length,I=T.modulus.byteLength();if(j>I-11)throw new Error("message too long");var S;return X?S=R.alloc(I-j-3,255):S=M(I-j-3),new _(R.concat([R.from([0,X?1:2]),S,R.alloc(1),q],I))}function M(T){for(var q=R.allocUnsafe(T),X=0,j=N(T*2),I=0,S;X<T;)I===j.length&&(j=N(T*2),I=0),S=j[I++],S&&(q[X++]=S);return q}}),Uu=je((l,m)=>{var r=Cn(),N=Wr(),p=wr(),x=nl(),u=Ds(),_=pn(),L=jr(),y=ho().Buffer;m.exports=function(M,T,q){var X;M.padding?X=M.padding:q?X=1:X=4;var j=r(M),I=j.modulus.byteLength();if(T.length>I||new x(T).cmp(j.modulus)>=0)throw new Error("decryption error");var S;q?S=L(new x(T),j):S=u(T,j);var E=y.alloc(I-S.length);if(S=y.concat([E,S],I),X===4)return R(j,S);if(X===1)return v(j,S,q);if(X===3)return S;throw new Error("unknown padding")};function R(M,T){var q=M.modulus.byteLength(),X=_("sha1").update(y.alloc(0)).digest(),j=X.length;if(T[0]!==0)throw new Error("decryption error");var I=T.slice(1,j+1),S=T.slice(j+1),E=p(I,N(S,j)),D=p(S,N(E,q-j-1));if($(X,D.slice(0,j)))throw new Error("decryption error");for(var C=j;D[C]===0;)C++;if(D[C++]!==1)throw new Error("decryption error");return D.slice(C)}function v(M,T,q){for(var X=T.slice(0,2),j=2,I=0;T[j++]!==0;)if(j>=T.length){I++;break}var S=T.slice(2,j-1);if((X.toString("hex")!=="0002"&&!q||X.toString("hex")!=="0001"&&q)&&I++,S.length<8&&I++,I)throw new Error("decryption error");return T.slice(j)}function $(M,T){M=y.from(M),T=y.from(T);var q=0,X=M.length;M.length!==T.length&&(q++,X=Math.min(M.length,T.length));for(var j=-1;++j<X;)q+=M[j]^T[j];return q}}),Ou=je((l)=>{l.publicEncrypt=Lu(),l.privateDecrypt=Uu(),l.privateEncrypt=function(m,r){return l.publicEncrypt(m,r,!0)},l.publicDecrypt=function(m,r){return l.privateDecrypt(m,r,!0)}}),gu=je((l)=>{function m(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var r=ho(),N=Da(),p=r.Buffer,x=r.kMaxLength,u=global.crypto||global.msCrypto,_=Math.pow(2,32)-1;function L(M,T){if(typeof M!="number"||M!==M)throw new TypeError("offset must be a number");if(M>_||M<0)throw new TypeError("offset must be a uint32");if(M>x||M>T)throw new RangeError("offset out of range")}function y(M,T,q){if(typeof M!="number"||M!==M)throw new TypeError("size must be a number");if(M>_||M<0)throw new TypeError("size must be a uint32");if(M+T>q||M>x)throw new RangeError("buffer too small")}u&&u.getRandomValues?(l.randomFill=R,l.randomFillSync=$):(l.randomFill=m,l.randomFillSync=m);function R(M,T,q,X){if(!p.isBuffer(M)&&!(M instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof T=="function")X=T,T=0,q=M.length;else if(typeof q=="function")X=q,q=M.length-T;else if(typeof X!="function")throw new TypeError('"cb" argument must be a function');return L(T,M.length),y(q,T,M.length),v(M,T,q,X)}function v(M,T,q,X){var j=M.buffer,I=new Uint8Array(j,T,q);if(u.getRandomValues(I),X){process.nextTick(function(){X(null,M)});return}return M;var S}function $(M,T,q){if(typeof T>"u"&&(T=0),!p.isBuffer(M)&&!(M instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return L(T,M.length),q===void 0&&(q=M.length-T),y(q,T,M.length),v(M,T,q)}}),Fr=je((l)=>{l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=Da(),l.createHash=l.Hash=pn(),l.createHmac=l.Hmac=or();var m=xc(),r=Object.keys(m),N=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);l.getHashes=function(){return N};var p=ir();l.pbkdf2=p.pbkdf2,l.pbkdf2Sync=p.pbkdf2Sync;var x=Ic();l.Cipher=x.Cipher,l.createCipher=x.createCipher,l.Cipheriv=x.Cipheriv,l.createCipheriv=x.createCipheriv,l.Decipher=x.Decipher,l.createDecipher=x.createDecipher,l.Decipheriv=x.Decipheriv,l.createDecipheriv=x.createDecipheriv,l.getCiphers=x.getCiphers,l.listCiphers=x.listCiphers;var u=Pc();l.DiffieHellmanGroup=u.DiffieHellmanGroup,l.createDiffieHellmanGroup=u.createDiffieHellmanGroup,l.getDiffieHellman=u.getDiffieHellman,l.createDiffieHellman=u.createDiffieHellman,l.DiffieHellman=u.DiffieHellman;var _=$u();l.createSign=_.createSign,l.Sign=_.Sign,l.createVerify=_.createVerify,l.Verify=_.Verify,l.createECDH=Mu();var L=Ou();l.publicEncrypt=L.publicEncrypt,l.privateEncrypt=L.privateEncrypt,l.publicDecrypt=L.publicDecrypt,l.privateDecrypt=L.privateDecrypt;var y=gu();l.randomFill=y.randomFill,l.randomFillSync=y.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),Ir={},Us(Ir,{DEFAULT_ENCODING:()=>Zn,default:()=>ci,getCurves:()=>li,getRandomValues:()=>ri,randomUUID:()=>ii,scrypt:()=>es,scryptSync:()=>An,timingSafeEqual:()=>vn,webcrypto:()=>ul}),Sl(Ir,Ya(Fr())),Xu=Ya(Fr()),U0=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],vn="timingSafeEqual"in crypto?(l,m)=>{let{byteLength:r}=l,{byteLength:N}=m;if(typeof r!="number"||typeof N!="number")throw new TypeError("Input must be an array buffer view");if(r!==N)throw new RangeError("Input buffers must have the same length");return crypto.timingSafeEqual(l,m)}:void 0,An="scryptSync"in crypto?(l,m,r,N)=>{let p=crypto.scryptSync(l,m,r,N);return Zn!=="buffer"?new Buffer(p).toString(Zn):new Buffer(p)}:void 0,es="scryptSync"in crypto?function(l,m,r,N,p){if(typeof N=="function"&&(p=N,N=void 0),typeof p!="function"){var x=new TypeError("callback must be a function");throw x.code="ERR_INVALID_CALLBACK",x}try{let u=crypto.scryptSync(l,m,r,N);process.nextTick(p,null,Zn!=="buffer"?new Buffer(u).toString(Zn):new Buffer(u))}catch(u){throw u}}:void 0,vn&&(Object.defineProperty(vn,"name",{value:"::bunternal::"}),Object.defineProperty(es,"name",{value:"::bunternal::"}),Object.defineProperty(An,"name",{value:"::bunternal::"})),ul=crypto,ci={...Xu,getRandomValues:ri,randomUUID:ii,timingSafeEqual:vn,scryptSync:An,scrypt:es,webcrypto:ul,getCurves:li};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */}),O0=fl((l,m)=>{(function(r,N){if(typeof l==="object")m.exports=l=N();else if(typeof define==="function"&&define.amd)define([],N);else r.CryptoJS=N()})(l,function(){var r=r||function(N,p){var x;if(typeof window!=="undefined"&&window.crypto)x=window.crypto;if(typeof self!=="undefined"&&self.crypto)x=self.crypto;if(typeof globalThis!=="undefined"&&globalThis.crypto)x=globalThis.crypto;if(!x&&typeof window!=="undefined"&&window.msCrypto)x=window.msCrypto;if(!x&&typeof global!=="undefined"&&global.crypto)x=global.crypto;if(!x)try{x=(H6(),P6(q0))}catch(S){}var u=function(){if(x){if(typeof x.getRandomValues==="function")try{return x.getRandomValues(new Uint32Array(1))[0]}catch(S){}if(typeof x.randomBytes==="function")try{return x.randomBytes(4).readInt32LE()}catch(S){}}throw new Error("Native crypto module could not be used to get secure random number.")},_=Object.create||function(){function S(){}return function(E){var D;return S.prototype=E,D=new S,S.prototype=null,D}}(),L={},y=L.lib={},R=y.Base=function(){return{extend:function(S){var E=_(this);if(S)E.mixIn(S);if(!E.hasOwnProperty("init")||this.init===E.init)E.init=function(){E.$super.init.apply(this,arguments)};return E.init.prototype=E,E.$super=this,E},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var E in S)if(S.hasOwnProperty(E))this[E]=S[E];if(S.hasOwnProperty("toString"))this.toString=S.toString},clone:function(){return this.init.prototype.extend(this)}}}(),v=y.WordArray=R.extend({init:function(S,E){if(S=this.words=S||[],E!=p)this.sigBytes=E;else this.sigBytes=S.length*4},toString:function(S){return(S||M).stringify(this)},concat:function(S){var E=this.words,D=S.words,C=this.sigBytes,ce=S.sigBytes;if(this.clamp(),C%4)for(var be=0;be<ce;be++){var qe=D[be>>>2]>>>24-be%4*8&255;E[C+be>>>2]|=qe<<24-(C+be)%4*8}else for(var ue=0;ue<ce;ue+=4)E[C+ue>>>2]=D[ue>>>2];return this.sigBytes+=ce,this},clamp:function(){var S=this.words,E=this.sigBytes;S[E>>>2]&=4294967295<<32-E%4*8,S.length=N.ceil(E/4)},clone:function(){var S=R.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){var E=[];for(var D=0;D<S;D+=4)E.push(u());return new v.init(E,S)}}),$=L.enc={},M=$.Hex={stringify:function(S){var{words:E,sigBytes:D}=S,C=[];for(var ce=0;ce<D;ce++){var be=E[ce>>>2]>>>24-ce%4*8&255;C.push((be>>>4).toString(16)),C.push((be&15).toString(16))}return C.join("")},parse:function(S){var E=S.length,D=[];for(var C=0;C<E;C+=2)D[C>>>3]|=parseInt(S.substr(C,2),16)<<24-C%8*4;return new v.init(D,E/2)}},T=$.Latin1={stringify:function(S){var{words:E,sigBytes:D}=S,C=[];for(var ce=0;ce<D;ce++){var be=E[ce>>>2]>>>24-ce%4*8&255;C.push(String.fromCharCode(be))}return C.join("")},parse:function(S){var E=S.length,D=[];for(var C=0;C<E;C++)D[C>>>2]|=(S.charCodeAt(C)&255)<<24-C%4*8;return new v.init(D,E)}},q=$.Utf8={stringify:function(S){try{return decodeURIComponent(escape(T.stringify(S)))}catch(E){throw new Error("Malformed UTF-8 data")}},parse:function(S){return T.parse(unescape(encodeURIComponent(S)))}},X=y.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(S){if(typeof S=="string")S=q.parse(S);this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var E,D=this._data,C=D.words,ce=D.sigBytes,be=this.blockSize,qe=be*4,ue=ce/qe;if(S)ue=N.ceil(ue);else ue=N.max((ue|0)-this._minBufferSize,0);var $e=ue*be,e=N.min($e*4,ce);if($e){for(var n=0;n<$e;n+=be)this._doProcessBlock(C,n);E=C.splice(0,$e),D.sigBytes-=e}return new v.init(E,e)},clone:function(){var S=R.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0}),j=y.Hasher=X.extend({cfg:R.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){X.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){if(S)this._append(S);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(S){return function(E,D){return new S.init(D).finalize(E)}},_createHmacHelper:function(S){return function(E,D){return new I.HMAC.init(S,D).finalize(E)}}}),I=L.algo={};return L}(Math);return r})}),G6=fl((l,m)=>{(function(r,N){if(typeof l==="object")m.exports=l=N(O0());else if(typeof define==="function"&&define.amd)define(["./core"],N);else N(r.CryptoJS)})(l,function(r){return function(N){var p=r,x=p.lib,u=x.WordArray,_=x.Hasher,L=p.algo,y=[];(function(){for(var q=0;q<64;q++)y[q]=N.abs(N.sin(q+1))*4294967296|0})();var R=L.MD5=_.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(q,X){for(var j=0;j<16;j++){var I=X+j,S=q[I];q[I]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var E=this._hash.words,D=q[X+0],C=q[X+1],ce=q[X+2],be=q[X+3],qe=q[X+4],ue=q[X+5],$e=q[X+6],e=q[X+7],n=q[X+8],c=q[X+9],s=q[X+10],t=q[X+11],h=q[X+12],k=q[X+13],d=q[X+14],o=q[X+15],b=E[0],W=E[1],O=E[2],P=E[3];b=v(b,W,O,P,D,7,y[0]),P=v(P,b,W,O,C,12,y[1]),O=v(O,P,b,W,ce,17,y[2]),W=v(W,O,P,b,be,22,y[3]),b=v(b,W,O,P,qe,7,y[4]),P=v(P,b,W,O,ue,12,y[5]),O=v(O,P,b,W,$e,17,y[6]),W=v(W,O,P,b,e,22,y[7]),b=v(b,W,O,P,n,7,y[8]),P=v(P,b,W,O,c,12,y[9]),O=v(O,P,b,W,s,17,y[10]),W=v(W,O,P,b,t,22,y[11]),b=v(b,W,O,P,h,7,y[12]),P=v(P,b,W,O,k,12,y[13]),O=v(O,P,b,W,d,17,y[14]),W=v(W,O,P,b,o,22,y[15]),b=$(b,W,O,P,C,5,y[16]),P=$(P,b,W,O,$e,9,y[17]),O=$(O,P,b,W,t,14,y[18]),W=$(W,O,P,b,D,20,y[19]),b=$(b,W,O,P,ue,5,y[20]),P=$(P,b,W,O,s,9,y[21]),O=$(O,P,b,W,o,14,y[22]),W=$(W,O,P,b,qe,20,y[23]),b=$(b,W,O,P,c,5,y[24]),P=$(P,b,W,O,d,9,y[25]),O=$(O,P,b,W,be,14,y[26]),W=$(W,O,P,b,n,20,y[27]),b=$(b,W,O,P,k,5,y[28]),P=$(P,b,W,O,ce,9,y[29]),O=$(O,P,b,W,e,14,y[30]),W=$(W,O,P,b,h,20,y[31]),b=M(b,W,O,P,ue,4,y[32]),P=M(P,b,W,O,n,11,y[33]),O=M(O,P,b,W,t,16,y[34]),W=M(W,O,P,b,d,23,y[35]),b=M(b,W,O,P,C,4,y[36]),P=M(P,b,W,O,qe,11,y[37]),O=M(O,P,b,W,e,16,y[38]),W=M(W,O,P,b,s,23,y[39]),b=M(b,W,O,P,k,4,y[40]),P=M(P,b,W,O,D,11,y[41]),O=M(O,P,b,W,be,16,y[42]),W=M(W,O,P,b,$e,23,y[43]),b=M(b,W,O,P,c,4,y[44]),P=M(P,b,W,O,h,11,y[45]),O=M(O,P,b,W,o,16,y[46]),W=M(W,O,P,b,ce,23,y[47]),b=T(b,W,O,P,D,6,y[48]),P=T(P,b,W,O,e,10,y[49]),O=T(O,P,b,W,d,15,y[50]),W=T(W,O,P,b,ue,21,y[51]),b=T(b,W,O,P,h,6,y[52]),P=T(P,b,W,O,be,10,y[53]),O=T(O,P,b,W,s,15,y[54]),W=T(W,O,P,b,C,21,y[55]),b=T(b,W,O,P,n,6,y[56]),P=T(P,b,W,O,o,10,y[57]),O=T(O,P,b,W,$e,15,y[58]),W=T(W,O,P,b,k,21,y[59]),b=T(b,W,O,P,qe,6,y[60]),P=T(P,b,W,O,t,10,y[61]),O=T(O,P,b,W,ce,15,y[62]),W=T(W,O,P,b,c,21,y[63]),E[0]=E[0]+b|0,E[1]=E[1]+W|0,E[2]=E[2]+O|0,E[3]=E[3]+P|0},_doFinalize:function(){var q=this._data,X=q.words,j=this._nDataBytes*8,I=q.sigBytes*8;X[I>>>5]|=128<<24-I%32;var S=N.floor(j/4294967296),E=j;X[(I+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,X[(I+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,q.sigBytes=(X.length+1)*4,this._process();var D=this._hash,C=D.words;for(var ce=0;ce<4;ce++){var be=C[ce];C[ce]=(be<<8|be>>>24)&16711935|(be<<24|be>>>8)&4278255360}return D},clone:function(){var q=_.clone.call(this);return q._hash=this._hash.clone(),q}});function v(q,X,j,I,S,E,D){var C=q+(X&j|~X&I)+S+D;return(C<<E|C>>>32-E)+X}function $(q,X,j,I,S,E,D){var C=q+(X&I|j&~I)+S+D;return(C<<E|C>>>32-E)+X}function M(q,X,j,I,S,E,D){var C=q+(X^j^I)+S+D;return(C<<E|C>>>32-E)+X}function T(q,X,j,I,S,E,D){var C=q+(j^(X|~I))+S+D;return(C<<E|C>>>32-E)+X}p.MD5=_._createHelper(R),p.HmacMD5=_._createHmacHelper(R)}(Math),r.MD5})}),Y6=fl((l,m)=>{(function(r,N){if(typeof l==="object")m.exports=l=N(O0());else if(typeof define==="function"&&define.amd)define(["./core"],N);else N(r.CryptoJS)})(l,function(r){return r.enc.Latin1})}),D6=fl((l,m)=>{m.exports=function r(N){return atob(N)}});class wa{getEraseSize(l,m){return m}}var yn,Q6=Ro(()=>{yn={entry:1074521560,text:"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",text_start:1074520064,data:"GOv8P9jnC0Bx6AtA8+wLQO3oC0CP6AtA7egLQEnpC0AG6gtAeOoLQCHqC0CB5wtAo+kLQPjpC0Bn6QtAmuoLQI7pC0Ca6gtAXegLQLPoC0Dt6AtASekLQHfoC0BM6wtAs+wLQKXmC0DX7AtApeYLQKXmC0Cl5gtApeYLQKXmC0Cl5gtApeYLQKXmC0Dz6gtApeYLQM3rC0Cz7AtA",data_start:1073605544}}),C6={};Ao(C6,{ESP32ROM:()=>Ni});var Ni,B6=Ro(()=>{Q6(),Ni=class l extends wa{constructor(){super(...arguments);this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=yn.text_start,this.ENTRY=yn.entry,this.DATA_START=yn.data_start,this.ROM_DATA=yn.data,this.ROM_TEXT=yn.text}async readEfuse(m,r){let N=this.EFUSE_RD_REG_BASE+4*r;return m.debug("Read efuse "+N),await m.readReg(N)}async getPkgVersion(m){let r=await this.readEfuse(m,3),N=r>>9&7;return N+=(r>>2&1)<<3,N}async getChipRevision(m){let r=await this.readEfuse(m,3),N=await this.readEfuse(m,5),p=await m.readReg(this.DR_REG_SYSCON_BASE+124),x=r>>15&1,u=N>>20&1,_=p>>31&1;if(x!=0)if(u!=0)if(_!=0)return 3;else return 2;else return 1;return 0}async getChipDescription(m){let r=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"],N="",p=await this.getPkgVersion(m),x=await this.getChipRevision(m),u=x==3;if((await this.readEfuse(m,3)&1)!=0)r[0]="ESP32-S0WDQ6",r[1]="ESP32-S0WD";if(u)r[5]="ESP32-PICO-V3";if(p>=0&&p<=6)N=r[p];else N="Unknown ESP32";if(u&&(p===0||p===1))N+="-V3";return N+" (revision "+x+")"}async getChipFeatures(m){let r=["Wi-Fi"],N=await this.readEfuse(m,3);if((N&2)===0)r.push(" BT");if((N&1)!==0)r.push(" Single Core");else r.push(" Dual Core");if((N&8192)!==0)if((N&4096)!==0)r.push(" 160MHz");else r.push(" 240MHz");let p=await this.getPkgVersion(m);if([2,4,5,6].indexOf(p)!==-1)r.push(" Embedded Flash");if(p===6)r.push(" Embedded PSRAM");if((await this.readEfuse(m,4)>>8&31)!==0)r.push(" VRef calibration in efuse");if((N>>14&1)!==0)r.push(" BLK3 partially reserved");let x=await this.readEfuse(m,6)&3,u=["None","3/4","Repeat (UNSUPPORTED)","Invalid"];return r.push(" Coding Scheme "+u[x]),r}async getCrystalFreq(m){let r=await m.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,N=m.transport.baudrate*r/1e6/this.XTAL_CLK_DIVIDER,p;if(N>33)p=40;else p=26;if(Math.abs(p-N)>1)m.info("WARNING: Unsupported crystal in use");return p}_d2h(m){let r=(+m).toString(16);return r.length===1?"0"+r:r}async readMac(m){let r=await this.readEfuse(m,1);r=r>>>0;let N=await this.readEfuse(m,2);N=N>>>0;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}}}),Rn,A6=Ro(()=>{Rn={entry:1077413532,text:"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",text_start:1077411840,data:"IGvIP3YKOEDGCjhAHgs4QMILOEAuDDhA3As4QEIJOEB+CzhAvgs4QDILOEDyCDhAZgs4QPIIOEBQCjhAlgo4QMYKOEAeCzhAYgo4QKYJOEDWCThAXgo4QIAOOEDGCjhARg04QDgOOEAyCDhAYA44QDIIOEAyCDhAMgg4QDIIOEAyCDhAMgg4QDIIOEAyCDhA4gw4QDIIOEBkDThAOA44QA==",data_start:1070164912}}),e8={};Ao(e8,{ESP32C3ROM:()=>Zi});var Zi,o8=Ro(()=>{A6(),Zi=class l extends wa{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=Rn.text_start,this.ENTRY=Rn.entry,this.DATA_START=Rn.data_start,this.ROM_DATA=Rn.data,this.ROM_TEXT=Rn.text}async getPkgVersion(m){let r=this.EFUSE_BASE+68+12;return await m.readReg(r)>>21&7}async getChipRevision(m){let r=this.EFUSE_BASE+68,N=3,p=18,x=r+12;return(await m.readReg(x)&1835008)>>18}async getChipDescription(m){let r;if(await this.getPkgVersion(m)===0)r="ESP32-C3";else r="unknown ESP32-C3";let N=await this.getChipRevision(m);return r+=" (revision "+N+")",r}async getFlashCap(m){let r=this.EFUSE_BASE+68+12;return await m.readReg(r)>>27&7}async getFlashVendor(m){let r=this.EFUSE_BASE+68+16,N=await m.readReg(r)>>0&7;return{1:"XMC",2:"GD",3:"FM",4:"TT",5:"ZBIT"}[N]||""}async getChipFeatures(m){let r=["Wi-Fi","BLE"],N={0:null,1:"Embedded Flash 4MB",2:"Embedded Flash 2MB",3:"Embedded Flash 1MB",4:"Embedded Flash 8MB"},p=await this.getFlashCap(m),x=await this.getFlashVendor(m),u=N[p],_=u!==void 0?u:"Unknown Embedded Flash";if(u!==null)r.push(`${_} (${x})`);return r}async getCrystalFreq(m){return 40}_d2h(m){let r=(+m).toString(16);return r.length===1?"0"+r:r}async readMac(m){let r=await m.readReg(this.MAC_EFUSE_REG);r=r>>>0;let N=await m.readReg(this.MAC_EFUSE_REG+4);N=N>>>0&65535;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}getEraseSize(m,r){return r}}}),xn,a8=Ro(()=>{xn={entry:1077413304,text:"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",text_start:1077411840,data:"DEDKP+AIOEAsCThAhAk4QFIKOEC+CjhAbAo4QKgHOEAOCjhATgo4QJgJOEBYBzhAzAk4QFgHOEC6CDhA/gg4QCwJOECECThAzAg4QBIIOEBCCDhAyAg4QBYNOEAsCThA1gs4QMoMOECkBjhA9Aw4QKQGOECkBjhApAY4QKQGOECkBjhApAY4QKQGOECkBjhAcgs4QKQGOEDyCzhAygw4QA==",data_start:1070295976,bss_start:1070219264}}),n8={};Ao(n8,{ESP32C2ROM:()=>g0});var g0,N2=Ro(()=>{o8(),a8(),g0=class l extends Zi{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C2",this.IMAGE_CHIP_ID=12,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+64,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.XTAL_CLK_DIVIDER=1,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=xn.text_start,this.ENTRY=xn.entry,this.DATA_START=xn.data_start,this.ROM_DATA=xn.data,this.ROM_TEXT=xn.text}async getPkgVersion(m){let r=this.EFUSE_BASE+64+4;return await m.readReg(r)>>22&7}async getChipRevision(m){let r=this.EFUSE_BASE+64,N=1,p=20,x=r+4;return(await m.readReg(x)&3145728)>>20}async getChipDescription(m){let r,N=await this.getPkgVersion(m);if(N===0||N===1)r="ESP32-C2";else r="unknown ESP32-C2";let p=await this.getChipRevision(m);return r+=" (revision "+p+")",r}async getChipFeatures(m){return["Wi-Fi","BLE"]}async getCrystalFreq(m){let r=await m.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,N=m.transport.baudrate*r/1e6/this.XTAL_CLK_DIVIDER,p;if(N>33)p=40;else p=26;if(Math.abs(p-N)>1)m.info("WARNING: Unsupported crystal in use");return p}async changeBaudRate(m){if(await this.getCrystalFreq(m)===26)m.changeBaud()}_d2h(m){let r=(+m).toString(16);return r.length===1?"0"+r:r}async readMac(m){let r=await m.readReg(this.MAC_EFUSE_REG);r=r>>>0;let N=await m.readReg(this.MAC_EFUSE_REG+4);N=N>>>0&65535;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}getEraseSize(m,r){return r}}}),qn,s8=Ro(()=>{qn={entry:1082132112,text:"QREixCbCBsa39wBgEUc3BIRA2Mu39ABgEwQEANxAkYuR57JAIkSSREEBgoCIQBxAE3X1D4KX3bcBEbcHAGBOxoOphwBKyDcJhEAmylLEBs4izLcEAGB9WhMJCQDATBN09A8N4PJAYkQjqDQBQknSRLJJIkoFYYKAiECDJwkAE3X1D4KXfRTjGUT/yb8TBwAMlEGqh2MY5QCFR4XGI6AFAHlVgoAFR2OH5gAJRmONxgB9VYKAQgUTB7ANQYVjlecCiUecwfW3kwbADWMW1QCYwRMFAAyCgJMG0A19VWOV1wCYwRMFsA2CgLc1hUBBEZOFRboGxmE/Y0UFBrc3hUCTh8exA6cHCAPWRwgTdfUPkwYWAMIGwYIjktcIMpcjAKcAA9dHCJFnk4cHBGMe9wI3t4RAEwfHsaFnupcDpgcIt/aEQLc3hUCTh8exk4bGtWMf5gAjpscII6DXCCOSBwghoPlX4wb1/LJAQQGCgCOm1wgjoOcI3bc3NwBgfEudi/X/NycAYHxLnYv1/4KAQREGxt03tzcAYCOmBwI3BwAImMOYQ33/yFeyQBNF9f8FiUEBgoBBEQbG2T993TcHAEC3NwBgmMM3NwBgHEP9/7JAQQGCgEERIsQ3BIRAkwcEAUrAA6kHAQbGJsJjCgkERTc5xb1HEwQEAYFEY9YnAQREvYiTtBQAfTeFPxxENwaAABOXxwCZ4DcGAAG39v8AdY+3NgBg2MKQwphCff9BR5HgBUczCelAupcjKCQBHMSyQCJEkkQCSUEBgoABEQbOIswlNzcEzj9sABMFRP+XAID/54Cg8qqHBUWV57JHk/cHID7GiTc3NwBgHEe3BkAAEwVE/9WPHMeyRZcAgP/ngCDwMzWgAPJAYkQFYYKAQRG3B4RABsaThwcBBUcjgOcAE9fFAJjHBWd9F8zDyMf5jTqVqpWxgYzLI6oHAEE3GcETBVAMskBBAYKAAREizDcEhECTBwQBJsrER07GBs5KyKqJEwQEAWPzlQCuhKnAAylEACaZE1nJABxIY1XwABxEY175ArU9fd1IQCaGzoWXAID/54Ag4xN19Q8BxZMHQAxcyFxAppdcwFxEhY9cxPJAYkTSREJJskkFYYKAaTVtv0ERBsaXAID/54BA1gNFhQGyQHUVEzUVAEEBgoBBEQbGxTcNxbcHhECThwcA1EOZzjdnCWATBwcRHEM3Bv3/fRbxjzcGAwDxjtWPHMOyQEEBgoBBEQbGbTcRwQ1FskBBARcDgP9nAIPMQREGxpcAgP/ngEDKcTcBxbJAQQHZv7JAQQGCgEERBsYTBwAMYxrlABMFsA3RPxMFwA2yQEEB6bcTB7AN4xvl/sE3EwXQDfW3QREixCbCBsYqhLMEtQBjF5QAskAiRJJEQQGCgANFBAAFBE0/7bc1cSbLTsf9coVp/XQizUrJUsVWwwbPk4SE+haRk4cJB6aXGAizhOcAKokmhS6ElwCA/+eAwC+ThwkHGAgFarqXs4pHQTHkBWd9dZMFhfqTBwcHEwWF+RQIqpczhdcAkwcHB66Xs4XXACrGlwCA/+eAgCwyRcFFlTcBRYViFpH6QGpE2kRKSbpJKkqaSg1hgoCiiWNzigCFaU6G1oVKhZcAgP/ngADJE3X1DwHtTobWhSaFlwCA/+eAwCdOmTMENEFRtxMFMAZVvxMFAAzZtTFx/XIFZ07XUtVW017PBt8i3SbbStla0WLNZstqyW7H/XcWkRMHBwc+lxwIupc+xiOqB/iqiS6Ksoq2iwU1kwcAAhnBtwcCAD6FlwCA/+eAYCCFZ2PlVxMFZH15EwmJ+pMHBAfKlxgIM4nnAEqFlwCA/+eA4B59exMMO/mTDIv5EwcEB5MHBAcUCGKX5peBRDMM1wCzjNcAUk1jfE0JY/GkA0GomT+ihQgBjTW5NyKGDAFKhZcAgP/ngMAaopmilGP1RAOzh6RBY/F3AzMEmkBj84oAVoQihgwBToWXAID/54BAuBN19Q9V3QLMAUR5XY1NowkBAGKFlwCA/+eAgKd9+QNFMQHmhVE8Y08FAOPijf6FZ5OHBweilxgIupfalyOKp/gFBPG34xWl/ZFH4wX09gVnfXWTBwcHkwWF+hMFhfkUCKqXM4XXAJMHBweul7OF1wAqxpcAgP/ngOAQcT0yRcFFZTNRPdU5twcCABnhkwcAAj6FlwCA/+eA4A2FYhaR+lBqVNpUSlm6WSpamloKW/pLakzaTEpNuk0pYYKAt1dBSRlxk4f3hAFFht6i3KbaytjO1tLU1tLa0N7O4szmyurI7sY+zpcAgP/ngMCgcTENwTdnCWATBwcRHEO3BoRAI6L2ALcG/f/9FvWPwWbVjxzDpTEFzbcnC2A3R9hQk4aHwRMHF6qYwhOGB8AjIAYAI6AGAJOGB8KYwpOHx8GYQzcGBABRj5jDI6AGALcHhEA3N4VAk4cHABMHx7ohoCOgBwCRB+Pt5/5FO5FFaAh1OWUzt7eEQJOHx7EhZz6XIyD3CLcHgEA3CYRAk4eHDiMg+QC3OYVA1TYTCQkAk4nJsWMHBRC3BwFgRUcjoOcMhUVFRZcAgP/ngED5twWAQAFGk4UFAEVFlwCA/+eAQPo39wBgHEs3BQIAk+dHABzLlwCA/+eAQPm3FwlgiF+BRbcEhEBxiWEVEzUVAJcAgP/ngAChwWf9FxMHABCFZkFmtwUAAQFFk4QEAQ1qtzqEQJcAgP/ngACXJpoTi8qxg6fJCPXfg6vJCIVHI6YJCCMC8QKDxxsACUcjE+ECowLxAgLUTUdjgecIUUdjj+cGKUdjn+cAg8c7AAPHKwCiB9mPEUdjlucAg6eLAJxDPtRxOaFFSBBlNoPHOwADxysAogfZjxFnQQdjdPcEEwWwDZk2EwXADYE2EwXgDi0+vTFBt7cFgEABRpOFhQMVRZcAgP/ngADrNwcAYFxHEwUAApPnFxBcxzG3yUcjE/ECTbcDxxsA0UZj5+YChUZj5uYAAUwTBPAPhah5FxN39w/JRuPo5v63NoVACgeThga7NpcYQwKHkwYHA5P29g8RRuNp1vwTB/cCE3f3D41GY+vmCLc2hUAKB5OGxr82lxhDAocTB0ACY5jnEALUHUQBRWE8AUVFPOE22TahRUgQfRTBPHX0AUwBRBN19A9hPBN1/A9JPG024x4E6oPHGwBJR2Nj9y4JR+N29+r1F5P39w89R+Ng9+o3N4VAigcTB8fAupecQ4KHBUSd63AQgUUBRZfwf//ngAB0HeHRRWgQjTwBRDGoBUSB75fwf//ngAB5MzSgACmgIUdjhecABUQBTGG3A6yLAAOkywCzZ4wA0gf19+/wv4h98cFsIpz9HH19MwWMQFXcs3eVAZXjwWwzBYxAY+aMAv18MwWMQFXQMYGX8H//54CAdVX5ZpT1tzGBl/B//+eAgHRV8WqU0bdBgZfwf//ngMBzUfkzBJRBwbchR+OJ5/ABTBMEAAwxt0FHzb9BRwVE45zn9oOlywADpYsA1TKxv0FHBUTjkuf2A6cLAZFnY+XnHIOlSwEDpYsA7/D/gzW/QUcFROOS5/SDpwsBEWdjZfcaA6fLAIOlSwEDpYsAM4TnAu/wf4EjrAQAIySKsDG3A8cEAGMOBxADp4sAwRcTBAAMYxP3AMBIAUeTBvAOY0b3AoPHWwADx0sAAUyiB9mPA8drAEIHXY+Dx3sA4gfZj+OB9uYTBBAMqb0zhusAA0aGAQUHsY7ht4PHBADxw9xEY5gHEsBII4AEAH21YUdjlucCg6fLAQOniwGDpksBA6YLAYOlywADpYsAl/B//+eAQGQqjDM0oAAptQFMBUQRtRFHBUTjmufmA6WLAIFFl/B//+eAwGmRtRP39wDjGgfsk9xHABOEiwABTH1d43mc3UhEl/B//+eAwE0YRFRAEED5jmMHpwEcQhNH9/99j9mOFMIFDEEE2b8RR0m9QUcFROOc5+CDp4sAA6dLASMm+QAjJOkA3bODJYkAwReR5YnPAUwTBGAMtbsDJ8kAY2b3BhP3NwDjHgfkAyjJAAFGAUczBehAs4blAGNp9wDjCQbUIyapACMk2QCZszOG6wAQThEHkMIFRum/IUcFROOW59oDJMkAGcATBIAMIyYJACMkCQAzNIAASbsBTBMEIAwRuwFMEwSADDGzAUwTBJAMEbMTByANY4PnDBMHQA3jkOe8A8Q7AIPHKwAiBF2Ml/B//+eA4EwDrMQAQRRjc4QBIozjDgy4wEBilDGAnEhjVfAAnERjW/QK7/BP0XXdyEBihpOFiwGX8H//54DgSAHFkwdADNzI3EDil9zA3ESzh4dB3MSX8H//54DAR4m+CWUTBQVxA6zLAAOkiwCX8H//54BAOLcHAGDYS7cGAAHBFpNXRwESB3WPvYvZj7OHhwMBRbPVhwKX8H//54BgORMFgD6X8H//54DgNBG2g6ZLAQOmCwGDpcsAA6WLAO/wT/79tIPFOwCDxysAE4WLAaIF3Y3BFe/wL9vZvO/wj8o9v4PHOwADxysAE4yLAaIH2Y8TjQf/BUS3O4VA3ERjBQ0AmcNjTIAAY1AEChMHcAzYyOOfB6iTB5AMYaiTh8u6mEO3t4RAk4fHsZmPPtaDJ4qwtzyEQGrQk4wMAZONy7oFSGNz/QANSELGOsTv8I/DIkcySDcFhEDihXwQk4bKsRAQEwWFApfwf//ngEA0glcDp4ywg6UNADMN/UAdjz6cslcjpOywKoS+lSOgvQCTh8qxnY0BxaFn45L19lqF7/CvziOgbQGZvy3044MHoJMHgAzcyPW6g6eLAOObB57v8C/ZCWUTBQVxl/B//+eAoCLv8K/Ul/B//+eA4CbRugOkywDjBwSc7/Cv1hMFgD6X8H//54BAIO/wT9IClFW67/DP0fZQZlTWVEZZtlkmWpZaBlv2S2ZM1kxGTbZNCWGCgAAA",text_start:1082130432,data:"HCuEQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQEwOgECSCoBAEg2AQAQOgED+B4BALA6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBABA6AQA==",data_start:1082469292}}),l8={};Ao(l8,{ESP32C6ROM:()=>hl});var hl,X0=Ro(()=>{s8(),hl=class l extends wa{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C6",this.IMAGE_CHIP_ID=13,this.EFUSE_BASE=1611335680,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=qn.text_start,this.ENTRY=qn.entry,this.DATA_START=qn.data_start,this.ROM_DATA=qn.data,this.ROM_TEXT=qn.text}async getPkgVersion(m){let r=this.EFUSE_BASE+68+12;return await m.readReg(r)>>21&7}async getChipRevision(m){let r=this.EFUSE_BASE+68,N=3,p=18,x=r+12;return(await m.readReg(x)&1835008)>>18}async getChipDescription(m){let r;if(await this.getPkgVersion(m)===0)r="ESP32-C6";else r="unknown ESP32-C6";let N=await this.getChipRevision(m);return r+=" (revision "+N+")",r}async getChipFeatures(m){return["Wi-Fi 6","BT 5","IEEE802.15.4"]}async getCrystalFreq(m){return 40}_d2h(m){let r=(+m).toString(16);return r.length===1?"0"+r:r}async readMac(m){let r=await m.readReg(this.MAC_EFUSE_REG);r=r>>>0;let N=await m.readReg(this.MAC_EFUSE_REG+4);N=N>>>0&65535;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}getEraseSize(m,r){return r}}}),Tn,r8=Ro(()=>{Tn={entry:1082132164,text:"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",text_start:1082130432,data:"FECAQHQKgEDECoBAHAuAQOoLgEBWDIBABAyAQEAJgECmC4BA5guAQDALgEDwCIBAZAuAQPAIgEBOCoBAlAqAQMQKgEAcC4BAYAqAQKQJgEDUCYBAXAqAQK4OgEDECoBAbg2AQGYOgEAwCIBAjg6AQDAIgEAwCIBAMAiAQDAIgEAwCIBAMAiAQDAIgEAwCIBACg2AQDAIgECMDYBAZg6AQA==",data_start:1082223536,bss_start:1082146816}}),i8={};Ao(i8,{ESP32C61ROM:()=>S0});var S0,Z2=Ro(()=>{X0(),r8(),S0=class l extends hl{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C61",this.IMAGE_CHIP_ID=20,this.CHIP_DETECT_MAGIC_VALUE=[871374959,606167151],this.TEXT_START=Tn.text_start,this.ENTRY=Tn.entry,this.DATA_START=Tn.data_start,this.ROM_DATA=Tn.data,this.ROM_TEXT=Tn.text,this.UART_DATE_REG_ADDR=1610612860,this.EFUSE_BASE=1611352064,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=0,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=4,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY2_SHIFT=8,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY3_SHIFT=12,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY4_SHIFT=16,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY5_SHIFT=20,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+48,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=58720256,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+52,this.EFUSE_SECURE_BOOT_EN_MASK=67108864,this.FLASH_FREQUENCY={"80m":15,"40m":0,"20m":2},this.MEMORY_MAP=[[0,65536,"PADDING"],[1098907648,1107296256,"DROM"],[1082130432,1082523648,"DRAM"],[1082130432,1082523648,"BYTE_ACCESSIBLE"],[1074048000,1074069504,"DROM_MASK"],[1073741824,1074048000,"IROM_MASK"],[1090519040,1098907648,"IROM"],[1082130432,1082523648,"IRAM"],[1342177280,1342193664,"RTC_IRAM"],[1342177280,1342193664,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=2010665156,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY",13:"XTS_AES_256_KEY_1_PSRAM",14:"XTS_AES_256_KEY_2_PSRAM",15:"XTS_AES_128_KEY_PSRAM"}}async getPkgVersion(m){return await m.readReg(this.EFUSE_BLOCK1_ADDR+8)>>26&7}async getMinorChipVersion(m){return await m.readReg(this.EFUSE_BLOCK1_ADDR+8)>>0&15}async getMajorChipVersion(m){return await m.readReg(this.EFUSE_BLOCK1_ADDR+8)>>4&3}async getChipDescription(m){let r=await this.getPkgVersion(m),N;if(r===0)N="ESP32-C61";else N="unknown ESP32-C61";let p=await this.getMajorChipVersion(m),x=await this.getMinorChipVersion(m);return`${N} (revision v${p}.${x})`}async getChipFeatures(m){return["WiFi 6","BT 5"]}async readMac(m){let r=await m.readReg(this.MAC_EFUSE_REG);r=r>>>0;let N=await m.readReg(this.MAC_EFUSE_REG+4);N=N>>>0&65535;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}}}),$n,c8=Ro(()=>{$n={entry:1082132164,text:"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",text_start:1082130432,data:"FACEQG4KgEC+CoBAFguAQOQLgEBQDIBA/guAQDoJgECgC4BA4AuAQCoLgEDqCIBAXguAQOoIgEBICoBAjgqAQL4KgEAWC4BAWgqAQJ4JgEDOCYBAVgqAQKgOgEC+CoBAaA2AQGAOgEAqCIBAiA6AQCoIgEAqCIBAKgiAQCoIgEAqCIBAKgiAQCoIgEAqCIBABA2AQCoIgECGDYBAYA6AQA==",data_start:1082469296,bss_start:1082392576}}),u8={};Ao(u8,{ESP32C5ROM:()=>W0});var W0,v2=Ro(()=>{X0(),c8(),W0=class l extends hl{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C5",this.IMAGE_CHIP_ID=23,this.EFUSE_BASE=1611352064,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.TEXT_START=$n.text_start,this.ENTRY=$n.entry,this.DATA_START=$n.data_start,this.ROM_DATA=$n.data,this.ROM_TEXT=$n.text,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.IROM_MAP_START=1107296256,this.IROM_MAP_END=1115684864,this.DROM_MAP_START=1115684864,this.DROM_MAP_END=1124073472,this.PCR_SYSCLK_CONF_REG=1611227408,this.PCR_SYSCLK_XTAL_FREQ_V=2130706432,this.PCR_SYSCLK_XTAL_FREQ_S=24,this.XTAL_CLK_DIVIDER=1,this.UARTDEV_BUF_NO=1082520860,this.CHIP_DETECT_MAGIC_VALUE=[285294703],this.FLASH_FREQUENCY={"80m":15,"40m":0,"20m":2},this.MEMORY_MAP=[[0,65536,"PADDING"],[1115684864,1124073472,"DROM"],[1082130432,1082523648,"DRAM"],[1082130432,1082523648,"BYTE_ACCESSIBLE"],[1073979392,1074003968,"DROM_MASK"],[1073741824,1073979392,"IROM_MASK"],[1107296256,1115684864,"IROM"],[1082130432,1082523648,"IRAM"],[1342177280,1342193664,"RTC_IRAM"],[1342177280,1342193664,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=4145808195,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"}}async getPkgVersion(m){return await m.readReg(this.EFUSE_BLOCK1_ADDR+8)>>26&7}async getMinorChipVersion(m){return await m.readReg(this.EFUSE_BLOCK1_ADDR+8)>>0&15}async getMajorChipVersion(m){return await m.readReg(this.EFUSE_BLOCK1_ADDR+8)>>4&3}async getChipDescription(m){let r=await this.getPkgVersion(m),N;if(r===0)N="ESP32-C5";else N="unknown ESP32-C5";let p=await this.getMajorChipVersion(m),x=await this.getMinorChipVersion(m);return`${N} (revision v${p}.${x})`}async getCrystalFreq(m){let r=await m.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,N=m.transport.baudrate*r/1e6/this.XTAL_CLK_DIVIDER,p;if(N>45)p=48;else if(N>33)p=40;else p=26;if(Math.abs(p-N)>1)m.info("WARNING: Unsupported crystal in use");return p}async getCrystalFreqRomExpect(m){return(await m.readReg(this.PCR_SYSCLK_CONF_REG)&this.PCR_SYSCLK_XTAL_FREQ_V)>>this.PCR_SYSCLK_XTAL_FREQ_S}}}),Vn,t8=Ro(()=>{Vn={entry:1082132112,text:"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",text_start:1082130432,data:"EACDQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQFIOgECSCoBAEg2AQAoOgED+B4BAMg6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBACg6AQA==",data_start:1082403756}}),m8={};Ao(m8,{ESP32H2ROM:()=>w0});var w0,y2=Ro(()=>{t8(),w0=class l extends wa{constructor(){super(...arguments);this.CHIP_NAME="ESP32-H2",this.IMAGE_CHIP_ID=16,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=Vn.text_start,this.ENTRY=Vn.entry,this.DATA_START=Vn.data_start,this.ROM_DATA=Vn.data,this.ROM_TEXT=Vn.text}async getChipDescription(m){return this.CHIP_NAME}async getChipFeatures(m){return["BLE","IEEE802.15.4"]}async getCrystalFreq(m){return 32}_d2h(m){let r=(+m).toString(16);return r.length===1?"0"+r:r}async postConnect(m){let r=await m.readReg(this.UARTDEV_BUF_NO)&255;if(m.debug("In _post_connect "+r),r==this.UARTDEV_BUF_NO_USB)m.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(m){let r=await m.readReg(this.MAC_EFUSE_REG);r=r>>>0;let N=await m.readReg(this.MAC_EFUSE_REG+4);N=N>>>0&65535;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}getEraseSize(m,r){return r}}}),Mn,b8=Ro(()=>{Mn={entry:1077381696,text:"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",text_start:1077379072,data:"ZCvKP8qNN0CvjjdAcJM3QDqPN0DPjjdAOo83QJmPN0BmkDdA2ZA3QIGQN0BVjTdA/I83QFiQN0C8jzdA+5A3QOaPN0D7kDdAnY43QPqON0A6jzdAmY83QLWON0CWjTdAvJE3QDaTN0ByjDdAVpM3QHKMN0ByjDdAcow3QHKMN0ByjDdAcow3QHKMN0ByjDdAVpE3QHKMN0BRkjdANpM3QAQInwAAAAAAAAAYAQQIBQAAAAAAAAAIAQQIBgAAAAAAAAAAAQQIIQAAAAAAIAAAEQQI3AAAAAAAIAAAEQQIDAAAAAAAIAAAAQQIEgAAAAAAIAAAESAoDAAQAQAA",data_start:1070279668}}),d8={};Ao(d8,{ESP32S3ROM:()=>j0});var j0,R2=Ro(()=>{b8(),j0=class l extends wa{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=Mn.text_start,this.ENTRY=Mn.entry,this.DATA_START=Mn.data_start,this.ROM_DATA=Mn.data,this.ROM_TEXT=Mn.text}async getChipDescription(m){return"ESP32-S3"}async getFlashCap(m){let r=this.EFUSE_BASE+68+12;return await m.readReg(r)>>27&7}async getFlashVendor(m){let r=this.EFUSE_BASE+68+16,N=await m.readReg(r)>>0&7;return{1:"XMC",2:"GD",3:"FM",4:"TT",5:"BY"}[N]||""}async getPsramCap(m){let r=this.EFUSE_BASE+68+16;return await m.readReg(r)>>3&3}async getPsramVendor(m){let r=this.EFUSE_BASE+68+16,N=await m.readReg(r)>>7&3;return{1:"AP_3v3",2:"AP_1v8"}[N]||""}async getChipFeatures(m){let r=["Wi-Fi","BLE"],N={0:null,1:"Embedded Flash 8MB",2:"Embedded Flash 4MB"},p=await this.getFlashCap(m),x=await this.getFlashVendor(m),u=N[p],_=u!==void 0?u:"Unknown Embedded Flash";if(u!==null)r.push(`${_} (${x})`);let L={0:null,1:"Embedded PSRAM 8MB",2:"Embedded PSRAM 2MB"},y=await this.getPsramCap(m),R=await this.getPsramVendor(m),v=L[y],$=v!==void 0?v:"Unknown Embedded PSRAM";if(v!==null)r.push(`${$} (${R})`);return r}async getCrystalFreq(m){return 40}_d2h(m){let r=(+m).toString(16);return r.length===1?"0"+r:r}async postConnect(m){let r=await m.readReg(this.UARTDEV_BUF_NO)&255;if(m.debug("In _post_connect "+r),r==this.UARTDEV_BUF_NO_USB)m.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(m){let r=await m.readReg(this.MAC_EFUSE_REG);r=r>>>0;let N=await m.readReg(this.MAC_EFUSE_REG+4);N=N>>>0&65535;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}getEraseSize(m,r){return r}}}),Ln,p8=Ro(()=>{Ln={entry:1073907696,text:"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",text_start:1073905664,data:"ZCv9PzaLAkDBiwJAhpACQEqMAkDjiwJASowCQKmMAkByjQJA5Y0CQI2NAkDAigJAC40CQGSNAkDMjAJACI4CQPaMAkAIjgJAr4sCQA6MAkBKjAJAqYwCQMeLAkACiwJAx44CQD2QAkDYiQJAZZACQNiJAkDYiQJA2IkCQNiJAkDYiQJA2IkCQNiJAkDYiQJAZI4CQNiJAkBZjwJAPZACQA==",data_start:1073622012}}),f8={};Ao(f8,{ESP32S2ROM:()=>F0});var F0,x2=Ro(()=>{p8(),F0=class l extends wa{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=Ln.text_start,this.ENTRY=Ln.entry,this.DATA_START=Ln.data_start,this.ROM_DATA=Ln.data,this.ROM_TEXT=Ln.text}async getPkgVersion(m){let r=this.EFUSE_BASE+68+12;return await m.readReg(r)>>21&15}async getChipDescription(m){let r=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],N=await this.getPkgVersion(m);if(N>=0&&N<=2)return r[N];else return"unknown ESP32-S2"}async getFlashCap(m){let r=this.EFUSE_BASE+68+12;return await m.readReg(r)>>21&15}async getPsramCap(m){let r=this.EFUSE_BASE+68+12;return await m.readReg(r)>>28&15}async getBlock2Version(m){let r=this.EFUSE_BASE+92+16;return await m.readReg(r)>>4&7}async getChipFeatures(m){let r=["Wi-Fi"],N={0:"No Embedded Flash",1:"Embedded Flash 2MB",2:"Embedded Flash 4MB"},p=await this.getFlashCap(m),x=N[p]||"Unknown Embedded Flash";r.push(x);let u={0:"No Embedded Flash",1:"Embedded PSRAM 2MB",2:"Embedded PSRAM 4MB"},_=await this.getPsramCap(m),L=u[_]||"Unknown Embedded PSRAM";r.push(L);let y={0:"No calibration in BLK2 of efuse",1:"ADC and temperature sensor calibration in BLK2 of efuse V1",2:"ADC and temperature sensor calibration in BLK2 of efuse V2"},R=await this.getBlock2Version(m),v=y[R]||"Unknown Calibration in BLK2";return r.push(v),r}async getCrystalFreq(m){return 40}_d2h(m){let r=(+m).toString(16);return r.length===1?"0"+r:r}async readMac(m){let r=await m.readReg(this.MAC_EFUSE_REG);r=r>>>0;let N=await m.readReg(this.MAC_EFUSE_REG+4);N=N>>>0&65535;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}getEraseSize(m,r){return r}}}),Un,h8=Ro(()=>{Un={entry:1074843652,text:"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",text_start:1074843648,data:"CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",data_start:1073720488}}),_8={};Ao(_8,{ESP8266ROM:()=>I0});var I0,q2=Ro(()=>{h8(),I0=class l extends wa{constructor(){super(...arguments);this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=Un.text_start,this.ENTRY=Un.entry,this.DATA_START=Un.data_start,this.ROM_DATA=Un.data,this.ROM_TEXT=Un.text,this.getChipFeatures=async(m)=>{let r=["WiFi"];if(await this.getChipDescription(m)=="ESP8285")r.push("Embedded Flash");return r}}async readEfuse(m,r){let N=this.EFUSE_RD_REG_BASE+4*r;return m.debug("Read efuse "+N),await m.readReg(N)}async getChipDescription(m){let r=await this.readEfuse(m,2);return(await this.readEfuse(m,0)&16|r&65536)!=0?"ESP8285":"ESP8266EX"}async getCrystalFreq(m){let r=await m.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,N=m.transport.baudrate*r/1e6/this.XTAL_CLK_DIVIDER,p;if(N>33)p=40;else p=26;if(Math.abs(p-N)>1)m.info("WARNING: Detected crystal freq "+N+"MHz is quite different to normalized freq "+p+"MHz. Unsupported crystal in use?");return p}_d2h(m){let r=(+m).toString(16);return r.length===1?"0"+r:r}async readMac(m){let r=await this.readEfuse(m,0);r=r>>>0;let N=await this.readEfuse(m,1);N=N>>>0;let p=await this.readEfuse(m,3);p=p>>>0;let x=new Uint8Array(6);if(p!=0)x[0]=p>>16&255,x[1]=p>>8&255,x[2]=p&255;else if((N>>16&255)==0)x[0]=24,x[1]=254,x[2]=52;else if((N>>16&255)==1)x[0]=172,x[1]=208,x[2]=116;else m.error("Unknown OUI");return x[3]=N>>8&255,x[4]=N&255,x[5]=r>>24&255,this._d2h(x[0])+":"+this._d2h(x[1])+":"+this._d2h(x[2])+":"+this._d2h(x[3])+":"+this._d2h(x[4])+":"+this._d2h(x[5])}getEraseSize(m,r){return r}}}),On,k8=Ro(()=>{On={entry:1341195918,text:"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",text_start:1341194240,data:"EAD1TwYK8U9WCvFPrgrxT4QL8U/wC/FPngvxT9QI8U9AC/FPgAvxT8IK8U+ECPFP9grxT4QI8U/gCfFPJgrxT1YK8U+uCvFP8gnxTzgJ8U9oCfFP7gnxT0AO8U9WCvFPCA3xTwAO8U/EB/FPJA7xT8QH8U/EB/FPxAfxT8QH8U/EB/FPxAfxT8QH8U/EB/FPpAzxT8QH8U8mDfFPAA7xTw==",data_start:1341533100,bss_start:1341456384}}),N8={};Ao(N8,{ESP32P4ROM:()=>J0});var J0,T2=Ro(()=>{B6(),k8(),J0=class l extends Ni{constructor(){super(...arguments);this.CHIP_NAME="ESP32-P4",this.IMAGE_CHIP_ID=18,this.IROM_MAP_START=1073741824,this.IROM_MAP_END=1275068416,this.DROM_MAP_START=1073741824,this.DROM_MAP_END=1275068416,this.BOOTLOADER_FLASH_OFFSET=8192,this.CHIP_DETECT_MAGIC_VALUE=[0,182303440],this.UART_DATE_REG_ADDR=1343004812,this.EFUSE_BASE=1343410176,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.SPI_REG_BASE=1342754816,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.PURPOSE_VAL_XTS_AES256_KEY_1=2,this.PURPOSE_VAL_XTS_AES256_KEY_2=3,this.PURPOSE_VAL_XTS_AES128_KEY=4,this.SUPPORTS_ENCRYPTED_FLASH=!0,this.FLASH_ENCRYPTED_WRITE_ALIGN=16,this.MEMORY_MAP=[[0,65536,"PADDING"],[1073741824,1275068416,"DROM"],[1341128704,1341784064,"DRAM"],[1341128704,1341784064,"BYTE_ACCESSIBLE"],[1337982976,1338114048,"DROM_MASK"],[1337982976,1338114048,"IROM_MASK"],[1073741824,1275068416,"IROM"],[1341128704,1341784064,"IRAM"],[1343258624,1343291392,"RTC_IRAM"],[1343258624,1343291392,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=1026592404,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"},this.TEXT_START=On.text_start,this.ENTRY=On.entry,this.DATA_START=On.data_start,this.ROM_DATA=On.data,this.ROM_TEXT=On.text}async getPkgVersion(m){let r=this.EFUSE_BLOCK1_ADDR+8;return await m.readReg(r)>>27&7}async getMinorChipVersion(m){let r=this.EFUSE_BLOCK1_ADDR+8;return await m.readReg(r)>>0&15}async getMajorChipVersion(m){let r=this.EFUSE_BLOCK1_ADDR+8;return await m.readReg(r)>>4&3}async getChipDescription(m){let r=await this.getPkgVersion(m)===0?"ESP32-P4":"unknown ESP32-P4",N=await this.getMajorChipVersion(m),p=await this.getMinorChipVersion(m);return`${r} (revision v${N}.${p})`}async getChipFeatures(m){return["High-Performance MCU"]}async getCrystalFreq(m){return 40}async getFlashVoltage(m){return}async overrideVddsdio(m){m.debug("VDD_SDIO overrides are not supported for ESP32-P4")}async readMac(m){let r=await m.readReg(this.MAC_EFUSE_REG);r=r>>>0;let N=await m.readReg(this.MAC_EFUSE_REG+4);N=N>>>0&65535;let p=new Uint8Array(6);return p[0]=N>>8&255,p[1]=N&255,p[2]=r>>24&255,p[3]=r>>16&255,p[4]=r>>8&255,p[5]=r&255,this._d2h(p[0])+":"+this._d2h(p[1])+":"+this._d2h(p[2])+":"+this._d2h(p[3])+":"+this._d2h(p[4])+":"+this._d2h(p[5])}async getFlashCryptConfig(m){return}async getSecureBootEnabled(m){return await m.readReg(this.EFUSE_SECURE_BOOT_EN_REG)&this.EFUSE_SECURE_BOOT_EN_MASK}async getKeyBlockPurpose(m,r){if(r<0||r>this.EFUSE_MAX_KEY){m.debug(`Valid key block numbers must be in range 0-${this.EFUSE_MAX_KEY}`);return}let N=[[this.EFUSE_PURPOSE_KEY0_REG,this.EFUSE_PURPOSE_KEY0_SHIFT],[this.EFUSE_PURPOSE_KEY1_REG,this.EFUSE_PURPOSE_KEY1_SHIFT],[this.EFUSE_PURPOSE_KEY2_REG,this.EFUSE_PURPOSE_KEY2_SHIFT],[this.EFUSE_PURPOSE_KEY3_REG,this.EFUSE_PURPOSE_KEY3_SHIFT],[this.EFUSE_PURPOSE_KEY4_REG,this.EFUSE_PURPOSE_KEY4_SHIFT],[this.EFUSE_PURPOSE_KEY5_REG,this.EFUSE_PURPOSE_KEY5_SHIFT]],[p,x]=N[r];return await m.readReg(p)>>x&15}async isFlashEncryptionKeyValid(m){let r=[];for(let x=0;x<=this.EFUSE_MAX_KEY;x++){let u=await this.getKeyBlockPurpose(m,x);r.push(u)}if(typeof r.find((x)=>x===this.PURPOSE_VAL_XTS_AES128_KEY)!==void 0)return!0;let N=r.find((x)=>x===this.PURPOSE_VAL_XTS_AES256_KEY_1),p=r.find((x)=>x===this.PURPOSE_VAL_XTS_AES256_KEY_2);if(typeof N!==void 0&&typeof p!==void 0)return!0;return!1}}}),v8="\x01",Su="\x02",Kr="\x03",zr="\x04",Wu=512,Er=80,y8=115200;function wu(l){return l.replaceAll(`\r
`,`
`)}function ju(l){return l.slice(2,-3)}class K0{constructor(){this.serial=null,this._connected=!1,this._encoder=new TextEncoder,this._decoder=new TextDecoder}requestPort(l=[]){return navigator.serial.requestPort({filters:l}).then((m)=>{if(m._serial){this.serial=m._serial,this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1);return}this.serial=new Z8(m),this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1)})}connect(l={}){return new Promise((m,r)=>{if(this.serial)this.serial.open({baudRate:y8,...l}).then(()=>m()).catch((N)=>{if(N.name==="InvalidStateError")this._connected=!0,m();r(N)});else r(new Error("No device specified"))})}get connected(){return this._connected}disconnect(){return this.serial.close()}get deviceInfo(){return this.serial.getInfo()}readUntil(l,m){return new Promise((r)=>{let N="",p=async(x)=>{if(x){if(N+=this._decoder.decode(x),m)m(x)}if(N.indexOf(l)!==-1)this.serial.off("data",p),r(N)};this.serial.on("data",p)})}writeAndReadUntil(l,m,r){return new Promise(async(N)=>{if(m)this.readUntil(m,r).then(N);for(let p=0;p<l.length;p+=Wu)await this.serial.write(l.slice(p,p+Wu)),await Jr(10);if(!m)N()})}async getPrompt(){return await Jr(150),await this.stop(),await Jr(150),await this.writeAndReadUntil(`\r${Kr}${Su}`,`\r
>>>`)}async enterRawRepl(){return await this.writeAndReadUntil(v8,"raw REPL; CTRL-B to exit")}async exitRawRepl(){return await this.writeAndReadUntil(Su,`\r
>>>`)}async execRaw(l,m){return await this.writeAndReadUntil(l),await this.writeAndReadUntil(zr,`${zr}>`,m)}async execFile(l,m){if(m=m||function(){},l){await this.enterRawRepl();let r=await this.execRaw(l,m);return await this.exitRawRepl(),r}return Promise.reject()}async run(l,m){return m=m||function(){},new Promise(async(r,N)=>{if(this.rejectRun)this.rejectRun(new Error("re-run")),this.rejectRun=null;this.rejectRun=N;try{await this.enterRawRepl();let p=await this.execRaw(l||"#",m);return await this.exitRawRepl(),r(p)}catch(p){N(p),this.rejectRun=null}})}async eval(l){await this.serial.write(l)}async stop(){if(this.rejectRun)this.rejectRun(new Error("pre stop")),this.rejectRun=null;await this.serial.write(Kr)}async reset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.serial.write(Kr),await this.serial.write(zr)}async hardReset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.enterRawRepl(),this.execRaw(`import machine
machine.reset()`)}async exists(l){l=l||"";let m="";m+=`try:
`,m+=`  f = open('${l}', 'r')
`,m+=`  print(1)
`,m+=`except OSError:
`,m+=`  print(0)
`,await this.enterRawRepl();let r=await this.execRaw(m);return await this.exitRawRepl(),r[2]=="1"}async listdir(l){l=l||"";let m="";m+=`import os
`,m+=`try:
`,m+=`  print(os.listdir('${l}'))
`,m+=`except OSError:
`,m+=`  print([])
`,await this.enterRawRepl();let r=await this.execRaw(m);return await this.exitRawRepl(),r=ju(r),r=r.replace(/'/g,'"'),JSON.parse(r)}async mkdir(l){if(l){await this.enterRawRepl();let m=await this.execRaw(`import os
os.mkdir('${l}')`);return await this.exitRawRepl(),m}return Promise.reject(new Error("Path to file was not specified"))}async rmdir(l){if(l){let m="";m+=`import os
`,m+=`try:
`,m+=`  os.rmdir("${l}")
`,m+=`except OSError:
`,m+=`  print(0)
`,await this.enterRawRepl();let r=await this.execRaw(m);return await this.exitRawRepl(),r}return Promise.reject(new Error("Path to file was not specified"))}async remove(l){if(l){let m="";m+=`import os
`,m+=`try:
`,m+=`  os.remove("${l}")
`,m+=`except OSError:
`,m+=`  print(0)
`,await this.enterRawRepl();let r=await this.execRaw(m);return this.exitRawRepl(),r}return Promise.reject(new Error("Path to file was not specified"))}async rename(l,m){if(l&&m){await this.enterRawRepl();let r=await this.execRaw(`import os
os.rename('${l}', '${m}')`);return this.exitRawRepl(),r}return Promise.reject(new Error("Path to file was not specified"))}async cat(l){if(l){await this.enterRawRepl();let m=await this.execRaw(`with open('${l}','r') as f:
 while 1:
  b=f.read(256)
  if not b:break
  print(b,end='')`);return await this.exitRawRepl(),m=ju(m),wu(m)}return Promise.reject(new Error("Path to file was not specified"))}async checkHash(l,m){if(l){let r="";r+=`import os
`,r+=`import hashlib
`,r+=`import binascii
`,r+=`hash = hashlib.sha256()
`,r+=`with open('${l}', 'rb') as f:
`,r+=`  while True:
`,r+=`    c = f.read(${Er})
`,r+=`    if not c: break
`,r+=`    hash.update(c)
`,r+=`print(binascii.hexlify(hash.digest()).decode())
`,await this.enterRawRepl();let N=await this.execRaw(r);return await this.exitRawRepl(),N=N.slice(2,N.indexOf(`
`)-1),m===N}return Promise.reject(new Error("Path to file was not specified"))}async put(l,m,r){if(!m){Promise.reject(new Error("Must specify content and destination path"));return}let N;if(typeof l==="string")N=this._encoder.encode(wu(l));else if(l instanceof ArrayBuffer)N=new Uint8Array(l);else if(l instanceof Uint8Array)N=l;else Promise.reject(new Error(`${l} must string, Uint8Array or ArrayBuffer`));if(r=r||function(){},await this.exists(m)){let _=await crypto.subtle.digest("SHA-256",N),L=Array.from(new Uint8Array(_)).map((y)=>y.toString(16).padStart(2,"0")).join("");if(await this.checkHash(m,L)){r(100);return}}let p=Array.from(N).map((_)=>_.toString(16).padStart(2,"0")),x="";x+=await this.enterRawRepl();let u=m.split("/");if(u.pop(),u.length>0){x+=await this.execRaw("import os");let _=[];u.reduce((L,y)=>{if(y===""||L!==""&&L.at(-1)!=="/")L+="/";if(L+=y,L!=="/")_.push(L);return L},"");for(let L of _)x+=await this.execRaw(`os.mkdir('${L}')`)}x+=await this.execRaw(`f=open('${m}','w')
w=f.write`);for(let _=0;_<p.length;_+=Er){let L=p.slice(_,_+Er).map((y)=>`\\x${y}`);x+=await this.execRaw(`w(b"${L.join("")}")`),r(parseInt(_/p.length*100))}return x+=await this.execRaw("f.close()"),x+=await this.exitRawRepl(),r(100),x}}function R8(l,m){let r=`data:${l};base64,${m}`;return fetch(r).then((N)=>N.arrayBuffer())}var z0=async(l)=>{let m=new K0;return await m.requestPort(l),await m.connect(),m};var E0=(l,m=1000)=>{let r,N=new Promise((p,x)=>{r=p;let u=()=>{setTimeout(()=>{if(l.connected)u();else x("disconnected")},m)};u()});return{cancel(){return r()},catch(...p){return N.catch(...p),this},then(...p){return N.then(...p),this},finally(...p){return N.finally(...p),this}}},P0=async(l,m)=>{await l.stop(),await l.enterRawRepl();let r=`import device.config as config
`;for(let[N,p]of Object.entries(m))if(typeof p==="number"&&p%1===0)r+=`config.set_int("${N}", ${p})
`;else if(typeof p==="boolean")r+=`config.set_bool("${N}", ${p?"True":"False"})
`;else r+=`config.set_str("${N}", "${p}")
`;r+=`config.save()
`,await l.execRaw(r),await l.exitRawRepl()},H0=async(l,m)=>{await l.stop();let r=0;for(let p of m)r+=p.content?.length??p.data?.length??0;await l.enterRawRepl();let N=await l.execRaw(`from device.flash import check_flash_free
`);if(N.includes("ImportError: "))return!0;return N=await l.execRaw(`print(check_flash_free(${r}))
`),await l.exitRawRepl(),N.slice(2,-3).trim()==="True"};var G0=async(l,m,r)=>{await l.stop(),await l.enterRawRepl(),await l.execRaw(`import download_screen
`),await l.exitRawRepl();let N=m.length,p=0,x=(u)=>{r(((p+1/N*(u/100))*100).toFixed(1))};for(let u of m){let{id:_,content:L}=u;if(u.type){if(u.type==="text/x-python"&&!_.endsWith(".py"))_+=".py";else if(u.type.startsWith("image/")&&!L)L=await R8(u.type,u.data)}await l.put(L||"",_,x),p+=1/N}r(100)},V2=ki(G6(),1),M2=ki(Y6(),1);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function Wn(l){let m=l.length;while(--m>=0)l[m]=0}var x8=0,Y0=1,q8=2,T8=3,$8=258,vi=29,_s=256,is=_s+1+vi,gn=30,yi=19,D0=2*is+1,an=15,Pr=16,V8=7,Ri=256,Q0=16,C0=17,B0=18,ui=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),tl=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),A0=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L8=512,Na=new Array((is+2)*2);Wn(Na);var ns=new Array(gn*2);Wn(ns);var cs=new Array(L8);Wn(cs);var us=new Array($8-T8+1);Wn(us);var xi=new Array(vi);Wn(xi);var bl=new Array(gn);Wn(bl);function Hr(l,m,r,N,p){this.static_tree=l,this.extra_bits=m,this.extra_base=r,this.elems=N,this.max_length=p,this.has_stree=l&&l.length}var e1,o1,a1;function Gr(l,m){this.dyn_tree=l,this.max_code=0,this.stat_desc=m}var n1=(l)=>{return l<256?cs[l]:cs[256+(l>>>7)]},ts=(l,m)=>{l.pending_buf[l.pending++]=m&255,l.pending_buf[l.pending++]=m>>>8&255},Ko=(l,m,r)=>{if(l.bi_valid>Pr-r)l.bi_buf|=m<<l.bi_valid&65535,ts(l,l.bi_buf),l.bi_buf=m>>Pr-l.bi_valid,l.bi_valid+=r-Pr;else l.bi_buf|=m<<l.bi_valid&65535,l.bi_valid+=r},ta=(l,m,r)=>{Ko(l,r[m*2],r[m*2+1])},s1=(l,m)=>{let r=0;do r|=l&1,l>>>=1,r<<=1;while(--m>0);return r>>>1},U8=(l)=>{if(l.bi_valid===16)ts(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0;else if(l.bi_valid>=8)l.pending_buf[l.pending++]=l.bi_buf&255,l.bi_buf>>=8,l.bi_valid-=8},O8=(l,m)=>{let{dyn_tree:r,max_code:N}=m,p=m.stat_desc.static_tree,x=m.stat_desc.has_stree,u=m.stat_desc.extra_bits,_=m.stat_desc.extra_base,L=m.stat_desc.max_length,y,R,v,$,M,T,q=0;for($=0;$<=an;$++)l.bl_count[$]=0;r[l.heap[l.heap_max]*2+1]=0;for(y=l.heap_max+1;y<D0;y++){if(R=l.heap[y],$=r[r[R*2+1]*2+1]+1,$>L)$=L,q++;if(r[R*2+1]=$,R>N)continue;if(l.bl_count[$]++,M=0,R>=_)M=u[R-_];if(T=r[R*2],l.opt_len+=T*($+M),x)l.static_len+=T*(p[R*2+1]+M)}if(q===0)return;do{$=L-1;while(l.bl_count[$]===0)$--;l.bl_count[$]--,l.bl_count[$+1]+=2,l.bl_count[L]--,q-=2}while(q>0);for($=L;$!==0;$--){R=l.bl_count[$];while(R!==0){if(v=l.heap[--y],v>N)continue;if(r[v*2+1]!==$)l.opt_len+=($-r[v*2+1])*r[v*2],r[v*2+1]=$;R--}}},l1=(l,m,r)=>{let N=new Array(an+1),p=0,x,u;for(x=1;x<=an;x++)p=p+r[x-1]<<1,N[x]=p;for(u=0;u<=m;u++){let _=l[u*2+1];if(_===0)continue;l[u*2]=s1(N[_]++,_)}},g8=()=>{let l,m,r,N,p,x=new Array(an+1);r=0;for(N=0;N<vi-1;N++){xi[N]=r;for(l=0;l<1<<ui[N];l++)us[r++]=N}us[r-1]=N,p=0;for(N=0;N<16;N++){bl[N]=p;for(l=0;l<1<<tl[N];l++)cs[p++]=N}p>>=7;for(;N<gn;N++){bl[N]=p<<7;for(l=0;l<1<<tl[N]-7;l++)cs[256+p++]=N}for(m=0;m<=an;m++)x[m]=0;l=0;while(l<=143)Na[l*2+1]=8,l++,x[8]++;while(l<=255)Na[l*2+1]=9,l++,x[9]++;while(l<=279)Na[l*2+1]=7,l++,x[7]++;while(l<=287)Na[l*2+1]=8,l++,x[8]++;l1(Na,is+1,x);for(l=0;l<gn;l++)ns[l*2+1]=5,ns[l*2]=s1(l,5);e1=new Hr(Na,ui,_s+1,is,an),o1=new Hr(ns,tl,0,gn,an),a1=new Hr(new Array(0),M8,0,yi,V8)},r1=(l)=>{let m;for(m=0;m<is;m++)l.dyn_ltree[m*2]=0;for(m=0;m<gn;m++)l.dyn_dtree[m*2]=0;for(m=0;m<yi;m++)l.bl_tree[m*2]=0;l.dyn_ltree[Ri*2]=1,l.opt_len=l.static_len=0,l.sym_next=l.matches=0},i1=(l)=>{if(l.bi_valid>8)ts(l,l.bi_buf);else if(l.bi_valid>0)l.pending_buf[l.pending++]=l.bi_buf;l.bi_buf=0,l.bi_valid=0},Fu=(l,m,r,N)=>{let p=m*2,x=r*2;return l[p]<l[x]||l[p]===l[x]&&N[m]<=N[r]},Yr=(l,m,r)=>{let N=l.heap[r],p=r<<1;while(p<=l.heap_len){if(p<l.heap_len&&Fu(m,l.heap[p+1],l.heap[p],l.depth))p++;if(Fu(m,N,l.heap[p],l.depth))break;l.heap[r]=l.heap[p],r=p,p<<=1}l.heap[r]=N},Iu=(l,m,r)=>{let N,p,x=0,u,_;if(l.sym_next!==0)do if(N=l.pending_buf[l.sym_buf+x++]&255,N+=(l.pending_buf[l.sym_buf+x++]&255)<<8,p=l.pending_buf[l.sym_buf+x++],N===0)ta(l,p,m);else{if(u=us[p],ta(l,u+_s+1,m),_=ui[u],_!==0)p-=xi[u],Ko(l,p,_);if(N--,u=n1(N),ta(l,u,r),_=tl[u],_!==0)N-=bl[u],Ko(l,N,_)}while(x<l.sym_next);ta(l,Ri,m)},ti=(l,m)=>{let r=m.dyn_tree,N=m.stat_desc.static_tree,p=m.stat_desc.has_stree,x=m.stat_desc.elems,u,_,L=-1,y;l.heap_len=0,l.heap_max=D0;for(u=0;u<x;u++)if(r[u*2]!==0)l.heap[++l.heap_len]=L=u,l.depth[u]=0;else r[u*2+1]=0;while(l.heap_len<2)if(y=l.heap[++l.heap_len]=L<2?++L:0,r[y*2]=1,l.depth[y]=0,l.opt_len--,p)l.static_len-=N[y*2+1];m.max_code=L;for(u=l.heap_len>>1;u>=1;u--)Yr(l,r,u);y=x;do u=l.heap[1],l.heap[1]=l.heap[l.heap_len--],Yr(l,r,1),_=l.heap[1],l.heap[--l.heap_max]=u,l.heap[--l.heap_max]=_,r[y*2]=r[u*2]+r[_*2],l.depth[y]=(l.depth[u]>=l.depth[_]?l.depth[u]:l.depth[_])+1,r[u*2+1]=r[_*2+1]=y,l.heap[1]=y++,Yr(l,r,1);while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],O8(l,m),l1(r,L,l.bl_count)},Ju=(l,m,r)=>{let N,p=-1,x,u=m[1],_=0,L=7,y=4;if(u===0)L=138,y=3;m[(r+1)*2+1]=65535;for(N=0;N<=r;N++){if(x=u,u=m[(N+1)*2+1],++_<L&&x===u)continue;else if(_<y)l.bl_tree[x*2]+=_;else if(x!==0){if(x!==p)l.bl_tree[x*2]++;l.bl_tree[Q0*2]++}else if(_<=10)l.bl_tree[C0*2]++;else l.bl_tree[B0*2]++;if(_=0,p=x,u===0)L=138,y=3;else if(x===u)L=6,y=3;else L=7,y=4}},Ku=(l,m,r)=>{let N,p=-1,x,u=m[1],_=0,L=7,y=4;if(u===0)L=138,y=3;for(N=0;N<=r;N++){if(x=u,u=m[(N+1)*2+1],++_<L&&x===u)continue;else if(_<y)do ta(l,x,l.bl_tree);while(--_!==0);else if(x!==0){if(x!==p)ta(l,x,l.bl_tree),_--;ta(l,Q0,l.bl_tree),Ko(l,_-3,2)}else if(_<=10)ta(l,C0,l.bl_tree),Ko(l,_-3,3);else ta(l,B0,l.bl_tree),Ko(l,_-11,7);if(_=0,p=x,u===0)L=138,y=3;else if(x===u)L=6,y=3;else L=7,y=4}},X8=(l)=>{let m;Ju(l,l.dyn_ltree,l.l_desc.max_code),Ju(l,l.dyn_dtree,l.d_desc.max_code),ti(l,l.bl_desc);for(m=yi-1;m>=3;m--)if(l.bl_tree[A0[m]*2+1]!==0)break;return l.opt_len+=3*(m+1)+5+5+4,m},S8=(l,m,r,N)=>{let p;Ko(l,m-257,5),Ko(l,r-1,5),Ko(l,N-4,4);for(p=0;p<N;p++)Ko(l,l.bl_tree[A0[p]*2+1],3);Ku(l,l.dyn_ltree,m-1),Ku(l,l.dyn_dtree,r-1)},W8=(l)=>{let m=4093624447,r;for(r=0;r<=31;r++,m>>>=1)if(m&1&&l.dyn_ltree[r*2]!==0)return 0;if(l.dyn_ltree[18]!==0||l.dyn_ltree[20]!==0||l.dyn_ltree[26]!==0)return 1;for(r=32;r<_s;r++)if(l.dyn_ltree[r*2]!==0)return 1;return 0},zu=!1,w8=(l)=>{if(!zu)g8(),zu=!0;l.l_desc=new Gr(l.dyn_ltree,e1),l.d_desc=new Gr(l.dyn_dtree,o1),l.bl_desc=new Gr(l.bl_tree,a1),l.bi_buf=0,l.bi_valid=0,r1(l)},c1=(l,m,r,N)=>{if(Ko(l,(x8<<1)+(N?1:0),3),i1(l),ts(l,r),ts(l,~r),r)l.pending_buf.set(l.window.subarray(m,m+r),l.pending);l.pending+=r},j8=(l)=>{Ko(l,Y0<<1,3),ta(l,Ri,Na),U8(l)},F8=(l,m,r,N)=>{let p,x,u=0;if(l.level>0){if(l.strm.data_type===2)l.strm.data_type=W8(l);if(ti(l,l.l_desc),ti(l,l.d_desc),u=X8(l),p=l.opt_len+3+7>>>3,x=l.static_len+3+7>>>3,x<=p)p=x}else p=x=r+5;if(r+4<=p&&m!==-1)c1(l,m,r,N);else if(l.strategy===4||x===p)Ko(l,(Y0<<1)+(N?1:0),3),Iu(l,Na,ns);else Ko(l,(q8<<1)+(N?1:0),3),S8(l,l.l_desc.max_code+1,l.d_desc.max_code+1,u+1),Iu(l,l.dyn_ltree,l.dyn_dtree);if(r1(l),N)i1(l)},I8=(l,m,r)=>{if(l.pending_buf[l.sym_buf+l.sym_next++]=m,l.pending_buf[l.sym_buf+l.sym_next++]=m>>8,l.pending_buf[l.sym_buf+l.sym_next++]=r,m===0)l.dyn_ltree[r*2]++;else l.matches++,m--,l.dyn_ltree[(us[r]+_s+1)*2]++,l.dyn_dtree[n1(m)*2]++;return l.sym_next===l.sym_end},J8=w8,K8=c1,z8=F8,E8=I8,P8=j8,H8={_tr_init:J8,_tr_stored_block:K8,_tr_flush_block:z8,_tr_tally:E8,_tr_align:P8},G8=(l,m,r,N)=>{let p=l&65535|0,x=l>>>16&65535|0,u=0;while(r!==0){u=r>2000?2000:r,r-=u;do p=p+m[N++]|0,x=x+p|0;while(--u);p%=65521,x%=65521}return p|x<<16|0},ms=G8,Y8=()=>{let l,m=[];for(var r=0;r<256;r++){l=r;for(var N=0;N<8;N++)l=l&1?3988292384^l>>>1:l>>>1;m[r]=l}return m},D8=new Uint32Array(Y8()),Q8=(l,m,r,N)=>{let p=D8,x=N+r;l^=-1;for(let u=N;u<x;u++)l=l>>>8^p[(l^m[u])&255];return l^-1},go=Q8,bs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_l={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:C8,_tr_stored_block:mi,_tr_flush_block:B8,_tr_tally:Xa,_tr_align:A8}=H8,{Z_NO_FLUSH:Sa,Z_PARTIAL_FLUSH:et,Z_FULL_FLUSH:ot,Z_FINISH:Co,Z_BLOCK:Eu,Z_OK:So,Z_STREAM_END:Pu,Z_STREAM_ERROR:ma,Z_DATA_ERROR:at,Z_BUF_ERROR:Dr,Z_DEFAULT_COMPRESSION:nt,Z_FILTERED:st,Z_HUFFMAN_ONLY:sl,Z_RLE:lt,Z_FIXED:rt,Z_DEFAULT_STRATEGY:it,Z_UNKNOWN:ct,Z_DEFLATED:kl}=_l,ut=9,tt=15,mt=8,bt=29,dt=256,bi=dt+1+bt,pt=30,ft=19,ht=2*bi+1,_t=15,_o=3,ga=258,ba=ga+_o+1,kt=32,Xn=42,qi=57,di=69,pi=73,fi=91,hi=103,nn=113,os=666,jo=1,wn=2,ln=3,jn=4,Nt=3,sn=(l,m)=>{return l.msg=bs[m],m},Hu=(l)=>{return l*2-(l>4?9:0)},Oa=(l)=>{let m=l.length;while(--m>=0)l[m]=0},Zt=(l)=>{let m,r,N,p=l.w_size;m=l.hash_size,N=m;do r=l.head[--N],l.head[N]=r>=p?r-p:0;while(--m);m=p,N=m;do r=l.prev[--N],l.prev[N]=r>=p?r-p:0;while(--m)},vt=(l,m,r)=>(m<<l.hash_shift^r)&l.hash_mask,Wa=vt,Go=(l)=>{let m=l.state,r=m.pending;if(r>l.avail_out)r=l.avail_out;if(r===0)return;if(l.output.set(m.pending_buf.subarray(m.pending_out,m.pending_out+r),l.next_out),l.next_out+=r,m.pending_out+=r,l.total_out+=r,l.avail_out-=r,m.pending-=r,m.pending===0)m.pending_out=0},Yo=(l,m)=>{B8(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,m),l.block_start=l.strstart,Go(l.strm)},ko=(l,m)=>{l.pending_buf[l.pending++]=m},Bn=(l,m)=>{l.pending_buf[l.pending++]=m>>>8&255,l.pending_buf[l.pending++]=m&255},_i=(l,m,r,N)=>{let p=l.avail_in;if(p>N)p=N;if(p===0)return 0;if(l.avail_in-=p,m.set(l.input.subarray(l.next_in,l.next_in+p),r),l.state.wrap===1)l.adler=ms(l.adler,m,p,r);else if(l.state.wrap===2)l.adler=go(l.adler,m,p,r);return l.next_in+=p,l.total_in+=p,p},u1=(l,m)=>{let{max_chain_length:r,strstart:N}=l,p,x,u=l.prev_length,_=l.nice_match,L=l.strstart>l.w_size-ba?l.strstart-(l.w_size-ba):0,y=l.window,R=l.w_mask,v=l.prev,$=l.strstart+ga,M=y[N+u-1],T=y[N+u];if(l.prev_length>=l.good_match)r>>=2;if(_>l.lookahead)_=l.lookahead;do{if(p=m,y[p+u]!==T||y[p+u-1]!==M||y[p]!==y[N]||y[++p]!==y[N+1])continue;N+=2,p++;do;while(y[++N]===y[++p]&&y[++N]===y[++p]&&y[++N]===y[++p]&&y[++N]===y[++p]&&y[++N]===y[++p]&&y[++N]===y[++p]&&y[++N]===y[++p]&&y[++N]===y[++p]&&N<$);if(x=ga-($-N),N=$-ga,x>u){if(l.match_start=m,u=x,x>=_)break;M=y[N+u-1],T=y[N+u]}}while((m=v[m&R])>L&&--r!==0);if(u<=l.lookahead)return u;return l.lookahead},Sn=(l)=>{let m=l.w_size,r,N,p;do{if(N=l.window_size-l.lookahead-l.strstart,l.strstart>=m+(m-ba)){if(l.window.set(l.window.subarray(m,m+m-N),0),l.match_start-=m,l.strstart-=m,l.block_start-=m,l.insert>l.strstart)l.insert=l.strstart;Zt(l),N+=m}if(l.strm.avail_in===0)break;if(r=_i(l.strm,l.window,l.strstart+l.lookahead,N),l.lookahead+=r,l.lookahead+l.insert>=_o){p=l.strstart-l.insert,l.ins_h=l.window[p],l.ins_h=Wa(l,l.ins_h,l.window[p+1]);while(l.insert)if(l.ins_h=Wa(l,l.ins_h,l.window[p+_o-1]),l.prev[p&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=p,p++,l.insert--,l.lookahead+l.insert<_o)break}}while(l.lookahead<ba&&l.strm.avail_in!==0)},t1=(l,m)=>{let r=l.pending_buf_size-5>l.w_size?l.w_size:l.pending_buf_size-5,N,p,x,u=0,_=l.strm.avail_in;do{if(N=65535,x=l.bi_valid+42>>3,l.strm.avail_out<x)break;if(x=l.strm.avail_out-x,p=l.strstart-l.block_start,N>p+l.strm.avail_in)N=p+l.strm.avail_in;if(N>x)N=x;if(N<r&&(N===0&&m!==Co||m===Sa||N!==p+l.strm.avail_in))break;if(u=m===Co&&N===p+l.strm.avail_in?1:0,mi(l,0,0,u),l.pending_buf[l.pending-4]=N,l.pending_buf[l.pending-3]=N>>8,l.pending_buf[l.pending-2]=~N,l.pending_buf[l.pending-1]=~N>>8,Go(l.strm),p){if(p>N)p=N;l.strm.output.set(l.window.subarray(l.block_start,l.block_start+p),l.strm.next_out),l.strm.next_out+=p,l.strm.avail_out-=p,l.strm.total_out+=p,l.block_start+=p,N-=p}if(N)_i(l.strm,l.strm.output,l.strm.next_out,N),l.strm.next_out+=N,l.strm.avail_out-=N,l.strm.total_out+=N}while(u===0);if(_-=l.strm.avail_in,_){if(_>=l.w_size)l.matches=2,l.window.set(l.strm.input.subarray(l.strm.next_in-l.w_size,l.strm.next_in),0),l.strstart=l.w_size,l.insert=l.strstart;else{if(l.window_size-l.strstart<=_){if(l.strstart-=l.w_size,l.window.set(l.window.subarray(l.w_size,l.w_size+l.strstart),0),l.matches<2)l.matches++;if(l.insert>l.strstart)l.insert=l.strstart}l.window.set(l.strm.input.subarray(l.strm.next_in-_,l.strm.next_in),l.strstart),l.strstart+=_,l.insert+=_>l.w_size-l.insert?l.w_size-l.insert:_}l.block_start=l.strstart}if(l.high_water<l.strstart)l.high_water=l.strstart;if(u)return jn;if(m!==Sa&&m!==Co&&l.strm.avail_in===0&&l.strstart===l.block_start)return wn;if(x=l.window_size-l.strstart,l.strm.avail_in>x&&l.block_start>=l.w_size){if(l.block_start-=l.w_size,l.strstart-=l.w_size,l.window.set(l.window.subarray(l.w_size,l.w_size+l.strstart),0),l.matches<2)l.matches++;if(x+=l.w_size,l.insert>l.strstart)l.insert=l.strstart}if(x>l.strm.avail_in)x=l.strm.avail_in;if(x)_i(l.strm,l.window,l.strstart,x),l.strstart+=x,l.insert+=x>l.w_size-l.insert?l.w_size-l.insert:x;if(l.high_water<l.strstart)l.high_water=l.strstart;if(x=l.bi_valid+42>>3,x=l.pending_buf_size-x>65535?65535:l.pending_buf_size-x,r=x>l.w_size?l.w_size:x,p=l.strstart-l.block_start,p>=r||(p||m===Co)&&m!==Sa&&l.strm.avail_in===0&&p<=x)N=p>x?x:p,u=m===Co&&l.strm.avail_in===0&&N===p?1:0,mi(l,l.block_start,N,u),l.block_start+=N,Go(l.strm);return u?ln:jo},Qr=(l,m)=>{let r,N;for(;;){if(l.lookahead<ba){if(Sn(l),l.lookahead<ba&&m===Sa)return jo;if(l.lookahead===0)break}if(r=0,l.lookahead>=_o)l.ins_h=Wa(l,l.ins_h,l.window[l.strstart+_o-1]),r=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;if(r!==0&&l.strstart-r<=l.w_size-ba)l.match_length=u1(l,r);if(l.match_length>=_o)if(N=Xa(l,l.strstart-l.match_start,l.match_length-_o),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=_o){l.match_length--;do l.strstart++,l.ins_h=Wa(l,l.ins_h,l.window[l.strstart+_o-1]),r=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!==0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=Wa(l,l.ins_h,l.window[l.strstart+1]);else N=Xa(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(N){if(Yo(l,!1),l.strm.avail_out===0)return jo}}if(l.insert=l.strstart<_o-1?l.strstart:_o-1,m===Co){if(Yo(l,!0),l.strm.avail_out===0)return ln;return jn}if(l.sym_next){if(Yo(l,!1),l.strm.avail_out===0)return jo}return wn},kn=(l,m)=>{let r,N,p;for(;;){if(l.lookahead<ba){if(Sn(l),l.lookahead<ba&&m===Sa)return jo;if(l.lookahead===0)break}if(r=0,l.lookahead>=_o)l.ins_h=Wa(l,l.ins_h,l.window[l.strstart+_o-1]),r=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;if(l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=_o-1,r!==0&&l.prev_length<l.max_lazy_match&&l.strstart-r<=l.w_size-ba){if(l.match_length=u1(l,r),l.match_length<=5&&(l.strategy===st||l.match_length===_o&&l.strstart-l.match_start>4096))l.match_length=_o-1}if(l.prev_length>=_o&&l.match_length<=l.prev_length){p=l.strstart+l.lookahead-_o,N=Xa(l,l.strstart-1-l.prev_match,l.prev_length-_o),l.lookahead-=l.prev_length-1,l.prev_length-=2;do if(++l.strstart<=p)l.ins_h=Wa(l,l.ins_h,l.window[l.strstart+_o-1]),r=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.prev_length!==0);if(l.match_available=0,l.match_length=_o-1,l.strstart++,N){if(Yo(l,!1),l.strm.avail_out===0)return jo}}else if(l.match_available){if(N=Xa(l,0,l.window[l.strstart-1]),N)Yo(l,!1);if(l.strstart++,l.lookahead--,l.strm.avail_out===0)return jo}else l.match_available=1,l.strstart++,l.lookahead--}if(l.match_available)N=Xa(l,0,l.window[l.strstart-1]),l.match_available=0;if(l.insert=l.strstart<_o-1?l.strstart:_o-1,m===Co){if(Yo(l,!0),l.strm.avail_out===0)return ln;return jn}if(l.sym_next){if(Yo(l,!1),l.strm.avail_out===0)return jo}return wn},yt=(l,m)=>{let r,N,p,x,u=l.window;for(;;){if(l.lookahead<=ga){if(Sn(l),l.lookahead<=ga&&m===Sa)return jo;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=_o&&l.strstart>0){if(p=l.strstart-1,N=u[p],N===u[++p]&&N===u[++p]&&N===u[++p]){x=l.strstart+ga;do;while(N===u[++p]&&N===u[++p]&&N===u[++p]&&N===u[++p]&&N===u[++p]&&N===u[++p]&&N===u[++p]&&N===u[++p]&&p<x);if(l.match_length=ga-(x-p),l.match_length>l.lookahead)l.match_length=l.lookahead}}if(l.match_length>=_o)r=Xa(l,1,l.match_length-_o),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0;else r=Xa(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(r){if(Yo(l,!1),l.strm.avail_out===0)return jo}}if(l.insert=0,m===Co){if(Yo(l,!0),l.strm.avail_out===0)return ln;return jn}if(l.sym_next){if(Yo(l,!1),l.strm.avail_out===0)return jo}return wn},Rt=(l,m)=>{let r;for(;;){if(l.lookahead===0){if(Sn(l),l.lookahead===0){if(m===Sa)return jo;break}}if(l.match_length=0,r=Xa(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,r){if(Yo(l,!1),l.strm.avail_out===0)return jo}}if(l.insert=0,m===Co){if(Yo(l,!0),l.strm.avail_out===0)return ln;return jn}if(l.sym_next){if(Yo(l,!1),l.strm.avail_out===0)return jo}return wn};function ua(l,m,r,N,p){this.good_length=l,this.max_lazy=m,this.nice_length=r,this.max_chain=N,this.func=p}var as=[new ua(0,0,0,0,t1),new ua(4,4,8,4,Qr),new ua(4,5,16,8,Qr),new ua(4,6,32,32,Qr),new ua(4,4,16,16,kn),new ua(8,16,32,32,kn),new ua(8,16,128,128,kn),new ua(8,32,128,256,kn),new ua(32,128,258,1024,kn),new ua(32,258,258,4096,kn)],xt=(l)=>{l.window_size=2*l.w_size,Oa(l.head),l.max_lazy_match=as[l.level].max_lazy,l.good_match=as[l.level].good_length,l.nice_match=as[l.level].nice_length,l.max_chain_length=as[l.level].max_chain,l.strstart=0,l.block_start=0,l.lookahead=0,l.insert=0,l.match_length=l.prev_length=_o-1,l.match_available=0,l.ins_h=0};function qt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=kl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ht*2),this.dyn_dtree=new Uint16Array((2*pt+1)*2),this.bl_tree=new Uint16Array((2*ft+1)*2),Oa(this.dyn_ltree),Oa(this.dyn_dtree),Oa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_t+1),this.heap=new Uint16Array(2*bi+1),Oa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*bi+1),Oa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var ks=(l)=>{if(!l)return 1;let m=l.state;if(!m||m.strm!==l||m.status!==Xn&&m.status!==qi&&m.status!==di&&m.status!==pi&&m.status!==fi&&m.status!==hi&&m.status!==nn&&m.status!==os)return 1;return 0},m1=(l)=>{if(ks(l))return sn(l,ma);l.total_in=l.total_out=0,l.data_type=ct;let m=l.state;if(m.pending=0,m.pending_out=0,m.wrap<0)m.wrap=-m.wrap;return m.status=m.wrap===2?qi:m.wrap?Xn:nn,l.adler=m.wrap===2?0:1,m.last_flush=-2,C8(m),So},b1=(l)=>{let m=m1(l);if(m===So)xt(l.state);return m},Tt=(l,m)=>{if(ks(l)||l.state.wrap!==2)return ma;return l.state.gzhead=m,So},d1=(l,m,r,N,p,x)=>{if(!l)return ma;let u=1;if(m===nt)m=6;if(N<0)u=0,N=-N;else if(N>15)u=2,N-=16;if(p<1||p>ut||r!==kl||N<8||N>15||m<0||m>9||x<0||x>rt||N===8&&u!==1)return sn(l,ma);if(N===8)N=9;let _=new qt;return l.state=_,_.strm=l,_.status=Xn,_.wrap=u,_.gzhead=null,_.w_bits=N,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=p+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+_o-1)/_o),_.window=new Uint8Array(_.w_size*2),_.head=new Uint16Array(_.hash_size),_.prev=new Uint16Array(_.w_size),_.lit_bufsize=1<<p+6,_.pending_buf_size=_.lit_bufsize*4,_.pending_buf=new Uint8Array(_.pending_buf_size),_.sym_buf=_.lit_bufsize,_.sym_end=(_.lit_bufsize-1)*3,_.level=m,_.strategy=x,_.method=r,b1(l)},$t=(l,m)=>{return d1(l,m,kl,tt,mt,it)},Vt=(l,m)=>{if(ks(l)||m>Eu||m<0)return l?sn(l,ma):ma;let r=l.state;if(!l.output||l.avail_in!==0&&!l.input||r.status===os&&m!==Co)return sn(l,l.avail_out===0?Dr:ma);let N=r.last_flush;if(r.last_flush=m,r.pending!==0){if(Go(l),l.avail_out===0)return r.last_flush=-1,So}else if(l.avail_in===0&&Hu(m)<=Hu(N)&&m!==Co)return sn(l,Dr);if(r.status===os&&l.avail_in!==0)return sn(l,Dr);if(r.status===Xn&&r.wrap===0)r.status=nn;if(r.status===Xn){let p=kl+(r.w_bits-8<<4)<<8,x=-1;if(r.strategy>=sl||r.level<2)x=0;else if(r.level<6)x=1;else if(r.level===6)x=2;else x=3;if(p|=x<<6,r.strstart!==0)p|=kt;if(p+=31-p%31,Bn(r,p),r.strstart!==0)Bn(r,l.adler>>>16),Bn(r,l.adler&65535);if(l.adler=1,r.status=nn,Go(l),r.pending!==0)return r.last_flush=-1,So}if(r.status===qi)if(l.adler=0,ko(r,31),ko(r,139),ko(r,8),!r.gzhead){if(ko(r,0),ko(r,0),ko(r,0),ko(r,0),ko(r,0),ko(r,r.level===9?2:r.strategy>=sl||r.level<2?4:0),ko(r,Nt),r.status=nn,Go(l),r.pending!==0)return r.last_flush=-1,So}else{if(ko(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(!r.gzhead.extra?0:4)+(!r.gzhead.name?0:8)+(!r.gzhead.comment?0:16)),ko(r,r.gzhead.time&255),ko(r,r.gzhead.time>>8&255),ko(r,r.gzhead.time>>16&255),ko(r,r.gzhead.time>>24&255),ko(r,r.level===9?2:r.strategy>=sl||r.level<2?4:0),ko(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length)ko(r,r.gzhead.extra.length&255),ko(r,r.gzhead.extra.length>>8&255);if(r.gzhead.hcrc)l.adler=go(l.adler,r.pending_buf,r.pending,0);r.gzindex=0,r.status=di}if(r.status===di){if(r.gzhead.extra){let p=r.pending,x=(r.gzhead.extra.length&65535)-r.gzindex;while(r.pending+x>r.pending_buf_size){let _=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+_),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>p)l.adler=go(l.adler,r.pending_buf,r.pending-p,p);if(r.gzindex+=_,Go(l),r.pending!==0)return r.last_flush=-1,So;p=0,x-=_}let u=new Uint8Array(r.gzhead.extra);if(r.pending_buf.set(u.subarray(r.gzindex,r.gzindex+x),r.pending),r.pending+=x,r.gzhead.hcrc&&r.pending>p)l.adler=go(l.adler,r.pending_buf,r.pending-p,p);r.gzindex=0}r.status=pi}if(r.status===pi){if(r.gzhead.name){let p=r.pending,x;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>p)l.adler=go(l.adler,r.pending_buf,r.pending-p,p);if(Go(l),r.pending!==0)return r.last_flush=-1,So;p=0}if(r.gzindex<r.gzhead.name.length)x=r.gzhead.name.charCodeAt(r.gzindex++)&255;else x=0;ko(r,x)}while(x!==0);if(r.gzhead.hcrc&&r.pending>p)l.adler=go(l.adler,r.pending_buf,r.pending-p,p);r.gzindex=0}r.status=fi}if(r.status===fi){if(r.gzhead.comment){let p=r.pending,x;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>p)l.adler=go(l.adler,r.pending_buf,r.pending-p,p);if(Go(l),r.pending!==0)return r.last_flush=-1,So;p=0}if(r.gzindex<r.gzhead.comment.length)x=r.gzhead.comment.charCodeAt(r.gzindex++)&255;else x=0;ko(r,x)}while(x!==0);if(r.gzhead.hcrc&&r.pending>p)l.adler=go(l.adler,r.pending_buf,r.pending-p,p)}r.status=hi}if(r.status===hi){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size){if(Go(l),r.pending!==0)return r.last_flush=-1,So}ko(r,l.adler&255),ko(r,l.adler>>8&255),l.adler=0}if(r.status=nn,Go(l),r.pending!==0)return r.last_flush=-1,So}if(l.avail_in!==0||r.lookahead!==0||m!==Sa&&r.status!==os){let p=r.level===0?t1(r,m):r.strategy===sl?Rt(r,m):r.strategy===lt?yt(r,m):as[r.level].func(r,m);if(p===ln||p===jn)r.status=os;if(p===jo||p===ln){if(l.avail_out===0)r.last_flush=-1;return So}if(p===wn){if(m===et)A8(r);else if(m!==Eu){if(mi(r,0,0,!1),m===ot){if(Oa(r.head),r.lookahead===0)r.strstart=0,r.block_start=0,r.insert=0}}if(Go(l),l.avail_out===0)return r.last_flush=-1,So}}if(m!==Co)return So;if(r.wrap<=0)return Pu;if(r.wrap===2)ko(r,l.adler&255),ko(r,l.adler>>8&255),ko(r,l.adler>>16&255),ko(r,l.adler>>24&255),ko(r,l.total_in&255),ko(r,l.total_in>>8&255),ko(r,l.total_in>>16&255),ko(r,l.total_in>>24&255);else Bn(r,l.adler>>>16),Bn(r,l.adler&65535);if(Go(l),r.wrap>0)r.wrap=-r.wrap;return r.pending!==0?So:Pu},Mt=(l)=>{if(ks(l))return ma;let m=l.state.status;return l.state=null,m===nn?sn(l,at):So},Lt=(l,m)=>{let r=m.length;if(ks(l))return ma;let N=l.state,p=N.wrap;if(p===2||p===1&&N.status!==Xn||N.lookahead)return ma;if(p===1)l.adler=ms(l.adler,m,r,0);if(N.wrap=0,r>=N.w_size){if(p===0)Oa(N.head),N.strstart=0,N.block_start=0,N.insert=0;let L=new Uint8Array(N.w_size);L.set(m.subarray(r-N.w_size,r),0),m=L,r=N.w_size}let{avail_in:x,next_in:u,input:_}=l;l.avail_in=r,l.next_in=0,l.input=m,Sn(N);while(N.lookahead>=_o){let L=N.strstart,y=N.lookahead-(_o-1);do N.ins_h=Wa(N,N.ins_h,N.window[L+_o-1]),N.prev[L&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=L,L++;while(--y);N.strstart=L,N.lookahead=_o-1,Sn(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=_o-1,N.match_available=0,l.next_in=u,l.input=_,l.avail_in=x,N.wrap=p,So},Ut=$t,Ot=d1,gt=b1,Xt=m1,St=Tt,Wt=Vt,wt=Mt,jt=Lt,Ft="pako deflate (from Nodeca project)",ss={deflateInit:Ut,deflateInit2:Ot,deflateReset:gt,deflateResetKeep:Xt,deflateSetHeader:St,deflate:Wt,deflateEnd:wt,deflateSetDictionary:jt,deflateInfo:Ft},It=(l,m)=>{return Object.prototype.hasOwnProperty.call(l,m)},Jt=function(l){let m=Array.prototype.slice.call(arguments,1);while(m.length){let r=m.shift();if(!r)continue;if(typeof r!=="object")throw new TypeError(r+"must be non-object");for(let N in r)if(It(r,N))l[N]=r[N]}return l},Kt=(l)=>{let m=0;for(let N=0,p=l.length;N<p;N++)m+=l[N].length;let r=new Uint8Array(m);for(let N=0,p=0,x=l.length;N<x;N++){let u=l[N];r.set(u,p),p+=u.length}return r},Nl={assign:Jt,flattenChunks:Kt},p1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){p1=!1}var ds=new Uint8Array(256);for(let l=0;l<256;l++)ds[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;ds[254]=ds[254]=1;var zt=(l)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(l);let m,r,N,p,x,u=l.length,_=0;for(p=0;p<u;p++){if(r=l.charCodeAt(p),(r&64512)===55296&&p+1<u){if(N=l.charCodeAt(p+1),(N&64512)===56320)r=65536+(r-55296<<10)+(N-56320),p++}_+=r<128?1:r<2048?2:r<65536?3:4}m=new Uint8Array(_);for(x=0,p=0;x<_;p++){if(r=l.charCodeAt(p),(r&64512)===55296&&p+1<u){if(N=l.charCodeAt(p+1),(N&64512)===56320)r=65536+(r-55296<<10)+(N-56320),p++}if(r<128)m[x++]=r;else if(r<2048)m[x++]=192|r>>>6,m[x++]=128|r&63;else if(r<65536)m[x++]=224|r>>>12,m[x++]=128|r>>>6&63,m[x++]=128|r&63;else m[x++]=240|r>>>18,m[x++]=128|r>>>12&63,m[x++]=128|r>>>6&63,m[x++]=128|r&63}return m},Et=(l,m)=>{if(m<65534){if(l.subarray&&p1)return String.fromCharCode.apply(null,l.length===m?l:l.subarray(0,m))}let r="";for(let N=0;N<m;N++)r+=String.fromCharCode(l[N]);return r},Pt=(l,m)=>{let r=m||l.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(l.subarray(0,m));let N,p,x=new Array(r*2);for(p=0,N=0;N<r;){let u=l[N++];if(u<128){x[p++]=u;continue}let _=ds[u];if(_>4){x[p++]=65533,N+=_-1;continue}u&=_===2?31:_===3?15:7;while(_>1&&N<r)u=u<<6|l[N++]&63,_--;if(_>1){x[p++]=65533;continue}if(u<65536)x[p++]=u;else u-=65536,x[p++]=55296|u>>10&1023,x[p++]=56320|u&1023}return Et(x,p)},Ht=(l,m)=>{if(m=m||l.length,m>l.length)m=l.length;let r=m-1;while(r>=0&&(l[r]&192)===128)r--;if(r<0)return m;if(r===0)return m;return r+ds[l[r]]>m?r:m},ps={string2buf:zt,buf2string:Pt,utf8border:Ht};function Gt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var f1=Gt,h1=Object.prototype.toString,{Z_NO_FLUSH:Yt,Z_SYNC_FLUSH:Dt,Z_FULL_FLUSH:Qt,Z_FINISH:Ct,Z_OK:dl,Z_STREAM_END:Bt,Z_DEFAULT_COMPRESSION:At,Z_DEFAULT_STRATEGY:e4,Z_DEFLATED:o4}=_l;function Ti(l){this.options=Nl.assign({level:At,method:o4,chunkSize:16384,windowBits:15,memLevel:8,strategy:e4},l||{});let m=this.options;if(m.raw&&m.windowBits>0)m.windowBits=-m.windowBits;else if(m.gzip&&m.windowBits>0&&m.windowBits<16)m.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f1,this.strm.avail_out=0;let r=ss.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(r!==dl)throw new Error(bs[r]);if(m.header)ss.deflateSetHeader(this.strm,m.header);if(m.dictionary){let N;if(typeof m.dictionary==="string")N=ps.string2buf(m.dictionary);else if(h1.call(m.dictionary)==="[object ArrayBuffer]")N=new Uint8Array(m.dictionary);else N=m.dictionary;if(r=ss.deflateSetDictionary(this.strm,N),r!==dl)throw new Error(bs[r]);this._dict_set=!0}}Ti.prototype.push=function(l,m){let r=this.strm,N=this.options.chunkSize,p,x;if(this.ended)return!1;if(m===~~m)x=m;else x=m===!0?Ct:Yt;if(typeof l==="string")r.input=ps.string2buf(l);else if(h1.call(l)==="[object ArrayBuffer]")r.input=new Uint8Array(l);else r.input=l;r.next_in=0,r.avail_in=r.input.length;for(;;){if(r.avail_out===0)r.output=new Uint8Array(N),r.next_out=0,r.avail_out=N;if((x===Dt||x===Qt)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(p=ss.deflate(r,x),p===Bt){if(r.next_out>0)this.onData(r.output.subarray(0,r.next_out));return p=ss.deflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===dl}if(r.avail_out===0){this.onData(r.output);continue}if(x>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Ti.prototype.onData=function(l){this.chunks.push(l)};Ti.prototype.onEnd=function(l){if(l===dl)this.result=Nl.flattenChunks(this.chunks);this.chunks=[],this.err=l,this.msg=this.strm.msg};var ll=16209,a4=16191,n4=function l(m,r){let N,p,x,u,_,L,y,R,v,$,M,T,q,X,j,I,S,E,D,C,ce,be,qe,ue,$e=m.state;N=m.next_in,qe=m.input,p=N+(m.avail_in-5),x=m.next_out,ue=m.output,u=x-(r-m.avail_out),_=x+(m.avail_out-257),L=$e.dmax,y=$e.wsize,R=$e.whave,v=$e.wnext,$=$e.window,M=$e.hold,T=$e.bits,q=$e.lencode,X=$e.distcode,j=(1<<$e.lenbits)-1,I=(1<<$e.distbits)-1;e:do{if(T<15)M+=qe[N++]<<T,T+=8,M+=qe[N++]<<T,T+=8;S=q[M&j];o:for(;;){if(E=S>>>24,M>>>=E,T-=E,E=S>>>16&255,E===0)ue[x++]=S&65535;else if(E&16){if(D=S&65535,E&=15,E){if(T<E)M+=qe[N++]<<T,T+=8;D+=M&(1<<E)-1,M>>>=E,T-=E}if(T<15)M+=qe[N++]<<T,T+=8,M+=qe[N++]<<T,T+=8;S=X[M&I];a:for(;;){if(E=S>>>24,M>>>=E,T-=E,E=S>>>16&255,E&16){if(C=S&65535,E&=15,T<E){if(M+=qe[N++]<<T,T+=8,T<E)M+=qe[N++]<<T,T+=8}if(C+=M&(1<<E)-1,C>L){m.msg="invalid distance too far back",$e.mode=ll;break e}if(M>>>=E,T-=E,E=x-u,C>E){if(E=C-E,E>R){if($e.sane){m.msg="invalid distance too far back",$e.mode=ll;break e}}if(ce=0,be=$,v===0){if(ce+=y-E,E<D){D-=E;do ue[x++]=$[ce++];while(--E);ce=x-C,be=ue}}else if(v<E){if(ce+=y+v-E,E-=v,E<D){D-=E;do ue[x++]=$[ce++];while(--E);if(ce=0,v<D){E=v,D-=E;do ue[x++]=$[ce++];while(--E);ce=x-C,be=ue}}}else if(ce+=v-E,E<D){D-=E;do ue[x++]=$[ce++];while(--E);ce=x-C,be=ue}while(D>2)ue[x++]=be[ce++],ue[x++]=be[ce++],ue[x++]=be[ce++],D-=3;if(D){if(ue[x++]=be[ce++],D>1)ue[x++]=be[ce++]}}else{ce=x-C;do ue[x++]=ue[ce++],ue[x++]=ue[ce++],ue[x++]=ue[ce++],D-=3;while(D>2);if(D){if(ue[x++]=ue[ce++],D>1)ue[x++]=ue[ce++]}}}else if((E&64)===0){S=X[(S&65535)+(M&(1<<E)-1)];continue a}else{m.msg="invalid distance code",$e.mode=ll;break e}break}}else if((E&64)===0){S=q[(S&65535)+(M&(1<<E)-1)];continue o}else if(E&32){$e.mode=a4;break e}else{m.msg="invalid literal/length code",$e.mode=ll;break e}break}}while(N<p&&x<_);D=T>>3,N-=D,T-=D<<3,M&=(1<<T)-1,m.next_in=N,m.next_out=x,m.avail_in=N<p?5+(p-N):5-(N-p),m.avail_out=x<_?257+(_-x):257-(x-_),$e.hold=M,$e.bits=T;return},Nn=15,Gu=852,Yu=592,Du=0,Cr=1,Qu=2,s4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),l4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),r4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),i4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),c4=(l,m,r,N,p,x,u,_)=>{let L=_.bits,y=0,R=0,v=0,$=0,M=0,T=0,q=0,X=0,j=0,I=0,S,E,D,C,ce,be=null,qe,ue=new Uint16Array(Nn+1),$e=new Uint16Array(Nn+1),e=null,n,c,s;for(y=0;y<=Nn;y++)ue[y]=0;for(R=0;R<N;R++)ue[m[r+R]]++;M=L;for($=Nn;$>=1;$--)if(ue[$]!==0)break;if(M>$)M=$;if($===0)return p[x++]=20971520,p[x++]=20971520,_.bits=1,0;for(v=1;v<$;v++)if(ue[v]!==0)break;if(M<v)M=v;X=1;for(y=1;y<=Nn;y++)if(X<<=1,X-=ue[y],X<0)return-1;if(X>0&&(l===Du||$!==1))return-1;$e[1]=0;for(y=1;y<Nn;y++)$e[y+1]=$e[y]+ue[y];for(R=0;R<N;R++)if(m[r+R]!==0)u[$e[m[r+R]]++]=R;if(l===Du)be=e=u,qe=20;else if(l===Cr)be=s4,e=l4,qe=257;else be=r4,e=i4,qe=0;if(I=0,R=0,y=v,ce=x,T=M,q=0,D=-1,j=1<<M,C=j-1,l===Cr&&j>Gu||l===Qu&&j>Yu)return 1;for(;;){if(n=y-q,u[R]+1<qe)c=0,s=u[R];else if(u[R]>=qe)c=e[u[R]-qe],s=be[u[R]-qe];else c=96,s=0;S=1<<y-q,E=1<<T,v=E;do E-=S,p[ce+(I>>q)+E]=n<<24|c<<16|s|0;while(E!==0);S=1<<y-1;while(I&S)S>>=1;if(S!==0)I&=S-1,I+=S;else I=0;if(R++,--ue[y]===0){if(y===$)break;y=m[r+u[R]]}if(y>M&&(I&C)!==D){if(q===0)q=M;ce+=v,T=y-q,X=1<<T;while(T+q<$){if(X-=ue[T+q],X<=0)break;T++,X<<=1}if(j+=1<<T,l===Cr&&j>Gu||l===Qu&&j>Yu)return 1;D=I&C,p[D]=M<<24|T<<16|ce-x|0}}if(I!==0)p[ce+I]=y-q<<24|4194304|0;return _.bits=M,0},ls=c4,u4=0,_1=1,k1=2,{Z_FINISH:Cu,Z_BLOCK:t4,Z_TREES:rl,Z_OK:rn,Z_STREAM_END:m4,Z_NEED_DICT:b4,Z_STREAM_ERROR:Bo,Z_DATA_ERROR:N1,Z_MEM_ERROR:Z1,Z_BUF_ERROR:d4,Z_DEFLATED:Bu}=_l,Zl=16180,Au=16181,e0=16182,o0=16183,a0=16184,n0=16185,s0=16186,l0=16187,r0=16188,i0=16189,pl=16190,ka=16191,Br=16192,c0=16193,Ar=16194,u0=16195,t0=16196,m0=16197,b0=16198,il=16199,cl=16200,d0=16201,p0=16202,f0=16203,h0=16204,_0=16205,ei=16206,k0=16207,N0=16208,yo=16209,v1=16210,y1=16211,p4=852,f4=592,h4=15,_4=h4,Z0=(l)=>{return(l>>>24&255)+(l>>>8&65280)+((l&65280)<<8)+((l&255)<<24)};function k4(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var cn=(l)=>{if(!l)return 1;let m=l.state;if(!m||m.strm!==l||m.mode<Zl||m.mode>y1)return 1;return 0},R1=(l)=>{if(cn(l))return Bo;let m=l.state;if(l.total_in=l.total_out=m.total=0,l.msg="",m.wrap)l.adler=m.wrap&1;return m.mode=Zl,m.last=0,m.havedict=0,m.flags=-1,m.dmax=32768,m.head=null,m.hold=0,m.bits=0,m.lencode=m.lendyn=new Int32Array(p4),m.distcode=m.distdyn=new Int32Array(f4),m.sane=1,m.back=-1,rn},x1=(l)=>{if(cn(l))return Bo;let m=l.state;return m.wsize=0,m.whave=0,m.wnext=0,R1(l)},q1=(l,m)=>{let r;if(cn(l))return Bo;let N=l.state;if(m<0)r=0,m=-m;else if(r=(m>>4)+5,m<48)m&=15;if(m&&(m<8||m>15))return Bo;if(N.window!==null&&N.wbits!==m)N.window=null;return N.wrap=r,N.wbits=m,x1(l)},T1=(l,m)=>{if(!l)return Bo;let r=new k4;l.state=r,r.strm=l,r.window=null,r.mode=Zl;let N=q1(l,m);if(N!==rn)l.state=null;return N},N4=(l)=>{return T1(l,_4)},v0=!0,oi,ai,Z4=(l)=>{if(v0){oi=new Int32Array(512),ai=new Int32Array(32);let m=0;while(m<144)l.lens[m++]=8;while(m<256)l.lens[m++]=9;while(m<280)l.lens[m++]=7;while(m<288)l.lens[m++]=8;ls(_1,l.lens,0,288,oi,0,l.work,{bits:9}),m=0;while(m<32)l.lens[m++]=5;ls(k1,l.lens,0,32,ai,0,l.work,{bits:5}),v0=!1}l.lencode=oi,l.lenbits=9,l.distcode=ai,l.distbits=5},$1=(l,m,r,N)=>{let p,x=l.state;if(x.window===null)x.wsize=1<<x.wbits,x.wnext=0,x.whave=0,x.window=new Uint8Array(x.wsize);if(N>=x.wsize)x.window.set(m.subarray(r-x.wsize,r),0),x.wnext=0,x.whave=x.wsize;else{if(p=x.wsize-x.wnext,p>N)p=N;if(x.window.set(m.subarray(r-N,r-N+p),x.wnext),N-=p,N)x.window.set(m.subarray(r-N,r),0),x.wnext=N,x.whave=x.wsize;else{if(x.wnext+=p,x.wnext===x.wsize)x.wnext=0;if(x.whave<x.wsize)x.whave+=p}}return 0},v4=(l,m)=>{let r,N,p,x,u,_,L,y,R,v,$,M,T,q,X=0,j,I,S,E,D,C,ce,be,qe=new Uint8Array(4),ue,$e,e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cn(l)||!l.output||!l.input&&l.avail_in!==0)return Bo;if(r=l.state,r.mode===ka)r.mode=Br;u=l.next_out,p=l.output,L=l.avail_out,x=l.next_in,N=l.input,_=l.avail_in,y=r.hold,R=r.bits,v=_,$=L,be=rn;e:for(;;)switch(r.mode){case Zl:if(r.wrap===0){r.mode=Br;break}while(R<16){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(r.wrap&2&&y===35615){if(r.wbits===0)r.wbits=15;r.check=0,qe[0]=y&255,qe[1]=y>>>8&255,r.check=go(r.check,qe,2,0),y=0,R=0,r.mode=Au;break}if(r.head)r.head.done=!1;if(!(r.wrap&1)||(((y&255)<<8)+(y>>8))%31){l.msg="incorrect header check",r.mode=yo;break}if((y&15)!==Bu){l.msg="unknown compression method",r.mode=yo;break}if(y>>>=4,R-=4,ce=(y&15)+8,r.wbits===0)r.wbits=ce;if(ce>15||ce>r.wbits){l.msg="invalid window size",r.mode=yo;break}r.dmax=1<<r.wbits,r.flags=0,l.adler=r.check=1,r.mode=y&512?i0:ka,y=0,R=0;break;case Au:while(R<16){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(r.flags=y,(r.flags&255)!==Bu){l.msg="unknown compression method",r.mode=yo;break}if(r.flags&57344){l.msg="unknown header flags set",r.mode=yo;break}if(r.head)r.head.text=y>>8&1;if(r.flags&512&&r.wrap&4)qe[0]=y&255,qe[1]=y>>>8&255,r.check=go(r.check,qe,2,0);y=0,R=0,r.mode=e0;case e0:while(R<32){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(r.head)r.head.time=y;if(r.flags&512&&r.wrap&4)qe[0]=y&255,qe[1]=y>>>8&255,qe[2]=y>>>16&255,qe[3]=y>>>24&255,r.check=go(r.check,qe,4,0);y=0,R=0,r.mode=o0;case o0:while(R<16){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(r.head)r.head.xflags=y&255,r.head.os=y>>8;if(r.flags&512&&r.wrap&4)qe[0]=y&255,qe[1]=y>>>8&255,r.check=go(r.check,qe,2,0);y=0,R=0,r.mode=a0;case a0:if(r.flags&1024){while(R<16){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(r.length=y,r.head)r.head.extra_len=y;if(r.flags&512&&r.wrap&4)qe[0]=y&255,qe[1]=y>>>8&255,r.check=go(r.check,qe,2,0);y=0,R=0}else if(r.head)r.head.extra=null;r.mode=n0;case n0:if(r.flags&1024){if(M=r.length,M>_)M=_;if(M){if(r.head){if(ce=r.head.extra_len-r.length,!r.head.extra)r.head.extra=new Uint8Array(r.head.extra_len);r.head.extra.set(N.subarray(x,x+M),ce)}if(r.flags&512&&r.wrap&4)r.check=go(r.check,N,M,x);_-=M,x+=M,r.length-=M}if(r.length)break e}r.length=0,r.mode=s0;case s0:if(r.flags&2048){if(_===0)break e;M=0;do if(ce=N[x+M++],r.head&&ce&&r.length<65536)r.head.name+=String.fromCharCode(ce);while(ce&&M<_);if(r.flags&512&&r.wrap&4)r.check=go(r.check,N,M,x);if(_-=M,x+=M,ce)break e}else if(r.head)r.head.name=null;r.length=0,r.mode=l0;case l0:if(r.flags&4096){if(_===0)break e;M=0;do if(ce=N[x+M++],r.head&&ce&&r.length<65536)r.head.comment+=String.fromCharCode(ce);while(ce&&M<_);if(r.flags&512&&r.wrap&4)r.check=go(r.check,N,M,x);if(_-=M,x+=M,ce)break e}else if(r.head)r.head.comment=null;r.mode=r0;case r0:if(r.flags&512){while(R<16){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(r.wrap&4&&y!==(r.check&65535)){l.msg="header crc mismatch",r.mode=yo;break}y=0,R=0}if(r.head)r.head.hcrc=r.flags>>9&1,r.head.done=!0;l.adler=r.check=0,r.mode=ka;break;case i0:while(R<32){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}l.adler=r.check=Z0(y),y=0,R=0,r.mode=pl;case pl:if(r.havedict===0)return l.next_out=u,l.avail_out=L,l.next_in=x,l.avail_in=_,r.hold=y,r.bits=R,b4;l.adler=r.check=1,r.mode=ka;case ka:if(m===t4||m===rl)break e;case Br:if(r.last){y>>>=R&7,R-=R&7,r.mode=ei;break}while(R<3){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}switch(r.last=y&1,y>>>=1,R-=1,y&3){case 0:r.mode=c0;break;case 1:if(Z4(r),r.mode=il,m===rl){y>>>=2,R-=2;break e}break;case 2:r.mode=t0;break;case 3:l.msg="invalid block type",r.mode=yo}y>>>=2,R-=2;break;case c0:y>>>=R&7,R-=R&7;while(R<32){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if((y&65535)!==(y>>>16^65535)){l.msg="invalid stored block lengths",r.mode=yo;break}if(r.length=y&65535,y=0,R=0,r.mode=Ar,m===rl)break e;case Ar:r.mode=u0;case u0:if(M=r.length,M){if(M>_)M=_;if(M>L)M=L;if(M===0)break e;p.set(N.subarray(x,x+M),u),_-=M,x+=M,L-=M,u+=M,r.length-=M;break}r.mode=ka;break;case t0:while(R<14){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(r.nlen=(y&31)+257,y>>>=5,R-=5,r.ndist=(y&31)+1,y>>>=5,R-=5,r.ncode=(y&15)+4,y>>>=4,R-=4,r.nlen>286||r.ndist>30){l.msg="too many length or distance symbols",r.mode=yo;break}r.have=0,r.mode=m0;case m0:while(r.have<r.ncode){while(R<3){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}r.lens[e[r.have++]]=y&7,y>>>=3,R-=3}while(r.have<19)r.lens[e[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ue={bits:r.lenbits},be=ls(u4,r.lens,0,19,r.lencode,0,r.work,ue),r.lenbits=ue.bits,be){l.msg="invalid code lengths set",r.mode=yo;break}r.have=0,r.mode=b0;case b0:while(r.have<r.nlen+r.ndist){for(;;){if(X=r.lencode[y&(1<<r.lenbits)-1],j=X>>>24,I=X>>>16&255,S=X&65535,j<=R)break;if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(S<16)y>>>=j,R-=j,r.lens[r.have++]=S;else{if(S===16){$e=j+2;while(R<$e){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(y>>>=j,R-=j,r.have===0){l.msg="invalid bit length repeat",r.mode=yo;break}ce=r.lens[r.have-1],M=3+(y&3),y>>>=2,R-=2}else if(S===17){$e=j+3;while(R<$e){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}y>>>=j,R-=j,ce=0,M=3+(y&7),y>>>=3,R-=3}else{$e=j+7;while(R<$e){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}y>>>=j,R-=j,ce=0,M=11+(y&127),y>>>=7,R-=7}if(r.have+M>r.nlen+r.ndist){l.msg="invalid bit length repeat",r.mode=yo;break}while(M--)r.lens[r.have++]=ce}}if(r.mode===yo)break;if(r.lens[256]===0){l.msg="invalid code -- missing end-of-block",r.mode=yo;break}if(r.lenbits=9,ue={bits:r.lenbits},be=ls(_1,r.lens,0,r.nlen,r.lencode,0,r.work,ue),r.lenbits=ue.bits,be){l.msg="invalid literal/lengths set",r.mode=yo;break}if(r.distbits=6,r.distcode=r.distdyn,ue={bits:r.distbits},be=ls(k1,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ue),r.distbits=ue.bits,be){l.msg="invalid distances set",r.mode=yo;break}if(r.mode=il,m===rl)break e;case il:r.mode=cl;case cl:if(_>=6&&L>=258){if(l.next_out=u,l.avail_out=L,l.next_in=x,l.avail_in=_,r.hold=y,r.bits=R,n4(l,$),u=l.next_out,p=l.output,L=l.avail_out,x=l.next_in,N=l.input,_=l.avail_in,y=r.hold,R=r.bits,r.mode===ka)r.back=-1;break}r.back=0;for(;;){if(X=r.lencode[y&(1<<r.lenbits)-1],j=X>>>24,I=X>>>16&255,S=X&65535,j<=R)break;if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(I&&(I&240)===0){E=j,D=I,C=S;for(;;){if(X=r.lencode[C+((y&(1<<E+D)-1)>>E)],j=X>>>24,I=X>>>16&255,S=X&65535,E+j<=R)break;if(_===0)break e;_--,y+=N[x++]<<R,R+=8}y>>>=E,R-=E,r.back+=E}if(y>>>=j,R-=j,r.back+=j,r.length=S,I===0){r.mode=_0;break}if(I&32){r.back=-1,r.mode=ka;break}if(I&64){l.msg="invalid literal/length code",r.mode=yo;break}r.extra=I&15,r.mode=d0;case d0:if(r.extra){$e=r.extra;while(R<$e){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}r.length+=y&(1<<r.extra)-1,y>>>=r.extra,R-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=p0;case p0:for(;;){if(X=r.distcode[y&(1<<r.distbits)-1],j=X>>>24,I=X>>>16&255,S=X&65535,j<=R)break;if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if((I&240)===0){E=j,D=I,C=S;for(;;){if(X=r.distcode[C+((y&(1<<E+D)-1)>>E)],j=X>>>24,I=X>>>16&255,S=X&65535,E+j<=R)break;if(_===0)break e;_--,y+=N[x++]<<R,R+=8}y>>>=E,R-=E,r.back+=E}if(y>>>=j,R-=j,r.back+=j,I&64){l.msg="invalid distance code",r.mode=yo;break}r.offset=S,r.extra=I&15,r.mode=f0;case f0:if(r.extra){$e=r.extra;while(R<$e){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}r.offset+=y&(1<<r.extra)-1,y>>>=r.extra,R-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){l.msg="invalid distance too far back",r.mode=yo;break}r.mode=h0;case h0:if(L===0)break e;if(M=$-L,r.offset>M){if(M=r.offset-M,M>r.whave){if(r.sane){l.msg="invalid distance too far back",r.mode=yo;break}}if(M>r.wnext)M-=r.wnext,T=r.wsize-M;else T=r.wnext-M;if(M>r.length)M=r.length;q=r.window}else q=p,T=u-r.offset,M=r.length;if(M>L)M=L;L-=M,r.length-=M;do p[u++]=q[T++];while(--M);if(r.length===0)r.mode=cl;break;case _0:if(L===0)break e;p[u++]=r.length,L--,r.mode=cl;break;case ei:if(r.wrap){while(R<32){if(_===0)break e;_--,y|=N[x++]<<R,R+=8}if($-=L,l.total_out+=$,r.total+=$,r.wrap&4&&$)l.adler=r.check=r.flags?go(r.check,p,$,u-$):ms(r.check,p,$,u-$);if($=L,r.wrap&4&&(r.flags?y:Z0(y))!==r.check){l.msg="incorrect data check",r.mode=yo;break}y=0,R=0}r.mode=k0;case k0:if(r.wrap&&r.flags){while(R<32){if(_===0)break e;_--,y+=N[x++]<<R,R+=8}if(r.wrap&4&&y!==(r.total&4294967295)){l.msg="incorrect length check",r.mode=yo;break}y=0,R=0}r.mode=N0;case N0:be=m4;break e;case yo:be=N1;break e;case v1:return Z1;case y1:default:return Bo}if(l.next_out=u,l.avail_out=L,l.next_in=x,l.avail_in=_,r.hold=y,r.bits=R,r.wsize||$!==l.avail_out&&r.mode<yo&&(r.mode<ei||m!==Cu)){if($1(l,l.output,l.next_out,$-l.avail_out));}if(v-=l.avail_in,$-=l.avail_out,l.total_in+=v,l.total_out+=$,r.total+=$,r.wrap&4&&$)l.adler=r.check=r.flags?go(r.check,p,$,l.next_out-$):ms(r.check,p,$,l.next_out-$);if(l.data_type=r.bits+(r.last?64:0)+(r.mode===ka?128:0)+(r.mode===il||r.mode===Ar?256:0),(v===0&&$===0||m===Cu)&&be===rn)be=d4;return be},y4=(l)=>{if(cn(l))return Bo;let m=l.state;if(m.window)m.window=null;return l.state=null,rn},R4=(l,m)=>{if(cn(l))return Bo;let r=l.state;if((r.wrap&2)===0)return Bo;return r.head=m,m.done=!1,rn},x4=(l,m)=>{let r=m.length,N,p,x;if(cn(l))return Bo;if(N=l.state,N.wrap!==0&&N.mode!==pl)return Bo;if(N.mode===pl){if(p=1,p=ms(p,m,r,0),p!==N.check)return N1}if(x=$1(l,m,r,r),x)return N.mode=v1,Z1;return N.havedict=1,rn},q4=x1,T4=q1,$4=R1,V4=N4,M4=T1,L4=v4,U4=y4,O4=R4,g4=x4,X4="pako inflate (from Nodeca project)",Za={inflateReset:q4,inflateReset2:T4,inflateResetKeep:$4,inflateInit:V4,inflateInit2:M4,inflate:L4,inflateEnd:U4,inflateGetHeader:O4,inflateSetDictionary:g4,inflateInfo:X4};function S4(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var W4=S4,V1=Object.prototype.toString,{Z_NO_FLUSH:w4,Z_FINISH:j4,Z_OK:fs,Z_STREAM_END:ni,Z_NEED_DICT:si,Z_STREAM_ERROR:F4,Z_DATA_ERROR:y0,Z_MEM_ERROR:I4}=_l;function $i(l){this.options=Nl.assign({chunkSize:65536,windowBits:15,to:""},l||{});let m=this.options;if(m.raw&&m.windowBits>=0&&m.windowBits<16){if(m.windowBits=-m.windowBits,m.windowBits===0)m.windowBits=-15}if(m.windowBits>=0&&m.windowBits<16&&!(l&&l.windowBits))m.windowBits+=32;if(m.windowBits>15&&m.windowBits<48){if((m.windowBits&15)===0)m.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f1,this.strm.avail_out=0;let r=Za.inflateInit2(this.strm,m.windowBits);if(r!==fs)throw new Error(bs[r]);if(this.header=new W4,Za.inflateGetHeader(this.strm,this.header),m.dictionary){if(typeof m.dictionary==="string")m.dictionary=ps.string2buf(m.dictionary);else if(V1.call(m.dictionary)==="[object ArrayBuffer]")m.dictionary=new Uint8Array(m.dictionary);if(m.raw){if(r=Za.inflateSetDictionary(this.strm,m.dictionary),r!==fs)throw new Error(bs[r])}}}$i.prototype.push=function(l,m){let r=this.strm,N=this.options.chunkSize,p=this.options.dictionary,x,u,_;if(this.ended)return!1;if(m===~~m)u=m;else u=m===!0?j4:w4;if(V1.call(l)==="[object ArrayBuffer]")r.input=new Uint8Array(l);else r.input=l;r.next_in=0,r.avail_in=r.input.length;for(;;){if(r.avail_out===0)r.output=new Uint8Array(N),r.next_out=0,r.avail_out=N;if(x=Za.inflate(r,u),x===si&&p){if(x=Za.inflateSetDictionary(r,p),x===fs)x=Za.inflate(r,u);else if(x===y0)x=si}while(r.avail_in>0&&x===ni&&r.state.wrap>0&&l[r.next_in]!==0)Za.inflateReset(r),x=Za.inflate(r,u);switch(x){case F4:case y0:case si:case I4:return this.onEnd(x),this.ended=!0,!1}if(_=r.avail_out,r.next_out){if(r.avail_out===0||x===ni)if(this.options.to==="string"){let L=ps.utf8border(r.output,r.next_out),y=r.next_out-L,R=ps.buf2string(r.output,L);if(r.next_out=y,r.avail_out=N-y,y)r.output.set(r.output.subarray(L,L+y),0);this.onData(R)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out))}if(x===fs&&_===0)continue;if(x===ni)return x=Za.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,!0;if(r.avail_in===0)break}return!0};$i.prototype.onData=function(l){this.chunks.push(l)};$i.prototype.onEnd=function(l){if(l===fs)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=Nl.flattenChunks(this.chunks);this.chunks=[],this.err=l,this.msg=this.strm.msg};var L2=ki(D6(),1);import{jsx as da,jsxs as t9,Fragment as m9}from"preact/jsx-runtime";import{jsx as Fn}from"preact/jsx-runtime";import{ScratchBlocks as Fo}from"@blockcode/blocks-editor";import{ScratchBlocks as xo}from"@blockcode/blocks-editor";import{ScratchBlocks as P1}from"@blockcode/blocks-editor";import{ScratchBlocks as ys}from"@blockcode/blocks-editor";import{useEffect as N9,useState as Zs}from"preact/hooks";import{useLocale as Z9,useLayout as v9,useEditor as S1}from"@blockcode/core";import{classNames as y9}from"@blockcode/ui";import{BlocksEditor as R9,ScratchBlocks as Oo,makeToolboxXML as x9}from"@blockcode/blocks-editor";import{ScratchBlocks as Oi,blockSeparator as q9}from"@blockcode/blocks-editor";import{useRef as L9,useEffect as U9,useState as F1}from"preact/hooks";import{classNames as O9,Text as In,Button as I1,Modal as g9,BufferedInput as X9}from"@blockcode/ui";import{jsx as Io,jsxs as vs}from"preact/jsx-runtime";import{useRef as W9,useEffect as w9,useState as J1}from"preact/hooks";import{classNames as j9,Text as ya,Button as K1,Modal as F9}from"@blockcode/ui";import{ScratchBlocks as yl}from"@blockcode/blocks-editor";import{jsx as $o,jsxs as Ja}from"preact/jsx-runtime";import{useEffect as P9,useState as z1}from"preact/hooks";import{useLocale as H9}from"@blockcode/core";import{Library as G9}from"@blockcode/ui";import{jsx as D9}from"preact/jsx-runtime";import{jsx as Ka,jsxs as A9,Fragment as em}from"preact/jsx-runtime";import{useEditor as nm}from"@blockcode/core";import{jsx as Wi}from"preact/jsx-runtime";import{jsx as Fi}from"preact/jsx-runtime";var J4=Object.create,{getPrototypeOf:K4,defineProperty:M1,getOwnPropertyNames:z4}=Object,E4=Object.prototype.hasOwnProperty,P4=(l,m,r)=>{r=l!=null?J4(K4(l)):{};let N=m||!l||!l.__esModule?M1(r,"default",{value:l,enumerable:!0}):r;for(let p of z4(l))if(!E4.call(N,p))M1(N,p,{get:()=>l[p],enumerable:!0});return N},H4=(l,m)=>()=>(m||l((m={exports:{}}).exports,m),m.exports),G4=H4((l)=>{(function(){var m=typeof l!="undefined"&&l||typeof define!="undefined"&&{}||this||window;if(typeof define!=="undefined")define("save-svg-as-png",[],function(){return m});m.default=m;var r="http://www.w3.org/2000/xmlns/",N="http://www.w3.org/1999/xhtml",p="http://www.w3.org/2000/svg",x='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',u=/url\(["']?(.+?)["']?\)/,_={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},L=function $e(e){return e instanceof HTMLElement||e instanceof SVGElement},y=function $e(e){if(!L(e))throw new Error("an HTMLElement or SVGElement is required; got "+e)},R=function $e(e){return new Promise(function(n,c){if(L(e))n(e);else c(new Error("an HTMLElement or SVGElement is required; got "+e))})},v=function $e(e){return e&&e.lastIndexOf("http",0)===0&&e.lastIndexOf(window.location.host)===-1},$=function $e(e){var n=Object.keys(_).filter(function(c){return e.indexOf("."+c)>0}).map(function(c){return _[c]});if(n)return n[0];return console.error("Unknown font format for "+e+". Fonts may not be working correctly."),"application/octet-stream"},M=function $e(e){var n="",c=new Uint8Array(e);for(var s=0;s<c.byteLength;s++)n+=String.fromCharCode(c[s]);return window.btoa(n)},T=function $e(e,n,c){var s=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[c]||n.getAttribute(c)!==null&&!n.getAttribute(c).match(/%$/)&&parseInt(n.getAttribute(c))||e.getBoundingClientRect()[c]||parseInt(n.style[c])||parseInt(window.getComputedStyle(e).getPropertyValue(c));return typeof s==="undefined"||s===null||isNaN(parseFloat(s))?0:s},q=function $e(e,n,c,s){if(e.tagName==="svg")return{width:c||T(e,n,"width"),height:s||T(e,n,"height")};else if(e.getBBox){var t=e.getBBox(),h=t.x,k=t.y,d=t.width,o=t.height;return{width:h+d,height:k+o}}},X=function $e(e){return decodeURIComponent(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(n,c){var s=String.fromCharCode("0x"+c);return s==="%"?"%25":s}))},j=function $e(e){var n=window.atob(e.split(",")[1]),c=e.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(n.length),t=new Uint8Array(s);for(var h=0;h<n.length;h++)t[h]=n.charCodeAt(h);return new Blob([s],{type:c})},I=function $e(e,n){if(!n)return;try{return e.querySelector(n)||e.parentNode&&e.parentNode.querySelector(n)}catch(c){console.warn('Invalid CSS selector "'+n+'"',c)}},S=function $e(e,n){var c=e.cssText.match(u),s=c&&c[1]||"";if(!s||s.match(/^data:/)||s==="about:blank")return;var t=s.startsWith("../")?n+"/../"+s:s.startsWith("./")?n+"/."+s:s;return{text:e.cssText,format:$(t),url:t}},E=function $e(e){return Promise.all(Array.from(e.querySelectorAll("image")).map(function(n){var c=n.getAttributeNS("http://www.w3.org/1999/xlink","href")||n.getAttribute("href");if(!c)return Promise.resolve(null);if(v(c))c+=(c.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf();return new Promise(function(s,t){var h=document.createElement("canvas"),k=new Image;k.crossOrigin="anonymous",k.src=c,k.onerror=function(){return t(new Error("Could not load "+c))},k.onload=function(){h.width=k.width,h.height=k.height,h.getContext("2d").drawImage(k,0,0),n.setAttributeNS("http://www.w3.org/1999/xlink","href",h.toDataURL("image/png")),s(!0)}})}))},D={},C=function $e(e){return Promise.all(e.map(function(n){return new Promise(function(c,s){if(D[n.url])return c(D[n.url]);var t=new XMLHttpRequest;t.addEventListener("load",function(){var h=M(t.response),k=n.text.replace(u,'url("data:'+n.format+";base64,"+h+'")')+`
`;D[n.url]=k,c(k)}),t.addEventListener("error",function(h){console.warn("Failed to load font from: "+n.url,h),D[n.url]=null,c(null)}),t.addEventListener("abort",function(h){console.warn("Aborted loading font from: "+n.url,h),c(null)}),t.open("GET",n.url),t.responseType="arraybuffer",t.send()})})).then(function(n){return n.filter(function(c){return c}).join("")})},ce=null,be=function $e(){if(ce)return ce;return ce=Array.from(document.styleSheets).map(function(e){try{return{rules:e.cssRules,href:e.href}}catch(n){return console.warn("Stylesheet could not be loaded: "+e.href,n),{}}})},qe=function $e(e,n){var c=n||{},s=c.selectorRemap,t=c.modifyStyle,h=c.modifyCss,k=c.fonts,d=c.excludeUnusedCss,o=h||function(P,pe){var Ne=s?s(P):P,xe=t?t(pe):pe;return Ne+"{"+xe+`}
`},b=[],W=typeof k==="undefined",O=k||[];return be().forEach(function(P){var{rules:pe,href:Ne}=P;if(!pe)return;Array.from(pe).forEach(function(xe){if(typeof xe.style!="undefined"){if(I(e,xe.selectorText))b.push(o(xe.selectorText,xe.style.cssText));else if(W&&xe.cssText.match(/^@font-face/)){var te=S(xe,Ne);if(te)O.push(te)}else if(!d)b.push(xe.cssText)}})}),C(O).then(function(P){return b.join(`
`)+P})},ue=function $e(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};m.prepareSvg=function($e,e,n){y($e);var c=e||{},s=c.left,t=s===void 0?0:s,h=c.top,k=h===void 0?0:h,d=c.width,o=c.height,b=c.scale,W=b===void 0?1:b,O=c.responsive,P=O===void 0?!1:O,pe=c.excludeCss,Ne=pe===void 0?!1:pe;return E($e).then(function(){var xe=$e.cloneNode(!0);xe.style.backgroundColor=(e||{}).backgroundColor||$e.style.backgroundColor;var te=q($e,xe,d,o),ie=te.width,he=te.height;if($e.tagName!=="svg")if($e.getBBox){if(xe.getAttribute("transform")!=null)xe.setAttribute("transform",xe.getAttribute("transform").replace(/translate\(.*?\)/,""));var Fe=document.createElementNS("http://www.w3.org/2000/svg","svg");Fe.appendChild(xe),xe=Fe}else{console.error("Attempted to render non-SVG element",$e);return}if(xe.setAttribute("version","1.1"),xe.setAttribute("viewBox",[t,k,ie,he].join(" ")),!xe.getAttribute("xmlns"))xe.setAttributeNS(r,"xmlns",p);if(!xe.getAttribute("xmlns:xlink"))xe.setAttributeNS(r,"xmlns:xlink","http://www.w3.org/1999/xlink");if(P)xe.removeAttribute("width"),xe.removeAttribute("height"),xe.setAttribute("preserveAspectRatio","xMinYMin meet");else xe.setAttribute("width",ie*W),xe.setAttribute("height",he*W);if(Array.from(xe.querySelectorAll("foreignObject > *")).forEach(function(H){H.setAttributeNS(r,"xmlns",H.tagName==="svg"?p:N)}),Ne){var Re=document.createElement("div");Re.appendChild(xe);var ge=Re.innerHTML;if(typeof n==="function")n(ge,ie,he);else return{src:ge,width:ie,height:he}}else return qe($e,e).then(function(H){var w=document.createElement("style");w.setAttribute("type","text/css"),w.innerHTML=`<![CDATA[
`+H+`
]]>`;var B=document.createElement("defs");B.appendChild(w),xe.insertBefore(B,xe.firstChild);var Te=document.createElement("div");Te.appendChild(xe);var Le=Te.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof n==="function")n(Le,ie,he);else return{src:Le,width:ie,height:he}})})},m.svgAsDataUri=function($e,e,n){return y($e),m.prepareSvg($e,e).then(function(c){var{src:s,width:t,height:h}=c,k="data:image/svg+xml;base64,"+window.btoa(X(x+s));if(typeof n==="function")n(k,t,h);return k})},m.svgAsPngUri=function($e,e,n){y($e);var c=e||{},s=c.encoderType,t=s===void 0?"image/png":s,h=c.encoderOptions,k=h===void 0?0.8:h,d=c.canvg,o=function b(W){var{src:O,width:P,height:pe}=W,Ne=document.createElement("canvas"),xe=Ne.getContext("2d"),te=window.devicePixelRatio||1;if(Ne.width=P*te,Ne.height=pe*te,Ne.style.width=Ne.width+"px",Ne.style.height=Ne.height+"px",xe.setTransform(te,0,0,te,0,0),d)d(Ne,O);else xe.drawImage(O,0,0);var ie=void 0;try{ie=Ne.toDataURL(t,k)}catch(he){if(typeof SecurityError!=="undefined"&&he instanceof SecurityError||he.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw he}if(typeof n==="function")n(ie,Ne.width,Ne.height);return Promise.resolve(ie)};if(d)return m.prepareSvg($e,e).then(o);else return m.svgAsDataUri($e,e).then(function(b){return new Promise(function(W,O){var P=new Image;P.onload=function(){return W(o({src:P,width:P.width,height:P.height}))},P.onerror=function(){O(`There was an error loading the data URI as an image on the following SVG
`+window.atob(b.slice(26))+`Open the following link to see browser's diagnosis
`+b)},P.src=b})})},m.download=function($e,e,n){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(j(e),$e);else{var c=document.createElement("a");if("download"in c){c.download=$e,c.style.display="none",document.body.appendChild(c);try{var s=j(e),t=URL.createObjectURL(s);c.href=t,c.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(t)})}}catch(h){console.error(h),console.warn("Error while getting object URL. Falling back to string URL."),c.href=e}c.click(),document.body.removeChild(c)}else if(n&&n.popup)n.popup.document.title=$e,n.popup.location.replace(e)}},m.saveSvg=function($e,e,n){var c=ue();return R($e).then(function(s){return m.svgAsDataUri(s,n||{})}).then(function(s){return m.download(e,s,c)})},m.saveSvgAsPng=function($e,e,n){var c=ue();return R($e).then(function(s){return m.svgAsPngUri(s,n||{})}).then(function(s){return m.download(e,s,c)})}})()}),Y4=P4(G4(),1),Li=/Mac/i.test(navigator.platform||navigator.userAgent);function A4({itemClassName:l,onNew:m,onOpen:r,onSave:N,children:p}){let{createAlert:x,createPrompt:u,setStoreLibrary:_}=D4(),{modified:L,saveNow:y,saveToComputer:R,openFromComputer:v}=Q4(),$=(q)=>{if(N)return N(q);return q},M=async()=>{let q,X,j=C4.getMainWorkspace();if(j){let I=j.getCanvas();if(I)q=await Y4.svgAsDataUri(I,{})}return(I)=>{let S=new Set,E={thumb:q,editor:{},...I,...$(I)};if(E.assetList)E.assetList=E.assetList.filter((D)=>!D.id.startsWith("extensions/"));if(E.fileList)E.fileList=E.fileList.map(({content:D,script:C,extensions:ce,...be})=>{return S=S.union(new Set(ce)),be});return E.editor.extensions=Array.from(S),E}},T=(q)=>async()=>{await q(await M()),x({message:Do(ja,{id:"blocks.menu.file.saveAlert",defaultMessage:"Saved."})},2000)};return Mi(B4,{children:[Mi(L1,{children:[Do(Ns,{className:l,label:Do(ja,{id:"blocks.menu.file.newProject",defaultMessage:"New"}),hotkey:[Li?va.COMMAND:va.CONTROL,va.N],onClick:()=>{if(L)u({title:Do(ja,{id:"gui.projects.notSaved",defaultMessage:"Not saved"}),label:Do(ja,{id:"gui.projects.replaceProject",defaultMessage:"Replace contents of the current project?"}),onSubmit:m});else m()}}),Do(Ns,{className:l,label:Do(ja,{id:"blocks.menu.file.openProject",defaultMessage:"Open"}),hotkey:[Li?va.COMMAND:va.CONTROL,va.O],onClick:()=>_(!0)}),Do(Ns,{className:l,label:Do(ja,{id:"blocks.menu.file.saveProject",defaultMessage:"Save"}),hotkey:[Li?va.COMMAND:va.CONTROL,va.S],onClick:T(y)})]}),Mi(L1,{children:[Do(Ns,{className:l,label:Do(ja,{id:"blocks.menu.file.uploadProject",defaultMessage:"Load from your computer"}),onClick:()=>v(r)}),Do(Ns,{className:l,label:Do(ja,{id:"blocks.menu.file.downloadProject",defaultMessage:"save to your computer"}),onClick:window.electron?async()=>R(await M()):T(R)})]}),p]})}var X1=/Mac/i.test(navigator.platform||navigator.userAgent);function s9({itemClassName:l,children:m}){let[r,N]=Ui(!0),[p,x]=Ui(!0),[u,_]=Ui(null),L=a9.getMainWorkspace();if(L){if(u?.id!==L.id)_(L)}return e9(()=>{if(u)u.addChangeListener(()=>{N(u.undoStack_.length===0),x(u.redoStack_.length===0)}),N(u.undoStack_.length===0),x(u.redoStack_.length===0)},[u]),g1(n9,{children:[g1(o9,{children:[vl(O1,{disabled:r,className:l,label:vl(U1,{id:"blocks.menu.edit.undo",defaultMessage:"Undo"}),hotkey:[X1?Fa.COMMAND:Fa.CONTROL,Fa.Z],onClick:async(y)=>{if(y instanceof MouseEvent&&u)u.undo(!1)}}),vl(O1,{disabled:p,className:l,label:vl(U1,{id:"blocks.menu.edit.redo",defaultMessage:"Redo"}),hotkey:X1?[Fa.SHIFT,Fa.COMMAND,Fa.Z]:[Fa.CONTROL,Fa.Y],onClick:async(y)=>{if(y instanceof MouseEvent&&u)u.undo(!0)}})]}),m]})}var Ia=null;function b9({itemClassName:l,deviceName:m,deviceFilters:r,onBeforeDownload:N,children:p}){let{createAlert:x,removeAlert:u,createPrompt:_}=l9(),{key:L,name:y,fileList:R,assetList:v}=r9(),$=(q)=>{if(!Ia)Ia=`download.${Date.now()}`;if(q<100)x({id:Ia,icon:da(i9,{level:"success"}),message:da(un,{id:"blocks.alert.downloading",defaultMessage:"Downloading...{progress}%",progress:q})});else x({id:Ia,icon:null,message:da(un,{id:"blocks.alert.downloadCompleted",defaultMessage:"Download completed."})}),setTimeout(M,2000)},M=()=>{u(Ia),Ia=null},T=(q)=>{if(q==="NotFoundError")return;x({message:q==="NotFoundError"?da(un,{id:"blocks.alert.connectionCancel",defaultMessage:"Connection cancel."}):da(un,{id:"blocks.alert.connectionError",defaultMessage:"Connection error."})},1000)};return t9(m9,{children:[da(c9,{children:da(u9,{disabled:Ia,className:l,label:da(un,{id:"blocks.menu.device.download",defaultMessage:"Download program"}),onClick:async()=>{if(Ia)return;let q;try{q=await z0(r||[])}catch(I){T(I.name)}if(!q)return;let X=E0(q).catch(()=>{T(),M()}),j=N?N({key:L,name:y},R,v):[].concat(R,v);$(0);try{if(await H0(q,j))await G0(q,j,$),await P0(q,{"latest-project":L}),q.hardReset();else _({title:m||da(un,{id:"blocks.menu.device.name",defaultMessage:"device"}),label:da(un,{id:"blocks.alert.flashOutSpace",defaultMessage:"The flash is running out of space."})}),M()}catch(I){T(I.name),M()}finally{X.cancel()}}})}),p]})}var d9="./assets/icon-file-egaz1kfx.svg",p9="./assets/icon-edit-jejnm7yb.svg",f9="./assets/icon-device-3gcajtt2.svg";function E1({deviceName:l,deviceFilters:m,createProject:r,openProject:N,saveProject:p,beforeDownload:x}){return[{icon:d9,label:Fn(Vi,{id:"blocks.menu.file",defaultMessage:"File"}),Menu:({itemClassName:u,children:_})=>Fn(A4,{itemClassName:u,onNew:r,onOpen:N,onSave:p,children:_})},{icon:p9,label:Fn(Vi,{id:"blocks.menu.edit",defaultMessage:"Edit"}),Menu:({itemClassName:u,children:_})=>Fn(s9,{itemClassName:u,children:_})},{icon:f9,label:Fn(Vi,{id:"blocks.menu.device",defaultMessage:"Device"}),Menu:({itemClassName:u,children:_})=>Fn(b9,{deviceName:l,itemClassName:u,deviceFilters:m,onBeforeDownload:x,children:_})}]}var h9=(l)=>{let m="=".repeat((4-l.length%4)%4),r=(l+m).replace(/\-/g,"+").replace(/_/g,"/"),N=window.atob(r),p=new Uint8Array(N.length);for(let x=0;x<N.length;++x)p[x]=N.charCodeAt(x);return p.buffer},e5=[{id:"blocks/__init__.mpy",content:"TQYAHxQAFl9faW5pdF9fLnB5AA8OYXN5bmNpbwALHGJsb2Nrcy5ydW50aW1lABZERUZBVUxUX0ZQUwCCJQZydW4AFHdoZW5fc3RhcnQAEndoZW5fc3RvcAAgd2hlbl9ncmVhdGVydGhlbgAsd2hlbl9icm9hZGNhc3RyZWNlaXZlZAAOd3JhcHBlcgAOUnVudGltZQAOcnVudGltZQAGZnBzAAxoYW5kbGUACG5hbWUAgkUObWVzc2FnZQCDfAgYAUZIZmsgZCBkIIQHgFEbAhYCgBADKgEbBGkRDTQAFg4RDRMFKgFTMwAWBjIBFggyAhYJMgMWCjIEFgtRYwWBOKkBCAYPgAgSAhQHEg4UBrA2ATYBWVFjgQAZCAgQgAwSDhQIsDYBWVFjgQAZCAkQgBASDhQJsDYBWVFjgRwijAEKERKAFGYAAbCxIAACwrJjAYEwOwwMAwMQgBUSDhQKJQAlAbI2A1lRY3wRCwsTgBtlALAgAAHBsWMBgRgqCgwDEIAcEg4UCyUAsTYCWVFj"},{id:"blocks/runtime.mpy",content:"TQYAH3AAFHJ1bnRpbWUucHkADw5hc3luY2lvAAxyYW5kb20ACG1hdGgACHRpbWUABnN5cwAOUnVudGltZQAMbnVtYmVyAAxlcXVhbHMAFmdldF9mdW5jX2lkAAp7fS57fQCBKRZfX2dsb2JhbHNfXwAvEmlzX251bWJlcgCBFQIuAAItAIIDAxQwMTIzNDU2Nzg5ABphbnlfc3RlcF9kb25lABBzbGVlcF9tcwAIZG9uZQAKU1RBUlQACkZSQU1FABhHUkVBVEVSX1RIRU4AJEJST0FEQ0FTVF9SRUNFSVZFRAAQU0hVVERPV04ADndhaXRpbmcAIwxfdGFza3MADF9zdGVwcwAKX3RpbWUAFF9mcmFtZV9zZWMACl9kYXRhABhfZ3JlYXRlcnRoZW4ACl9waW5zAAhkYXRhAAhwaW5zABpfaXNfc3luY190YXNrABZjcmVhdGVfdGFzawAKe31Ae30AeRRzdGFydF90YXNrABZfc3RhcnRfc3RlcAASbmV4dF90aWNrABRzdG9wX3Rhc2tzAIFVgXEMY2FuY2VsAAZ7fUAAgiMId2hlbgAIZmlyZQAKYWJvcnQAFHdoZW5fZnJhbWUAFHdoZW5fc3RhcnQAEndoZW5fc3RvcAAsd2hlbl9icm9hZGNhc3RyZWNlaXZlZAAKe306e30AEmJyb2FkY2FzdAAgd2hlbl9ncmVhdGVydGhlbgAKe30+e30AJF9mcmFtZV9ncmVhdGVydGhlbgACPgAKVElNRVIAgiUWcmVzZXRfdGltZXIAFG5leHRfZnJhbWUAEmZyYW1lX3NlYwCCLQpfc3RvcAAQd2FpdF9mb3IACnNsZWVwABR0aWNrc19kaWZmABB0aWNrc19tcwAIY2VpbAAKZmxvb3IADnJhbmRpbnQAgTkGbnVtAAphZnVuYwACcwCCL4FXCnN0ZXBzAC01FkRFRkFVTFRfRlBTABBwcm9wZXJ0eQCCKYITCG5hbWUAEnN0ZXBfbmFtZQB7CHN5bmMAGmV4Y2x1ZGVfYWZ1bmMADm1lc3NhZ2UAgkUKZmxvYXQABmZwcwAIbnVtMQAIbnVtMgAGbWluAAZtYXgAGmRlZmF1bHRfdmFsdWUAgSEMbGVuZ3RoAAh2YWwxAAh2YWwyAIUUEB4BJiYmJmZkIIQbhAiJsCaAURsCFgKAURsDFgOAURsEFgSA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"}].map((l)=>({id:l.id,content:h9(l.content)})),_9=`code_${Date.now().toString(36)}`,o5=`
from blocks import *
import ${_9}
start()
`;class ji extends Fo.Generator{ORDER_ATOMIC=0;ORDER_COLLECTION=1;ORDER_STRING_CONVERSION=1;ORDER_MEMBER=2.1;ORDER_FUNCTION_CALL=2.2;ORDER_EXPONENTIATION=3;ORDER_UNARY_SIGN=4;ORDER_BITWISE_NOT=4;ORDER_MULTIPLICATIVE=5;ORDER_ADDITIVE=6;ORDER_BITWISE_SHIFT=7;ORDER_BITWISE_AND=8;ORDER_BITWISE_XOR=9;ORDER_BITWISE_OR=10;ORDER_RELATIONAL=11;ORDER_LOGICAL_NOT=12;ORDER_LOGICAL_AND=13;ORDER_LOGICAL_OR=14;ORDER_CONDITIONAL=15;ORDER_LAMBDA=16;ORDER_NONE=99;constructor(){super("Python");this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip,math,random,Number"),this.ORDER_OVERRIDES=[[this.ORDER_FUNCTION_CALL,this.ORDER_MEMBER],[this.ORDER_FUNCTION_CALL,this.ORDER_FUNCTION_CALL],[this.ORDER_MEMBER,this.ORDER_MEMBER],[this.ORDER_MEMBER,this.ORDER_FUNCTION_CALL],[this.ORDER_LOGICAL_NOT,this.ORDER_LOGICAL_NOT],[this.ORDER_LOGICAL_AND,this.ORDER_LOGICAL_AND],[this.ORDER_LOGICAL_OR,this.ORDER_LOGICAL_OR]]}init(l){for(let p in this)if(typeof this[p]==="function"&&!Fo.Generator.prototype[p])this[p]=this[p].bind(this);if(this.PASS=this.INDENT+`pass
`,this.definitions_=Object.create(null),this.functionNames_=Object.create(null),!this.variableDB_)this.variableDB_=new Fo.Names(this.RESERVED_WORDS_);else this.variableDB_.reset();this.variableDB_.setVariableMap(l.getVariableMap());let m=[],r=l.getAllVariables();for(let p=0;p<r.length;p++){if(r[p].type===Fo.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;let x=this.variableDB_.getName(r[p].getId(),Fo.Variables.NAME_TYPE),u="0";if(r[p].type===Fo.LIST_VARIABLE_TYPE)x=`${x}_${Fo.LIST_VARIABLE_TYPE}`,u="[]";m.push(`${x} = ${u}`)}let N=Fo.Variables.allDeveloperVariables(l);for(let p=0;p<N.length;p++){let x=this.variableDB_.getName(N[p],Fo.Names.DEVELOPER_VARIABLE_TYPE),u="0";if(r[p].type===Fo.LIST_VARIABLE_TYPE)x=`${x}_${Fo.LIST_VARIABLE_TYPE}`,u="[]";m.push(`${x} = ${u}`)}if(m.length)this.definitions_.variables=m.join(`
`)}finish(l){let m=[],r=[];for(let N in this.definitions_){let p=this.definitions_[N];if(p.match(/^(from\s+\S+\s+)?import\s+\S+/))m.push(p);else r.push(p)}return delete this.definitions_,delete this.functionNames_,this.variableDB_.reset(),(m.join(`
`)+`

`+r.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+l}scrubNakedValue(l){return l+`
`}quote_(l){let m='"';if(l.indexOf('"')!==-1)if(l.indexOf("'")===-1)m="'";else l=l.replace(/"/g,"\\\"");return m+l+m}scrub_(l,m){let r="";if(!l.outputConnection?.targetConnection){let N=l.getCommentText();if(N=Fo.utils.wrap(N,this.COMMENT_WRAP-3),N)if(l.getProcedureDef)r+='"""'+N+`
"""
`;else r+=this.prefixLines(N+`
`,"# ");for(let p=0;p<l.inputList.length;p++)if(l.inputList[p].type==Fo.INPUT_VALUE){let x=l.inputList[p].connection.targetBlock();if(x){let u=this.allNestedComments(x);if(u)r+=this.prefixLines(u,"# ")}}}if(l.startHat_){let N=l.nextConnection&&l.nextConnection.targetBlock(),p=this.blockToCode(N);if(p)p=this.prefixLines(p,this.INDENT),m=m.replace(`
${this.PASS}`,`
${p}`);return r+m}if(l.parentBlock_){let N=l.nextConnection&&l.nextConnection.targetBlock(),p=this.blockToCode(N);return r+m+p}}getAdjustedInt(l,m,r,N){let p=r||0;if(l.workspace.options.oneBasedIndex)p--;let x=l.workspace.options.oneBasedIndex?"1":"0",u=p?this.ORDER_ADDITIVE:this.ORDER_NONE,_=this.valueToCode(l,m,u)||x;if(Fo.isNumber(_)){if(_=parseInt(_,10)+p,N)_=-_}else{if(p>0)_="int("+_+" + "+p+")";else if(p<0)_="int("+_+" - "+-p+")";else _="int("+_+")";if(N)_="-"+_}return _}eventToCode(l,m,...r){let N=this.variableDB_.getName(l,Fo.Variables.NAME_TYPE);if(!this.functionNames_[N])this.functionNames_[N]=0;this.functionNames_[N]+=1;let p=`${l}_${this.functionNames_[N]}`,x=`async def ${p}(${r.join(",")}):
`;return x+=`  this_func = f"{__name__}.${p}"
`,x+=`  flash = ${m}
`,x+=`${this.PASS}
`,x}}var eo=ji.prototype,k9=(l)=>{let m=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;l=l.replace(m,(N,p,x,u)=>p+p+x+x+u+u);let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null};eo.colour_picker=function(l){let{r:m,g:r,b:N}=k9(l.getFieldValue("COLOUR"));return[`(${m}, ${r}, ${N})`,this.ORDER_ATOMIC]};var Rs=`  if not flash:
    await runtime.next_frame()
`;eo.control_wait=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"DURATION",this.ORDER_NONE)||0;return m+=`await runtime.wait_for(num(${r}))
`,m};eo.control_repeat=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;let N=this.valueToCode(l,"TIMES",this.ORDER_NONE)||10;return m+=`for _ in range(num(${N})):
${r}${Rs}`,m};eo.control_forever=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;return m+=`while True:
${r}${Rs}`,m};eo.control_if=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;let N=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";if(m+=`if ${N}:
${r}`,l.getInput("SUBSTACK2")){if(r=this.statementToCode(l,"SUBSTACK2")||this.PASS,this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;m+=`else:
${r}`}return m};eo.control_if_else=eo.control_if;eo.control_wait_until=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return m+=`while not ${r}:
${Rs}`,m};eo.control_repeat_until=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;let N=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return m+=`while not ${N}:
${r}${Rs}`,m};eo.control_while=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;let N=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return m+=`while ${N}:
${r}${Rs}`,m};eo.control_stop=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);switch(l.getFieldValue("STOP_OPTION")){case"all":m+=`runtime.stop()
`;break;case"this script":m+=`return
`;break;case"other scripts in sprite":m+=`runtime.abort(this_func)
`;break}return m};eo.data_variable=function(l){return[this.variableDB_.getName(l.getFieldValue("VARIABLE"),xo.Variables.NAME_TYPE),this.ORDER_ATOMIC]};eo.data_setvariableto=function(l){let m="";if(eo.STATEMENT_PREFIX)m+=eo.injectId(eo.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("VARIABLE"),xo.Variables.NAME_TYPE),N=this.valueToCode(l,"VALUE",this.ORDER_NONE)||'""';return m+=`${r} = ${N}
`,m};eo.data_changevariableby=function(l){let m="";if(eo.STATEMENT_PREFIX)m+=eo.injectId(eo.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("VARIABLE"),xo.Variables.NAME_TYPE),N=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0;return m+=`${r} = num(${r}) + num(${N})
`,m};eo.data_listcontents=function(l){return[this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE,this.ORDER_ATOMIC]};eo.data_addtolist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE,N=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return m+=`${r}.append(${N})
`,m};eo.data_deleteoflist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE,N=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return m+=`runtime.list(${r}, 'remove', num(${N}))
`,m};eo.data_deletealloflist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE;return m+=`${r} = []
`,m};eo.data_insertatlist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE,N=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,p=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return m+=`runtime.list(${r}, 'insert', num(${N}), ${p})
`,m};eo.data_replaceitemoflist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE,N=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,p=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return m+=`runtime.list(${r}, 'replace', num(${N}), ${p})
`,m};eo.data_itemoflist=function(l){let m=this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return[`runtime.list(${m}, 'get', num(${r}))`,this.ORDER_FUNCTION_CALL]};eo.data_itemnumoflist=function(l){let m=this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"ITEM",this.ORDER_NONE)||0;return[`(${m}.index(${r}) + 1)`,this.ORDER_NONE]};eo.data_lengthoflist=function(l){return[`len(${this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE})`,this.ORDER_FUNCTION_CALL]};eo.data_listcontainsitem=function(l){let m=this.variableDB_.getName(l.getFieldValue("LIST"),xo.Variables.NAME_TYPE)+"_"+xo.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"ITEM",this.ORDER_NONE)||0;return[`bool(${m}.count(${r}))`,this.ORDER_FUNCTION_CALL]};eo.event_whenflagclicked=function(){return`@when_start
${this.eventToCode("start","False")}`};eo.event_whengreaterthan=function(l){let m=l.getFieldValue("WHENGREATERTHANMENU"),r=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0,N=this.eventToCode("greaterthen","False");return`@when_greaterthen("${m}", num(${r}))
${N}`};eo.event_whenbroadcastreceived=function(l){let m=this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),P1.Variables.NAME_TYPE),r=this.eventToCode("broadcastreceived","False");return`@when_broadcastreceived("${m}")
${r}`};eo.event_broadcast_menu=function(l){return[this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),P1.Variables.NAME_TYPE),this.ORDER_ATOMIC]};eo.event_broadcast=function(l){return`runtime.broadcast("${this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||"message1"}")
`};eo.event_broadcastandwait=function(l){return`await runtime.broadcast("${this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||"message1"}", waiting=True)
`};eo.math_number=function(l){let m=parseFloat(l.getFieldValue("NUM")),r;if(m===1/0)m='float("inf")',r=this.ORDER_FUNCTION_CALL;else if(m===-1/0)m='-float("inf")',r=this.ORDER_UNARY_SIGN;else if(Number.isNaN(m))m='float("nan")',r=this.ORDER_UNARY_SIGN;else r=m<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[m,r]};eo.math_integer=function(l){let m=parseInt(l.getFieldValue("NUM")),r=m<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[m,r]};eo.math_whole_number=function(l){return[Math.abs(parseInt(l.getFieldValue("NUM"))),this.ORDER_ATOMIC]};eo.math_positive_number=function(l){let m=parseFloat(l.getFieldValue("NUM")),r;if(m===1/0)m='float("inf")',r=this.ORDER_FUNCTION_CALL;else if(m===-1/0)m='-float("inf")',r=this.ORDER_FUNCTION_CALL;else if(Number.isNaN(m))m='float("nan")',r=this.ORDER_FUNCTION_CALL;else m=m<0?0:m,r=this.ORDER_ATOMIC;return[m,r]};eo.math_angle=function(l){let m=parseFloat(l.getFieldValue("NUM")),r;if(m==1/0)m='float("inf")',r=this.ORDER_FUNCTION_CALL;else if(m==-1/0)m='-float("inf")',r=this.ORDER_UNARY_SIGN;else m=m%360,m=m<0?m+360:m,r=this.ORDER_ATOMIC;return[m,r]};eo.operator_add=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${m}) + num(${r}))`,this.ORDER_SUBTRACTION]};eo.operator_subtract=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${m}) - num(${r}))`,this.ORDER_SUBTRACTION]};eo.operator_multiply=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${m}) * num(${r}))`,this.ORDER_SUBTRACTION]};eo.operator_divide=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${m}) / num(${r}))`,this.ORDER_SUBTRACTION]};eo.operator_random=function(l){let m=this.valueToCode(l,"FROM",this.ORDER_NONE)||0,r=this.valueToCode(l,"TO",this.ORDER_NONE)||0;return[`runtime.random(${m}, ${r})`,this.ORDER_FUNCTION_CALL]};eo.operator_gt=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(num(${m}) > num(${r}))`,this.ORDER_RELATIONAL]};eo.operator_lt=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(num(${m}) < num(${r}))`,this.ORDER_RELATIONAL]};eo.operator_equals=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`runtime.equals(${m}, ${r})`,this.ORDER_FUNCTION_CALL]};eo.operator_and=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||"False",r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||"False";return[`(${m} and ${r})`,this.ORDER_LOGICAL_AND]};eo.operator_or=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||"False",r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||"False";return[`(${m} or ${r})`,this.ORDER_LOGICAL_OR]};eo.operator_not=function(l){return[`(not ${this.valueToCode(l,"OPERAND",this.ORDER_NONE)||"False"})`,this.ORDER_LOGICAL_NOT]};eo.operator_join=function(l){let m=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',r=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(str(${m}) + str(${r}))`,this.ORDER_ATOMIC]};eo.operator_letter_of=function(l){let m=this.valueToCode(l,"LETTER",this.ORDER_NONE)||1;return[`runtime.list(str(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}), 'get', num(${m}))`,this.ORDER_FUNCTION_CALL]};eo.operator_length=function(l){return[`len(str(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}))`,this.ORDER_FUNCTION_CALL]};eo.operator_contains=function(l){let m=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',r=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(str(${m}).count(str(${r})) > 0)`,this.ORDER_FUNCTION_CALL]};eo.operator_mod=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${m}) % num(${r}))`,this.ORDER_MODULUS]};eo.operator_round=function(l){return this.definitions_.import_math="import math",[`math.round(num(${this.valueToCode(l,"NUM",this.ORDER_NONE)||0}))`,this.ORDER_FUNCTION_CALL]};eo.operator_mathop=function(l){this.definitions_.import_math="import math";let m=this.valueToCode(l,"NUM",this.ORDER_NONE)||0,r=l.getFieldValue("OPERATOR"),N="";if(r==="ceiling")N+=`math.ceil(num(${m}))`;else if(r==="sin"||r==="cos"||r==="tan")N+=`math.${r}(math.radians(num(${m})))`;else if(r==="asin"||r==="acos"||r==="atan")N+=`math.degrees(math.${r}(num(${m})))`;else if(r==="ln")N+=`(math.log(num(${m}))`;else if(r==="log")N+=`(math.log10(num(${m}))`;else if(r==="e ^")N+=`math.exp(num(${m}))`;else if(r==="10 ^")N+=`math.pow(10, num(${m}))`;else N+=`math.${r}(num(${m}))`;return[N,this.ORDER_FUNCTION_CALL]};eo.procedures_definition=function(l){let m=l.childBlocks_[0],r=this.variableDB_.getName(m.getProcCode(),ys.Procedures.NAME_TYPE),N=m.childBlocks_.map((x)=>this.variableDB_.getName(x.getFieldValue("VALUE"),ys.Variables.NAME_TYPE)),p=this.eventToCode("procedure",m.warp_?"True":"False",...N);return`@when_procedure("${r}")
${p}`};eo.procedures_call=function(l){let m=this.variableDB_.getName(l.getProcCode(),ys.Procedures.NAME_TYPE),r=l.argumentIds_.map((p)=>this.valueToCode(l,p,this.ORDER_NONE)),N=r.length>0?`, ${r.join(", ")}`:"";return`await runtime.procedure_call("${m}"${N})
`};eo.argument_reporter_boolean=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),ys.Variables.NAME_TYPE),this.ORDER_ATOMIC]};eo.argument_reporter_string_number=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),ys.Variables.NAME_TYPE),this.ORDER_ATOMIC]};eo.sensing_timer=function(){return["runtime.time",this.ORDER_MEMBER]};eo.sensing_resettimer=function(){return`runtime.reset_timer()
`};eo.sensing_debug=function(l){return`print(${this.valueToCode(l,"VALUE",this.ORDER_NONE)||'"debug"'})
`};eo.text=function(l){let m=l.getFieldValue("TEXT");return[m.length===0||isNaN(m)?this.quote_(m):+m,this.ORDER_ATOMIC]};class H1 extends ji{init(l){super.init(l),this.definitions_.import_blocks="from blocks import *"}}var r5=new H1,T9=1,$9=2,V9=3,gi="#0FBD8C",Xi="#0DA57A",W1="#0B8E69",pa=(l)=>{if(typeof l!=="string")if(Array.isArray(l))l=String(l);else return l;return l.replace(/[<>&'"]/g,(m)=>{switch(m){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})},w1={number:"math_number",angle:"math_angle",text:"text",string:"text",color:"colour_picker",matrix:"matrix",note:"note"},j1={number:"NUM",angle:"NUM",text:"TEXT",string:"TEXT",matrix:"MATRIX",note:"NOTE"};function M9(l,m,r,N,p){let{id:x}=m,u=N(m.name),_=`<category name="${pa(u)}" id="${pa(x)}"`;if(_+=` colour="${pa(m.themeColor||gi)}"`,_+=` secondaryColour="${pa(m.inputColor||Xi)}"`,m.connectionConfig)_+=' showStatusButton="true"';if(m.iconURI)_+=` iconURI="${pa(m.iconURI)}"`;return _+=">",m.menus=m.menus||{},m.blocks.filter((L)=>!L.hidden).forEach((L)=>{if(L==="---"){_+=`${q9}`;return}if(L.button){_+=`<button text="${N(L.text)}" callbackKey="${L.button}"></button>`;let M=Oi.getMainWorkspace();if(M){let T=M.getFlyout();if(T){let q=T.getWorkspace();if(q)q.registerButtonCallback(L.button,p(L.onClick))}}return}if(r&&L.useStage===!1)return;if(!r&&L.useSprite===!1)return;let y=`${x}_${L.id}`,R={message0:N(L.text),category:x,outputShape:V9,colour:m.themeColor||gi,colourSecondary:m.inputColor||Xi,colourTertiary:m.otherColor||W1},v=1;if(m.iconURI)R.message0=`%1 %2 ${R.message0}`,R.args0=[{type:"field_image",src:m.iconURI,width:40,height:40},{type:"field_vertical_separator"}],R.extensions=["scratch_extension"],v+=2;if(L.hat)R.nextStatement=null;else if(L.output){if(L.output==="boolean")R.output="Boolean",R.outputShape=T9;else R.output="String",R.outputShape=$9;R.checkboxInFlyout=L.monitoring!==!1}else R.previousStatement=null,R.nextStatement=null;let $=`<block type="${pa(y)}">`;if(L.inputs)R.checkboxInFlyout=!1,R.args0=[].concat(R.args0||[],Object.entries(L.inputs).map(([M,T])=>{let q={name:M,type:"input_value"};if(T.menu){let X=T.menu,j=T.name||M,I=T.inputMode||!1,S=T.type||"string",E=T.default||"";if(typeof T.menu==="string")j=T.menu,X=m.menus[j];if(!Array.isArray(X))I=X.inputMode||I,S=X.type||S,E=X.default||E,X=X.items;if(I){if(!m.menus[j])m.menus[j]={inputMode:I,type:S,items:X};if($+=`<value name="${pa(M)}">`,$+=`<shadow type="${x}_menu_${j}">`,E)$+=`<field name="${j}">${pa(N(E))}</field>`;$+="</shadow></value>"}else if(X)q.type="field_dropdown",q.options=X.map((D)=>{if(Array.isArray(D)){let[C,ce]=D;return[N(C),ce]}return D=`${D}`,[D,D]})}else if(T.type==="boolean")q.check="Boolean";else{if($+=`<value name="${pa(M)}">`,w1[T.type]){if($+=`<shadow type="${w1[T.type]}">`,T.default&&j1[T.type])$+=`<field name="${j1[T.type]}">${pa(N(T.default))}</field>`;$+="</shadow>"}$+="</value>"}return R.message0=R.message0.replace(`[${M}]`,`%${v++}`),q}));Oi.Blocks[y]={init(){this.jsonInit(R)}};for(let M of l){let T=M.name_.toLowerCase();if(L[T])M[y]=L[T].bind(M);else M[y]=()=>""}$+="</block>",_+=$}),Object.entries(m.menus).forEach(([L,y])=>{if(!y.inputMode)return;let R=`${x}_menu_${L}`,v=y.type==="number"?"output_number":"output_string",$={message0:"%1",args0:[{type:"field_dropdown",name:L,options:y.items.map((M)=>{if(Array.isArray(M)){let[T,q]=M;return[N(T),q]}return M=`${M}`,[M,M]})}],category:x,colour:m.themeColor||gi,colourSecondary:m.inputColor||Xi,colourTertiary:m.otherColor||W1,extensions:[v]};Oi.Blocks[R]={init(){this.jsonInit($)}};for(let M of l)M[R]=(T)=>{return[T.getFieldValue(L),M.ORDER_ATOMIC]}}),_+="</category>",_}function Rl(l){let m=globalThis.document,r=m.createElement("style");r.appendChild(m.createTextNode(l)),m.head.append(r)}Rl("._5SVWFW_prompt-modal{width:360px}._5SVWFW_prompt-content{background:var(--ui-white);padding:1.5rem 2.25rem}._5SVWFW_prompt-content input[type=checkbox],._5SVWFW_prompt-content input[type=radio]{margin:3px}._5SVWFW_label{margin:0 0 .75rem;font-weight:500}._5SVWFW_variable-name-text-input{border:1px solid var(--ui-black-transparent);color:var(--text-primary-transparent);border-radius:5px;width:100%;height:3rem;margin-bottom:1.5rem;padding:0 1rem;font-size:.875rem}._5SVWFW_info-message{text-align:center;margin-bottom:1.5rem;font-size:.875rem;font-weight:400}._5SVWFW_options{justify-content:space-between;margin-bottom:1.5rem;font-weight:400;display:flex}._5SVWFW_button-row{text-align:right;font-weight:bolder}._5SVWFW_button{padding:.75rem 1rem;font-size:.85rem;font-weight:600}._5SVWFW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:var(--ui-white);margin-left:var(--space)}");var fa={variableNameTextInput:"_5SVWFW_variable-name-text-input",options:"_5SVWFW_options",label:"_5SVWFW_label",okButton:"_5SVWFW_ok-button",infoMessage:"_5SVWFW_info-message",buttonRow:"_5SVWFW_button-row",button:"_5SVWFW_button",promptContent:"_5SVWFW_prompt-content",promptModal:"_5SVWFW_prompt-modal"};function S9({title:l,label:m,defaultValue:r,enableLocalVariable:N,showListMessage:p,showVariableOptions:x,showCloudOption:u,onClose:_,onSubmit:L}){let y=L9(null),[R,v]=F1(r),[$,M]=F1({scope:"global",isCloud:!1}),T=()=>{L(R,$)},q=(X)=>{if(X.key==="Escape")_();if(X.key==="Enter")L(y.current.base.value,$)};return U9(()=>{if(y.current)y.current.base.focus(),window.addEventListener("keydown",q);return()=>{window.removeEventListener("keydown",q)}},[y]),Io(g9,{title:l,className:fa.promptModal,onClose:_,children:vs("div",{className:fa.promptContent,children:[Io("div",{className:fa.label,children:m}),Io(X9,{autoFocus:!0,forceFocus:!0,ref:y,className:fa.variableNameTextInput,defaultValue:R,onSubmit:v}),x&&Io("div",{children:N?vs("div",{className:fa.options,children:[vs("label",{children:[Io("input",{checked:$.scope==="global",name:"variableScopeOption",type:"radio",value:"global",onChange:()=>M({...$,scope:"global"})}),Io(In,{id:"blocks.dataPrompt.forAllTargets",defaultMessage:"For all targets"})]}),vs("label",{children:[Io("input",{checked:$.scope==="local",name:"variableScopeOption",type:"radio",value:"local",onChange:()=>M({...$,scope:"local"})}),Io(In,{id:"blocks.dataPrompt.forThisTarget",defaultMessage:"For this target only"})]})]}):Io("div",{className:fa.infoMessage,children:p?Io(In,{id:"blocks.dataPrompt.listAvailableToAllTargets",defaultMessage:"This list will be available to all targets."}):Io(In,{id:"blocks.dataPrompt.availableToAllTargets",defaultMessage:"This variable will be available to all targets."})})}),vs("div",{className:fa.buttonRow,children:[Io(I1,{className:fa.button,onClick:_,children:Io(In,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),Io(I1,{className:O9(fa.button,fa.okButton),onClick:T,children:Io(In,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})})}Rl(".ObKnhW_prompt-modal{width:700px;margin:50px auto}.ObKnhW_body{background:var(--ui-white);padding:1.5rem 2.25rem}.ObKnhW_body input[type=checkbox],.ObKnhW_body input[type=radio]{margin:3px}.ObKnhW_workspace{min-height:200px;position:relative}.ObKnhW_workspace .injectionDiv{position:absolute;inset:0}.ObKnhW_workspace .blocklySvg{background-color:var(--ui-primary)}.ObKnhW_options-row{justify-content:space-between;display:flex}.ObKnhW_option-card{border:2px solid var(--ui-black-transparent);border-radius:var(--space);padding:calc(var(--space)*2);text-align:center;cursor:pointer;background:#fff;flex-grow:1;flex-basis:100px;transition:all .2s}.ObKnhW_option-card:hover{border:2px solid var(--motion-primary);box-shadow:0px 0px 0px 4px var(--motion-transparent)}.ObKnhW_option-card+.ObKnhW_option-card{margin-left:1rem}.ObKnhW_option-icon{max-height:48px;margin-bottom:.5rem}.ObKnhW_option-title{font-weight:700}.ObKnhW_radiobox-row{justify-content:space-between;margin:1rem 6rem 1.5rem;font-weight:400;display:flex}.ObKnhW_checkbox-row{margin-top:1rem}.ObKnhW_button-row{text-align:right;margin-top:1rem;font-weight:bolder}.ObKnhW_button-row button{border:1px solid var(--ui-black-transparent);background:#fff;border-radius:.25rem;padding:.75rem 1rem;font-size:.85rem;font-weight:700}.ObKnhW_button-row button.ObKnhW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:#fff}.ObKnhW_button-row button+button{margin-left:.5rem}");var Uo={optionsRow:"ObKnhW_options-row",okButton:"ObKnhW_ok-button",promptModal:"ObKnhW_prompt-modal",optionCard:"ObKnhW_option-card",body:"ObKnhW_body",radioboxRow:"ObKnhW_radiobox-row",optionIcon:"ObKnhW_option-icon",optionTitle:"ObKnhW_option-title",checkboxRow:"ObKnhW_checkbox-row",buttonRow:"ObKnhW_button-row",workspace:"ObKnhW_workspace"},I9="./assets/icon-boolean-input-v045mxhp.svg",J9="./assets/icon-text-input-3m98080h.svg",K9="./assets/icon-label-a0d2gknc.svg",z9={zoom:{controls:!1,wheel:!1,startScale:0.9},comments:!1,collapse:!1,scrollbars:!0};function E9({mutator:l,onClose:m,onSubmit:r}){let N=W9(null),[p,x]=J1("command"),[u,_]=J1(!1),L=()=>{},y=()=>{if(N.mutationRoot)N.mutationRoot.addLabelExternal()},R=()=>{if(N.mutationRoot)N.mutationRoot.addBooleanExternal()},v=()=>{if(N.mutationRoot)N.mutationRoot.addStringNumberExternal()},$=()=>{let T=!N.mutationRoot.getWarp();N.mutationRoot.setWarp(T),_(T)},M=()=>{r(N.mutationRoot?.mutationToDom(!0))};return w9(()=>{if(N.current){let T=yl.Blocks.defaultToolbox;yl.Blocks.defaultToolbox=null,N.workspace=yl.inject(N.current,Object.assign({},z9,{media:"./assets/blocks-media/"})),yl.Blocks.defaultToolbox=T,N.mutationRoot=N.workspace.newBlock("procedures_declaration"),N.mutationRoot.setMovable(!1),N.mutationRoot.setDeletable(!1),N.mutationRoot.contextMenu=!1,N.workspace.addChangeListener(()=>{N.mutationRoot.onChangeFn();let q=N.workspace.getMetrics(),{x:X,y:j}=N.mutationRoot.getRelativeToSurfaceXY(),I=q.viewHeight/2-N.mutationRoot.height/2-j,S=q.viewWidth/2-N.mutationRoot.width/2-X;if(N.mutationRoot.width>q.viewWidth)S=q.viewWidth-N.mutationRoot.width-X;N.mutationRoot.moveBy(S,I)}),N.mutationRoot.domToMutation(l),N.mutationRoot.initSvg(),N.mutationRoot.render(),_(N.mutationRoot.getWarp()),setTimeout(()=>{N.mutationRoot.focusLastEditor_()})}return()=>{if(N.workspace)N.workspace.dispose()}},[N]),Ja(F9,{title:$o(ya,{id:"blocks.myBlockPrompt.title",defaultMessage:"Make a Block"}),className:Uo.promptModal,onClose:m,children:[$o("div",{ref:N,className:Uo.workspace}),Ja("div",{className:Uo.body,children:[Ja("div",{className:Uo.optionsRow,children:[Ja("div",{role:"button",className:Uo.optionCard,onClick:v,children:[$o("img",{className:Uo.optionIcon,src:J9}),$o("div",{className:Uo.optionTitle,children:$o(ya,{id:"blocks.myBlockPrompt.addAnInputNumberText",defaultMessage:"Add an input"})}),$o("div",{className:Uo.optionDescription,children:$o(ya,{id:"blocks.myBlockPrompt.numberTextType",defaultMessage:"number or text"})})]}),Ja("div",{role:"button",className:Uo.optionCard,onClick:R,children:[$o("img",{className:Uo.optionIcon,src:I9}),$o("div",{className:Uo.optionTitle,children:$o(ya,{id:"blocks.myBlockPrompt.addAnInputBoolean",defaultMessage:"Add an input"})}),$o("div",{className:Uo.optionDescription,children:$o(ya,{id:"blocks.myBlockPrompt.booleanType",defaultMessage:"boolean"})})]}),Ja("div",{role:"button",className:Uo.optionCard,onClick:y,children:[$o("img",{className:Uo.optionIcon,src:K9}),$o("div",{className:Uo.optionTitle,children:$o(ya,{id:"blocks.myBlockPrompt.addALabel",defaultMessage:"Add a label"})})]})]}),$o("div",{className:Uo.checkboxRow,children:Ja("label",{children:[$o("input",{checked:u,type:"checkbox",onChange:$}),$o(ya,{id:"blocks.myBlockPrompt.flash",defaultMessage:"Run without process."})]})}),Ja("div",{className:Uo.buttonRow,children:[$o(K1,{className:Uo.button,onClick:m,children:$o(ya,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),$o(K1,{className:j9(Uo.button,Uo.okButton),onClick:M,children:$o(ya,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})]})}var Y9=["brain","broadcast","color-sensor","light","mqtt","nes","pen","request","servo","text","time","translate","wedo2"].map(async(l)=>{let{default:m}=await import(`@blockcode/extension-${l}`);return m.id=l,m}),Q9=Promise.all(Y9);function C9({onSelect:l,onClose:m,onFilter:r}){let[N,p]=z1([]),[x,u]=z1(!1),{language:_,getText:L}=H9(),y=(R)=>{let v=R.tags||[],$=["blocks"];if(r)$=r(v);if(Array.isArray($))return $.some((M)=>{if(Array.isArray(M))return M.every((T)=>T[0]==="!"?!v.includes(T.slice(1)):v.includes(T));return v.includes(M)});return $};return P9(()=>{Q9.then((R)=>{p(R.filter(y).map((v)=>Object.assign({...v,featured:!0,hidden:v.hidden||window.electron&&(v.preview||v.disabled),disabled:v.disabled||v.preview,onSelect:()=>{l(v.id),m()}},v.translations&&v.translations[_]?{name:v.translations[_].name||v.name,description:v.translations[_].description||v.description,collaborator:v.translations[_].collaborator||v.collaborator}:{}))),u(!1)})},[]),D9(G9,{filterable:!0,loading:x,items:N,filterPlaceholder:L("gui.library.search","Search"),title:L("blocks.extensions.addExtension","Add Extension"),emptyText:L("blocks.extensions.empty","No extension!"),onClose:m})}Rl('.cujmXa_editor-wrapper{border-radius:inherit;width:100%;height:100%;position:relative}.cujmXa_extension-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);border:1px solid var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;border-top:0;height:3.25rem;position:absolute;bottom:-1px;left:-1px}.cujmXa_extension-button:before{--fade-out-distance:15px;content:"";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.cujmXa_add-button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.cujmXa_add-button img{width:1.75rem;height:1.75rem}');var Si={editorWrapper:"cujmXa_editor-wrapper",extensionButton:"cujmXa_extension-button",addButton:"cujmXa_add-button"},B9="./assets/icon-extension-61vrne2y.svg",ea=new Map,G1=(l)=>typeof l!=="string"&&!l.button,om=async(l,m,r,N)=>{if(l){for(let p of l)if(!ea.has(p)){let{default:x}=await import(`@blockcode/extension-${p}/blocks`);if(x.id=p,x.files)for(let u of x.files){let _=`extensions/${p}/${u.name}`,L=await fetch(u.uri).then((y)=>y.text());try{r({...u,id:_,content:L})}catch(y){}}if(m(x.translations),N)N({...x,blocks:x.blocks.filter(G1)});ea.set(p,x)}}};function am({toolbox:l,messages:m,generators:r,enableMultiTargets:N,enableLocalVariable:p,disableGenerator:x,disableExtension:u,onChange:_,onExtensionsFilter:L,onLoadExtension:y}){let{addLocaleData:R,getText:v,maybeLocaleText:$}=Z9(),{splash:M,createPrompt:T,createAlert:q,removeAlert:X,setSplash:j}=v9(),{editor:I,fileList:S,selectedFileId:E,openFile:D,modifyFile:C,addAsset:ce,setModified:be}=S1(),[qe,ue]=Zs(),[$e,e]=Zs(!1),[n,c]=Zs(!1),[s,t]=Zs(!1),[h,k]=Zs(!1);m={EVENT_WHENPROGRAMSTART:v("blocks.event.programStart","when program start"),CONTROL_STOP_OTHER:v("blocks.control.stopOther","other scripts"),PROCEDURES_ADD_LABEL:v("blocks.myblock.addLabel"," label text"),PROCEDURES_ADD_BOOLEAN:v("blocks.myblock.addBoolean","boolean"),PROCEDURES_ADD_STRING_NUMBER:v("blocks.myblock.addNumbetText","number or text"),...m||[]},N9(()=>{Oo.prompt=(ge,H,w,B,Te)=>{let Le={callback:w,message:ge,defaultValue:H};Le.title=B?B:Oo.Msg.VARIABLE_MODAL_TITLE,Le.varType=typeof Te==="string"?Te:Oo.SCALAR_VARIABLE_TYPE,Le.showVariableOptions=N&&Te!==Oo.BROADCAST_MESSAGE_VARIABLE_TYPE&&Le.title!==Oo.Msg.RENAME_VARIABLE_MODAL_TITLE&&Le.title!==Oo.Msg.RENAME_LIST_MODAL_TITLE,Le.showCloudOption=Te===Oo.SCALAR_VARIABLE_TYPE&&this.props.canUseCloud,e(Le)},Oo.FlyoutExtensionCategoryHeader.getExtensionState=(ge)=>{if(!ea.has(ge))return;let H=ea.get(ge),{statusButton:w}=H;if(!w)return Oo.StatusButtonState.NOT_READY;if(w.storage){if(w.storage.every((B)=>localStorage.getItem(B.id)))return Oo.StatusButtonState.READY;return Oo.StatusButtonState.NOT_READY}if(w.onUpdate?.())return Oo.StatusButtonState.READY;return Oo.StatusButtonState.NOT_READY};let Re=()=>Oo.refreshStatusButtons(qe);Oo.statusButtonCallback=(ge)=>{if(!ea.has(ge))return;let H=ea.get(ge),{statusButton:w}=H;if(!w)return;if(w.storage){T({title:H.name,label:w.title,inputMode:w.storage.map((B)=>({name:B.id,placeholder:B.text,defaultValue:localStorage.getItem(B.id)})),body:w.description,onSubmit:(B)=>{Object.entries(B).forEach(([Te,Le])=>localStorage.setItem(Te,Le)),Re()}});return}w.onClick?.(Re)},Oo.Procedures.externalProcedureDefCallback=(ge,H)=>{c({mutator:ge,defCallback:H})}},[qe]);let d;if(qe)d=qe.getAllVariables().filter((Re)=>{if(Re.isLocal)return!1;if(Re.type===Oo.BROADCAST_MESSAGE_VARIABLE_TYPE){if(Re.name===Oo.Msg.DEFAULT_BROADCAST_MESSAGE_NAME)return!1;let ge=Re.id_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),H=new RegExp(`<field name="BROADCAST_OPTION" id="${ge}"[^>]+>[^<]+</field>`,"g");for(let w of S)if(H.test(w.xml))return!0;return!1}return!0});let o=l||x9(),b=E===S[0].id,W=(Re)=>Re.bind(null,{context:S1(),createPrompt:T,createAlert:q,removeAlert:X});ea.forEach((Re)=>{o+=M9(r,Re,b,$,W)});let O=(Re)=>{let ge=`
`;if(!x)ge=r[0]?.workspaceToCode(Re);let H=Array.from(new Set(Object.values(Re.blockDB_).filter((w)=>ea.has(w.category_)).map((w)=>w.category_)));return{content:ge,extensions:H}},P=(Re,ge)=>{let{content:H,extensions:w}=O(ge);if(C({xml:Re,content:H,extensions:w}),_)_(Re,ge)},pe=(Re,ge)=>{$e.callback(Re,[],ge),e(!1)},Ne=(Re)=>{if(Re&&qe&&n)n.defCallback(Re),qe.refreshToolboxSelection_(),qe.toolbox_.scrollToCategoryById("myBlocks");c(!1)},xe=()=>{e(!1),c(!1)},te=()=>t(!0),ie=()=>t(!1),he=async(Re)=>{if(!ea.has(Re)){q("importing",{id:Re});let{default:ge}=await import(`@blockcode/extension-${Re}/blocks`);if(ge.id=Re,ge.files)for(let H of ge.files){let w=`extensions/${Re.replace(/[^a-z\d]/gi,"_")}/${H.name}`,B=await fetch(H.uri).then((Te)=>Te.text());try{ce({...H,id:w,content:B})}catch(Te){}}if(R(ge.translations),y)y({...ge,blocks:ge.blocks.filter(G1)});ea.set(ge.id,ge),X(Re)}setTimeout(()=>{qe.toolbox_.setSelectedCategoryById(Re)},50)};if(M){if(M===!0&&h===!1)ea.clear(),k(om(I.extensions,R,ce,y).then(()=>{setTimeout(()=>k(!0),50)}));if(qe&&h===!0){d=[];let Re=M;if(S.length===1||Re===E)j(!1),k(!1),setTimeout(()=>be(!1),50);else{let ge=S.findIndex((B)=>B.id===E)||0,H=S[ge],w=S.at(ge-1).id;setTimeout(()=>{if(M===!0)j(E),D(w);else if(H.content)D(w)})}}}let Fe=!0;if(I.extensions)Fe=I.extensions.every((Re)=>ea.has(Re));return Ka(em,{children:A9("div",{className:Si.editorWrapper,children:[Ka(R9,{toolbox:o,messages:m,extensionsLoaded:Fe,globalVariables:d,onWorkspaceCreated:ue,onChange:P}),u?null:Ka("div",{className:y9("scratchCategoryMenu",Si.extensionButton),children:Ka("button",{className:Si.addButton,title:v("blocks.extensions.addExtension","Add Extension"),onClick:te,children:Ka("img",{src:B9,title:"Add Extension"})})}),$e&&Ka(S9,{title:$e.title,label:$e.message,defaultValue:$e.defaultValue,enableLocalVariable:p,showListMessage:$e.varType===Oo.LIST_VARIABLE_TYPE,showVariableOptions:$e.showVariableOptions,showCloudOption:$e.showCloudOption,onClose:xe,onSubmit:pe}),n&&Ka(E9,{mutator:n.mutator,onClose:xe,onSubmit:Ne}),s&&Ka(C9,{onFilter:L,onSelect:he,onClose:ie})]})})}Rl(".MfXpyq_code-review{background:#fff;width:100%;height:100%;font-size:1rem;overflow:auto}.MfXpyq_code-review pre{margin:calc(var(--space)/2);counter-reset:line}.MfXpyq_code-review pre span{user-select:text;line-height:1.25rem;display:block}.MfXpyq_code-review pre span:before{counter-increment:line;content:counter(line);text-align:right;color:var(--text-primary-transparent);border-right:1px solid #ddd;width:40px;margin-right:.5em;padding:0 .5em;display:inline-block}");var sm={codeReview:"MfXpyq_code-review"};function lm(){let{fileList:l,selectedFileId:m}=nm(),r=l.find((p)=>p.id===m),N=[];if(r?.content)N=r.content.split(`
`);return Wi("div",{className:sm.codeReview,children:Wi("pre",{children:N.map((p)=>Wi("span",{children:p}))})})}var rm="./assets/icon-blocks-vgmb334q.svg",im="./assets/icon-review-th668gym.svg",cm={"blocks.menu.file":"File","blocks.menu.file.newProject":"New","blocks.menu.file.openProject":"Open","blocks.menu.file.saveProject":"Save","blocks.menu.file.uploadProject":"Load from your computer","blocks.menu.file.downloadProject":"Save to your computer","blocks.menu.file.saveAlert":"Saved.","blocks.menu.edit":"Edit","blocks.menu.edit.undo":"Undo","blocks.menu.edit.redo":"Redo","blocks.menu.device":"Device","blocks.menu.device.name":"device","blocks.menu.device.connect":"Connect to your {name}","blocks.menu.device.disconnect":"Disconnect this {name}","blocks.menu.device.download":"Download program","blocks.menu.device.turnOnAutoDownload":"Turn on Auto Download","blocks.menu.device.turnOffAutoDownload":"Turn off Auto Download","blocks.alert.downloading":"Downloading...{progress}%","blocks.alert.downloadCompleted":"Download completed.","blocks.alert.connectionCancel":"Connection cancel.","blocks.alert.connectionError":"Connection error.","blocks.alert.flashOutSpace":"The flash is running out of space.","blocks.codeTab":"Code","blocks.reviewTab":"Code Review","blocks.monitorPane.title":"Monitor","blocks.downloadToDevice":"Download","blocks.extensions.addExtension":"Add Extension","blocks.extensions.empty":"No extension!","blocks.prompt.ok":"OK","blocks.prompt.cancel":"Cancel","blocks.dataPrompt.forAllTargets":"For all targets","blocks.dataPrompt.forThisTarget":"For this target only","blocks.dataPrompt.availableToAllTargets":"This variable will be available to all targets.","blocks.dataPrompt.listAvailableToAllTargets":"This list will be available to all targets.","blocks.myBlockPrompt.title":"Make a Block","blocks.myBlockPrompt.addAnInputNumberText":"Add an input","blocks.myBlockPrompt.numberTextType":"number or text","blocks.myBlockPrompt.addAnInputBoolean":"Add an input","blocks.myBlockPrompt.booleanType":"boolean","blocks.myBlockPrompt.addALabel":"Add a label","blocks.myBlockPrompt.flash":"Run without screen refresh","blocks.myBlockPrompt.command":"Command","blocks.myBlockPrompt.reporterNumberText":"Return number or text","blocks.myBlockPrompt.reporterBoolean":"Return boolean","blocks.event.programStart":"when program start","blocks.control.stopOther":"other scripts","blocks.myblock.addLabel":" label text","blocks.myblock.addBoolean":"boolean","blocks.myblock.addNumbetText":"number or text"},um={"blocks.menu.file":"","blocks.menu.file.newProject":"","blocks.menu.file.openProject":"","blocks.menu.file.saveProject":"","blocks.menu.file.uploadProject":"","blocks.menu.file.downloadProject":"","blocks.menu.file.saveAlert":"","blocks.menu.edit":"","blocks.menu.edit.undo":"","blocks.menu.edit.redo":"","blocks.menu.device":"","blocks.menu.device.name":"","blocks.menu.device.connect":"{name}","blocks.menu.device.disconnect":"{name}","blocks.menu.device.download":"","blocks.menu.device.turnOnAutoDownload":"","blocks.menu.device.turnOffAutoDownload":"","blocks.alert.downloading":"{progress}%","blocks.alert.downloadCompleted":"","blocks.alert.connectionCancel":"","blocks.alert.connectionError":"","blocks.alert.flashOutSpace":"","blocks.codeTab":"","blocks.reviewTab":"","blocks.monitorPane.title":"","blocks.downloadToDevice":"","blocks.extensions.addExtension":"","blocks.extensions.empty":"","blocks.prompt.ok":"","blocks.prompt.cancel":"","blocks.dataPrompt.forAllTargets":"","blocks.dataPrompt.forThisTarget":"","blocks.dataPrompt.availableToAllTargets":"","blocks.dataPrompt.listAvailableToAllTargets":"","blocks.myBlockPrompt.title":"","blocks.myBlockPrompt.addAnInputNumberText":"","blocks.myBlockPrompt.numberTextType":"","blocks.myBlockPrompt.addAnInputBoolean":"","blocks.myBlockPrompt.booleanType":"","blocks.myBlockPrompt.addALabel":"","blocks.myBlockPrompt.flash":"","blocks.myBlockPrompt.command":"","blocks.myBlockPrompt.reporterNumberText":"","blocks.myBlockPrompt.reporterBoolean":"","blocks.event.programStart":"","blocks.control.stopOther":"","blocks.myblock.addLabel":"","blocks.myblock.addBoolean":"","blocks.myblock.addNumbetText":""},Y1={en:cm,"zh-Hans":um},xl={icon:rm,label:Fi(wi,{id:"blocks.codeTab",defaultMessage:"Code"}),Content:am},$5={icon:im,label:Fi(wi,{id:"blocks.reviewTab",defaultMessage:"Code Review"}),Content:lm},V5={label:Fi(wi,{id:"blocks.monitorPane.title",defaultMessage:"Monitor"}),Content:null};import{useLocale as Mm}from"@blockcode/core";import{useRef as hm,useEffect as _m}from"preact/hooks";import{useEditor as km}from"@blockcode/core";import{ScratchBlocks as Eo}from"@blockcode/blocks-editor";import{jsx as Nm}from"preact/jsx-runtime";import{ScratchBlocks as zo}from"@blockcode/blocks-editor";import{ScratchBlocks as qo}from"@blockcode/blocks-editor";import{ScratchBlocks as i6}from"@blockcode/blocks-editor";import{ScratchBlocks as xs}from"@blockcode/blocks-editor";var tm=Object.create,{getPrototypeOf:mm,defineProperty:D1,getOwnPropertyNames:bm}=Object,dm=Object.prototype.hasOwnProperty,Ji=(l,m,r)=>{r=l!=null?tm(mm(l)):{};let N=m||!l||!l.__esModule?D1(r,"default",{value:l,enumerable:!0}):r;for(let p of bm(l))if(!dm.call(N,p))D1(N,p,{get:()=>l[p],enumerable:!0});return N},pm=(l,m)=>()=>(m||l((m={exports:{}}).exports,m),m.exports),L5=((l)=>gl)(function(l){return gl.apply(this,arguments)}),Ki=pm((l,m)=>{/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */var r=function(N,p){N=N||(()=>({}));var{window:x,document:u}=N,_=new function(){var a=/^(statics|enumerable|beans|preserve)$/,i=[],f=i.slice,Z=Object.create,V=Object.getOwnPropertyDescriptor,g=Object.defineProperty,F=i.forEach||function(G,ne){for(var A=0,re=this.length;A<re;A++)G.call(ne,this[A],A,this)},z=function(G,ne){for(var A in this)if(this.hasOwnProperty(A))G.call(ne,this[A],A,this)},J=Object.assign||function(G){for(var ne=1,A=arguments.length;ne<A;ne++){var re=arguments[ne];for(var ke in re)if(re.hasOwnProperty(ke))G[ke]=re[ke]}return G},K=function(G,ne,A){if(G){var re=V(G,"length");(re&&typeof re.value==="number"?F:z).call(G,ne,A=A||G)}return A};function oe(G,ne,A,re,ke){var ee={};function ae(me,de){if(de=de||(de=V(ne,me))&&(de.get?de:de.value),typeof de==="string"&&de[0]==="#")de=G[de.substring(1)]||de;var Oe=typeof de==="function",_e=de,ve=ke||Oe&&!de.base?de&&de.get?me in G:G[me]:null,Xe;if(!ke||!ve){if(Oe&&ve)de.base=ve;if(Oe&&re!==!1&&(Xe=me.match(/^([gs]et|is)(([A-Z])(.*))$/)))ee[Xe[3].toLowerCase()+Xe[4]]=Xe[2];if(!_e||Oe||!_e.get||typeof _e.get!=="function"||!Y.isPlainObject(_e))_e={value:_e,writable:!0};if((V(G,me)||{configurable:!0}).configurable)_e.configurable=!0,_e.enumerable=A!=null?A:!Xe;g(G,me,_e)}}if(ne){for(var se in ne)if(ne.hasOwnProperty(se)&&!a.test(se))ae(se);for(var se in ee){var Q=ee[se],le=G["set"+Q],fe=G["get"+Q]||le&&G["is"+Q];if(fe&&(re===!0||fe.length===0))ae(se,{get:fe,set:le})}}return G}function Y(){for(var G=0,ne=arguments.length;G<ne;G++){var A=arguments[G];if(A)J(this,A)}return this}return oe(Y,{inject:function(G){if(G){var ne=G.statics===!0?G:G.statics,A=G.beans,re=G.preserve;if(ne!==G)oe(this.prototype,G,G.enumerable,A,re);oe(this,ne,null,A,re)}for(var ke=1,ee=arguments.length;ke<ee;ke++)this.inject(arguments[ke]);return this},extend:function(){var G=this,ne,A;for(var re=0,ke,ee=arguments.length;re<ee&&!(ne&&A);re++)ke=arguments[re],ne=ne||ke.initialize,A=A||ke.prototype;if(ne=ne||function(){G.apply(this,arguments)},A=ne.prototype=A||Z(this.prototype),g(A,"constructor",{value:ne,writable:!0,configurable:!0}),oe(ne,this),arguments.length)this.inject.apply(ne,arguments);return ne.base=G,ne}}).inject({enumerable:!1,initialize:Y,set:Y,inject:function(){for(var G=0,ne=arguments.length;G<ne;G++){var A=arguments[G];if(A)oe(this,A,A.enumerable,A.beans,A.preserve)}return this},extend:function(){var G=Z(this);return G.inject.apply(G,arguments)},each:function(G,ne){return K(this,G,ne)},clone:function(){return new this.constructor(this)},statics:{set:J,each:K,create:Z,define:g,describe:V,clone:function(G){return J(new G.constructor,G)},isPlainObject:function(G){var ne=G!=null&&G.constructor;return ne&&(ne===Object||ne===Y||ne.name==="Object")},pick:function(G,ne){return G!==p?G:ne},slice:function(G,ne,A){return f.call(G,ne,A)}}})};if(typeof m!=="undefined")m.exports=_;_.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+_.each(this,function(a,i){if(!/^_/.test(i)){var f=typeof a;this.push(i+": "+(f==="number"?$.instance.number(a):f==="string"?"'"+a+"'":a))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(a){return _.importJSON(a,this)},exportJSON:function(a){return _.exportJSON(this,a)},toJSON:function(){return _.serialize(this)},set:function(a,i){if(a)_.filter(this,a,i,this._prioritize);return this}},{beans:!1,statics:{exports:{},extend:function a(){var i=a.base.apply(this,arguments),f=i.prototype._class;if(f&&!_.exports[f])_.exports[f]=i;return i},equals:function(a,i){if(a===i)return!0;if(a&&a.equals)return a.equals(i);if(i&&i.equals)return i.equals(a);if(a&&i&&typeof a==="object"&&typeof i==="object"){if(Array.isArray(a)&&Array.isArray(i)){var f=a.length;if(f!==i.length)return!1;while(f--)if(!_.equals(a[f],i[f]))return!1}else{var Z=Object.keys(a),f=Z.length;if(f!==Object.keys(i).length)return!1;while(f--){var V=Z[f];if(!(i.hasOwnProperty(V)&&_.equals(a[V],i[V])))return!1}}return!0}return!1},read:function(a,i,f,Z){if(this===_){var V=this.peek(a,i);return a.__index++,V}var g=this.prototype,F=g._readIndex,z=i||F&&a.__index||0,J=a.length,K=a[z];if(Z=Z||J-z,K instanceof this||f&&f.readNull&&K==null&&Z<=1){if(F)a.__index=z+1;return K&&f&&f.clone?K.clone():K}if(K=_.create(g),F)K.__read=!0;if(K=K.initialize.apply(K,z>0||z+Z<J?_.slice(a,z,z+Z):a)||K,F){a.__index=z+K.__read;var oe=K.__filtered;if(oe)a.__filtered=oe,K.__filtered=p;K.__read=p}return K},peek:function(a,i){return a[a.__index=i||a.__index||0]},remain:function(a){return a.length-(a.__index||0)},readList:function(a,i,f,Z){var V=[],g,F=i||0,z=Z?F+Z:a.length;for(var J=F;J<z;J++)V.push(Array.isArray(g=a[J])?this.read(g,0,f):this.read(a,J,f,1));return V},readNamed:function(a,i,f,Z,V){var g=this.getNamed(a,i),F=g!==p;if(F){var z=a.__filtered;if(!z){var J=this.getSource(a);z=a.__filtered=_.create(J),z.__unfiltered=J}z[i]=p}return this.read(F?[g]:a,f,Z,V)},readSupported:function(a,i){var f=this.getSource(a),Z=this,V=!1;if(f)Object.keys(f).forEach(function(g){if(g in i){var F=Z.readNamed(a,g);if(F!==p)i[g]=F;V=!0}});return V},getSource:function(a){var i=a.__source;if(i===p){var f=a.length===1&&a[0];i=a.__source=f&&_.isPlainObject(f)?f:null}return i},getNamed:function(a,i){var f=this.getSource(a);if(f)return i?f[i]:a.__filtered||f},hasNamed:function(a,i){return!!this.getNamed(a,i)},filter:function(a,i,f,Z){var V;function g(oe){if(!(f&&(oe in f))&&!(V&&(oe in V))){var Y=i[oe];if(Y!==p)a[oe]=Y}}if(Z){var F={};for(var z=0,J,K=Z.length;z<K;z++)if((J=Z[z])in i)g(J),F[J]=!0;V=F}return Object.keys(i.__unfiltered||i).forEach(g),a},isPlainValue:function(a,i){return _.isPlainObject(a)||Array.isArray(a)||i&&typeof a==="string"},serialize:function(a,i,f,Z){i=i||{};var V=!Z,g;if(V)i.formatter=new $(i.precision),Z={length:0,definitions:{},references:{},add:function(Y,G){var ne="#"+Y._id,A=this.references[ne];if(!A){this.length++;var re=G.call(Y),ke=Y._class;if(ke&&re[0]!==ke)re.unshift(ke);this.definitions[ne]=re,A=this.references[ne]=[ne]}return A}};if(a&&a._serialize){g=a._serialize(i,Z);var F=a._class;if(F&&!a._compactSerialize&&(V||!f)&&g[0]!==F)g.unshift(F)}else if(Array.isArray(a)){g=[];for(var z=0,J=a.length;z<J;z++)g[z]=_.serialize(a[z],i,f,Z)}else if(_.isPlainObject(a)){g={};var K=Object.keys(a);for(var z=0,J=K.length;z<J;z++){var oe=K[z];g[oe]=_.serialize(a[oe],i,f,Z)}}else if(typeof a==="number")g=i.formatter.number(a,i.precision);else g=a;return V&&Z.length>0?[["dictionary",Z.definitions],g]:g},deserialize:function(a,i,f,Z,V){var g=a,F=!f,z=F&&a&&a.length&&a[0][0]==="dictionary";if(f=f||{},Array.isArray(a)){var J=a[0],K=J==="dictionary";if(a.length==1&&/^#/.test(J))return f.dictionary[J];J=_.exports[J],g=[];for(var oe=J?1:0,Y=a.length;oe<Y;oe++)g.push(_.deserialize(a[oe],i,f,K,z));if(J){var G=g;if(i)g=i(J,G,F||V);else g=new J(G)}}else if(_.isPlainObject(a)){if(g={},Z)f.dictionary=g;for(var ne in a)g[ne]=_.deserialize(a[ne],i,f)}return z?g[1]:g},exportJSON:function(a,i){var f=_.serialize(a,i);return i&&i.asString==!1?f:JSON.stringify(f)},importJSON:function(a,i){return _.deserialize(typeof a==="string"?JSON.parse(a):a,function(f,Z,V){var g=V&&i&&i.constructor===f,F=g?i:_.create(f.prototype);if(Z.length===1&&F instanceof be&&(g||!(F instanceof ue))){var z=Z[0];if(_.isPlainObject(z)){if(z.insert=!1,g)Z=Z.concat([be.INSERT])}}if((g?F.set:f).apply(F,Z),g)i=null;return F})},push:function(a,i){var f=i.length;if(f<4096)a.push.apply(a,i);else{var Z=a.length;a.length+=f;for(var V=0;V<f;V++)a[Z+V]=i[V]}return a},splice:function(a,i,f,Z){var V=i&&i.length,g=f===p;if(f=g?a.length:f,f>a.length)f=a.length;for(var F=0;F<V;F++)i[F]._index=f+F;if(g)return _.push(a,i),[];else{var z=[f,Z];if(i)_.push(z,i);var J=a.splice.apply(a,z);for(var F=0,K=J.length;F<K;F++)J[F]._index=p;for(var F=f+V,K=a.length;F<K;F++)a[F]._index=F;return J}},capitalize:function(a){return a.replace(/\b[a-z]/g,function(i){return i.toUpperCase()})},camelize:function(a){return a.replace(/-(.)/g,function(i,f){return f.toUpperCase()})},hyphenate:function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var L={on:function(a,i){if(typeof a!=="string")_.each(a,function(g,F){this.on(F,g)},this);else{var f=this._eventTypes,Z=f&&f[a],V=this._callbacks=this._callbacks||{};if(V=V[a]=V[a]||[],V.indexOf(i)===-1){if(V.push(i),Z&&Z.install&&V.length===1)Z.install.call(this,a)}}return this},off:function(a,i){if(typeof a!=="string"){_.each(a,function(F,z){this.off(z,F)},this);return}var f=this._eventTypes,Z=f&&f[a],V=this._callbacks&&this._callbacks[a],g;if(V){if(!i||(g=V.indexOf(i))!==-1&&V.length===1){if(Z&&Z.uninstall)Z.uninstall.call(this,a);delete this._callbacks[a]}else if(g!==-1)V.splice(g,1)}return this},once:function(a,i){return this.on(a,function f(){i.apply(this,arguments),this.off(a,f)})},emit:function(a,i){var f=this._callbacks&&this._callbacks[a];if(!f)return!1;var Z=_.slice(arguments,1),V=i&&i.target&&!i.currentTarget;if(f=f.slice(),V)i.currentTarget=this;for(var g=0,F=f.length;g<F;g++)if(f[g].apply(this,Z)==!1){if(i&&i.stop)i.stop();break}if(V)delete i.currentTarget;return!0},responds:function(a){return!!(this._callbacks&&this._callbacks[a])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(a){var i=this._eventTypes,f=this._callbacks,Z=a?"install":"uninstall";if(i){for(var V in f)if(f[V].length>0){var g=i[V],F=g&&g[Z];if(F)F.call(this,V)}}},statics:{inject:function a(i){var f=i._events;if(f){var Z={};_.each(f,function(V,g){var F=typeof V==="string",z=F?V:g,J=_.capitalize(z),K=z.substring(2).toLowerCase();Z[K]=F?{}:V,z="_"+z,i["get"+J]=function(){return this[z]},i["set"+J]=function(oe){var Y=this[z];if(Y)this.off(K,Y);if(oe)this.on(K,oe);this[z]=oe}}),i._eventTypes=Z}return a.base.apply(this,arguments)}}},y=_.extend({_class:"PaperScope",initialize:function a(){U=this,this.settings=new _({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=a._id++,a._scopes[this._id]=this;var i=a.prototype;if(!this.support){var f=Qe.getContext(1,1)||{};i.support={nativeDash:"setLineDash"in f||"mozDash"in f,nativeBlendModes:Je.nativeModes},Qe.release(f)}if(!this.agent){var Z=N.navigator.userAgent.toLowerCase(),V=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(Z)||[])[0],g=V==="darwin"?"mac":V,F=i.agent=i.browser={platform:g};if(g)F[g]=!0;if(Z.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(z,J,K,oe,Y){if(!F.chrome){var G=J==="opera"?oe:/^(node|trident)$/.test(J)?Y:K;F.version=G,F.versionNumber=parseFloat(G),J={trident:"msie",jsdom:"node"}[J]||J,F.name=J,F[J]=!0}}),F.chrome)delete F.webkit;if(F.atom)delete F.chrome}},version:"0.12.18",getView:function(){var a=this.project;return a&&a._view},getPaper:function(){return this},execute:function(a,i){},install:function(a){var i=this;_.each(["project","view","tool"],function(Z){_.define(a,Z,{configurable:!0,get:function(){return i[Z]}})});for(var f in this)if(!/^_/.test(f)&&this[f])a[f]=this[f]},setup:function(a){return U=this,this.project=new ce(a),this},createCanvas:function(a,i){return Qe.getCanvas(a,i)},activate:function(){U=this},clear:function(){var a=this.projects,i=this.tools;for(var f=a.length-1;f>=0;f--)a[f].remove();for(var f=i.length-1;f>=0;f--)i[f].remove()},remove:function(){this.clear(),delete y._scopes[this._id]},statics:new function(){function a(i){return i+="Attribute",function(f,Z){return f[i](Z)||f[i]("data-paper-"+Z)}}return{_scopes:{},_id:0,get:function(i){return this._scopes[i]||null},getAttribute:a("get"),hasAttribute:a("has")}}}),R=_.extend(L,{initialize:function(a){if(this._scope=U,this._index=this._scope[this._list].push(this)-1,a||!this._scope[this._reference])this.activate()},activate:function(){if(!this._scope)return!1;var a=this._scope[this._reference];if(a&&a!==this)a.emit("deactivate");return this._scope[this._reference]=this,this.emit("activate",a),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){if(this._index==null)return!1;if(_.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this)this._scope[this._reference]=null;return this._scope=null,!0},getView:function(){return this._scope.getView()}}),v={findItemBoundsCollisions:function(a,i,f){function Z(F){var z=new Array(F.length);for(var J=0;J<F.length;J++){var K=F[J].getBounds();z[J]=[K.left,K.top,K.right,K.bottom]}return z}var V=Z(a),g=!i||i===a?V:Z(i);return this.findBoundsCollisions(V,g,f||0)},findCurveBoundsCollisions:function(a,i,f,Z){function V(G){var{min:ne,max:A}=Math,re=new Array(G.length);for(var ke=0;ke<G.length;ke++){var ee=G[ke];re[ke]=[ne(ee[0],ee[2],ee[4],ee[6]),ne(ee[1],ee[3],ee[5],ee[7]),A(ee[0],ee[2],ee[4],ee[6]),A(ee[1],ee[3],ee[5],ee[7])]}return re}var g=V(a),F=!i||i===a?g:V(i);if(Z){var z=this.findBoundsCollisions(g,F,f||0,!1,!0),J=this.findBoundsCollisions(g,F,f||0,!0,!0),K=[];for(var oe=0,Y=z.length;oe<Y;oe++)K[oe]={hor:z[oe],ver:J[oe]};return K}return this.findBoundsCollisions(g,F,f||0)},findBoundsCollisions:function(a,i,f,Z,V){var g=!i||a===i,F=g?a:a.concat(i),z=a.length,J=F.length;function K(Ke,Ee,De){var Ge=0,Ce=Ke.length;while(Ge<Ce){var He=Ce+Ge>>>1;if(F[Ke[He]][Ee]<De)Ge=He+1;else Ce=He}return Ge-1}var oe=Z?1:0,Y=oe+2,G=Z?0:1,ne=G+2,A=new Array(J);for(var re=0;re<J;re++)A[re]=re;A.sort(function(Ke,Ee){return F[Ke][oe]-F[Ee][oe]});var ke=[],ee=new Array(z);for(var re=0;re<J;re++){var ae=A[re],se=F[ae],Q=g?ae:ae-z,le=ae<z,fe=g||!le,me=le?[]:null;if(ke.length){var de=K(ke,Y,se[oe]-f)+1;if(ke.splice(0,de),g&&V){me=me.concat(ke);for(var Oe=0;Oe<ke.length;Oe++){var _e=ke[Oe];ee[_e].push(Q)}}else{var ve=se[ne],Xe=se[G];for(var Oe=0;Oe<ke.length;Oe++){var _e=ke[Oe],ye=F[_e],Ze=_e<z,we=g||_e>=z;if(V||(le&&we||fe&&Ze)&&(ve>=ye[G]-f&&Xe<=ye[ne]+f)){if(le&&we)me.push(g?_e:_e-z);if(fe&&Ze)ee[_e].push(Q)}}}}if(le){if(a===i)me.push(ae);ee[ae]=me}if(ke.length){var Me=se[Y],Ue=K(ke,Y,Me);ke.splice(Ue+1,0,ae)}else ke.push(ae)}for(var re=0;re<ee.length;re++){var ze=ee[re];if(ze)ze.sort(function(Ee,De){return Ee-De})}return ee}},$=_.extend({initialize:function(a){this.precision=_.pick(a,5),this.multiplier=Math.pow(10,this.precision)},number:function(a){return this.precision<16?Math.round(a*this.multiplier)/this.multiplier:a},pair:function(a,i,f){return this.number(a)+(f||",")+this.number(i)},point:function(a,i){return this.number(a.x)+(i||",")+this.number(a.y)},size:function(a,i){return this.number(a.width)+(i||",")+this.number(a.height)},rectangle:function(a,i){return this.point(a,i)+(i||",")+this.size(a,i)}});$.instance=new $;var M=new function(){var a=[[0.5773502691896257],[0,0.7745966692414834],[0.33998104358485626,0.8611363115940526],[0,0.5384693101056831,0.906179845938664],[0.2386191860831969,0.6612093864662645,0.932469514203152],[0,0.4058451513773972,0.7415311855993945,0.9491079123427585],[0.1834346424956498,0.525532409916329,0.7966664774136267,0.9602898564975363],[0,0.3242534234038089,0.6133714327005904,0.8360311073266358,0.9681602395076261],[0.14887433898163122,0.4333953941292472,0.6794095682990244,0.8650633666889845,0.9739065285171717],[0,0.26954315595234496,0.5190961292068118,0.7301520055740494,0.8870625997680953,0.978228658146057],[0.1252334085114689,0.3678314989981802,0.5873179542866175,0.7699026741943047,0.9041172563704749,0.9815606342467192],[0,0.2304583159551348,0.44849275103644687,0.6423493394403402,0.8015780907333099,0.9175983992229779,0.9841830547185881],[0.10805494870734367,0.31911236892788974,0.5152486363581541,0.6872929048116855,0.827201315069765,0.9284348836635735,0.9862838086968123],[0,0.20119409399743451,0.3941513470775634,0.5709721726085388,0.7244177313601701,0.8482065834104272,0.937273392400706,0.9879925180204854],[0.09501250983763744,0.2816035507792589,0.45801677765722737,0.6178762444026438,0.755404408355003,0.8656312023878318,0.9445750230732326,0.9894009349916499]],i=[[1],[0.8888888888888888,0.5555555555555556],[0.6521451548625461,0.34785484513745385],[0.5688888888888889,0.47862867049936647,0.23692688505618908],[0.46791393457269104,0.3607615730481386,0.17132449237917036],[0.4179591836734694,0.3818300505051189,0.27970539148927664,0.1294849661688697],[0.362683783378362,0.31370664587788727,0.22238103445337448,0.10122853629037626],[0.3302393550012598,0.31234707704000286,0.26061069640293544,0.1806481606948574,0.08127438836157441],[0.29552422471475287,0.26926671930999635,0.21908636251598204,0.1494513491505806,0.06667134430868814],[0.2729250867779006,0.26280454451024665,0.23319376459199048,0.18629021092773426,0.1255803694649046,0.05566856711617366],[0.24914704581340277,0.2334925365383548,0.20316742672306592,0.16007832854334622,0.10693932599531843,0.04717533638651183],[0.2325515532308739,0.22628318026289723,0.2078160475368885,0.17814598076194574,0.13887351021978725,0.09212149983772845,0.04048400476531588],[0.2152638534631578,0.2051984637212956,0.18553839747793782,0.15720316715819355,0.12151857068790319,0.08015808715976021,0.03511946033175186],[0.2025782419255613,0.19843148532711158,0.1861610000155622,0.16626920581699392,0.13957067792615432,0.10715922046717194,0.07036604748810812,0.03075324199611727],[0.1894506104550685,0.18260341504492358,0.16915651939500254,0.14959598881657674,0.12462897125553388,0.09515851168249279,0.062253523938647894,0.027152459411754096]],f=Math.abs,Z=Math.sqrt,V=Math.pow,g=Math.log2||function(Y){return Math.log(Y)*Math.LOG2E},F=0.000000000001,z=0.000000000000000112;function J(Y,G,ne){return Y<G?G:Y>ne?ne:Y}function K(Y,G,ne){function A(de){var Oe=de*134217729,_e=de-Oe,ve=_e+Oe,Xe=de-ve;return[ve,Xe]}var re=G*G-Y*ne,ke=G*G+Y*ne;if(f(re)*3<ke){var ee=A(Y),ae=A(G),se=A(ne),Q=G*G,le=ae[0]*ae[0]-Q+2*ae[0]*ae[1]+ae[1]*ae[1],fe=Y*ne,me=ee[0]*se[0]-fe+ee[0]*se[1]+ee[1]*se[0]+ee[1]*se[1];re=Q-fe+(le-me)}return re}function oe(){var Y=Math.max.apply(Math,arguments);return Y&&(Y<0.00000001||Y>1e8)?V(2,-Math.round(g(Y))):0}return{EPSILON:F,MACHINE_EPSILON:z,CURVETIME_EPSILON:0.00000001,GEOMETRIC_EPSILON:0.0000001,TRIGONOMETRIC_EPSILON:0.00000001,ANGULAR_EPSILON:0.00001,KAPPA:4*(Z(2)-1)/3,isZero:function(Y){return Y>=-F&&Y<=F},isMachineZero:function(Y){return Y>=-z&&Y<=z},clamp:J,integrate:function(Y,G,ne,A){var re=a[A-2],ke=i[A-2],ee=(ne-G)*0.5,ae=ee+G,se=0,Q=A+1>>1,le=A&1?ke[se++]*Y(ae):0;while(se<Q){var fe=ee*re[se];le+=ke[se++]*(Y(ae+fe)+Y(ae-fe))}return ee*le},findRoot:function(Y,G,ne,A,re,ke,ee){for(var ae=0;ae<ke;ae++){var se=Y(ne),Q=se/G(ne),le=ne-Q;if(f(Q)<ee){ne=le;break}if(se>0)re=ne,ne=le<=A?(A+re)*0.5:le;else A=ne,ne=le>=re?(A+re)*0.5:le}return J(ne,A,re)},solveQuadratic:function(Y,G,ne,A,re,ke){var ee,ae=1/0;if(f(Y)<F){if(f(G)<F)return f(ne)<F?-1:0;ee=-ne/G}else{G*=-0.5;var se=K(Y,G,ne);if(se&&f(se)<z){var Q=oe(f(Y),f(G),f(ne));if(Q)Y*=Q,G*=Q,ne*=Q,se=K(Y,G,ne)}if(se>=-z){var le=se<0?0:Z(se),fe=G+(G<0?-le:le);if(fe===0)ee=ne/Y,ae=-ee;else ee=fe/Y,ae=ne/fe}}var me=0,de=re==null,Oe=re-F,_e=ke+F;if(isFinite(ee)&&(de||ee>Oe&&ee<_e))A[me++]=de?ee:J(ee,re,ke);if(ae!==ee&&isFinite(ae)&&(de||ae>Oe&&ae<_e))A[me++]=de?ae:J(ae,re,ke);return me},solveCubic:function(Y,G,ne,A,re,ke,ee){var ae=oe(f(Y),f(G),f(ne),f(A)),se,Q,le,fe,me;if(ae)Y*=ae,G*=ae,ne*=ae,A*=ae;function de(Ue){se=Ue;var ze=Y*se;Q=ze+G,le=Q*se+ne,fe=(ze+Q)*se+le,me=le*se+A}if(f(Y)<F)Y=G,Q=ne,le=A,se=1/0;else if(f(A)<F)Q=G,le=ne,se=0;else{de(-(G/Y)/3);var Oe=me/Y,_e=V(f(Oe),0.3333333333333333),ve=Oe<0?-1:1,Xe=-fe/Y,ye=Xe>0?1.324717957244746*Math.max(_e,Z(Xe)):_e,Ze=se-ve*ye;if(Ze!==se){do de(Ze),Ze=fe===0?se:se-me/fe/(1+z);while(ve*Ze>ve*se);if(f(Y)*se*se>f(A/se))le=-A/se,Q=(le-ne)/se}}var we=M.solveQuadratic(Y,Q,le,re,ke,ee),Me=ke==null;if(isFinite(se)&&(we===0||we>0&&se!==re[0]&&se!==re[1])&&(Me||se>ke-F&&se<ee+F))re[we++]=Me?se:J(se,ke,ee);return we}}},T={_id:1,_pools:{},get:function(a){if(a){var i=this._pools[a];if(!i)i=this._pools[a]={_id:1};return i._id++}else return this._id++}},q=_.extend({_class:"Point",_readIndex:!0,initialize:function a(i,f){var Z=typeof i,V=this.__read,g=0;if(Z==="number"){var F=typeof f==="number";if(this._set(i,F?f:i),V)g=F?2:1}else if(Z==="undefined"||i===null){if(this._set(0,0),V)g=i===null?1:0}else{var z=Z==="string"?i.split(/[\s,]+/)||[]:i;if(g=1,Array.isArray(z))this._set(+z[0],+(z.length>1?z[1]:z[0]));else if("x"in z)this._set(z.x||0,z.y||0);else if("width"in z)this._set(z.width||0,z.height||0);else if("angle"in z)this._set(z.length||0,0),this.setAngle(z.angle||0);else this._set(0,0),g=0}if(V)this.__read=g;return this},set:"#initialize",_set:function(a,i){return this.x=a,this.y=i,this},equals:function(a){return this===a||a&&(this.x===a.x&&this.y===a.y||Array.isArray(a)&&this.x===a[0]&&this.y===a[1])||!1},clone:function(){return new q(this.x,this.y)},toString:function(){var a=$.instance;return"{ x: "+a.number(this.x)+", y: "+a.number(this.y)+" }"},_serialize:function(a){var i=a.formatter;return[i.number(this.x),i.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(a){if(this.isZero()){var i=this._angle||0;this._set(Math.cos(i)*a,Math.sin(i)*a)}else{var f=a/this.getLength();if(M.isZero(f))this.getAngle();this._set(this.x*f,this.y*f)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(a){this.setAngleInRadians.call(this,a*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(!arguments.length)return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);else{var a=q.read(arguments),i=this.getLength()*a.getLength();if(M.isZero(i))return NaN;else{var f=this.dot(a)/i;return Math.acos(f<-1?-1:f>1?1:f)}}},setAngleInRadians:function(a){if(this._angle=a,!this.isZero()){var i=this.getLength();this._set(Math.cos(a)*i,Math.sin(a)*i)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var a=q.read(arguments);return Math.atan2(this.cross(a),this.dot(a))*180/Math.PI},getDistance:function(){var a=arguments,i=q.read(a),f=i.x-this.x,Z=i.y-this.y,V=f*f+Z*Z,g=_.read(a);return g?V:Math.sqrt(V)},normalize:function(a){if(a===p)a=1;var i=this.getLength(),f=i!==0?a/i:0,Z=new q(this.x*f,this.y*f);if(f>=0)Z._angle=this._angle;return Z},rotate:function(a,i){if(a===0)return this.clone();a=a*Math.PI/180;var f=i?this.subtract(i):this,Z=Math.sin(a),V=Math.cos(a);return f=new q(f.x*V-f.y*Z,f.x*Z+f.y*V),i?f.add(i):f},transform:function(a){return a?a._transformPoint(this):this},add:function(){var a=q.read(arguments);return new q(this.x+a.x,this.y+a.y)},subtract:function(){var a=q.read(arguments);return new q(this.x-a.x,this.y-a.y)},multiply:function(){var a=q.read(arguments);return new q(this.x*a.x,this.y*a.y)},divide:function(){var a=q.read(arguments);return new q(this.x/a.x,this.y/a.y)},modulo:function(){var a=q.read(arguments);return new q(this.x%a.x,this.y%a.y)},negate:function(){return new q(-this.x,-this.y)},isInside:function(){return S.read(arguments).contains(this)},isClose:function(){var a=arguments,i=q.read(a),f=_.read(a);return this.getDistance(i)<=f},isCollinear:function(){var a=q.read(arguments);return q.isCollinear(this.x,this.y,a.x,a.y)},isColinear:"#isCollinear",isOrthogonal:function(){var a=q.read(arguments);return q.isOrthogonal(this.x,this.y,a.x,a.y)},isZero:function(){var a=M.isZero;return a(this.x)&&a(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(a){return this.x*(a>1&&a<4?-1:1)>=0&&this.y*(a>2?-1:1)>=0},dot:function(){var a=q.read(arguments);return this.x*a.x+this.y*a.y},cross:function(){var a=q.read(arguments);return this.x*a.y-this.y*a.x},project:function(){var a=q.read(arguments),i=a.isZero()?0:this.dot(a)/a.dot(a);return new q(a.x*i,a.y*i)},statics:{min:function(){var a=arguments,i=q.read(a),f=q.read(a);return new q(Math.min(i.x,f.x),Math.min(i.y,f.y))},max:function(){var a=arguments,i=q.read(a),f=q.read(a);return new q(Math.max(i.x,f.x),Math.max(i.y,f.y))},random:function(){return new q(Math.random(),Math.random())},isCollinear:function(a,i,f,Z){return Math.abs(a*Z-i*f)<=Math.sqrt((a*a+i*i)*(f*f+Z*Z))*0.00000001},isOrthogonal:function(a,i,f,Z){return Math.abs(a*f+i*Z)<=Math.sqrt((a*a+i*i)*(f*f+Z*Z))*0.00000001}}},_.each(["round","ceil","floor","abs"],function(a){var i=Math[a];this[a]=function(){return new q(i(this.x),i(this.y))}},{})),X=q.extend({initialize:function a(i,f,Z,V){this._x=i,this._y=f,this._owner=Z,this._setter=V},_set:function(a,i,f){if(this._x=a,this._y=i,!f)this._owner[this._setter](this);return this},getX:function(){return this._x},setX:function(a){this._x=a,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(a){this._y=a,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(a){this._owner._changeSelection(this._getSelection(),a)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),j=_.extend({_class:"Size",_readIndex:!0,initialize:function a(i,f){var Z=typeof i,V=this.__read,g=0;if(Z==="number"){var F=typeof f==="number";if(this._set(i,F?f:i),V)g=F?2:1}else if(Z==="undefined"||i===null){if(this._set(0,0),V)g=i===null?1:0}else{var z=Z==="string"?i.split(/[\s,]+/)||[]:i;if(g=1,Array.isArray(z))this._set(+z[0],+(z.length>1?z[1]:z[0]));else if("width"in z)this._set(z.width||0,z.height||0);else if("x"in z)this._set(z.x||0,z.y||0);else this._set(0,0),g=0}if(V)this.__read=g;return this},set:"#initialize",_set:function(a,i){return this.width=a,this.height=i,this},equals:function(a){return a===this||a&&(this.width===a.width&&this.height===a.height||Array.isArray(a)&&this.width===a[0]&&this.height===a[1])||!1},clone:function(){return new j(this.width,this.height)},toString:function(){var a=$.instance;return"{ width: "+a.number(this.width)+", height: "+a.number(this.height)+" }"},_serialize:function(a){var i=a.formatter;return[i.number(this.width),i.number(this.height)]},add:function(){var a=j.read(arguments);return new j(this.width+a.width,this.height+a.height)},subtract:function(){var a=j.read(arguments);return new j(this.width-a.width,this.height-a.height)},multiply:function(){var a=j.read(arguments);return new j(this.width*a.width,this.height*a.height)},divide:function(){var a=j.read(arguments);return new j(this.width/a.width,this.height/a.height)},modulo:function(){var a=j.read(arguments);return new j(this.width%a.width,this.height%a.height)},negate:function(){return new j(-this.width,-this.height)},isZero:function(){var a=M.isZero;return a(this.width)&&a(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(a,i){return new j(Math.min(a.width,i.width),Math.min(a.height,i.height))},max:function(a,i){return new j(Math.max(a.width,i.width),Math.max(a.height,i.height))},random:function(){return new j(Math.random(),Math.random())}}},_.each(["round","ceil","floor","abs"],function(a){var i=Math[a];this[a]=function(){return new j(i(this.width),i(this.height))}},{})),I=j.extend({initialize:function a(i,f,Z,V){this._width=i,this._height=f,this._owner=Z,this._setter=V},_set:function(a,i,f){if(this._width=a,this._height=i,!f)this._owner[this._setter](this);return this},getWidth:function(){return this._width},setWidth:function(a){this._width=a,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(a){this._height=a,this._owner[this._setter](this)}}),S=_.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function a(i,f,Z,V){var g=arguments,F=typeof i,z;if(F==="number")this._set(i,f,Z,V),z=4;else if(F==="undefined"||i===null)this._set(0,0,0,0),z=i===null?1:0;else if(g.length===1){if(Array.isArray(i))this._set.apply(this,i),z=1;else if(i.x!==p||i.width!==p)this._set(i.x||0,i.y||0,i.width||0,i.height||0),z=1;else if(i.from===p&&i.to===p){if(this._set(0,0,0,0),_.readSupported(g,this))z=1}}if(z===p){var J=q.readNamed(g,"from"),K=_.peek(g),oe=J.x,Y=J.y,G,ne;if(K&&K.x!==p||_.hasNamed(g,"to")){var A=q.readNamed(g,"to");if(G=A.x-oe,ne=A.y-Y,G<0)oe=A.x,G=-G;if(ne<0)Y=A.y,ne=-ne}else{var re=j.read(g);G=re.width,ne=re.height}this._set(oe,Y,G,ne),z=g.__index}var ke=g.__filtered;if(ke)this.__filtered=ke;if(this.__read)this.__read=z;return this},set:"#initialize",_set:function(a,i,f,Z){return this.x=a,this.y=i,this.width=f,this.height=Z,this},clone:function(){return new S(this.x,this.y,this.width,this.height)},equals:function(a){var i=_.isPlainValue(a)?S.read(arguments):a;return i===this||i&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height||!1},toString:function(){var a=$.instance;return"{ x: "+a.number(this.x)+", y: "+a.number(this.y)+", width: "+a.number(this.width)+", height: "+a.number(this.height)+" }"},_serialize:function(a){var i=a.formatter;return[i.number(this.x),i.number(this.y),i.number(this.width),i.number(this.height)]},getPoint:function(a){var i=a?q:X;return new i(this.x,this.y,this,"setPoint")},setPoint:function(){var a=q.read(arguments);this.x=a.x,this.y=a.y},getSize:function(a){var i=a?j:I;return new i(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var a=j.read(arguments),i=this._sx,f=this._sy,Z=a.width,V=a.height;if(i)this.x+=(this.width-Z)*i;if(f)this.y+=(this.height-V)*f;this.width=Z,this.height=V,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(a){if(!this._fw){var i=a-this.x;this.width-=this._sx===0.5?i*2:i}this.x=a,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(a){if(!this._fh){var i=a-this.y;this.height-=this._sy===0.5?i*2:i}this.y=a,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(a){if(!this._fw){var i=a-this.x;this.width=this._sx===0.5?i*2:i}this.x=a-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(a){if(!this._fh){var i=a-this.y;this.height=this._sy===0.5?i*2:i}this.y=a-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(a){if(this._fw||this._sx===0.5)this.x=a-this.width/2;else{if(this._sx)this.x+=(a-this.x)*2*this._sx;this.width=(a-this.x)*2}this._sx=0.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(a){if(this._fh||this._sy===0.5)this.y=a-this.height/2;else{if(this._sy)this.y+=(a-this.y)*2*this._sy;this.height=(a-this.y)*2}this._sy=0.5,this._fh=0},getCenter:function(a){var i=a?q:X;return new i(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var a=q.read(arguments);return this.setCenterX(a.x),this.setCenterY(a.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(a){return a&&a.width!==p||(Array.isArray(a)?a:arguments).length===4?this._containsRectangle(S.read(arguments)):this._containsPoint(q.read(arguments))},_containsPoint:function(a){var{x:i,y:f}=a;return i>=this.x&&f>=this.y&&i<=this.x+this.width&&f<=this.y+this.height},_containsRectangle:function(a){var{x:i,y:f}=a;return i>=this.x&&f>=this.y&&i+a.width<=this.x+this.width&&f+a.height<=this.y+this.height},intersects:function(){var a=S.read(arguments),i=_.read(arguments)||0;return a.x+a.width>this.x-i&&a.y+a.height>this.y-i&&a.x<this.x+this.width+i&&a.y<this.y+this.height+i},intersect:function(){var a=S.read(arguments),i=Math.max(this.x,a.x),f=Math.max(this.y,a.y),Z=Math.min(this.x+this.width,a.x+a.width),V=Math.min(this.y+this.height,a.y+a.height);return new S(i,f,Z-i,V-f)},unite:function(){var a=S.read(arguments),i=Math.min(this.x,a.x),f=Math.min(this.y,a.y),Z=Math.max(this.x+this.width,a.x+a.width),V=Math.max(this.y+this.height,a.y+a.height);return new S(i,f,Z-i,V-f)},include:function(){var a=q.read(arguments),i=Math.min(this.x,a.x),f=Math.min(this.y,a.y),Z=Math.max(this.x+this.width,a.x),V=Math.max(this.y+this.height,a.y);return new S(i,f,Z-i,V-f)},expand:function(){var a=j.read(arguments),i=a.width,f=a.height;return new S(this.x-i/2,this.y-f/2,this.width+i,this.height+f)},scale:function(a,i){return this.expand(this.width*a-this.width,this.height*(i===p?a:i)-this.height)}},_.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(a,i){var f=a.join(""),Z=/^[RL]/.test(f);if(i>=4)a[1]+=Z?"Y":"X";var V=a[Z?0:1],g=a[Z?1:0],F="get"+V,z="get"+g,J="set"+V,K="set"+g,oe="get"+f,Y="set"+f;this[oe]=function(G){var ne=G?q:X;return new ne(this[F](),this[z](),this,Y)},this[Y]=function(){var G=q.read(arguments);this[J](G.x),this[K](G.y)}},{beans:!0})),E=S.extend({initialize:function a(i,f,Z,V,g,F){this._set(i,f,Z,V,!0),this._owner=g,this._setter=F},_set:function(a,i,f,Z,V){if(this._x=a,this._y=i,this._width=f,this._height=Z,!V)this._owner[this._setter](this);return this}},new function(){var a=S.prototype;return _.each(["x","y","width","height"],function(i){var f=_.capitalize(i),Z="_"+i;this["get"+f]=function(){return this[Z]},this["set"+f]=function(V){if(this[Z]=V,!this._dontNotify)this._owner[this._setter](this)}},_.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(i){var f="set"+i;this[f]=function(){this._dontNotify=!0,a[f].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(i){var f=this._owner;if(f._changeSelection)f._changeSelection(2,i)}}))}),D=_.extend({_class:"Matrix",initialize:function a(i,f){var Z=arguments,V=Z.length,g=!0;if(V>=6)this._set.apply(this,Z);else if(V===1||V===2)if(i instanceof a)this._set(i._a,i._b,i._c,i._d,i._tx,i._ty,f);else if(Array.isArray(i))this._set.apply(this,f?i.concat([f]):i);else g=!1;else if(!V)this.reset();else g=!1;if(!g)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(a,i,f,Z,V,g,F){if(this._a=a,this._b=i,this._c=f,this._d=Z,this._tx=V,this._ty=g,!F)this._changed();return this},_serialize:function(a,i){return _.serialize(this.getValues(),a,!0,i)},_changed:function(){var a=this._owner;if(a)if(a._applyMatrix)a.transform(null,!0);else a._changed(25)},clone:function(){return new D(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(a){return a===this||a&&this._a===a._a&&this._b===a._b&&this._c===a._c&&this._d===a._d&&this._tx===a._tx&&this._ty===a._ty},toString:function(){var a=$.instance;return"[["+[a.number(this._a),a.number(this._c),a.number(this._tx)].join(", ")+"], ["+[a.number(this._b),a.number(this._d),a.number(this._ty)].join(", ")+"]]"},reset:function(a){if(this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,!a)this._changed();return this},apply:function(a,i){var f=this._owner;if(f)return f.transform(null,_.pick(a,!0),i),this.isIdentity();return!1},translate:function(){var a=q.read(arguments),i=a.x,f=a.y;return this._tx+=i*this._a+f*this._c,this._ty+=i*this._b+f*this._d,this._changed(),this},scale:function(){var a=arguments,i=q.read(a),f=q.read(a,0,{readNull:!0});if(f)this.translate(f);if(this._a*=i.x,this._b*=i.x,this._c*=i.y,this._d*=i.y,f)this.translate(f.negate());return this._changed(),this},rotate:function(a){a*=Math.PI/180;var i=q.read(arguments,1),f=i.x,Z=i.y,V=Math.cos(a),g=Math.sin(a),F=f-f*V+Z*g,z=Z-f*g-Z*V,J=this._a,K=this._b,oe=this._c,Y=this._d;return this._a=V*J+g*oe,this._b=V*K+g*Y,this._c=-g*J+V*oe,this._d=-g*K+V*Y,this._tx+=F*J+z*oe,this._ty+=F*K+z*Y,this._changed(),this},shear:function(){var a=arguments,i=q.read(a),f=q.read(a,0,{readNull:!0});if(f)this.translate(f);var Z=this._a,V=this._b;if(this._a+=i.y*this._c,this._b+=i.y*this._d,this._c+=i.x*Z,this._d+=i.x*V,f)this.translate(f.negate());return this._changed(),this},skew:function(){var a=arguments,i=q.read(a),f=q.read(a,0,{readNull:!0}),Z=Math.PI/180,V=new q(Math.tan(i.x*Z),Math.tan(i.y*Z));return this.shear(V,f)},append:function(a,i){if(a){var f=this._a,Z=this._b,V=this._c,g=this._d,F=a._a,z=a._c,J=a._b,K=a._d,oe=a._tx,Y=a._ty;if(this._a=F*f+J*V,this._c=z*f+K*V,this._b=F*Z+J*g,this._d=z*Z+K*g,this._tx+=oe*f+Y*V,this._ty+=oe*Z+Y*g,!i)this._changed()}return this},prepend:function(a,i){if(a){var f=this._a,Z=this._b,V=this._c,g=this._d,F=this._tx,z=this._ty,J=a._a,K=a._c,oe=a._b,Y=a._d,G=a._tx,ne=a._ty;if(this._a=J*f+K*Z,this._c=J*V+K*g,this._b=oe*f+Y*Z,this._d=oe*V+Y*g,this._tx=J*F+K*z+G,this._ty=oe*F+Y*z+ne,!i)this._changed()}return this},appended:function(a){return this.clone().append(a)},prepended:function(a){return this.clone().prepend(a)},invert:function(){var a=this._a,i=this._b,f=this._c,Z=this._d,V=this._tx,g=this._ty,F=a*Z-i*f,z=null;if(F&&!isNaN(F)&&isFinite(V)&&isFinite(g))this._a=Z/F,this._b=-i/F,this._c=-f/F,this._d=a/F,this._tx=(f*g-Z*V)/F,this._ty=(i*V-a*g)/F,z=this;return z},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new D(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var a=this._a*this._d-this._c*this._b;return a&&!isNaN(a)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(a,i,f){return arguments.length<3?this._transformPoint(q.read(arguments)):this._transformCoordinates(a,i,f)},_transformPoint:function(a,i,f){var{x:Z,y:V}=a;if(!i)i=new q;return i._set(Z*this._a+V*this._c+this._tx,Z*this._b+V*this._d+this._ty,f)},_transformCoordinates:function(a,i,f){for(var Z=0,V=2*f;Z<V;Z+=2){var g=a[Z],F=a[Z+1];i[Z]=g*this._a+F*this._c+this._tx,i[Z+1]=g*this._b+F*this._d+this._ty}return i},_transformCorners:function(a){var{x:i,y:f}=a,Z=i+a.width,V=f+a.height,g=[i,f,Z,f,Z,V,i,V];return this._transformCoordinates(g,g,4)},_transformBounds:function(a,i,f){var Z=this._transformCorners(a),V=Z.slice(0,2),g=V.slice();for(var F=2;F<8;F++){var z=Z[F],J=F&1;if(z<V[J])V[J]=z;else if(z>g[J])g[J]=z}if(!i)i=new S;return i._set(V[0],V[1],g[0]-V[0],g[1]-V[1],f)},inverseTransform:function(){return this._inverseTransform(q.read(arguments))},_inverseTransform:function(a,i,f){var Z=this._a,V=this._b,g=this._c,F=this._d,z=this._tx,J=this._ty,K=Z*F-V*g,oe=null;if(K&&!isNaN(K)&&isFinite(z)&&isFinite(J)){var Y=a.x-this._tx,G=a.y-this._ty;if(!i)i=new q;oe=i._set((Y*F-G*g)/K,(G*Z-Y*V)/K,f)}return oe},decompose:function(){var a=this._a,i=this._b,f=this._c,Z=this._d,V=a*Z-i*f,g=Math.sqrt,F=Math.atan2,z=180/Math.PI,J,K,oe;if(a!==0||i!==0){var Y=g(a*a+i*i);J=Math.acos(a/Y)*(i>0?1:-1),K=[Y,V/Y],oe=[F(a*f+i*Z,Y*Y),0]}else if(f!==0||Z!==0){var G=g(f*f+Z*Z);J=Math.asin(f/G)*(Z>0?1:-1),K=[V/G,G],oe=[0,F(a*f+i*Z,G*G)]}else J=0,oe=K=[0,0];return{translation:this.getTranslation(),rotation:J*z,scaling:new q(K),skewing:new q(oe[0]*z,oe[1]*z)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new q(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(a){if(!this.isIdentity())a.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},_.each(["a","b","c","d","tx","ty"],function(a){var i=_.capitalize(a),f="_"+a;this["get"+i]=function(){return this[f]},this["set"+i]=function(Z){this[f]=Z,this._changed()}},{})),C=_.extend({_class:"Line",initialize:function a(i,f,Z,V,g){var F=!1;if(arguments.length>=4)this._px=i,this._py=f,this._vx=Z,this._vy=V,F=g;else this._px=i.x,this._py=i.y,this._vx=f.x,this._vy=f.y,F=Z;if(!F)this._vx-=this._px,this._vy-=this._py},getPoint:function(){return new q(this._px,this._py)},getVector:function(){return new q(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(a,i){return C.intersect(this._px,this._py,this._vx,this._vy,a._px,a._py,a._vx,a._vy,!0,i)},getSide:function(a,i){return C.getSide(this._px,this._py,this._vx,this._vy,a.x,a.y,!0,i)},getDistance:function(a){return Math.abs(this.getSignedDistance(a))},getSignedDistance:function(a){return C.getSignedDistance(this._px,this._py,this._vx,this._vy,a.x,a.y,!0)},isCollinear:function(a){return q.isCollinear(this._vx,this._vy,a._vx,a._vy)},isOrthogonal:function(a){return q.isOrthogonal(this._vx,this._vy,a._vx,a._vy)},statics:{intersect:function(a,i,f,Z,V,g,F,z,J,K){if(!J)f-=a,Z-=i,F-=V,z-=g;var oe=f*z-Z*F;if(!M.isMachineZero(oe)){var Y=a-V,G=i-g,ne=(F*G-z*Y)/oe,A=(f*G-Z*Y)/oe,re=0.000000000001,ke=-re,ee=1+re;if(K||ke<ne&&ne<ee&&ke<A&&A<ee){if(!K)ne=ne<=0?0:ne>=1?1:ne;return new q(a+ne*f,i+ne*Z)}}},getSide:function(a,i,f,Z,V,g,F,z){if(!F)f-=a,Z-=i;var J=V-a,K=g-i,oe=J*Z-K*f;if(!z&&M.isMachineZero(oe)){if(oe=(J*f+J*f)/(f*f+Z*Z),oe>=0&&oe<=1)oe=0}return oe<0?-1:oe>0?1:0},getSignedDistance:function(a,i,f,Z,V,g,F){if(!F)f-=a,Z-=i;return f===0?Z>0?V-a:a-V:Z===0?f<0?g-i:i-g:((V-a)*Z-(g-i)*f)/(Z>f?Z*Math.sqrt(1+f*f/(Z*Z)):f*Math.sqrt(1+Z*Z/(f*f)))},getDistance:function(a,i,f,Z,V,g,F){return Math.abs(C.getSignedDistance(a,i,f,Z,V,g,F))}}}),ce=R.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function a(i){R.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new he(null,null,this),this._view=ge.create(this,i||Qe.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(a,i){return _.serialize(this._children,a,!0,i)},_changed:function(a,i){if(a&1){var f=this._view;if(f){if(f._needsUpdate=!0,!f._requested&&f._autoUpdate)f.requestUpdate()}}var Z=this._changes;if(Z&&i){var V=this._changesById,g=i._id,F=V[g];if(F)F.flags|=a;else Z.push(V[g]={item:i,flags:a})}},clear:function(){var a=this._children;for(var i=a.length-1;i>=0;i--)a[i].remove()},isEmpty:function(){return!this._children.length},remove:function a(){if(!a.base.call(this))return!1;if(this._view)this._view.remove();return!0},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(a){this._currentStyle.set(a)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new ue({project:this,insert:!0})},getSymbolDefinitions:function(){var a=[],i={};return this.getItems({class:n,match:function(f){var Z=f._definition,V=Z._id;if(!i[V])i[V]=!0,a.push(Z);return!1}}),a},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var a=this._selectionItems,i=[];for(var f in a){var Z=a[f],V=Z._selection;if(V&1&&Z.isInserted())i.push(Z);else if(!V)this._updateSelection(Z)}return i},_updateSelection:function(a){var i=a._id,f=this._selectionItems;if(a._selection){if(f[i]!==a)this._selectionCount++,f[i]=a}else if(f[i]===a)this._selectionCount--,delete f[i]},selectAll:function(){var a=this._children;for(var i=0,f=a.length;i<f;i++)a[i].setFullySelected(!0)},deselectAll:function(){var a=this._selectionItems;for(var i in a)a[i].setFullySelected(!1)},addLayer:function(a){return this.insertLayer(p,a)},insertLayer:function(a,i){if(i instanceof ue){i._remove(!1,!0),_.splice(this._children,[i],a,0),i._setProject(this,!0);var f=i._name;if(f)i.setName(f);if(this._changes)i._changed(5);if(!this._activeLayer)this._activeLayer=i}else i=null;return i},_insertItem:function(a,i,f){if(i=this.insertLayer(a,i)||(this._activeLayer||this._insertItem(p,new ue(be.NO_INSERT),!0)).insertChild(a,i),f&&i.activate)i.activate();return i},getItems:function(a){return be._getItems(this,a)},getItem:function(a){return be._getItems(this,a,null,null,!0)[0]||null},importJSON:function(a){this.activate();var i=this._activeLayer;return _.importJSON(a,i&&i.isEmpty()&&i)},removeOn:function(a){var i=this._removeSets;if(i){if(a==="mouseup")i.mousedrag=null;var f=i[a];if(f){for(var Z in f){var V=f[Z];for(var g in i){var F=i[g];if(F&&F!=f)delete F[V._id]}V.remove()}i[a]=null}}},draw:function(a,i,f){this._updateVersion++,a.save(),i.applyToContext(a);var Z=this._children,V=new _({offset:new q(0,0),pixelRatio:f,viewMatrix:i.isIdentity()?null:i,matrices:[new D],updateMatrix:!0});for(var g=0,F=Z.length;g<F;g++)Z[g].draw(a,V);if(a.restore(),this._selectionCount>0){a.save(),a.strokeWidth=1;var z=this._selectionItems,J=this._scope.settings.handleSize,K=this._updateVersion;for(var oe in z)z[oe]._drawSelection(a,i,J,z,K);a.restore()}}}),be=_.extend(L,{statics:{extend:function a(i){if(i._serializeFields)i._serializeFields=_.set({},this.prototype._serializeFields,i._serializeFields);return a.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new D,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var a=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return _.each(a,function(i){this._events[i]={install:function(f){this.getView()._countItemEvent(f,1)},uninstall:function(f){this.getView()._countItemEvent(f,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:a}})},{initialize:function a(){},_initialize:function(a,i){var f=a&&_.isPlainObject(a),Z=f&&a.internal===!0,V=this._matrix=new D,g=f&&a.project||U.project,F=U.settings;if(this._id=Z?null:T.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&F.applyMatrix,i)V.translate(i);if(V._owner=this,this._style=new he(g._currentStyle,this,g),Z||f&&a.insert==!1||!F.insertItems&&!(f&&a.insert==!0))this._setProject(g);else(f&&a.parent||g)._insertItem(p,this,!0);if(f&&a!==be.NO_INSERT&&a!==be.INSERT)this.set(a,{internal:!0,insert:!0,project:!0,parent:!0});return f},_serialize:function(a,i){var f={},Z=this;function V(g){for(var F in g){var z=Z[F];if(!_.equals(z,F==="leading"?g.fontSize*1.2:g[F]))f[F]=_.serialize(z,a,F!=="data",i)}}if(V(this._serializeFields),!(this instanceof qe))V(this._style._defaults);return[this._class,f]},_changed:function(a){var i=this._symbol,f=this._parent||i,Z=this._project;if(a&8)this._bounds=this._position=this._decomposed=p;if(a&16)this._globalMatrix=p;if(f&&a&72)be._clearBoundsCache(f);if(a&2)be._clearBoundsCache(this);if(Z)Z._changed(a,this);if(i)i._changed(a)},getId:function(){return this._id},getName:function(){return this._name},setName:function(a){if(this._name)this._removeNamed();if(a===+a+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(a&&i){var{_children:f,_namedChildren:Z}=i;if((Z[a]=Z[a]||[]).push(this),!(a in f))f[a]=this}this._name=a||p,this._changed(256)},getStyle:function(){return this._style},setStyle:function(a){this.getStyle().set(a)}},_.each(["locked","visible","blendMode","opacity","guide"],function(a){var i=_.capitalize(a),f="_"+a,Z={locked:256,visible:265};this["get"+i]=function(){return this[f]},this["set"+i]=function(V){if(V!=this[f])this[f]=V,this._changed(Z[a]||257)}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(a){if(a!==this._selection){this._selection=a;var i=this._project;if(i)i._updateSelection(this),this._changed(257)}},_changeSelection:function(a,i){var f=this._selection;this.setSelection(i?f|a:f&~a)},isSelected:function(){if(this._selectChildren){var a=this._children;for(var i=0,f=a.length;i<f;i++)if(a[i].isSelected())return!0}return!!(this._selection&1)},setSelected:function(a){if(this._selectChildren){var i=this._children;for(var f=0,Z=i.length;f<Z;f++)i[f].setSelected(a)}this._changeSelection(1,a)},isFullySelected:function(){var a=this._children,i=!!(this._selection&1);if(a&&i){for(var f=0,Z=a.length;f<Z;f++)if(!a[f].isFullySelected())return!1;return!0}return i},setFullySelected:function(a){var i=this._children;if(i)for(var f=0,Z=i.length;f<Z;f++)i[f].setFullySelected(a);this._changeSelection(1,a)},isClipMask:function(){return this._clipMask},setClipMask:function(a){if(this._clipMask!=(a=!!a)){if(this._clipMask=a,a)this.setFillColor(null),this.setStrokeColor(null);if(this._changed(257),this._parent)this._parent._changed(2048)}},getData:function(){if(!this._data)this._data={};return this._data},setData:function(a){this._data=a},getPosition:function(a){var i=a?q:X,f=this._position||(this._position=this._getPositionFromBounds());return new i(f.x,f.y,this,"setPosition")},setPosition:function(){this.translate(q.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(a){return this._pivot?this._matrix._transformPoint(this._pivot):(a||this.getBounds()).getCenter(!0)},getPivot:function(){var a=this._pivot;return a?new X(a.x,a.y,this,"setPivot"):null},setPivot:function(){this._pivot=q.read(arguments,0,{clone:!0,readNull:!0}),this._position=p}},_.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(a,i){this[i]=function(f){return this.getBounds(f,a)}},{beans:!0,getBounds:function(a,i){var f=i||a instanceof D,Z=_.set({},f?i:a,this._boundsOptions);if(!Z.stroke||this.getStrokeScaling())Z.cacheItem=this;var V=this._getCachedBounds(f&&a,Z).rect;return!arguments.length?new E(V.x,V.y,V.width,V.height,this,"setBounds"):V},setBounds:function(){var a=S.read(arguments),i=this.getBounds(),f=this._matrix,Z=new D,V=a.getCenter();if(Z.translate(V),a.width!=i.width||a.height!=i.height){if(!f.isInvertible())f.set(f._backup||new D().translate(f.getTranslation())),i=this.getBounds();Z.scale(i.width!==0?a.width/i.width:0,i.height!==0?a.height/i.height:0)}V=i.getCenter(),Z.translate(-V.x,-V.y),this.transform(Z)},_getBounds:function(a,i){var f=this._children;if(!f||!f.length)return new S;return be._updateBoundsCache(this,i.cacheItem),be._getBounds(f,a,i)},_getBoundsCacheKey:function(a,i){return[a.stroke?1:0,a.handle?1:0,i?1:0].join("")},_getCachedBounds:function(a,i,f){a=a&&a._orNullIfIdentity();var Z=i.internal&&!f,V=i.cacheItem,g=Z?null:this._matrix._orNullIfIdentity(),F=V&&(!a||a.equals(g))&&this._getBoundsCacheKey(i,Z),z=this._bounds;if(be._updateBoundsCache(this._parent||this._symbol,V),F&&z&&F in z){var J=z[F];return{rect:J.rect.clone(),nonscaling:J.nonscaling}}var K=this._getBounds(a||g,i),oe=K.rect||K,Y=this._style,G=K.nonscaling||Y.hasStroke()&&!Y.getStrokeScaling();if(F){if(!z)this._bounds=z={};var J=z[F]={rect:oe.clone(),nonscaling:G,internal:Z}}return{rect:oe,nonscaling:G}},_getStrokeMatrix:function(a,i){var f=this.getStrokeScaling()?null:i&&i.internal?this:this._parent||this._symbol&&this._symbol._item,Z=f?f.getViewMatrix().invert():a;return Z&&Z._shiftless()},statics:{_updateBoundsCache:function(a,i){if(a&&i){var f=i._id,Z=a._boundsCache=a._boundsCache||{ids:{},list:[]};if(!Z.ids[f])Z.list.push(i),Z.ids[f]=i}},_clearBoundsCache:function(a){var i=a._boundsCache;if(i){a._bounds=a._position=a._boundsCache=p;for(var f=0,Z=i.list,V=Z.length;f<V;f++){var g=Z[f];if(g!==a){if(g._bounds=g._position=p,g._boundsCache)be._clearBoundsCache(g)}}}},_getBounds:function(a,i,f){var Z=1/0,V=-Z,g=Z,F=V,z=!1;f=f||{};for(var J=0,K=a.length;J<K;J++){var oe=a[J];if(oe._visible&&!oe.isEmpty(!0)){var Y=oe._getCachedBounds(i&&i.appended(oe._matrix),f,!0),G=Y.rect;if(Z=Math.min(G.x,Z),g=Math.min(G.y,g),V=Math.max(G.x+G.width,V),F=Math.max(G.y+G.height,F),Y.nonscaling)z=!0}}return{rect:isFinite(Z)?new S(Z,g,V-Z,F-g):new S,nonscaling:z}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var a=this._decompose();return a?a.rotation:0},setRotation:function(a){var i=this.getRotation();if(i!=null&&a!=null){var f=this._decomposed;if(this.rotate(a-i),f)f.rotation=a,this._decomposed=f}},getScaling:function(){var a=this._decompose(),i=a&&a.scaling;return new X(i?i.x:1,i?i.y:1,this,"setScaling")},setScaling:function(){var a=this.getScaling(),i=q.read(arguments,0,{clone:!0,readNull:!0});if(a&&i&&!a.equals(i)){var f=this.getRotation(),Z=this._decomposed,V=new D,g=M.isZero;if(g(a.x)||g(a.y)){if(V.translate(Z.translation),f)V.rotate(f);V.scale(i.x,i.y),this._matrix.set(V)}else{var F=this.getPosition(!0);if(V.translate(F),f)V.rotate(f);if(V.scale(i.x/a.x,i.y/a.y),f)V.rotate(-f);V.translate(F.negate()),this.transform(V)}if(Z)Z.scaling=i,this._decomposed=Z}},getMatrix:function(){return this._matrix},setMatrix:function(){var a=this._matrix;a.set.apply(a,arguments)},getGlobalMatrix:function(a){var i=this._globalMatrix;if(i){var f=this._parent,Z=[];while(f){if(!f._globalMatrix){i=null;for(var V=0,g=Z.length;V<g;V++)Z[V]._globalMatrix=null;break}Z.push(f),f=f._parent}}if(!i){i=this._globalMatrix=this._matrix.clone();var f=this._parent;if(f)i.prepend(f.getGlobalMatrix(!0))}return a?i:i.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(a){if(this._applyMatrix=this._canApplyMatrix&&!!a)this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(a,i){if(this._project!==a){if(this._project)this._installEvents(!1);this._project=a;var f=this._children;for(var Z=0,V=f&&f.length;Z<V;Z++)f[Z]._setProject(a);i=!0}if(i)this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function a(i){a.base.call(this,i);var f=this._children;for(var Z=0,V=f&&f.length;Z<V;Z++)f[Z]._installEvents(i)},getLayer:function(){var a=this;while(a=a._parent)if(a instanceof ue)return a;return null},getParent:function(){return this._parent},setParent:function(a){return a.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(a){this.removeChildren(),this.addChildren(a)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var a=this._getOwner();return a&&a._children[this._index+1]||null},getPreviousSibling:function(){var a=this._getOwner();return a&&a._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(a){var i=this._parent,f=i&&i._children;if(f)i.insertChildren(a in f?a:p,[this])},equals:function(a){return a===this||a&&this._class===a._class&&this._style.equals(a._style)&&this._matrix.equals(a._matrix)&&this._locked===a._locked&&this._visible===a._visible&&this._blendMode===a._blendMode&&this._opacity===a._opacity&&this._clipMask===a._clipMask&&this._guide===a._guide&&this._equals(a)||!1},_equals:function(a){return _.equals(this._children,a._children)},clone:function(a){var i=new this.constructor(be.NO_INSERT),f=this._children,Z=_.pick(a?a.insert:p,a===p||a===!0),V=_.pick(a?a.deep:p,!0);if(f)i.copyAttributes(this);if(!f||V)i.copyContent(this);if(!f)i.copyAttributes(this);if(Z)i.insertAbove(this);var g=this._name,F=this._parent;if(g&&F){var f=F._children,z=g,J=1;while(f[g])g=z+" "+J++;if(g!==z)i.setName(g)}return i},copyContent:function(a){var i=a._children;for(var f=0,Z=i&&i.length;f<Z;f++)this.addChild(i[f].clone(!1),!0)},copyAttributes:function(a,i){this.setStyle(a._style);var f=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"];for(var Z=0,V=f.length;Z<V;Z++){var g=f[Z];if(a.hasOwnProperty(g))this[g]=a[g]}if(!i)this._matrix.set(a._matrix,!0);this.setApplyMatrix(a._applyMatrix),this.setPivot(a._pivot),this.setSelection(a._selection);var{_data:F,_name:z}=a;if(this._data=F?_.clone(F):null,z)this.setName(z)},rasterize:function(a,i){var f,Z,V;if(_.isPlainObject(a))f=a.resolution,Z=a.insert,V=a.raster;else f=a,Z=i;if(!V)V=new e(be.NO_INSERT);var g=this.getStrokeBounds(),F=(f||this.getView().getResolution())/72,z=g.getTopLeft().floor(),J=g.getBottomRight().ceil(),K=new j(J.subtract(z)),oe=K.multiply(F);if(V.setSize(oe,!0),!oe.isZero()){var Y=V.getContext(!0),G=new D().scale(F).translate(z.negate());Y.save(),G.applyToContext(Y),this.draw(Y,new _({matrices:[G]})),Y.restore()}if(V._matrix.set(new D().translate(z.add(K.divide(2))).scale(1/F)),Z===p||Z)V.insertAbove(this);return V},contains:function(){var a=this._matrix;return a.isInvertible()&&!!this._contains(a._inverseTransform(q.read(arguments)))},_contains:function(a){var i=this._children;if(i){for(var f=i.length-1;f>=0;f--)if(i[f].contains(a))return!0;return!1}return a.isInside(this.getInternalBounds())},isInside:function(){return S.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new b.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(a,i){if(!(a instanceof be))return!1;return this._asPathItem().getIntersections(a._asPathItem(),null,i,!0).length>0}},new function(){function a(){var Z=arguments;return this._hitTest(q.read(Z),s.getOptions(Z))}function i(){var Z=arguments,V=q.read(Z),g=s.getOptions(Z),F=[];return this._hitTest(V,new _({all:F},g)),F}function f(Z,V,g,F){var z=this._children;if(z)for(var J=z.length-1;J>=0;J--){var K=z[J],oe=K!==F&&K._hitTest(Z,V,g);if(oe&&!V.all)return oe}return null}return ce.inject({hitTest:a,hitTestAll:i,_hitTest:f}),{hitTest:a,hitTestAll:i,_hitTestChildren:f}},{_hitTest:function(a,i,f){if(this._locked||!this._visible||this._guide&&!i.guides||this.isEmpty())return null;var Z=this._matrix,V=f?f.appended(Z):this.getGlobalMatrix().prepend(this.getView()._matrix),g=Math.max(i.tolerance,0.000000000001),F=i._tolerancePadding=new j(b._getStrokePadding(g,Z._shiftless().invert()));if(a=Z._inverseTransform(a),!a||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(F.multiply(2))._containsPoint(a))return null;var z=!(i.guides&&!this._guide||i.selected&&!this.isSelected()||i.type&&i.type!==_.hyphenate(this._class)||i.class&&!(this instanceof i.class)),J=i.match,K=this,oe,Y;function G(se){if(se&&J&&!J(se))se=null;if(se&&i.all)i.all.push(se);return se}function ne(se,Q){var le=Q?oe["get"+Q]():K.getPosition();if(a.subtract(le).divide(F).length<=1)return new s(se,K,{name:Q?_.hyphenate(Q):se,point:le})}var{position:A,center:re,bounds:ke}=i;if(z&&this._parent&&(A||re||ke)){if(re||ke)oe=this.getInternalBounds();if(Y=A&&ne("position")||re&&ne("center","Center"),!Y&&ke){var ee=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"];for(var ae=0;ae<8&&!Y;ae++)Y=ne("bounds",ee[ae])}Y=G(Y)}if(!Y)Y=this._hitTestChildren(a,i,V)||z&&G(this._hitTestSelf(a,i,V,this.getStrokeScaling()?null:V._shiftless().invert()))||null;if(Y&&Y.point)Y.point=Z.transform(Y.point);return Y},_hitTestSelf:function(a,i){if(i.fill&&this.hasFill()&&this._contains(a))return new s("fill",this)},matches:function(a,i){function f(F,z){for(var J in F)if(F.hasOwnProperty(J)){var K=F[J],oe=z[J];if(_.isPlainObject(K)&&_.isPlainObject(oe)){if(!f(K,oe))return!1}else if(!_.equals(K,oe))return!1}return!0}var Z=typeof a;if(Z==="object"){for(var V in a)if(a.hasOwnProperty(V)&&!this.matches(V,a[V]))return!1;return!0}else if(Z==="function")return a(this);else if(a==="match")return i(this);else{var g=/^(empty|editable)$/.test(a)?this["is"+_.capitalize(a)]():a==="type"?_.hyphenate(this._class):this[a];if(a==="class"){if(typeof i==="function")return this instanceof i;g=this._class}if(typeof i==="function")return!!i(g);else if(i){if(i.test)return i.test(g);else if(_.isPlainObject(i))return f(i,g)}return _.equals(g,i)}},getItems:function(a){return be._getItems(this,a,this._matrix)},getItem:function(a){return be._getItems(this,a,this._matrix,null,!0)[0]||null},statics:{_getItems:function a(i,f,Z,V,g){if(!V){var F=typeof f==="object"&&f,z=F&&F.overlapping,J=F&&F.inside,K=z||J,G=K&&S.read([K]);if(V={items:[],recursive:F&&F.recursive!==!1,inside:!!J,overlapping:!!z,rect:G,path:z&&new b.Rectangle({rectangle:G,insert:!1})},F)f=_.filter({},f,{recursive:!0,inside:!0,overlapping:!0})}var oe=i._children,Y=V.items,G=V.rect;Z=G&&(Z||new D);for(var ne=0,A=oe&&oe.length;ne<A;ne++){var re=oe[ne],ke=Z&&Z.appended(re._matrix),ee=!0;if(G){var K=re.getBounds(ke);if(!G.intersects(K))continue;if(!(G.contains(K)||V.overlapping&&(K.contains(G)||V.path.intersects(re,ke))))ee=!1}if(ee&&re.matches(f)){if(Y.push(re),g)break}if(V.recursive!==!1)a(re,f,ke,V,g);if(g&&Y.length>0)break}return Y}}},{importJSON:function(a){var i=_.importJSON(a,this);return i!==this?this.addChild(i):i},addChild:function(a){return this.insertChild(p,a)},insertChild:function(a,i){var f=i?this.insertChildren(a,[i]):null;return f&&f[0]},addChildren:function(a){return this.insertChildren(this._children.length,a)},insertChildren:function(a,i){var f=this._children;if(f&&i&&i.length>0){i=_.slice(i);var Z={};for(var V=i.length-1;V>=0;V--){var g=i[V],F=g&&g._id;if(!g||Z[F])i.splice(V,1);else g._remove(!1,!0),Z[F]=!0}_.splice(f,i,a,0);var z=this._project,J=z._changes;for(var V=0,K=i.length;V<K;V++){var g=i[V],oe=g._name;if(g._parent=this,g._setProject(z,!0),oe)g.setName(oe);if(J)g._changed(5)}this._changed(11)}else i=null;return i},_insertItem:"#insertChild",_insertAt:function(a,i){var f=a&&a._getOwner(),Z=a!==this&&f?this:null;if(Z)Z._remove(!1,!0),f._insertItem(a._index+i,Z);return Z},insertAbove:function(a){return this._insertAt(a,1)},insertBelow:function(a){return this._insertAt(a,0)},sendToBack:function(){var a=this._getOwner();return a?a._insertItem(0,this):null},bringToFront:function(){var a=this._getOwner();return a?a._insertItem(p,this):null},appendTop:"#addChild",appendBottom:function(a){return this.insertChild(0,a)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(a){return a._insertItem(p,this)},copyTo:function(a){return this.clone(!1).addTo(a)},reduce:function(a){var i=this._children;if(i&&i.length===1){var f=i[0].reduce(a);if(this._parent)f.insertAbove(this),this.remove();else f.remove();return f}return this},_removeNamed:function(){var a=this._getOwner();if(a){var{_children:i,_namedChildren:f}=a,Z=this._name,V=f[Z],g=V?V.indexOf(this):-1;if(g!==-1){if(i[Z]==this)delete i[Z];if(V.splice(g,1),V.length)i[Z]=V[0];else delete f[Z]}}},_remove:function(a,i){var f=this._getOwner(),Z=this._project,V=this._index;if(this._style)this._style._dispose();if(f){if(this._name)this._removeNamed();if(V!=null){if(Z._activeLayer===this)Z._activeLayer=this.getNextSibling()||this.getPreviousSibling();_.splice(f._children,null,V,1)}if(this._installEvents(!1),a&&Z._changes)this._changed(5);if(i)f._changed(11,this);return this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(a){var i=a&&a.insertBelow(this);if(i)this.remove();return i},removeChildren:function(a,i){if(!this._children)return null;a=a||0,i=_.pick(i,this._children.length);var f=_.splice(this._children,null,a,i-a);for(var Z=f.length-1;Z>=0;Z--)f[Z]._remove(!0,!1);if(f.length>0)this._changed(11);return f},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var a=0,i=this._children.length;a<i;a++)this._children[a]._index=a;this._changed(11)}},isEmpty:function(a){var i=this._children,f=i?i.length:0;if(a){for(var Z=0;Z<f;Z++)if(!i[Z].isEmpty(a))return!1;return!0}return!f},isEditable:function(){var a=this;while(a){if(!a._visible||a._locked)return!1;a=a._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(a){function i(F){var z=[];do z.unshift(F);while(F=F._parent);return z}var f=i(this),Z=i(a);for(var V=0,g=Math.min(f.length,Z.length);V<g;V++)if(f[V]!=Z[V])return f[V]._index<Z[V]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(a){return this._getOrder(a)===-1},isBelow:function(a){return this._getOrder(a)===1},isParent:function(a){return this._parent===a},isChild:function(a){return a&&a._parent===this},isDescendant:function(a){var i=this;while(i=i._parent)if(i===a)return!0;return!1},isAncestor:function(a){return a?a.isDescendant(this):!1},isSibling:function(a){return this._parent===a._parent},isGroupedWith:function(a){var i=this._parent;while(i){if(i._parent&&/^(Group|Layer|CompoundPath)$/.test(i._class)&&a.isDescendant(i))return!0;i=i._parent}return!1}},_.each(["rotate","scale","shear","skew"],function(a){var i=a==="rotate";this[a]=function(){var f=arguments,Z=(i?_:q).read(f),V=q.read(f,0,{readNull:!0});return this.transform(new D()[a](Z,V||this.getPosition(!0)))}},{translate:function(){var a=new D;return this.transform(a.translate.apply(a,arguments))},transform:function(a,i,f){var Z=this._matrix,V=a&&!a.isIdentity(),g=f&&this._canApplyMatrix||this._applyMatrix&&(V||!Z.isIdentity()||i&&this._children);if(!V&&!g)return this;if(V){if(!a.isInvertible()&&Z.isInvertible())Z._backup=Z.getValues();Z.prepend(a,!0);var F=this._style,z=F.getFillColor(!0),J=F.getStrokeColor(!0);if(z)z.transform(a);if(J)J.transform(a)}if(g&&(g=this._transformContent(Z,i,f))){var K=this._pivot;if(K)Z._transformPoint(K,K,!0);if(Z.reset(!0),f&&this._canApplyMatrix)this._applyMatrix=!0}var oe=this._bounds,Y=this._position;if(V||g)this._changed(25);var G=V&&oe&&a.decompose();if(G&&G.skewing.isZero()&&G.rotation%90===0){for(var ne in oe){var A=oe[ne];if(A.nonscaling)delete oe[ne];else if(g||!A.internal){var re=A.rect;a._transformBounds(re,re)}}this._bounds=oe;var ke=oe[this._getBoundsCacheKey(this._boundsOptions||{})];if(ke)this._position=this._getPositionFromBounds(ke.rect)}else if(V&&Y&&this._pivot)this._position=a._transformPoint(Y,Y);return this},_transformContent:function(a,i,f){var Z=this._children;if(Z){for(var V=0,g=Z.length;V<g;V++)Z[V].transform(a,i,f);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(q.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(q.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(q.read(arguments))},localToParent:function(){return this._matrix._transformPoint(q.read(arguments))},fitBounds:function(a,i){a=S.read(arguments);var f=this.getBounds(),Z=f.height/f.width,V=a.height/a.width,g=(i?Z>V:Z<V)?a.width/f.width:a.height/f.height,F=new S(new q,new j(f.width*g,f.height*g));F.setCenter(a.getCenter()),this.setBounds(F)}}),{_setStyles:function(a,i,f){var Z=this._style,V=this._matrix;if(Z.hasFill())a.fillStyle=Z.getFillColor().toCanvasStyle(a,V);if(Z.hasStroke()){a.strokeStyle=Z.getStrokeColor().toCanvasStyle(a,V),a.lineWidth=Z.getStrokeWidth();var g=Z.getStrokeJoin(),F=Z.getStrokeCap(),z=Z.getMiterLimit();if(g)a.lineJoin=g;if(F)a.lineCap=F;if(z)a.miterLimit=z;if(U.support.nativeDash){var J=Z.getDashArray(),K=Z.getDashOffset();if(J&&J.length)if("setLineDash"in a)a.setLineDash(J),a.lineDashOffset=K;else a.mozDash=J,a.mozDashOffset=K}}if(Z.hasShadow()){var oe=i.pixelRatio||1,Y=f._shiftless().prepend(new D().scale(oe,oe)),G=Y.transform(new q(Z.getShadowBlur(),0)),ne=Y.transform(this.getShadowOffset());a.shadowColor=Z.getShadowColor().toCanvasStyle(a),a.shadowBlur=G.getLength(),a.shadowOffsetX=ne.x,a.shadowOffsetY=ne.y}},draw:function(a,i,f){var Z=this._updateVersion=this._project._updateVersion;if(!this._visible||this._opacity===0)return;var{matrices:V,viewMatrix:g}=i,F=this._matrix,z=V[V.length-1].appended(F);if(!z.isInvertible())return;if(g=g?g.appended(z):z,V.push(z),i.updateMatrix)this._globalMatrix=z;var J=this._blendMode,K=M.clamp(this._opacity,0,1),oe=J==="normal",Y=Je.nativeModes[J],G=oe&&K===1||i.dontStart||i.clip||(Y||oe&&K<1)&&this._canComposite(),ne=i.pixelRatio||1,A,re,ke;if(!G){var ee=this.getStrokeBounds(g);if(!ee.width||!ee.height){V.pop();return}if(ke=i.offset,re=i.offset=ee.getTopLeft().floor(),A=a,a=Qe.getContext(ee.getSize().ceil().add(1).multiply(ne)),ne!==1)a.scale(ne,ne)}a.save();var ae=f?f.appended(F):this._canScaleStroke&&!this.getStrokeScaling(!0)&&g,se=!G&&i.clipItem,Q=!ae||se;if(G){if(a.globalAlpha=K,Y)a.globalCompositeOperation=J}else if(Q)a.translate(-re.x,-re.y);if(Q)(G?F:g).applyToContext(a);if(se)i.clipItem.draw(a,i.extend({clip:!0}));if(ae){a.setTransform(ne,0,0,ne,0,0);var le=i.offset;if(le)a.translate(-le.x,-le.y)}if(this._draw(a,i,g,ae),a.restore(),V.pop(),i.clip&&!i.dontFinish)a.clip(this.getFillRule());if(!G)Je.process(J,a,A,K,re.subtract(ke).multiply(ne)),Qe.release(a),i.offset=ke},_isUpdated:function(a){var i=this._parent;if(i instanceof W)return i._isUpdated(a);var f=this._updateVersion===a;if(!f&&i&&i._visible&&i._isUpdated(a))this._updateVersion=a,f=!0;return f},_drawSelection:function(a,i,f,Z,V){var g=this._selection,F=g&1,z=g&2||F&&this._selectBounds,J=g&4;if(!this._drawSelected)F=!1;if((F||z||J)&&this._isUpdated(V)){var K,oe=this.getSelectedColor(!0)||(K=this.getLayer())&&K.getSelectedColor(!0),Y=i.appended(this.getGlobalMatrix(!0)),G=f/2;if(a.strokeStyle=a.fillStyle=oe?oe.toCanvasStyle(a):"#009dec",F)this._drawSelected(a,Y,Z);if(J){var ne=this.getPosition(!0),A=this._parent,re=A?A.localToGlobal(ne):ne,ke=re.x,ee=re.y;a.beginPath(),a.arc(ke,ee,G,0,Math.PI*2,!0),a.stroke();var ae=[[0,-1],[1,0],[0,1],[-1,0]],se=G,Q=f+1;for(var le=0;le<4;le++){var fe=ae[le],me=fe[0],de=fe[1];a.moveTo(ke+me*se,ee+de*se),a.lineTo(ke+me*Q,ee+de*Q),a.stroke()}}if(z){var Oe=Y._transformCorners(this.getInternalBounds());a.beginPath();for(var le=0;le<8;le++)a[!le?"moveTo":"lineTo"](Oe[le],Oe[++le]);a.closePath(),a.stroke();for(var le=0;le<8;le++)a.fillRect(Oe[le]-G,Oe[++le]-G,f,f)}}},_canComposite:function(){return!1}},_.each(["down","drag","up","move"],function(a){this["removeOn"+_.capitalize(a)]=function(){var i={};return i[a]=!0,this.removeOn(i)}},{removeOn:function(a){for(var i in a)if(a[i]){var f="mouse"+i,Z=this._project,V=Z._removeSets=Z._removeSets||{};V[f]=V[f]||{},V[f][this._id]=this}return this}}),{tween:function(a,i,f){if(!f){if(f=i,i=a,a=null,!f)f=i,i=null}var Z=f&&f.easing,V=f&&f.start,g=f!=null&&(typeof f==="number"?f:f.duration),F=new We(this,a,i,g,Z,V);function z(J){if(F._handleFrame(J.time*1000),!F.running)this.off("frame",z)}if(g)this.on("frame",z);return F},tweenTo:function(a,i){return this.tween(null,a,i)},tweenFrom:function(a,i){return this.tween(a,null,i)}}),qe=be.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function a(i){if(this._children=[],this._namedChildren={},!this._initialize(i))this.addChildren(Array.isArray(i)?i:arguments)},_changed:function a(i){if(a.base.call(this,i),i&2050)this._clipItem=p},_getClipItem:function(){var a=this._clipItem;if(a===p){a=null;var i=this._children;for(var f=0,Z=i.length;f<Z;f++)if(i[f]._clipMask){a=i[f];break}this._clipItem=a}return a},isClipped:function(){return!!this._getClipItem()},setClipped:function(a){var i=this.getFirstChild();if(i)i.setClipMask(a)},_getBounds:function a(i,f){var Z=this._getClipItem();return Z?Z._getCachedBounds(Z._matrix.prepended(i),_.set({},f,{stroke:!1})):a.base.call(this,i,f)},_hitTestChildren:function a(i,f,Z){var V=this._getClipItem();return(!V||V.contains(i))&&a.base.call(this,i,f,Z,V)},_draw:function(a,i){var f=i.clip,Z=!f&&this._getClipItem();if(i=i.extend({clipItem:Z,clip:!1}),f)a.beginPath(),i.dontStart=i.dontFinish=!0;else if(Z)Z.draw(a,i.extend({clip:!0}));var V=this._children;for(var g=0,F=V.length;g<F;g++){var z=V[g];if(z!==Z)z.draw(a,i)}}}),ue=qe.extend({_class:"Layer",initialize:function a(){qe.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function a(){return this._parent?a.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),$e=be.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function a(i,f){this._initialize(i,f)},_equals:function(a){return this._type===a._type&&this._size.equals(a._size)&&_.equals(this._radius,a._radius)},copyContent:function(a){this.setType(a._type),this.setSize(a._size),this.setRadius(a._radius)},getType:function(){return this._type},setType:function(a){this._type=a},getShape:"#getType",setShape:"#setType",getSize:function(){var a=this._size;return new I(a.width,a.height,this,"setSize")},setSize:function(){var a=j.read(arguments);if(!this._size)this._size=a.clone();else if(!this._size.equals(a)){var i=this._type,f=a.width,Z=a.height;if(i==="rectangle")this._radius.set(j.min(this._radius,a.divide(2).abs()));else if(i==="circle")f=Z=(f+Z)/2,this._radius=f/2;else if(i==="ellipse")this._radius._set(f/2,Z/2);this._size._set(f,Z),this._changed(9)}},getRadius:function(){var a=this._radius;return this._type==="circle"?a:new I(a.width,a.height,this,"setRadius")},setRadius:function(a){var i=this._type;if(i==="circle"){if(a===this._radius)return;var f=a*2;this._radius=a,this._size._set(f,f)}else if(a=j.read(arguments),!this._radius)this._radius=a.clone();else{if(this._radius.equals(a))return;if(this._radius.set(a),i==="rectangle"){var f=j.max(this._size,a.multiply(2));this._size.set(f)}else if(i==="ellipse")this._size._set(a.width*2,a.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(a){var i=new b[_.capitalize(this._type)]({center:new q,size:this._size,radius:this._radius,insert:!1});if(i.copyAttributes(this),U.settings.applyMatrix)i.setApplyMatrix(!0);if(a===p||a)i.insertAbove(this);return i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(a,i,f,Z){var V=this._style,g=V.hasFill(),F=V.hasStroke(),z=i.dontFinish||i.clip,J=!Z;if(g||F||z){var K=this._type,oe=this._radius,Y=K==="circle";if(!i.dontStart)a.beginPath();if(J&&Y)a.arc(0,0,oe,0,Math.PI*2,!0);else{var G=Y?oe:oe.width,ne=Y?oe:oe.height,A=this._size,re=A.width,ke=A.height;if(J&&K==="rectangle"&&G===0&&ne===0)a.rect(-re/2,-ke/2,re,ke);else{var ee=re/2,ae=ke/2,se=0.44771525016920644,Q=G*se,le=ne*se,fe=[-ee,-ae+ne,-ee,-ae+le,-ee+Q,-ae,-ee+G,-ae,ee-G,-ae,ee-Q,-ae,ee,-ae+le,ee,-ae+ne,ee,ae-ne,ee,ae-le,ee-Q,ae,ee-G,ae,-ee+G,ae,-ee+Q,ae,-ee,ae-le,-ee,ae-ne];if(Z)Z.transform(fe,fe,32);if(a.moveTo(fe[0],fe[1]),a.bezierCurveTo(fe[2],fe[3],fe[4],fe[5],fe[6],fe[7]),ee!==G)a.lineTo(fe[8],fe[9]);if(a.bezierCurveTo(fe[10],fe[11],fe[12],fe[13],fe[14],fe[15]),ae!==ne)a.lineTo(fe[16],fe[17]);if(a.bezierCurveTo(fe[18],fe[19],fe[20],fe[21],fe[22],fe[23]),ee!==G)a.lineTo(fe[24],fe[25]);a.bezierCurveTo(fe[26],fe[27],fe[28],fe[29],fe[30],fe[31])}}a.closePath()}if(!z&&(g||F)){if(this._setStyles(a,i,f),g)a.fill(V.getFillRule()),a.shadowColor="rgba(0,0,0,0)";if(F)a.stroke()}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(a,i){var f=new S(this._size).setCenter(0,0),Z=this._style,V=i.stroke&&Z.hasStroke()&&Z.getStrokeWidth();if(a)f=a._transformBounds(f);return V?f.expand(b._getStrokePadding(V,this._getStrokeMatrix(a,i))):f}},new function(){function a(f,Z,V){var g=f._radius;if(!g.isZero()){var F=f._size.divide(2);for(var z=1;z<=4;z++){var J=new q(z>1&&z<4?-1:1,z>2?-1:1),K=J.multiply(F),oe=K.subtract(J.multiply(g)),Y=new S(V?K.add(J.multiply(V)):K,oe);if(Y.contains(Z))return{point:oe,quadrant:z}}}}function i(f,Z,V,g){var F=f.divide(Z);return(!g||F.isInQuadrant(g))&&F.subtract(F.normalize()).multiply(Z).divide(V).length<=1}return{_contains:function f(Z){if(this._type==="rectangle"){var V=a(this,Z);return V?Z.subtract(V.point).divide(this._radius).getLength()<=1:f.base.call(this,Z)}else return Z.divide(this.size).getLength()<=0.5},_hitTestSelf:function f(Z,V,g,F){var z=!1,J=this._style,K=V.stroke&&J.hasStroke(),oe=V.fill&&J.hasFill();if(K||oe){var Y=this._type,G=this._radius,ne=K?J.getStrokeWidth()/2:0,A=V._tolerancePadding.add(b._getStrokePadding(ne,!J.getStrokeScaling()&&F));if(Y==="rectangle"){var re=A.multiply(2),ke=a(this,Z,re);if(ke)z=i(Z.subtract(ke.point),G,A,ke.quadrant);else{var ee=new S(this._size).setCenter(0,0),ae=ee.expand(re),se=ee.expand(re.negate());z=ae._containsPoint(Z)&&!se._containsPoint(Z)}}else z=i(Z,G,A)}return z?new s(K?"stroke":"fill",this):f.base.apply(this,arguments)}}},{statics:new function(){function a(i,f,Z,V,g){var F=_.create($e.prototype);return F._type=i,F._size=Z,F._radius=V,F._initialize(_.getNamed(g),f),F}return{Circle:function(){var i=arguments,f=q.readNamed(i,"center"),Z=_.readNamed(i,"radius");return a("circle",f,new j(Z*2),Z,i)},Rectangle:function(){var i=arguments,f=S.readNamed(i,"rectangle"),Z=j.min(j.readNamed(i,"radius"),f.getSize(!0).divide(2));return a("rectangle",f.getCenter(!0),f.getSize(!0),Z,i)},Ellipse:function(){var i=arguments,f=$e._readEllipse(i),Z=f.radius;return a("ellipse",f.center,Z.multiply(2),Z,i)},_readEllipse:function(i){var f,Z;if(_.hasNamed(i,"radius"))f=q.readNamed(i,"center"),Z=j.readNamed(i,"radius");else{var V=S.readNamed(i,"rectangle");f=V.getCenter(!0),Z=V.getSize(!0).divide(2)}return{center:f,radius:Z}}}}}),e=be.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function a(i,f){if(!this._initialize(i,f!==p&&q.read(arguments))){var Z,V=typeof i,g=V==="string"?u.getElementById(i):V==="object"?i:null;if(g&&g!==be.NO_INSERT){if(g.getContext||g.naturalHeight!=null)Z=g;else if(g){var F=j.read(arguments);if(!F.isZero())Z=Qe.getCanvas(F)}}if(Z)this.setImage(Z);else this.setSource(i)}if(!this._size)this._size=new j,this._loaded=!1},_equals:function(a){return this.getSource()===a.getSource()},copyContent:function(a){var{_image:i,_canvas:f}=a;if(i)this._setImage(i);else if(f){var Z=Qe.getCanvas(a._size);Z.getContext("2d").drawImage(f,0,0),this._setImage(Z)}this._crossOrigin=a._crossOrigin},getSize:function(){var a=this._size;return new I(a?a.width:0,a?a.height:0,this,"setSize")},setSize:function(a,i){var f=j.read(arguments);if(!f.equals(this._size))if(f.width>0&&f.height>0){var Z=!i&&this.getElement();if(this._setImage(Qe.getCanvas(f)),Z)this.getContext(!0).drawImage(Z,0,0,f.width,f.height)}else{if(this._canvas)Qe.release(this._canvas);this._size=f.clone()}else if(i)this.clear()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(a){this.setSize(a,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(a){this.setSize(this.getWidth(),a)},getLoaded:function(){return this._loaded},isEmpty:function(){var a=this._size;return!a||a.width===0&&a.height===0},getResolution:function(){var a=this._matrix,i=new q(0,0).transform(a),f=new q(1,0).transform(a).subtract(i),Z=new q(0,1).transform(a).subtract(i);return new j(72/f.getLength(),72/Z.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(a){var i=this;function f(Z){var V=i.getView(),g=Z&&Z.type||"load";if(V&&i.responds(g))U=V._scope,i.emit(g,new w(Z))}if(this._setImage(a),this._loaded)setTimeout(f,0);else if(a)Re.add(a,{load:function(Z){i._setImage(a),f(Z)},error:f})},_setImage:function(a){if(this._canvas)Qe.release(this._canvas);if(a&&a.getContext)this._image=null,this._canvas=a,this._loaded=!0;else this._image=a,this._canvas=null,this._loaded=!!(a&&a.src&&a.complete);this._size=new j(a?a.naturalWidth||a.width:0,a?a.naturalHeight||a.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var a=Qe.getContext(this._size);try{if(this._image)a.drawImage(this._image,0,0);this._canvas=a.canvas}catch(i){Qe.release(a)}}return this._canvas},setCanvas:"#setImage",getContext:function(a){if(!this._context)this._context=this.getCanvas().getContext("2d");if(a)this._image=null,this._changed(1025);return this._context},setContext:function(a){this._context=a},getSource:function(){var a=this._image;return a&&a.src||this.toDataURL()},setSource:function(a){var i=new N.Image,f=this._crossOrigin;if(f)i.crossOrigin=f;if(a)i.src=a;this.setImage(i)},getCrossOrigin:function(){var a=this._image;return a&&a.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(a){this._crossOrigin=a;var i=this._image;if(i)i.crossOrigin=a},getSmoothing:function(){return this._smoothing},setSmoothing:function(a){this._smoothing=typeof a==="string"?a:a?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var a=S.read(arguments),i=Qe.getContext(a.getSize());return i.drawImage(this.getCanvas(),a.x,a.y,a.width,a.height,0,0,a.width,a.height),i.canvas},getSubRaster:function(){var a=S.read(arguments),i=new e(be.NO_INSERT);return i._setImage(this.getSubCanvas(a)),i.translate(a.getCenter().subtract(this.getSize().divide(2))),i._matrix.prepend(this._matrix),i.insertAbove(this),i},toDataURL:function(){var a=this._image,i=a&&a.src;if(/^data:/.test(i))return i;var f=this.getCanvas();return f?f.toDataURL.apply(f,arguments):null},drawImage:function(a){var i=q.read(arguments,1);this.getContext(!0).drawImage(a,i.x,i.y)},getAverageColor:function(a){var i,f;if(!a)i=this.getBounds();else if(a instanceof o)f=a,i=a.getBounds();else if(typeof a==="object"){if("width"in a)i=new S(a);else if("x"in a)i=new S(a.x-0.5,a.y-0.5,1,1)}if(!i)return null;var Z=32,V=Math.min(i.width,Z),g=Math.min(i.height,Z),F=e._sampleContext;if(!F)F=e._sampleContext=Qe.getContext(new j(Z));else F.clearRect(0,0,Z+1,Z+1);F.save();var z=new D().scale(V/i.width,g/i.height).translate(-i.x,-i.y);if(z.applyToContext(F),f)f.draw(F,new _({clip:!0,matrices:[z]}));this._matrix.applyToContext(F);var J=this.getElement(),K=this._size;if(J)F.drawImage(J,-K.width/2,-K.height/2);F.restore();var oe=F.getImageData(0.5,0.5,Math.ceil(V),Math.ceil(g)).data,Y=[0,0,0],G=0;for(var ne=0,A=oe.length;ne<A;ne+=4){var re=oe[ne+3];G+=re,re/=255,Y[0]+=oe[ne]*re,Y[1]+=oe[ne+1]*re,Y[2]+=oe[ne+2]*re}for(var ne=0;ne<3;ne++)Y[ne]/=G;return G?xe.read(Y):null},getPixel:function(){var a=q.read(arguments),i=this.getContext().getImageData(a.x,a.y,1,1).data;return new xe("rgb",[i[0]/255,i[1]/255,i[2]/255],i[3]/255)},setPixel:function(){var a=arguments,i=q.read(a),f=xe.read(a),Z=f._convert("rgb"),V=f._alpha,g=this.getContext(!0),F=g.createImageData(1,1),z=F.data;z[0]=Z[0]*255,z[1]=Z[1]*255,z[2]=Z[2]*255,z[3]=V!=null?V*255:255,g.putImageData(F,i.x,i.y)},clear:function(){var a=this._size;this.getContext(!0).clearRect(0,0,a.width+1,a.height+1)},createImageData:function(){var a=j.read(arguments);return this.getContext().createImageData(a.width,a.height)},getImageData:function(){var a=S.read(arguments);if(a.isEmpty())a=new S(this._size);return this.getContext().getImageData(a.x,a.y,a.width,a.height)},putImageData:function(a){var i=q.read(arguments,1);this.getContext(!0).putImageData(a,i.x,i.y)},setImageData:function(a){this.setSize(a),this.getContext(!0).putImageData(a,0,0)},_getBounds:function(a,i){var f=new S(this._size).setCenter(0,0);return a?a._transformBounds(f):f},_hitTestSelf:function(a){if(this._contains(a)){var i=this;return new s("pixel",i,{offset:a.add(i._size.divide(2)).round(),color:{get:function(){return i.getPixel(this.offset)}}})}},_draw:function(a,i,f){var Z=this.getElement();if(Z&&Z.width>0&&Z.height>0){a.globalAlpha=M.clamp(this._opacity,0,1),this._setStyles(a,i,f);var V=this._smoothing,g=V==="off";Fe.setPrefixed(a,g?"imageSmoothingEnabled":"imageSmoothingQuality",g?!1:V),a.drawImage(Z,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),n=be.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function a(i,f){if(!this._initialize(i,f!==p&&q.read(arguments,1)))this.setDefinition(i instanceof c?i:new c(i))},_equals:function(a){return this._definition===a._definition},copyContent:function(a){this.setDefinition(a._definition)},getDefinition:function(){return this._definition},setDefinition:function(a){this._definition=a,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(a,i){var f=this._definition._item;return f._getCachedBounds(f._matrix.prepended(a),i)},_hitTestSelf:function(a,i,f){var Z=i.extend({all:!1}),V=this._definition._item._hitTest(a,Z,f);if(V)V.item=this;return V},_draw:function(a,i){this._definition._item.draw(a,i)}}),c=_.extend({_class:"SymbolDefinition",initialize:function a(i,f){if(this._id=T.get(),this.project=U.project,i)this.setItem(i,f)},_serialize:function(a,i){return i.add(this,function(){return _.serialize([this._class,this._item],a,!1,i)})},_changed:function(a){if(a&8)be._clearBoundsCache(this);if(a&1)this.project._changed(a)},getItem:function(){return this._item},setItem:function(a,i){if(a._symbol)a=a.clone();if(this._item)this._item._symbol=null;if(this._item=a,a.remove(),a.setSelected(!1),!i)a.setPosition(new q);a._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(a){return new n(this,a)},clone:function(){return new c(this._item.clone(!1))},equals:function(a){return a===this||a&&this._item.equals(a._item)||!1}}),s=_.extend({_class:"HitResult",initialize:function a(i,f,Z){if(this.type=i,this.item=f,Z)this.inject(Z)},statics:{getOptions:function(a){var i=a&&_.read(a);return new _({type:null,tolerance:U.settings.hitTolerance,fill:!i,stroke:!i,segments:!i,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},i)}}}),t=_.extend({_class:"Segment",beans:!0,_selection:0,initialize:function a(i,f,Z,V,g,F){var z=arguments.length,J,K,oe,Y;if(z>0)if(i==null||typeof i==="object")if(z===1&&i&&"point"in i)J=i.point,K=i.handleIn,oe=i.handleOut,Y=i.selection;else J=i,K=f,oe=Z,Y=V;else J=[i,f],K=Z!==p?[Z,V]:null,oe=g!==p?[g,F]:null;if(new h(J,this,"_point"),new h(K,this,"_handleIn"),new h(oe,this,"_handleOut"),Y)this.setSelection(Y)},_serialize:function(a,i){var f=this._point,Z=this._selection,V=Z||this.hasHandles()?[f,this._handleIn,this._handleOut]:f;if(Z)V.push(Z);return _.serialize(V,a,!0,i)},_changed:function(a){var i=this._path;if(!i)return;var f=i._curves,Z=this._index,V;if(f){if((!a||a===this._point||a===this._handleIn)&&(V=Z>0?f[Z-1]:i._closed?f[f.length-1]:null))V._changed();if((!a||a===this._point||a===this._handleOut)&&(V=f[Z]))V._changed()}i._changed(41)},getPoint:function(){return this._point},setPoint:function(){this._point.set(q.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(q.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(q.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var a=this._handleIn,i=this._handleOut;return!a.isZero()&&!i.isZero()&&a.isCollinear(i)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(a){var i=this._selection,f=this._path;if(this._selection=a=a||0,f&&a!==i)f._updateSelection(this,i,a),f._changed(257)},_changeSelection:function(a,i){var f=this._selection;this.setSelection(i?f|a:f&~a)},isSelected:function(){return!!(this._selection&7)},setSelected:function(a){this._changeSelection(7,a)},getIndex:function(){return this._index!==p?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var a=this._path,i=this._index;if(a){if(i>0&&!a._closed&&i===a._segments.length-1)i--;return a.getCurves()[i]||null}return null},getLocation:function(){var a=this.getCurve();return a?new d(a,this===a._segment1?0:1):null},getNext:function(){var a=this._path&&this._path._segments;return a&&(a[this._index+1]||this._path._closed&&a[0])||null},smooth:function(a,i,f){var Z=a||{},V=Z.type,g=Z.factor,F=this.getPrevious(),z=this.getNext(),J=(F||this)._point,K=this._point,oe=(z||this)._point,Y=J.getDistance(K),G=K.getDistance(oe);if(!V||V==="catmull-rom"){var ne=g===p?0.5:g,A=Math.pow(Y,ne),re=A*A,ke=Math.pow(G,ne),ee=ke*ke;if(!i&&F){var ae=2*ee+3*ke*A+re,se=3*ke*(ke+A);this.setHandleIn(se!==0?new q((ee*J._x+ae*K._x-re*oe._x)/se-K._x,(ee*J._y+ae*K._y-re*oe._y)/se-K._y):new q)}if(!f&&z){var ae=2*re+3*A*ke+ee,se=3*A*(A+ke);this.setHandleOut(se!==0?new q((re*oe._x+ae*K._x-ee*J._x)/se-K._x,(re*oe._y+ae*K._y-ee*J._y)/se-K._y):new q)}}else if(V==="geometric"){if(F&&z){var Q=J.subtract(oe),le=g===p?0.4:g,fe=le*Y/(Y+G);if(!i)this.setHandleIn(Q.multiply(fe));if(!f)this.setHandleOut(Q.multiply(fe-le))}}else throw new Error("Smoothing method '"+V+"' not supported.")},getPrevious:function(){var a=this._path&&this._path._segments;return a&&(a[this._index-1]||this._path._closed&&a[a.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var a=this._path;return a&&this._index===a._segments.length-1||!1},reverse:function(){var a=this._handleIn,i=this._handleOut,f=a.clone();a.set(i),i.set(f)},reversed:function(){return new t(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new t(this._point,this._handleIn,this._handleOut)},equals:function(a){return a===this||a&&this._class===a._class&&this._point.equals(a._point)&&this._handleIn.equals(a._handleIn)&&this._handleOut.equals(a._handleOut)||!1},toString:function(){var a=["point: "+this._point];if(!this._handleIn.isZero())a.push("handleIn: "+this._handleIn);if(!this._handleOut.isZero())a.push("handleOut: "+this._handleOut);return"{ "+a.join(", ")+" }"},transform:function(a){this._transformCoordinates(a,new Array(6),!0),this._changed()},interpolate:function(a,i,f){var Z=1-f,V=f,g=a._point,F=i._point,z=a._handleIn,J=i._handleIn,K=i._handleOut,oe=a._handleOut;this._point._set(Z*g._x+V*F._x,Z*g._y+V*F._y,!0),this._handleIn._set(Z*z._x+V*J._x,Z*z._y+V*J._y,!0),this._handleOut._set(Z*oe._x+V*K._x,Z*oe._y+V*K._y,!0),this._changed()},_transformCoordinates:function(a,i,f){var Z=this._point,V=!f||!this._handleIn.isZero()?this._handleIn:null,g=!f||!this._handleOut.isZero()?this._handleOut:null,F=Z._x,z=Z._y,J=2;if(i[0]=F,i[1]=z,V)i[J++]=V._x+F,i[J++]=V._y+z;if(g)i[J++]=g._x+F,i[J++]=g._y+z;if(a)if(a._transformCoordinates(i,i,J/2),F=i[0],z=i[1],f){if(Z._x=F,Z._y=z,J=2,V)V._x=i[J++]-F,V._y=i[J++]-z;if(g)g._x=i[J++]-F,g._y=i[J++]-z}else{if(!V)i[J++]=F,i[J++]=z;if(!g)i[J++]=F,i[J++]=z}return i}}),h=q.extend({initialize:function a(i,f,Z){var V,g,F;if(!i)V=g=0;else if((V=i[0])!==p)g=i[1];else{var z=i;if((V=z.x)===p)z=q.read(arguments),V=z.x;g=z.y,F=z.selected}if(this._x=V,this._y=g,this._owner=f,f[Z]=this,F)this.setSelected(!0)},_set:function(a,i){return this._x=a,this._y=i,this._owner._changed(this),this},getX:function(){return this._x},setX:function(a){this._x=a,this._owner._changed(this)},getY:function(){return this._y},setY:function(a){this._y=a,this._owner._changed(this)},isZero:function(){var a=M.isZero;return a(this._x)&&a(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(a){this._owner._changeSelection(this._getSelection(),a)},_getSelection:function(){var a=this._owner;return this===a._point?1:this===a._handleIn?2:this===a._handleOut?4:0}}),k=_.extend({_class:"Curve",beans:!0,initialize:function a(i,f,Z,V,g,F,z,J){var K=arguments.length,oe,Y,G,ne,A,re;if(K===3)this._path=i,oe=f,Y=Z;else if(!K)oe=new t,Y=new t;else if(K===1){if("segment1"in i)oe=new t(i.segment1),Y=new t(i.segment2);else if("point1"in i)G=i.point1,A=i.handle1,re=i.handle2,ne=i.point2;else if(Array.isArray(i))G=[i[0],i[1]],ne=[i[6],i[7]],A=[i[2]-i[0],i[3]-i[1]],re=[i[4]-i[6],i[5]-i[7]]}else if(K===2)oe=new t(i),Y=new t(f);else if(K===4)G=i,A=f,re=Z,ne=V;else if(K===8)G=[i,f],ne=[z,J],A=[Z-i,V-f],re=[g-z,F-J];this._segment1=oe||new t(G,null,A),this._segment2=Y||new t(ne,re,null)},_serialize:function(a,i){return _.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],a,!0,i)},_changed:function(){this._length=this._bounds=p},clone:function(){return new k(this._segment1,this._segment2)},toString:function(){var a=["point1: "+this._segment1._point];if(!this._segment1._handleOut.isZero())a.push("handle1: "+this._segment1._handleOut);if(!this._segment2._handleIn.isZero())a.push("handle2: "+this._segment2._handleIn);return a.push("point2: "+this._segment2._point),"{ "+a.join(", ")+" }"},classify:function(){return k.classify(this.getValues())},remove:function(){var a=!1;if(this._path){var i=this._segment2,f=i._handleOut;if(a=i.remove(),a)this._segment1._handleOut.set(f)}return a},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(q.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(q.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(q.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(q.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var a=this._path&&this._path._curves;return a&&(a[this._segment1._index+1]||this._path._closed&&a[0])||null},getPrevious:function(){var a=this._path&&this._path._curves;return a&&(a[this._segment1._index-1]||this._path._closed&&a[a.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var a=this._path;return a&&this._segment1._index===a._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(a){this.getPoint1().setSelected(a),this.getHandle1().setSelected(a),this.getHandle2().setSelected(a),this.getPoint2().setSelected(a)},getValues:function(a){return k.getValues(this._segment1,this._segment2,a)},getPoints:function(){var a=this.getValues(),i=[];for(var f=0;f<8;f+=2)i.push(new q(a[f],a[f+1]));return i}},{getLength:function(){if(this._length==null)this._length=k.getLength(this.getValues(),0,1);return this._length},getArea:function(){return k.getArea(this.getValues())},getLine:function(){return new C(this._segment1._point,this._segment2._point)},getPart:function(a,i){return new k(k.getPart(this.getValues(),a,i))},getPartLength:function(a,i){return k.getLength(this.getValues(),a,i)},divideAt:function(a){return this.divideAtTime(a&&a.curve===this?a.time:this.getTimeAt(a))},divideAtTime:function(a,i){var f=0.00000001,Z=1-f,V=null;if(a>=f&&a<=Z){var g=k.subdivide(this.getValues(),a),F=g[0],z=g[1],J=i||this.hasHandles(),K=this._segment1,oe=this._segment2,Y=this._path;if(J)K._handleOut._set(F[2]-F[0],F[3]-F[1]),oe._handleIn._set(z[4]-z[6],z[5]-z[7]);var G=F[6],ne=F[7],A=new t(new q(G,ne),J&&new q(F[4]-G,F[5]-ne),J&&new q(z[2]-G,z[3]-ne));if(Y)Y.insert(K._index+1,A),V=this.getNext();else this._segment2=A,this._changed(),V=new k(A,oe)}return V},splitAt:function(a){var i=this._path;return i?i.splitAt(a):null},splitAtTime:function(a){return this.splitAt(this.getLocationAtTime(a))},divide:function(a,i){return this.divideAtTime(a===p?0.5:i?a:this.getTimeAt(a))},split:function(a,i){return this.splitAtTime(a===p?0.5:i?a:this.getTimeAt(a))},reversed:function(){return new k(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(a,i,f,Z){var{_point:V,_handleOut:g}=a,F=i._handleIn,z=i._point,J=V.x,K=V.y,oe=z.x,Y=z.y,G=Z?[J,K,J,K,oe,Y,oe,Y]:[J,K,J+g._x,K+g._y,oe+F._x,Y+F._y,oe,Y];if(f)f._transformCoordinates(G,G,4);return G},subdivide:function(a,i){var f=a[0],Z=a[1],V=a[2],g=a[3],F=a[4],z=a[5],J=a[6],K=a[7];if(i===p)i=0.5;var oe=1-i,Y=oe*f+i*V,G=oe*Z+i*g,ne=oe*V+i*F,A=oe*g+i*z,re=oe*F+i*J,ke=oe*z+i*K,ee=oe*Y+i*ne,ae=oe*G+i*A,se=oe*ne+i*re,Q=oe*A+i*ke,le=oe*ee+i*se,fe=oe*ae+i*Q;return[[f,Z,Y,G,ee,ae,le,fe],[le,fe,se,Q,re,ke,J,K]]},getMonoCurves:function(a,i){var f=[],Z=i?0:1,V=a[Z+0],g=a[Z+2],F=a[Z+4],z=a[Z+6];if(V>=g===g>=F&&g>=F===F>=z||k.isStraight(a))f.push(a);else{var J=3*(g-F)-V+z,K=2*(V+F)-4*g,oe=g-V,Y=0.00000001,G=1-Y,ne=[],A=M.solveQuadratic(J,K,oe,ne,Y,G);if(!A)f.push(a);else{ne.sort();var re=ne[0],ke=k.subdivide(a,re);if(f.push(ke[0]),A>1)re=(ne[1]-re)/(1-re),ke=k.subdivide(ke[1],re),f.push(ke[0]);f.push(ke[1])}}return f},solveCubic:function(a,i,f,Z,V,g){var F=a[i],z=a[i+2],J=a[i+4],K=a[i+6],oe=0;if(!(F<f&&K<f&&z<f&&J<f||F>f&&K>f&&z>f&&J>f)){var Y=3*(z-F),G=3*(J-z)-Y,ne=K-F-Y-G;oe=M.solveCubic(ne,G,Y,F-f,Z,V,g)}return oe},getTimeOf:function(a,i){var f=new q(a[0],a[1]),Z=new q(a[6],a[7]),V=0.000000000001,g=0.0000001,F=i.isClose(f,V)?0:i.isClose(Z,V)?1:null;if(F===null){var z=[i.x,i.y],J=[];for(var K=0;K<2;K++){var oe=k.solveCubic(a,K,z[K],J,0,1);for(var Y=0;Y<oe;Y++){var G=J[Y];if(i.isClose(k.getPoint(a,G),g))return G}}}return i.isClose(f,g)?0:i.isClose(Z,g)?1:null},getNearestTime:function(a,i){if(k.isStraight(a)){var f=a[0],Z=a[1],V=a[6],g=a[7],F=V-f,z=g-Z,J=F*F+z*z;if(J===0)return 0;var K=((i.x-f)*F+(i.y-Z)*z)/J;return K<0.000000000001?0:K>0.999999999999?1:k.getTimeOf(a,new q(f+K*F,Z+K*z))}var oe=100,Y=1/0,G=0;function ne(ke){if(ke>=0&&ke<=1){var ee=i.getDistance(k.getPoint(a,ke),!0);if(ee<Y)return Y=ee,G=ke,!0}}for(var A=0;A<=oe;A++)ne(A/oe);var re=1/(oe*2);while(re>0.00000001)if(!ne(G-re)&&!ne(G+re))re/=2;return G},getPart:function(a,i,f){var Z=i>f;if(Z){var V=i;i=f,f=V}if(i>0)a=k.subdivide(a,i)[1];if(f<1)a=k.subdivide(a,(f-i)/(1-i))[0];return Z?[a[6],a[7],a[4],a[5],a[2],a[3],a[0],a[1]]:a},isFlatEnough:function(a,i){var f=a[0],Z=a[1],V=a[2],g=a[3],F=a[4],z=a[5],J=a[6],K=a[7],oe=3*V-2*f-J,Y=3*g-2*Z-K,G=3*F-2*J-f,ne=3*z-2*K-Z;return Math.max(oe*oe,G*G)+Math.max(Y*Y,ne*ne)<=16*i*i},getArea:function(a){var i=a[0],f=a[1],Z=a[2],V=a[3],g=a[4],F=a[5],z=a[6],J=a[7];return 3*((J-f)*(Z+g)-(z-i)*(V+F)+V*(i-g)-Z*(f-F)+J*(g+i/3)-z*(F+f/3))/20},getBounds:function(a){var i=a.slice(0,2),f=i.slice(),Z=[0,0];for(var V=0;V<2;V++)k._addBounds(a[V],a[V+2],a[V+4],a[V+6],V,0,i,f,Z);return new S(i[0],i[1],f[0]-i[0],f[1]-i[1])},_addBounds:function(a,i,f,Z,V,g,F,z,J){function K(le,fe){var me=le-fe,de=le+fe;if(me<F[V])F[V]=me;if(de>z[V])z[V]=de}g/=2;var oe=F[V]+g,Y=z[V]-g;if(a<oe||i<oe||f<oe||Z<oe||a>Y||i>Y||f>Y||Z>Y)if(i<a!=i<Z&&f<a!=f<Z)K(a,0),K(Z,0);else{var G=3*(i-f)-a+Z,ne=2*(a+f)-4*i,A=i-a,re=M.solveQuadratic(G,ne,A,J),ke=0.00000001,ee=1-ke;K(Z,0);for(var ae=0;ae<re;ae++){var se=J[ae],Q=1-se;if(ke<=se&&se<=ee)K(Q*Q*Q*a+3*Q*Q*se*i+3*Q*se*se*f+se*se*se*Z,g)}}}}},_.each(["getBounds","getStrokeBounds","getHandleBounds"],function(a){this[a]=function(){if(!this._bounds)this._bounds={};var i=this._bounds[a];if(!i)i=this._bounds[a]=b[a]([this._segment1,this._segment2],!1,this._path);return i.clone()}},{}),_.each({isStraight:function(a,i,f,Z){if(i.isZero()&&f.isZero())return!0;else{var V=Z.subtract(a);if(V.isZero())return!1;else if(V.isCollinear(i)&&V.isCollinear(f)){var g=new C(a,Z),F=0.0000001;if(g.getDistance(a.add(i))<F&&g.getDistance(Z.add(f))<F){var z=V.dot(V),J=V.dot(i)/z,K=V.dot(f)/z;return J>=0&&J<=1&&K<=0&&K>=-1}}}return!1},isLinear:function(a,i,f,Z){var V=Z.subtract(a).divide(3);return i.equals(V)&&f.negate().equals(V)}},function(a,i){this[i]=function(f){var Z=this._segment1,V=this._segment2;return a(Z._point,Z._handleOut,V._handleIn,V._point,f)},this.statics[i]=function(f,Z){var V=f[0],g=f[1],F=f[6],z=f[7];return a(new q(V,g),new q(f[2]-V,f[3]-g),new q(f[4]-F,f[5]-z),new q(F,z),Z)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(a){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(a||0)},isCollinear:function(a){return a&&this.isStraight()&&a.isStraight()&&this.getLine().isCollinear(a.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).y)<0.00000001},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).x)<0.00000001}}),{beans:!1,getLocationAt:function(a,i){return this.getLocationAtTime(i?a:this.getTimeAt(a))},getLocationAtTime:function(a){return a!=null&&a>=0&&a<=1?new d(this,a):null},getTimeAt:function(a,i){return k.getTimeAt(this.getValues(),a,i)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var a=q.read(arguments);return a.isZero()?[]:k.getTimesWithTangent(this.getValues(),a)},getOffsetAtTime:function(a){return this.getPartLength(0,a)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(q.read(arguments)))},getOffsetOf:function(){var a=this.getLocationOf.apply(this,arguments);return a?a.getOffset():null},getTimeOf:function(){return k.getTimeOf(this.getValues(),q.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var a=q.read(arguments),i=this.getValues(),f=k.getNearestTime(i,a),Z=k.getPoint(i,f);return new d(this,f,Z,null,a.getDistance(Z))},getNearestPoint:function(){var a=this.getNearestLocation.apply(this,arguments);return a?a.getPoint():a}},new function(){var a=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return _.each(a,function(i){this[i+"At"]=function(f,Z){var V=this.getValues();return k[i](V,Z?f:k.getTimeAt(V,f))},this[i+"AtTime"]=function(f){return k[i](this.getValues(),f)}},{statics:{_evaluateMethods:a}})},new function(){function a(Z){var V=Z[0],g=Z[1],F=Z[2],z=Z[3],J=Z[4],K=Z[5],oe=Z[6],Y=Z[7],G=9*(F-J)+3*(oe-V),ne=6*(V+J)-12*F,A=3*(F-V),re=9*(z-K)+3*(Y-g),ke=6*(g+K)-12*z,ee=3*(z-g);return function(ae){var se=(G*ae+ne)*ae+A,Q=(re*ae+ke)*ae+ee;return Math.sqrt(se*se+Q*Q)}}function i(Z,V){return Math.max(2,Math.min(16,Math.ceil(Math.abs(V-Z)*32)))}function f(Z,V,g,F){if(V==null||V<0||V>1)return null;var z=Z[0],J=Z[1],K=Z[2],oe=Z[3],Y=Z[4],G=Z[5],ne=Z[6],A=Z[7],re=M.isZero;if(re(K-z)&&re(oe-J))K=z,oe=J;if(re(Y-ne)&&re(G-A))Y=ne,G=A;var ke=3*(K-z),ee=3*(Y-K)-ke,ae=ne-z-ke-ee,se=3*(oe-J),Q=3*(G-oe)-se,le=A-J-se-Q,fe,me;if(g===0)fe=V===0?z:V===1?ne:((ae*V+ee)*V+ke)*V+z,me=V===0?J:V===1?A:((le*V+Q)*V+se)*V+J;else{var de=0.00000001,Oe=1-de;if(V<de)fe=ke,me=se;else if(V>Oe)fe=3*(ne-Y),me=3*(A-G);else fe=(3*ae*V+2*ee)*V+ke,me=(3*le*V+2*Q)*V+se;if(F){if(fe===0&&me===0&&(V<de||V>Oe))fe=Y-K,me=G-oe;var _e=Math.sqrt(fe*fe+me*me);if(_e)fe/=_e,me/=_e}if(g===3){var Y=6*ae*V+2*ee,G=6*le*V+2*Q,ve=Math.pow(fe*fe+me*me,1.5);fe=ve!==0?(fe*G-me*Y)/ve:0,me=0}}return g===2?new q(me,-fe):new q(fe,me)}return{statics:{classify:function(Z){var V=Z[0],g=Z[1],F=Z[2],z=Z[3],J=Z[4],K=Z[5],oe=Z[6],Y=Z[7],G=V*(Y-K)+g*(J-oe)+oe*K-Y*J,ne=F*(g-Y)+z*(oe-V)+V*Y-g*oe,A=J*(z-g)+K*(V-F)+F*g-z*V,re=3*A,ke=re-ne,ee=ke-ne+G,ae=Math.sqrt(ee*ee+ke*ke+re*re),se=ae!==0?1/ae:0,Q=M.isZero,le="serpentine";ee*=se,ke*=se,re*=se;function fe(_e,ve,Xe){var ye=ve!==p,Ze=ye&&ve>0&&ve<1,we=ye&&Xe>0&&Xe<1;if(ye&&(!(Ze||we)||_e==="loop"&&!(Ze&&we)))_e="arch",Ze=we=!1;return{type:_e,roots:Ze||we?Ze&&we?ve<Xe?[ve,Xe]:[Xe,ve]:[Ze?ve:Xe]:null}}if(Q(ee))return Q(ke)?fe(Q(re)?"line":"quadratic"):fe(le,re/(3*ke));var me=3*ke*ke-4*ee*re;if(Q(me))return fe("cusp",ke/(2*ee));var de=me>0?Math.sqrt(me/3):Math.sqrt(-me),Oe=2*ee;return fe(me>0?le:"loop",(ke+de)/Oe,(ke-de)/Oe)},getLength:function(Z,V,g,F){if(V===p)V=0;if(g===p)g=1;if(k.isStraight(Z)){var z=Z;if(g<1)z=k.subdivide(z,g)[0],V/=g;if(V>0)z=k.subdivide(z,V)[1];var J=z[6]-z[0],K=z[7]-z[1];return Math.sqrt(J*J+K*K)}return M.integrate(F||a(Z),V,g,i(V,g))},getTimeAt:function(Z,V,g){if(g===p)g=V<0?1:0;if(V===0)return g;var F=Math.abs,z=0.000000000001,J=V>0,K=J?g:0,oe=J?1:g,Y=a(Z),G=k.getLength(Z,K,oe,Y),ne=F(V)-G;if(F(ne)<z)return J?oe:K;else if(ne>z)return null;var A=V/G,re=0;function ke(ee){return re+=M.integrate(Y,g,ee,i(g,ee)),g=ee,re-V}return M.findRoot(ke,Y,g+A,K,oe,32,0.000000000001)},getPoint:function(Z,V){return f(Z,V,0,!1)},getTangent:function(Z,V){return f(Z,V,1,!0)},getWeightedTangent:function(Z,V){return f(Z,V,1,!1)},getNormal:function(Z,V){return f(Z,V,2,!0)},getWeightedNormal:function(Z,V){return f(Z,V,2,!1)},getCurvature:function(Z,V){return f(Z,V,3,!1).x},getPeaks:function(Z){var V=Z[0],g=Z[1],F=Z[2],z=Z[3],J=Z[4],K=Z[5],oe=Z[6],Y=Z[7],G=-V+3*F-3*J+oe,ne=3*V-6*F+3*J,A=-3*V+3*F,re=-g+3*z-3*K+Y,ke=3*g-6*z+3*K,ee=-3*g+3*z,ae=0.00000001,se=1-ae,Q=[];return M.solveCubic(9*(G*G+re*re),9*(G*ne+ke*re),2*(ne*ne+ke*ke)+3*(A*G+ee*re),A*ne+ke*ee,Q,ae,se),Q.sort()}}}},new function(){function a(ne,A,re,ke,ee,ae,se){var Q=!se&&re.getPrevious()===ee,le=!se&&re!==ee&&re.getNext()===ee,fe=0.00000001,me=1-fe;if(ke!==null&&ke>=(Q?fe:0)&&ke<=(le?me:1)){if(ae!==null&&ae>=(le?fe:0)&&ae<=(Q?me:1)){var de=new d(re,ke,null,se),Oe=new d(ee,ae,null,se);if(de._intersection=Oe,Oe._intersection=de,!A||A(de))d.insert(ne,de,!0)}}}function i(ne,A,re,ke,ee,ae,se,Q,le,fe,me,de,Oe){if(++le>=4096||++Q>=40)return le;var _e=0.000000001,ve=A[0],Xe=A[1],ye=A[6],Ze=A[7],we=C.getSignedDistance,Me=we(ve,Xe,ye,Ze,A[2],A[3]),Ue=we(ve,Xe,ye,Ze,A[4],A[5]),ze=Me*Ue>0?0.75:0.4444444444444444,Ke=ze*Math.min(0,Me,Ue),Ee=ze*Math.max(0,Me,Ue),De=we(ve,Xe,ye,Ze,ne[0],ne[1]),Ge=we(ve,Xe,ye,Ze,ne[2],ne[3]),Ce=we(ve,Xe,ye,Ze,ne[4],ne[5]),He=we(ve,Xe,ye,Ze,ne[6],ne[7]),Be=f(De,Ge,Ce,He),Ye=Be[0],lo=Be[1],Ae,ao;if(Me===0&&Ue===0&&De===0&&Ge===0&&Ce===0&&He===0||(Ae=Z(Ye,lo,Ke,Ee))==null||(ao=Z(Ye.reverse(),lo.reverse(),Ke,Ee))==null)return le;var no=fe+(me-fe)*Ae,oo=fe+(me-fe)*ao;if(Math.max(Oe-de,oo-no)<_e){var uo=(no+oo)/2,to=(de+Oe)/2;a(ee,ae,se?ke:re,se?to:uo,se?re:ke,se?uo:to)}else{ne=k.getPart(ne,Ae,ao);var fo=Oe-de;if(ao-Ae>0.8)if(oo-no>fo){var io=k.subdivide(ne,0.5),uo=(no+oo)/2;le=i(A,io[0],ke,re,ee,ae,!se,Q,le,de,Oe,no,uo),le=i(A,io[1],ke,re,ee,ae,!se,Q,le,de,Oe,uo,oo)}else{var io=k.subdivide(A,0.5),to=(de+Oe)/2;le=i(io[0],ne,ke,re,ee,ae,!se,Q,le,de,to,no,oo),le=i(io[1],ne,ke,re,ee,ae,!se,Q,le,to,Oe,no,oo)}else if(fo===0||fo>=_e)le=i(A,ne,ke,re,ee,ae,!se,Q,le,de,Oe,no,oo);else le=i(ne,A,re,ke,ee,ae,se,Q,le,no,oo,de,Oe)}return le}function f(ne,A,re,ke){var ee=[0,ne],ae=[0.3333333333333333,A],se=[0.6666666666666666,re],Q=[1,ke],le=A-(2*ne+ke)/3,fe=re-(ne+2*ke)/3,me;if(le*fe<0)me=[[ee,ae,Q],[ee,se,Q]];else{var de=le/fe;me=[de>=2?[ee,ae,Q]:de<=0.5?[ee,se,Q]:[ee,ae,se,Q],[ee,Q]]}return(le||fe)<0?me.reverse():me}function Z(ne,A,re,ke){if(ne[0][1]<re)return V(ne,!0,re);else if(A[0][1]>ke)return V(A,!1,ke);else return ne[0][0]}function V(ne,A,re){var ke=ne[0][0],ee=ne[0][1];for(var ae=1,se=ne.length;ae<se;ae++){var Q=ne[ae][0],le=ne[ae][1];if(A?le>=re:le<=re)return le===re?Q:ke+(re-ee)*(Q-ke)/(le-ee);ke=Q,ee=le}return null}function g(ne,A,re,ke,ee){var ae=M.isZero;if(ae(ke)&&ae(ee)){var se=k.getTimeOf(ne,new q(A,re));return se===null?[]:[se]}var Q=Math.atan2(-ee,ke),le=Math.sin(Q),fe=Math.cos(Q),me=[],de=[];for(var Oe=0;Oe<8;Oe+=2){var _e=ne[Oe]-A,ve=ne[Oe+1]-re;me.push(_e*fe-ve*le,_e*le+ve*fe)}return k.solveCubic(me,1,0,de,0,1),de}function F(ne,A,re,ke,ee,ae,se){var Q=A[0],le=A[1],fe=A[6],me=A[7],de=g(ne,Q,le,fe-Q,me-le);for(var Oe=0,_e=de.length;Oe<_e;Oe++){var ve=de[Oe],Xe=k.getPoint(ne,ve),ye=k.getTimeOf(A,Xe);if(ye!==null)a(ee,ae,se?ke:re,se?ye:ve,se?re:ke,se?ve:ye)}}function z(ne,A,re,ke,ee,ae){var se=C.intersect(ne[0],ne[1],ne[6],ne[7],A[0],A[1],A[6],A[7]);if(se)a(ee,ae,re,k.getTimeOf(ne,se),ke,k.getTimeOf(A,se))}function J(ne,A,re,ke,ee,ae){var se=0.000000000001,Q=Math.min,le=Math.max;if(le(ne[0],ne[2],ne[4],ne[6])+se>Q(A[0],A[2],A[4],A[6])&&Q(ne[0],ne[2],ne[4],ne[6])-se<le(A[0],A[2],A[4],A[6])&&le(ne[1],ne[3],ne[5],ne[7])+se>Q(A[1],A[3],A[5],A[7])&&Q(ne[1],ne[3],ne[5],ne[7])-se<le(A[1],A[3],A[5],A[7])){var fe=Y(ne,A);if(fe)for(var me=0;me<2;me++){var de=fe[me];a(ee,ae,re,de[0],ke,de[1],!0)}else{var Oe=k.isStraight(ne),_e=k.isStraight(A),ve=Oe&&_e,Xe=Oe&&!_e,ye=ee.length;if((ve?z:Oe||_e?F:i)(Xe?A:ne,Xe?ne:A,Xe?ke:re,Xe?re:ke,ee,ae,Xe,0,0,0,1,0,1),!ve||ee.length===ye)for(var me=0;me<4;me++){var Ze=me>>1,we=me&1,Me=Ze*6,Ue=we*6,ze=new q(ne[Me],ne[Me+1]),Ke=new q(A[Ue],A[Ue+1]);if(ze.isClose(Ke,se))a(ee,ae,re,Ze,ke,we)}}}return ee}function K(ne,A,re,ke){var ee=k.classify(ne);if(ee.type==="loop"){var ae=ee.roots;a(re,ke,A,ae[0],A,ae[1])}return re}function oe(ne,A,re,ke,ee,ae){var se=0.0000001,Q=!A;if(Q)A=ne;var le=ne.length,fe=A.length,me=new Array(le),de=Q?me:new Array(fe),Oe=[];for(var _e=0;_e<le;_e++)me[_e]=ne[_e].getValues(ke);if(!Q)for(var _e=0;_e<fe;_e++)de[_e]=A[_e].getValues(ee);var ve=v.findCurveBoundsCollisions(me,de,se);for(var Xe=0;Xe<le;Xe++){var ye=ne[Xe],Ze=me[Xe];if(Q)K(Ze,ye,Oe,re);var we=ve[Xe];if(we)for(var Me=0;Me<we.length;Me++){if(ae&&Oe.length)return Oe;var Ue=we[Me];if(!Q||Ue>Xe){var ze=A[Ue],Ke=de[Ue];J(Ze,Ke,ye,ze,Oe,re)}}}return Oe}function Y(ne,A){function re(He){var Be=He[6]-He[0],Ye=He[7]-He[1];return Be*Be+Ye*Ye}var ke=Math.abs,ee=C.getDistance,ae=0.00000001,se=0.0000001,Q=k.isStraight(ne),le=k.isStraight(A),fe=Q&&le,me=re(ne)<re(A),de=me?A:ne,Oe=me?ne:A,_e=de[0],ve=de[1],Xe=de[6]-_e,ye=de[7]-ve;if(ee(_e,ve,Xe,ye,Oe[0],Oe[1],!0)<se&&ee(_e,ve,Xe,ye,Oe[6],Oe[7],!0)<se){if(!fe&&ee(_e,ve,Xe,ye,de[2],de[3],!0)<se&&ee(_e,ve,Xe,ye,de[4],de[5],!0)<se&&ee(_e,ve,Xe,ye,Oe[2],Oe[3],!0)<se&&ee(_e,ve,Xe,ye,Oe[4],Oe[5],!0)<se)Q=le=fe=!0}else if(fe)return null;if(Q^le)return null;var Ze=[ne,A],we=[];for(var Me=0;Me<4&&we.length<2;Me++){var Ue=Me&1,ze=Ue^1,Ke=Me>>1,Ee=k.getTimeOf(Ze[Ue],new q(Ze[ze][Ke?6:0],Ze[ze][Ke?7:1]));if(Ee!=null){var De=Ue?[Ke,Ee]:[Ee,Ke];if(!we.length||ke(De[0]-we[0][0])>ae&&ke(De[1]-we[0][1])>ae)we.push(De)}if(Me>2&&!we.length)break}if(we.length!==2)we=null;else if(!fe){var Ge=k.getPart(ne,we[0][0],we[1][0]),Ce=k.getPart(A,we[0][1],we[1][1]);if(ke(Ce[2]-Ge[2])>se||ke(Ce[3]-Ge[3])>se||ke(Ce[4]-Ge[4])>se||ke(Ce[5]-Ge[5])>se)we=null}return we}function G(ne,A){var re=ne[0],ke=ne[1],ee=ne[2],ae=ne[3],se=ne[4],Q=ne[5],le=ne[6],fe=ne[7],me=A.normalize(),de=me.x,Oe=me.y,_e=3*le-9*se+9*ee-3*re,ve=3*fe-9*Q+9*ae-3*ke,Xe=6*se-12*ee+6*re,ye=6*Q-12*ae+6*ke,Ze=3*ee-3*re,we=3*ae-3*ke,Me=2*_e*Oe-2*ve*de,Ue=[];if(Math.abs(Me)<M.CURVETIME_EPSILON){var ze=_e*we-ve*Ze,Me=_e*ye-ve*Xe;if(Me!=0){var Ke=-ze/Me;if(Ke>=0&&Ke<=1)Ue.push(Ke)}}else{var Ee=(Xe*Xe-4*_e*Ze)*Oe*Oe+(-2*Xe*ye+4*ve*Ze+4*_e*we)*de*Oe+(ye*ye-4*ve*we)*de*de,De=Xe*Oe-ye*de;if(Ee>=0&&Me!=0){var Ge=Math.sqrt(Ee),Ce=-(De+Ge)/Me,He=(-De+Ge)/Me;if(Ce>=0&&Ce<=1)Ue.push(Ce);if(He>=0&&He<=1)Ue.push(He)}}return Ue}return{getIntersections:function(ne){var A=this.getValues(),re=ne&&ne!==this&&ne.getValues();return re?J(A,re,this,ne,[]):K(A,this,[])},statics:{getOverlaps:Y,getIntersections:oe,getCurveLineIntersections:g,getTimesWithTangent:G}}}),d=_.extend({_class:"CurveLocation",initialize:function a(i,f,Z,V,g){if(f>=0.99999999){var F=i.getNext();if(F)f=0,i=F}this._setCurve(i),this._time=f,this._point=Z||i.getPointAtTime(f),this._overlap=V,this._distance=g,this._intersection=this._next=this._previous=null},_setPath:function(a){this._path=a,this._version=a?a._version:0},_setCurve:function(a){this._setPath(a._path),this._curve=a,this._segment=null,this._segment1=a._segment1,this._segment2=a._segment2},_setSegment:function(a){var i=a.getCurve();if(i)this._setCurve(i);else this._setPath(a._path),this._segment1=a,this._segment2=null;this._segment=a,this._time=a===this._segment1?0:1,this._point=a._point.clone()},getSegment:function(){var a=this._segment;if(!a){var i=this.getCurve(),f=this.getTime();if(f===0)a=i._segment1;else if(f===1)a=i._segment2;else if(f!=null)a=i.getPartLength(0,f)<i.getPartLength(f,1)?i._segment1:i._segment2;this._segment=a}return a},getCurve:function(){var a=this._path,i=this;if(a&&a._version!==this._version)this._time=this._offset=this._curveOffset=this._curve=null;function f(Z){var V=Z&&Z.getCurve();if(V&&(i._time=V.getTimeOf(i._point))!=null)return i._setCurve(V),V}return this._curve||f(this._segment)||f(this._segment1)||f(this._segment2.getPrevious())},getPath:function(){var a=this.getCurve();return a&&a._path},getIndex:function(){var a=this.getCurve();return a&&a.getIndex()},getTime:function(){var a=this.getCurve(),i=this._time;return a&&i==null?this._time=a.getTimeOf(this._point):i},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var a=this._offset;if(a==null){a=0;var i=this.getPath(),f=this.getIndex();if(i&&f!=null){var Z=i.getCurves();for(var V=0;V<f;V++)a+=Z[V].getLength()}this._offset=a+=this.getCurveOffset()}return a},getCurveOffset:function(){var a=this._curveOffset;if(a==null){var i=this.getCurve(),f=this.getTime();this._curveOffset=a=f!=null&&i&&i.getPartLength(0,f)}return a},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var a=this.getCurve(),i=a&&a.divideAtTime(this.getTime());if(i)this._setSegment(i._segment1);return i},split:function(){var a=this.getCurve(),i=a._path,f=a&&a.splitAtTime(this.getTime());if(f)this._setSegment(i.getLastSegment());return f},equals:function(a,i){var f=this===a;if(!f&&a instanceof d){var Z=this.getCurve(),V=a.getCurve(),g=Z._path,F=V._path;if(g===F){var z=Math.abs,J=0.0000001,K=z(this.getOffset()-a.getOffset()),oe=!i&&this._intersection,Y=!i&&a._intersection;f=(K<J||g&&z(g.getLength()-K)<J)&&(!oe&&!Y||oe&&Y&&oe.equals(Y,!0))}}return f},toString:function(){var a=[],i=this.getPoint(),f=$.instance;if(i)a.push("point: "+i);var Z=this.getIndex();if(Z!=null)a.push("index: "+Z);var V=this.getTime();if(V!=null)a.push("time: "+f.number(V));if(this._distance!=null)a.push("distance: "+f.number(this._distance));return"{ "+a.join(", ")+" }"},isTouching:function(){var a=this._intersection;if(a&&this.getTangent().isCollinear(a.getTangent())){var i=this.getCurve(),f=a.getCurve();return!(i.isStraight()&&f.isStraight()&&i.getLine().intersect(f.getLine()))}return!1},isCrossing:function(){var a=this._intersection;if(!a)return!1;var i=this.getTime(),f=a.getTime(),Z=0.00000001,V=1-Z,g=i>=Z&&i<=V,F=f>=Z&&f<=V;if(g&&F)return!this.isTouching();var z=this.getCurve(),J=z&&i<Z?z.getPrevious():z,K=a.getCurve(),oe=K&&f<Z?K.getPrevious():K;if(i>V)z=z.getNext();if(f>V)K=K.getNext();if(!J||!z||!oe||!K)return!1;var Y=[];function G(de,Oe){var _e=de.getValues(),ve=k.classify(_e).roots||k.getPeaks(_e),Xe=ve.length,ye=k.getLength(_e,Oe&&Xe?ve[Xe-1]:0,!Oe&&Xe?ve[0]:1);Y.push(Xe?ye:ye/32)}function ne(de,Oe,_e){return Oe<_e?de>Oe&&de<_e:de>Oe||de<_e}if(!g)G(J,!0),G(z,!1);if(!F)G(oe,!0),G(K,!1);var A=this.getPoint(),re=Math.min.apply(Math,Y),ke=g?z.getTangentAtTime(i):z.getPointAt(re).subtract(A),ee=g?ke.negate():J.getPointAt(-re).subtract(A),ae=F?K.getTangentAtTime(f):K.getPointAt(re).subtract(A),se=F?ae.negate():oe.getPointAt(-re).subtract(A),Q=ee.getAngle(),le=ke.getAngle(),fe=se.getAngle(),me=ae.getAngle();return!!(g?ne(Q,fe,me)^ne(le,fe,me)&&ne(Q,me,fe)^ne(le,me,fe):ne(fe,Q,le)^ne(me,Q,le)&&ne(fe,le,Q)^ne(me,le,Q))},hasOverlap:function(){return!!this._overlap}},_.each(k._evaluateMethods,function(a){var i=a+"At";this[a]=function(){var f=this.getCurve(),Z=this.getTime();return Z!=null&&f&&f[i](Z,!0)}},{preserve:!0}),new function(){function a(i,f,Z){var V=i.length,g=0,F=V-1;function z(A,re){for(var ke=A+re;ke>=-1&&ke<=V;ke+=re){var ee=i[(ke%V+V)%V];if(!f.getPoint().isClose(ee.getPoint(),0.0000001))break;if(f.equals(ee))return ee}return null}while(g<=F){var J=g+F>>>1,K=i[J],oe;if(Z&&(oe=f.equals(K)?K:z(J,-1)||z(J,1))){if(f._overlap)oe._overlap=oe._intersection._overlap=!0;return oe}var Y=f.getPath(),G=K.getPath(),ne=Y!==G?Y._id-G._id:f.getIndex()+f.getTime()-(K.getIndex()+K.getTime());if(ne<0)F=J-1;else g=J+1}return i.splice(g,0,f),f}return{statics:{insert:a,expand:function(i){var f=i.slice();for(var Z=i.length-1;Z>=0;Z--)a(f,i[Z]._intersection,!1);return f}}}}),o=be.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function a(){},statics:{create:function(a){var i,f,Z;if(_.isPlainObject(a))f=a.segments,i=a.pathData;else if(Array.isArray(a))f=a;else if(typeof a==="string")i=a;if(f){var V=f[0];Z=V&&Array.isArray(V[0])}else if(i)Z=(i.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(i);var g=Z?W:b;return new g(a)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(a){if(this.isClockwise()!=(a=!!a))this.reverse()},setPathData:function(a){var i=a&&a.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),f,Z=!1,V,g,F=new q,z=new q;function J(se,Q){var le=+f[se];if(Z)le+=F[Q];return le}function K(se){return new q(J(se,"x"),J(se+1,"y"))}this.clear();for(var oe=0,Y=i&&i.length;oe<Y;oe++){var G=i[oe],ne=G[0],A=ne.toLowerCase();f=G.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var re=f&&f.length;if(Z=ne===A,V==="z"&&!/[mz]/.test(A))this.moveTo(F);switch(A){case"m":case"l":var ke=A==="m";for(var ee=0;ee<re;ee+=2)if(this[ke?"moveTo":"lineTo"](F=K(ee)),ke)z=F,ke=!1;g=F;break;case"h":case"v":var ae=A==="h"?"x":"y";F=F.clone();for(var ee=0;ee<re;ee++)F[ae]=J(ee,ae),this.lineTo(F);g=F;break;case"c":for(var ee=0;ee<re;ee+=6)this.cubicCurveTo(K(ee),g=K(ee+2),F=K(ee+4));break;case"s":for(var ee=0;ee<re;ee+=4)this.cubicCurveTo(/[cs]/.test(V)?F.multiply(2).subtract(g):F,g=K(ee),F=K(ee+2)),V=A;break;case"q":for(var ee=0;ee<re;ee+=4)this.quadraticCurveTo(g=K(ee),F=K(ee+2));break;case"t":for(var ee=0;ee<re;ee+=2)this.quadraticCurveTo(g=/[qt]/.test(V)?F.multiply(2).subtract(g):F,F=K(ee)),V=A;break;case"a":for(var ee=0;ee<re;ee+=7)this.arcTo(F=K(ee+5),new j(+f[ee],+f[ee+1]),+f[ee+2],+f[ee+4],+f[ee+3]);break;case"z":this.closePath(0.000000000001),F=z;break}V=A}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(a){var i=a.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(a):{};return i.onPath||!!(this.getFillRule()==="evenodd"?i.windingL&1||i.windingR&1:i.winding)},getIntersections:function(a,i,f,Z){var V=this===a||!a,g=this._matrix._orNullIfIdentity(),F=V?g:(f||a._matrix)._orNullIfIdentity();return V||this.getBounds(g).intersects(a.getBounds(F),0.000000000001)?k.getIntersections(this.getCurves(),!V&&a.getCurves(),i,g,F,Z):[]},getCrossings:function(a){return this.getIntersections(a,function(i){return i.isCrossing()})},getNearestLocation:function(){var a=q.read(arguments),i=this.getCurves(),f=1/0,Z=null;for(var V=0,g=i.length;V<g;V++){var F=i[V].getNearestLocation(a);if(F._distance<f)f=F._distance,Z=F}return Z},getNearestPoint:function(){var a=this.getNearestLocation.apply(this,arguments);return a?a.getPoint():a},interpolate:function(a,i,f){var Z=!this._children,V=Z?"_segments":"_children",g=a[V],F=i[V],z=this[V];if(!g||!F||g.length!==F.length)throw new Error("Invalid operands in interpolate() call: "+a+", "+i);var J=z.length,K=F.length;if(J<K){var oe=Z?t:b;for(var Y=J;Y<K;Y++)this.add(new oe)}else if(J>K)this[Z?"removeSegments":"removeChildren"](K,J);for(var Y=0;Y<K;Y++)z[Y].interpolate(g[Y],F[Y],f);if(Z)this.setClosed(a._closed),this._changed(9)},compare:function(a){var i=!1;if(a){var f=this._children||[this],Z=a._children?a._children.slice():[a],V=f.length,g=Z.length,F=[],z=0;i=!0;var J=v.findItemBoundsCollisions(f,Z,M.GEOMETRIC_EPSILON);for(var K=V-1;K>=0&&i;K--){var oe=f[K];i=!1;var Y=J[K];if(Y){for(var G=Y.length-1;G>=0&&!i;G--)if(oe.compare(Z[Y[G]])){if(!F[Y[G]])F[Y[G]]=!0,z++;i=!0}}}i=i&&z===g}return i}}),b=o.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function a(i){this._closed=!1,this._segments=[],this._version=0;var f=arguments,Z=Array.isArray(i)?typeof i[0]==="object"?i:f:i&&(i.size===p&&(i.x!==p||i.point!==p))?f:null;if(Z&&Z.length>0)this.setSegments(Z);else if(this._curves=p,this._segmentSelection=0,!Z&&typeof i==="string")this.setPathData(i),i=null;this._initialize(!Z&&i)},_equals:function(a){return this._closed===a._closed&&_.equals(this._segments,a._segments)},copyContent:function(a){this.setSegments(a._segments),this._closed=a._closed},_changed:function a(i){if(a.base.call(this,i),i&8){if(this._length=this._area=p,i&32)this._version++;else if(this._curves)for(var f=0,Z=this._curves.length;f<Z;f++)this._curves[f]._changed()}else if(i&64)this._bounds=p},getStyle:function(){var a=this._parent;return(a instanceof W?a:this)._style},getSegments:function(){return this._segments},setSegments:function(a){var i=this.isFullySelected(),f=a&&a.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=p,f){var Z=a[f-1];if(typeof Z==="boolean")this.setClosed(Z),f--;this._add(t.readList(a,0,{},f))}if(i)this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var a=this._curves,i=this._segments;if(!a){var f=this._countCurves();a=this._curves=new Array(f);for(var Z=0;Z<f;Z++)a[Z]=new k(this,i[Z],i[Z+1]||i[0])}return a},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var a=this.getCurves();return a[a.length-1]},isClosed:function(){return this._closed},setClosed:function(a){if(this._closed!=(a=!!a)){if(this._closed=a,this._curves){var i=this._curves.length=this._countCurves();if(a)this._curves[i-1]=new k(this,this._segments[i-1],this._segments[0])}this._changed(41)}}},{beans:!0,getPathData:function(a,i){var f=this._segments,Z=f.length,V=new $(i),g=new Array(6),F=!0,z,J,K,oe,Y,G,ne,A,re=[];function ke(ae,se){if(ae._transformCoordinates(a,g),z=g[0],J=g[1],F)re.push("M"+V.pair(z,J)),F=!1;else if(Y=g[2],G=g[3],Y===z&&G===J&&ne===K&&A===oe){if(!se){var Q=z-K,le=J-oe;re.push(Q===0?"v"+V.number(le):le===0?"h"+V.number(Q):"l"+V.pair(Q,le))}}else re.push("c"+V.pair(ne-K,A-oe)+" "+V.pair(Y-K,G-oe)+" "+V.pair(z-K,J-oe));K=z,oe=J,ne=g[4],A=g[5]}if(!Z)return"";for(var ee=0;ee<Z;ee++)ke(f[ee]);if(this._closed&&Z>0)ke(f[0],!0),re.push("z");return re.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(a){var i=this._segments,f=new Array(6);for(var Z=0,V=i.length;Z<V;Z++)i[Z]._transformCoordinates(a,f,!0);return!0},_add:function(a,F){var f=this._segments,Z=this._curves,V=a.length,g=F==null,F=g?f.length:F;for(var z=0;z<V;z++){var J=a[z];if(J._path)J=a[z]=J.clone();if(J._path=this,J._index=F+z,J._selection)this._updateSelection(J,0,J._selection)}if(g)_.push(f,a);else{f.splice.apply(f,[F,0].concat(a));for(var z=F+V,K=f.length;z<K;z++)f[z]._index=z}if(Z){var oe=this._countCurves(),Y=F>0&&F+V-1===oe?F-1:F,G=Y,ne=Math.min(Y+V,oe);if(a._curves)Z.splice.apply(Z,[Y,0].concat(a._curves)),G+=a._curves.length;for(var z=G;z<ne;z++)Z.splice(z,0,new k(this,null,null));this._adjustCurves(Y,ne)}return this._changed(41),a},_adjustCurves:function(a,i){var f=this._segments,Z=this._curves,V;for(var g=a;g<i;g++)V=Z[g],V._path=this,V._segment1=f[g],V._segment2=f[g+1]||f[0],V._changed();if(V=Z[this._closed&&!a?f.length-1:a-1])V._segment2=f[a]||f[0],V._changed();if(V=Z[i])V._segment1=f[i],V._changed()},_countCurves:function(){var a=this._segments.length;return!this._closed&&a>0?a-1:a},add:function(a){var i=arguments;return i.length>1&&typeof a!=="number"?this._add(t.readList(i)):this._add([t.read(i)])[0]},insert:function(a,i){var f=arguments;return f.length>2&&typeof i!=="number"?this._add(t.readList(f,1),a):this._add([t.read(f,1)],a)[0]},addSegment:function(){return this._add([t.read(arguments)])[0]},insertSegment:function(a){return this._add([t.read(arguments,1)],a)[0]},addSegments:function(a){return this._add(t.readList(a))},insertSegments:function(a,i){return this._add(t.readList(i),a)},removeSegment:function(a){return this.removeSegments(a,a+1)[0]||null},removeSegments:function(a,i,f){a=a||0,i=_.pick(i,this._segments.length);var Z=this._segments,V=this._curves,g=Z.length,F=Z.splice(a,i-a),z=F.length;if(!z)return F;for(var J=0;J<z;J++){var K=F[J];if(K._selection)this._updateSelection(K,K._selection,0);K._index=K._path=null}for(var J=a,oe=Z.length;J<oe;J++)Z[J]._index=J;if(V){var Y=a>0&&i===g+(this._closed?1:0)?a-1:a,V=V.splice(Y,z);for(var J=V.length-1;J>=0;J--)V[J]._path=null;if(f)F._curves=V.slice(1);this._adjustCurves(Y,Y)}return this._changed(41),F},clear:"#removeSegments",hasHandles:function(){var a=this._segments;for(var i=0,f=a.length;i<f;i++)if(a[i].hasHandles())return!0;return!1},clearHandles:function(){var a=this._segments;for(var i=0,f=a.length;i<f;i++)a[i].clearHandles()},getLength:function(){if(this._length==null){var a=this.getCurves(),i=0;for(var f=0,Z=a.length;f<Z;f++)i+=a[f].getLength();this._length=i}return this._length},getArea:function(){var a=this._area;if(a==null){var i=this._segments,f=this._closed;a=0;for(var Z=0,V=i.length;Z<V;Z++){var g=Z+1===V;a+=k.getArea(k.getValues(i[Z],i[g?0:Z+1],null,g&&!f))}this._area=a}return a},isFullySelected:function(){var a=this._segments.length;return this.isSelected()&&a>0&&this._segmentSelection===a*7},setFullySelected:function(a){if(a)this._selectSegments(!0);this.setSelected(a)},setSelection:function a(i){if(!(i&1))this._selectSegments(!1);a.base.call(this,i)},_selectSegments:function(a){var i=this._segments,f=i.length,Z=a?7:0;this._segmentSelection=Z*f;for(var V=0;V<f;V++)i[V]._selection=Z},_updateSelection:function(a,i,f){a._selection=f;var Z=this._segmentSelection+=f-i;if(Z>0)this.setSelected(!0)},divideAt:function(a){var i=this.getLocationAt(a),f;return i&&(f=i.getCurve().divideAt(i.getCurveOffset()))?f._segment1:null},splitAt:function(a){var i=this.getLocationAt(a),f=i&&i.index,Z=i&&i.time,V=0.00000001,g=1-V;if(Z>g)f++,Z=0;var F=this.getCurves();if(f>=0&&f<F.length){if(Z>=V)F[f++].divideAtTime(Z);var z=this.removeSegments(f,this._segments.length,!0),J;if(this._closed)this.setClosed(!1),J=this;else J=new b(be.NO_INSERT),J.insertAbove(this),J.copyAttributes(this);return J._add(z,0),this.addSegment(z[0]),J}return null},split:function(a,i){var f,Z=i===p?a:(f=this.getCurves()[a])&&f.getLocationAtTime(i);return Z!=null?this.splitAt(Z):null},join:function(a,i){var f=i||0;if(a&&a!==this){var Z=a._segments,V=this.getLastSegment(),g=a.getLastSegment();if(!g)return this;if(V&&V._point.isClose(g._point,f))a.reverse();var F=a.getFirstSegment();if(V&&V._point.isClose(F._point,f))V.setHandleOut(F._handleOut),this._add(Z.slice(1));else{var z=this.getFirstSegment();if(z&&z._point.isClose(F._point,f))a.reverse();if(g=a.getLastSegment(),z&&z._point.isClose(g._point,f))z.setHandleIn(g._handleIn),this._add(Z.slice(0,Z.length-1),0);else this._add(Z.slice())}if(a._closed)this._add([Z[0]]);a.remove()}var J=this.getFirstSegment(),K=this.getLastSegment();if(J!==K&&J._point.isClose(K._point,f))J.setHandleIn(K._handleIn),K.remove(),this.setClosed(!0);return this},reduce:function(a){var i=this.getCurves(),f=a&&a.simplify,Z=f?0.0000001:0;for(var V=i.length-1;V>=0;V--){var g=i[V];if(!g.hasHandles()&&(!g.hasLength(Z)||f&&g.isCollinear(g.getNext())))g.remove()}return this},reverse:function(){this._segments.reverse();for(var a=0,i=this._segments.length;a<i;a++){var f=this._segments[a],Z=f._handleIn;f._handleIn=f._handleOut,f._handleOut=Z,f._index=a}this._curves=null,this._changed(9)},flatten:function(a){var i=new O(this,a||0.25,256,!0),f=i.parts,Z=f.length,V=[];for(var g=0;g<Z;g++)V.push(new t(f[g].curve.slice(0,2)));if(!this._closed&&Z>0)V.push(new t(f[Z-1].curve.slice(6)));this.setSegments(V)},simplify:function(a){var i=new P(this).fit(a||2.5);if(i)this.setSegments(i);return!!i},smooth:function(a){var i=this,f=a||{},Z=f.type||"asymmetric",V=this._segments,g=V.length,F=this._closed;function z(Ye,lo){var Ae=Ye&&Ye.index;if(Ae!=null){var ao=Ye.path;if(ao&&ao!==i)throw new Error(Ye._class+" "+Ae+" of "+ao+" is not part of "+i);if(lo&&Ye instanceof k)Ae++}else Ae=typeof Ye==="number"?Ye:lo;return Math.min(Ae<0&&F?Ae%g:Ae<0?Ae+g:Ae,g-1)}var J=F&&f.from===p&&f.to===p,K=z(f.from,0),oe=z(f.to,g-1);if(K>oe)if(F)K-=g;else{var Y=K;K=oe,oe=Y}if(/^(?:asymmetric|continuous)$/.test(Z)){var G=Z==="asymmetric",ne=Math.min,A=oe-K+1,re=A-1,ke=J?ne(A,4):1,ee=ke,ae=ke,se=[];if(!F)ee=ne(1,K),ae=ne(1,g-oe-1);if(re+=ee+ae,re<=1)return;for(var Q=0,le=K-ee;Q<=re;Q++,le++)se[Q]=V[(le<0?le+g:le)%g]._point;var fe=se[0]._x+2*se[1]._x,me=se[0]._y+2*se[1]._y,de=2,Oe=re-1,_e=[fe],ve=[me],Xe=[de],ye=[],Ze=[];for(var Q=1;Q<re;Q++){var we=Q<Oe,Me=we?1:G?1:2,Ue=we?4:G?2:7,ze=we?4:G?3:8,Ke=we?2:G?0:1,Ee=Me/de;de=Xe[Q]=Ue-Ee,fe=_e[Q]=ze*se[Q]._x+Ke*se[Q+1]._x-Ee*fe,me=ve[Q]=ze*se[Q]._y+Ke*se[Q+1]._y-Ee*me}ye[Oe]=_e[Oe]/Xe[Oe],Ze[Oe]=ve[Oe]/Xe[Oe];for(var Q=re-2;Q>=0;Q--)ye[Q]=(_e[Q]-ye[Q+1])/Xe[Q],Ze[Q]=(ve[Q]-Ze[Q+1])/Xe[Q];ye[re]=(3*se[re]._x-ye[Oe])/2,Ze[re]=(3*se[re]._y-Ze[Oe])/2;for(var Q=ee,De=re-ae,le=K;Q<=De;Q++,le++){var Ge=V[le<0?le+g:le],Ce=Ge._point,He=ye[Q]-Ce._x,Be=Ze[Q]-Ce._y;if(J||Q<De)Ge.setHandleOut(He,Be);if(J||Q>ee)Ge.setHandleIn(-He,-Be)}}else for(var Q=K;Q<=oe;Q++)V[Q<0?Q+g:Q].smooth(f,!J&&Q===K,!J&&Q===oe)},toShape:function(a){if(!this._closed)return null;var i=this._segments,f,Z,V,g;function F(G,ne){var A=i[G],re=A.getNext(),ke=i[ne],ee=ke.getNext();return A._handleOut.isZero()&&re._handleIn.isZero()&&ke._handleOut.isZero()&&ee._handleIn.isZero()&&re._point.subtract(A._point).isCollinear(ee._point.subtract(ke._point))}function z(G){var ne=i[G],A=ne.getPrevious(),re=ne.getNext();return A._handleOut.isZero()&&ne._handleIn.isZero()&&ne._handleOut.isZero()&&re._handleIn.isZero()&&ne._point.subtract(A._point).isOrthogonal(re._point.subtract(ne._point))}function J(G){var ne=i[G],A=ne.getNext(),re=ne._handleOut,ke=A._handleIn,ee=0.5522847498307936;if(re.isOrthogonal(ke)){var ae=ne._point,se=A._point,Q=new C(ae,re,!0).intersect(new C(se,ke,!0),!0);return Q&&M.isZero(re.getLength()/Q.subtract(ae).getLength()-ee)&&M.isZero(ke.getLength()/Q.subtract(se).getLength()-ee)}return!1}function K(G,ne){return i[G]._point.getDistance(i[ne]._point)}if(!this.hasHandles()&&i.length===4&&F(0,2)&&F(1,3)&&z(1))f=$e.Rectangle,Z=new j(K(0,3),K(0,1)),g=i[1]._point.add(i[2]._point).divide(2);else if(i.length===8&&J(0)&&J(2)&&J(4)&&J(6)&&F(1,5)&&F(3,7))f=$e.Rectangle,Z=new j(K(1,6),K(0,3)),V=Z.subtract(new j(K(0,7),K(1,2))).divide(2),g=i[3]._point.add(i[4]._point).divide(2);else if(i.length===4&&J(0)&&J(1)&&J(2)&&J(3)){if(M.isZero(K(0,2)-K(1,3)))f=$e.Circle,V=K(0,2)/2;else f=$e.Ellipse,V=new j(K(2,0)/2,K(3,1)/2);g=i[1]._point}if(f){var oe=this.getPosition(!0),Y=new f({center:oe,size:Z,radius:V,insert:!1});if(Y.copyAttributes(this,!0),Y._matrix.prepend(this._matrix),Y.rotate(g.subtract(oe).getAngle()+90),a===p||a)Y.insertAbove(this);return Y}return null},toPath:"#clone",compare:function a(i){if(!i||i instanceof W)return a.base.call(this,i);var f=this.getCurves(),Z=i.getCurves(),V=f.length,g=Z.length;if(!V||!g)return V==g;var F=f[0].getValues(),z=[],J=0,K,oe=0,Y;for(var G=0;G<g;G++){var ke=Z[G].getValues();z.push(ke);var ne=k.getOverlaps(F,ke);if(ne){K=!G&&ne[0][0]>0?g-1:G,Y=ne[0][1];break}}var A=Math.abs,re=0.00000001,ke=z[K],ee;while(F&&ke){var ne=k.getOverlaps(F,ke);if(ne){var ae=ne[0][0];if(A(ae-oe)<re){if(oe=ne[1][0],oe===1)F=++J<V?f[J].getValues():null,oe=0;var se=ne[0][1];if(A(se-Y)<re){if(!ee)ee=[K,se];if(Y=ne[1][1],Y===1){if(++K>=g)K=0;ke=z[K]||Z[K].getValues(),Y=0}if(!F)return ee[0]===K&&ee[1]===Y;continue}}}break}return!1},_hitTestSelf:function(a,i,f,Z){var V=this,g=this.getStyle(),F=this._segments,z=F.length,J=this._closed,K=i._tolerancePadding,oe=K,Y,G,ne,A,re,ke,ee=i.stroke&&g.hasStroke(),ae=i.fill&&g.hasFill(),se=i.curves,Q=ee?g.getStrokeWidth()/2:ae&&i.tolerance>0||se?0:null;if(Q!==null)if(Q>0)Y=g.getStrokeJoin(),G=g.getStrokeCap(),ne=g.getMiterLimit(),oe=oe.add(b._getStrokePadding(Q,Z));else Y=G="round";function le(ye,Ze){return a.subtract(ye).divide(Ze).length<=1}function fe(ye,Ze,we){if(!i.selected||Ze.isSelected()){var Me=ye._point;if(Ze!==Me)Ze=Ze.add(Me);if(le(Ze,oe))return new s(we,V,{segment:ye,point:Ze})}}function me(ye,Ze){return(Ze||i.segments)&&fe(ye,ye._point,"segment")||!Ze&&i.handles&&(fe(ye,ye._handleIn,"handle-in")||fe(ye,ye._handleOut,"handle-out"))}function de(ye){A.add(ye)}function Oe(ye){var Ze=J||ye._index>0&&ye._index<z-1;if((Ze?Y:G)==="round")return le(ye._point,oe);else{if(A=new b({internal:!0,closed:!0}),Ze){if(!ye.isSmooth())b._addBevelJoin(ye,Y,Q,ne,null,Z,de,!0)}else if(G==="square")b._addSquareCap(ye,G,Q,null,Z,de,!0);if(!A.isEmpty()){var we;return A.contains(a)||(we=A.getNearestLocation(a))&&le(we.getPoint(),K)}}}if(i.ends&&!i.segments&&!J){if(ke=me(F[0],!0)||me(F[z-1],!0))return ke}else if(i.segments||i.handles){for(var _e=0;_e<z;_e++)if(ke=me(F[_e]))return ke}if(Q!==null){if(re=this.getNearestLocation(a),re){var ve=re.getTime();if(ve===0||ve===1&&z>1){if(!Oe(re.getSegment()))re=null}else if(!le(re.getPoint(),oe))re=null}if(!re&&Y==="miter"&&z>1)for(var _e=0;_e<z;_e++){var Xe=F[_e];if(a.getDistance(Xe._point)<=ne*Q&&Oe(Xe)){re=Xe.getLocation();break}}}return!re&&ae&&this._contains(a)||re&&!ee&&!se?new s("fill",this):re?new s(ee?"stroke":"curve",this,{location:re,point:re.getPoint()}):null}},_.each(k._evaluateMethods,function(a){this[a+"At"]=function(i){var f=this.getLocationAt(i);return f&&f[a]()}},{beans:!1,getLocationOf:function(){var a=q.read(arguments),i=this.getCurves();for(var f=0,Z=i.length;f<Z;f++){var V=i[f].getLocationOf(a);if(V)return V}return null},getOffsetOf:function(){var a=this.getLocationOf.apply(this,arguments);return a?a.getOffset():null},getLocationAt:function(a){if(typeof a==="number"){var i=this.getCurves(),f=0;for(var Z=0,V=i.length;Z<V;Z++){var g=f,F=i[Z];if(f+=F.getLength(),f>a)return F.getLocationAt(a-g)}if(i.length>0&&a<=this.getLength())return new d(i[i.length-1],1)}else if(a&&a.getPath&&a.getPath()===this)return a;return null},getOffsetsWithTangent:function(){var a=q.read(arguments);if(a.isZero())return[];var i=[],f=0,Z=this.getCurves();for(var V=0,g=Z.length;V<g;V++){var F=Z[V],z=F.getTimesWithTangent(a);for(var J=0,K=z.length;J<K;J++){var oe=f+F.getOffsetAtTime(z[J]);if(i.indexOf(oe)<0)i.push(oe)}f+=F.length}return i}}),new function(){function a(f,Z,V,g){if(g<=0)return;var F=g/2,z=g-2,J=F-1,K=new Array(6),oe,Y;function G(ae){var se=K[ae],Q=K[ae+1];if(oe!=se||Y!=Q)f.beginPath(),f.moveTo(oe,Y),f.lineTo(se,Q),f.stroke(),f.beginPath(),f.arc(se,Q,F,0,Math.PI*2,!0),f.fill()}for(var ne=0,A=Z.length;ne<A;ne++){var re=Z[ne],ke=re._selection;if(re._transformCoordinates(V,K),oe=K[0],Y=K[1],ke&2)G(2);if(ke&4)G(4);if(f.fillRect(oe-F,Y-F,g,g),z>0&&!(ke&1)){var ee=f.fillStyle;f.fillStyle="#ffffff",f.fillRect(oe-J,Y-J,z,z),f.fillStyle=ee}}}function i(f,Z,V){var g=Z._segments,F=g.length,z=new Array(6),J=!0,K,oe,Y,G,ne,A,re,ke;function ee(se){if(V)se._transformCoordinates(V,z),K=z[0],oe=z[1];else{var Q=se._point;K=Q._x,oe=Q._y}if(J)f.moveTo(K,oe),J=!1;else{if(V)ne=z[2],A=z[3];else{var le=se._handleIn;ne=K+le._x,A=oe+le._y}if(ne===K&&A===oe&&re===Y&&ke===G)f.lineTo(K,oe);else f.bezierCurveTo(re,ke,ne,A,K,oe)}if(Y=K,G=oe,V)re=z[4],ke=z[5];else{var le=se._handleOut;re=Y+le._x,ke=G+le._y}}for(var ae=0;ae<F;ae++)ee(g[ae]);if(Z._closed&&F>0)ee(g[0])}return{_draw:function(f,Z,V,g){var F=Z.dontStart,z=Z.dontFinish||Z.clip,J=this.getStyle(),K=J.hasFill(),oe=J.hasStroke(),Y=J.getDashArray(),G=!U.support.nativeDash&&oe&&Y&&Y.length;if(!F)f.beginPath();if(K||oe&&!G||z){if(i(f,this,g),this._closed)f.closePath()}function ne(se){return Y[(se%G+G)%G]}if(!z&&(K||oe)){if(this._setStyles(f,Z,V),K)f.fill(J.getFillRule()),f.shadowColor="rgba(0,0,0,0)";if(oe){if(G){if(!F)f.beginPath();var A=new O(this,0.25,32,!1,g),re=A.length,ke=-J.getDashOffset(),ee,ae=0;while(ke>0)ke-=ne(ae--)+ne(ae--);while(ke<re){if(ee=ke+ne(ae++),ke>0||ee>0)A.drawPart(f,Math.max(ke,0),Math.max(ee,0));ke=ee+ne(ae++)}}f.stroke()}}},_drawSelected:function(f,Z){f.beginPath(),i(f,this,Z),f.stroke(),a(f,this._segments,Z,U.settings.handleSize)}}},new function(){function a(i){var f=i._segments;if(!f.length)throw new Error("Use a moveTo() command first");return f[f.length-1]}return{moveTo:function(){var i=this._segments;if(i.length===1)this.removeSegment(0);if(!i.length)this._add([new t(q.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new t(q.read(arguments))])},cubicCurveTo:function(){var i=arguments,f=q.read(i),Z=q.read(i),V=q.read(i),g=a(this);g.setHandleOut(f.subtract(g._point)),this._add([new t(V,Z.subtract(V))])},quadraticCurveTo:function(){var i=arguments,f=q.read(i),Z=q.read(i),V=a(this)._point;this.cubicCurveTo(f.add(V.subtract(f).multiply(0.3333333333333333)),f.add(Z.subtract(f).multiply(0.3333333333333333)),Z)},curveTo:function(){var i=arguments,f=q.read(i),Z=q.read(i),V=_.pick(_.read(i),0.5),g=1-V,F=a(this)._point,z=f.subtract(F.multiply(g*g)).subtract(Z.multiply(V*V)).divide(2*V*g);if(z.isNaN())throw new Error("Cannot put a curve through points with parameter = "+V);this.quadraticCurveTo(z,Z)},arcTo:function(){var i=arguments,f=Math.abs,Z=Math.sqrt,V=a(this),g=V._point,F=q.read(i),A,z=_.peek(i),J=_.pick(z,!0),K,oe,Y,G;if(typeof J==="boolean")var ne=g.add(F).divide(2),A=ne.add(ne.subtract(g).rotate(J?-90:90));else if(_.remain(i)<=2)A=F,F=q.read(i);else if(!g.equals(F)){var re=j.read(i),ke=M.isZero;if(ke(re.width)||ke(re.height))return this.lineTo(F);var ee=_.read(i),J=!!_.read(i),ae=!!_.read(i),ne=g.add(F).divide(2),se=g.subtract(ne).rotate(-ee),Q=se.x,le=se.y,fe=f(re.width),me=f(re.height),de=fe*fe,Oe=me*me,_e=Q*Q,ve=le*le,Xe=Z(_e/de+ve/Oe);if(Xe>1)fe*=Xe,me*=Xe,de=fe*fe,Oe=me*me;if(Xe=(de*Oe-de*ve-Oe*_e)/(de*ve+Oe*_e),f(Xe)<0.000000000001)Xe=0;if(Xe<0)throw new Error("Cannot create an arc with the given arguments");if(K=new q(fe*le/me,-me*Q/fe).multiply((ae===J?-1:1)*Z(Xe)).rotate(ee).add(ne),G=new D().translate(K).rotate(ee).scale(fe,me),Y=G._inverseTransform(g),oe=Y.getDirectedAngle(G._inverseTransform(F)),!J&&oe>0)oe-=360;else if(J&&oe<0)oe+=360}if(A){var ye=new C(g.add(A).divide(2),A.subtract(g).rotate(90),!0),Ze=new C(A.add(F).divide(2),F.subtract(A).rotate(90),!0),we=new C(g,F),Me=we.getSide(A);if(K=ye.intersect(Ze,!0),!K){if(!Me)return this.lineTo(F);throw new Error("Cannot create an arc with the given arguments")}Y=g.subtract(K),oe=Y.getDirectedAngle(F.subtract(K));var Ue=we.getSide(K,!0);if(Ue===0)oe=Me*f(oe);else if(Me===Ue)oe+=oe<0?360:-360}if(oe){var ze=0.00001,Ke=f(oe),Ee=Ke>=360?4:Math.ceil((Ke-ze)/90),De=oe/Ee,Ge=De*Math.PI/360,Ce=1.3333333333333333*Math.sin(Ge)/(1+Math.cos(Ge)),He=[];for(var Be=0;Be<=Ee;Be++){var se=F,Ye=null;if(Be<Ee)if(Ye=Y.rotate(90).multiply(Ce),G)se=G._transformPoint(Y),Ye=G._transformPoint(Y.add(Ye)).subtract(se);else se=K.add(Y);if(!Be)V.setHandleOut(Ye);else{var lo=Y.rotate(-90).multiply(Ce);if(G)lo=G._transformPoint(Y.add(lo)).subtract(se);He.push(new t(se,lo,Ye))}Y=Y.rotate(De)}this._add(He)}},lineBy:function(){var i=q.read(arguments),f=a(this)._point;this.lineTo(f.add(i))},curveBy:function(){var i=arguments,f=q.read(i),Z=q.read(i),V=_.read(i),g=a(this)._point;this.curveTo(g.add(f),g.add(Z),V)},cubicCurveBy:function(){var i=arguments,f=q.read(i),Z=q.read(i),V=q.read(i),g=a(this)._point;this.cubicCurveTo(g.add(f),g.add(Z),g.add(V))},quadraticCurveBy:function(){var i=arguments,f=q.read(i),Z=q.read(i),V=a(this)._point;this.quadraticCurveTo(V.add(f),V.add(Z))},arcBy:function(){var i=arguments,f=a(this)._point,Z=f.add(q.read(i)),V=_.pick(_.peek(i),!0);if(typeof V==="boolean")this.arcTo(Z,V);else this.arcTo(Z,f.add(q.read(i)))},closePath:function(i){this.setClosed(!0),this.join(this,i)}}},{_getBounds:function(a,i){var f=i.handle?"getHandleBounds":i.stroke?"getStrokeBounds":"getBounds";return b[f](this._segments,this._closed,this,a,i)},statics:{getBounds:function(a,i,f,Z,V,g){var F=a[0];if(!F)return new S;var z=new Array(6),J=F._transformCoordinates(Z,new Array(6)),K=J.slice(0,2),oe=K.slice(),Y=new Array(2);function G(re){re._transformCoordinates(Z,z);for(var ke=0;ke<2;ke++)k._addBounds(J[ke],J[ke+4],z[ke+2],z[ke],ke,g?g[ke]:0,K,oe,Y);var ee=J;J=z,z=ee}for(var ne=1,A=a.length;ne<A;ne++)G(a[ne]);if(i)G(F);return new S(K[0],K[1],oe[0]-K[0],oe[1]-K[1])},getStrokeBounds:function(a,i,f,Z,V){var g=f.getStyle(),F=g.hasStroke(),z=g.getStrokeWidth(),J=F&&f._getStrokeMatrix(Z,V),K=F&&b._getStrokePadding(z,J),oe=b.getBounds(a,i,f,Z,V,K);if(!F)return oe;var Y=z/2,G=g.getStrokeJoin(),ne=g.getStrokeCap(),A=g.getMiterLimit(),re=new S(new j(K));function ke(fe){oe=oe.include(fe)}function ee(fe){oe=oe.unite(re.setCenter(fe._point.transform(Z)))}function ae(fe,me){if(me==="round"||fe.isSmooth())ee(fe);else b._addBevelJoin(fe,me,Y,A,Z,J,ke)}function se(fe,me){if(me==="round")ee(fe);else b._addSquareCap(fe,me,Y,Z,J,ke)}var Q=a.length-(i?0:1);if(Q>0){for(var le=1;le<Q;le++)ae(a[le],G);if(i)ae(a[0],G);else se(a[0],ne),se(a[a.length-1],ne)}return oe},_getStrokePadding:function(a,i){if(!i)return[a,a];var f=new q(a,0).transform(i),Z=new q(0,a).transform(i),V=f.getAngleInRadians(),g=f.getLength(),F=Z.getLength(),z=Math.sin(V),J=Math.cos(V),K=Math.tan(V),oe=Math.atan2(F*K,g),Y=Math.atan2(F,K*g);return[Math.abs(g*Math.cos(oe)*J+F*Math.sin(oe)*z),Math.abs(F*Math.sin(Y)*J+g*Math.cos(Y)*z)]},_addBevelJoin:function(a,i,f,Z,V,g,F,z){var J=a.getCurve(),K=J.getPrevious(),oe=J.getPoint1().transform(V),Y=K.getNormalAtTime(1).multiply(f).transform(g),G=J.getNormalAtTime(0).multiply(f).transform(g),ne=Y.getDirectedAngle(G);if(ne<0||ne>=180)Y=Y.negate(),G=G.negate();if(z)F(oe);if(F(oe.add(Y)),i==="miter"){var A=new C(oe.add(Y),new q(-Y.y,Y.x),!0).intersect(new C(oe.add(G),new q(-G.y,G.x),!0),!0);if(A&&oe.getDistance(A)<=Z*f)F(A)}F(oe.add(G))},_addSquareCap:function(a,i,f,Z,V,g,F){var z=a._point.transform(Z),J=a.getLocation(),K=J.getNormal().multiply(J.getTime()===0?f:-f).transform(V);if(i==="square"){if(F)g(z.subtract(K)),g(z.add(K));z=z.add(K.rotate(-90))}g(z.add(K)),g(z.subtract(K))},getHandleBounds:function(a,i,f,Z,V){var g=f.getStyle(),F=V.stroke&&g.hasStroke(),z,J;if(F){var K=f._getStrokeMatrix(Z,V),oe=g.getStrokeWidth()/2,Y=oe;if(g.getStrokeJoin()==="miter")Y=oe*g.getMiterLimit();if(g.getStrokeCap()==="square")Y=Math.max(Y,oe*Math.SQRT2);z=b._getStrokePadding(oe,K),J=b._getStrokePadding(Y,K)}var G=new Array(6),ne=1/0,A=-ne,re=ne,ke=A;for(var ee=0,ae=a.length;ee<ae;ee++){var se=a[ee];se._transformCoordinates(Z,G);for(var Q=0;Q<6;Q+=2){var le=!Q?J:z,fe=le?le[0]:0,me=le?le[1]:0,de=G[Q],Oe=G[Q+1],_e=de-fe,ve=de+fe,Xe=Oe-me,ye=Oe+me;if(_e<ne)ne=_e;if(ve>A)A=ve;if(Xe<re)re=Xe;if(ye>ke)ke=ye}}return new S(ne,re,A-ne,ke-re)}}});b.inject({statics:new function(){var a=0.5522847498307936,i=[new t([-1,0],[0,a],[0,-a]),new t([0,-1],[-a,0],[a,0]),new t([1,0],[0,-a],[0,a]),new t([0,1],[a,0],[-a,0])];function f(V,g,F){var z=_.getNamed(F),J=new b(z&&(z.insert==!0?be.INSERT:z.insert==!1?be.NO_INSERT:null));return J._add(V),J._closed=g,J.set(z,be.INSERT)}function Z(V,g,F){var z=new Array(4);for(var J=0;J<4;J++){var K=i[J];z[J]=new t(K._point.multiply(g).add(V),K._handleIn.multiply(g),K._handleOut.multiply(g))}return f(z,!0,F)}return{Line:function(){var V=arguments;return f([new t(q.readNamed(V,"from")),new t(q.readNamed(V,"to"))],!1,V)},Circle:function(){var V=arguments,g=q.readNamed(V,"center"),F=_.readNamed(V,"radius");return Z(g,new j(F),V)},Rectangle:function(){var V=arguments,g=S.readNamed(V,"rectangle"),F=j.readNamed(V,"radius",0,{readNull:!0}),z=g.getBottomLeft(!0),J=g.getTopLeft(!0),K=g.getTopRight(!0),oe=g.getBottomRight(!0),Y;if(!F||F.isZero())Y=[new t(z),new t(J),new t(K),new t(oe)];else{F=j.min(F,g.getSize(!0).divide(2));var{width:G,height:ne}=F,A=G*a,re=ne*a;Y=[new t(z.add(G,0),null,[-A,0]),new t(z.subtract(0,ne),[0,re]),new t(J.add(0,ne),null,[0,-re]),new t(J.add(G,0),[-A,0],null),new t(K.subtract(G,0),null,[A,0]),new t(K.add(0,ne),[0,-re],null),new t(oe.subtract(0,ne),null,[0,re]),new t(oe.subtract(G,0),[A,0])]}return f(Y,!0,V)},RoundRectangle:"#Rectangle",Ellipse:function(){var V=arguments,g=$e._readEllipse(V);return Z(g.center,g.radius,V)},Oval:"#Ellipse",Arc:function(){var V=arguments,g=q.readNamed(V,"from"),F=q.readNamed(V,"through"),z=q.readNamed(V,"to"),J=_.getNamed(V),K=new b(J&&J.insert==!1&&be.NO_INSERT);return K.moveTo(g),K.arcTo(F,z),K.set(J)},RegularPolygon:function(){var V=arguments,g=q.readNamed(V,"center"),F=_.readNamed(V,"sides"),z=_.readNamed(V,"radius"),J=360/F,K=F%3===0,oe=new q(0,K?-z:z),Y=K?-1:0.5,G=new Array(F);for(var ne=0;ne<F;ne++)G[ne]=new t(g.add(oe.rotate((ne+Y)*J)));return f(G,!0,V)},Star:function(){var V=arguments,g=q.readNamed(V,"center"),F=_.readNamed(V,"points")*2,z=_.readNamed(V,"radius1"),J=_.readNamed(V,"radius2"),K=360/F,oe=new q(0,-1),Y=new Array(F);for(var G=0;G<F;G++)Y[G]=new t(g.add(oe.rotate(K*G).multiply(G%2?J:z)));return f(Y,!0,V)}}}});var W=o.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function a(i){if(this._children=[],this._namedChildren={},!this._initialize(i))if(typeof i==="string")this.setPathData(i);else this.addChildren(Array.isArray(i)?i:arguments)},insertChildren:function a(i,f){var Z=f,V=Z[0];if(V&&typeof V[0]==="number")Z=[Z];for(var g=f.length-1;g>=0;g--){var F=Z[g];if(Z===f&&!(F instanceof b))Z=_.slice(Z);if(Array.isArray(F))Z[g]=new b({segments:F,insert:!1});else if(F instanceof W)Z.splice.apply(Z,[g,1].concat(F.removeChildren())),F.remove()}return a.base.call(this,i,Z)},reduce:function a(i){var f=this._children;for(var Z=f.length-1;Z>=0;Z--){var V=f[Z].reduce(i);if(V.isEmpty())V.remove()}if(!f.length){var V=new b(be.NO_INSERT);return V.copyAttributes(this),V.insertAbove(this),this.remove(),V}return a.base.call(this)},isClosed:function(){var a=this._children;for(var i=0,f=a.length;i<f;i++)if(!a[i]._closed)return!1;return!0},setClosed:function(a){var i=this._children;for(var f=0,Z=i.length;f<Z;f++)i[f].setClosed(a)},getFirstSegment:function(){var a=this.getFirstChild();return a&&a.getFirstSegment()},getLastSegment:function(){var a=this.getLastChild();return a&&a.getLastSegment()},getCurves:function(){var a=this._children,i=[];for(var f=0,Z=a.length;f<Z;f++)_.push(i,a[f].getCurves());return i},getFirstCurve:function(){var a=this.getFirstChild();return a&&a.getFirstCurve()},getLastCurve:function(){var a=this.getLastChild();return a&&a.getLastCurve()},getArea:function(){var a=this._children,i=0;for(var f=0,Z=a.length;f<Z;f++)i+=a[f].getArea();return i},getLength:function(){var a=this._children,i=0;for(var f=0,Z=a.length;f<Z;f++)i+=a[f].getLength();return i},getPathData:function(a,i){var f=this._children,Z=[];for(var V=0,g=f.length;V<g;V++){var F=f[V],z=F._matrix;Z.push(F.getPathData(a&&!z.isIdentity()?a.appended(z):a,i))}return Z.join("")},_hitTestChildren:function a(i,f,Z){return a.base.call(this,i,f.class===b||f.type==="path"?f:_.set({},f,{fill:!1}),Z)},_draw:function(a,i,f,Z){var V=this._children;if(!V.length)return;i=i.extend({dontStart:!0,dontFinish:!0}),a.beginPath();for(var g=0,F=V.length;g<F;g++)V[g].draw(a,i,Z);if(!i.clip){this._setStyles(a,i,f);var z=this._style;if(z.hasFill())a.fill(z.getFillRule()),a.shadowColor="rgba(0,0,0,0)";if(z.hasStroke())a.stroke()}},_drawSelected:function(a,i,f){var Z=this._children;for(var V=0,g=Z.length;V<g;V++){var F=Z[V],z=F._matrix;if(!f[F._id])F._drawSelected(a,z.isIdentity()?i:i.appended(z))}}},new function(){function a(i,f){var Z=i._children;if(f&&!Z.length)throw new Error("Use a moveTo() command first");return Z[Z.length-1]}return _.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(i){this[i]=function(){var f=a(this,!0);f[i].apply(f,arguments)}},{moveTo:function(){var i=a(this),f=i&&i.isEmpty()?i:new b(be.NO_INSERT);if(f!==i)this.addChild(f);f.moveTo.apply(f,arguments)},moveBy:function(){var i=a(this,!0),f=i&&i.getLastSegment(),Z=q.read(arguments);this.moveTo(f?Z.add(f._point):Z)},closePath:function(i){a(this,!0).closePath(i)}})},_.each(["reverse","flatten","simplify","smooth"],function(a){this[a]=function(i){var f=this._children,Z;for(var V=0,g=f.length;V<g;V++)Z=f[V][a](i)||Z;return Z}},{}));o.inject(new function(){var{min:a,max:i,abs:f}=Math,Z={unite:{"1":!0,"2":!0},intersect:{"2":!0},subtract:{"1":!0},exclude:{"1":!0,"-1":!0}};function V(ee){return ee._children||[ee]}function g(ee,ae){var se=ee.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(ae){var Q=V(se);for(var le=0,fe=Q.length;le<fe;le++){var ee=Q[le];if(!ee._closed&&!ee.isEmpty())ee.closePath(0.000000000001),ee.getFirstSegment().setHandleIn(0,0),ee.getLastSegment().setHandleOut(0,0)}se=se.resolveCrossings().reorient(se.getFillRule()==="nonzero",!0)}return se}function F(ee,ae,se,Q,le){var fe=new W(be.NO_INSERT);if(fe.addChildren(ee,!0),fe=fe.reduce({simplify:ae}),!(le&&le.insert==!1))fe.insertAbove(Q&&se.isSibling(Q)&&se.getIndex()<Q.getIndex()?Q:se);return fe.copyAttributes(se,!0),fe}function z(ee){return ee.hasOverlap()||ee.isCrossing()}function J(ee,ae,se,Q){if(Q&&(Q.trace==!1||Q.stroke)&&/^(subtract|intersect)$/.test(se))return K(ee,ae,se);var le=g(ee,!0),fe=ae&&ee!==ae&&g(ae,!0),me=Z[se];if(me[se]=!0,fe&&(me.subtract||me.exclude)^(fe.isClockwise()^le.isClockwise()))fe.reverse();var de=ne(d.expand(le.getIntersections(fe,z))),Oe=V(le),_e=fe&&V(fe),ve=[],Xe=[],ye;function Ze(Ye){for(var lo=0,Ae=Ye.length;lo<Ae;lo++){var ao=Ye[lo];_.push(ve,ao._segments),_.push(Xe,ao.getCurves()),ao._overlapsOnly=!0}}function we(Ye){var lo=[];for(var Ae=0,ao=Ye&&Ye.length;Ae<ao;Ae++)lo.push(Xe[Ye[Ae]]);return lo}if(de.length){if(Ze(Oe),_e)Ze(_e);var Me=new Array(Xe.length);for(var Ue=0,ze=Xe.length;Ue<ze;Ue++)Me[Ue]=Xe[Ue].getValues();var Ke=v.findCurveBoundsCollisions(Me,Me,0,!0),Ee={};for(var Ue=0;Ue<Xe.length;Ue++){var De=Xe[Ue],Ge=De._path._id,Ce=Ee[Ge]=Ee[Ge]||{};Ce[De.getIndex()]={hor:we(Ke[Ue].hor),ver:we(Ke[Ue].ver)}}for(var Ue=0,ze=de.length;Ue<ze;Ue++)re(de[Ue]._segment,le,fe,Ee,me);for(var Ue=0,ze=ve.length;Ue<ze;Ue++){var He=ve[Ue],Be=He._intersection;if(!He._winding)re(He,le,fe,Ee,me);if(!(Be&&Be._overlap))He._path._overlapsOnly=!1}ye=ke(ve,me)}else ye=G(_e?Oe.concat(_e):Oe.slice(),function(Ye){return!!me[Ye]});return F(ye,!0,ee,ae,Q)}function K(ee,ae,se){var Q=g(ee),le=g(ae),fe=Q.getIntersections(le,z),me=se==="subtract",de=se==="divide",Oe={},_e=[];function ve(Ze){if(!Oe[Ze._id]&&(de||le.contains(Ze.getPointAt(Ze.getLength()/2))^me))return _e.unshift(Ze),Oe[Ze._id]=!0}for(var Xe=fe.length-1;Xe>=0;Xe--){var ye=fe[Xe].split();if(ye){if(ve(ye))ye.getFirstSegment().setHandleIn(0,0);Q.getLastSegment().setHandleOut(0,0)}}return ve(Q),F(_e,!1,ee,ae)}function oe(ee,ae){var se=ee;while(se){if(se===ae)return;se=se._previous}while(ee._next&&ee._next!==ae)ee=ee._next;if(!ee._next){while(ae._previous)ae=ae._previous;ee._next=ae,ae._previous=ee}}function Y(ee){for(var ae=ee.length-1;ae>=0;ae--)ee[ae].clearHandles()}function G(ee,ae,se){var Q=ee&&ee.length;if(Q){var le=_.each(ee,function(Ke,Ee){this[Ke._id]={container:null,winding:Ke.isClockwise()?1:-1,index:Ee}},{}),fe=ee.slice().sort(function(Ke,Ee){return f(Ee.getArea())-f(Ke.getArea())}),me=fe[0],de=v.findItemBoundsCollisions(fe,null,M.GEOMETRIC_EPSILON);if(se==null)se=me.isClockwise();for(var Oe=0;Oe<Q;Oe++){var _e=fe[Oe],ve=le[_e._id],Xe=0,ye=de[Oe];if(ye){var Ze=null;for(var we=ye.length-1;we>=0;we--)if(ye[we]<Oe){Ze=Ze||_e.getInteriorPoint();var Me=fe[ye[we]];if(Me.contains(Ze)){var Ue=le[Me._id];Xe=Ue.winding,ve.winding+=Xe,ve.container=Ue.exclude?Ue.container:Me;break}}}if(ae(ve.winding)===ae(Xe))ve.exclude=!0,ee[ve.index]=null;else{var ze=ve.container;_e.setClockwise(ze?!ze.isClockwise():se)}}}return ee}function ne(ee,ae,se){var Q=ae&&[],le=0.00000001,fe=1-le,me=!1,de=se||[],Oe=se&&{},_e,ve,Xe;function ye(lo){return lo._path._id+"."+lo._segment1._index}for(var Ze=(se&&se.length)-1;Ze>=0;Ze--){var we=se[Ze];if(we._path)Oe[ye(we)]=!0}for(var Ze=ee.length-1;Ze>=0;Ze--){var Me=ee[Ze],Ue=Me._time,ze=Ue,Ke=ae&&!ae(Me),we=Me._curve,Ee;if(we){if(we!==ve)me=!we.hasHandles()||Oe&&Oe[ye(we)],_e=[],Xe=null,ve=we;else if(Xe>=le)Ue/=Xe}if(Ke){if(_e)_e.push(Me);continue}else if(ae)Q.unshift(Me);if(Xe=ze,Ue<le)Ee=we._segment1;else if(Ue>fe)Ee=we._segment2;else{var De=we.divideAtTime(Ue,!0);if(me)de.push(we,De);Ee=De._segment1;for(var Ge=_e.length-1;Ge>=0;Ge--){var Ce=_e[Ge];Ce._time=(Ce._time-Ue)/(1-Ue)}}Me._setSegment(Ee);var He=Ee._intersection,Be=Me._intersection;if(He){oe(He,Be);var Ye=He;while(Ye)oe(Ye._intersection,He),Ye=Ye._next}else Ee._intersection=Be}if(!se)Y(de);return Q||ee}function A(ee,ae,se,Q,le){var fe=Array.isArray(ae)?ae:ae[se?"hor":"ver"],me=se?1:0,de=me^1,Oe=[ee.x,ee.y],_e=Oe[me],ve=Oe[de],Xe=0.000000001,ye=0.000001,Ze=_e-Xe,we=_e+Xe,Me=0,Ue=0,ze=0,Ke=0,Ee=!1,De=!1,Ge=1,Ce=[],He,Be;function Ye(ro){var To=ro[de+0],Wo=ro[de+6];if(ve<a(To,Wo)||ve>i(To,Wo))return;var Mo=ro[me+0],qa=ro[me+2],zn=ro[me+4],Ta=ro[me+6];if(To===Wo){if(Mo<we&&Ta>Ze||Ta<we&&Mo>Ze)Ee=!0;return}var Ha=ve===To?0:ve===Wo?1:Ze>i(Mo,qa,zn,Ta)||we<a(Mo,qa,zn,Ta)?1:k.solveCubic(ro,de,ve,Ce,0,1)>0?Ce[0]:1,aa=Ha===0?Mo:Ha===1?Ta:k.getPoint(ro,Ha)[se?"y":"x"],sa=To>Wo?1:-1,Ls=He[de]>He[de+6]?1:-1,Ga=He[me+6];if(ve!==To){if(aa<Ze)ze+=sa;else if(aa>we)Ke+=sa;else Ee=!0;if(aa>_e-ye&&aa<_e+ye)Ge/=2}else{if(sa!==Ls){if(Mo<Ze)ze+=sa;else if(Mo>we)Ke+=sa}else if(Mo!=Ga){if(Ga<we&&aa>we)Ke+=sa,Ee=!0;else if(Ga>Ze&&aa<Ze)ze+=sa,Ee=!0}Ge/=4}return He=ro,!le&&aa>Ze&&aa<we&&k.getTangent(ro,Ha)[se?"x":"y"]===0&&A(ee,ae,!se,Q,!0)}function lo(ro){var To=ro[de+0],Wo=ro[de+2],Mo=ro[de+4],qa=ro[de+6];if(ve<=i(To,Wo,Mo,qa)&&ve>=a(To,Wo,Mo,qa)){var zn=ro[me+0],Ta=ro[me+2],Ha=ro[me+4],aa=ro[me+6],sa=Ze>i(zn,Ta,Ha,aa)||we<a(zn,Ta,Ha,aa)?[ro]:k.getMonoCurves(ro,se),Ls;for(var Ga=0,F6=sa.length;Ga<F6;Ga++)if(Ls=Ye(sa[Ga]))return Ls}}for(var Ae=0,ao=fe.length;Ae<ao;Ae++){var no=fe[Ae],oo=no._path,uo=no.getValues(),to;if(!Ae||fe[Ae-1]._path!==oo){if(He=null,!oo._closed){if(Be=k.getValues(oo.getLastCurve().getSegment2(),no.getSegment1(),null,!Q),Be[de]!==Be[de+6])He=Be}if(!He){He=uo;var fo=oo.getLastCurve();while(fo&&fo!==no){var io=fo.getValues();if(io[de]!==io[de+6]){He=io;break}fo=fo.getPrevious()}}}if(to=lo(uo))return to;if(Ae+1===ao||fe[Ae+1]._path!==oo){if(Be&&(to=lo(Be)))return to;if(Ee&&!ze&&!Ke)ze=Ke=oo.isClockwise(Q)^se?1:-1;if(Me+=ze,Ue+=Ke,ze=Ke=0,Ee)De=!0,Ee=!1;Be=null}}return Me=f(Me),Ue=f(Ue),{winding:i(Me,Ue),windingL:Me,windingR:Ue,quality:Ge,onPath:De}}function re(ee,ae,se,Q,le){var fe=[],me=ee,de=0,Xe;do{var Oe=ee.getCurve();if(Oe){var _e=Oe.getLength();fe.push({segment:ee,curve:Oe,length:_e}),de+=_e}ee=ee.getNext()}while(ee&&!ee._intersection&&ee!==me);var ve=[0.5,0.25,0.75],Xe={winding:0,quality:-1},ye=0.001,Ze=1-ye;for(var we=0;we<ve.length&&Xe.quality<0.5;we++){var _e=de*ve[we];for(var Me=0,Ue=fe.length;Me<Ue;Me++){var ze=fe[Me],Ke=ze.length;if(_e<=Ke){var Oe=ze.curve,Ee=Oe._path,De=Ee._parent,Ge=De instanceof W?De:Ee,Ce=M.clamp(Oe.getTimeAt(_e),ye,Ze),He=Oe.getPointAtTime(Ce),Be=f(Oe.getTangentAtTime(Ce).y)<Math.SQRT1_2,Ye=null;if(le.subtract&&se){var lo=Ge===ae?se:ae,Ae=lo._getWinding(He,Be,!0);if(Ge===ae&&Ae.winding||Ge===se&&!Ae.winding)if(Ae.quality<1)continue;else Ye={winding:0,quality:1}}if(Ye=Ye||A(He,Q[Ee._id][Oe.getIndex()],Be,!0),Ye.quality>Xe.quality)Xe=Ye;break}_e-=Ke}}for(var Me=fe.length-1;Me>=0;Me--)fe[Me].segment._winding=Xe}function ke(ee,ae){var se=[],Q;function le(ao){var no;return!!(ao&&!ao._visited&&(!ae||ae[(no=ao._winding||{}).winding]&&!(ae.unite&&no.winding===2&&no.windingL&&no.windingR)))}function fe(ao){if(ao){for(var no=0,oo=Q.length;no<oo;no++)if(ao===Q[no])return!0}return!1}function me(ao){var no=ao._segments;for(var oo=0,uo=no.length;oo<uo;oo++)no[oo]._visited=!0}function de(ao,no){var oo=ao._intersection,uo=oo,to=[];if(no)Q=[ao];function fo(io,ro){while(io&&io!==ro){var To=io._segment,Wo=To&&To._path;if(Wo){var Mo=To.getNext()||Wo.getFirstSegment(),qa=Mo._intersection;if(To!==ao&&(fe(To)||fe(Mo)||Mo&&(le(To)&&(le(Mo)||qa&&le(qa._segment)))))to.push(To);if(no)Q.push(To)}io=io._next}}if(oo){fo(oo);while(oo&&oo._previous)oo=oo._previous;fo(oo,uo)}return to}ee.sort(function(ao,no){var oo=ao._intersection,uo=no._intersection,to=!!(oo&&oo._overlap),fo=!!(uo&&uo._overlap),io=ao._path,ro=no._path;return to^fo?to?1:-1:!oo^!uo?oo?1:-1:io!==ro?io._id-ro._id:ao._index-no._index});for(var Oe=0,_e=ee.length;Oe<_e;Oe++){var ve=ee[Oe],Xe=le(ve),ye=null,Ze=!1,we=!0,Me=[],Ue,ze,Ke;if(Xe&&ve._path._overlapsOnly){var Ee=ve._path,De=ve._intersection._segment._path;if(Ee.compare(De)){if(Ee.getArea())se.push(Ee.clone(!1));me(Ee),me(De),Xe=!1}}while(Xe){var Ge=!ye,Ce=de(ve,Ge),He=Ce.shift(),Ze=!Ge&&(fe(ve)||fe(He)),Be=!Ze&&He;if(Ge)ye=new b(be.NO_INSERT),Ue=null;if(Ze){if(ve.isFirst()||ve.isLast())we=ve._path._closed;ve._visited=!0;break}if(Be&&Ue)Me.push(Ue),Ue=null;if(!Ue){if(Be)Ce.push(ve);Ue={start:ye._segments.length,crossings:Ce,visited:ze=[],handleIn:Ke}}if(Be)ve=He;if(!le(ve)){ye.removeSegments(Ue.start);for(var Ye=0,lo=ze.length;Ye<lo;Ye++)ze[Ye]._visited=!1;ze.length=0;do if(ve=Ue&&Ue.crossings.shift(),!ve||!ve._path){if(ve=null,Ue=Me.pop(),Ue)ze=Ue.visited,Ke=Ue.handleIn}while(Ue&&!le(ve));if(!ve)break}var Ae=ve.getNext();ye.add(new t(ve._point,Ke,Ae&&ve._handleOut)),ve._visited=!0,ze.push(ve),ve=Ae||ve._path.getFirstSegment(),Ke=Ae&&Ae._handleIn}if(Ze){if(we)ye.getFirstSegment().setHandleIn(Ke),ye.setClosed(we);if(ye.getArea()!==0)se.push(ye)}}return se}return{_getWinding:function(ee,ae,se){return A(ee,this.getCurves(),ae,se)},unite:function(ee,ae){return J(this,ee,"unite",ae)},intersect:function(ee,ae){return J(this,ee,"intersect",ae)},subtract:function(ee,ae){return J(this,ee,"subtract",ae)},exclude:function(ee,ae){return J(this,ee,"exclude",ae)},divide:function(ee,ae){return ae&&(ae.trace==!1||ae.stroke)?K(this,ee,"divide"):F([this.subtract(ee,ae),this.intersect(ee,ae)],!0,this,ee,ae)},resolveCrossings:function(){var ee=this._children,ae=ee||[this];function se(Ue,ze){var Ke=Ue&&Ue._intersection;return Ke&&Ke._overlap&&Ke._path===ze}var Q=!1,le=!1,fe=this.getIntersections(null,function(Ue){return Ue.hasOverlap()&&(Q=!0)||Ue.isCrossing()&&(le=!0)}),me=Q&&le&&[];if(fe=d.expand(fe),Q){var de=ne(fe,function(Ue){return Ue.hasOverlap()},me);for(var Oe=de.length-1;Oe>=0;Oe--){var _e=de[Oe],ve=_e._path,Xe=_e._segment,ye=Xe.getPrevious(),Ze=Xe.getNext();if(se(ye,ve)&&se(Ze,ve)){if(Xe.remove(),ye._handleOut._set(0,0),Ze._handleIn._set(0,0),ye!==Xe&&!ye.getCurve().hasLength())Ze._handleIn.set(ye._handleIn),ye.remove()}}}if(le){if(ne(fe,Q&&function(Ue){var ze=Ue.getCurve(),Ke=Ue.getSegment(),Ee=Ue._intersection,De=Ee._curve,Ge=Ee._segment;if(ze&&De&&ze._path&&De._path)return!0;if(Ke)Ke._intersection=null;if(Ge)Ge._intersection=null},me),me)Y(me);ae=ke(_.each(ae,function(Ue){_.push(this,Ue._segments)},[]))}var we=ae.length,Me;if(we>1&&ee){if(ae!==ee)this.setChildren(ae);Me=this}else if(we===1&&!ee){if(ae[0]!==this)this.setSegments(ae[0].removeSegments());Me=this}if(!Me)Me=new W(be.NO_INSERT),Me.addChildren(ae),Me=Me.reduce(),Me.copyAttributes(this),this.replaceWith(Me);return Me},reorient:function(ee,ae){var se=this._children;if(se&&se.length)this.setChildren(G(this.removeChildren(),function(Q){return!!(ee?Q:Q&1)},ae));else if(ae!==p)this.setClockwise(ae);return this},getInteriorPoint:function(){var ee=this.getBounds(),ae=ee.getCenter(!0);if(!this.contains(ae)){var se=this.getCurves(),Q=ae.y,le=[],fe=[];for(var me=0,de=se.length;me<de;me++){var Oe=se[me].getValues(),_e=Oe[1],ve=Oe[3],Xe=Oe[5],ye=Oe[7];if(Q>=a(_e,ve,Xe,ye)&&Q<=i(_e,ve,Xe,ye)){var Ze=k.getMonoCurves(Oe);for(var we=0,Me=Ze.length;we<Me;we++){var Ue=Ze[we],ze=Ue[1],Ke=Ue[7];if(ze!==Ke&&(Q>=ze&&Q<=Ke||Q>=Ke&&Q<=ze)){var Ee=Q===ze?Ue[0]:Q===Ke?Ue[6]:k.solveCubic(Ue,1,Q,fe,0,1)===1?k.getPoint(Ue,fe[0]).x:(Ue[0]+Ue[6])/2;le.push(Ee)}}}}if(le.length>1)le.sort(function(De,Ge){return De-Ge}),ae.x=(le[0]+le[1])/2}return ae}}});var O=_.extend({_class:"PathFlattener",initialize:function(a,i,f,Z,V){var g=[],F=[],z=0,J=1/(f||32),K=a._segments,oe=K[0],Y;function G(ke,ee){var ae=k.getValues(ke,ee,V);g.push(ae),ne(ae,ke._index,0,1)}function ne(ke,ee,ae,se){if(se-ae>J&&!(Z&&k.isStraight(ke))&&!k.isFlatEnough(ke,i||0.25)){var Q=k.subdivide(ke,0.5),le=(ae+se)/2;ne(Q[0],ee,ae,le),ne(Q[1],ee,le,se)}else{var fe=ke[6]-ke[0],me=ke[7]-ke[1],de=Math.sqrt(fe*fe+me*me);if(de>0)z+=de,F.push({offset:z,curve:ke,index:ee,time:se})}}for(var A=1,re=K.length;A<re;A++)Y=K[A],G(oe,Y),oe=Y;if(a._closed)G(Y||oe,K[0]);this.curves=g,this.parts=F,this.length=z,this.index=0},_get:function(a){var i=this.parts,f=i.length,Z,V,g=this.index;for(;;)if(V=g,!g||i[--g].offset<a)break;for(;V<f;V++){var F=i[V];if(F.offset>=a){this.index=V;var z=i[V-1],J=z&&z.index===F.index?z.time:0,K=z?z.offset:0;return{index:F.index,time:J+(F.time-J)*(a-K)/(F.offset-K)}}}return{index:i[f-1].index,time:1}},drawPart:function(a,i,f){var Z=this._get(i),V=this._get(f);for(var g=Z.index,F=V.index;g<=F;g++){var z=k.getPart(this.curves[g],g===Z.index?Z.time:0,g===V.index?V.time:1);if(g===Z.index)a.moveTo(z[0],z[1]);a.bezierCurveTo.apply(a,z.slice(2))}}},_.each(k._evaluateMethods,function(a){this[a+"At"]=function(i){var f=this._get(i);return k[a](this.curves[f.index],f.time)}},{})),P=_.extend({initialize:function(a){var i=this.points=[],f=a._segments,Z=a._closed;for(var V=0,g,F=f.length;V<F;V++){var z=f[V].point;if(!g||!g.equals(z))i.push(g=z.clone())}if(Z)i.unshift(i[i.length-1]),i.push(i[1]);this.closed=Z},fit:function(a){var i=this.points,f=i.length,Z=null;if(f>0){if(Z=[new t(i[0])],f>1){if(this.fitCubic(Z,a,0,f-1,i[1].subtract(i[0]),i[f-2].subtract(i[f-1])),this.closed)Z.shift(),Z.pop()}}return Z},fitCubic:function(a,i,f,Z,V,g){var F=this.points;if(Z-f===1){var z=F[f],J=F[Z],K=z.getDistance(J)/3;this.addCurve(a,[z,z.add(V.normalize(K)),J.add(g.normalize(K)),J]);return}var oe=this.chordLengthParameterize(f,Z),Y=Math.max(i,i*i),G,ne=!0;for(var A=0;A<=4;A++){var re=this.generateBezier(f,Z,oe,V,g),ke=this.findMaxError(f,Z,re,oe);if(ke.error<i&&ne){this.addCurve(a,re);return}if(G=ke.index,ke.error>=Y)break;ne=this.reparameterize(f,Z,oe,re),Y=ke.error}var ee=F[G-1].subtract(F[G+1]);this.fitCubic(a,i,f,G,V,ee),this.fitCubic(a,i,G,Z,ee.negate(),g)},addCurve:function(a,i){var f=a[a.length-1];f.setHandleOut(i[1].subtract(i[0])),a.push(new t(i[3],i[2].subtract(i[3])))},generateBezier:function(a,i,f,Z,V){var g=0.000000000001,F=Math.abs,z=this.points,J=z[a],K=z[i],oe=[[0,0],[0,0]],Y=[0,0];for(var G=0,ne=i-a+1;G<ne;G++){var A=f[G],re=1-A,ke=3*A*re,ee=re*re*re,ae=ke*re,se=ke*A,Q=A*A*A,le=Z.normalize(ae),fe=V.normalize(se),me=z[a+G].subtract(J.multiply(ee+ae)).subtract(K.multiply(se+Q));oe[0][0]+=le.dot(le),oe[0][1]+=le.dot(fe),oe[1][0]=oe[0][1],oe[1][1]+=fe.dot(fe),Y[0]+=le.dot(me),Y[1]+=fe.dot(me)}var de=oe[0][0]*oe[1][1]-oe[1][0]*oe[0][1],Oe,_e;if(F(de)>g){var ve=oe[0][0]*Y[1]-oe[1][0]*Y[0],Xe=Y[0]*oe[1][1]-Y[1]*oe[0][1];Oe=Xe/de,_e=ve/de}else{var ye=oe[0][0]+oe[0][1],Ze=oe[1][0]+oe[1][1];Oe=_e=F(ye)>g?Y[0]/ye:F(Ze)>g?Y[1]/Ze:0}var we=K.getDistance(J),Me=g*we,Ue,ze;if(Oe<Me||_e<Me)Oe=_e=we/3;else{var Ke=K.subtract(J);if(Ue=Z.normalize(Oe),ze=V.normalize(_e),Ue.dot(Ke)-ze.dot(Ke)>we*we)Oe=_e=we/3,Ue=ze=null}return[J,J.add(Ue||Z.normalize(Oe)),K.add(ze||V.normalize(_e)),K]},reparameterize:function(a,i,f,Z){for(var V=a;V<=i;V++)f[V-a]=this.findRoot(Z,this.points[V],f[V-a]);for(var V=1,g=f.length;V<g;V++)if(f[V]<=f[V-1])return!1;return!0},findRoot:function(a,i,f){var Z=[],V=[];for(var g=0;g<=2;g++)Z[g]=a[g+1].subtract(a[g]).multiply(3);for(var g=0;g<=1;g++)V[g]=Z[g+1].subtract(Z[g]).multiply(2);var F=this.evaluate(3,a,f),z=this.evaluate(2,Z,f),J=this.evaluate(1,V,f),K=F.subtract(i),oe=z.dot(z)+K.dot(J);return M.isMachineZero(oe)?f:f-K.dot(z)/oe},evaluate:function(a,i,f){var Z=i.slice();for(var V=1;V<=a;V++)for(var g=0;g<=a-V;g++)Z[g]=Z[g].multiply(1-f).add(Z[g+1].multiply(f));return Z[0]},chordLengthParameterize:function(a,i){var f=[0];for(var Z=a+1;Z<=i;Z++)f[Z-a]=f[Z-a-1]+this.points[Z].getDistance(this.points[Z-1]);for(var Z=1,V=i-a;Z<=V;Z++)f[Z]/=f[V];return f},findMaxError:function(a,i,f,Z){var V=Math.floor((i-a+1)/2),g=0;for(var F=a+1;F<i;F++){var z=this.evaluate(3,f,Z[F-a]),J=z.subtract(this.points[F]),K=J.x*J.x+J.y*J.y;if(K>=g)g=K,V=F}return{error:g,index:V}}}),pe=be.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function a(i){this._content="",this._lines=[];var f=i&&_.isPlainObject(i)&&i.x===p&&i.y===p;this._initialize(f&&i,!f&&q.read(arguments))},_equals:function(a){return this._content===a._content},copyContent:function(a){this.setContent(a._content)},getContent:function(){return this._content},setContent:function(a){this._content=""+a,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Ne=pe.extend({_class:"PointText",initialize:function a(){pe.apply(this,arguments)},getPoint:function(){var a=this._matrix.getTranslation();return new X(a.x,a.y,this,"setPoint")},setPoint:function(){var a=q.read(arguments);this.translate(a.subtract(this._matrix.getTranslation()))},_draw:function(a,i,f){if(!this._content)return;this._setStyles(a,i,f);var Z=this._lines,V=this._style,g=V.hasFill(),F=V.hasStroke(),z=V.getLeading(),J=a.shadowColor;a.font=V.getFontStyle(),a.textAlign=V.getJustification();for(var K=0,oe=Z.length;K<oe;K++){a.shadowColor=J;var Y=Z[K];if(g)a.fillText(Y,0,0),a.shadowColor="rgba(0,0,0,0)";if(F)a.strokeText(Y,0,0);a.translate(0,z)}},_getBounds:function(a,i){var f=this._style,Z=this._lines,V=Z.length,g=f.getJustification(),F=f.getLeading(),z=this.getView().getTextWidth(f.getFontStyle(),Z),J=0;if(g!=="left")J-=z/(g==="center"?2:1);var K=new S(J,V?-0.75*F:0,z,V*F);return a?a._transformBounds(K,K):K}}),xe=_.extend(new function(){var a={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},f={transparent:[0,0,0,0]},Z;function V(z){var J=z.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||z.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),K="rgb",oe;if(J){var Y=J[4]?4:3;oe=new Array(Y);for(var G=0;G<Y;G++){var ne=J[G+1];oe[G]=parseInt(ne.length==1?ne+ne:ne,16)/255}}else if(J=z.match(/^(rgb|hsl)a?\((.*)\)$/)){K=J[1],oe=J[2].trim().split(/[,\s]+/g);var A=K==="hsl";for(var G=0,re=Math.min(oe.length,4);G<re;G++){var ke=oe[G],ne=parseFloat(ke);if(A){if(G===0){var ee=ke.match(/([a-z]*)$/)[1];ne*={turn:360,rad:180/Math.PI,grad:0.9}[ee]||1}else if(G<3)ne/=100}else if(G<3)ne/=/%$/.test(ke)?100:255;oe[G]=ne}}else{var ae=f[z];if(!ae)if(x){if(!Z)Z=Qe.getContext(1,1,{willReadFrequently:!0}),Z.globalCompositeOperation="copy";Z.fillStyle="rgba(0,0,0,0)",Z.fillStyle=z,Z.fillRect(0,0,1,1);var se=Z.getImageData(0,0,1,1).data;ae=f[z]=[se[0]/255,se[1]/255,se[2]/255]}else ae=[0,0,0];oe=ae.slice()}return[K,oe]}var g=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],F={"rgb-hsb":function(z,J,K){var oe=Math.max(z,J,K),Y=Math.min(z,J,K),G=oe-Y,ne=G===0?0:(oe==z?(J-K)/G+(J<K?6:0):oe==J?(K-z)/G+2:(z-J)/G+4)*60;return[ne,oe===0?0:G/oe,oe]},"hsb-rgb":function(z,J,K){z=(z/60%6+6)%6;var Y=Math.floor(z),oe=z-Y,Y=g[Y],G=[K,K*(1-J),K*(1-J*oe),K*(1-J*(1-oe))];return[G[Y[0]],G[Y[1]],G[Y[2]]]},"rgb-hsl":function(z,J,K){var oe=Math.max(z,J,K),Y=Math.min(z,J,K),G=oe-Y,ne=G===0,A=ne?0:(oe==z?(J-K)/G+(J<K?6:0):oe==J?(K-z)/G+2:(z-J)/G+4)*60,re=(oe+Y)/2,ke=ne?0:re<0.5?G/(oe+Y):G/(2-oe-Y);return[A,ke,re]},"hsl-rgb":function(z,J,K){if(z=(z/360%1+1)%1,J===0)return[K,K,K];var oe=[z+0.3333333333333333,z,z-0.3333333333333333],Y=K<0.5?K*(1+J):K+J-K*J,G=2*K-Y,ne=[];for(var A=0;A<3;A++){var re=oe[A];if(re<0)re+=1;if(re>1)re-=1;ne[A]=6*re<1?G+(Y-G)*6*re:2*re<1?Y:3*re<2?G+(Y-G)*(0.6666666666666666-re)*6:G}return ne},"rgb-gray":function(z,J,K){return[z*0.2989+J*0.587+K*0.114]},"gray-rgb":function(z){return[z,z,z]},"gray-hsb":function(z){return[0,0,z]},"gray-hsl":function(z){return[0,0,z]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return _.each(a,function(z,J){i[J]=[],_.each(z,function(K,oe){var Y=_.capitalize(K),G=/^(hue|saturation)$/.test(K),ne=i[J][oe]=J==="gradient"?K==="gradient"?function(A){var re=this._components[0];if(A=te.read(Array.isArray(A)?A:arguments,0,{readNull:!0}),re!==A){if(re)re._removeOwner(this);if(A)A._addOwner(this)}return A}:function(){return q.read(arguments,0,{readNull:K==="highlight",clone:!0})}:function(A){return A==null||isNaN(A)?0:+A};this["get"+Y]=function(){return this._type===J||G&&/^hs[bl]$/.test(this._type)?this._components[oe]:this._convert(J)[oe]},this["set"+Y]=function(A){if(this._type!==J&&!(G&&/^hs[bl]$/.test(this._type)))this._components=this._convert(J),this._properties=a[J],this._type=J;this._components[oe]=ne.call(this,A),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function z(J){var K=arguments,oe=this.__read,Y=0,G,ne,A,re;if(Array.isArray(J))K=J,J=K[0];var ke=J!=null&&typeof J;if(ke==="string"&&J in a)if(G=J,J=K[1],Array.isArray(J))ne=J,A=K[2];else{if(oe)Y=1;K=_.slice(K,1),ke=typeof J}if(!ne){if(re=ke==="number"?K:ke==="object"&&J.length!=null?J:null,re){if(!G)G=re.length>=3?"rgb":"gray";var ee=a[G].length;if(A=re[ee],oe)Y+=re===arguments?ee+(A!=null?1:0):1;if(re.length>ee)re=_.slice(re,0,ee)}else if(ke==="string"){var ae=V(J);if(G=ae[0],ne=ae[1],ne.length===4)A=ne[3],ne.length--}else if(ke==="object")if(J.constructor===z){if(G=J._type,ne=J._components.slice(),A=J._alpha,G==="gradient")for(var se=1,Q=ne.length;se<Q;se++){var le=ne[se];if(le)ne[se]=le.clone()}}else if(J.constructor===te)G="gradient",re=K;else{G="hue"in J?"lightness"in J?"hsl":"hsb":("gradient"in J)||("stops"in J)||("radial"in J)?"gradient":("gray"in J)?"gray":"rgb";var fe=a[G],me=i[G];this._components=ne=[];for(var se=0,Q=fe.length;se<Q;se++){var de=J[fe[se]];if(de==null&&!se&&G==="gradient"&&"stops"in J)de={stops:J.stops,radial:J.radial};if(de=me[se].call(this,de),de!=null)ne[se]=de}A=J.alpha}if(oe&&G)Y=1}if(this._type=G||"rgb",!ne){this._components=ne=[];var me=i[this._type];for(var se=0,Q=me.length;se<Q;se++){var de=me[se].call(this,re&&re[se]);if(de!=null)ne[se]=de}}if(this._components=ne,this._properties=a[this._type],this._alpha=A,oe)this.__read=Y;return this},set:"#initialize",_serialize:function(z,J){var K=this.getComponents();return _.serialize(/^(gray|rgb)$/.test(this._type)?K:[this._type].concat(K),z,!0,J)},_changed:function(){if(this._canvasStyle=null,this._owner)if(this._setter)this._owner[this._setter](this);else this._owner._changed(129)},_convert:function(z){var J;return this._type===z?this._components.slice():(J=F[this._type+"-"+z])?J.apply(this,this._components):F["rgb-"+z].apply(this,F[this._type+"-rgb"].apply(this,this._components))},convert:function(z){return new xe(z,this._convert(z),this._alpha)},getType:function(){return this._type},setType:function(z){this._components=this._convert(z),this._properties=a[z],this._type=z},getComponents:function(){var z=this._components.slice();if(this._alpha!=null)z.push(this._alpha);return z},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(z){this._alpha=z==null?null:Math.min(Math.max(z,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(z){var J=_.isPlainValue(z,!0)?xe.read(arguments):z;return J===this||J&&this._class===J._class&&this._type===J._type&&this.getAlpha()===J.getAlpha()&&_.equals(this._components,J._components)||!1},toString:function(){var z=this._properties,J=[],K=this._type==="gradient",oe=$.instance;for(var Y=0,G=z.length;Y<G;Y++){var ne=this._components[Y];if(ne!=null)J.push(z[Y]+": "+(K?ne:oe.number(ne)))}if(this._alpha!=null)J.push("alpha: "+oe.number(this._alpha));return"{ "+J.join(", ")+" }"},toCSS:function(z){var J=this._convert("rgb"),K=z||this._alpha==null?1:this._alpha;function oe(Y){return Math.round((Y<0?0:Y>1?1:Y)*255)}if(J=[oe(J[0]),oe(J[1]),oe(J[2])],K<1)J.push(K<0?0:K);return z?"#"+(16777216+(J[0]<<16)+(J[1]<<8)+J[2]).toString(16).slice(1):(J.length==4?"rgba(":"rgb(")+J.join(",")+")"},toCanvasStyle:function(z,J){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var K=this._components,oe=K[0],Y=oe._stops,G=K[1],ne=K[2],A=K[3],re=J&&J.inverted(),ke;if(re){if(G=re._transformPoint(G),ne=re._transformPoint(ne),A)A=re._transformPoint(A)}if(oe._radial){var ee=ne.getDistance(G);if(A){var ae=A.subtract(G);if(ae.getLength()>ee)A=G.add(ae.normalize(ee-0.1))}var se=A||G;ke=z.createRadialGradient(se.x,se.y,0,G.x,G.y,ee)}else ke=z.createLinearGradient(G.x,G.y,ne.x,ne.y);for(var Q=0,le=Y.length;Q<le;Q++){var fe=Y[Q],me=fe._offset;ke.addColorStop(me==null?Q/(le-1):me,fe._color.toCanvasStyle())}return this._canvasStyle=ke},transform:function(z){if(this._type==="gradient"){var J=this._components;for(var K=1,oe=J.length;K<oe;K++){var Y=J[K];z._transformPoint(Y,Y,!0)}this._changed()}},statics:{_types:a,random:function(){var z=Math.random;return new xe(z(),z(),z())},_setOwner:function(z,J,K){if(z){if(z._owner&&J&&z._owner!==J)z=z.clone();if(!z._owner^!J)z._owner=J||null,z._setter=K||null}return z}}})},new function(){var a={add:function(i,f){return i+f},subtract:function(i,f){return i-f},multiply:function(i,f){return i*f},divide:function(i,f){return i/f}};return _.each(a,function(i,f){this[f]=function(Z){Z=xe.read(arguments);var V=this._type,g=this._components,F=Z._convert(V);for(var z=0,J=g.length;z<J;z++)F[z]=i(g[z],F[z]);return new xe(V,F,this._alpha!=null?i(this._alpha,Z.getAlpha()):null)}},{})}),te=_.extend({_class:"Gradient",initialize:function a(i,f){if(this._id=T.get(),i&&_.isPlainObject(i))this.set(i),i=f=null;if(this._stops==null)this.setStops(i||["white","black"]);if(this._radial==null)this.setRadial(typeof f==="string"&&f==="radial"||f||!1)},_serialize:function(a,i){return i.add(this,function(){return _.serialize([this._stops,this._radial],a,!0,i)})},_changed:function(){for(var a=0,i=this._owners&&this._owners.length;a<i;a++)this._owners[a]._changed()},_addOwner:function(a){if(!this._owners)this._owners=[];this._owners.push(a)},_removeOwner:function(a){var i=this._owners?this._owners.indexOf(a):-1;if(i!=-1){if(this._owners.splice(i,1),!this._owners.length)this._owners=p}},clone:function(){var a=[];for(var i=0,f=this._stops.length;i<f;i++)a[i]=this._stops[i].clone();return new te(a,this._radial)},getStops:function(){return this._stops},setStops:function(a){if(a.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var f=0,Z=i.length;f<Z;f++)i[f]._owner=p;i=this._stops=ie.readList(a,0,{clone:!0});for(var f=0,Z=i.length;f<Z;f++)i[f]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(a){this._radial=a,this._changed()},equals:function(a){if(a===this)return!0;if(a&&this._class===a._class){var i=this._stops,f=a._stops,Z=i.length;if(Z===f.length){for(var V=0;V<Z;V++)if(!i[V].equals(f[V]))return!1;return!0}}return!1}}),ie=_.extend({_class:"GradientStop",initialize:function a(i,f){var Z=i,V=f;if(typeof i==="object"&&f===p){if(Array.isArray(i)&&typeof i[0]!=="number")Z=i[0],V=i[1];else if("color"in i||"offset"in i||"rampPoint"in i)Z=i.color,V=i.offset||i.rampPoint||0}this.setColor(Z),this.setOffset(V)},clone:function(){return new ie(this._color.clone(),this._offset)},_serialize:function(a,i){var f=this._color,Z=this._offset;return _.serialize(Z==null?[f]:[f,Z],a,!0,i)},_changed:function(){if(this._owner)this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(a){this._offset=a,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){xe._setOwner(this._color,null),this._color=xe._setOwner(xe.read(arguments,0),this,"setColor"),this._changed()},equals:function(a){return a===this||a&&this._class===a._class&&this._color.equals(a._color)&&this._offset==a._offset||!1}}),he=_.extend(new function(){var a={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new q,selectedColor:null},i=_.set({},a,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),f=_.set({},i,{fillColor:new xe}),Z={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},V={beans:!0},g={_class:"Style",beans:!0,initialize:function F(z,J,K){if(this._values={},this._owner=J,this._project=J&&J._project||K||U.project,this._defaults=!J||J instanceof qe?i:J instanceof pe?f:a,z)this.set(z)}};return _.each(i,function(F,z){var J=/Color$/.test(z),K=z==="shadowOffset",oe=_.capitalize(z),Y=Z[z],G="set"+oe,ne="get"+oe;g[G]=function(A){var re=this._owner,ke=re&&re._children,ee=ke&&ke.length>0&&!(re instanceof W);if(ee)for(var ae=0,se=ke.length;ae<se;ae++)ke[ae]._style[G](A);if((z==="selectedColor"||!ee)&&z in this._defaults){var Q=this._values[z];if(Q!==A){if(J){if(Q)xe._setOwner(Q,null),Q._canvasStyle=null;if(A&&A.constructor===xe)A=xe._setOwner(A,re,ee&&G)}if(this._values[z]=A,re)re._changed(Y||129)}}},g[ne]=function(A){var re=this._owner,ke=re&&re._children,ee=ke&&ke.length>0&&!(re instanceof W),ae;if(ee&&!A)for(var se=0,Q=ke.length;se<Q;se++){var le=ke[se]._style[ne]();if(!se)ae=le;else if(!_.equals(ae,le))return p}else if(z in this._defaults){var ae=this._values[z];if(ae===p){if(ae=this._defaults[z],ae&&ae.clone)ae=ae.clone()}else{var fe=J?xe:K?q:null;if(fe&&!(ae&&ae.constructor===fe))this._values[z]=ae=fe.read([ae],0,{readNull:!0,clone:!0})}}if(ae&&J)ae=xe._setOwner(ae,re,ee&&G);return ae},V[ne]=function(A){return this._style[ne](A)},V[G]=function(A){this._style[G](A)}}),_.each({Font:"FontFamily",WindingRule:"FillRule"},function(F,z){var J="get"+z,K="set"+z;g[J]=V[J]="#get"+F,g[K]=V[K]="#set"+F}),be.inject(V),g},{set:function(a){var i=a instanceof he,f=i?a._values:a;if(f){for(var Z in f)if(Z in this._defaults){var V=f[Z];this[Z]=V&&i&&V.clone?V.clone():V}}},equals:function(a){function i(f,Z,V){var g=f._values,F=Z._values,z=Z._defaults;for(var J in g){var K=g[J],oe=F[J];if(!(V&&(J in F))&&!_.equals(K,oe===p?z[J]:oe))return!1}return!0}return a===this||a&&this._class===a._class&&i(this,a)&&i(a,this,!0)||!1},_dispose:function(){var a=this.getFillColor();if(a)a._canvasStyle=null;if(a=this.getStrokeColor(),a)a._canvasStyle=null;if(a=this.getShadowColor(),a)a._canvasStyle=null},hasFill:function(){var a=this.getFillColor();return!!a&&a.alpha>0},hasStroke:function(){var a=this.getStrokeColor();return!!a&&a.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var a=this.getShadowColor();return!!a&&a.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var a=this.getFontSize();return this.getFontWeight()+" "+a+(/[a-z]/i.test(a+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function a(){var i=a.base.call(this),f=this.getFontSize();if(/pt|em|%|px/.test(f))f=this.getView().getPixelSize(f);return i!=null?i:f*1.2}}),Fe=new function(){function a(i,f,Z,V){var g=["","webkit","moz","Moz","ms","o"],F=f[0].toUpperCase()+f.substring(1);for(var z=0;z<6;z++){var J=g[z],K=J?J+F:f;if(K in i){if(Z)i[K]=V;else return i[K];break}}}return{getStyles:function(i){var f=i&&i.nodeType!==9?i.ownerDocument:i,Z=f&&f.defaultView;return Z&&Z.getComputedStyle(i,"")},getBounds:function(i,f){var Z=i.ownerDocument,V=Z.body,g=Z.documentElement,F;try{F=i.getBoundingClientRect()}catch(oe){F={left:0,top:0,width:0,height:0}}var z=F.left-(g.clientLeft||V.clientLeft||0),J=F.top-(g.clientTop||V.clientTop||0);if(!f){var K=Z.defaultView;z+=K.pageXOffset||g.scrollLeft||V.scrollLeft,J+=K.pageYOffset||g.scrollTop||V.scrollTop}return new S(z,J,F.width,F.height)},getViewportBounds:function(i){var f=i.ownerDocument,Z=f.defaultView,V=f.documentElement;return new S(0,0,Z.innerWidth||V.clientWidth,Z.innerHeight||V.clientHeight)},getOffset:function(i,f){return Fe.getBounds(i,f).getPoint()},getSize:function(i){return Fe.getBounds(i,!0).getSize()},isInvisible:function(i){return Fe.getSize(i).equals(new j(0,0))},isInView:function(i){return!Fe.isInvisible(i)&&Fe.getViewportBounds(i).intersects(Fe.getBounds(i,!0))},isInserted:function(i){return u.body.contains(i)},getPrefixed:function(i,f){return i&&a(i,f)},setPrefixed:function(i,f,Z){if(typeof f==="object")for(var V in f)a(i,V,!0,f[V]);else a(i,f,!0,Z)}}},Re={add:function(a,i){if(a)for(var f in i){var Z=i[f],V=f.split(/[\s,]+/g);for(var g=0,F=V.length;g<F;g++){var z=V[g],J=a===u&&(z==="touchstart"||z==="touchmove")?{passive:!1}:!1;a.addEventListener(z,Z,J)}}},remove:function(a,i){if(a)for(var f in i){var Z=i[f],V=f.split(/[\s,]+/g);for(var g=0,F=V.length;g<F;g++)a.removeEventListener(V[g],Z,!1)}},getPoint:function(a){var i=a.targetTouches?a.targetTouches.length?a.targetTouches[0]:a.changedTouches[0]:a;return new q(i.pageX||i.clientX+u.documentElement.scrollLeft,i.pageY||i.clientY+u.documentElement.scrollTop)},getTarget:function(a){return a.target||a.srcElement},getRelatedTarget:function(a){return a.relatedTarget||a.toElement},getOffset:function(a,i){return Re.getPoint(a).subtract(Fe.getOffset(i||Re.getTarget(a)))}};Re.requestAnimationFrame=new function(){var a=Fe.getPrefixed(x,"requestAnimationFrame"),i=!1,f=[],Z;function V(){var g=f;f=[];for(var F=0,z=g.length;F<z;F++)g[F]();if(i=a&&f.length,i)a(V)}return function(g){if(f.push(g),a){if(!i)a(V),i=!0}else if(!Z)Z=setInterval(V,16.666666666666668)}};var ge=_.extend(L,{_class:"View",initialize:function a(i,f){function Z(Y){return f[Y]||parseInt(f.getAttribute(Y),10)}function V(){var Y=Fe.getSize(f);return Y.isNaN()||Y.isZero()?new j(Z("width"),Z("height")):Y}var g;if(x&&f){if(this._id=f.getAttribute("id"),this._id==null)f.setAttribute("id",this._id="paper-view-"+a._id++);Re.add(f,this._viewEvents);var F="none";if(Fe.setPrefixed(f.style,{userDrag:F,userSelect:F,touchCallout:F,contentZooming:F,tapHighlightColor:"rgba(0,0,0,0)"}),y.hasAttribute(f,"resize")){var z=this;Re.add(x,this._windowEvents={resize:function(){z.setViewSize(V())}})}if(g=V(),y.hasAttribute(f,"stats")&&typeof Stats!=="undefined"){this._stats=new Stats;var J=this._stats.domElement,K=J.style,oe=Fe.getOffset(f);K.position="absolute",K.left=oe.x+"px",K.top=oe.y+"px",u.body.appendChild(J)}}else g=new j(f),f=null;if(this._project=i,this._scope=i._scope,this._element=f,!this._pixelRatio)this._pixelRatio=x&&x.devicePixelRatio||1;if(this._setElementSize(g.width,g.height),this._viewSize=g,a._views.push(this),a._viewsById[this._id]=this,(this._matrix=new D)._owner=this,!a._focused)a._focused=this;this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!U.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;if(ge._focused===this)ge._focused=null;ge._views.splice(ge._views.indexOf(this),1),delete ge._viewsById[this._id];var a=this._project;if(a._view===this)a._view=null;return Re.remove(this._element,this._viewEvents),Re.remove(x,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:_.each(be._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(a){this[a]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(a){if(this._autoUpdate=a,a)this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var a=this;Re.requestAnimationFrame(function(){if(a._requested=!1,a._animate){a.requestUpdate();var i=a._element;if((!Fe.getPrefixed(u,"hidden")||y.getAttribute(i,"keepalive")==="true")&&Fe.isInView(i))a._handleFrame()}if(a._autoUpdate)a.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){U=this._scope;var a=Date.now()/1000,i=this._last?a-this._last:0;if(this._last=a,this.emit("frame",new _({delta:i,time:this._time+=i,count:this._count++})),this._stats)this._stats.update()},_animateItem:function(a,i){var f=this._frameItems;if(i){if(f[a._id]={item:a,time:0,count:0},++this._frameItemCount===1)this.on("frame",this._handleFrameItems)}else if(delete f[a._id],--this._frameItemCount===0)this.off("frame",this._handleFrameItems)},_handleFrameItems:function(a){for(var i in this._frameItems){var f=this._frameItems[i];f.item.emit("frame",new _(a,{time:f.time+=a.delta,count:f.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=p},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var a=this._viewSize;return new I(a.width,a.height,this,"setViewSize")},setViewSize:function(){var a=j.read(arguments),i=a.subtract(this._viewSize);if(i.isZero())return;if(this._setElementSize(a.width,a.height),this._viewSize.set(a),this._changed(),this.emit("resize",{size:a,delta:i}),this._autoUpdate)this.update()},_setElementSize:function(a,i){var f=this._element;if(f){if(f.width!==a)f.width=a;if(f.height!==i)f.height=i}},getBounds:function(){if(!this._bounds)this._bounds=this._matrix.inverted()._transformBounds(new S(new q,this._viewSize));return this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Fe.isInView(this._element)},isInserted:function(){return Fe.isInserted(this._element)},getPixelSize:function(a){var i=this._element,f;if(i){var Z=i.parentNode,V=u.createElement("div");V.style.fontSize=a,Z.appendChild(V),f=parseFloat(Fe.getStyles(V).fontSize),Z.removeChild(V)}else f=parseFloat(f);return f},getTextWidth:function(a,i){return 0}},_.each(["rotate","scale","shear","skew"],function(a){var i=a==="rotate";this[a]=function(){var f=arguments,Z=(i?_:q).read(f),V=q.read(f,0,{readNull:!0});return this.transform(new D()[a](Z,V||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var a=new D;return this.transform(a.translate.apply(a,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var a=q.read(arguments);this.translate(this.getCenter().subtract(a))},getZoom:function(){var a=this._decompose().scaling;return(a.x+a.y)/2},setZoom:function(a){this.transform(new D().scale(a/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(a){var i=this.getRotation();if(i!=null&&a!=null)this.rotate(a-i)},getScaling:function(){var a=this._decompose().scaling;return new X(a.x,a.y,this,"setScaling")},setScaling:function(){var a=this.getScaling(),i=q.read(arguments,0,{clone:!0,readNull:!0});if(a&&i)this.scale(i.x/a.x,i.y/a.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var a=this._matrix;a.set.apply(a,arguments)},transform:function(a){this._matrix.append(a)},scrollBy:function(){this.translate(q.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(q.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(q.read(arguments))},getEventPoint:function(a){return this.viewToProject(Re.getOffset(a,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(a,i){if(u&&typeof i==="string")i=u.getElementById(i);var f=x?H:ge;return new f(a,i)}}},new function(){if(!x)return;var a,i,f=!1,Z=!1;function V(ye){var Ze=Re.getTarget(ye);return Ze.getAttribute&&ge._viewsById[Ze.getAttribute("id")]}function g(){var ye=ge._focused;if(!ye||!ye.isVisible()){for(var Ze=0,we=ge._views.length;Ze<we;Ze++)if((ye=ge._views[Ze]).isVisible()){ge._focused=i=ye;break}}}function F(ye,Ze,we){ye._handleMouseEvent("mousemove",Ze,we)}var z=x.navigator,J,K,oe;if(z.pointerEnabled||z.msPointerEnabled)J="pointerdown MSPointerDown",K="pointermove MSPointerMove",oe="pointerup pointercancel MSPointerUp MSPointerCancel";else if(J="touchstart",K="touchmove",oe="touchend touchcancel",!(("ontouchstart"in x)&&z.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)))J+=" mousedown",K+=" mousemove",oe+=" mouseup";var Y={},G={mouseout:function(ye){var Ze=ge._focused,we=Re.getRelatedTarget(ye);if(Ze&&(!we||we.nodeName==="HTML")){var Me=Re.getOffset(ye,Ze._element),Ue=Me.x,ze=Math.abs,Ke=ze(Ue),Ee=33554432,De=Ke-Ee;Me.x=ze(De)<Ke?De*(Ue<0?-1:1):Ue,F(Ze,ye,Ze.viewToProject(Me))}},scroll:g};Y[J]=function(ye){var Ze=ge._focused=V(ye);if(!f)f=!0,Ze._handleMouseEvent("mousedown",ye)},G[K]=function(ye){var Ze=ge._focused;if(!Z){var we=V(ye);if(we){if(Ze!==we){if(Ze)F(Ze,ye);if(!a)a=Ze;Ze=ge._focused=i=we}}else if(i&&i===Ze){if(a&&!a.isInserted())a=null;Ze=ge._focused=a,a=null,g()}}if(Ze)F(Ze,ye)},G[J]=function(){Z=!0},G[oe]=function(ye){var Ze=ge._focused;if(Ze&&f)Ze._handleMouseEvent("mouseup",ye);Z=f=!1},Re.add(u,G),Re.add(x,{load:g});var ne=!1,A=!1,re={doubleclick:"click",mousedrag:"mousemove"},ke=!1,ee,ae,se,Q,le,fe,me,de,Oe;function _e(ye,Ze,we,Me,Ue,ze,Ke){var Ee=!1,De;function Ge(Ce,He){if(Ce.responds(He)){if(!De)De=new Le(He,Me,Ue,Ze||Ce,ze?Ue.subtract(ze):null);if(Ce.emit(He,De)){if(ne=!0,De.prevented)A=!0;if(De.stopped)return Ee=!0}}else{var Be=re[He];if(Be)return Ge(Ce,Be)}}while(ye&&ye!==Ke){if(Ge(ye,we))break;ye=ye._parent}return Ee}function ve(ye,Ze,we,Me,Ue,ze){return ye._project.removeOn(we),A=ne=!1,fe&&_e(fe,null,we,Me,Ue,ze)||Ze&&Ze!==fe&&!Ze.isDescendant(fe)&&_e(Ze,null,we==="mousedrag"?"mousemove":we,Me,Ue,ze,fe)||_e(ye,fe||Ze||ye,we,Me,Ue,ze)}var Xe={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:Y,_handleMouseEvent:function(ye,Ze,we){var Me=this._itemEvents,Ue=Me.native[ye],ze=ye==="mousemove",Ke=this._scope.tool,Ee=this;function De(Ae){return Me.virtual[Ae]||Ee.responds(Ae)||Ke&&Ke.responds(Ae)}if(ze&&f&&De("mousedrag"))ye="mousedrag";if(!we)we=this.getEventPoint(Ze);var Ge=this.getBounds().contains(we),Ce=Ue&&Ge&&Ee._project.hitTest(we,{tolerance:0,fill:!0,stroke:!0}),He=Ce&&Ce.item||null,Be=!1,Ye={};if(Ye[ye.substr(5)]=!0,Ue&&He!==le){if(le)_e(le,null,"mouseleave",Ze,we);if(He)_e(He,null,"mouseenter",Ze,we);le=He}if(ke^Ge)_e(this,null,Ge?"mouseenter":"mouseleave",Ze,we),ee=Ge?this:null,Be=!0;if((Ge||Ye.drag)&&!we.equals(se))ve(this,He,ze?ye:"mousemove",Ze,we,se),Be=!0;if(ke=Ge,Ye.down&&Ge||Ye.up&&ae){if(ve(this,He,ye,Ze,we,ae),Ye.down){if(Oe=He===me&&Date.now()-de<300,Q=me=He,!A&&He){var lo=He;while(lo&&!lo.responds("mousedrag"))lo=lo._parent;if(lo)fe=He}ae=we}else if(Ye.up){if(!A&&He===Q)de=Date.now(),ve(this,He,Oe?"doubleclick":"click",Ze,we,ae),Oe=!1;Q=fe=null}ke=!1,Be=!0}if(se=we,Be&&Ke)ne=Ke._handleMouseEvent(ye,Ze,we,Ye)||ne;if(Ze.cancelable!==!1&&(ne&&!Ye.move||Ye.down&&De("mouseup")))Ze.preventDefault()},_handleKeyEvent:function(ye,Ze,we,Me){var Ue=this._scope,ze=Ue.tool,Ke;function Ee(De){if(De.responds(ye))U=Ue,De.emit(ye,Ke=Ke||new B(ye,Ze,we,Me))}if(this.isVisible()){if(Ee(this),ze&&ze.responds(ye))Ee(ze)}},_countItemEvent:function(ye,Ze){var we=this._itemEvents,Me=we.native,Ue=we.virtual;for(var ze in Xe)Me[ze]=(Me[ze]||0)+(Xe[ze][ye]||0)*Ze;Ue[ye]=(Ue[ye]||0)+Ze},statics:{updateFocus:g,_resetState:function(){f=Z=ne=ke=!1,a=i=ee=ae=se=Q=le=fe=me=de=Oe=null}}}}),H=ge.extend({_class:"CanvasView",initialize:function a(i,f){if(!(f instanceof x.HTMLCanvasElement)){var Z=j.read(arguments,1);if(Z.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+_.slice(arguments,1));f=Qe.getCanvas(Z)}var V=this._context=f.getContext("2d");if(V.save(),this._pixelRatio=1,!/^off|false$/.test(y.getAttribute(f,"hidpi"))){var g=x.devicePixelRatio||1,F=Fe.getPrefixed(V,"backingStorePixelRatio")||1;this._pixelRatio=g/F}ge.call(this,i,f),this._needsUpdate=!0},remove:function a(){return this._context.restore(),a.base.call(this)},_setElementSize:function a(i,f){var Z=this._pixelRatio;if(a.base.call(this,i*Z,f*Z),Z!==1){var V=this._element,g=this._context;if(!y.hasAttribute(V,"resize")){var F=V.style;F.width=i+"px",F.height=f+"px"}g.restore(),g.save(),g.scale(Z,Z)}},getContext:function(){return this._context},getPixelSize:function a(i){var f=U.agent,Z;if(f&&f.firefox)Z=a.base.call(this,i);else{var V=this._context,g=V.font;V.font=i+" serif",Z=parseFloat(V.font),V.font=g}return Z},getTextWidth:function(a,i){var f=this._context,Z=f.font,V=0;f.font=a;for(var g=0,F=i.length;g<F;g++)V=Math.max(V,f.measureText(i[g]).width);return f.font=Z,V},update:function(){if(!this._needsUpdate)return!1;var a=this._project,i=this._context,f=this._viewSize;if(i.clearRect(0,0,f.width+1,f.height+1),a)a.draw(i,this._matrix,this._pixelRatio);return this._needsUpdate=!1,!0}}),w=_.extend({_class:"Event",initialize:function a(i){this.event=i,this.type=i&&i.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Te.modifiers}}),B=w.extend({_class:"KeyEvent",initialize:function a(i,f,Z,V){this.type=i,this.event=f,this.key=Z,this.character=V},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Te=new function(){var a={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},f={},Z={},V,g,F=new _({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var K=U&&U.agent;return K&&K.mac?this.meta:this.control}}});function z(K){var oe=K.key||K.keyIdentifier;return oe=/^U\+/.test(oe)?String.fromCharCode(parseInt(oe.substr(2),16)):/^Arrow[A-Z]/.test(oe)?oe.substr(5):oe==="Unidentified"||oe===p?String.fromCharCode(K.keyCode):oe,a[oe]||(oe.length>1?_.hyphenate(oe):oe.toLowerCase())}function J(K,oe,Y,G){var ne=K?"keydown":"keyup",A=ge._focused,re;if(f[oe]=K,K)Z[oe]=Y;else delete Z[oe];if(oe.length>1&&(re=_.camelize(oe))in F){F[re]=K;var ke=U&&U.agent;if(re==="meta"&&ke&&ke.mac)if(K)V={};else{for(var ee in V)if(ee in Z)J(!1,ee,V[ee],G);V=null}}else if(K&&V)V[oe]=Y;if(A)A._handleKeyEvent(K?"keydown":"keyup",G,oe,Y)}return Re.add(u,{keydown:function(K){var oe=z(K),Y=U&&U.agent;if(oe.length>1||Y&&(Y.chrome&&(K.altKey||Y.mac&&K.metaKey||!Y.mac&&K.ctrlKey)))J(!0,oe,i[oe]||(oe.length>1?"":oe),K);else g=oe},keypress:function(K){if(g){var oe=z(K),Y=K.charCode,G=Y>=32?String.fromCharCode(Y):oe.length>1?"":oe;if(oe!==g)oe=G.toLowerCase();J(!0,oe,G,K),g=null}},keyup:function(K){var oe=z(K);if(oe in Z)J(!1,oe,Z[oe],K)}}),Re.add(x,{blur:function(K){for(var oe in Z)J(!1,oe,Z[oe],K)}}),{modifiers:F,isDown:function(K){return!!f[K]}}},Le=w.extend({_class:"MouseEvent",initialize:function a(i,f,Z,V,g){this.type=i,this.event=f,this.point=Z,this.target=V,this.delta=g},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ve=w.extend({_class:"ToolEvent",_item:null,initialize:function a(i,f,Z){this.tool=i,this.type=f,this.event=Z},_choosePoint:function(a,i){return a?a:i?i.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(a){this._point=a},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(a){this._lastPoint=a},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(a){this._downPoint=a},getMiddlePoint:function(){if(!this._middlePoint&&this.tool._lastPoint)return this.tool._point.add(this.tool._lastPoint).divide(2);return this._middlePoint},setMiddlePoint:function(a){this._middlePoint=a},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(a){this._delta=a},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(a){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=a},getItem:function(){if(!this._item){var a=this.tool._scope.project.hitTest(this.getPoint());if(a){var i=a.item,f=i._parent;while(/^(Group|CompoundPath)$/.test(f._class))i=f,f=f._parent;this._item=i}}return this._item},setItem:function(a){this._item=a},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Pe=R.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function a(i){R.call(this),this._moveCount=-1,this._downCount=-1,this.set(i)},getMinDistance:function(){return this._minDistance},setMinDistance:function(a){if(this._minDistance=a,a!=null&&this._maxDistance!=null&&a>this._maxDistance)this._maxDistance=a},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(a){if(this._maxDistance=a,this._minDistance!=null&&a!=null&&a<this._minDistance)this._minDistance=a},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(a){this._minDistance=this._maxDistance=a},_handleMouseEvent:function(a,i,f,Z){if(U=this._scope,Z.drag&&!this.responds(a))a="mousemove";var V=Z.move||Z.drag,g=this.responds(a),F=!1,z=this;function J(oe,Y){var G=f,ne=V?z._point:z._downPoint||G;if(V){if(z._moveCount>=0&&G.equals(ne))return!1;if(ne&&(oe!=null||Y!=null)){var A=G.subtract(ne),re=A.getLength();if(re<(oe||0))return!1;if(Y)G=ne.add(A.normalize(Math.min(re,Y)))}z._moveCount++}if(z._point=G,z._lastPoint=ne||G,Z.down)z._moveCount=-1,z._downPoint=G,z._downCount++;return!0}function K(){if(g)F=z.emit(a,new Ve(z,a,i))||F}if(Z.down)J(),K();else if(Z.up)J(null,this._maxDistance),K();else if(g)while(J(this._minDistance,this._maxDistance))K();return F}}),We=_.extend(L,{_class:"Tween",statics:{easings:new _({linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return a<0.5?2*a*a:-1+2*(2-a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return a<0.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return a<0.5?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return a<0.5?16*a*a*a*a*a:1+16*--a*a*a*a*a}})},initialize:function a(i,f,Z,V,g,F){this.object=i;var z=typeof g,J=z==="function";this.type=J?z:z==="string"?g:"linear",this.easing=J?g:a.easings[this.type],this.duration=V,this.running=!1,this._then=null,this._startTime=null;var K=f||Z;if(this._keys=K?Object.keys(K):[],this._parsedKeys=this._parseKeys(this._keys),this._from=K&&this._getState(f),this._to=K&&this._getState(Z),F!==!1)this.start()},then:function(a){return this._then=a,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(a){if(this.running){if(a>=1)a=1,this.running=!1;var i=this.easing(a),f=this._keys,Z=function(oe){return typeof oe==="function"?oe(i,a):oe};for(var V=0,g=f&&f.length;V<g;V++){var F=f[V],z=Z(this._from[F]),J=Z(this._to[F]),K=z&&J&&z.__add&&J.__add?J.__subtract(z).__multiply(i).__add(z):(J-z)*i+z;this._setProperty(this._parsedKeys[F],K)}if(this.responds("update"))this.emit("update",new _({progress:a,factor:i}));if(!this.running&&this._then)this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(a){var i=this._startTime,f=i?(a-i)/this.duration:0;if(!i)this._startTime=a;this.update(f)},_getState:function(a){var i=this._keys,f={};for(var Z=0,V=i.length;Z<V;Z++){var g=i[Z],F=this._parsedKeys[g],z=this._getProperty(F),J;if(a){var K=this._resolveValue(z,a[g]);this._setProperty(F,K),J=this._getProperty(F),J=J&&J.clone?J.clone():J,this._setProperty(F,z)}else J=z&&z.clone?z.clone():z;f[g]=J}return f},_resolveValue:function(a,i){if(i){if(Array.isArray(i)&&i.length===2){var f=i[0];return f&&f.match&&f.match(/^[+\-\*\/]=/)?this._calculate(a,f[0],i[1]):i}else if(typeof i==="string"){var Z=i.match(/^[+\-*/]=(.*)/);if(Z){var V=JSON.parse(Z[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(a,i[0],V)}}}return i},_calculate:function(a,i,f){return U.PaperScript.calculateBinary(a,i,f)},_parseKeys:function(a){var i={};for(var f=0,Z=a.length;f<Z;f++){var V=a[f],g=V.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");i[V]=g.split("/")}return i},_getProperty:function(a,i){var f=this.object;for(var Z=0,V=a.length-(i||0);Z<V&&f;Z++)f=f[a[Z]];return f},_setProperty:function(a,i){var f=this._getProperty(a,1);if(f)f[a[a.length-1]]=i}}),Ie={request:function(a){var i=new N.XMLHttpRequest;if(i.open((a.method||"get").toUpperCase(),a.url,_.pick(a.async,!0)),a.mimeType)i.overrideMimeType(a.mimeType);return i.onload=function(){var f=i.status;if(f===0||f===200){if(a.onLoad)a.onLoad.call(i,i.responseText)}else i.onerror()},i.onerror=function(){var f=i.status,Z='Could not load "'+a.url+'" (Status: '+f+")";if(a.onError)a.onError(Z,f);else throw new Error(Z)},i.send(null)}},Qe=_.exports.CanvasProvider={canvases:[],getCanvas:function(a,i,f){if(!x)return null;var Z,V=!0;if(typeof a==="object")i=a.height,a=a.width;if(this.canvases.length)Z=this.canvases.pop();else Z=u.createElement("canvas"),V=!1;var g=Z.getContext("2d",f||{});if(!g)throw new Error("Canvas "+Z+" is unable to provide a 2D context.");if(Z.width===a&&Z.height===i){if(V)g.clearRect(0,0,a+1,i+1)}else Z.width=a,Z.height=i;return g.save(),Z},getContext:function(a,i,f){var Z=this.getCanvas(a,i,f);return Z?Z.getContext("2d",f||{}):null},release:function(a){var i=a&&a.canvas?a.canvas:a;if(i&&i.getContext)i.getContext("2d").restore(),this.canvases.push(i)}},Je=new function(){var{min:a,max:i,abs:f}=Math,Z,V,g,F,z,J,K,oe,Y,G,ne;function A(le,fe,me){return 0.2989*le+0.587*fe+0.114*me}function re(le,fe,me,_e){var Oe=_e-A(le,fe,me);Y=le+Oe,G=fe+Oe,ne=me+Oe;var _e=A(Y,G,ne),ve=a(Y,G,ne),Xe=i(Y,G,ne);if(ve<0){var ye=_e-ve;Y=_e+(Y-_e)*_e/ye,G=_e+(G-_e)*_e/ye,ne=_e+(ne-_e)*_e/ye}if(Xe>255){var Ze=255-_e,we=Xe-_e;Y=_e+(Y-_e)*Ze/we,G=_e+(G-_e)*Ze/we,ne=_e+(ne-_e)*Ze/we}}function ke(le,fe,me){return i(le,fe,me)-a(le,fe,me)}function ee(le,fe,me,de){var Oe=[le,fe,me],_e=i(le,fe,me),ve=a(le,fe,me),Xe;if(ve=ve===le?0:ve===fe?1:2,_e=_e===le?0:_e===fe?1:2,Xe=a(ve,_e)===0?i(ve,_e)===1?2:1:0,Oe[_e]>Oe[ve])Oe[Xe]=(Oe[Xe]-Oe[ve])*de/(Oe[_e]-Oe[ve]),Oe[_e]=de;else Oe[Xe]=Oe[_e]=0;Oe[ve]=0,Y=Oe[0],G=Oe[1],ne=Oe[2]}var ae={multiply:function(){Y=z*Z/255,G=J*V/255,ne=K*g/255},screen:function(){Y=z+Z-z*Z/255,G=J+V-J*V/255,ne=K+g-K*g/255},overlay:function(){Y=z<128?2*z*Z/255:255-2*(255-z)*(255-Z)/255,G=J<128?2*J*V/255:255-2*(255-J)*(255-V)/255,ne=K<128?2*K*g/255:255-2*(255-K)*(255-g)/255},"soft-light":function(){var le=Z*z/255;Y=le+z*(255-(255-z)*(255-Z)/255-le)/255,le=V*J/255,G=le+J*(255-(255-J)*(255-V)/255-le)/255,le=g*K/255,ne=le+K*(255-(255-K)*(255-g)/255-le)/255},"hard-light":function(){Y=Z<128?2*Z*z/255:255-2*(255-Z)*(255-z)/255,G=V<128?2*V*J/255:255-2*(255-V)*(255-J)/255,ne=g<128?2*g*K/255:255-2*(255-g)*(255-K)/255},"color-dodge":function(){Y=z===0?0:Z===255?255:a(255,255*z/(255-Z)),G=J===0?0:V===255?255:a(255,255*J/(255-V)),ne=K===0?0:g===255?255:a(255,255*K/(255-g))},"color-burn":function(){Y=z===255?255:Z===0?0:i(0,255-(255-z)*255/Z),G=J===255?255:V===0?0:i(0,255-(255-J)*255/V),ne=K===255?255:g===0?0:i(0,255-(255-K)*255/g)},darken:function(){Y=z<Z?z:Z,G=J<V?J:V,ne=K<g?K:g},lighten:function(){Y=z>Z?z:Z,G=J>V?J:V,ne=K>g?K:g},difference:function(){if(Y=z-Z,Y<0)Y=-Y;if(G=J-V,G<0)G=-G;if(ne=K-g,ne<0)ne=-ne},exclusion:function(){Y=z+Z*(255-z-z)/255,G=J+V*(255-J-J)/255,ne=K+g*(255-K-K)/255},hue:function(){ee(Z,V,g,ke(z,J,K)),re(Y,G,ne,A(z,J,K))},saturation:function(){ee(z,J,K,ke(Z,V,g)),re(Y,G,ne,A(z,J,K))},luminosity:function(){re(z,J,K,A(Z,V,g))},color:function(){re(Z,V,g,A(z,J,K))},add:function(){Y=a(z+Z,255),G=a(J+V,255),ne=a(K+g,255)},subtract:function(){Y=i(z-Z,0),G=i(J-V,0),ne=i(K-g,0)},average:function(){Y=(z+Z)/2,G=(J+V)/2,ne=(K+g)/2},negation:function(){Y=255-f(255-Z-z),G=255-f(255-V-J),ne=255-f(255-g-K)}},se=this.nativeModes=_.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(le){this[le]=!0},{}),Q=Qe.getContext(1,1,{willReadFrequently:!0});if(Q)_.each(ae,function(le,fe){var me=fe==="darken",de=!1;Q.save();try{if(Q.fillStyle=me?"#300":"#a00",Q.fillRect(0,0,1,1),Q.globalCompositeOperation=fe,Q.globalCompositeOperation===fe)Q.fillStyle=me?"#a00":"#300",Q.fillRect(0,0,1,1),de=Q.getImageData(0,0,1,1).data[0]!==me?170:51}catch(Oe){}Q.restore(),se[fe]=de}),Qe.release(Q);this.process=function(le,fe,me,de,Oe){var _e=fe.canvas,ve=le==="normal";if(ve||se[le]){if(me.save(),me.setTransform(1,0,0,1,0,0),me.globalAlpha=de,!ve)me.globalCompositeOperation=le;me.drawImage(_e,Oe.x,Oe.y),me.restore()}else{var Xe=ae[le];if(!Xe)return;var ye=me.getImageData(Oe.x,Oe.y,_e.width,_e.height),Ze=ye.data,we=fe.getImageData(0,0,_e.width,_e.height).data;for(var Me=0,Ue=Ze.length;Me<Ue;Me+=4){Z=we[Me],z=Ze[Me],V=we[Me+1],J=Ze[Me+1],g=we[Me+2],K=Ze[Me+2],F=we[Me+3],oe=Ze[Me+3],Xe();var ze=F*de/255,Ke=1-ze;Ze[Me]=ze*Y+Ke*z,Ze[Me+1]=ze*G+Ke*J,Ze[Me+2]=ze*ne+Ke*K,Ze[Me+3]=F*de+Ke*oe}me.putImageData(ye,Oe.x,Oe.y)}}},Se=new function(){var a="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",f="http://www.w3.org/1999/xlink",Z={href:f,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};function V(z,J,K){return F(u.createElementNS(a,z),J,K)}function g(z,J){var K=Z[J],oe=K?z.getAttributeNS(K,J):z.getAttribute(J);return oe==="null"?null:oe}function F(z,J,K){for(var oe in J){var Y=J[oe],G=Z[oe];if(typeof Y==="number"&&K)Y=K.number(Y);if(G)z.setAttributeNS(G,oe,Y);else z.setAttribute(oe,Y)}return z}return{svg:a,xmlns:i,xlink:f,create:V,get:g,set:F}},bo=_.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(a,i){return!i&&(a instanceof o||a instanceof $e||a instanceof pe)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(a,i){var f=_.capitalize(i),Z=a[2];this[i]={type:a[1],property:i,attribute:a[0],toSVG:Z,fromSVG:Z&&_.each(Z,function(V,g){this[V]=g},{}),exportFilter:a[3],get:"get"+f,set:"set"+f}},{});new function(){var a;function i(ae,se,Q){var le=new _,fe=ae.getTranslation();if(se){var me;if(ae.isInvertible())ae=ae._shiftless(),me=ae._inverseTransform(fe),fe=null;else me=new q;le[Q?"cx":"x"]=me.x,le[Q?"cy":"y"]=me.y}if(!ae.isIdentity()){var de=ae.decompose();if(de){var Oe=[],_e=de.rotation,ve=de.scaling,Xe=de.skewing;if(fe&&!fe.isZero())Oe.push("translate("+a.point(fe)+")");if(_e)Oe.push("rotate("+a.number(_e)+")");if(!M.isZero(ve.x-1)||!M.isZero(ve.y-1))Oe.push("scale("+a.point(ve)+")");if(Xe.x)Oe.push("skewX("+a.number(Xe.x)+")");if(Xe.y)Oe.push("skewY("+a.number(Xe.y)+")");le.transform=Oe.join(" ")}else le.transform="matrix("+ae.getValues().join(",")+")"}return le}function f(ae,se){var Q=i(ae._matrix),le=ae._children,fe=Se.create("g",Q,a);for(var me=0,de=le.length;me<de;me++){var Oe=le[me],_e=ke(Oe,se);if(_e)if(Oe.isClipMask()){var ve=Se.create("clipPath");ve.appendChild(_e),A(Oe,ve,"clip"),Se.set(fe,{"clip-path":"url(#"+ve.id+")"})}else fe.appendChild(_e)}return fe}function Z(ae,se){var Q=i(ae._matrix,!0),le=ae.getSize(),fe=ae.getImage();return Q.x-=le.width/2,Q.y-=le.height/2,Q.width=le.width,Q.height=le.height,Q.href=se.embedImages==!1&&fe&&fe.src||ae.toDataURL(),Se.create("image",Q,a)}function V(ae,se){var Q=se.matchShapes;if(Q){var le=ae.toShape(!1);if(le)return g(le,se)}var fe=ae._segments,me=fe.length,de,Oe=i(ae._matrix);if(Q&&me>=2&&!ae.hasHandles())if(me>2){de=ae._closed?"polygon":"polyline";var _e=[];for(var ve=0;ve<me;ve++)_e.push(a.point(fe[ve]._point));Oe.points=_e.join(" ")}else{de="line";var Xe=fe[0]._point,ye=fe[1]._point;Oe.set({x1:Xe.x,y1:Xe.y,x2:ye.x,y2:ye.y})}else de="path",Oe.d=ae.getPathData(null,se.precision);return Se.create(de,Oe,a)}function g(ae){var{_type:se,_radius:Q}=ae,le=i(ae._matrix,!0,se!=="rectangle");if(se==="rectangle"){se="rect";var fe=ae._size,me=fe.width,de=fe.height;if(le.x-=me/2,le.y-=de/2,le.width=me,le.height=de,Q.isZero())Q=null}if(Q)if(se==="circle")le.r=Q;else le.rx=Q.width,le.ry=Q.height;return Se.create(se,le,a)}function F(ae,se){var Q=i(ae._matrix),le=ae.getPathData(null,se.precision);if(le)Q.d=le;return Se.create("path",Q,a)}function z(ae,se){var Q=i(ae._matrix,!0),le=ae._definition,fe=ne(le,"symbol"),me=le._item,de=me.getStrokeBounds();if(!fe)fe=Se.create("symbol",{viewBox:a.rectangle(de)}),fe.appendChild(ke(me,se)),A(le,fe,"symbol");return Q.href="#"+fe.id,Q.x+=de.x,Q.y+=de.y,Q.width=de.width,Q.height=de.height,Q.overflow="visible",Se.create("use",Q,a)}function J(ae){var se=ne(ae,"color");if(!se){var Q=ae.getGradient(),le=Q._radial,fe=ae.getOrigin(),me=ae.getDestination(),de;if(le){de={cx:fe.x,cy:fe.y,r:fe.getDistance(me)};var Oe=ae.getHighlight();if(Oe)de.fx=Oe.x,de.fy=Oe.y}else de={x1:fe.x,y1:fe.y,x2:me.x,y2:me.y};de.gradientUnits="userSpaceOnUse",se=Se.create((le?"radial":"linear")+"Gradient",de,a);var _e=Q._stops;for(var ve=0,Xe=_e.length;ve<Xe;ve++){var ye=_e[ve],Ze=ye._color,we=Ze.getAlpha(),Me=ye._offset;if(de={offset:Me==null?ve/(Xe-1):Me},Ze)de["stop-color"]=Ze.toCSS(!0);if(we<1)de["stop-opacity"]=we;se.appendChild(Se.create("stop",de,a))}A(ae,se,"color")}return"url(#"+se.id+")"}function K(ae){var se=Se.create("text",i(ae._matrix,!0),a);return se.textContent=ae._content,se}var oe={Group:f,Layer:f,Raster:Z,Path:V,Shape:g,CompoundPath:F,SymbolItem:z,PointText:K};function Y(ae,se,Q,le){var fe={},me=!le&&ae.getParent(),de=[];if(ae._name!=null)fe.id=ae._name;if(_.each(bo,function(Oe){var{get:_e,type:ve}=Oe,Xe=ae[_e]();if(Oe.exportFilter?Oe.exportFilter(ae,Xe):Q.reduceAttributes==!1||!me||!_.equals(me[_e](),Xe)){if(ve==="color"&&Xe!=null){var ye=Xe.getAlpha();if(ye<1)fe[Oe.attribute+"-opacity"]=ye}if(ve==="style")de.push(Oe.attribute+": "+Xe);else fe[Oe.attribute]=Xe==null?"none":ve==="color"?Xe.gradient?J(Xe,ae):Xe.toCSS(!0):ve==="array"?Xe.join(","):ve==="lookup"?Oe.toSVG[Xe]:Xe}}),de.length)fe.style=de.join(";");if(fe.opacity===1)delete fe.opacity;if(!ae._visible)fe.visibility="hidden";return Se.set(se,fe,a)}var G;function ne(ae,se){if(!G)G={ids:{},svgs:{}};return ae&&G.svgs[se+"-"+(ae._id||ae.__id||(ae.__id=T.get("svg")))]}function A(ae,se,Q){if(!G)ne();var le=G.ids[Q]=(G.ids[Q]||0)+1;se.id=Q+"-"+le,G.svgs[Q+"-"+(ae._id||ae.__id)]=se}function re(ae,se){var Q=ae,le=null;if(G){Q=ae.nodeName.toLowerCase()==="svg"&&ae;for(var fe in G.svgs){if(!le){if(!Q)Q=Se.create("svg"),Q.appendChild(ae);le=Q.insertBefore(Se.create("defs"),Q.firstChild)}le.appendChild(G.svgs[fe])}G=null}return se.asString?new N.XMLSerializer().serializeToString(Q):Q}function ke(ae,se,Q){var le=oe[ae._class],fe=le&&le(ae,se);if(fe){var me=se.onExport;if(me)fe=me(ae,fe,se)||fe;var de=JSON.stringify(ae._data);if(de&&de!=="{}"&&de!=="null")fe.setAttribute("data-paper-data",de)}return fe&&Y(ae,fe,se,Q)}function ee(ae){if(!ae)ae={};return a=new $(ae.precision),ae}be.inject({exportSVG:function(ae){return ae=ee(ae),re(ke(this,ae,!0),ae)}}),ce.inject({exportSVG:function(ae){ae=ee(ae);var se=this._children,Q=this.getView(),le=_.pick(ae.bounds,"view"),fe=ae.matrix||le==="view"&&Q._matrix,me=fe&&D.read([fe]),de=le==="view"?new S([0,0],Q.getViewSize()):le==="content"?be._getBounds(se,me,{stroke:!0}).rect:S.read([le],0,{readNull:!0}),Oe={version:"1.1",xmlns:Se.svg,"xmlns:xlink":Se.xlink};if(de){if(Oe.width=de.width,Oe.height=de.height,de.x||de.x===0||de.y||de.y===0)Oe.viewBox=a.rectangle(de)}var _e=Se.create("svg",Oe,a),ve=_e;if(me&&!me.isIdentity())ve=_e.appendChild(Se.create("g",i(me),a));for(var Xe=0,ye=se.length;Xe<ye;Xe++)ve.appendChild(ke(se[Xe],ae,!0));return re(_e,ae)}})},new function(){var a={},i;function f(se,Q,le,fe,me,de){var Oe=Se.get(se,Q)||de,_e=Oe==null?fe?null:le?"":0:le?Oe:parseFloat(Oe);return/%\s*$/.test(Oe)?_e/100*(me?1:i[/x|^width/.test(Q)?"width":"height"]):_e}function Z(se,Q,le,fe,me,de,Oe){return Q=f(se,Q||"x",!1,fe,me,de),le=f(se,le||"y",!1,fe,me,Oe),fe&&(Q==null||le==null)?null:new q(Q,le)}function V(se,Q,le,fe,me){return Q=f(se,Q||"width",!1,fe,me),le=f(se,le||"height",!1,fe,me),fe&&(Q==null||le==null)?null:new j(Q,le)}function g(se,Q,le){return se==="none"?null:Q==="number"?parseFloat(se):Q==="array"?se?se.split(/[\s,]+/g).map(parseFloat):[]:Q==="color"?ke(se)||se:Q==="lookup"?le[se]:se}function F(se,Q,le,fe){var me=se.childNodes,de=Q==="clippath",Oe=Q==="defs",_e=new qe,ve=_e._project,Xe=ve._currentStyle,ye=[];if(!de&&!Oe)_e=re(_e,se,fe),ve._currentStyle=_e._style.clone();if(fe){var Ze=se.querySelectorAll("defs");for(var we=0,Me=Ze.length;we<Me;we++)ee(Ze[we],le,!1)}for(var we=0,Me=me.length;we<Me;we++){var Ue=me[we],ze;if(Ue.nodeType===1&&!/^defs$/i.test(Ue.nodeName)&&(ze=ee(Ue,le,!1))&&!(ze instanceof c))ye.push(ze)}if(_e.addChildren(ye),de)_e=re(_e.reduce(),se,fe);if(ve._currentStyle=Xe,de||Oe)_e.remove(),_e=null;return _e}function z(se,Q){var le=se.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),fe=[];for(var me=0,de=le.length;me<de;me+=2)fe.push(new q(parseFloat(le[me]),parseFloat(le[me+1])));var Oe=new b(fe);if(Q==="polygon")Oe.closePath();return Oe}function J(se){return o.create(se.getAttribute("d"))}function K(se,Q){var le=(f(se,"href",!0)||"").substring(1),fe=Q==="radialgradient",me;if(le){if(me=a[le].getGradient(),me._radial^fe)me=me.clone(),me._radial=fe}else{var de=se.childNodes,Oe=[];for(var _e=0,ve=de.length;_e<ve;_e++){var Xe=de[_e];if(Xe.nodeType===1)Oe.push(re(new ie,Xe))}me=new te(Oe,fe)}var ye,Ze,we,Me=f(se,"gradientUnits",!0)!=="userSpaceOnUse";if(fe)ye=Z(se,"cx","cy",!1,Me,"50%","50%"),Ze=ye.add(f(se,"r",!1,!1,Me,"50%"),0),we=Z(se,"fx","fy",!0,Me);else ye=Z(se,"x1","y1",!1,Me,"0%","0%"),Ze=Z(se,"x2","y2",!1,Me,"100%","0%");var Ue=re(new xe(me,ye,Ze,we),se);return Ue._scaleToBounds=Me,null}var oe={"#document":function(se,Q,le,fe){var me=se.childNodes;for(var de=0,Oe=me.length;de<Oe;de++){var _e=me[de];if(_e.nodeType===1)return ee(_e,le,fe)}},g:F,svg:F,clippath:F,polygon:z,polyline:z,path:J,lineargradient:K,radialgradient:K,image:function(se){var Q=new e(f(se,"href",!0));return Q.on("load",function(){var le=V(se);this.setSize(le);var fe=Z(se).add(le.divide(2));this._matrix.append(new D().translate(fe))}),Q},symbol:function(se,Q,le,fe){return new c(F(se,Q,le,fe),!0)},defs:F,use:function(se){var Q=(f(se,"href",!0)||"").substring(1),le=a[Q],fe=Z(se);return le?le instanceof c?le.place(fe):le.clone().translate(fe):null},circle:function(se){return new $e.Circle(Z(se,"cx","cy"),f(se,"r"))},ellipse:function(se){return new $e.Ellipse({center:Z(se,"cx","cy"),radius:V(se,"rx","ry")})},rect:function(se){return new $e.Rectangle(new S(Z(se),V(se)),V(se,"rx","ry"))},line:function(se){return new b.Line(Z(se,"x1","y1"),Z(se,"x2","y2"))},text:function(se){var Q=new Ne(Z(se).add(Z(se,"dx","dy")));return Q.setContent(se.textContent.trim()||""),Q},switch:F};function Y(se,Q,le,fe){if(se.transform){var me=(fe.getAttribute(le)||"").split(/\)\s*/g),de=new D;for(var Oe=0,_e=me.length;Oe<_e;Oe++){var ve=me[Oe];if(!ve)break;var Xe=ve.split(/\(\s*/),ye=Xe[0].trim(),Ze=Xe[1].split(/[\s,]+/g);for(var we=0,Me=Ze.length;we<Me;we++)Ze[we]=parseFloat(Ze[we]);switch(ye){case"matrix":de.append(new D(Ze[0],Ze[1],Ze[2],Ze[3],Ze[4],Ze[5]));break;case"rotate":de.rotate(Ze[0],Ze[1]||0,Ze[2]||0);break;case"translate":de.translate(Ze[0],Ze[1]||0);break;case"scale":de.scale(Ze);break;case"skewX":de.skew(Ze[0],0);break;case"skewY":de.skew(0,Ze[0]);break}}se.transform(de)}}function G(se,Q,le){var fe=le==="fill-opacity"?"getFillColor":"getStrokeColor",me=se[fe]&&se[fe]();if(me)me.setAlpha(parseFloat(Q))}var ne=_.set(_.each(bo,function(se){this[se.attribute]=function(Q,le){if(Q[se.set]){if(Q[se.set](g(le,se.type,se.fromSVG)),se.type==="color"){var fe=Q[se.get]();if(fe){if(fe._scaleToBounds){var me=Q.getBounds();fe.transform(new D().translate(me.getPoint()).scale(me.getSize()))}}}}}},{}),{id:function(se,Q){if(a[Q]=se,se.setName)se.setName(Q)},"clip-path":function(se,Q){var le=ke(Q);if(le)if(le=le.clone(),le.setClipMask(!0),se instanceof qe)se.insertChild(0,le);else return new qe(le,se)},gradientTransform:Y,transform:Y,"fill-opacity":G,"stroke-opacity":G,visibility:function(se,Q){if(se.setVisible)se.setVisible(Q==="visible")},display:function(se,Q){if(se.setVisible)se.setVisible(Q!==null)},"stop-color":function(se,Q){if(se.setColor)se.setColor(Q)},"stop-opacity":function(se,Q){if(se._color)se._color.setAlpha(parseFloat(Q))},offset:function(se,Q){if(se.setOffset){var le=Q.match(/(.*)%$/);se.setOffset(le?le[1]/100:parseFloat(Q))}},viewBox:function(se,Q,le,fe,me){var de=new S(g(Q,"array")),Oe=V(fe,null,null,!0),_e,ve;if(se instanceof qe){var Xe=Oe?Oe.divide(de.getSize()):1,ve=new D().scale(Xe).translate(de.getPoint().negate());_e=se}else if(se instanceof c){if(Oe)de.setSize(Oe);_e=se._item}if(_e){if(A(fe,"overflow",me)!=="visible"){var ye=new $e.Rectangle(de);ye.setClipMask(!0),_e.addChild(ye)}if(ve)_e.transform(ve)}}});function A(se,Q,le){var fe=se.attributes[Q],me=fe&&fe.value;if(!me&&se.style){var de=_.camelize(Q);if(me=se.style[de],!me&&le.node[de]!==le.parent[de])me=le.node[de]}return!me?p:me==="none"?null:me}function re(se,Q,le){var fe=Q.parentNode,me={node:Fe.getStyles(Q)||{},parent:!le&&!/^defs$/i.test(fe.tagName)&&Fe.getStyles(fe)||{}};return _.each(ne,function(de,Oe){var _e=A(Q,Oe,me);se=_e!==p&&de(se,_e,Oe,Q,me)||se}),se}function ke(se){var Q=se&&se.match(/\((?:["'#]*)([^"')]+)/),le=Q&&Q[1],fe=le&&a[x?le.replace(x.location.href.split("#")[0]+"#",""):le];if(fe&&fe._scaleToBounds)fe=fe.clone(),fe._scaleToBounds=!0;return fe}function ee(se,Q,le){var fe=se.nodeName.toLowerCase(),me=fe!=="#document",de=u.body,Oe,_e,ve;if(le&&me)i=U.getView().getSize(),i=V(se,null,null,!0)||i,Oe=Se.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),_e=se.parentNode,ve=se.nextSibling,Oe.appendChild(se),de.appendChild(Oe);var Xe=U.settings,ye=Xe.applyMatrix,Ze=Xe.insertItems;Xe.applyMatrix=!1,Xe.insertItems=!1;var we=oe[fe],Me=we&&we(se,fe,Q,le)||null;if(Xe.insertItems=Ze,Xe.applyMatrix=ye,Me){if(me&&!(Me instanceof qe))Me=re(Me,se,le);var Ue=Q.onImport,ze=me&&se.getAttribute("data-paper-data");if(Ue)Me=Ue(se,Me,Q)||Me;if(Q.expandShapes&&Me instanceof $e)Me.remove(),Me=Me.toPath();if(ze)Me._data=JSON.parse(ze)}if(Oe){if(de.removeChild(Oe),_e)if(ve)_e.insertBefore(se,ve);else _e.appendChild(se)}if(le){if(a={},Me&&_.pick(Q.applyMatrix,ye))Me.matrix.apply(!0,!0)}return Me}function ae(se,Q,le){if(!se)return null;Q=typeof Q==="function"?{onLoad:Q}:Q||{};var fe=U,me=null;function de(Xe){try{var ye=typeof Xe==="object"?Xe:new N.DOMParser().parseFromString(Xe.trim(),"image/svg+xml");if(!ye.nodeName)throw ye=null,new Error("Unsupported SVG source: "+se);if(U=fe,me=ee(ye,Q,!0),!Q||Q.insert!==!1)le._insertItem(p,me);var Ze=Q.onLoad;if(Ze)Ze(me,Xe)}catch(we){Oe(we)}}function Oe(Xe,ye){var Ze=Q.onError;if(Ze)Ze(Xe,ye);else throw new Error(Xe)}if(typeof se==="string"&&!/^[\s\S]*</.test(se)){var _e=u.getElementById(se);if(_e)de(_e);else Ie.request({url:se,async:!0,onLoad:de,onError:Oe})}else if(typeof File!=="undefined"&&se instanceof File){var ve=new FileReader;return ve.onload=function(){de(ve.result)},ve.onerror=function(){Oe(ve.error)},ve.readAsText(se)}else de(se);return me}be.inject({importSVG:function(se,Q){return ae(se,Q,this)}}),ce.inject({importSVG:function(se,Q){return this.activate(),ae(se,Q,this)}})};var U=new(y.inject(_.exports,{Base:_,Numerical:M,Key:Te,DomEvent:Re,DomElement:Fe,document:u,window:x,Symbol:c,PlacedSymbol:n}));if(U.agent.node)(()=>({}))(U);if(typeof define==="function"&&define.amd)define("paper",U);else if(typeof m==="object"&&m)m.exports=U;return U}.call(l,typeof self==="object"?self:null)}),fm=Ji(Ki(),1),Ii=Ji(Ki(),1),Zm=new Set([Eo.Events.BLOCK_CHANGE,Eo.Events.BLOCK_CREATE,Eo.Events.BLOCK_DELETE,Eo.Events.BLOCK_MOVE,Eo.Events.COMMENT_CHANGE,Eo.Events.COMMENT_CREATE,Eo.Events.COMMENT_DELETE,Eo.Events.COMMENT_MOVE,Eo.Events.VAR_CREATE,Eo.Events.VAR_DELETE,Eo.Events.VAR_RENAME]);function A1({width:l,height:m,generator:r,onSetup:N,...p}){let x=hm(null),{fileList:u,selectedFileId:_,modifyFile:L}=km(),y=u.find((R)=>R.id===_);if(x.script=y.script,x.xml=y.xml,x.current){let R=Eo.getMainWorkspace();if(R&&R!==x.workspace)x.workspace=R,R.addChangeListener((v)=>{if(R.isDragging())return;if(!Zm.has(v.type))return;let $=Eo.Xml.workspaceToDom(R),M=Eo.Xml.domToText($).replace(/<variable type="broadcast_msg"[^>]+>[^<]+<\/variable>/gi,"");if(!x.script||x.xml!==M){let T=r.workspaceToCode(R);if(x.script!==T)L({script:T})}})}return _m(()=>{if(x.current){if(Ii.default.setup(x.current),N)N(x.current)}return()=>{Ii.default.project.clear(),Ii.default.project.remove()}},[x]),Nm("canvas",{id:"blockcode-blocks-player",ref:x,style:{width:l,height:m},...p})}var Jn=typeof Reflect=="object"?Reflect:null,Q1=Jn&&typeof Jn.apply=="function"?Jn.apply:function(l,m,r){return Function.prototype.apply.call(l,m,r)},ql;Jn&&typeof Jn.ownKeys=="function"?ql=Jn.ownKeys:Object.getOwnPropertySymbols?ql=function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:ql=function(l){return Object.getOwnPropertyNames(l)};function vm(l){console&&console.warn&&console.warn(l)}var e6=Number.isNaN||function(l){return l!==l};function Zo(){Zo.init.call(this)}Zo.EventEmitter=Zo;Zo.prototype._events=void 0;Zo.prototype._eventsCount=0;Zo.prototype._maxListeners=void 0;var C1=10;function Tl(l){if(typeof l!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}Object.defineProperty(Zo,"defaultMaxListeners",{enumerable:!0,get:function(){return C1},set:function(l){if(typeof l!="number"||l<0||e6(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");C1=l}});Zo.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Zo.prototype.setMaxListeners=function(l){if(typeof l!="number"||l<0||e6(l))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+l+".");return this._maxListeners=l,this};function o6(l){return l._maxListeners===void 0?Zo.defaultMaxListeners:l._maxListeners}Zo.prototype.getMaxListeners=function(){return o6(this)};Zo.prototype.emit=function(l){for(var m=[],r=1;r<arguments.length;r++)m.push(arguments[r]);var N=l==="error",p=this._events;if(p!==void 0)N=N&&p.error===void 0;else if(!N)return!1;if(N){var x;if(m.length>0&&(x=m[0]),x instanceof Error)throw x;var u=new Error("Unhandled error."+(x?" ("+x.message+")":""));throw u.context=x,u}var _=p[l];if(_===void 0)return!1;if(typeof _=="function")Q1(_,this,m);else for(var L=_.length,y=r6(_,L),r=0;r<L;++r)Q1(y[r],this,m);return!0};function a6(l,m,r,N){var p,x,u;if(Tl(r),x=l._events,x===void 0?(x=l._events=Object.create(null),l._eventsCount=0):(x.newListener!==void 0&&(l.emit("newListener",m,r.listener?r.listener:r),x=l._events),u=x[m]),u===void 0)u=x[m]=r,++l._eventsCount;else if(typeof u=="function"?u=x[m]=N?[r,u]:[u,r]:N?u.unshift(r):u.push(r),p=o6(l),p>0&&u.length>p&&!u.warned){u.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=l,_.type=m,_.count=u.length,vm(_)}return l}Zo.prototype.addListener=function(l,m){return a6(this,l,m,!1)};Zo.prototype.on=Zo.prototype.addListener;Zo.prototype.prependListener=function(l,m){return a6(this,l,m,!0)};function ym(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function n6(l,m,r){var N={fired:!1,wrapFn:void 0,target:l,type:m,listener:r},p=ym.bind(N);return p.listener=r,N.wrapFn=p,p}Zo.prototype.once=function(l,m){return Tl(m),this.on(l,n6(this,l,m)),this};Zo.prototype.prependOnceListener=function(l,m){return Tl(m),this.prependListener(l,n6(this,l,m)),this};Zo.prototype.removeListener=function(l,m){var r,N,p,x,u;if(Tl(m),N=this._events,N===void 0)return this;if(r=N[l],r===void 0)return this;if(r===m||r.listener===m)--this._eventsCount===0?this._events=Object.create(null):(delete N[l],N.removeListener&&this.emit("removeListener",l,r.listener||m));else if(typeof r!="function"){for(p=-1,x=r.length-1;x>=0;x--)if(r[x]===m||r[x].listener===m){u=r[x].listener,p=x;break}if(p<0)return this;p===0?r.shift():Rm(r,p),r.length===1&&(N[l]=r[0]),N.removeListener!==void 0&&this.emit("removeListener",l,u||m)}return this};Zo.prototype.off=Zo.prototype.removeListener;Zo.prototype.removeAllListeners=function(l){var m,r,N;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[l]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[l]),this;if(arguments.length===0){var p=Object.keys(r),x;for(N=0;N<p.length;++N)x=p[N],x!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(m=r[l],typeof m=="function")this.removeListener(l,m);else if(m!==void 0)for(N=m.length-1;N>=0;N--)this.removeListener(l,m[N]);return this};function s6(l,m,r){var N=l._events;if(N===void 0)return[];var p=N[m];return p===void 0?[]:typeof p=="function"?r?[p.listener||p]:[p]:r?xm(p):r6(p,p.length)}Zo.prototype.listeners=function(l){return s6(this,l,!0)};Zo.prototype.rawListeners=function(l){return s6(this,l,!1)};Zo.listenerCount=function(l,m){return typeof l.listenerCount=="function"?l.listenerCount(m):l6.call(l,m)};Zo.prototype.listenerCount=l6;function l6(l){var m=this._events;if(m!==void 0){var r=m[l];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Zo.prototype.eventNames=function(){return this._eventsCount>0?ql(this._events):[]};function r6(l,m){for(var r=new Array(m),N=0;N<m;++N)r[N]=l[N];return r}function Rm(l,m){for(;m+1<l.length;m++)l[m]=l[m+1];l.pop()}function xm(l){for(var m=new Array(l.length),r=0;r<m.length;++r)m[r]=l[r].listener||l[r];return m}var S5=Zo.prototype,B1=Ji(Ki(),1);class $l extends Zo{static DEFAULT_FPS=24;constructor(l,m=!1,r=$l.DEFAULT_FPS){super();this._fps=r,this._frame_sec=1/r,this._frame_start=0,this._running=!1,this._requestStop=l,this._timer=0,this._timers=[],this._data={},this._greaterThen={},this._eventsHappening={},this._flashMode=m}launch(l){try{new Function("runtime",l)(this)}catch(m){return this.stop(),m}}get core(){return B1.default}get flashMode(){return this._flashMode}get data(){return this._data}get running(){return this._running}get time(){return(Date.now()-this._timer)/1000}resetTimer(){this._timer=Date.now()}when(l,m){this._eventsHappening[l]=this._eventsHappening[l]||[],this._eventsHappening[l].push(!1);let r=this._eventsHappening[l].length-1;this.on(`${l}_${r}`,m)}whenGreaterThen(l,m,r){let N=`${l}>${m}`;this._greaterThen[N]=!1,this.when(`greaterthen:${N}`,r)}emit(...l){return new Promise((m)=>{if(this.running)super.emit(...l,m)})}fire(l,...m){if(this.emit(l,...m),this._eventsHappening[l]=this._eventsHappening[l]||[],this._eventsHappening[l].length>0)return Promise.all(this._eventsHappening[l].map(async(r,N)=>{if(!r)this._eventsHappening[l][N]=!0,await this.emit(`${l}_${N}`,...m),this._eventsHappening[l][N]=!1}));return Promise.resolve()}_handleFrameForGreaterThen(l){let m=Object.keys(this._greaterThen);for(let r of m){let[N,p]=r.split(">");if(N==="TIMER"){let x=this.time>parseFloat(p);if(x&&!this._greaterThen[r])this.fire(`greaterthen:${r}`);this._greaterThen[r]=x}}l()}async _handleStart(){while(this.running){if(this._frame_start=Date.now(),!B1.default.project){this.stop();break}this.fire("frame"),await this.nextFrame()}}start(){this._running=!0,this.on("frame",this._handleFrameForGreaterThen.bind(this)),this.on("start",this._handleStart.bind(this)),this.resetTimer(),this.fire("start")}async stop(){this.emit("stop"),await this.nextFrame(),this._running=!1,await this.nextFrame(),this._timers.forEach(clearTimeout),this._timers.length=0,this._requestStop()}sleep(l){return new Promise((m)=>this._timers.push(setTimeout(m,l*1000)))}nextFrame(){return this.sleep(this._frame_sec)}random(l=1,m=10){let r=Math.ceil(Math.min(l,m)),N=Math.floor(Math.max(l,m));return Math.floor(Math.random()*(N-r+1))+r}number(l,m=0){return isNaN(l)?m:+l}index(l,m){let r=this.number(l)-1;return r%=m,r+=m,r%m}clamp(l,m,r){return Math.min(Math.max(l,m),r)}list(l,m,r,N){if(r<1||r>l.length)return"";switch(r-=1,m){case"get":return l[r];case"remove":l.splice(r,1);return;case"replace":l.splice(r,1,N);return;case"insert":l.splice(r,0,N);return}}}class Vl extends zo.Generator{ORDER_ATOMIC=0;ORDER_NEW=1.1;ORDER_MEMBER=1.2;ORDER_FUNCTION_CALL=2;ORDER_INCREMENT=3;ORDER_DECREMENT=3;ORDER_BITWISE_NOT=4.1;ORDER_UNARY_PLUS=4.2;ORDER_UNARY_NEGATION=4.3;ORDER_LOGICAL_NOT=4.4;ORDER_TYPEOF=4.5;ORDER_VOID=4.6;ORDER_DELETE=4.7;ORDER_DIVISION=5.1;ORDER_MULTIPLICATION=5.2;ORDER_MODULUS=5.3;ORDER_SUBTRACTION=6.1;ORDER_ADDITION=6.2;ORDER_BITWISE_SHIFT=7;ORDER_RELATIONAL=8;ORDER_IN=8;ORDER_INSTANCEOF=8;ORDER_EQUALITY=9;ORDER_BITWISE_AND=10;ORDER_BITWISE_XOR=11;ORDER_BITWISE_OR=12;ORDER_LOGICAL_AND=13;ORDER_LOGICAL_OR=14;ORDER_CONDITIONAL=15;ORDER_ASSIGNMENT=16;ORDER_COMMA=17;ORDER_NONE=99;START_PROCESS=`
runtime.abort = false;
`;NEXT_LOOP=`if (flash) continue;
await runtime.nextFrame();
if (runtime.abort || !runtime.running) break;
`;END_LOOP=`if (runtime.abort || !runtime.running) break;

`;EVENT_CALLBACK=`async (done) => {
runtime.abort = false;
const flash = runtime.flash;
do {
/* code */} while (false);
done();
}`;constructor(){super("VM");this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(window).join(",")),this.ORDER_OVERRIDES=[[this.ORDER_FUNCTION_CALL,this.ORDER_MEMBER],[this.ORDER_FUNCTION_CALL,this.ORDER_FUNCTION_CALL],[this.ORDER_MEMBER,this.ORDER_MEMBER],[this.ORDER_MEMBER,this.ORDER_FUNCTION_CALL],[this.ORDER_LOGICAL_NOT,this.ORDER_LOGICAL_NOT],[this.ORDER_MULTIPLICATION,this.ORDER_MULTIPLICATION],[this.ORDER_ADDITION,this.ORDER_ADDITION],[this.ORDER_LOGICAL_AND,this.ORDER_LOGICAL_AND],[this.ORDER_LOGICAL_OR,this.ORDER_LOGICAL_OR]]}init(l){for(let x in this)if(typeof this[x]==="function"&&!zo.Generator.prototype[x])this[x]=this[x].bind(this);if(this.definitions_=Object.create(null),this.functionNames_=Object.create(null),!this.variableDB_)this.variableDB_=new zo.Names(this.RESERVED_WORDS_);else this.variableDB_.reset();this.variableDB_.setVariableMap(l.getVariableMap());var m=[],r=l.getAllVariables();for(var N=0;N<r.length;N++){if(r[N].type===zo.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;let x=this.variableDB_.getName(r[N].getId(),zo.Variables.NAME_TYPE);if(r[N].type===zo.LIST_VARIABLE_TYPE)m.push(`let ${x}${zo.LIST_VARIABLE_TYPE} = [];`);else m.push(`let ${x} = 0;`)}var p=zo.Variables.allDeveloperVariables(l);for(var N=0;N<p.length;N++){let u=this.variableDB_.getName(p[N],zo.Names.DEVELOPER_VARIABLE_TYPE);if(r[N].type===zo.LIST_VARIABLE_TYPE)m.push(`let ${u}${zo.LIST_VARIABLE_TYPE} = [];`);else m.push(`let ${u} = 0;`)}if(m.length)this.definitions_.variables=m.join(`
`)}finish(l){var m=[];for(var r in this.definitions_)m.push(this.definitions_[r]);return delete this.definitions_,delete this.functionNames_,this.variableDB_.reset(),m.join(`

`)+`


`+l}scrubNakedValue(l){return l+`;
`}quote_(l){let m='"';if(l.indexOf('"')!==-1)if(l.indexOf("'")===-1)m="'";else l=l.replace(/"/g,"\\\"");return m+l+m}scrub_(l,m){var r="";if(!l.outputConnection?.targetConnection){var N=l.getCommentText();if(N=zo.utils.wrap(N,this.COMMENT_WRAP-3),N)if(l.getProcedureDef)r+=`/**
`+this.prefixLines(N+`
`," * ")+` */
`;else r+=this.prefixLines(N+`
`,"// ");for(var p=0;p<l.inputList.length;p++)if(l.inputList[p].type==zo.INPUT_VALUE){var x=l.inputList[p].connection.targetBlock();if(x){var N=this.allNestedComments(x);if(N)r+=this.prefixLines(N,"// ")}}}if(l.startHat_){let u=l.nextConnection&&l.nextConnection.targetBlock(),_=this.blockToCode(u);if(_)_=this.prefixLines(_,this.INDENT),m=m.replace("/* code */",_);return r+m}if(l.parentBlock_){let u=l.nextConnection&&l.nextConnection.targetBlock(),_=this.blockToCode(u);return r+m+_}return""}getAdjusted(l,m,r,N,p){var x=r||0,u=p||this.ORDER_NONE;if(l.workspace.options.oneBasedIndex)x--;var _=l.workspace.options.oneBasedIndex?"1":"0";if(x>0)var L=this.valueToCode(l,m,this.ORDER_ADDITION)||_;else if(x<0)var L=this.valueToCode(l,m,this.ORDER_SUBTRACTION)||_;else if(N)var L=this.valueToCode(l,m,this.ORDER_UNARY_NEGATION)||_;else var L=this.valueToCode(l,m,u)||_;if(zo.isNumber(L)){if(L=parseFloat(L)+x,N)L=-L}else{if(x>0){L=L+" + "+x;var y=this.ORDER_ADDITION}else if(x<0){L=L+" - "+-x;var y=this.ORDER_SUBTRACTION}if(N){if(x)L="-("+L+")";else L="-"+L;var y=this.ORDER_UNARY_NEGATION}if(y=Math.floor(y),u=Math.floor(u),y&&u>=y)L="("+L+")"}return L}wrapAsync(l){return`await ${l};
if (runtime.abort || !runtime.running) break;
`}}var so=Vl.prototype;so.colour_picker=function(l){return[this.quote_(l.getFieldValue("COLOUR")),this.ORDER_ATOMIC]};so.control_wait=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"DURATION",this.ORDER_NONE)||0;return m+=this.wrapAsync(`runtime.sleep(runtime.number(${r}))`),m};so.control_repeat=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;let N=this.valueToCode(l,"TIMES",this.ORDER_NONE)||0;return m+=`for (let _ = 0; _ < runtime.number(${N}); _++) {`,m+=`${this.START_PROCESS}${r}${this.NEXT_LOOP}`,m+=`}
${this.END_LOOP}`,m};so.control_forever=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;return m+="while (true) {",m+=`${this.START_PROCESS}${r}${this.NEXT_LOOP}`,m+=`}
${this.END_LOOP}`,m};so.control_if=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;let N=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";if(m+=`if (${N}) {
${r}}
`,l.getInput("SUBSTACK2")){if(r=this.statementToCode(l,"SUBSTACK2")||"",this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;m+=`else {
${r}}
`}return m};so.control_if_else=so.control_if;so.control_wait_until=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return m+=`while (!(${r})) {
`,m+=`${this.NEXT_LOOP}`,m+=`}
${this.END_LOOP}`,m};so.control_repeat_until=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;let N=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return m+=`while (!(${N})) {`,m+=`${this.START_PROCESS}${r}${this.NEXT_LOOP}`,m+=`}
${this.END_LOOP}`,m};so.control_while=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;let N=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return m+=`while (${N}) {`,m+=`${this.START_PROCESS}${r}${this.NEXT_LOOP}`,m+=`}
${this.END_LOOP}`,m};so.control_stop=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);switch(l.getFieldValue("STOP_OPTION")){case"all":m+=`runtime.stop();
`;break;case"this script":m+=`return done();
`;break;case"other scripts in sprite":m+="runtime.abort = true;";break}return m};so.data_variable=function(l){return[this.variableDB_.getName(l.getFieldValue("VARIABLE"),qo.Variables.NAME_TYPE),this.ORDER_CONDITIONAL]};so.data_setvariableto=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("VARIABLE"),qo.Variables.NAME_TYPE),N=this.valueToCode(l,"VALUE",this.ORDER_NONE)||'""';return m+=`${r} = ${N};
`,m};so.data_changevariableby=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("VARIABLE"),qo.Variables.NAME_TYPE),N=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0;return m+=`${r} = runtime.number(${r}) + runtime.number(${N});
`,m};so.data_listcontents=function(l){return[this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE,this.ORDER_ATOMIC]};so.data_addtolist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE,N=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return m+=`${r}.push(${N});
`,m};so.data_deleteoflist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE,N=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return m+=`runtime.list(${r}, 'remove', runtime.number(${N}));
`,m};so.data_deletealloflist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE;return m+=`${r}.length = 0;
`,m};so.data_insertatlist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE,N=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,p=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return m+=`runtime.list(${r}, 'insert', runtime.number(${N}), ${p});
`,m};so.data_replaceitemoflist=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE,N=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,p=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return m+=`runtime.list(${r}, 'replace', runtime.number(${N}), ${p});
`,m};so.data_itemoflist=function(l){let m=this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return[`runtime.list(${m}, 'get', runtime.number(${r}))`,this.ORDER_CONDITIONAL]};so.data_itemnumoflist=function(l){let m=this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return[`(${m}.indexOf(${r}) + 1)`,this.ORDER_NONE]};so.data_lengthoflist=function(l){return[`${this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE}.length`,this.ORDER_MEMBER]};so.data_listcontainsitem=function(l){let m=this.variableDB_.getName(l.getFieldValue("LIST"),qo.Variables.NAME_TYPE)+qo.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return[`${m}.includes(${r})`,this.ORDER_FUNCTION_CALL]};so.event_whenflagclicked=function(){return`runtime.when('start', ${this.EVENT_CALLBACK});
`};so.event_whengreaterthan=function(l){let m=l.getFieldValue("WHENGREATERTHANMENU"),r=this.valueToCode(l,"VALUE",this.ORDER_NONE)||10;return`runtime.whenGreaterThen('${m}', runtime.number(${r}), ${this.EVENT_CALLBACK});
`};so.event_whenbroadcastreceived=function(l){return`runtime.when('message:${this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),i6.Variables.NAME_TYPE)}', ${this.EVENT_CALLBACK});
`};so.event_broadcast_menu=function(l){return[this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),i6.Variables.NAME_TYPE),this.ORDER_ATOMIC]};so.event_broadcast=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||"message1";return m+=`runtime.fire('message:${r}')
`,m};so.event_broadcastandwait=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||"message1";return m+=this.wrapAsync(`runtime.fire('message:${r}')`),m};so.math_number=function(l){let m=parseFloat(l.getFieldValue("NUM")),r;if(m===1/0)m="Infinity",r=this.ORDER_FUNCTION_CALL;else if(m===-1/0)m="-Infinity",r=this.ORDER_UNARY_SIGN;else if(Number.isNaN(m))m="NaN",r=this.ORDER_UNARY_SIGN;else r=m<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[m,r]};so.math_integer=function(l){let m=parseInt(l.getFieldValue("NUM")),r=m<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[m,r]};so.math_whole_number=function(l){return[Math.abs(parseInt(l.getFieldValue("NUM"))),this.ORDER_ATOMIC]};so.math_positive_number=function(l){let m=parseFloat(l.getFieldValue("NUM")),r;if(m===1/0)m="Infinity",r=this.ORDER_FUNCTION_CALL;else if(m===-1/0)m="-Infinity",r=this.ORDER_FUNCTION_CALL;else if(Number.isNaN(m))m="NaN",r=this.ORDER_FUNCTION_CALL;else m=m<0?0:m,r=this.ORDER_ATOMIC;return[m,r]};so.math_angle=function(l){let m=parseFloat(l.getFieldValue("NUM")),r;if(m==1/0)m="Infinity",r=this.ORDER_FUNCTION_CALL;else if(m==-1/0)m="-Infinity",r=this.ORDER_UNARY_SIGN;else m=m%360,m=m<0?m+360:m,r=this.ORDER_ATOMIC;return[m,r]};so.operator_add=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${m}) + runtime.number(${r}))`,this.ORDER_SUBTRACTION]};so.operator_subtract=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${m}) - runtime.number(${r}))`,this.ORDER_ADDITION]};so.operator_multiply=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${m}) * runtime.number(${r}))`,this.ORDER_MULTIPLICATION]};so.operator_divide=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${m}) / runtime.number(${r}))`,this.ORDER_DIVISION]};so.operator_random=function(l){let m=this.valueToCode(l,"FROM",this.ORDER_NONE)||0,r=this.valueToCode(l,"TO",this.ORDER_NONE)||0;return[`runtime.random(${m}, ${r})`,this.ORDER_FUNCTION_CALL]};so.operator_gt=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(runtime.number(${m}) > runtime.number(${r}))`,this.ORDER_RELATIONAL]};so.operator_lt=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(runtime.number(${m}) < runtime.number(${r}))`,this.ORDER_RELATIONAL]};so.operator_equals=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${m} == ${r})`,this.ORDER_RELATIONAL]};so.operator_and=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${m} && ${r})`,this.ORDER_LOGICAL_AND]};so.operator_or=function(l){let m=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${m} || ${r})`,this.ORDER_LOGICAL_OR]};so.operator_not=function(l){return[`!(${this.valueToCode(l,"OPERAND",this.ORDER_NONE)||0})`,this.ORDER_LOGICAL_NOT]};so.operator_join=function(l){let m=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',r=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(String(${m}) + String(${r}))`,this.ORDER_ATOMIC]};so.operator_letter_of=function(l){let m=this.valueToCode(l,"LETTER",this.ORDER_NONE)||1;return[`runtime.list(String(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}), 'get', runtime.number(${m}))`,this.ORDER_FUNCTION_CALL]};so.operator_length=function(l){return[`String(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}).length`,this.ORDER_MEMBER]};so.operator_contains=function(l){let m=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',r=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`String(${m}).includes(String(${r}))`,this.ORDER_FUNCTION_CALL]};so.operator_mod=function(l){let m=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${m}) % runtime.number(${r}))`,this.ORDER_MODULUS]};so.operator_round=function(l){return[`Math.round(${this.valueToCode(l,"NUM",this.ORDER_NONE)||0})`,this.ORDER_FUNCTION_CALL]};so.operator_mathop=function(l){let m=this.valueToCode(l,"NUM",this.ORDER_NONE)||0,r=l.getFieldValue("OPERATOR"),N="";if(r==="ceiling")N+=`Math.ceil(runtime.number(${m}))`;else if(r==="sin"||r==="cos"||r==="tan")N+=`Math.${r}(Math.PI * runtime.number(${m}) / 180)`;else if(r==="asin"||r==="acos"||r==="atan")N+=`(Math.${r}(runtime.number(${m})) * 180 / Math.PI)`;else if(r==="ln")N+=`Math.log(runtime.number(${m}))`;else if(r==="log")N+=`Math.log10(runtime.number(${m}))`;else if(r==="e ^")N+=`Math.exp(runtime.number(${m}))`;else if(r==="10 ^")N+=`Math.pow(10, runtime.number(${m}))`;else N+=`Math.${r}(runtime.number(${m}))`;return[N,this.ORDER_FUNCTION_CALL]};so.procedures_definition=function(l){let m=l.childBlocks_[0],r=this.variableDB_.getName(m.getProcCode(),xs.Procedures.NAME_TYPE),N=m.childBlocks_.map((x)=>this.variableDB_.getName(x.getFieldValue("VALUE"),xs.Variables.NAME_TYPE));N.push("done");let p=`async (${N.join(", ")}) => {`;return p+=`${this.START_PROCESS}const flash = ${m.warp_};
`,p+=`do {
/* code */} while (false);
done();
}`,`runtime.on('procedure:${r}', ${p});
`};so.procedures_call=function(l){let m=this.variableDB_.getName(l.getProcCode(),xs.Procedures.NAME_TYPE),r=l.argumentIds_.map((p)=>this.valueToCode(l,p,this.ORDER_NONE)),N=r.length>0?`, ${r.join(", ")}`:"";return this.wrapAsync(`runtime.emit('procedure:${m}'${N})`)};so.argument_reporter_boolean=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),xs.Variables.NAME_TYPE),this.ORDER_ATOMIC]};so.argument_reporter_string_number=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),xs.Variables.NAME_TYPE),this.ORDER_ATOMIC]};so.sensing_timer=function(l){return["runtime.time",this.ORDER_FUNCTION_CALL]};so.sensing_resettimer=function(l){return`runtime.resetTimer()
`};so.sensing_debug=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"VALUE",this.ORDER_NONE)||'"debug"';return m+=`console.log(${r});
`,m};so.text=function(l){let m=l.getFieldValue("TEXT");return[m.length===0||isNaN(m)?this.quote_(m):+m,this.ORDER_ATOMIC]};var co=fm.default;var Vo=new Vl;Vo.motion_attack=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"DIRECTION",this.ORDER_NONE)||0,N=this.valueToCode(l,"DISTANCE",this.ORDER_NONE)||100;return m+=this.wrapAsync(`await target.util.attack(${r}, ${N});`),m};Vo.motion_move=(l)=>{let m="";if(null.STATEMENT_PREFIX)m+=null.injectId(null.STATEMENT_PREFIX,l);let r=null.valueToCode(l,"DIRECTION",null.ORDER_NONE)||0,N=null.valueToCode(l,"SPEED",null.ORDER_NONE)||100;return m+=null.wrapAsync(`await target.util.move(${r}, ${N});`),m};Vo.motion_turnright=(l)=>{let m="";if(null.STATEMENT_PREFIX)m+=null.injectId(null.STATEMENT_PREFIX,l);let r=null.valueToCode(l,"DEGREES",null.ORDER_NONE)||0;return m+=null.wrapAsync(`await target.util.turnRight(${r});`),m};Vo.motion_turnleft=(l)=>{let m="";if(null.STATEMENT_PREFIX)m+=null.injectId(null.STATEMENT_PREFIX,l);let r=null.valueToCode(l,"DEGREES",null.ORDER_NONE)||0;return m+=null.wrapAsync(`await target.util.turnLeft(${r});`),m};Vo.motion_pointindirection=(l)=>{let m="";if(null.STATEMENT_PREFIX)m+=null.injectId(null.STATEMENT_PREFIX,l);let r=null.valueToCode(l,"DIRECTION",null.ORDER_NONE)||0;return m+=null.wrapAsync(`await target.util.setDirection(+${r});`),m};Vo.motion_setspeed=(l)=>{let m="";if(null.STATEMENT_PREFIX)m+=null.injectId(null.STATEMENT_PREFIX,l);let r=null.valueToCode(l,"SPEED",null.ORDER_NONE)||0;return m+=`target.util.speed = ${r};
`,m};Vo.motion_stop=(l)=>{let m="";if(null.STATEMENT_PREFIX)m+=null.injectId(null.STATEMENT_PREFIX,l);return m+=`target.util.speed = 0;
`,m};Vo.motion_xposition=(l)=>{return["target.util.x",null.ORDER_ATOMIC]};Vo.motion_yposition=(l)=>{return["target.util.y",null.ORDER_ATOMIC]};Vo.motion_speed=(l)=>{return["target.util.currentSpeed",null.ORDER_ATOMIC]};Vo.motion_direction=(l)=>{return["target.util.direction",null.ORDER_ATOMIC]};Vo.sensing_scanwidth=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"WIDTH",this.ORDER_NONE)||5;return m+=`target.util.scanWidth = ${r};
`,m};Vo.sensing_scan=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"DIRECTION",this.ORDER_NONE)||0;return m+=`(await target.util.scan(${r}) !== Infinity)`,[m,this.ORDER_EQUALITY]};Vo.sensing_scandistance=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.valueToCode(l,"DIRECTION",this.ORDER_NONE)||0;return m+=`(await target.util.scan(${r}))`,[m,this.ORDER_FUNCTION_CALL]};Vo.sensing_health=function(l){let m="";if(this.STATEMENT_PREFIX)m+=this.injectId(this.STATEMENT_PREFIX,l);return m+="target.util.health",[m,this.ORDER_FUNCTION_CALL]};import{ScratchBlocks as eb,makeToolboxXML as qm,blockSeparator as ha,categorySeparator as zi}from"@blockcode/blocks-editor";import{ScratchBlocks as Ml}from"@blockcode/blocks-editor";Ml.Blocks.event_whenflagclicked={init(){this.jsonInit({message0:Ml.Msg.EVENT_WHENFLAGCLICKED,args0:[{type:"field_image",src:Ml.mainWorkspace.options.pathToMedia+"green-flag.svg",width:24,height:24,alt:"flag"}],category:Ml.Categories.event,extensions:["colours_event","shape_hat"]})}};import{ScratchBlocks as Jo}from"@blockcode/blocks-editor";Jo.Blocks.motion_attack={init(){this.jsonInit({message0:Jo.Msg.MOTION_ATTACK,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"DISTANCE"}],category:Jo.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Jo.Blocks.motion_move={init(){this.jsonInit({message0:Jo.Msg.MOTION_MOVE,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"SPEED"}],category:Jo.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Jo.Blocks.motion_setspeed={init(){this.jsonInit({message0:Jo.Msg.MOTION_SETSPEED,args0:[{type:"input_value",name:"SPEED"}],category:Jo.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Jo.Blocks.motion_stop={init(){this.jsonInit({message0:Jo.Msg.MOTION_STOP,category:Jo.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Jo.Blocks.motion_speed={init(){this.jsonInit({message0:Jo.Msg.MOTION_SPEED,category:Jo.Categories.motion,checkboxInFlyout:!0,extensions:["colours_motion","output_number"]})}};import{ScratchBlocks as oa}from"@blockcode/blocks-editor";oa.Blocks.sensing_scanwidth={init(){this.jsonInit({message0:oa.Msg.SENSING_SCANWIDTH,args0:[{type:"input_value",name:"WIDTH"}],category:oa.Categories.sensing,extensions:["colours_sensing","shape_statement"]})}};oa.Blocks.sensing_scan={init(){this.jsonInit({message0:oa.Msg.SENSING_SCAN,args0:[{type:"input_value",name:"DIRECTION"}],category:oa.Categories.sensing,extensions:["colours_sensing","output_boolean"]})}};oa.Blocks.sensing_scandistance={init(){this.jsonInit({message0:oa.Msg.SENSING_DISTANCE,args0:[{type:"input_value",name:"DIRECTION"}],category:oa.Categories.sensing,extensions:["colours_sensing","output_number"]})}};oa.Blocks.sensing_health={init(){this.jsonInit({message0:oa.Msg.SENSING_HEALTH,category:oa.Categories.sensing,checkboxInFlyout:!0,extensions:["colours_sensing","output_number"]})}};var Tm=()=>`
  <category name="%{BKY_CATEGORY_MOTION}" id="motion" colour="#4C97FF" secondaryColour="#3373CC">
    <block type="motion_attack">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="DISTANCE">
        <shadow type="math_number">
          <field name="NUM">200</field>
        </shadow>
      </value>
    </block>
    <block type="motion_move">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">100</field>
        </shadow>
      </value>
    </block>
    ${ha}
    <block type="motion_turnright">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_turnleft">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_pointindirection">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${ha}
    <block type="motion_setspeed">
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">50</field>
        </shadow>
      </value>
    </block>
    <block type="motion_stop"/>
    ${ha}
    <block type="motion_speed"/>
    <block type="motion_direction"/>
    ${zi}
  </category>
`,$m=()=>`
  <category name="%{BKY_CATEGORY_SENSING}" id="sensing" colour="#4CBFE6" secondaryColour="#2E8EB8">
    <block type="sensing_scanwidth">
      <value name="WIDTH">
        <shadow type="math_number">
          <field name="NUM">5</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scan">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scandistance">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${ha}
    <block type="sensing_health"/>
    ${ha}
    <block id="timer" type="sensing_timer"/>
    <block type="sensing_resettimer"/>
    ${zi}
  </category>
`,Vm=()=>`
  <category name="%{BKY_CATEGORY_OPERATORS}" id="operators" colour="#40BF4A" secondaryColour="#389438">
    <block type="operator_add">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_subtract">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_multiply">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_divide">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${ha}
    <block type="operator_random">
      <value name="FROM">
        <shadow type="math_number">
          <field name="NUM">1</field>
        </shadow>
      </value>
      <value name="TO">
        <shadow type="math_number">
          <field name="NUM">10</field>
        </shadow>
      </value>
    </block>
    ${ha}
    <block type="operator_gt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_lt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_equals">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    ${ha}
    <block type="operator_and"/>
    <block type="operator_or"/>
    <block type="operator_not"/>
    ${ha}
    <block type="operator_mod">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_round">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${ha}
    <block type="operator_mathop">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${zi}
  </category>
`;function Ei(){return qm([{id:"motion",xml:Tm()},{id:"sensing",xml:$m()},{id:"operators",xml:Vm()}])}import{jsx as Um}from"preact/jsx-runtime";var Lm=xl.Content;function Pi(){let{getText:l}=Mm(),m={MOTION_ATTACK:l("tankwar.blocks.motion_attack","fire in direction %1 at %2 steps"),MOTION_MOVE:l("tankwar.blocks.motion_move","forward in direction %1 at %2 % speed"),MOTION_SETSPEED:l("tankwar.blocks.motion_setspeed","set speed to %1 %"),MOTION_STOP:l("tankwar.blocks.motion_stop","stop"),MOTION_SPEED:l("tankwar.blocks.motion_speed","speed"),SENSING_SCANWIDTH:l("tankwar.blocks.sensing_scanwidth","set scan width to %1"),SENSING_SCAN:l("tankwar.blocks.sensing_scan","scan for enemy in direction %1?"),SENSING_DISTANCE:l("tankwar.blocks.sensing_distance","measure distance of enemy in direction %1"),SENSING_HEALTH:l("tankwar.blocks.sensing_health","health")},r=Ei();return Um(Lm,{disableGenerator:!0,disableExtension:!0,messages:m,toolbox:r,generators:[Vo]})}import{useState as Ol}from"preact/hooks";import{classNames as r2}from"@blockcode/ui";import{useState as q6}from"preact/hooks";import{useEditor as e2}from"@blockcode/core";import{ScratchBlocks as T6}from"@blockcode/blocks-editor";var c6="./assets/background-5h37gty1.png";function Kn(l){return new Promise((m)=>{let r=new Image;r.src=l,r.addEventListener("load",()=>m(r))})}var u6="./assets/tank_1-d4rhqwqq.png";var t6="./assets/turret_1-9pr6cw16.png";var m6="./assets/tank_2-77dkq8qk.png";var b6="./assets/turret_2-etpr4jbw.png";var d6="./assets/tank_3-62cxctsx.png";var p6="./assets/turret_3-qw8g6vbn.png";var f6="./assets/tank_4-mqxcxwts.png";var h6="./assets/turret_4-ggame02p.png";var _6="./assets/broken-ndvkgsqd.png";var k6="./assets/bullet-wgggea50.png";var N6="./assets/boom1-xcv6wxk5.png";var Z6="./assets/boom2-tq1etnz2.png";var v6="./assets/boom3-s405vqvg.png";var Hm=20,Gm=4,Ym=40,Ll=500,Dm=70,Qm=400,qs=10,Hi=50,Gi=1000,y6=(l,m)=>Math.sqrt((l.x-m.x)**2+(l.y-m.y)**2),za=(l)=>isNaN(l)?0:+l,Ts=(l,m,r)=>Math.min(Math.max(l,m),r),$s=(l)=>l*Math.PI/180,Ea=(l)=>parseInt((l%360+360)%360),R6=(l,m)=>Ea(l)===Ea(m);class vo{static PLACE={LEFT:{get position(){return new co.Point(co.view.center.x-300,co.view.center.y)},rotation:90},RIGHT:{get position(){return new co.Point(co.view.center.x+300,co.view.center.y)},rotation:-90},LEFT_TOP:{get position(){return new co.Point(co.view.center.x-300,co.view.center.y-300)},rotation:135},RIGHT_TOP:{get position(){return new co.Point(co.view.center.x+300,co.view.center.y-300)},rotation:-135},LEFT_BOTTOM:{get position(){return new co.Point(co.view.center.x-300,co.view.center.y+300)},rotation:45},RIGHT_BOTTOM:{get position(){return new co.Point(co.view.center.x+300,co.view.center.y+300)},rotation:-45}};static STYLE={PLAYER:{tank:u6,turret:t6},ENEMY_A:{tank:m6,turret:b6},ENEMY_B:{tank:d6,turret:p6},ENEMY_C:{tank:f6,turret:h6}};constructor(l,m=vo.STYLE.PLAYER,r=vo.PLACE.LEFT){this.raster=new co.Raster({name:l,scaling:0.2,source:m.tank,position:r.position,rotation:r.rotation,visible:m===vo.STYLE.PLAYER}),this.turretRaster=new co.Raster({scaling:0.2,source:m.turret,position:r.position,rotation:r.rotation,visible:m===vo.STYLE.PLAYER}),this.raster.util=this,this.turretRaster.owner=this,this._hidden=!0,this._lastScanDistance=0,this._imageCache={},this._timers=[],this.reset()}sleep(l){return new Promise((m)=>this._timers.push(setTimeout(m,l)))}reset(){if(this._speed=0,this._currentSpeed=0,this._health=100,this._scanWidth=Gm,this._turretReady=null,this._scanShape)this._scanShape.remove(),this._scanShape=null;if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;if(this._collideTester)this._collideTester.remove(),this._collideTester=null;clearTimeout(this._turretReady),this._timers.forEach(clearTimeout),this._timers.length=0}bringToFront(){this.raster.bringToFront(),this.turretRaster.bringToFront()}get running(){return this._running}set running(l){this.reset(),this._running=l}get bullseye(){if(!this._bullseye)this._bullseye=Math.min(this.raster.width,this.raster.height)*this.raster.scaling.x/4;return this._bullseye}get enemies(){if(!this._enemies)this._enemies=["red","yellow","green","player"].filter((l)=>l!==this.raster.name).map((l)=>co.project.activeLayer.children[l]);return this._enemies}set place(l){if(this.running)return;this.raster.position=this.turretRaster.position=l.position,this.raster.rotation=this.turretRaster.rotation=l.rotation,this.hidden=!1}get hidden(){return this._hidden}set hidden(l){this._hidden=l,this.raster.visible=this.turretRaster.visible=!l}async _turn(l,m){if(!R6(l.rotation,m)){let r=Ea(m)-Ea(l.rotation);if(r>180)r-=360;if(r<-180)r+=360;await l.tween({rotation:l.rotation+r},Gi*(Math.abs(r)/360))}}async attack(l,m){if(!this.running)return;if(this._bulletRaster||this.death)return;l=Math.round(za(l)),m=za(m)-Hi,clearTimeout(this._turretReady),this._turretReady=null,await this._turn(this.turretRaster,l);let r=Ea(l),N=$s(90-r);if(!this._imageCache.buttet)this._imageCache.buttet=await Kn(k6);if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;this._bulletRaster=new co.Raster({image:this._imageCache.buttet,position:new co.Point(this.raster.position.x+Hi*Math.cos(N),this.raster.position.y-Hi*Math.sin(N)),rotation:this.raster.rotation,scaling:this.raster.scaling}),m=Ts(m,Dm,Qm);let p=m/2,x=qs/m/2,u=qs*Math.cos(N),_=qs*Math.sin(N);while(m>0){if(await this.sleep(15),m<qs)u=m*Math.cos(N),_=m*Math.sin(N);if(m-=qs,this._bulletRaster.position.x+=u,this._bulletRaster.position.y-=_,this._bulletRaster.scaling.x+=m>p?x:-x,this._bulletRaster.scaling.y=this._bulletRaster.scaling.x,this._bulletRaster.scaling.x<this.raster.scaling.x)this._bulletRaster.scaling=this.raster.scaling}this._boom(this._bulletRaster.position),this._collide(this._bulletRaster,(L)=>{if(y6(L.position,this._bulletRaster.position)<L.util.bullseye)L.util.hurt(10);else L.util.hurt(5)}),this._bulletRaster.remove(),this._bulletRaster=null,this._turretReady=setTimeout(()=>{this._turn(this.turretRaster,this.raster.rotation),this._turretReady=null},1000)}async _boom(l){if(!this.running)return;if(!this._imageCache.booms)this._imageCache.booms=[await Kn(N6),await Kn(Z6),await Kn(v6)];if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;this._boomRaster=new co.Raster({image:this._imageCache.booms[0],position:l}),await this.sleep(30),this._boomRaster.image=this._imageCache.booms[1],await this.sleep(50),this._boomRaster.image=this._imageCache.booms[2],await this.sleep(90),this._boomRaster.remove(),this._boomRaster=null}_intersectsOrContains(l,m){return l.intersects(m)||m.contains(l.position)}_collide(l,m){if(this.running&&!this.death)this.enemies.forEach((r)=>{if(r.util.death||r.util.hidden)return;if(this._intersectsOrContains(l,r))m(r)})}async move(l,m){if(!this.running)return;if(this.death)return;await this.setDirection(l),this.speed=za(m)}drive(){if(!this.running)return;if(this.speed===0)return;if(this.hidden||this.death)return;let l=this.speed,m=$s(90-this.direction);l/=Hm,this.raster.position.x+=l*Math.cos(m),this.raster.position.y-=l*Math.sin(m),this.turretRaster.position=this.raster.position}get x(){return this.raster.position.x-co.view.center.x}get y(){return co.view.center.y-this.raster.position.y}get currentSpeed(){return Ts(this._currentSpeed,-100,100)}get speed(){return Ts(this._speed,-100,100)}set speed(l){if(!this.running)return;this._speed=Ts(l,-100,100)}get speedVelocity(){let l=Ea(this.speed<0?180+this.direction:this.direction),m=$s(90-l),r=Math.abs(this.speed);return new co.Point(r*Math.cos(m),r*Math.sin(m))}get direction(){let l=this.raster.rotation%360;if(l>180)l-=360;if(l<=-180)l+=360;return l}async setDirection(l){if(!this.running)return;if(l=Math.round(za(l)),!this._turretReady)this._turn(this.turretRaster,l);await this._turn(this.raster,l)}turnRight(l){let m=this.raster.rotation;return m+=za(l),this.setDirection(m)}turnLeft(l){return this.turnRight(-za(l))}hurt(l){if(!this.running)return;if(this._health-=Math.abs(l),this.death)this.raster.visible=this.turretRaster.visible=!1,new co.Raster({source:_6,scaling:this.raster.scaling,position:this.raster.position,rotation:this.raster.rotation}).insertAbove(co.project.activeLayer.children.background)}get health(){if(this._health<0)return 0;return this._health}get death(){return this.health<=0}get scanWidth(){return this._scanWidth}set scanWidth(l){l=za(l),this._scanWidth=Ts(l,1,Ym)}async scan(l){if(!this.running)return 1/0;if(this._scanShape||this.death)return 1/0;if(l=za(l),!R6(this._lastScanDistance,l)){let R=Ea(l)-Ea(this._lastScanDistance);if(R>180)R-=360;if(R<-180)R+=360;await this.sleep(Gi*(Math.abs(R)/360)),this._lastScanDistance=l}let m=$s(90-(l-this.scanWidth/2)),r=Ll*Math.cos(m),N=Ll*Math.sin(m),p=new co.Point(this.raster.position.x+r,this.raster.position.y-N),x=$s(90-(l+this.scanWidth/2)),u=Ll*Math.cos(x),_=Ll*Math.sin(x),L=new co.Point(this.raster.position.x+u,this.raster.position.y-_);if(this._scanShape)this._scanShape.remove(),this._scanShape=null;this._scanShape=new co.Path({segments:[this.raster.position,p,L],closed:!0,fillColor:{gradient:{stops:[["rgb(255 0 0 0.4)",0],["rgb(255 0 0 0)",0.7]],radial:!0},origin:this.raster.position,destination:p}}),await this.sleep(Gi*(this.scanWidth/360));let y=1/0;return this._collide(this._scanShape,(R)=>{let v=y6(this.raster.position,R.position);if(v<y)y=v}),this._scanShape.remove(),this._scanShape=null,y}}class Ul extends $l{get player(){return co.project.activeLayer.children.player}get redTank(){return co.project.activeLayer.children.red}get yellowTank(){return co.project.activeLayer.children.yellow}get greenTank(){return co.project.activeLayer.children.green}start(){this.player.util.running=!0,this.redTank.util.running=!0,this.yellowTank.util.running=!0,this.greenTank.util.running=!0,super.start()}stop(){return this.player.util.running=!1,this.redTank.util.running=!1,this.yellowTank.util.running=!1,this.greenTank.util.running=!1,super.stop()}}var x6=(l="",m=[])=>`
${m.join(`
`)}

((target) => {
let abort = false;
${l||""}
})(runtime.player);

runtime.on('frame', () => {
  runtime.player.util.drive();
  runtime.redTank.util.drive();
  runtime.yellowTank.util.drive();
  runtime.greenTank.util.drive();
});

runtime.player.util.bringToFront();
runtime.start();
`;var Vs={};J6(Vs,{simple:()=>Cm,senior:()=>Am,medium:()=>Bm});var Cm=(l,m)=>`
((tank) => {
  let abort = false;

  runtime.when('start', async function (done) {
    await tank.util.turnRight(45);
    tank.util.speed = 100;
    await runtime.sleep(2.5);
    tank.util.speed = 0;
    await tank.util.turnLeft(90);
    runtime.fire('@ai_simple_${l}_${m}_message_1');
    while (true) {
      tank.util.speed = 100;
      await runtime.sleep(5.5);
      tank.util.speed = 0;
      await tank.util.turnLeft(180);
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });

  runtime.when('@ai_simple_${l}_${m}_message_1', async function anonymous(done) {
    while (true) {
      if ((await tank.util.scan(0) !== Infinity)) {
        await tank.util.attack(0, (await tank.util.scan(0)));
      }
      if ((await tank.util.scan(45) !== Infinity)) {
        await tank.util.attack(45, (await tank.util.scan(45)));
      }
      if ((await tank.util.scan(90) !== Infinity)) {
        await tank.util.attack(90, (await tank.util.scan(90)));
      }
      if ((await tank.util.scan(135) !== Infinity)) {
        await tank.util.attack(135, (await tank.util.scan(135)));
      }
      if ((await tank.util.scan(180) !== Infinity)) {
        await tank.util.attack(180, (await tank.util.scan(180)));
      }
      if ((await tank.util.scan(225) !== Infinity)) {
        await tank.util.attack(225, (await tank.util.scan(225)));
      }
      if ((await tank.util.scan(270) !== Infinity)) {
        await tank.util.attack(270, (await tank.util.scan(270)));
      }
      if ((await tank.util.scan(315) !== Infinity)) {
        await tank.util.attack(315, (await tank.util.scan(315)));
      }
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });


})(runtime.${l}Tank);
`,Bm=(l,m)=>`
((tank) => {
  let abort = false;

  let _health_ = 0;
  let _angle_ = 0;

  runtime.when('start', async function anonymous() {
    _angle_ = runtime.random(1, 360);
    runtime.fire('@ai_medium_${l}_${m}_start')
  });

  runtime.when('start', async function anonymous() {
    while (true) {
      _health_ = tank.util.health;
      while (!((tank.util.health < _health_))) {
        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      abort = false;
      tank.util.move(runtime.random(1, 360), 100);
      await runtime.sleep(1);
      tank.util.speed = 0;
      runtime.fire('@ai_medium_${l}_${m}_start')
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
  });

  runtime.when('@ai_medium_${l}_${m}_start', async function anonymous(done) {
    while (true) {
      while (!((await tank.util.scan(_angle_) !== Infinity))) {
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      while (((await tank.util.scan(_angle_) !== Infinity) && ((await tank.util.scan(_angle_)) > '400'))) {
        tank.util.move(_angle_, 100);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      tank.util.speed = 0;
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done()
  });


})(runtime.${l}Tank);
`,Am=(l,m)=>`
((tank) => {
  let abort = false;

  let _angle_ = 0;
  let _health_ = 0;


  runtime.when('start', async function anonymous() {
    if (((tank.util.y < '5') && (tank.util.y > '-5'))) {
      await tank.util.turnLeft(104);
    }
    else {
      await tank.util.turnLeft(180);
    }
    tank.util.speed = 100;
    while (!(((Math.abs(tank.util.x) > '400') && (Math.abs(tank.util.y) > '400')))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${l}_${m}_start')
  });

  runtime.when('@ai_senior_${l}_${m}_start', async function anonymous(done) {
    if ((tank.util.x < '0')) {
      if ((tank.util.y < '0')) {
        _angle_ = '45';
      }
      else {
        _angle_ = '135';
      }
    }
    else {
      if ((tank.util.y < '0')) {
        _angle_ = '-45';
      }
      else {
        _angle_ = '-135';
      }
    }
    await tank.util.setDirection(_angle_);
    runtime.fire('@ai_senior_${l}_${m}_watch_health');
    _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-60);
    for (let _ = 0; _ < 78; _++) {
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${l}_${m}_next_place');
    done();
  });

  runtime.when('@ai_senior_${l}_${m}_next_place', async function anonymous(done) {
    abort = false;
    if ((runtime.random(1, 3) == '1')) {
      await tank.util.turnLeft(45);
    }
    else {
      await tank.util.turnRight(45);
    }
    tank.util.speed = 100;
    await runtime.sleep(1);
    if (((tank.util.direction > '-5') && (tank.util.direction < '5'))) {
      while (!((tank.util.y > '400'))) {

      if (abort || !runtime.running) {
        break;
      };
        await runtime.nextFrame();
      }
    }
    else {
      if (((tank.util.direction > '85') && (tank.util.direction < '95'))) {
        while (!((tank.util.x > '400'))) {

        if (abort || !runtime.running) {
          break;
        };
          await runtime.nextFrame();
        }
      }
      else {
        if (((tank.util.direction > '-95') && (tank.util.direction < '-85'))) {
          while (!((tank.util.x < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
        else {
          while (!((tank.util.y < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
      }
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${l}_${m}_start')
    done()
  });

  runtime.when('@ai_senior_${l}_${m}_watch_health', async function anonymous(done) {
    _health_ = tank.util.health;
    while (!((tank.util.health < _health_))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${l}_${m}_next_place')
    done()
  });


})(runtime.${l}Tank);
`;import{jsx as o2}from"preact/jsx-runtime";function $6({playing:l,enemies:m,enemiesAI:r,onRequestStop:N,onChangeHealth:p}){let[x,u]=q6(null),[_,L]=q6(!1),{fileList:y}=e2(),R=y[0];if(x){let $=co.project.activeLayer.children;if(l){if(!_){let M=[];if(m>0)M.push(Vs[r.red]("red",Date.now().toString(36)));if(m>1)M.push(Vs[r.yellow]("yellow",Date.now().toString(36)));if(m>2)M.push(Vs[r.green]("green",Date.now().toString(36)));let T=new Ul(N);T.launch(x6(R.script,M)),T.on("frame",()=>{p({player:$.player.util.health,red:$.red.util.health,yellow:$.yellow.util.health,green:$.green.util.health})});let q=T6.getMainWorkspace();if(q)q.addChangeListener(N);L(T)}}else if(_){let M=T6.getMainWorkspace();if(M)M.removeChangeListener(N);_.stop().then(()=>{p({player:100,red:100,yellow:100,green:100}),co.project.activeLayer.children.forEach((T)=>{if(T.name==="background")return;if(T.util instanceof vo||T.owner instanceof vo)return;T.remove()}),L(!1)})}else{if($.player.util.place=vo.PLACE.LEFT_TOP,m>0)$.red.util.place=vo.PLACE.RIGHT_BOTTOM;else $.red.util.hidden=!0;if(m>2)$.yellow.util.place=vo.PLACE.RIGHT_TOP,$.green.util.place=vo.PLACE.LEFT_BOTTOM;else $.yellow.util.hidden=!0,$.green.util.hidden=!0;co.project.activeLayer.children.forEach((M)=>{if(M.name==="background")return;if(M.util instanceof vo||M.owner instanceof vo)return;M.remove()})}}return o2(A1,{width:"480px",height:"480px",generator:Vo,onSetup:($)=>{u($),co.view.zoom=0.5,new co.Raster({name:"background",source:c6,position:co.view.center}),new vo("player",vo.STYLE.PLAYER,vo.PLACE.LEFT),new vo("red",vo.STYLE.ENEMY_A,vo.PLACE.RIGHT),new vo("yellow",vo.STYLE.ENEMY_B,vo.PLACE.RIGHT_BOTTOM),new vo("green",vo.STYLE.ENEMY_C,vo.PLACE.LEFT_BOTTOM)}})}import{useLocale as s2}from"@blockcode/core";import{classNames as L6}from"@blockcode/ui";function Ra(l){let m=globalThis.document,r=m.createElement("style");r.appendChild(m.createTextNode(l)),m.head.append(r)}Ra("._1mbyQG_toolbar-wrapper{height:var(--tool-bar-height);padding:var(--space)0;flex-shrink:0;justify-content:space-between;align-items:center;display:flex}._1mbyQG_green-flag,._1mbyQG_stop-all{user-select:none;cursor:pointer;border:0;border-radius:.25rem;width:2rem;height:2rem;padding:.375rem}._1mbyQG_green-flag:hover,._1mbyQG_stop-all:hover{background:var(--motion-light-transparent)}._1mbyQG_green-flag._1mbyQG_actived{background:var(--motion-transparent)}._1mbyQG_stop-all{opacity:.5}._1mbyQG_stop-all._1mbyQG_actived{opacity:1}._1mbyQG_green-flag._1mbyQG_disabled,._1mbyQG_stop-all._1mbyQG_disabled{opacity:.5}._1mbyQG_toolbar-button{width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}._1mbyQG_space{margin-left:.2rem}._1mbyQG_toolbar-buttons-group{display:flex}._1mbyQG_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}._1mbyQG_group-button{border-left:none;border-radius:0}._1mbyQG_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}");var tn={actived:"_1mbyQG_actived",toolbarWrapper:"_1mbyQG_toolbar-wrapper",greenFlag:"_1mbyQG_green-flag",stopAll:"_1mbyQG_stop-all",space:"_1mbyQG_space",groupButtonFirst:"_1mbyQG_group-button-first",groupButtonLast:"_1mbyQG_group-button-last",groupButton:"_1mbyQG_group-button",disabled:"_1mbyQG_disabled",toolbarButton:"_1mbyQG_toolbar-button",toolbarButtonsGroup:"_1mbyQG_toolbar-buttons-group"};var V6="./assets/icon-green-flag-tz1g77je.svg";var M6="./assets/icon-stop-all-zrx3gxr1.svg";import{jsx as Yi,jsxs as l2}from"preact/jsx-runtime";function Di({playing:l,onPlay:m,onStop:r}){let{getText:N}=s2();return Yi("div",{className:tn.toolbarWrapper,children:l2("div",{className:tn.toolbarButtonsGroup,children:[Yi("img",{className:L6(tn.greenFlag,{[tn.actived]:l}),src:V6,title:N("tankwar.player.greenFlag","Go"),onClick:m}),Yi("img",{className:L6(tn.stopAll,{[tn.actived]:l}),src:M6,title:N("tankwar.player.stopAll","Stop"),onClick:r})]})})}Ra(".b0DZEW_stage-wrapper{position:relative}.b0DZEW_stage{border:1px solid var(--ui-black-transparent);border-radius:var(--space);background:var(--ui-white);width:482px;height:482px;position:relative;overflow:hidden}");var Qi={stageWrapper:"b0DZEW_stage-wrapper",stage:"b0DZEW_stage"};import{jsx as Ci,jsxs as i2}from"preact/jsx-runtime";function Bi({playing:l,enemies:m,enemiesAI:r,onChangePlaying:N,onChangeHealth:p}){let x=()=>N(!0),u=()=>N(!1);return i2("div",{className:Qi.stageWrapper,children:[Ci(Di,{playing:l,onPlay:x,onStop:u}),Ci("div",{className:r2(Qi.stage),children:Ci($6,{playing:l,enemies:m,enemiesAI:r,onRequestStop:u,onChangeHealth:p})})]})}import{useLocale as m2,useEditor as b2}from"@blockcode/core";import{classNames as xa,Text as Ms,Button as Pa,Label as mn,BufferedInput as d2,ComingSoon as p2}from"@blockcode/ui";Ra(".MaJ6dq_stage-info-wrapper{margin-top:var(--space);background:var(--ui-white);color:var(--text-primary);border-radius:var(--space);border:1px solid var(--ui-black-transparent);padding:1rem}.MaJ6dq_row{justify-content:space-between;margin-top:.5rem;display:flex}.MaJ6dq_row-primary{margin-top:0}.MaJ6dq_group{flex-direction:row;align-items:center;display:inline-flex}.MaJ6dq_full-input{flex:1}.MaJ6dq_name-input{width:8rem}.MaJ6dq_button{min-width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}.MaJ6dq_button-icon{margin:auto}.MaJ6dq_space{margin-left:.2rem}.MaJ6dq_toolbar-button-group{display:flex}.MaJ6dq_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}.MaJ6dq_group-button{border-left:none;border-radius:0}.MaJ6dq_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.MaJ6dq_button-text{flex:auto}.MaJ6dq_group-button-toggled-on .MaJ6dq_button-text{color:#4c97ff}.MaJ6dq_tank-image{width:1.65rem}.MaJ6dq_health-progress{background:#f5f5f5;border-radius:10px;width:12rem;height:20px}.MaJ6dq_health-progress:before{counter-reset:progress var(--percent,0);content:counter(progress)\"%\";width:calc(12rem*var(--percent,0)/100);color:var(--ui-white);text-align:right;white-space:nowrap;background:#ff6680;border-radius:10px;height:20px;font-size:12px;line-height:20px;display:block;overflow:hidden}");var po={groupButtonToggledOn:"MaJ6dq_group-button-toggled-on",buttonText:"MaJ6dq_button-text",nameInput:"MaJ6dq_name-input",buttonIcon:"MaJ6dq_button-icon",fullInput:"MaJ6dq_full-input",stageInfoWrapper:"MaJ6dq_stage-info-wrapper",button:"MaJ6dq_button",groupButtonFirst:"MaJ6dq_group-button-first",groupButton:"MaJ6dq_group-button",groupButtonLast:"MaJ6dq_group-button-last",rowPrimary:"MaJ6dq_row-primary",row:"MaJ6dq_row",group:"MaJ6dq_group",toolbarButtonGroup:"MaJ6dq_toolbar-button-group",tankImage:"MaJ6dq_tank-image",healthProgress:"MaJ6dq_health-progress",space:"MaJ6dq_space"};var U6="./assets/tank-2-tq1cemhn.png";var O6="./assets/tank-3-5vq6mndw.png";var g6="./assets/tank-4-4r293h2s.png";import{jsx as No,jsxs as bn}from"preact/jsx-runtime";var f2=[U6,O6,g6];function Ai({playing:l,enemies:m,enemiesAI:r,health:N,onChangeEnemies:p,onChangeEnemyAI:x}){let{getText:u}=m2(),{fileList:_,modifyFile:L}=b2(),y=_[0],R=(v,$)=>{L({[v]:$})};return bn("div",{className:po.stageInfoWrapper,children:[bn("div",{className:xa(po.row,po.rowPrimary),children:[No(mn,{text:u("tankwar.stageInfo.player","Player"),children:No(d2,{disabled:l,className:po.nameInput,placeholder:u("tankwar.stageInfo.nickname","Nickname"),onSubmit:(v)=>R("name",v),value:y.name})}),No(mn,{secondary:!0,className:po.health,text:u("tankwar.stageInfo.health","Health"),children:No("div",{className:po.healthProgress,style:`--percent:${N.player||0}`})})]}),bn("div",{className:po.row,children:[bn(mn,{secondary:!0,text:u("tankwar.stageInfo.enemies","Enemies"),children:[No(Pa,{disabled:l,className:xa(po.button,po.groupButtonFirst,{[po.groupButtonToggledOn]:m===0}),onClick:()=>p(0),children:No("div",{className:po.buttonText,children:"0"})}),No(Pa,{disabled:l,className:xa(po.button,po.groupButton,{[po.groupButtonToggledOn]:m===1}),onClick:()=>p(1),children:No("div",{className:po.buttonText,children:"1"})}),No(Pa,{disabled:l,className:xa(po.button,po.groupButtonLast,{[po.groupButtonToggledOn]:m===3}),onClick:()=>p(3),children:No("div",{className:po.buttonText,children:"3"})})]}),m>0&&bn(mn,{secondary:!0,children:[No(Pa,{disabled:l,className:xa(po.button,po.groupButtonFirst,{[po.groupButtonToggledOn]:!0}),children:No("div",{className:po.buttonText,children:No(Ms,{id:"tankwar.stageInfo.mode.local",defaultMessage:"Local AI"})})}),No(p2,{placement:"bottom",children:No(Pa,{disabled:l,className:xa(po.button,po.groupButtonLast,{[po.groupButtonToggledOn]:!1}),children:No("div",{className:po.buttonText,children:No(Ms,{id:"tankwar.stageInfo.mode.remote",defaultMessage:"Remote Players"})})})})]})]}),["red","yellow","green"].slice(0,m).map((v,$)=>bn("div",{className:po.row,children:[No(mn,{secondary:!0,children:No("img",{className:po.tankImage,src:f2[$],alt:u(`tankwar.stageInfo.enemy.${v}`,v.replace(v[0],v[0].toUpperCase())),title:u(`tankwar.stageInfo.enemy.${v}`,v.replace(v[0],v[0].toUpperCase()))})}),No(mn,{secondary:!0,children:No("div",{className:po.healthProgress,style:`--percent:${N[v]||0}`})}),bn(mn,{secondary:!0,text:u("tankwar.stageInfo.ai","AI"),children:[No(Pa,{disabled:l,className:xa(po.button,po.groupButtonFirst,{[po.groupButtonToggledOn]:r[v]==="simple"}),onClick:()=>x(v,"simple"),children:No("div",{className:po.buttonText,children:No(Ms,{id:"tankwar.stageInfo.ai.simple",defaultMessage:"Simple"})})}),No(Pa,{disabled:l,className:xa(po.button,po.groupButton,{[po.groupButtonToggledOn]:r[v]==="medium"}),onClick:()=>x(v,"medium"),children:No("div",{className:po.buttonText,children:No(Ms,{id:"tankwar.stageInfo.ai.medium",defaultMessage:"Medium"})})}),No(Pa,{disabled:l,className:xa(po.button,po.groupButtonLast,{[po.groupButtonToggledOn]:r[v]==="senior"}),onClick:()=>x(v,"senior"),children:No("div",{className:po.buttonText,children:No(Ms,{id:"tankwar.stageInfo.ai.senior",defaultMessage:"Senior"})})})]})]},$))]})}Ra(".FMSzyW_sidebar-wrapper{flex-direction:column;height:100%;display:flex}.FMSzyW_stage-wrapper{display:flex}.FMSzyW_selector-wrapper{margin-top:var(--space);flex-direction:row;height:100%;display:flex}");var ec={stageWrapper:"FMSzyW_stage-wrapper",selectorWrapper:"FMSzyW_selector-wrapper",sidebarWrapper:"FMSzyW_sidebar-wrapper"};import{jsx as X6,jsxs as h2}from"preact/jsx-runtime";function oc(){let[l,m]=Ol(!1),[r,N]=Ol(1),[p,x]=Ol({red:"simple",yellow:"medium",green:"senior"}),[u,_]=Ol({player:100,red:100,yellow:100,green:100});return h2("div",{className:ec.sidebarWrapper,children:[X6(Bi,{className:ec.stageWrapper,playing:l,enemies:r,enemiesAI:p,onChangePlaying:m,onChangeHealth:_}),X6(Ai,{playing:l,enemies:r,enemiesAI:p,health:u,onChangeEnemies:N,onChangeEnemyAI:(L,y)=>x({...p,[L]:y})})]})}var S6={fileList:[{id:`player_${Date.now().toString(36)}`,name:"player"}]};var W6={"tankwar.player.greenFlag":"Go","tankwar.player.stopAll":"Stop","tankwar.stageInfo.player":"Player","tankwar.stageInfo.nickname":"Nickname","tankwar.stageInfo.enemies":"Enemies","tankwar.stageInfo.health":"Health","tankwar.stageInfo.enemy.red":"Red","tankwar.stageInfo.enemy.yellow":"Yellow","tankwar.stageInfo.enemy.green":"Green","tankwar.stageInfo.mode.local":"Local AI","tankwar.stageInfo.mode.remote":"Remote Players","tankwar.stageInfo.ai":"AI","tankwar.stageInfo.ai.simple":"Simple","tankwar.stageInfo.ai.medium":"Medium","tankwar.stageInfo.ai.senior":"Senior","tankwar.blocks.motion_attack":"fire in direction %1 at %2 steps","tankwar.blocks.motion_move":"forward in direction %1 at %2 % speed","tankwar.blocks.motion_setspeed":"set speed to %1 %","tankwar.blocks.motion_stop":"stop","tankwar.blocks.motion_speed":"speed","tankwar.blocks.sensing_scanwidth":"set scan width to %1","tankwar.blocks.sensing_scan":"scan for enemy in direction %1?","tankwar.blocks.sensing_distance":"measure distance of enemy in direction %1","tankwar.blocks.sensing_health":"health"};var w6={"tankwar.player.greenFlag":"","tankwar.player.stopAll":"","tankwar.stageInfo.player":"","tankwar.stageInfo.nickname":"","tankwar.stageInfo.enemies":"","tankwar.stageInfo.health":"","tankwar.stageInfo.enemy.red":"","tankwar.stageInfo.enemy.yellow":"","tankwar.stageInfo.enemy.green":"","tankwar.stageInfo.mode.local":" AI","tankwar.stageInfo.mode.remote":"","tankwar.stageInfo.ai":"AI ","tankwar.stageInfo.ai.simple":"","tankwar.stageInfo.ai.medium":"","tankwar.stageInfo.ai.senior":"","tankwar.blocks.motion_attack":" %1  %2 ","tankwar.blocks.motion_move":" %2 %  %1 ","tankwar.blocks.motion_setspeed":" %1 %","tankwar.blocks.motion_stop":"","tankwar.blocks.motion_speed":"","tankwar.blocks.sensing_scanwidth":" %1","tankwar.blocks.sensing_scan":" %1 ","tankwar.blocks.sensing_distance":" %1 ","tankwar.blocks.sensing_health":""};var j6={en:W6,"zh-Hans":w6};function _2({addLocaleData:l,openProject:m,useDefaultProject:r}){l(Y1),l(j6);let N=()=>{m(Object.assign(S6))};if(r)N();return{mainMenu:E1({createProject:N,openProject:m,saveProject:(x)=>{return{thumb:document.querySelector("#blockcode-blocks-player").toDataURL()}}}).slice(0,2),tabs:[{...xl,Content:Pi}],sidebars:[{expand:"right",Content:oc}],pane:!1,tutorials:!1,canEditProjectName:!0}}export{_2 as default};
