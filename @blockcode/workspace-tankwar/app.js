var k6=Object.defineProperty;var T6=(r,d)=>{for(var u in d)k6(r,u,{get:d[u],enumerable:!0,configurable:!0,set:(R)=>d[u]=()=>R})};var Oa=((r)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(r,{get:(d,u)=>(typeof require!=="undefined"?require:d)[u]}):r)(function(r){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});import{Text as Mu} from"@blockcode/ui";import{Text as Ni} from"@blockcode/ui";import{Keys as bn,useLayout as Vt,useEditor as Lt} from"@blockcode/core";import{Text as so,MenuSection as du,MenuItem as bs} from"@blockcode/ui";import{ScratchBlocks as Wt} from"@blockcode/blocks-editor";import{jsx as Ya,jsxs as Ri,Fragment as wt} from"preact/jsx-runtime";var St=function({itemClassName:r,onNew:d,onOpen:u,onSave:R,children:f}){const{createPrompt:T,setStoreLibrary:c}=Vt(),{modified:b,saveNow:W,saveToComputer:y,openFromComputer:q}=Lt(),Z=async()=>{let $,V;const x=Wt.getMainWorkspace();if(x)$=await Mt.svgAsDataUri(x.getCanvas(),{}),V=Array.from(new Set(Object.values(x.blockDB_).filter((k)=>["nes","translate","color-sensor","servo","time","pen","brain","request","text","broadcast"].find((g)=>g===k.category_)).map((k)=>k.category_)));return(k)=>{const g={thumb:$,...k,...R?R():{},editor:{...k.editor,extensions:V}};if(g.assetList)g.assetList=g.assetList.filter((X)=>!X.id.startsWith("extensions/"));return g.fileList=g.fileList.map(({content:X,script:E,...z})=>z),g}};return Ri(wt,{children:[Ri(du,{children:[Ya(bs,{className:r,label:Ya(so,{id:"blocks.menu.file.newProject",defaultMessage:"New"}),hotkey:[Zi?bn.COMMAND:bn.CONTROL,bn.N],onClick:()=>{if(b)T({title:Ya(so,{id:"gui.projects.notSaved",defaultMessage:"Not saved"}),label:Ya(so,{id:"gui.projects.replaceProject",defaultMessage:"Replace contents of the current project?"}),onSubmit:d});else d()}}),Ya(bs,{className:r,label:Ya(so,{id:"blocks.menu.file.openProject",defaultMessage:"Open"}),hotkey:[Zi?bn.COMMAND:bn.CONTROL,bn.O],onClick:()=>c(!0)}),Ya(bs,{className:r,label:Ya(so,{id:"blocks.menu.file.saveProject",defaultMessage:"Save"}),hotkey:[Zi?bn.COMMAND:bn.CONTROL,bn.S],onClick:async()=>W(await Z())})]}),Ri(du,{children:[Ya(bs,{className:r,label:Ya(so,{id:"blocks.menu.file.uploadProject",defaultMessage:"Load from your computer"}),onClick:()=>q(u)}),Ya(bs,{className:r,label:Ya(so,{id:"blocks.menu.file.downloadProject",defaultMessage:"save to your computer"}),onClick:async()=>y(await Z())})]}),f]})};import{useEffect as gt,useState as yi} from"preact/hooks";import{Keys as On} from"@blockcode/core";import{Text as _u,MenuSection as zt,MenuItem as fu} from"@blockcode/ui";import{ScratchBlocks as Ft} from"@blockcode/blocks-editor";import{jsx as Rr,jsxs as hu,Fragment as Ot} from"preact/jsx-runtime";var Xt=function({itemClassName:r,children:d}){const[u,R]=yi(!0),[f,T]=yi(!0),[c,b]=yi(null),W=Ft.getMainWorkspace();if(W){if(c?.id!==W.id)b(W)}return gt(()=>{if(c)c.addChangeListener(()=>{R(c.undoStack_.length===0),T(c.redoStack_.length===0)}),R(c.undoStack_.length===0),T(c.redoStack_.length===0)},[c]),hu(Ot,{children:[hu(zt,{children:[Rr(fu,{disabled:u,className:r,label:Rr(_u,{id:"blocks.menu.edit.undo",defaultMessage:"Undo"}),hotkey:[bu?On.COMMAND:On.CONTROL,On.Z],onClick:async(y)=>{if(y instanceof MouseEvent&&c)c.undo(!1)}}),Rr(fu,{disabled:f,className:r,label:Rr(_u,{id:"blocks.menu.edit.redo",defaultMessage:"Redo"}),hotkey:bu?[On.SHIFT,On.COMMAND,On.Z]:[On.CONTROL,On.Y],onClick:async(y)=>{if(y instanceof MouseEvent&&c)c.undo(!0)}})]}),d]})};import{useState as y5} from"preact/hooks";import{useLocale as Ut,useLayout as Et,useEditor as jt} from"@blockcode/core";import{Text as So,Spinner as Jt,MenuSection as Pt,MenuItem as Kt} from"@blockcode/ui";import{Serial as e8,sleep as zl} from"@blockcode/core";var o8=function(r,d){const u=`data:${r};base64,${d}`;return fetch(u).then((R)=>R.arrayBuffer())};var x6=Object.create,{defineProperty:rs,getPrototypeOf:$6,getOwnPropertyNames:d1,getOwnPropertyDescriptor:M6}=Object,_1=Object.prototype.hasOwnProperty,ui=(r,d,u)=>{u=r!=null?x6($6(r)):{};const R=d||!r||!r.__esModule?rs(u,"default",{value:r,enumerable:!0}):u;for(let f of d1(r))if(!_1.call(R,f))rs(R,f,{get:()=>r[f],enumerable:!0});return R},f1=(r)=>{const d=f1.moduleCache??=new WeakMap;var u=d.get(r);if(u)return u;var R=rs({},"__esModule",{value:!0}),f={enumerable:!1};if(r&&typeof r==="object"||typeof r==="function"){for(let T of d1(r))if(!_1.call(R,T))rs(R,T,{get:()=>r[T],enumerable:!(f=M6(r,T))||f.enumerable})}return d.set(r,R),R},fr=(r,d)=>()=>(d||r((d={exports:{}}).exports,d),d.exports),un=(r,d)=>{for(var u in d)rs(r,u,{get:d[u],enumerable:!0,configurable:!0,set:(R)=>d[u]=()=>R})},$a=(r,d)=>()=>(r&&(d=r(r=0)),d),V6=((r)=>typeof Oa!=="undefined"?Oa:typeof Proxy!=="undefined"?new Proxy(r,{get:(d,u)=>(typeof Oa!=="undefined"?Oa:d)[u]}):r)(function(r){if(typeof Oa!=="undefined")return Oa.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')}),h1={};un(h1,{webcrypto:()=>mr,timingSafeEqual:()=>bo,scryptSync:()=>Qo,scrypt:()=>Ao,randomUUID:()=>ur,getRandomValues:()=>cr,getCurves:()=>ir,default:()=>Al,DEFAULT_ENCODING:()=>Cn});var ir,ji,Eo,Ji,Pi,Ki,Ii,Ms,je,jo,Jo,Vs,kn,Ea,Gi,Di,Va,fa,Kn,ta,Tn,Lr,Po,Hi,Wr,In,wr,Sr,gr,Gn,Ls,uo,zr,Ko,Ws,Yi,Bi,Fr,Or,Ci,Qi,Ai,Xr,ws,Ss,Dn,ec,ac,Ur,nc,Er,oc,gs,xa,en,zs,wa,Io,jr,an,sc,xn,$n,Mn,rc,Hn,Fs,Os,lc,Xs,Jr,Go,Pr,ic,nn,Kr,Ir,Us,cc,Gr,uc,Dr,Es,mc,tc,dn,mo,pc,Hr,Yr,Br,dc,Cr,Qr,Ar,el,_c,al,nl,ja,js,ol,fc,hc,bc,vc,Nc,to,Rc,Zc,yc,qc,kc,sl,rl,ll,Js,Do,Tc,il,cl,Ho,xc,$c,Ps,Mc,Vc,Vn,ul,Lc,Wc,Ks,ml,tl,wc,Sc,gc,pl,zc,dl,Yn,_l,fl,Bn,Is,Fc,Oc,hl,bl,Xc,Uc,Ec,Gs,Ds,jc,on,vl,Ja,Yo,Jc,Pc,Kc,Nl,Qa,po,Rl,Ic,Zl,Gc,yl,Dc,Hc,Yc,Bc,Hs,Cc,Ys,Qc,Ac,e0,a0,n0,o0,s0,Bs,ql,Cs,Qs,_o,As,er,kl,r0,Tl,xl,l0,$l,i0,c0,u0,Ml,m0,t0,p0,d0,Bo,Vl,_0,f0,h0,b0,v0,Ll,Wl,ar,wl,N0,R0,Z0,y0,Sl,gl,q0,Cn,cr,ur,k0,bo,Qo,Ao,mr,Al,L6=$a(()=>{ir=function(){return k0},ji=Object.create,Eo=Object.defineProperty,Ji=Object.getOwnPropertyDescriptor,Pi=Object.getOwnPropertyNames,Ki=Object.getPrototypeOf,Ii=Object.prototype.hasOwnProperty,Ms=(r,d)=>()=>(r&&(d=r(r=0)),d),je=(r,d)=>()=>(d||r((d={exports:{}}).exports,d),d.exports),jo=(r,d)=>{for(var u in d)Eo(r,u,{get:d[u],enumerable:!0})},Jo=(r,d,u,R)=>{if(d&&typeof d=="object"||typeof d=="function")for(let f of Pi(d))!Ii.call(r,f)&&f!==u&&Eo(r,f,{get:()=>d[f],enumerable:!(R=Ji(d,f))||R.enumerable});return r},Vs=(r,d,u)=>(Jo(r,d,"default"),u&&Jo(u,d,"default")),kn=(r,d,u)=>(u=r!=null?ji(Ki(r)):{},Jo(d||!r||!r.__esModule?Eo(u,"default",{value:r,enumerable:!0}):u,r)),Ea=(r)=>Jo(Eo({},"__esModule",{value:!0}),r),Gi=je((r)=>{r.byteLength=W,r.toByteArray=q,r.fromByteArray=V;var d=[],u=[],R=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(T=0,c=f.length;T<c;++T)d[T]=f[T],u[f.charCodeAt(T)]=T;var T,c;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63;function b(x){var k=x.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=x.indexOf("=");g===-1&&(g=k);var X=g===k?0:4-g%4;return[g,X]}function W(x){var k=b(x),g=k[0],X=k[1];return(g+X)*3/4-X}function y(x,k,g){return(k+g)*3/4-g}function q(x){var k,g=b(x),X=g[0],E=g[1],z=new R(y(x,X,E)),K=0,Y=E>0?X-4:X,C;for(C=0;C<Y;C+=4)k=u[x.charCodeAt(C)]<<18|u[x.charCodeAt(C+1)]<<12|u[x.charCodeAt(C+2)]<<6|u[x.charCodeAt(C+3)],z[K++]=k>>16&255,z[K++]=k>>8&255,z[K++]=k&255;return E===2&&(k=u[x.charCodeAt(C)]<<2|u[x.charCodeAt(C+1)]>>4,z[K++]=k&255),E===1&&(k=u[x.charCodeAt(C)]<<10|u[x.charCodeAt(C+1)]<<4|u[x.charCodeAt(C+2)]>>2,z[K++]=k>>8&255,z[K++]=k&255),z}function Z(x){return d[x>>18&63]+d[x>>12&63]+d[x>>6&63]+d[x&63]}function $(x,k,g){for(var X,E=[],z=k;z<g;z+=3)X=(x[z]<<16&16711680)+(x[z+1]<<8&65280)+(x[z+2]&255),E.push(Z(X));return E.join("")}function V(x){for(var k,g=x.length,X=g%3,E=[],z=16383,K=0,Y=g-X;K<Y;K+=z)E.push($(x,K,K+z>Y?Y:K+z));return X===1?(k=x[g-1],E.push(d[k>>2]+d[k<<4&63]+"==")):X===2&&(k=(x[g-2]<<8)+x[g-1],E.push(d[k>>10]+d[k>>4&63]+d[k<<2&63]+"=")),E.join("")}}),Di=je((r)=>{r.read=function(d,u,R,f,T){var c,b,W=T*8-f-1,y=(1<<W)-1,q=y>>1,Z=-7,$=R?T-1:0,V=R?-1:1,x=d[u+$];for($+=V,c=x&(1<<-Z)-1,x>>=-Z,Z+=W;Z>0;c=c*256+d[u+$],$+=V,Z-=8);for(b=c&(1<<-Z)-1,c>>=-Z,Z+=f;Z>0;b=b*256+d[u+$],$+=V,Z-=8);if(c===0)c=1-q;else{if(c===y)return b?NaN:(x?-1:1)*(1/0);b=b+Math.pow(2,f),c=c-q}return(x?-1:1)*b*Math.pow(2,c-f)},r.write=function(d,u,R,f,T,c){var b,W,y,q=c*8-T-1,Z=(1<<q)-1,$=Z>>1,V=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=f?0:c-1,k=f?1:-1,g=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(W=isNaN(u)?1:0,b=Z):(b=Math.floor(Math.log(u)/Math.LN2),u*(y=Math.pow(2,-b))<1&&(b--,y*=2),b+$>=1?u+=V/y:u+=V*Math.pow(2,1-$),u*y>=2&&(b++,y/=2),b+$>=Z?(W=0,b=Z):b+$>=1?(W=(u*y-1)*Math.pow(2,T),b=b+$):(W=u*Math.pow(2,$-1)*Math.pow(2,T),b=0));T>=8;d[R+x]=W&255,x+=k,W/=256,T-=8);for(b=b<<T|W,q+=T;q>0;d[R+x]=b&255,x+=k,b/=256,q-=8);d[R+x-k]|=g*128}}),Va=je((r)=>{var d=Gi(),u=Di(),R=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=b,r.SlowBuffer=E,r.INSPECT_MAX_BYTES=50;var f=2147483647;r.kMaxLength=f,b.TYPED_ARRAY_SUPPORT=T(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{let L=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(L,n),L.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function c(L){if(L>f)throw new RangeError('The value "'+L+'" is invalid for option "size"');let n=new Uint8Array(L);return Object.setPrototypeOf(n,b.prototype),n}function b(L,n,l){if(typeof L=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Z(L)}return W(L,n,l)}b.poolSize=8192;function W(L,n,l){if(typeof L=="string")return $(L,n);if(ArrayBuffer.isView(L))return x(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(Je(L,ArrayBuffer)||L&&Je(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(L,SharedArrayBuffer)||L&&Je(L.buffer,SharedArrayBuffer)))return k(L,n,l);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let _=L.valueOf&&L.valueOf();if(_!=null&&_!==L)return b.from(_,n,l);let N=g(L);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return b.from(L[Symbol.toPrimitive]("string"),n,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}b.from=function(L,n,l){return W(L,n,l)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function y(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function q(L,n,l){return y(L),L<=0?c(L):n!==void 0?typeof l=="string"?c(L).fill(n,l):c(L).fill(n):c(L)}b.alloc=function(L,n,l){return q(L,n,l)};function Z(L){return y(L),c(L<0?0:X(L)|0)}b.allocUnsafe=function(L){return Z(L)},b.allocUnsafeSlow=function(L){return Z(L)};function $(L,n){if((typeof n!="string"||n==="")&&(n="utf8"),!b.isEncoding(n))throw new TypeError("Unknown encoding: "+n);let l=z(L,n)|0,_=c(l),N=_.write(L,n);return N!==l&&(_=_.slice(0,N)),_}function V(L){let n=L.length<0?0:X(L.length)|0,l=c(n);for(let _=0;_<n;_+=1)l[_]=L[_]&255;return l}function x(L){if(Je(L,Uint8Array)){let n=new Uint8Array(L);return k(n.buffer,n.byteOffset,n.byteLength)}return V(L)}function k(L,n,l){if(n<0||L.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<n+(l||0))throw new RangeError('"length" is outside of buffer bounds');let _;return n===void 0&&l===void 0?_=new Uint8Array(L):l===void 0?_=new Uint8Array(L,n):_=new Uint8Array(L,n,l),Object.setPrototypeOf(_,b.prototype),_}function g(L){if(b.isBuffer(L)){let n=X(L.length)|0,l=c(n);return l.length===0||L.copy(l,0,0,n),l}if(L.length!==void 0)return typeof L.length!="number"||Qe(L.length)?c(0):V(L);if(L.type==="Buffer"&&Array.isArray(L.data))return V(L.data)}function X(L){if(L>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return L|0}function E(L){return+L!=L&&(L=0),b.alloc(+L)}b.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==b.prototype},b.compare=function(L,n){if(Je(L,Uint8Array)&&(L=b.from(L,L.offset,L.byteLength)),Je(n,Uint8Array)&&(n=b.from(n,n.offset,n.byteLength)),!b.isBuffer(L)||!b.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===n)return 0;let l=L.length,_=n.length;for(let N=0,M=Math.min(l,_);N<M;++N)if(L[N]!==n[N]){l=L[N],_=n[N];break}return l<_?-1:_<l?1:0},b.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(L,n){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return b.alloc(0);let l;if(n===void 0)for(n=0,l=0;l<L.length;++l)n+=L[l].length;let _=b.allocUnsafe(n),N=0;for(l=0;l<L.length;++l){let M=L[l];if(Je(M,Uint8Array))N+M.length>_.length?(b.isBuffer(M)||(M=b.from(M)),M.copy(_,N)):Uint8Array.prototype.set.call(_,M,N);else if(b.isBuffer(M))M.copy(_,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=M.length}return _};function z(L,n){if(b.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||Je(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);let l=L.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&l===0)return 0;let N=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return We(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return De(L).length;default:if(N)return _?-1:We(L).length;n=(""+n).toLowerCase(),N=!0}}b.byteLength=z;function K(L,n,l){let _=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,n>>>=0,l<=n))return"";for(L||(L="utf8");;)switch(L){case"hex":return p(this,n,l);case"utf8":case"utf-8":return i(this,n,l);case"ascii":return h(this,n,l);case"latin1":case"binary":return v(this,n,l);case"base64":return o(this,n,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,n,l);default:if(_)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),_=!0}}b.prototype._isBuffer=!0;function Y(L,n,l){let _=L[n];L[n]=L[l],L[l]=_}b.prototype.swap16=function(){let L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<L;n+=2)Y(this,n,n+1);return this},b.prototype.swap32=function(){let L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<L;n+=4)Y(this,n,n+3),Y(this,n+1,n+2);return this},b.prototype.swap64=function(){let L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<L;n+=8)Y(this,n,n+7),Y(this,n+1,n+6),Y(this,n+2,n+5),Y(this,n+3,n+4);return this},b.prototype.toString=function(){let L=this.length;return L===0?"":arguments.length===0?i(this,0,L):K.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(L){if(!b.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:b.compare(this,L)===0},b.prototype.inspect=function(){let L="",n=r.INSPECT_MAX_BYTES;return L=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(L+=" ... "),"<Buffer "+L+">"},R&&(b.prototype[R]=b.prototype.inspect),b.prototype.compare=function(L,n,l,_,N){if(Je(L,Uint8Array)&&(L=b.from(L,L.offset,L.byteLength)),!b.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(n===void 0&&(n=0),l===void 0&&(l=L?L.length:0),_===void 0&&(_=0),N===void 0&&(N=this.length),n<0||l>L.length||_<0||N>this.length)throw new RangeError("out of range index");if(_>=N&&n>=l)return 0;if(_>=N)return-1;if(n>=l)return 1;if(n>>>=0,l>>>=0,_>>>=0,N>>>=0,this===L)return 0;let M=N-_,S=l-n,U=Math.min(M,S),P=this.slice(_,N),j=L.slice(n,l);for(let J=0;J<U;++J)if(P[J]!==j[J]){M=P[J],S=j[J];break}return M<S?-1:S<M?1:0};function C(L,n,l,_,N){if(L.length===0)return-1;if(typeof l=="string"?(_=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Qe(l)&&(l=N?0:L.length-1),l<0&&(l=L.length+l),l>=L.length){if(N)return-1;l=L.length-1}else if(l<0)if(N)l=0;else return-1;if(typeof n=="string"&&(n=b.from(n,_)),b.isBuffer(n))return n.length===0?-1:te(L,n,l,_,N);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(L,n,l):Uint8Array.prototype.lastIndexOf.call(L,n,l):te(L,[n],l,_,N);throw new TypeError("val must be string, number or Buffer")}function te(L,n,l,_,N){let M=1,S=L.length,U=n.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(L.length<2||n.length<2)return-1;M=2,S/=2,U/=2,l/=2}function P(J,ee){return M===1?J[ee]:J.readUInt16BE(ee*M)}let j;if(N){let J=-1;for(j=l;j<S;j++)if(P(L,j)===P(n,J===-1?0:j-J)){if(J===-1&&(J=j),j-J+1===U)return J*M}else J!==-1&&(j-=j-J),J=-1}else for(l+U>S&&(l=S-U),j=l;j>=0;j--){let J=!0;for(let ee=0;ee<U;ee++)if(P(L,j+ee)!==P(n,ee)){J=!1;break}if(J)return j}return-1}b.prototype.includes=function(L,n,l){return this.indexOf(L,n,l)!==-1},b.prototype.indexOf=function(L,n,l){return C(this,L,n,l,!0)},b.prototype.lastIndexOf=function(L,n,l){return C(this,L,n,l,!1)};function _e(L,n,l,_){l=Number(l)||0;let N=L.length-l;_?(_=Number(_),_>N&&(_=N)):_=N;let M=n.length;_>M/2&&(_=M/2);let S;for(S=0;S<_;++S){let U=parseInt(n.substr(S*2,2),16);if(Qe(U))return S;L[l+S]=U}return S}function $e(L,n,l,_){return Oe(We(n,L.length-l),L,l,_)}function me(L,n,l,_){return Oe(ge(n),L,l,_)}function Me(L,n,l,_){return Oe(De(n),L,l,_)}function e(L,n,l,_){return Oe(Ve(n,L.length-l),L,l,_)}b.prototype.write=function(L,n,l,_){if(n===void 0)_="utf8",l=this.length,n=0;else if(l===void 0&&typeof n=="string")_=n,l=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(l)?(l=l>>>0,_===void 0&&(_="utf8")):(_=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let N=this.length-n;if((l===void 0||l>N)&&(l=N),L.length>0&&(l<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let M=!1;for(;;)switch(_){case"hex":return _e(this,L,n,l);case"utf8":case"utf-8":return $e(this,L,n,l);case"ascii":case"latin1":case"binary":return me(this,L,n,l);case"base64":return Me(this,L,n,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e(this,L,n,l);default:if(M)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),M=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function o(L,n,l){return n===0&&l===L.length?d.fromByteArray(L):d.fromByteArray(L.slice(n,l))}function i(L,n,l){l=Math.min(L.length,l);let _=[],N=n;for(;N<l;){let M=L[N],S=null,U=M>239?4:M>223?3:M>191?2:1;if(N+U<=l){let P,j,J,ee;switch(U){case 1:M<128&&(S=M);break;case 2:P=L[N+1],(P&192)===128&&(ee=(M&31)<<6|P&63,ee>127&&(S=ee));break;case 3:P=L[N+1],j=L[N+2],(P&192)===128&&(j&192)===128&&(ee=(M&15)<<12|(P&63)<<6|j&63,ee>2047&&(ee<55296||ee>57343)&&(S=ee));break;case 4:P=L[N+1],j=L[N+2],J=L[N+3],(P&192)===128&&(j&192)===128&&(J&192)===128&&(ee=(M&15)<<18|(P&63)<<12|(j&63)<<6|J&63,ee>65535&&ee<1114112&&(S=ee))}}S===null?(S=65533,U=1):S>65535&&(S-=65536,_.push(S>>>10&1023|55296),S=56320|S&1023),_.push(S),N+=U}return m(_)}var s=4096;function m(L){let n=L.length;if(n<=s)return String.fromCharCode.apply(String,L);let l="",_=0;for(;_<n;)l+=String.fromCharCode.apply(String,L.slice(_,_+=s));return l}function h(L,n,l){let _="";l=Math.min(L.length,l);for(let N=n;N<l;++N)_+=String.fromCharCode(L[N]&127);return _}function v(L,n,l){let _="";l=Math.min(L.length,l);for(let N=n;N<l;++N)_+=String.fromCharCode(L[N]);return _}function p(L,n,l){let _=L.length;(!n||n<0)&&(n=0),(!l||l<0||l>_)&&(l=_);let N="";for(let M=n;M<l;++M)N+=Pe[L[M]];return N}function a(L,n,l){let _=L.slice(n,l),N="";for(let M=0;M<_.length-1;M+=2)N+=String.fromCharCode(_[M]+_[M+1]*256);return N}b.prototype.slice=function(L,n){let l=this.length;L=~~L,n=n===void 0?l:~~n,L<0?(L+=l,L<0&&(L=0)):L>l&&(L=l),n<0?(n+=l,n<0&&(n=0)):n>l&&(n=l),n<L&&(n=L);let _=this.subarray(L,n);return Object.setPrototypeOf(_,b.prototype),_};function t(L,n,l){if(L%1!==0||L<0)throw new RangeError("offset is not uint");if(L+n>l)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(L,n,l){L=L>>>0,n=n>>>0,l||t(L,n,this.length);let _=this[L],N=1,M=0;for(;++M<n&&(N*=256);)_+=this[L+M]*N;return _},b.prototype.readUintBE=b.prototype.readUIntBE=function(L,n,l){L=L>>>0,n=n>>>0,l||t(L,n,this.length);let _=this[L+--n],N=1;for(;n>0&&(N*=256);)_+=this[L+--n]*N;return _},b.prototype.readUint8=b.prototype.readUInt8=function(L,n){return L=L>>>0,n||t(L,1,this.length),this[L]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(L,n){return L=L>>>0,n||t(L,2,this.length),this[L]|this[L+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(L,n){return L=L>>>0,n||t(L,2,this.length),this[L]<<8|this[L+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(L,n){return L=L>>>0,n||t(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(L,n){return L=L>>>0,n||t(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},b.prototype.readBigUInt64LE=Fe(function(L){L=L>>>0,ze(L,"offset");let n=this[L],l=this[L+7];(n===void 0||l===void 0)&&D(L,this.length-8);let _=n+this[++L]*256+this[++L]*65536+this[++L]*16777216,N=this[++L]+this[++L]*256+this[++L]*65536+l*16777216;return BigInt(_)+(BigInt(N)<<BigInt(32))}),b.prototype.readBigUInt64BE=Fe(function(L){L=L>>>0,ze(L,"offset");let n=this[L],l=this[L+7];(n===void 0||l===void 0)&&D(L,this.length-8);let _=n*16777216+this[++L]*65536+this[++L]*256+this[++L],N=this[++L]*16777216+this[++L]*65536+this[++L]*256+l;return(BigInt(_)<<BigInt(32))+BigInt(N)}),b.prototype.readIntLE=function(L,n,l){L=L>>>0,n=n>>>0,l||t(L,n,this.length);let _=this[L],N=1,M=0;for(;++M<n&&(N*=256);)_+=this[L+M]*N;return N*=128,_>=N&&(_-=Math.pow(2,8*n)),_},b.prototype.readIntBE=function(L,n,l){L=L>>>0,n=n>>>0,l||t(L,n,this.length);let _=n,N=1,M=this[L+--_];for(;_>0&&(N*=256);)M+=this[L+--_]*N;return N*=128,M>=N&&(M-=Math.pow(2,8*n)),M},b.prototype.readInt8=function(L,n){return L=L>>>0,n||t(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},b.prototype.readInt16LE=function(L,n){L=L>>>0,n||t(L,2,this.length);let l=this[L]|this[L+1]<<8;return l&32768?l|4294901760:l},b.prototype.readInt16BE=function(L,n){L=L>>>0,n||t(L,2,this.length);let l=this[L+1]|this[L]<<8;return l&32768?l|4294901760:l},b.prototype.readInt32LE=function(L,n){return L=L>>>0,n||t(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},b.prototype.readInt32BE=function(L,n){return L=L>>>0,n||t(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},b.prototype.readBigInt64LE=Fe(function(L){L=L>>>0,ze(L,"offset");let n=this[L],l=this[L+7];(n===void 0||l===void 0)&&D(L,this.length-8);let _=this[L+4]+this[L+5]*256+this[L+6]*65536+(l<<24);return(BigInt(_)<<BigInt(32))+BigInt(n+this[++L]*256+this[++L]*65536+this[++L]*16777216)}),b.prototype.readBigInt64BE=Fe(function(L){L=L>>>0,ze(L,"offset");let n=this[L],l=this[L+7];(n===void 0||l===void 0)&&D(L,this.length-8);let _=(n<<24)+this[++L]*65536+this[++L]*256+this[++L];return(BigInt(_)<<BigInt(32))+BigInt(this[++L]*16777216+this[++L]*65536+this[++L]*256+l)}),b.prototype.readFloatLE=function(L,n){return L=L>>>0,n||t(L,4,this.length),u.read(this,L,!0,23,4)},b.prototype.readFloatBE=function(L,n){return L=L>>>0,n||t(L,4,this.length),u.read(this,L,!1,23,4)},b.prototype.readDoubleLE=function(L,n){return L=L>>>0,n||t(L,8,this.length),u.read(this,L,!0,52,8)},b.prototype.readDoubleBE=function(L,n){return L=L>>>0,n||t(L,8,this.length),u.read(this,L,!1,52,8)};function F(L,n,l,_,N,M){if(!b.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>N||n<M)throw new RangeError('"value" argument is out of bounds');if(l+_>L.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(L,n,l,_){if(L=+L,n=n>>>0,l=l>>>0,!_){let S=Math.pow(2,8*l)-1;F(this,L,n,l,S,0)}let N=1,M=0;for(this[n]=L&255;++M<l&&(N*=256);)this[n+M]=L/N&255;return n+l},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(L,n,l,_){if(L=+L,n=n>>>0,l=l>>>0,!_){let S=Math.pow(2,8*l)-1;F(this,L,n,l,S,0)}let N=l-1,M=1;for(this[n+N]=L&255;--N>=0&&(M*=256);)this[n+N]=L/M&255;return n+l},b.prototype.writeUint8=b.prototype.writeUInt8=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,1,255,0),this[n]=L&255,n+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,2,65535,0),this[n]=L&255,this[n+1]=L>>>8,n+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,2,65535,0),this[n]=L>>>8,this[n+1]=L&255,n+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,4,4294967295,0),this[n+3]=L>>>24,this[n+2]=L>>>16,this[n+1]=L>>>8,this[n]=L&255,n+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,4,4294967295,0),this[n]=L>>>24,this[n+1]=L>>>16,this[n+2]=L>>>8,this[n+3]=L&255,n+4};function w(L,n,l,_,N){xe(n,_,N,L,l,7);let M=Number(n&BigInt(4294967295));L[l++]=M,M=M>>8,L[l++]=M,M=M>>8,L[l++]=M,M=M>>8,L[l++]=M;let S=Number(n>>BigInt(32)&BigInt(4294967295));return L[l++]=S,S=S>>8,L[l++]=S,S=S>>8,L[l++]=S,S=S>>8,L[l++]=S,l}function I(L,n,l,_,N){xe(n,_,N,L,l,7);let M=Number(n&BigInt(4294967295));L[l+7]=M,M=M>>8,L[l+6]=M,M=M>>8,L[l+5]=M,M=M>>8,L[l+4]=M;let S=Number(n>>BigInt(32)&BigInt(4294967295));return L[l+3]=S,S=S>>8,L[l+2]=S,S=S>>8,L[l+1]=S,S=S>>8,L[l]=S,l+8}b.prototype.writeBigUInt64LE=Fe(function(L,n=0){return w(this,L,n,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Fe(function(L,n=0){return I(this,L,n,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(L,n,l,_){if(L=+L,n=n>>>0,!_){let U=Math.pow(2,8*l-1);F(this,L,n,l,U-1,-U)}let N=0,M=1,S=0;for(this[n]=L&255;++N<l&&(M*=256);)L<0&&S===0&&this[n+N-1]!==0&&(S=1),this[n+N]=(L/M>>0)-S&255;return n+l},b.prototype.writeIntBE=function(L,n,l,_){if(L=+L,n=n>>>0,!_){let U=Math.pow(2,8*l-1);F(this,L,n,l,U-1,-U)}let N=l-1,M=1,S=0;for(this[n+N]=L&255;--N>=0&&(M*=256);)L<0&&S===0&&this[n+N+1]!==0&&(S=1),this[n+N]=(L/M>>0)-S&255;return n+l},b.prototype.writeInt8=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,1,127,-128),L<0&&(L=255+L+1),this[n]=L&255,n+1},b.prototype.writeInt16LE=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,2,32767,-32768),this[n]=L&255,this[n+1]=L>>>8,n+2},b.prototype.writeInt16BE=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,2,32767,-32768),this[n]=L>>>8,this[n+1]=L&255,n+2},b.prototype.writeInt32LE=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,4,2147483647,-2147483648),this[n]=L&255,this[n+1]=L>>>8,this[n+2]=L>>>16,this[n+3]=L>>>24,n+4},b.prototype.writeInt32BE=function(L,n,l){return L=+L,n=n>>>0,l||F(this,L,n,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[n]=L>>>24,this[n+1]=L>>>16,this[n+2]=L>>>8,this[n+3]=L&255,n+4},b.prototype.writeBigInt64LE=Fe(function(L,n=0){return w(this,L,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Fe(function(L,n=0){return I(this,L,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(L,n,l,_,N,M){if(l+_>L.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function qe(L,n,l,_,N){return n=+n,l=l>>>0,N||he(L,n,l,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),u.write(L,n,l,_,23,4),l+4}b.prototype.writeFloatLE=function(L,n,l){return qe(this,L,n,!0,l)},b.prototype.writeFloatBE=function(L,n,l){return qe(this,L,n,!1,l)};function Ze(L,n,l,_,N){return n=+n,l=l>>>0,N||he(L,n,l,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),u.write(L,n,l,_,52,8),l+8}b.prototype.writeDoubleLE=function(L,n,l){return Ze(this,L,n,!0,l)},b.prototype.writeDoubleBE=function(L,n,l){return Ze(this,L,n,!1,l)},b.prototype.copy=function(L,n,l,_){if(!b.isBuffer(L))throw new TypeError("argument should be a Buffer");if(l||(l=0),!_&&_!==0&&(_=this.length),n>=L.length&&(n=L.length),n||(n=0),_>0&&_<l&&(_=l),_===l||L.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),L.length-n<_-l&&(_=L.length-n+l);let N=_-l;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,l,_):Uint8Array.prototype.set.call(L,this.subarray(l,_),n),N},b.prototype.fill=function(L,n,l,_){if(typeof L=="string"){if(typeof n=="string"?(_=n,n=0,l=this.length):typeof l=="string"&&(_=l,l=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!b.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(L.length===1){let M=L.charCodeAt(0);(_==="utf8"&&M<128||_==="latin1")&&(L=M)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(n<0||this.length<n||this.length<l)throw new RangeError("Out of range index");if(l<=n)return this;n=n>>>0,l=l===void 0?this.length:l>>>0,L||(L=0);let N;if(typeof L=="number")for(N=n;N<l;++N)this[N]=L;else{let M=b.isBuffer(L)?L:b.from(L,_),S=M.length;if(S===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(N=0;N<l-n;++N)this[N+n]=M[N%S]}return this};var ue={};function ie(L,n,l){ue[L]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${L}]`,this.stack,delete this.name}get code(){return L}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return`${this.name} [${L}]: ${this.message}`}}}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(L){return L?`${L} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(L,n){return`The "${L}" argument must be of type number. Received type ${typeof n}`},TypeError),ie("ERR_OUT_OF_RANGE",function(L,n,l){let _=`The value of "${L}" is out of range.`,N=l;return Number.isInteger(l)&&Math.abs(l)>4294967296?N=fe(String(l)):typeof l=="bigint"&&(N=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(N=fe(N)),N+="n"),_+=` It must be ${n}. Received ${N}`,_},RangeError);function fe(L){let n="",l=L.length,_=L[0]==="-"?1:0;for(;l>=_+4;l-=3)n=`_${L.slice(l-3,l)}${n}`;return`${L.slice(0,l)}${n}`}function Ee(L,n,l){ze(n,"offset"),(L[n]===void 0||L[n+l]===void 0)&&D(n,L.length-(l+1))}function xe(L,n,l,_,N,M){if(L>l||L<n){let S=typeof n=="bigint"?"n":"",U;throw M>3?n===0||n===BigInt(0)?U=`>= 0${S} and < 2${S} ** ${(M+1)*8}${S}`:U=`>= -(2${S} ** ${(M+1)*8-1}${S}) and < 2 ** ${(M+1)*8-1}${S}`:U=`>= ${n}${S} and <= ${l}${S}`,new ue.ERR_OUT_OF_RANGE("value",U,L)}Ee(_,N,M)}function ze(L,n){if(typeof L!="number")throw new ue.ERR_INVALID_ARG_TYPE(n,"number",L)}function D(L,n,l){throw Math.floor(L)!==L?(ze(L,l),new ue.ERR_OUT_OF_RANGE(l||"offset","an integer",L)):n<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE(l||"offset",`>= ${l?1:0} and <= ${n}`,L)}var O=/[^+/0-9A-Za-z-_]/g;function ae(L){if(L=L.split("=")[0],L=L.trim().replace(O,""),L.length<2)return"";for(;L.length%4!==0;)L=L+"=";return L}function We(L,n){n=n||1/0;let l,_=L.length,N=null,M=[];for(let S=0;S<_;++S){if(l=L.charCodeAt(S),l>55295&&l<57344){if(!N){if(l>56319){(n-=3)>-1&&M.push(239,191,189);continue}else if(S+1===_){(n-=3)>-1&&M.push(239,191,189);continue}N=l;continue}if(l<56320){(n-=3)>-1&&M.push(239,191,189),N=l;continue}l=(N-55296<<10|l-56320)+65536}else N&&(n-=3)>-1&&M.push(239,191,189);if(N=null,l<128){if((n-=1)<0)break;M.push(l)}else if(l<2048){if((n-=2)<0)break;M.push(l>>6|192,l&63|128)}else if(l<65536){if((n-=3)<0)break;M.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((n-=4)<0)break;M.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return M}function ge(L){let n=[];for(let l=0;l<L.length;++l)n.push(L.charCodeAt(l)&255);return n}function Ve(L,n){let l,_,N,M=[];for(let S=0;S<L.length&&!((n-=2)<0);++S)l=L.charCodeAt(S),_=l>>8,N=l%256,M.push(N),M.push(_);return M}function De(L){return d.toByteArray(ae(L))}function Oe(L,n,l,_){let N;for(N=0;N<_&&!(N+l>=n.length||N>=L.length);++N)n[N+l]=L[N];return N}function Je(L,n){return L instanceof n||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===n.name}function Qe(L){return L!==L}var Pe=function(){let L="0123456789abcdef",n=new Array(256);for(let l=0;l<16;++l){let _=l*16;for(let N=0;N<16;++N)n[_+N]=L[l]+L[N]}return n}();function Fe(L){return typeof BigInt>"u"?pa:L}function pa(){throw new Error("BigInt not supported")}}),fa=je((r,d)=>{var u=Va(),R=u.Buffer;function f(c,b){for(var W in c)b[W]=c[W]}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?d.exports=u:(f(u,r),r.Buffer=T);function T(c,b,W){return R(c,b,W)}T.prototype=Object.create(R.prototype),f(R,T),T.from=function(c,b,W){if(typeof c=="number")throw new TypeError("Argument must not be a number");return R(c,b,W)},T.alloc=function(c,b,W){if(typeof c!="number")throw new TypeError("Argument must be a number");var y=R(c);return b!==void 0?typeof W=="string"?y.fill(b,W):y.fill(b):y.fill(0),y},T.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return R(c)},T.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(c)}}),Kn=je((r,d)=>{var u=65536,R=4294967295;function f(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var T=fa().Buffer,c=global.crypto||global.msCrypto;c&&c.getRandomValues?d.exports=b:d.exports=f;function b(W,y){if(W>R)throw new RangeError("requested too many random bytes");var q=T.allocUnsafe(W);if(W>0)if(W>u)for(var Z=0;Z<W;Z+=u)c.getRandomValues(q.slice(Z,Z+u));else c.getRandomValues(q);return typeof y=="function"?process.nextTick(function(){y(null,q)}):q}}),ta=je((r,d)=>{typeof Object.create=="function"?d.exports=function(u,R){R&&(u.super_=R,u.prototype=Object.create(R.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:d.exports=function(u,R){if(R){u.super_=R;var f=function(){};f.prototype=R.prototype,u.prototype=new f,u.prototype.constructor=u}}}),Tn=je((r,d)=>{var u=typeof Reflect=="object"?Reflect:null,R=u&&typeof u.apply=="function"?u.apply:function(C,te,_e){return Function.prototype.apply.call(C,te,_e)},f;u&&typeof u.ownKeys=="function"?f=u.ownKeys:Object.getOwnPropertySymbols?f=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:f=function(C){return Object.getOwnPropertyNames(C)};function T(C){console&&console.warn&&console.warn(C)}var c=Number.isNaN||function(C){return C!==C};function b(){b.init.call(this)}d.exports=b,d.exports.once=z,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var W=10;function y(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return W},set:function(C){if(typeof C!="number"||C<0||c(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");W=C}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||c(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function q(C){return C._maxListeners===void 0?b.defaultMaxListeners:C._maxListeners}b.prototype.getMaxListeners=function(){return q(this)},b.prototype.emit=function(C){for(var te=[],_e=1;_e<arguments.length;_e++)te.push(arguments[_e]);var $e=C==="error",me=this._events;if(me!==void 0)$e=$e&&me.error===void 0;else if(!$e)return!1;if($e){var Me;if(te.length>0&&(Me=te[0]),Me instanceof Error)throw Me;var e=new Error("Unhandled error."+(Me?" ("+Me.message+")":""));throw e.context=Me,e}var o=me[C];if(o===void 0)return!1;if(typeof o=="function")R(o,this,te);else for(var i=o.length,s=g(o,i),_e=0;_e<i;++_e)R(s[_e],this,te);return!0};function Z(C,te,_e,$e){var me,Me,e;if(y(_e),Me=C._events,Me===void 0?(Me=C._events=Object.create(null),C._eventsCount=0):(Me.newListener!==void 0&&(C.emit("newListener",te,_e.listener?_e.listener:_e),Me=C._events),e=Me[te]),e===void 0)e=Me[te]=_e,++C._eventsCount;else if(typeof e=="function"?e=Me[te]=$e?[_e,e]:[e,_e]:$e?e.unshift(_e):e.push(_e),me=q(C),me>0&&e.length>me&&!e.warned){e.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+e.length+" "+String(te)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=C,o.type=te,o.count=e.length,T(o)}return C}b.prototype.addListener=function(C,te){return Z(this,C,te,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(C,te){return Z(this,C,te,!0)};function $(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(C,te,_e){var $e={fired:!1,wrapFn:void 0,target:C,type:te,listener:_e},me=$.bind($e);return me.listener=_e,$e.wrapFn=me,me}b.prototype.once=function(C,te){return y(te),this.on(C,V(this,C,te)),this},b.prototype.prependOnceListener=function(C,te){return y(te),this.prependListener(C,V(this,C,te)),this},b.prototype.removeListener=function(C,te){var _e,$e,me,Me,e;if(y(te),$e=this._events,$e===void 0)return this;if(_e=$e[C],_e===void 0)return this;if(_e===te||_e.listener===te)--this._eventsCount===0?this._events=Object.create(null):(delete $e[C],$e.removeListener&&this.emit("removeListener",C,_e.listener||te));else if(typeof _e!="function"){for(me=-1,Me=_e.length-1;Me>=0;Me--)if(_e[Me]===te||_e[Me].listener===te){e=_e[Me].listener,me=Me;break}if(me<0)return this;me===0?_e.shift():X(_e,me),_e.length===1&&($e[C]=_e[0]),$e.removeListener!==void 0&&this.emit("removeListener",C,e||te)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(C){var te,_e,$e;if(_e=this._events,_e===void 0)return this;if(_e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_e[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete _e[C]),this;if(arguments.length===0){var me=Object.keys(_e),Me;for($e=0;$e<me.length;++$e)Me=me[$e],Me!=="removeListener"&&this.removeAllListeners(Me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(te=_e[C],typeof te=="function")this.removeListener(C,te);else if(te!==void 0)for($e=te.length-1;$e>=0;$e--)this.removeListener(C,te[$e]);return this};function x(C,te,_e){var $e=C._events;if($e===void 0)return[];var me=$e[te];return me===void 0?[]:typeof me=="function"?_e?[me.listener||me]:[me]:_e?E(me):g(me,me.length)}b.prototype.listeners=function(C){return x(this,C,!0)},b.prototype.rawListeners=function(C){return x(this,C,!1)},b.listenerCount=function(C,te){return typeof C.listenerCount=="function"?C.listenerCount(te):k.call(C,te)},b.prototype.listenerCount=k;function k(C){var te=this._events;if(te!==void 0){var _e=te[C];if(typeof _e=="function")return 1;if(_e!==void 0)return _e.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]};function g(C,te){for(var _e=new Array(te),$e=0;$e<te;++$e)_e[$e]=C[$e];return _e}function X(C,te){for(;te+1<C.length;te++)C[te]=C[te+1];C.pop()}function E(C){for(var te=new Array(C.length),_e=0;_e<te.length;++_e)te[_e]=C[_e].listener||C[_e];return te}function z(C,te){return new Promise(function(_e,$e){function me(e){C.removeListener(te,Me),$e(e)}function Me(){typeof C.removeListener=="function"&&C.removeListener("error",me),_e([].slice.call(arguments))}Y(C,te,Me,{once:!0}),te!=="error"&&K(C,me,{once:!0})})}function K(C,te,_e){typeof C.on=="function"&&Y(C,"error",te,_e)}function Y(C,te,_e,$e){if(typeof C.on=="function")$e.once?C.once(te,_e):C.on(te,_e);else if(typeof C.addEventListener=="function")C.addEventListener(te,function me(Me){$e.once&&C.removeEventListener(te,me),_e(Me)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}}),Lr=je((r,d)=>{d.exports=Tn().EventEmitter}),Po=je(()=>{}),Hi=je((r,d)=>{function u(x,k){var g=Object.keys(x);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(x);k&&(X=X.filter(function(E){return Object.getOwnPropertyDescriptor(x,E).enumerable})),g.push.apply(g,X)}return g}function R(x){for(var k=1;k<arguments.length;k++){var g=arguments[k]!=null?arguments[k]:{};k%2?u(Object(g),!0).forEach(function(X){f(x,X,g[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(g)):u(Object(g)).forEach(function(X){Object.defineProperty(x,X,Object.getOwnPropertyDescriptor(g,X))})}return x}function f(x,k,g){return k in x?Object.defineProperty(x,k,{value:g,enumerable:!0,configurable:!0,writable:!0}):x[k]=g,x}function T(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function c(x,k){for(var g=0;g<k.length;g++){var X=k[g];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}function b(x,k,g){return k&&c(x.prototype,k),g&&c(x,g),x}var W=Va(),y=W.Buffer,q=Po(),Z=q.inspect,$=Z&&Z.custom||"inspect";function V(x,k,g){y.prototype.copy.call(x,k,g)}d.exports=function(){function x(){T(this,x),this.head=null,this.tail=null,this.length=0}return b(x,[{key:"push",value:function(k){var g={data:k,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(k){var g={data:k,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var g=this.head,X=""+g.data;g=g.next;)X+=k+g.data;return X}},{key:"concat",value:function(k){if(this.length===0)return y.alloc(0);for(var g=y.allocUnsafe(k>>>0),X=this.head,E=0;X;)V(X.data,g,E),E+=X.data.length,X=X.next;return g}},{key:"consume",value:function(k,g){var X;return k<this.head.data.length?(X=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?X=this.shift():X=g?this._getString(k):this._getBuffer(k),X}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var g=this.head,X=1,E=g.data;for(k-=E.length;g=g.next;){var z=g.data,K=k>z.length?z.length:k;if(K===z.length?E+=z:E+=z.slice(0,k),k-=K,k===0){K===z.length?(++X,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=z.slice(K));break}++X}return this.length-=X,E}},{key:"_getBuffer",value:function(k){var g=y.allocUnsafe(k),X=this.head,E=1;for(X.data.copy(g),k-=X.data.length;X=X.next;){var z=X.data,K=k>z.length?z.length:k;if(z.copy(g,g.length-k,0,K),k-=K,k===0){K===z.length?(++E,X.next?this.head=X.next:this.head=this.tail=null):(this.head=X,X.data=z.slice(K));break}++E}return this.length-=E,g}},{key:$,value:function(k,g){return Z(this,R({},g,{depth:0,customInspect:!1}))}}]),x}()}),Wr=je((r,d)=>{function u(W,y){var q=this,Z=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return Z||$?(y?y(W):W&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(c,this,W)):process.nextTick(c,this,W)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(W||null,function(V){!y&&V?q._writableState?q._writableState.errorEmitted?process.nextTick(f,q):(q._writableState.errorEmitted=!0,process.nextTick(R,q,V)):process.nextTick(R,q,V):y?(process.nextTick(f,q),y(V)):process.nextTick(f,q)}),this)}function R(W,y){c(W,y),f(W)}function f(W){W._writableState&&!W._writableState.emitClose||W._readableState&&!W._readableState.emitClose||W.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(W,y){W.emit("error",y)}function b(W,y){var{_readableState:q,_writableState:Z}=W;q&&q.autoDestroy||Z&&Z.autoDestroy?W.destroy(y):W.emit("error",y)}d.exports={destroy:u,undestroy:T,errorOrDestroy:b}}),In=je((r,d)=>{function u(y,q){y.prototype=Object.create(q.prototype),y.prototype.constructor=y,y.__proto__=q}var R={};function f(y,q,Z){Z||(Z=Error);function $(x,k,g){return typeof q=="string"?q:q(x,k,g)}var V=function(x){u(k,x);function k(g,X,E){return x.call(this,$(g,X,E))||this}return k}(Z);V.prototype.name=Z.name,V.prototype.code=y,R[y]=V}function T(y,q){if(Array.isArray(y)){var Z=y.length;return y=y.map(function($){return String($)}),Z>2?"one of ".concat(q," ").concat(y.slice(0,Z-1).join(", "),", or ")+y[Z-1]:Z===2?"one of ".concat(q," ").concat(y[0]," or ").concat(y[1]):"of ".concat(q," ").concat(y[0])}else return"of ".concat(q," ").concat(String(y))}function c(y,q,Z){return y.substr(!Z||Z<0?0:+Z,q.length)===q}function b(y,q,Z){return(Z===void 0||Z>y.length)&&(Z=y.length),y.substring(Z-q.length,Z)===q}function W(y,q,Z){return typeof Z!="number"&&(Z=0),Z+q.length>y.length?!1:y.indexOf(q,Z)!==-1}f("ERR_INVALID_OPT_VALUE",function(y,q){return'The value "'+q+'" is invalid for option "'+y+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(y,q,Z){var $;typeof q=="string"&&c(q,"not ")?($="must not be",q=q.replace(/^not /,"")):$="must be";var V;if(b(y," argument"))V="The ".concat(y," ").concat($," ").concat(T(q,"type"));else{var x=W(y,".")?"property":"argument";V='The "'.concat(y,'" ').concat(x," ").concat($," ").concat(T(q,"type"))}return V+=". Received type ".concat(typeof Z),V},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),d.exports.codes=R}),wr=je((r,d)=>{var u=In().codes.ERR_INVALID_OPT_VALUE;function R(T,c,b){return T.highWaterMark!=null?T.highWaterMark:c?T[b]:null}function f(T,c,b,W){var y=R(c,W,b);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var q=W?b:"highWaterMark";throw new u(q,y)}return Math.floor(y)}return T.objectMode?16:16384}d.exports={getHighWaterMark:f}}),Sr=je((r,d)=>{d.exports=u;function u(f,T){if(R("noDeprecation"))return f;var c=!1;function b(){if(!c){if(R("throwDeprecation"))throw new Error(T);R("traceDeprecation")?console.trace(T):console.warn(T),c=!0}return f.apply(this,arguments)}return b}function R(f){try{if(!global.localStorage)return!1}catch{return!1}var T=global.localStorage[f];return T==null?!1:String(T).toLowerCase()==="true"}}),gr=je((r,d)=>{d.exports=me;function u(ue){var ie=this;this.next=null,this.entry=null,this.finish=function(){Ze(ie,ue)}}var R;me.WritableState=_e;var f={deprecate:Sr()},T=Lr(),c=Va().Buffer,b=global.Uint8Array||function(){};function W(ue){return c.from(ue)}function y(ue){return c.isBuffer(ue)||ue instanceof b}var q=Wr(),Z=wr(),$=Z.getHighWaterMark,V=In().codes,x=V.ERR_INVALID_ARG_TYPE,k=V.ERR_METHOD_NOT_IMPLEMENTED,g=V.ERR_MULTIPLE_CALLBACK,X=V.ERR_STREAM_CANNOT_PIPE,E=V.ERR_STREAM_DESTROYED,z=V.ERR_STREAM_NULL_VALUES,K=V.ERR_STREAM_WRITE_AFTER_END,Y=V.ERR_UNKNOWN_ENCODING,C=q.errorOrDestroy;ta()(me,T);function te(){}function _e(ue,ie,fe){R=R||Gn(),ue=ue||{},typeof fe!="boolean"&&(fe=ie instanceof R),this.objectMode=!!ue.objectMode,fe&&(this.objectMode=this.objectMode||!!ue.writableObjectMode),this.highWaterMark=$(this,ue,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ee=ue.decodeStrings===!1;this.decodeStrings=!Ee,this.defaultEncoding=ue.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xe){v(ie,xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ue.emitClose!==!1,this.autoDestroy=!!ue.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}_e.prototype.getBuffer=function(){for(var ue=this.bufferedRequest,ie=[];ue;)ie.push(ue),ue=ue.next;return ie},function(){try{Object.defineProperty(_e.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $e;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($e=Function.prototype[Symbol.hasInstance],Object.defineProperty(me,Symbol.hasInstance,{value:function(ue){return $e.call(this,ue)?!0:this!==me?!1:ue&&ue._writableState instanceof _e}})):$e=function(ue){return ue instanceof this};function me(ue){R=R||Gn();var ie=this instanceof R;if(!ie&&!$e.call(me,this))return new me(ue);this._writableState=new _e(ue,this,ie),this.writable=!0,ue&&(typeof ue.write=="function"&&(this._write=ue.write),typeof ue.writev=="function"&&(this._writev=ue.writev),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.final=="function"&&(this._final=ue.final)),T.call(this)}me.prototype.pipe=function(){C(this,new X)};function Me(ue,ie){var fe=new K;C(ue,fe),process.nextTick(ie,fe)}function e(ue,ie,fe,Ee){var xe;return fe===null?xe=new z:typeof fe!="string"&&!ie.objectMode&&(xe=new x("chunk",["string","Buffer"],fe)),xe?(C(ue,xe),process.nextTick(Ee,xe),!1):!0}me.prototype.write=function(ue,ie,fe){var Ee=this._writableState,xe=!1,ze=!Ee.objectMode&&y(ue);return ze&&!c.isBuffer(ue)&&(ue=W(ue)),typeof ie=="function"&&(fe=ie,ie=null),ze?ie="buffer":ie||(ie=Ee.defaultEncoding),typeof fe!="function"&&(fe=te),Ee.ending?Me(this,fe):(ze||e(this,Ee,ue,fe))&&(Ee.pendingcb++,xe=i(this,Ee,ze,ue,ie,fe)),xe},me.prototype.cork=function(){this._writableState.corked++},me.prototype.uncork=function(){var ue=this._writableState;ue.corked&&(ue.corked--,!ue.writing&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&t(this,ue))},me.prototype.setDefaultEncoding=function(ue){if(typeof ue=="string"&&(ue=ue.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ue+"").toLowerCase())>-1))throw new Y(ue);return this._writableState.defaultEncoding=ue,this},Object.defineProperty(me.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function o(ue,ie,fe){return!ue.objectMode&&ue.decodeStrings!==!1&&typeof ie=="string"&&(ie=c.from(ie,fe)),ie}Object.defineProperty(me.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function i(ue,ie,fe,Ee,xe,ze){if(!fe){var D=o(ie,Ee,xe);Ee!==D&&(fe=!0,xe="buffer",Ee=D)}var O=ie.objectMode?1:Ee.length;ie.length+=O;var ae=ie.length<ie.highWaterMark;if(ae||(ie.needDrain=!0),ie.writing||ie.corked){var We=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:Ee,encoding:xe,isBuf:fe,callback:ze,next:null},We?We.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else s(ue,ie,!1,O,Ee,xe,ze);return ae}function s(ue,ie,fe,Ee,xe,ze,D){ie.writelen=Ee,ie.writecb=D,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new E("write")):fe?ue._writev(xe,ie.onwrite):ue._write(xe,ze,ie.onwrite),ie.sync=!1}function m(ue,ie,fe,Ee,xe){--ie.pendingcb,fe?(process.nextTick(xe,Ee),process.nextTick(he,ue,ie),ue._writableState.errorEmitted=!0,C(ue,Ee)):(xe(Ee),ue._writableState.errorEmitted=!0,C(ue,Ee),he(ue,ie))}function h(ue){ue.writing=!1,ue.writecb=null,ue.length-=ue.writelen,ue.writelen=0}function v(ue,ie){var fe=ue._writableState,Ee=fe.sync,xe=fe.writecb;if(typeof xe!="function")throw new g;if(h(fe),ie)m(ue,fe,Ee,ie,xe);else{var ze=F(fe)||ue.destroyed;!ze&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&t(ue,fe),Ee?process.nextTick(p,ue,fe,ze,xe):p(ue,fe,ze,xe)}}function p(ue,ie,fe,Ee){fe||a(ue,ie),ie.pendingcb--,Ee(),he(ue,ie)}function a(ue,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,ue.emit("drain"))}function t(ue,ie){ie.bufferProcessing=!0;var fe=ie.bufferedRequest;if(ue._writev&&fe&&fe.next){var Ee=ie.bufferedRequestCount,xe=new Array(Ee),ze=ie.corkedRequestsFree;ze.entry=fe;for(var D=0,O=!0;fe;)xe[D]=fe,fe.isBuf||(O=!1),fe=fe.next,D+=1;xe.allBuffers=O,s(ue,ie,!0,ie.length,xe,"",ze.finish),ie.pendingcb++,ie.lastBufferedRequest=null,ze.next?(ie.corkedRequestsFree=ze.next,ze.next=null):ie.corkedRequestsFree=new u(ie),ie.bufferedRequestCount=0}else{for(;fe;){var{chunk:ae,encoding:We,callback:ge}=fe,Ve=ie.objectMode?1:ae.length;if(s(ue,ie,!1,Ve,ae,We,ge),fe=fe.next,ie.bufferedRequestCount--,ie.writing)break}fe===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=fe,ie.bufferProcessing=!1}me.prototype._write=function(ue,ie,fe){fe(new k("_write()"))},me.prototype._writev=null,me.prototype.end=function(ue,ie,fe){var Ee=this._writableState;return typeof ue=="function"?(fe=ue,ue=null,ie=null):typeof ie=="function"&&(fe=ie,ie=null),ue!=null&&this.write(ue,ie),Ee.corked&&(Ee.corked=1,this.uncork()),Ee.ending||qe(this,Ee,fe),this},Object.defineProperty(me.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function F(ue){return ue.ending&&ue.length===0&&ue.bufferedRequest===null&&!ue.finished&&!ue.writing}function w(ue,ie){ue._final(function(fe){ie.pendingcb--,fe&&C(ue,fe),ie.prefinished=!0,ue.emit("prefinish"),he(ue,ie)})}function I(ue,ie){!ie.prefinished&&!ie.finalCalled&&(typeof ue._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,process.nextTick(w,ue,ie)):(ie.prefinished=!0,ue.emit("prefinish")))}function he(ue,ie){var fe=F(ie);if(fe&&(I(ue,ie),ie.pendingcb===0&&(ie.finished=!0,ue.emit("finish"),ie.autoDestroy))){var Ee=ue._readableState;(!Ee||Ee.autoDestroy&&Ee.endEmitted)&&ue.destroy()}return fe}function qe(ue,ie,fe){ie.ending=!0,he(ue,ie),fe&&(ie.finished?process.nextTick(fe):ue.once("finish",fe)),ie.ended=!0,ue.writable=!1}function Ze(ue,ie,fe){var Ee=ue.entry;for(ue.entry=null;Ee;){var xe=Ee.callback;ie.pendingcb--,xe(fe),Ee=Ee.next}ie.corkedRequestsFree.next=ue}Object.defineProperty(me.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ue){!this._writableState||(this._writableState.destroyed=ue)}}),me.prototype.destroy=q.destroy,me.prototype._undestroy=q.undestroy,me.prototype._destroy=function(ue,ie){ie(ue)}}),Gn=je((r,d)=>{var u=Object.keys||function(Z){var $=[];for(var V in Z)$.push(V);return $};d.exports=W;var R=Fr(),f=gr();ta()(W,R);for(T=u(f.prototype),b=0;b<T.length;b++)c=T[b],W.prototype[c]||(W.prototype[c]=f.prototype[c]);var T,c,b;function W(Z){if(!(this instanceof W))return new W(Z);R.call(this,Z),f.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(q,this)}function q(Z){Z.end()}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}),Ls=je((r)=>{var d=fa().Buffer,u=d.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(E){if(!E)return"utf8";for(var z;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(z)return;E=(""+E).toLowerCase(),z=!0}}function f(E){var z=R(E);if(typeof z!="string"&&(d.isEncoding===u||!u(E)))throw new Error("Unknown encoding: "+E);return z||E}r.StringDecoder=T;function T(E){this.encoding=f(E);var z;switch(this.encoding){case"utf16le":this.text=$,this.end=V,z=4;break;case"utf8":this.fillLast=y,z=4;break;case"base64":this.text=x,this.end=k,z=3;break;default:this.write=g,this.end=X;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(z)}T.prototype.write=function(E){if(E.length===0)return"";var z,K;if(this.lastNeed){if(z=this.fillLast(E),z===void 0)return"";K=this.lastNeed,this.lastNeed=0}else K=0;return K<E.length?z?z+this.text(E,K):this.text(E,K):z||""},T.prototype.end=Z,T.prototype.text=q,T.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function c(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function b(E,z,K){var Y=z.length-1;if(Y<K)return 0;var C=c(z[Y]);return C>=0?(C>0&&(E.lastNeed=C-1),C):--Y<K||C===-2?0:(C=c(z[Y]),C>=0?(C>0&&(E.lastNeed=C-2),C):--Y<K||C===-2?0:(C=c(z[Y]),C>=0?(C>0&&(C===2?C=0:E.lastNeed=C-3),C):0))}function W(E,z,K){if((z[0]&192)!==128)return E.lastNeed=0,"\uFFFD";if(E.lastNeed>1&&z.length>1){if((z[1]&192)!==128)return E.lastNeed=1,"\uFFFD";if(E.lastNeed>2&&z.length>2&&(z[2]&192)!==128)return E.lastNeed=2,"\uFFFD"}}function y(E){var z=this.lastTotal-this.lastNeed,K=W(this,E,z);if(K!==void 0)return K;if(this.lastNeed<=E.length)return E.copy(this.lastChar,z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,z,0,E.length),this.lastNeed-=E.length}function q(E,z){var K=b(this,E,z);if(!this.lastNeed)return E.toString("utf8",z);this.lastTotal=K;var Y=E.length-(K-this.lastNeed);return E.copy(this.lastChar,0,Y),E.toString("utf8",z,Y)}function Z(E){var z=E&&E.length?this.write(E):"";return this.lastNeed?z+"\uFFFD":z}function $(E,z){if((E.length-z)%2===0){var K=E.toString("utf16le",z);if(K){var Y=K.charCodeAt(K.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],K.slice(0,-1)}return K}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",z,E.length-1)}function V(E){var z=E&&E.length?this.write(E):"";if(this.lastNeed){var K=this.lastTotal-this.lastNeed;return z+this.lastChar.toString("utf16le",0,K)}return z}function x(E,z){var K=(E.length-z)%3;return K===0?E.toString("base64",z):(this.lastNeed=3-K,this.lastTotal=3,K===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",z,E.length-K))}function k(E){var z=E&&E.length?this.write(E):"";return this.lastNeed?z+this.lastChar.toString("base64",0,3-this.lastNeed):z}function g(E){return E.toString(this.encoding)}function X(E){return E&&E.length?this.write(E):""}}),uo={},jo(uo,{StringDecoder:()=>zr.StringDecoder,default:()=>zr.StringDecoder}),Ko=Ms(()=>{zr=kn(Ls())}),Ws=je((r,d)=>{var u=In().codes.ERR_STREAM_PREMATURE_CLOSE;function R(b){var W=!1;return function(){if(!W){W=!0;for(var y=arguments.length,q=new Array(y),Z=0;Z<y;Z++)q[Z]=arguments[Z];b.apply(this,q)}}}function f(){}function T(b){return b.setHeader&&typeof b.abort=="function"}function c(b,W,y){if(typeof W=="function")return c(b,null,W);W||(W={}),y=R(y||f);var q=W.readable||W.readable!==!1&&b.readable,Z=W.writable||W.writable!==!1&&b.writable,$=function(){b.writable||x()},V=b._writableState&&b._writableState.finished,x=function(){Z=!1,V=!0,q||y.call(b)},k=b._readableState&&b._readableState.endEmitted,g=function(){q=!1,k=!0,Z||y.call(b)},X=function(K){y.call(b,K)},E=function(){var K;if(q&&!k)return(!b._readableState||!b._readableState.ended)&&(K=new u),y.call(b,K);if(Z&&!V)return(!b._writableState||!b._writableState.ended)&&(K=new u),y.call(b,K)},z=function(){b.req.on("finish",x)};return T(b)?(b.on("complete",x),b.on("abort",E),b.req?z():b.on("request",z)):Z&&!b._writableState&&(b.on("end",$),b.on("close",$)),b.on("end",g),b.on("finish",x),W.error!==!1&&b.on("error",X),b.on("close",E),function(){b.removeListener("complete",x),b.removeListener("abort",E),b.removeListener("request",z),b.req&&b.req.removeListener("finish",x),b.removeListener("end",$),b.removeListener("close",$),b.removeListener("finish",x),b.removeListener("end",g),b.removeListener("error",X),b.removeListener("close",E)}}d.exports=c}),Yi=je((r,d)=>{var u;function R(z,K,Y){return K in z?Object.defineProperty(z,K,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[K]=Y,z}var f=Ws(),T=Symbol("lastResolve"),c=Symbol("lastReject"),b=Symbol("error"),W=Symbol("ended"),y=Symbol("lastPromise"),q=Symbol("handlePromise"),Z=Symbol("stream");function $(z,K){return{value:z,done:K}}function V(z){var K=z[T];if(K!==null){var Y=z[Z].read();Y!==null&&(z[y]=null,z[T]=null,z[c]=null,K($(Y,!1)))}}function x(z){process.nextTick(V,z)}function k(z,K){return function(Y,C){z.then(function(){if(K[W]){Y($(void 0,!0));return}K[q](Y,C)},C)}}var g=Object.getPrototypeOf(function(){}),X=Object.setPrototypeOf((u={get stream(){return this[Z]},next:function(){var z=this,K=this[b];if(K!==null)return Promise.reject(K);if(this[W])return Promise.resolve($(void 0,!0));if(this[Z].destroyed)return new Promise(function(_e,$e){process.nextTick(function(){z[b]?$e(z[b]):_e($(void 0,!0))})});var Y=this[y],C;if(Y)C=new Promise(k(Y,this));else{var te=this[Z].read();if(te!==null)return Promise.resolve($(te,!1));C=new Promise(this[q])}return this[y]=C,C}},R(u,Symbol.asyncIterator,function(){return this}),R(u,"return",function(){var z=this;return new Promise(function(K,Y){z[Z].destroy(null,function(C){if(C){Y(C);return}K($(void 0,!0))})})}),u),g),E=function(z){var K,Y=Object.create(X,(K={},R(K,Z,{value:z,writable:!0}),R(K,T,{value:null,writable:!0}),R(K,c,{value:null,writable:!0}),R(K,b,{value:null,writable:!0}),R(K,W,{value:z._readableState.endEmitted,writable:!0}),R(K,q,{value:function(C,te){var _e=Y[Z].read();_e?(Y[y]=null,Y[T]=null,Y[c]=null,C($(_e,!1))):(Y[T]=C,Y[c]=te)},writable:!0}),K));return Y[y]=null,f(z,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var te=Y[c];te!==null&&(Y[y]=null,Y[T]=null,Y[c]=null,te(C)),Y[b]=C;return}var _e=Y[T];_e!==null&&(Y[y]=null,Y[T]=null,Y[c]=null,_e($(void 0,!0))),Y[W]=!0}),z.on("readable",x.bind(null,Y)),Y};d.exports=E}),Bi=je((r,d)=>{d.exports=function(){throw new Error("Readable.from is not available in the browser")}}),Fr=je((r,d)=>{d.exports=e;var u;e.ReadableState=Me;var R=Tn().EventEmitter,f=function(D,O){return D.listeners(O).length},T=Lr(),c=Va().Buffer,b=global.Uint8Array||function(){};function W(D){return c.from(D)}function y(D){return c.isBuffer(D)||D instanceof b}var q=Po(),Z;q&&q.debuglog?Z=q.debuglog("stream"):Z=function(){};var $=Hi(),V=Wr(),x=wr(),k=x.getHighWaterMark,g=In().codes,X=g.ERR_INVALID_ARG_TYPE,E=g.ERR_STREAM_PUSH_AFTER_EOF,z=g.ERR_METHOD_NOT_IMPLEMENTED,K=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,C,te;ta()(e,T);var _e=V.errorOrDestroy,$e=["error","close","destroy","pause","resume"];function me(D,O,ae){if(typeof D.prependListener=="function")return D.prependListener(O,ae);!D._events||!D._events[O]?D.on(O,ae):Array.isArray(D._events[O])?D._events[O].unshift(ae):D._events[O]=[ae,D._events[O]]}function Me(D,O,ae){u=u||Gn(),D=D||{},typeof ae!="boolean"&&(ae=O instanceof u),this.objectMode=!!D.objectMode,ae&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=k(this,D,"readableHighWaterMark",ae),this.buffer=new $,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(Y||(Y=(Ko(),Ea(uo)).StringDecoder),this.decoder=new Y(D.encoding),this.encoding=D.encoding)}function e(D){if(u=u||Gn(),!(this instanceof e))return new e(D);var O=this instanceof u;this._readableState=new Me(D,this,O),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),T.call(this)}Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){!this._readableState||(this._readableState.destroyed=D)}}),e.prototype.destroy=V.destroy,e.prototype._undestroy=V.undestroy,e.prototype._destroy=function(D,O){O(D)},e.prototype.push=function(D,O){var ae=this._readableState,We;return ae.objectMode?We=!0:typeof D=="string"&&(O=O||ae.defaultEncoding,O!==ae.encoding&&(D=c.from(D,O),O=""),We=!0),o(this,D,O,!1,We)},e.prototype.unshift=function(D){return o(this,D,null,!0,!1)};function o(D,O,ae,We,ge){Z("readableAddChunk",O);var Ve=D._readableState;if(O===null)Ve.reading=!1,p(D,Ve);else{var De;if(ge||(De=s(Ve,O)),De)_e(D,De);else if(Ve.objectMode||O&&O.length>0)if(typeof O!="string"&&!Ve.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=W(O)),We)Ve.endEmitted?_e(D,new K):i(D,Ve,O,!0);else if(Ve.ended)_e(D,new E);else{if(Ve.destroyed)return!1;Ve.reading=!1,Ve.decoder&&!ae?(O=Ve.decoder.write(O),Ve.objectMode||O.length!==0?i(D,Ve,O,!1):F(D,Ve)):i(D,Ve,O,!1)}else We||(Ve.reading=!1,F(D,Ve))}return!Ve.ended&&(Ve.length<Ve.highWaterMark||Ve.length===0)}function i(D,O,ae,We){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,D.emit("data",ae)):(O.length+=O.objectMode?1:ae.length,We?O.buffer.unshift(ae):O.buffer.push(ae),O.needReadable&&a(D)),F(D,O)}function s(D,O){var ae;return!y(O)&&typeof O!="string"&&O!==void 0&&!D.objectMode&&(ae=new X("chunk",["string","Buffer","Uint8Array"],O)),ae}e.prototype.isPaused=function(){return this._readableState.flowing===!1},e.prototype.setEncoding=function(D){Y||(Y=(Ko(),Ea(uo)).StringDecoder);var O=new Y(D);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,We="";ae!==null;)We+=O.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),We!==""&&this._readableState.buffer.push(We),this._readableState.length=We.length,this};var m=1073741824;function h(D){return D>=m?D=m:(D--,D|=D>>>1,D|=D>>>2,D|=D>>>4,D|=D>>>8,D|=D>>>16,D++),D}function v(D,O){return D<=0||O.length===0&&O.ended?0:O.objectMode?1:D!==D?O.flowing&&O.length?O.buffer.head.data.length:O.length:(D>O.highWaterMark&&(O.highWaterMark=h(D)),D<=O.length?D:O.ended?O.length:(O.needReadable=!0,0))}e.prototype.read=function(D){Z("read",D),D=parseInt(D,10);var O=this._readableState,ae=D;if(D!==0&&(O.emittedReadable=!1),D===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return Z("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?Ee(this):a(this),null;if(D=v(D,O),D===0&&O.ended)return O.length===0&&Ee(this),null;var We=O.needReadable;Z("need readable",We),(O.length===0||O.length-D<O.highWaterMark)&&(We=!0,Z("length less than watermark",We)),O.ended||O.reading?(We=!1,Z("reading or ended",We)):We&&(Z("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(D=v(ae,O)));var ge;return D>0?ge=fe(D,O):ge=null,ge===null?(O.needReadable=O.length<=O.highWaterMark,D=0):(O.length-=D,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),ae!==D&&O.ended&&Ee(this)),ge!==null&&this.emit("data",ge),ge};function p(D,O){if(Z("onEofChunk"),!O.ended){if(O.decoder){var ae=O.decoder.end();ae&&ae.length&&(O.buffer.push(ae),O.length+=O.objectMode?1:ae.length)}O.ended=!0,O.sync?a(D):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,t(D)))}}function a(D){var O=D._readableState;Z("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(Z("emitReadable",O.flowing),O.emittedReadable=!0,process.nextTick(t,D))}function t(D){var O=D._readableState;Z("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(D.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,ie(D)}function F(D,O){O.readingMore||(O.readingMore=!0,process.nextTick(w,D,O))}function w(D,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var ae=O.length;if(Z("maybeReadMore read 0"),D.read(0),ae===O.length)break}O.readingMore=!1}e.prototype._read=function(D){_e(this,new z("_read()"))},e.prototype.pipe=function(D,O){var ae=this,We=this._readableState;switch(We.pipesCount){case 0:We.pipes=D;break;case 1:We.pipes=[We.pipes,D];break;default:We.pipes.push(D);break}We.pipesCount+=1,Z("pipe count=%d opts=%j",We.pipesCount,O);var ge=(!O||O.end!==!1)&&D!==process.stdout&&D!==process.stderr,Ve=ge?Oe:l;We.endEmitted?process.nextTick(Ve):ae.once("end",Ve),D.on("unpipe",De);function De(_,N){Z("onunpipe"),_===ae&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,Pe())}function Oe(){Z("onend"),D.end()}var Je=I(ae);D.on("drain",Je);var Qe=!1;function Pe(){Z("cleanup"),D.removeListener("close",L),D.removeListener("finish",n),D.removeListener("drain",Je),D.removeListener("error",pa),D.removeListener("unpipe",De),ae.removeListener("end",Oe),ae.removeListener("end",l),ae.removeListener("data",Fe),Qe=!0,We.awaitDrain&&(!D._writableState||D._writableState.needDrain)&&Je()}ae.on("data",Fe);function Fe(_){Z("ondata");var N=D.write(_);Z("dest.write",N),N===!1&&((We.pipesCount===1&&We.pipes===D||We.pipesCount>1&&ze(We.pipes,D)!==-1)&&!Qe&&(Z("false write response, pause",We.awaitDrain),We.awaitDrain++),ae.pause())}function pa(_){Z("onerror",_),l(),D.removeListener("error",pa),f(D,"error")===0&&_e(D,_)}me(D,"error",pa);function L(){D.removeListener("finish",n),l()}D.once("close",L);function n(){Z("onfinish"),D.removeListener("close",L),l()}D.once("finish",n);function l(){Z("unpipe"),ae.unpipe(D)}return D.emit("pipe",ae),We.flowing||(Z("pipe resume"),ae.resume()),D};function I(D){return function(){var O=D._readableState;Z("pipeOnDrain",O.awaitDrain),O.awaitDrain&&O.awaitDrain--,O.awaitDrain===0&&f(D,"data")&&(O.flowing=!0,ie(D))}}e.prototype.unpipe=function(D){var O=this._readableState,ae={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return D&&D!==O.pipes?this:(D||(D=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,D&&D.emit("unpipe",this,ae),this);if(!D){var{pipes:We,pipesCount:ge}=O;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var Ve=0;Ve<ge;Ve++)We[Ve].emit("unpipe",this,{hasUnpiped:!1});return this}var De=ze(O.pipes,D);return De===-1?this:(O.pipes.splice(De,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),D.emit("unpipe",this,ae),this)},e.prototype.on=function(D,O){var ae=T.prototype.on.call(this,D,O),We=this._readableState;return D==="data"?(We.readableListening=this.listenerCount("readable")>0,We.flowing!==!1&&this.resume()):D==="readable"&&!We.endEmitted&&!We.readableListening&&(We.readableListening=We.needReadable=!0,We.flowing=!1,We.emittedReadable=!1,Z("on readable",We.length,We.reading),We.length?a(this):We.reading||process.nextTick(qe,this)),ae},e.prototype.addListener=e.prototype.on,e.prototype.removeListener=function(D,O){var ae=T.prototype.removeListener.call(this,D,O);return D==="readable"&&process.nextTick(he,this),ae},e.prototype.removeAllListeners=function(D){var O=T.prototype.removeAllListeners.apply(this,arguments);return(D==="readable"||D===void 0)&&process.nextTick(he,this),O};function he(D){var O=D._readableState;O.readableListening=D.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:D.listenerCount("data")>0&&D.resume()}function qe(D){Z("readable nexttick read 0"),D.read(0)}e.prototype.resume=function(){var D=this._readableState;return D.flowing||(Z("resume"),D.flowing=!D.readableListening,Ze(this,D)),D.paused=!1,this};function Ze(D,O){O.resumeScheduled||(O.resumeScheduled=!0,process.nextTick(ue,D,O))}function ue(D,O){Z("resume",O.reading),O.reading||D.read(0),O.resumeScheduled=!1,D.emit("resume"),ie(D),O.flowing&&!O.reading&&D.read(0)}e.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(D){var O=D._readableState;for(Z("flow",O.flowing);O.flowing&&D.read()!==null;);}e.prototype.wrap=function(D){var O=this,ae=this._readableState,We=!1;D.on("end",function(){if(Z("wrapped end"),ae.decoder&&!ae.ended){var De=ae.decoder.end();De&&De.length&&O.push(De)}O.push(null)}),D.on("data",function(De){if(Z("wrapped data"),ae.decoder&&(De=ae.decoder.write(De)),!(ae.objectMode&&De==null)&&!(!ae.objectMode&&(!De||!De.length))){var Oe=O.push(De);Oe||(We=!0,D.pause())}});for(var ge in D)this[ge]===void 0&&typeof D[ge]=="function"&&(this[ge]=function(De){return function(){return D[De].apply(D,arguments)}}(ge));for(var Ve=0;Ve<$e.length;Ve++)D.on($e[Ve],this.emit.bind(this,$e[Ve]));return this._read=function(De){Z("wrapped _read",De),We&&(We=!1,D.resume())},this},typeof Symbol=="function"&&(e.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=Yi()),C(this)}),Object.defineProperty(e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),e._fromList=fe,Object.defineProperty(e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fe(D,O){if(O.length===0)return null;var ae;return O.objectMode?ae=O.buffer.shift():!D||D>=O.length?(O.decoder?ae=O.buffer.join(""):O.buffer.length===1?ae=O.buffer.first():ae=O.buffer.concat(O.length),O.buffer.clear()):ae=O.buffer.consume(D,O.decoder),ae}function Ee(D){var O=D._readableState;Z("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,process.nextTick(xe,O,D))}function xe(D,O){if(Z("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,O.readable=!1,O.emit("end"),D.autoDestroy)){var ae=O._writableState;(!ae||ae.autoDestroy&&ae.finished)&&O.destroy()}}typeof Symbol=="function"&&(e.from=function(D,O){return te===void 0&&(te=Bi()),te(e,D,O)});function ze(D,O){for(var ae=0,We=D.length;ae<We;ae++)if(D[ae]===O)return ae;return-1}}),Or=je((r,d)=>{d.exports=y;var u=In().codes,R=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=u.ERR_TRANSFORM_WITH_LENGTH_0,b=Gn();ta()(y,b);function W($,V){var x=this._transformState;x.transforming=!1;var k=x.writecb;if(k===null)return this.emit("error",new f);x.writechunk=null,x.writecb=null,V!=null&&this.push(V),k($);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function y($){if(!(this instanceof y))return new y($);b.call(this,$),this._transformState={afterTransform:W.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,$&&(typeof $.transform=="function"&&(this._transform=$.transform),typeof $.flush=="function"&&(this._flush=$.flush)),this.on("prefinish",q)}function q(){var $=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(V,x){Z($,V,x)}):Z(this,null,null)}y.prototype.push=function($,V){return this._transformState.needTransform=!1,b.prototype.push.call(this,$,V)},y.prototype._transform=function($,V,x){x(new R("_transform()"))},y.prototype._write=function($,V,x){var k=this._transformState;if(k.writecb=x,k.writechunk=$,k.writeencoding=V,!k.transforming){var g=this._readableState;(k.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},y.prototype._read=function($){var V=this._transformState;V.writechunk!==null&&!V.transforming?(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform)):V.needTransform=!0},y.prototype._destroy=function($,V){b.prototype._destroy.call(this,$,function(x){V(x)})};function Z($,V,x){if(V)return $.emit("error",V);if(x!=null&&$.push(x),$._writableState.length)throw new c;if($._transformState.transforming)throw new T;return $.push(null)}}),Ci=je((r,d)=>{d.exports=R;var u=Or();ta()(R,u);function R(f){if(!(this instanceof R))return new R(f);u.call(this,f)}R.prototype._transform=function(f,T,c){c(null,f)}}),Qi=je((r,d)=>{var u;function R(x){var k=!1;return function(){k||(k=!0,x.apply(void 0,arguments))}}var f=In().codes,T=f.ERR_MISSING_ARGS,c=f.ERR_STREAM_DESTROYED;function b(x){if(x)throw x}function W(x){return x.setHeader&&typeof x.abort=="function"}function y(x,k,g,X){X=R(X);var E=!1;x.on("close",function(){E=!0}),u===void 0&&(u=Ws()),u(x,{readable:k,writable:g},function(K){if(K)return X(K);E=!0,X()});var z=!1;return function(K){if(!E&&!z){if(z=!0,W(x))return x.abort();if(typeof x.destroy=="function")return x.destroy();X(K||new c("pipe"))}}}function q(x){x()}function Z(x,k){return x.pipe(k)}function $(x){return!x.length||typeof x[x.length-1]!="function"?b:x.pop()}function V(){for(var x=arguments.length,k=new Array(x),g=0;g<x;g++)k[g]=arguments[g];var X=$(k);if(Array.isArray(k[0])&&(k=k[0]),k.length<2)throw new T("streams");var E,z=k.map(function(K,Y){var C=Y<k.length-1,te=Y>0;return y(K,C,te,function(_e){E||(E=_e),_e&&z.forEach(q),!C&&(z.forEach(q),X(E))})});return k.reduce(Z)}d.exports=V}),Ai=je((r,d)=>{r=d.exports=Fr(),r.Stream=r,r.Readable=r,r.Writable=gr(),r.Duplex=Gn(),r.Transform=Or(),r.PassThrough=Ci(),r.finished=Ws(),r.pipeline=Qi()}),Xr=je((r,d)=>{var u=fa().Buffer,R=Ai().Transform,f=ta();function T(b,W){if(!u.isBuffer(b)&&typeof b!="string")throw new TypeError(W+" must be a string or a buffer")}function c(b){R.call(this),this._block=u.allocUnsafe(b),this._blockSize=b,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}f(c,R),c.prototype._transform=function(b,W,y){var q=null;try{this.update(b,W)}catch(Z){q=Z}y(q)},c.prototype._flush=function(b){var W=null;try{this.push(this.digest())}catch(y){W=y}b(W)},c.prototype.update=function(b,W){if(T(b,"Data"),this._finalized)throw new Error("Digest already called");u.isBuffer(b)||(b=u.from(b,W));for(var y=this._block,q=0;this._blockOffset+b.length-q>=this._blockSize;){for(var Z=this._blockOffset;Z<this._blockSize;)y[Z++]=b[q++];this._update(),this._blockOffset=0}for(;q<b.length;)y[this._blockOffset++]=b[q++];for(var $=0,V=b.length*8;V>0;++$)this._length[$]+=V,V=this._length[$]/4294967296|0,V>0&&(this._length[$]-=4294967296*V);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(b){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var W=this._digest();b!==void 0&&(W=W.toString(b)),this._block.fill(0),this._blockOffset=0;for(var y=0;y<4;++y)this._length[y]=0;return W},c.prototype._digest=function(){throw new Error("_digest is not implemented")},d.exports=c}),ws=je((r,d)=>{var u=ta(),R=Xr(),f=fa().Buffer,T=new Array(16);function c(){R.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}u(c,R),c.prototype._update=function(){for(var $=T,V=0;V<16;++V)$[V]=this._block.readInt32LE(V*4);var x=this._a,k=this._b,g=this._c,X=this._d;x=W(x,k,g,X,$[0],3614090360,7),X=W(X,x,k,g,$[1],3905402710,12),g=W(g,X,x,k,$[2],606105819,17),k=W(k,g,X,x,$[3],3250441966,22),x=W(x,k,g,X,$[4],4118548399,7),X=W(X,x,k,g,$[5],1200080426,12),g=W(g,X,x,k,$[6],2821735955,17),k=W(k,g,X,x,$[7],4249261313,22),x=W(x,k,g,X,$[8],1770035416,7),X=W(X,x,k,g,$[9],2336552879,12),g=W(g,X,x,k,$[10],4294925233,17),k=W(k,g,X,x,$[11],2304563134,22),x=W(x,k,g,X,$[12],1804603682,7),X=W(X,x,k,g,$[13],4254626195,12),g=W(g,X,x,k,$[14],2792965006,17),k=W(k,g,X,x,$[15],1236535329,22),x=y(x,k,g,X,$[1],4129170786,5),X=y(X,x,k,g,$[6],3225465664,9),g=y(g,X,x,k,$[11],643717713,14),k=y(k,g,X,x,$[0],3921069994,20),x=y(x,k,g,X,$[5],3593408605,5),X=y(X,x,k,g,$[10],38016083,9),g=y(g,X,x,k,$[15],3634488961,14),k=y(k,g,X,x,$[4],3889429448,20),x=y(x,k,g,X,$[9],568446438,5),X=y(X,x,k,g,$[14],3275163606,9),g=y(g,X,x,k,$[3],4107603335,14),k=y(k,g,X,x,$[8],1163531501,20),x=y(x,k,g,X,$[13],2850285829,5),X=y(X,x,k,g,$[2],4243563512,9),g=y(g,X,x,k,$[7],1735328473,14),k=y(k,g,X,x,$[12],2368359562,20),x=q(x,k,g,X,$[5],4294588738,4),X=q(X,x,k,g,$[8],2272392833,11),g=q(g,X,x,k,$[11],1839030562,16),k=q(k,g,X,x,$[14],4259657740,23),x=q(x,k,g,X,$[1],2763975236,4),X=q(X,x,k,g,$[4],1272893353,11),g=q(g,X,x,k,$[7],4139469664,16),k=q(k,g,X,x,$[10],3200236656,23),x=q(x,k,g,X,$[13],681279174,4),X=q(X,x,k,g,$[0],3936430074,11),g=q(g,X,x,k,$[3],3572445317,16),k=q(k,g,X,x,$[6],76029189,23),x=q(x,k,g,X,$[9],3654602809,4),X=q(X,x,k,g,$[12],3873151461,11),g=q(g,X,x,k,$[15],530742520,16),k=q(k,g,X,x,$[2],3299628645,23),x=Z(x,k,g,X,$[0],4096336452,6),X=Z(X,x,k,g,$[7],1126891415,10),g=Z(g,X,x,k,$[14],2878612391,15),k=Z(k,g,X,x,$[5],4237533241,21),x=Z(x,k,g,X,$[12],1700485571,6),X=Z(X,x,k,g,$[3],2399980690,10),g=Z(g,X,x,k,$[10],4293915773,15),k=Z(k,g,X,x,$[1],2240044497,21),x=Z(x,k,g,X,$[8],1873313359,6),X=Z(X,x,k,g,$[15],4264355552,10),g=Z(g,X,x,k,$[6],2734768916,15),k=Z(k,g,X,x,$[13],1309151649,21),x=Z(x,k,g,X,$[4],4149444226,6),X=Z(X,x,k,g,$[11],3174756917,10),g=Z(g,X,x,k,$[2],718787259,15),k=Z(k,g,X,x,$[9],3951481745,21),this._a=this._a+x|0,this._b=this._b+k|0,this._c=this._c+g|0,this._d=this._d+X|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var $=f.allocUnsafe(16);return $.writeInt32LE(this._a,0),$.writeInt32LE(this._b,4),$.writeInt32LE(this._c,8),$.writeInt32LE(this._d,12),$};function b($,V){return $<<V|$>>>32-V}function W($,V,x,k,g,X,E){return b($+(V&x|~V&k)+g+X|0,E)+V|0}function y($,V,x,k,g,X,E){return b($+(V&k|x&~k)+g+X|0,E)+V|0}function q($,V,x,k,g,X,E){return b($+(V^x^k)+g+X|0,E)+V|0}function Z($,V,x,k,g,X,E){return b($+(x^(V|~k))+g+X|0,E)+V|0}d.exports=c}),Ss=je((r,d)=>{var u=Va().Buffer,R=ta(),f=Xr(),T=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],W=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],q=[0,1518500249,1859775393,2400959708,2840853838],Z=[1352829926,1548603684,1836072691,2053994217,0];function $(){f.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}R($,f),$.prototype._update=function(){for(var z=T,K=0;K<16;++K)z[K]=this._block.readInt32LE(K*4);for(var Y=this._a|0,C=this._b|0,te=this._c|0,_e=this._d|0,$e=this._e|0,me=this._a|0,Me=this._b|0,e=this._c|0,o=this._d|0,i=this._e|0,s=0;s<80;s+=1){var m,h;s<16?(m=x(Y,C,te,_e,$e,z[c[s]],q[0],W[s]),h=E(me,Me,e,o,i,z[b[s]],Z[0],y[s])):s<32?(m=k(Y,C,te,_e,$e,z[c[s]],q[1],W[s]),h=X(me,Me,e,o,i,z[b[s]],Z[1],y[s])):s<48?(m=g(Y,C,te,_e,$e,z[c[s]],q[2],W[s]),h=g(me,Me,e,o,i,z[b[s]],Z[2],y[s])):s<64?(m=X(Y,C,te,_e,$e,z[c[s]],q[3],W[s]),h=k(me,Me,e,o,i,z[b[s]],Z[3],y[s])):(m=E(Y,C,te,_e,$e,z[c[s]],q[4],W[s]),h=x(me,Me,e,o,i,z[b[s]],Z[4],y[s])),Y=$e,$e=_e,_e=V(te,10),te=C,C=m,me=i,i=o,o=V(e,10),e=Me,Me=h}var v=this._b+te+o|0;this._b=this._c+_e+i|0,this._c=this._d+$e+me|0,this._d=this._e+Y+Me|0,this._e=this._a+C+e|0,this._a=v},$.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var z=u.alloc?u.alloc(20):new u(20);return z.writeInt32LE(this._a,0),z.writeInt32LE(this._b,4),z.writeInt32LE(this._c,8),z.writeInt32LE(this._d,12),z.writeInt32LE(this._e,16),z};function V(z,K){return z<<K|z>>>32-K}function x(z,K,Y,C,te,_e,$e,me){return V(z+(K^Y^C)+_e+$e|0,me)+te|0}function k(z,K,Y,C,te,_e,$e,me){return V(z+(K&Y|~K&C)+_e+$e|0,me)+te|0}function g(z,K,Y,C,te,_e,$e,me){return V(z+((K|~Y)^C)+_e+$e|0,me)+te|0}function X(z,K,Y,C,te,_e,$e,me){return V(z+(K&C|Y&~C)+_e+$e|0,me)+te|0}function E(z,K,Y,C,te,_e,$e,me){return V(z+(K^(Y|~C))+_e+$e|0,me)+te|0}d.exports=$}),Dn=je((r,d)=>{var u=fa().Buffer;function R(f,T){this._block=u.alloc(f),this._finalSize=T,this._blockSize=f,this._len=0}R.prototype.update=function(f,T){typeof f=="string"&&(T=T||"utf8",f=u.from(f,T));for(var c=this._block,b=this._blockSize,W=f.length,y=this._len,q=0;q<W;){for(var Z=y%b,$=Math.min(W-q,b-Z),V=0;V<$;V++)c[Z+V]=f[q+V];y+=$,q+=$,y%b===0&&this._update(c)}return this._len+=W,this},R.prototype.digest=function(f){var T=this._len%this._blockSize;this._block[T]=128,this._block.fill(0,T+1),T>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=this._len*8;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var b=(c&4294967295)>>>0,W=(c-b)/4294967296;this._block.writeUInt32BE(W,this._blockSize-8),this._block.writeUInt32BE(b,this._blockSize-4)}this._update(this._block);var y=this._hash();return f?y.toString(f):y},R.prototype._update=function(){throw new Error("_update must be implemented by subclass")},d.exports=R}),ec=je((r,d)=>{var u=ta(),R=Dn(),f=fa().Buffer,T=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function b(){this.init(),this._w=c,R.call(this,64,56)}u(b,R),b.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function W(Z){return Z<<5|Z>>>27}function y(Z){return Z<<30|Z>>>2}function q(Z,$,V,x){return Z===0?$&V|~$&x:Z===2?$&V|$&x|V&x:$^V^x}b.prototype._update=function(Z){for(var $=this._w,V=this._a|0,x=this._b|0,k=this._c|0,g=this._d|0,X=this._e|0,E=0;E<16;++E)$[E]=Z.readInt32BE(E*4);for(;E<80;++E)$[E]=$[E-3]^$[E-8]^$[E-14]^$[E-16];for(var z=0;z<80;++z){var K=~~(z/20),Y=W(V)+q(K,x,k,g)+X+$[z]+T[K]|0;X=g,g=k,k=y(x),x=V,V=Y}this._a=V+this._a|0,this._b=x+this._b|0,this._c=k+this._c|0,this._d=g+this._d|0,this._e=X+this._e|0},b.prototype._hash=function(){var Z=f.allocUnsafe(20);return Z.writeInt32BE(this._a|0,0),Z.writeInt32BE(this._b|0,4),Z.writeInt32BE(this._c|0,8),Z.writeInt32BE(this._d|0,12),Z.writeInt32BE(this._e|0,16),Z},d.exports=b}),ac=je((r,d)=>{var u=ta(),R=Dn(),f=fa().Buffer,T=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function b(){this.init(),this._w=c,R.call(this,64,56)}u(b,R),b.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function W($){return $<<1|$>>>31}function y($){return $<<5|$>>>27}function q($){return $<<30|$>>>2}function Z($,V,x,k){return $===0?V&x|~V&k:$===2?V&x|V&k|x&k:V^x^k}b.prototype._update=function($){for(var V=this._w,x=this._a|0,k=this._b|0,g=this._c|0,X=this._d|0,E=this._e|0,z=0;z<16;++z)V[z]=$.readInt32BE(z*4);for(;z<80;++z)V[z]=W(V[z-3]^V[z-8]^V[z-14]^V[z-16]);for(var K=0;K<80;++K){var Y=~~(K/20),C=y(x)+Z(Y,k,g,X)+E+V[K]+T[Y]|0;E=X,X=g,g=q(k),k=x,x=C}this._a=x+this._a|0,this._b=k+this._b|0,this._c=g+this._c|0,this._d=X+this._d|0,this._e=E+this._e|0},b.prototype._hash=function(){var $=f.allocUnsafe(20);return $.writeInt32BE(this._a|0,0),$.writeInt32BE(this._b|0,4),$.writeInt32BE(this._c|0,8),$.writeInt32BE(this._d|0,12),$.writeInt32BE(this._e|0,16),$},d.exports=b}),Ur=je((r,d)=>{var u=ta(),R=Dn(),f=fa().Buffer,T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function b(){this.init(),this._w=c,R.call(this,64,56)}u(b,R),b.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function W(x,k,g){return g^x&(k^g)}function y(x,k,g){return x&k|g&(x|k)}function q(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function Z(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function $(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function V(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}b.prototype._update=function(x){for(var k=this._w,g=this._a|0,X=this._b|0,E=this._c|0,z=this._d|0,K=this._e|0,Y=this._f|0,C=this._g|0,te=this._h|0,_e=0;_e<16;++_e)k[_e]=x.readInt32BE(_e*4);for(;_e<64;++_e)k[_e]=V(k[_e-2])+k[_e-7]+$(k[_e-15])+k[_e-16]|0;for(var $e=0;$e<64;++$e){var me=te+Z(K)+W(K,Y,C)+T[$e]+k[$e]|0,Me=q(g)+y(g,X,E)|0;te=C,C=Y,Y=K,K=z+me|0,z=E,E=X,X=g,g=me+Me|0}this._a=g+this._a|0,this._b=X+this._b|0,this._c=E+this._c|0,this._d=z+this._d|0,this._e=K+this._e|0,this._f=Y+this._f|0,this._g=C+this._g|0,this._h=te+this._h|0},b.prototype._hash=function(){var x=f.allocUnsafe(32);return x.writeInt32BE(this._a,0),x.writeInt32BE(this._b,4),x.writeInt32BE(this._c,8),x.writeInt32BE(this._d,12),x.writeInt32BE(this._e,16),x.writeInt32BE(this._f,20),x.writeInt32BE(this._g,24),x.writeInt32BE(this._h,28),x},d.exports=b}),nc=je((r,d)=>{var u=ta(),R=Ur(),f=Dn(),T=fa().Buffer,c=new Array(64);function b(){this.init(),this._w=c,f.call(this,64,56)}u(b,R),b.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},b.prototype._hash=function(){var W=T.allocUnsafe(28);return W.writeInt32BE(this._a,0),W.writeInt32BE(this._b,4),W.writeInt32BE(this._c,8),W.writeInt32BE(this._d,12),W.writeInt32BE(this._e,16),W.writeInt32BE(this._f,20),W.writeInt32BE(this._g,24),W},d.exports=b}),Er=je((r,d)=>{var u=ta(),R=Dn(),f=fa().Buffer,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function b(){this.init(),this._w=c,R.call(this,128,112)}u(b,R),b.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function W(X,E,z){return z^X&(E^z)}function y(X,E,z){return X&E|z&(X|E)}function q(X,E){return(X>>>28|E<<4)^(E>>>2|X<<30)^(E>>>7|X<<25)}function Z(X,E){return(X>>>14|E<<18)^(X>>>18|E<<14)^(E>>>9|X<<23)}function $(X,E){return(X>>>1|E<<31)^(X>>>8|E<<24)^X>>>7}function V(X,E){return(X>>>1|E<<31)^(X>>>8|E<<24)^(X>>>7|E<<25)}function x(X,E){return(X>>>19|E<<13)^(E>>>29|X<<3)^X>>>6}function k(X,E){return(X>>>19|E<<13)^(E>>>29|X<<3)^(X>>>6|E<<26)}function g(X,E){return X>>>0<E>>>0?1:0}b.prototype._update=function(X){for(var E=this._w,z=this._ah|0,K=this._bh|0,Y=this._ch|0,C=this._dh|0,te=this._eh|0,_e=this._fh|0,$e=this._gh|0,me=this._hh|0,Me=this._al|0,e=this._bl|0,o=this._cl|0,i=this._dl|0,s=this._el|0,m=this._fl|0,h=this._gl|0,v=this._hl|0,p=0;p<32;p+=2)E[p]=X.readInt32BE(p*4),E[p+1]=X.readInt32BE(p*4+4);for(;p<160;p+=2){var a=E[p-30],t=E[p-30+1],F=$(a,t),w=V(t,a);a=E[p-4],t=E[p-4+1];var I=x(a,t),he=k(t,a),qe=E[p-14],Ze=E[p-14+1],ue=E[p-32],ie=E[p-32+1],fe=w+Ze|0,Ee=F+qe+g(fe,w)|0;fe=fe+he|0,Ee=Ee+I+g(fe,he)|0,fe=fe+ie|0,Ee=Ee+ue+g(fe,ie)|0,E[p]=Ee,E[p+1]=fe}for(var xe=0;xe<160;xe+=2){Ee=E[xe],fe=E[xe+1];var ze=y(z,K,Y),D=y(Me,e,o),O=q(z,Me),ae=q(Me,z),We=Z(te,s),ge=Z(s,te),Ve=T[xe],De=T[xe+1],Oe=W(te,_e,$e),Je=W(s,m,h),Qe=v+ge|0,Pe=me+We+g(Qe,v)|0;Qe=Qe+Je|0,Pe=Pe+Oe+g(Qe,Je)|0,Qe=Qe+De|0,Pe=Pe+Ve+g(Qe,De)|0,Qe=Qe+fe|0,Pe=Pe+Ee+g(Qe,fe)|0;var Fe=ae+D|0,pa=O+ze+g(Fe,ae)|0;me=$e,v=h,$e=_e,h=m,_e=te,m=s,s=i+Qe|0,te=C+Pe+g(s,i)|0,C=Y,i=o,Y=K,o=e,K=z,e=Me,Me=Qe+Fe|0,z=Pe+pa+g(Me,Qe)|0}this._al=this._al+Me|0,this._bl=this._bl+e|0,this._cl=this._cl+o|0,this._dl=this._dl+i|0,this._el=this._el+s|0,this._fl=this._fl+m|0,this._gl=this._gl+h|0,this._hl=this._hl+v|0,this._ah=this._ah+z+g(this._al,Me)|0,this._bh=this._bh+K+g(this._bl,e)|0,this._ch=this._ch+Y+g(this._cl,o)|0,this._dh=this._dh+C+g(this._dl,i)|0,this._eh=this._eh+te+g(this._el,s)|0,this._fh=this._fh+_e+g(this._fl,m)|0,this._gh=this._gh+$e+g(this._gl,h)|0,this._hh=this._hh+me+g(this._hl,v)|0},b.prototype._hash=function(){var X=f.allocUnsafe(64);function E(z,K,Y){X.writeInt32BE(z,Y),X.writeInt32BE(K,Y+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),X},d.exports=b}),oc=je((r,d)=>{var u=ta(),R=Er(),f=Dn(),T=fa().Buffer,c=new Array(160);function b(){this.init(),this._w=c,f.call(this,128,112)}u(b,R),b.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},b.prototype._hash=function(){var W=T.allocUnsafe(48);function y(q,Z,$){W.writeInt32BE(q,$),W.writeInt32BE(Z,$+4)}return y(this._ah,this._al,0),y(this._bh,this._bl,8),y(this._ch,this._cl,16),y(this._dh,this._dl,24),y(this._eh,this._el,32),y(this._fh,this._fl,40),W},d.exports=b}),gs=je((u,d)=>{var u=d.exports=function(R){R=R.toLowerCase();var f=u[R];if(!f)throw new Error(R+" is not supported (we accept pull requests)");return new f};u.sha=ec(),u.sha1=ac(),u.sha224=nc(),u.sha256=Ur(),u.sha384=oc(),u.sha512=Er()}),xa=je((r,d)=>{d.exports={ArrayIsArray(u){return Array.isArray(u)},ArrayPrototypeIncludes(u,R){return u.includes(R)},ArrayPrototypeIndexOf(u,R){return u.indexOf(R)},ArrayPrototypeJoin(u,R){return u.join(R)},ArrayPrototypeMap(u,R){return u.map(R)},ArrayPrototypePop(u,R){return u.pop(R)},ArrayPrototypePush(u,R){return u.push(R)},ArrayPrototypeSlice(u,R,f){return u.slice(R,f)},Error,FunctionPrototypeCall(u,R,...f){return u.call(R,...f)},FunctionPrototypeSymbolHasInstance(u,R){return Function.prototype[Symbol.hasInstance].call(u,R)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(u,R){return Object.defineProperties(u,R)},ObjectDefineProperty(u,R,f){return Object.defineProperty(u,R,f)},ObjectGetOwnPropertyDescriptor(u,R){return Object.getOwnPropertyDescriptor(u,R)},ObjectKeys(u){return Object.keys(u)},ObjectSetPrototypeOf(u,R){return Object.setPrototypeOf(u,R)},Promise,PromisePrototypeCatch(u,R){return u.catch(R)},PromisePrototypeThen(u,R,f){return u.then(R,f)},PromiseReject(u){return Promise.reject(u)},ReflectApply:Reflect.apply,RegExpPrototypeTest(u,R){return u.test(R)},SafeSet:Set,String,StringPrototypeSlice(u,R,f){return u.slice(R,f)},StringPrototypeToLowerCase(u){return u.toLowerCase()},StringPrototypeToUpperCase(u){return u.toUpperCase()},StringPrototypeTrim(u){return u.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(u,R,f){return u.set(R,f)},Uint8Array}}),en=je((r,d)=>{var u=Va(),R=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||u.Blob,T=typeof f<"u"?function(b){return b instanceof f}:function(b){return!1},c=class extends Error{constructor(b){if(!Array.isArray(b))throw new TypeError(`Expected input to be an Array, got ${typeof b}`);let W="";for(let y=0;y<b.length;y++)W+=`    ${b[y].stack}
`;super(W),this.name="AggregateError",this.errors=b}};d.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(b){let W=!1;return function(...y){W||(W=!0,b.apply(this,y))}},createDeferredPromise:function(){let b,W;return{promise:new Promise((y,q)=>{b=y,W=q}),resolve:b,reject:W}},promisify(b){return new Promise((W,y)=>{b((q,...Z)=>q?y(q):W(...Z))})},debuglog(){return function(){}},format(b,...W){return b.replace(/%([sdifj])/g,function(...[y,q]){let Z=W.shift();return q==="f"?Z.toFixed(6):q==="j"?JSON.stringify(Z):q==="s"&&typeof Z=="object"?`${Z.constructor!==Object?Z.constructor.name:""} {}`.trim():Z.toString()})},inspect(b){switch(typeof b){case"string":if(b.includes("'"))if(b.includes('"')){if(!b.includes("`")&&!b.includes("${"))return`\`${b}\``}else return`"${b}"`;return`'${b}'`;case"number":return isNaN(b)?"NaN":Object.is(b,-0)?String(b):b;case"bigint":return`${String(b)}n`;case"boolean":case"undefined":return String(b);case"object":return"{}"}},types:{isAsyncFunction(b){return b instanceof R},isArrayBufferView(b){return ArrayBuffer.isView(b)}},isBlob:T},d.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),zs=je((r,d)=>{var{AbortController:u,AbortSignal:R}=typeof self<"u"?self:typeof window<"u"?window:void 0;d.exports=u,d.exports.AbortSignal=R,d.exports.default=u}),wa=je((r,d)=>{var{format:u,inspect:R,AggregateError:f}=en(),T=globalThis.AggregateError||f,c=Symbol("kIsNodeError"),b=["string","function","number","object","Function","Object","boolean","bigint","symbol"],W=/^([A-Z][a-z0-9]*)+$/,y="__node_internal_",q={};function Z(E,z){if(!E)throw new q.ERR_INTERNAL_ASSERTION(z)}function $(E){let z="",K=E.length,Y=E[0]==="-"?1:0;for(;K>=Y+4;K-=3)z=`_${E.slice(K-3,K)}${z}`;return`${E.slice(0,K)}${z}`}function V(E,z,K){if(typeof z=="function")return Z(z.length<=K.length,`Code: ${E}; The provided arguments length (${K.length}) does not match the required ones (${z.length}).`),z(...K);let Y=(z.match(/%[dfijoOs]/g)||[]).length;return Z(Y===K.length,`Code: ${E}; The provided arguments length (${K.length}) does not match the required ones (${Y}).`),K.length===0?z:u(z,...K)}function x(E,z,K){K||(K=Error);class Y extends K{constructor(...C){super(V(E,z,C))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(Y.prototype,{name:{value:K.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),Y.prototype.code=E,Y.prototype[c]=!0,q[E]=Y}function k(E){let z=y+E.name;return Object.defineProperty(E,"name",{value:z}),E}function g(E,z){if(E&&z&&E!==z){if(Array.isArray(z.errors))return z.errors.push(E),z;let K=new T([z,E],z.message);return K.code=z.code,K}return E||z}var X=class extends Error{constructor(E="The operation was aborted",z=void 0){if(z!==void 0&&typeof z!="object")throw new q.ERR_INVALID_ARG_TYPE("options","Object",z);super(E,z),this.code="ABORT_ERR",this.name="AbortError"}};x("ERR_ASSERTION","%s",Error),x("ERR_INVALID_ARG_TYPE",(E,z,K)=>{Z(typeof E=="string","'name' must be a string"),Array.isArray(z)||(z=[z]);let Y="The ";E.endsWith(" argument")?Y+=`${E} `:Y+=`"${E}" ${E.includes(".")?"property":"argument"} `,Y+="must be ";let C=[],te=[],_e=[];for(let me of z)Z(typeof me=="string","All expected entries have to be of type string"),b.includes(me)?C.push(me.toLowerCase()):W.test(me)?te.push(me):(Z(me!=="object",'The value "object" should be written as "Object"'),_e.push(me));if(te.length>0){let me=C.indexOf("object");me!==-1&&(C.splice(C,me,1),te.push("Object"))}if(C.length>0){switch(C.length){case 1:Y+=`of type ${C[0]}`;break;case 2:Y+=`one of type ${C[0]} or ${C[1]}`;break;default:{let me=C.pop();Y+=`one of type ${C.join(", ")}, or ${me}`}}(te.length>0||_e.length>0)&&(Y+=" or ")}if(te.length>0){switch(te.length){case 1:Y+=`an instance of ${te[0]}`;break;case 2:Y+=`an instance of ${te[0]} or ${te[1]}`;break;default:{let me=te.pop();Y+=`an instance of ${te.join(", ")}, or ${me}`}}_e.length>0&&(Y+=" or ")}switch(_e.length){case 0:break;case 1:_e[0].toLowerCase()!==_e[0]&&(Y+="an "),Y+=`${_e[0]}`;break;case 2:Y+=`one of ${_e[0]} or ${_e[1]}`;break;default:{let me=_e.pop();Y+=`one of ${_e.join(", ")}, or ${me}`}}if(K==null)Y+=`. Received ${K}`;else if(typeof K=="function"&&K.name)Y+=`. Received function ${K.name}`;else if(typeof K=="object"){var $e;($e=K.constructor)!==null&&$e!==void 0&&$e.name?Y+=`. Received an instance of ${K.constructor.name}`:Y+=`. Received ${R(K,{depth:-1})}`}else{let me=R(K,{colors:!1});me.length>25&&(me=`${me.slice(0,25)}...`),Y+=`. Received type ${typeof K} (${me})`}return Y},TypeError),x("ERR_INVALID_ARG_VALUE",(E,z,K="is invalid")=>{let Y=R(z);return Y.length>128&&(Y=Y.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${K}. Received ${Y}`},TypeError),x("ERR_INVALID_RETURN_VALUE",(E,z,K)=>{var Y;let C=K!=null&&(Y=K.constructor)!==null&&Y!==void 0&&Y.name?`instance of ${K.constructor.name}`:`type ${typeof K}`;return`Expected ${E} to be returned from the "${z}" function but got ${C}.`},TypeError),x("ERR_MISSING_ARGS",(...E)=>{Z(E.length>0,"At least one arg needs to be specified");let z,K=E.length;switch(E=(Array.isArray(E)?E:[E]).map((Y)=>`"${Y}"`).join(" or "),K){case 1:z+=`The ${E[0]} argument`;break;case 2:z+=`The ${E[0]} and ${E[1]} arguments`;break;default:{let Y=E.pop();z+=`The ${E.join(", ")}, and ${Y} arguments`}break}return`${z} must be specified`},TypeError),x("ERR_OUT_OF_RANGE",(E,z,K)=>{Z(z,'Missing "range" argument');let Y;return Number.isInteger(K)&&Math.abs(K)>4294967296?Y=$(String(K)):typeof K=="bigint"?(Y=String(K),(K>2n**32n||K<-(2n**32n))&&(Y=$(Y)),Y+="n"):Y=R(K),`The value of "${E}" is out of range. It must be ${z}. Received ${Y}`},RangeError),x("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),x("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),x("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),x("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),x("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),x("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),x("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),x("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),x("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),x("ERR_STREAM_WRITE_AFTER_END","write after end",Error),x("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),d.exports={AbortError:X,aggregateTwoErrors:k(g),hideStackFrames:k,codes:q}}),Io=je((r,d)=>{var{ArrayIsArray:u,ArrayPrototypeIncludes:R,ArrayPrototypeJoin:f,ArrayPrototypeMap:T,NumberIsInteger:c,NumberIsNaN:b,NumberMAX_SAFE_INTEGER:W,NumberMIN_SAFE_INTEGER:y,NumberParseInt:q,ObjectPrototypeHasOwnProperty:Z,RegExpPrototypeExec:$,String:V,StringPrototypeToUpperCase:x,StringPrototypeTrim:k}=xa(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:X,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:z,ERR_OUT_OF_RANGE:K,ERR_UNKNOWN_SIGNAL:Y}}=wa(),{normalizeEncoding:C}=en(),{isAsyncFunction:te,isArrayBufferView:_e}=en().types,$e={};function me(D){return D===(D|0)}function Me(D){return D===D>>>0}var e=/^[0-7]+$/,o="must be a 32-bit unsigned integer or an octal string";function i(D,O,ae){if(typeof D>"u"&&(D=ae),typeof D=="string"){if($(e,D)===null)throw new z(O,D,o);D=q(D,8)}return h(D,O),D}var s=g((D,O,ae=y,We=W)=>{if(typeof D!="number")throw new E(O,"number",D);if(!c(D))throw new K(O,"an integer",D);if(D<ae||D>We)throw new K(O,`>= ${ae} && <= ${We}`,D)}),m=g((D,O,ae=-2147483648,We=2147483647)=>{if(typeof D!="number")throw new E(O,"number",D);if(!c(D))throw new K(O,"an integer",D);if(D<ae||D>We)throw new K(O,`>= ${ae} && <= ${We}`,D)}),h=g((D,O,ae=!1)=>{if(typeof D!="number")throw new E(O,"number",D);if(!c(D))throw new K(O,"an integer",D);let We=ae?1:0,ge=4294967295;if(D<We||D>ge)throw new K(O,`>= ${We} && <= ${ge}`,D)});function v(D,O){if(typeof D!="string")throw new E(O,"string",D)}function p(D,O,ae=void 0,We){if(typeof D!="number")throw new E(O,"number",D);if(ae!=null&&D<ae||We!=null&&D>We||(ae!=null||We!=null)&&b(D))throw new K(O,`${ae!=null?`>= ${ae}`:""}${ae!=null&&We!=null?" && ":""}${We!=null?`<= ${We}`:""}`,D)}var a=g((D,O,ae)=>{if(!R(ae,D)){let We=f(T(ae,(Ve)=>typeof Ve=="string"?`'${Ve}'`:V(Ve)),", "),ge="must be one of: "+We;throw new z(O,D,ge)}});function t(D,O){if(typeof D!="boolean")throw new E(O,"boolean",D)}function F(D,O,ae){return D==null||!Z(D,O)?ae:D[O]}var w=g((D,O,ae=null)=>{let We=F(ae,"allowArray",!1),ge=F(ae,"allowFunction",!1);if(!F(ae,"nullable",!1)&&D===null||!We&&u(D)||typeof D!="object"&&(!ge||typeof D!="function"))throw new E(O,"Object",D)}),I=g((D,O,ae=0)=>{if(!u(D))throw new E(O,"Array",D);if(D.length<ae){let We=`must be longer than ${ae}`;throw new z(O,D,We)}});function he(D,O="signal"){if(v(D,O),$e[D]===void 0)throw $e[x(D)]!==void 0?new Y(D+" (signals must use all capital letters)"):new Y(D)}var qe=g((D,O="buffer")=>{if(!_e(D))throw new E(O,["Buffer","TypedArray","DataView"],D)});function Ze(D,O){let ae=C(O),We=D.length;if(ae==="hex"&&We%2!==0)throw new z("encoding",O,`is invalid for data of length ${We}`)}function ue(D,O="Port",ae=!0){if(typeof D!="number"&&typeof D!="string"||typeof D=="string"&&k(D).length===0||+D!==+D>>>0||D>65535||D===0&&!ae)throw new X(O,D,ae);return D|0}var ie=g((D,O)=>{if(D!==void 0&&(D===null||typeof D!="object"||!("aborted"in D)))throw new E(O,"AbortSignal",D)}),fe=g((D,O)=>{if(typeof D!="function")throw new E(O,"Function",D)}),Ee=g((D,O)=>{if(typeof D!="function"||te(D))throw new E(O,"Function",D)}),xe=g((D,O)=>{if(D!==void 0)throw new E(O,"undefined",D)});function ze(D,O,ae){if(!R(ae,D))throw new E(O,`('${f(ae,"|")}')`,D)}d.exports={isInt32:me,isUint32:Me,parseFileMode:i,validateArray:I,validateBoolean:t,validateBuffer:qe,validateEncoding:Ze,validateFunction:fe,validateInt32:m,validateInteger:s,validateNumber:p,validateObject:w,validateOneOf:a,validatePlainFunction:Ee,validatePort:ue,validateSignalName:he,validateString:v,validateUint32:h,validateUndefined:xe,validateUnion:ze,validateAbortSignal:ie}}),jr=je((r,d)=>{var u=d.exports={},R,f;function T(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?R=setTimeout:R=T}catch{R=T}try{typeof clearTimeout=="function"?f=clearTimeout:f=c}catch{f=c}})();function b(X){if(R===setTimeout)return setTimeout(X,0);if((R===T||!R)&&setTimeout)return R=setTimeout,setTimeout(X,0);try{return R(X,0)}catch{try{return R.call(null,X,0)}catch{return R.call(this,X,0)}}}function W(X){if(f===clearTimeout)return clearTimeout(X);if((f===c||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(X);try{return f(X)}catch{try{return f.call(null,X)}catch{return f.call(this,X)}}}var y=[],q=!1,Z,$=-1;function V(){!q||!Z||(q=!1,Z.length?y=Z.concat(y):$=-1,y.length&&x())}function x(){if(!q){var X=b(V);q=!0;for(var E=y.length;E;){for(Z=y,y=[];++$<E;)Z&&Z[$].run();$=-1,E=y.length}Z=null,q=!1,W(X)}}u.nextTick=function(X){var E=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)E[z-1]=arguments[z];y.push(new k(X,E)),y.length===1&&!q&&b(x)};function k(X,E){this.fun=X,this.array=E}k.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function g(){}u.on=g,u.addListener=g,u.once=g,u.off=g,u.removeListener=g,u.removeAllListeners=g,u.emit=g,u.prependListener=g,u.prependOnceListener=g,u.listeners=function(X){return[]},u.binding=function(X){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(X){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}}),an={},jo(an,{default:()=>sc}),xn=Ms(()=>{Vs(an,kn(jr())),sc=kn(jr())}),$n=je((r,d)=>{var{Symbol:u,SymbolAsyncIterator:R,SymbolIterator:f}=xa(),T=u("kDestroyed"),c=u("kIsErrored"),b=u("kIsReadable"),W=u("kIsDisturbed");function y(s,m=!1){var h;return!!(s&&typeof s.pipe=="function"&&typeof s.on=="function"&&(!m||typeof s.pause=="function"&&typeof s.resume=="function")&&(!s._writableState||((h=s._readableState)===null||h===void 0?void 0:h.readable)!==!1)&&(!s._writableState||s._readableState))}function q(s){var m;return!!(s&&typeof s.write=="function"&&typeof s.on=="function"&&(!s._readableState||((m=s._writableState)===null||m===void 0?void 0:m.writable)!==!1))}function Z(s){return!!(s&&typeof s.pipe=="function"&&s._readableState&&typeof s.on=="function"&&typeof s.write=="function")}function $(s){return s&&(s._readableState||s._writableState||typeof s.write=="function"&&typeof s.on=="function"||typeof s.pipe=="function"&&typeof s.on=="function")}function V(s,m){return s==null?!1:m===!0?typeof s[R]=="function":m===!1?typeof s[f]=="function":typeof s[R]=="function"||typeof s[f]=="function"}function x(s){if(!$(s))return null;let{_writableState:m,_readableState:h}=s,v=m||h;return!!(s.destroyed||s[T]||v!=null&&v.destroyed)}function k(s){if(!q(s))return null;if(s.writableEnded===!0)return!0;let m=s._writableState;return m!=null&&m.errored?!1:typeof m?.ended!="boolean"?null:m.ended}function g(s,m){if(!q(s))return null;if(s.writableFinished===!0)return!0;let h=s._writableState;return h!=null&&h.errored?!1:typeof h?.finished!="boolean"?null:!!(h.finished||m===!1&&h.ended===!0&&h.length===0)}function X(s){if(!y(s))return null;if(s.readableEnded===!0)return!0;let m=s._readableState;return!m||m.errored?!1:typeof m?.ended!="boolean"?null:m.ended}function E(s,m){if(!y(s))return null;let h=s._readableState;return h!=null&&h.errored?!1:typeof h?.endEmitted!="boolean"?null:!!(h.endEmitted||m===!1&&h.ended===!0&&h.length===0)}function z(s){return s&&s[b]!=null?s[b]:typeof s?.readable!="boolean"?null:x(s)?!1:y(s)&&s.readable&&!E(s)}function K(s){return typeof s?.writable!="boolean"?null:x(s)?!1:q(s)&&s.writable&&!k(s)}function Y(s,m){return $(s)?x(s)?!0:!(m?.readable!==!1&&z(s)||m?.writable!==!1&&K(s)):null}function C(s){var m,h;return $(s)?s.writableErrored?s.writableErrored:(m=(h=s._writableState)===null||h===void 0?void 0:h.errored)!==null&&m!==void 0?m:null:null}function te(s){var m,h;return $(s)?s.readableErrored?s.readableErrored:(m=(h=s._readableState)===null||h===void 0?void 0:h.errored)!==null&&m!==void 0?m:null:null}function _e(s){if(!$(s))return null;if(typeof s.closed=="boolean")return s.closed;let{_writableState:m,_readableState:h}=s;return typeof m?.closed=="boolean"||typeof h?.closed=="boolean"?m?.closed||h?.closed:typeof s._closed=="boolean"&&$e(s)?s._closed:null}function $e(s){return typeof s._closed=="boolean"&&typeof s._defaultKeepAlive=="boolean"&&typeof s._removedConnection=="boolean"&&typeof s._removedContLen=="boolean"}function me(s){return typeof s._sent100=="boolean"&&$e(s)}function Me(s){var m;return typeof s._consuming=="boolean"&&typeof s._dumped=="boolean"&&((m=s.req)===null||m===void 0?void 0:m.upgradeOrConnect)===void 0}function e(s){if(!$(s))return null;let{_writableState:m,_readableState:h}=s,v=m||h;return!v&&me(s)||!!(v&&v.autoDestroy&&v.emitClose&&v.closed===!1)}function o(s){var m;return!!(s&&((m=s[W])!==null&&m!==void 0?m:s.readableDidRead||s.readableAborted))}function i(s){var m,h,v,p,a,t,F,w,I,he;return!!(s&&((m=(h=(v=(p=(a=(t=s[c])!==null&&t!==void 0?t:s.readableErrored)!==null&&a!==void 0?a:s.writableErrored)!==null&&p!==void 0?p:(F=s._readableState)===null||F===void 0?void 0:F.errorEmitted)!==null&&v!==void 0?v:(w=s._writableState)===null||w===void 0?void 0:w.errorEmitted)!==null&&h!==void 0?h:(I=s._readableState)===null||I===void 0?void 0:I.errored)!==null&&m!==void 0?m:(he=s._writableState)===null||he===void 0?void 0:he.errored))}d.exports={kDestroyed:T,isDisturbed:o,kIsDisturbed:W,isErrored:i,kIsErrored:c,isReadable:z,kIsReadable:b,isClosed:_e,isDestroyed:x,isDuplexNodeStream:Z,isFinished:Y,isIterable:V,isReadableNodeStream:y,isReadableEnded:X,isReadableFinished:E,isReadableErrored:te,isNodeStream:$,isWritable:K,isWritableNodeStream:q,isWritableEnded:k,isWritableFinished:g,isWritableErrored:C,isServerRequest:Me,isServerResponse:me,willEmitClose:e}}),Mn=je((r,d)=>{var u=(xn(),Ea(an)),{AbortError:R,codes:f}=wa(),{ERR_INVALID_ARG_TYPE:T,ERR_STREAM_PREMATURE_CLOSE:c}=f,{kEmptyObject:b,once:W}=en(),{validateAbortSignal:y,validateFunction:q,validateObject:Z}=Io(),{Promise:$}=xa(),{isClosed:V,isReadable:x,isReadableNodeStream:k,isReadableFinished:g,isReadableErrored:X,isWritable:E,isWritableNodeStream:z,isWritableFinished:K,isWritableErrored:Y,isNodeStream:C,willEmitClose:te}=$n();function _e(e){return e.setHeader&&typeof e.abort=="function"}var $e=()=>{};function me(e,o,i){var s,m;arguments.length===2?(i=o,o=b):o==null?o=b:Z(o,"options"),q(i,"callback"),y(o.signal,"options.signal"),i=W(i);let h=(s=o.readable)!==null&&s!==void 0?s:k(e),v=(m=o.writable)!==null&&m!==void 0?m:z(e);if(!C(e))throw new T("stream","Stream",e);let{_writableState:p,_readableState:a}=e,t=()=>{e.writable||I()},F=te(e)&&k(e)===h&&z(e)===v,w=K(e,!1),I=()=>{w=!0,e.destroyed&&(F=!1),!(F&&(!e.readable||h))&&(!h||he)&&i.call(e)},he=g(e,!1),qe=()=>{he=!0,e.destroyed&&(F=!1),!(F&&(!e.writable||v))&&(!v||w)&&i.call(e)},Ze=(xe)=>{i.call(e,xe)},ue=V(e),ie=()=>{ue=!0;let xe=Y(e)||X(e);if(xe&&typeof xe!="boolean")return i.call(e,xe);if(h&&!he&&k(e,!0)&&!g(e,!1))return i.call(e,new c);if(v&&!w&&!K(e,!1))return i.call(e,new c);i.call(e)},fe=()=>{e.req.on("finish",I)};_e(e)?(e.on("complete",I),F||e.on("abort",ie),e.req?fe():e.on("request",fe)):v&&!p&&(e.on("end",t),e.on("close",t)),!F&&typeof e.aborted=="boolean"&&e.on("aborted",ie),e.on("end",qe),e.on("finish",I),o.error!==!1&&e.on("error",Ze),e.on("close",ie),ue?u.nextTick(ie):p!=null&&p.errorEmitted||a!=null&&a.errorEmitted?F||u.nextTick(ie):(!h&&(!F||x(e))&&(w||E(e)===!1)||!v&&(!F||E(e))&&(he||x(e)===!1)||a&&e.req&&e.aborted)&&u.nextTick(ie);let Ee=()=>{i=$e,e.removeListener("aborted",ie),e.removeListener("complete",I),e.removeListener("abort",ie),e.removeListener("request",fe),e.req&&e.req.removeListener("finish",I),e.removeListener("end",t),e.removeListener("close",t),e.removeListener("finish",I),e.removeListener("end",qe),e.removeListener("error",Ze),e.removeListener("close",ie)};if(o.signal&&!ue){let xe=()=>{let ze=i;Ee(),ze.call(e,new R(void 0,{cause:o.signal.reason}))};if(o.signal.aborted)u.nextTick(xe);else{let ze=i;i=W((...D)=>{o.signal.removeEventListener("abort",xe),ze.apply(e,D)}),o.signal.addEventListener("abort",xe)}}return Ee}function Me(e,o){return new $((i,s)=>{me(e,o,(m)=>{m?s(m):i()})})}d.exports=me,d.exports.finished=Me}),rc=je((r,d)=>{var u=globalThis.AbortController||zs().AbortController,{codes:{ERR_INVALID_ARG_TYPE:R,ERR_MISSING_ARGS:f,ERR_OUT_OF_RANGE:T},AbortError:c}=wa(),{validateAbortSignal:b,validateInteger:W,validateObject:y}=Io(),q=xa().Symbol("kWeak"),{finished:Z}=Mn(),{ArrayPrototypePush:$,MathFloor:V,Number:x,NumberIsNaN:k,Promise:g,PromiseReject:X,PromisePrototypeThen:E,Symbol:z}=xa(),K=z("kEmpty"),Y=z("kEof");function C(a,t){if(typeof a!="function")throw new R("fn",["Function","AsyncFunction"],a);t!=null&&y(t,"options"),t?.signal!=null&&b(t.signal,"options.signal");let F=1;return t?.concurrency!=null&&(F=V(t.concurrency)),W(F,"concurrency",1),async function*(){var w,I;let he=new u,qe=this,Ze=[],ue=he.signal,ie={signal:ue},fe=()=>he.abort();t!=null&&(w=t.signal)!==null&&w!==void 0&&w.aborted&&fe(),t==null||(I=t.signal)===null||I===void 0||I.addEventListener("abort",fe);let Ee,xe,ze=!1;function D(){ze=!0}async function O(){try{for await(let ge of qe){var ae;if(ze)return;if(ue.aborted)throw new c;try{ge=a(ge,ie)}catch(Ve){ge=X(Ve)}ge!==K&&(typeof((ae=ge)===null||ae===void 0?void 0:ae.catch)=="function"&&ge.catch(D),Ze.push(ge),Ee&&(Ee(),Ee=null),!ze&&Ze.length&&Ze.length>=F&&await new g((Ve)=>{xe=Ve}))}Ze.push(Y)}catch(ge){let Ve=X(ge);E(Ve,void 0,D),Ze.push(Ve)}finally{var We;ze=!0,Ee&&(Ee(),Ee=null),t==null||(We=t.signal)===null||We===void 0||We.removeEventListener("abort",fe)}}O();try{for(;;){for(;Ze.length>0;){let ae=await Ze[0];if(ae===Y)return;if(ue.aborted)throw new c;ae!==K&&(yield ae),Ze.shift(),xe&&(xe(),xe=null)}await new g((ae)=>{Ee=ae})}}finally{he.abort(),ze=!0,xe&&(xe(),xe=null)}}.call(this)}function te(a=void 0){return a!=null&&y(a,"options"),a?.signal!=null&&b(a.signal,"options.signal"),async function*(){let t=0;for await(let w of this){var F;if(a!=null&&(F=a.signal)!==null&&F!==void 0&&F.aborted)throw new c({cause:a.signal.reason});yield[t++,w]}}.call(this)}async function _e(a,t=void 0){for await(let F of e.call(this,a,t))return!0;return!1}async function $e(a,t=void 0){if(typeof a!="function")throw new R("fn",["Function","AsyncFunction"],a);return!await _e.call(this,async(...F)=>!await a(...F),t)}async function me(a,t){for await(let F of e.call(this,a,t))return F}async function Me(a,t){if(typeof a!="function")throw new R("fn",["Function","AsyncFunction"],a);async function F(w,I){return await a(w,I),K}for await(let w of C.call(this,F,t));}function e(a,t){if(typeof a!="function")throw new R("fn",["Function","AsyncFunction"],a);async function F(w,I){return await a(w,I)?w:K}return C.call(this,F,t)}var o=class extends f{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function i(a,t,F){var w;if(typeof a!="function")throw new R("reducer",["Function","AsyncFunction"],a);F!=null&&y(F,"options"),F?.signal!=null&&b(F.signal,"options.signal");let I=arguments.length>1;if(F!=null&&(w=F.signal)!==null&&w!==void 0&&w.aborted){let ie=new c(void 0,{cause:F.signal.reason});throw this.once("error",()=>{}),await Z(this.destroy(ie)),ie}let he=new u,qe=he.signal;if(F!=null&&F.signal){let ie={once:!0,[q]:this};F.signal.addEventListener("abort",()=>he.abort(),ie)}let Ze=!1;try{for await(let ie of this){var ue;if(Ze=!0,F!=null&&(ue=F.signal)!==null&&ue!==void 0&&ue.aborted)throw new c;I?t=await a(t,ie,{signal:qe}):(t=ie,I=!0)}if(!Ze&&!I)throw new o}finally{he.abort()}return t}async function s(a){a!=null&&y(a,"options"),a?.signal!=null&&b(a.signal,"options.signal");let t=[];for await(let w of this){var F;if(a!=null&&(F=a.signal)!==null&&F!==void 0&&F.aborted)throw new c(void 0,{cause:a.signal.reason});$(t,w)}return t}function m(a,t){let F=C.call(this,a,t);return async function*(){for await(let w of F)yield*w}.call(this)}function h(a){if(a=x(a),k(a))return 0;if(a<0)throw new T("number",">= 0",a);return a}function v(a,t=void 0){return t!=null&&y(t,"options"),t?.signal!=null&&b(t.signal,"options.signal"),a=h(a),async function*(){var F;if(t!=null&&(F=t.signal)!==null&&F!==void 0&&F.aborted)throw new c;for await(let I of this){var w;if(t!=null&&(w=t.signal)!==null&&w!==void 0&&w.aborted)throw new c;a--<=0&&(yield I)}}.call(this)}function p(a,t=void 0){return t!=null&&y(t,"options"),t?.signal!=null&&b(t.signal,"options.signal"),a=h(a),async function*(){var F;if(t!=null&&(F=t.signal)!==null&&F!==void 0&&F.aborted)throw new c;for await(let I of this){var w;if(t!=null&&(w=t.signal)!==null&&w!==void 0&&w.aborted)throw new c;if(a-- >0)yield I;else return}}.call(this)}d.exports.streamReturningOperators={asIndexedPairs:te,drop:v,filter:e,flatMap:m,map:C,take:p},d.exports.promiseReturningOperators={every:$e,forEach:Me,reduce:i,toArray:s,some:_e,find:me}}),Hn=je((r,d)=>{var u=(xn(),Ea(an)),{aggregateTwoErrors:R,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:T}=wa(),{Symbol:c}=xa(),{kDestroyed:b,isDestroyed:W,isFinished:y,isServerRequest:q}=$n(),Z=c("kDestroy"),$=c("kConstruct");function V(e,o,i){e&&(e.stack,o&&!o.errored&&(o.errored=e),i&&!i.errored&&(i.errored=e))}function x(e,o){let i=this._readableState,s=this._writableState,m=s||i;return s&&s.destroyed||i&&i.destroyed?(typeof o=="function"&&o(),this):(V(e,s,i),s&&(s.destroyed=!0),i&&(i.destroyed=!0),m.constructed?k(this,e,o):this.once(Z,function(h){k(this,R(h,e),o)}),this)}function k(e,o,i){let s=!1;function m(h){if(s)return;s=!0;let{_readableState:v,_writableState:p}=e;V(h,p,v),p&&(p.closed=!0),v&&(v.closed=!0),typeof i=="function"&&i(h),h?u.nextTick(g,e,h):u.nextTick(X,e)}try{e._destroy(o||null,m)}catch(h){m(h)}}function g(e,o){E(e,o),X(e)}function X(e){let{_readableState:o,_writableState:i}=e;i&&(i.closeEmitted=!0),o&&(o.closeEmitted=!0),(i&&i.emitClose||o&&o.emitClose)&&e.emit("close")}function E(e,o){let{_readableState:i,_writableState:s}=e;s&&s.errorEmitted||i&&i.errorEmitted||(s&&(s.errorEmitted=!0),i&&(i.errorEmitted=!0),e.emit("error",o))}function z(){let e=this._readableState,o=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),o&&(o.constructed=!0,o.destroyed=!1,o.closed=!1,o.closeEmitted=!1,o.errored=null,o.errorEmitted=!1,o.finalCalled=!1,o.prefinished=!1,o.ended=o.writable===!1,o.ending=o.writable===!1,o.finished=o.writable===!1)}function K(e,o,i){let{_readableState:s,_writableState:m}=e;if(m&&m.destroyed||s&&s.destroyed)return this;s&&s.autoDestroy||m&&m.autoDestroy?e.destroy(o):o&&(o.stack,m&&!m.errored&&(m.errored=o),s&&!s.errored&&(s.errored=o),i?u.nextTick(E,e,o):E(e,o))}function Y(e,o){if(typeof e._construct!="function")return;let{_readableState:i,_writableState:s}=e;i&&(i.constructed=!1),s&&(s.constructed=!1),e.once($,o),!(e.listenerCount($)>1)&&u.nextTick(C,e)}function C(e){let o=!1;function i(s){if(o){K(e,s??new f);return}o=!0;let{_readableState:m,_writableState:h}=e,v=h||m;m&&(m.constructed=!0),h&&(h.constructed=!0),v.destroyed?e.emit(Z,s):s?K(e,s,!0):u.nextTick(te,e)}try{e._construct(i)}catch(s){i(s)}}function te(e){e.emit($)}function _e(e){return e&&e.setHeader&&typeof e.abort=="function"}function $e(e){e.emit("close")}function me(e,o){e.emit("error",o),u.nextTick($e,e)}function Me(e,o){!e||W(e)||(!o&&!y(e)&&(o=new T),q(e)?(e.socket=null,e.destroy(o)):_e(e)?e.abort():_e(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(o):typeof e.close=="function"?e.close():o?u.nextTick(me,e,o):u.nextTick($e,e),e.destroyed||(e[b]=!0))}d.exports={construct:Y,destroyer:Me,destroy:x,undestroy:z,errorOrDestroy:K}}),Fs=je((r,d)=>{var{ArrayIsArray:u,ObjectSetPrototypeOf:R}=xa(),{EventEmitter:f}=Tn();function T(b){f.call(this,b)}R(T.prototype,f.prototype),R(T,f),T.prototype.pipe=function(b,W){let y=this;function q(X){b.writable&&b.write(X)===!1&&y.pause&&y.pause()}y.on("data",q);function Z(){y.readable&&y.resume&&y.resume()}b.on("drain",Z),!b._isStdio&&(!W||W.end!==!1)&&(y.on("end",V),y.on("close",x));let $=!1;function V(){$||($=!0,b.end())}function x(){$||($=!0,typeof b.destroy=="function"&&b.destroy())}function k(X){g(),f.listenerCount(this,"error")===0&&this.emit("error",X)}c(y,"error",k),c(b,"error",k);function g(){y.removeListener("data",q),b.removeListener("drain",Z),y.removeListener("end",V),y.removeListener("close",x),y.removeListener("error",k),b.removeListener("error",k),y.removeListener("end",g),y.removeListener("close",g),b.removeListener("close",g)}return y.on("end",g),y.on("close",g),b.on("close",g),b.emit("pipe",y),b};function c(b,W,y){if(typeof b.prependListener=="function")return b.prependListener(W,y);!b._events||!b._events[W]?b.on(W,y):u(b._events[W])?b._events[W].unshift(y):b._events[W]=[y,b._events[W]]}d.exports={Stream:T,prependListener:c}}),Os=je((r,d)=>{var{AbortError:u,codes:R}=wa(),f=Mn(),{ERR_INVALID_ARG_TYPE:T}=R,c=(W,y)=>{if(typeof W!="object"||!("aborted"in W))throw new T(y,"AbortSignal",W)};function b(W){return!!(W&&typeof W.pipe=="function")}d.exports.addAbortSignal=function(W,y){if(c(W,"signal"),!b(y))throw new T("stream","stream.Stream",y);return d.exports.addAbortSignalNoValidate(W,y)},d.exports.addAbortSignalNoValidate=function(W,y){if(typeof W!="object"||!("aborted"in W))return y;let q=()=>{y.destroy(new u(void 0,{cause:W.reason}))};return W.aborted?q():(W.addEventListener("abort",q),f(y,()=>W.removeEventListener("abort",q))),y}}),lc=je((r,d)=>{var{StringPrototypeSlice:u,SymbolIterator:R,TypedArrayPrototypeSet:f,Uint8Array:T}=xa(),{Buffer:c}=Va(),{inspect:b}=en();d.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(W){let y={data:W,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}unshift(W){let y={data:W,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}shift(){if(this.length===0)return;let W=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,W}clear(){this.head=this.tail=null,this.length=0}join(W){if(this.length===0)return"";let y=this.head,q=""+y.data;for(;(y=y.next)!==null;)q+=W+y.data;return q}concat(W){if(this.length===0)return c.alloc(0);let y=c.allocUnsafe(W>>>0),q=this.head,Z=0;for(;q;)f(y,q.data,Z),Z+=q.data.length,q=q.next;return y}consume(W,y){let q=this.head.data;if(W<q.length){let Z=q.slice(0,W);return this.head.data=q.slice(W),Z}return W===q.length?this.shift():y?this._getString(W):this._getBuffer(W)}first(){return this.head.data}*[R](){for(let W=this.head;W;W=W.next)yield W.data}_getString(W){let y="",q=this.head,Z=0;do{let $=q.data;if(W>$.length)y+=$,W-=$.length;else{W===$.length?(y+=$,++Z,q.next?this.head=q.next:this.head=this.tail=null):(y+=u($,0,W),this.head=q,q.data=u($,W));break}++Z}while((q=q.next)!==null);return this.length-=Z,y}_getBuffer(W){let y=c.allocUnsafe(W),q=W,Z=this.head,$=0;do{let V=Z.data;if(W>V.length)f(y,V,q-W),W-=V.length;else{W===V.length?(f(y,V,q-W),++$,Z.next?this.head=Z.next:this.head=this.tail=null):(f(y,new T(V.buffer,V.byteOffset,W),q-W),this.head=Z,Z.data=V.slice(W));break}++$}while((Z=Z.next)!==null);return this.length-=$,y}[Symbol.for("nodejs.util.inspect.custom")](W,y){return b(this,{...y,depth:0,customInspect:!1})}}}),Xs=je((r,d)=>{var{MathFloor:u,NumberIsInteger:R}=xa(),{ERR_INVALID_ARG_VALUE:f}=wa().codes;function T(W,y,q){return W.highWaterMark!=null?W.highWaterMark:y?W[q]:null}function c(W){return W?16:16384}function b(W,y,q,Z){let $=T(y,Z,q);if($!=null){if(!R($)||$<0){let V=Z?`options.${q}`:"options.highWaterMark";throw new f(V,$)}return u($)}return c(W.objectMode)}d.exports={getHighWaterMark:b,getDefaultHighWaterMark:c}}),Jr=je((r,d)=>{var u=(xn(),Ea(an)),{PromisePrototypeThen:R,SymbolAsyncIterator:f,SymbolIterator:T}=xa(),{Buffer:c}=Va(),{ERR_INVALID_ARG_TYPE:b,ERR_STREAM_NULL_VALUES:W}=wa().codes;function y(q,Z,$){let V;if(typeof Z=="string"||Z instanceof c)return new q({objectMode:!0,...$,read(){this.push(Z),this.push(null)}});let x;if(Z&&Z[f])x=!0,V=Z[f]();else if(Z&&Z[T])x=!1,V=Z[T]();else throw new b("iterable",["Iterable"],Z);let k=new q({objectMode:!0,highWaterMark:1,...$}),g=!1;k._read=function(){g||(g=!0,E())},k._destroy=function(z,K){R(X(z),()=>u.nextTick(K,z),(Y)=>u.nextTick(K,Y||z))};async function X(z){let K=z!=null,Y=typeof V.throw=="function";if(K&&Y){let{value:C,done:te}=await V.throw(z);if(await C,te)return}if(typeof V.return=="function"){let{value:C}=await V.return();await C}}async function E(){for(;;){try{let{value:z,done:K}=x?await V.next():V.next();if(K)k.push(null);else{let Y=z&&typeof z.then=="function"?await z:z;if(Y===null)throw g=!1,new W;if(k.push(Y))continue;g=!1}}catch(z){k.destroy(z)}break}}return k}d.exports=y}),Go=je((r,d)=>{var u=(xn(),Ea(an)),{ArrayPrototypeIndexOf:R,NumberIsInteger:f,NumberIsNaN:T,NumberParseInt:c,ObjectDefineProperties:b,ObjectKeys:W,ObjectSetPrototypeOf:y,Promise:q,SafeSet:Z,SymbolAsyncIterator:$,Symbol:V}=xa();d.exports=F,F.ReadableState=t;var{EventEmitter:x}=Tn(),{Stream:k,prependListener:g}=Fs(),{Buffer:X}=Va(),{addAbortSignal:E}=Os(),z=Mn(),K=en().debuglog("stream",(L)=>{K=L}),Y=lc(),C=Hn(),{getHighWaterMark:te,getDefaultHighWaterMark:_e}=Xs(),{aggregateTwoErrors:$e,codes:{ERR_INVALID_ARG_TYPE:me,ERR_METHOD_NOT_IMPLEMENTED:Me,ERR_OUT_OF_RANGE:e,ERR_STREAM_PUSH_AFTER_EOF:o,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:i}}=wa(),{validateObject:s}=Io(),m=V("kPaused"),{StringDecoder:h}=Ls(),v=Jr();y(F.prototype,k.prototype),y(F,k);var p=()=>{},{errorOrDestroy:a}=C;function t(L,n,l){typeof l!="boolean"&&(l=n instanceof nn()),this.objectMode=!!(L&&L.objectMode),l&&(this.objectMode=this.objectMode||!!(L&&L.readableObjectMode)),this.highWaterMark=L?te(this,L,"readableHighWaterMark",l):_e(!1),this.buffer=new Y,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[m]=null,this.errorEmitted=!1,this.emitClose=!L||L.emitClose!==!1,this.autoDestroy=!L||L.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=L&&L.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,L&&L.encoding&&(this.decoder=new h(L.encoding),this.encoding=L.encoding)}function F(L){if(!(this instanceof F))return new F(L);let n=this instanceof nn();this._readableState=new t(L,this,n),L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.construct=="function"&&(this._construct=L.construct),L.signal&&!n&&E(L.signal,this)),k.call(this,L),C.construct(this,()=>{this._readableState.needReadable&&Ee(this,this._readableState)})}F.prototype.destroy=C.destroy,F.prototype._undestroy=C.undestroy,F.prototype._destroy=function(L,n){n(L)},F.prototype[x.captureRejectionSymbol]=function(L){this.destroy(L)},F.prototype.push=function(L,n){return w(this,L,n,!1)},F.prototype.unshift=function(L,n){return w(this,L,n,!0)};function w(L,n,l,_){K("readableAddChunk",n);let N=L._readableState,M;if(N.objectMode||(typeof n=="string"?(l=l||N.defaultEncoding,N.encoding!==l&&(_&&N.encoding?n=X.from(n,l).toString(N.encoding):(n=X.from(n,l),l=""))):n instanceof X?l="":k._isUint8Array(n)?(n=k._uint8ArrayToBuffer(n),l=""):n!=null&&(M=new me("chunk",["string","Buffer","Uint8Array"],n))),M)a(L,M);else if(n===null)N.reading=!1,ue(L,N);else if(N.objectMode||n&&n.length>0)if(_)if(N.endEmitted)a(L,new i);else{if(N.destroyed||N.errored)return!1;I(L,N,n,!0)}else if(N.ended)a(L,new o);else{if(N.destroyed||N.errored)return!1;N.reading=!1,N.decoder&&!l?(n=N.decoder.write(n),N.objectMode||n.length!==0?I(L,N,n,!1):Ee(L,N)):I(L,N,n,!1)}else _||(N.reading=!1,Ee(L,N));return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function I(L,n,l,_){n.flowing&&n.length===0&&!n.sync&&L.listenerCount("data")>0?(n.multiAwaitDrain?n.awaitDrainWriters.clear():n.awaitDrainWriters=null,n.dataEmitted=!0,L.emit("data",l)):(n.length+=n.objectMode?1:l.length,_?n.buffer.unshift(l):n.buffer.push(l),n.needReadable&&ie(L)),Ee(L,n)}F.prototype.isPaused=function(){let L=this._readableState;return L[m]===!0||L.flowing===!1},F.prototype.setEncoding=function(L){let n=new h(L);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;let l=this._readableState.buffer,_="";for(let N of l)_+=n.write(N);return l.clear(),_!==""&&l.push(_),this._readableState.length=_.length,this};var he=1073741824;function qe(L){if(L>he)throw new e("size","<= 1GiB",L);return L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++,L}function Ze(L,n){return L<=0||n.length===0&&n.ended?0:n.objectMode?1:T(L)?n.flowing&&n.length?n.buffer.first().length:n.length:L<=n.length?L:n.ended?n.length:0}F.prototype.read=function(L){K("read",L),L===void 0?L=NaN:f(L)||(L=c(L,10));let n=this._readableState,l=L;if(L>n.highWaterMark&&(n.highWaterMark=qe(L)),L!==0&&(n.emittedReadable=!1),L===0&&n.needReadable&&((n.highWaterMark!==0?n.length>=n.highWaterMark:n.length>0)||n.ended))return K("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?Je(this):ie(this),null;if(L=Ze(L,n),L===0&&n.ended)return n.length===0&&Je(this),null;let _=n.needReadable;if(K("need readable",_),(n.length===0||n.length-L<n.highWaterMark)&&(_=!0,K("length less than watermark",_)),n.ended||n.reading||n.destroyed||n.errored||!n.constructed)_=!1,K("reading, ended or constructing",_);else if(_){K("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0);try{this._read(n.highWaterMark)}catch(M){a(this,M)}n.sync=!1,n.reading||(L=Ze(l,n))}let N;return L>0?N=Oe(L,n):N=null,N===null?(n.needReadable=n.length<=n.highWaterMark,L=0):(n.length-=L,n.multiAwaitDrain?n.awaitDrainWriters.clear():n.awaitDrainWriters=null),n.length===0&&(n.ended||(n.needReadable=!0),l!==L&&n.ended&&Je(this)),N!==null&&!n.errorEmitted&&!n.closeEmitted&&(n.dataEmitted=!0,this.emit("data",N)),N};function ue(L,n){if(K("onEofChunk"),!n.ended){if(n.decoder){let l=n.decoder.end();l&&l.length&&(n.buffer.push(l),n.length+=n.objectMode?1:l.length)}n.ended=!0,n.sync?ie(L):(n.needReadable=!1,n.emittedReadable=!0,fe(L))}}function ie(L){let n=L._readableState;K("emitReadable",n.needReadable,n.emittedReadable),n.needReadable=!1,n.emittedReadable||(K("emitReadable",n.flowing),n.emittedReadable=!0,u.nextTick(fe,L))}function fe(L){let n=L._readableState;K("emitReadable_",n.destroyed,n.length,n.ended),!n.destroyed&&!n.errored&&(n.length||n.ended)&&(L.emit("readable"),n.emittedReadable=!1),n.needReadable=!n.flowing&&!n.ended&&n.length<=n.highWaterMark,ge(L)}function Ee(L,n){!n.readingMore&&n.constructed&&(n.readingMore=!0,u.nextTick(xe,L,n))}function xe(L,n){for(;!n.reading&&!n.ended&&(n.length<n.highWaterMark||n.flowing&&n.length===0);){let l=n.length;if(K("maybeReadMore read 0"),L.read(0),l===n.length)break}n.readingMore=!1}F.prototype._read=function(L){throw new Me("_read()")},F.prototype.pipe=function(L,n){let l=this,_=this._readableState;_.pipes.length===1&&(_.multiAwaitDrain||(_.multiAwaitDrain=!0,_.awaitDrainWriters=new Z(_.awaitDrainWriters?[_.awaitDrainWriters]:[]))),_.pipes.push(L),K("pipe count=%d opts=%j",_.pipes.length,n);let N=(!n||n.end!==!1)&&L!==u.stdout&&L!==u.stderr?S:Q;_.endEmitted?u.nextTick(N):l.once("end",N),L.on("unpipe",M);function M(le,Re){K("onunpipe"),le===l&&Re&&Re.hasUnpiped===!1&&(Re.hasUnpiped=!0,j())}function S(){K("onend"),L.end()}let U,P=!1;function j(){K("cleanup"),L.removeListener("close",G),L.removeListener("finish",oe),U&&L.removeListener("drain",U),L.removeListener("error",H),L.removeListener("unpipe",M),l.removeListener("end",S),l.removeListener("end",Q),l.removeListener("data",ee),P=!0,U&&_.awaitDrainWriters&&(!L._writableState||L._writableState.needDrain)&&U()}function J(){P||(_.pipes.length===1&&_.pipes[0]===L?(K("false write response, pause",0),_.awaitDrainWriters=L,_.multiAwaitDrain=!1):_.pipes.length>1&&_.pipes.includes(L)&&(K("false write response, pause",_.awaitDrainWriters.size),_.awaitDrainWriters.add(L)),l.pause()),U||(U=ze(l,L),L.on("drain",U))}l.on("data",ee);function ee(le){K("ondata");let Re=L.write(le);K("dest.write",Re),Re===!1&&J()}function H(le){if(K("onerror",le),Q(),L.removeListener("error",H),L.listenerCount("error")===0){let Re=L._writableState||L._readableState;Re&&!Re.errorEmitted?a(L,le):L.emit("error",le)}}g(L,"error",H);function G(){L.removeListener("finish",oe),Q()}L.once("close",G);function oe(){K("onfinish"),L.removeListener("close",G),Q()}L.once("finish",oe);function Q(){K("unpipe"),l.unpipe(L)}return L.emit("pipe",l),L.writableNeedDrain===!0?_.flowing&&J():_.flowing||(K("pipe resume"),l.resume()),L};function ze(L,n){return function(){let l=L._readableState;l.awaitDrainWriters===n?(K("pipeOnDrain",1),l.awaitDrainWriters=null):l.multiAwaitDrain&&(K("pipeOnDrain",l.awaitDrainWriters.size),l.awaitDrainWriters.delete(n)),(!l.awaitDrainWriters||l.awaitDrainWriters.size===0)&&L.listenerCount("data")&&L.resume()}}F.prototype.unpipe=function(L){let n=this._readableState,l={hasUnpiped:!1};if(n.pipes.length===0)return this;if(!L){let N=n.pipes;n.pipes=[],this.pause();for(let M=0;M<N.length;M++)N[M].emit("unpipe",this,{hasUnpiped:!1});return this}let _=R(n.pipes,L);return _===-1?this:(n.pipes.splice(_,1),n.pipes.length===0&&this.pause(),L.emit("unpipe",this,l),this)},F.prototype.on=function(L,n){let l=k.prototype.on.call(this,L,n),_=this._readableState;return L==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):L==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,K("on readable",_.length,_.reading),_.length?ie(this):_.reading||u.nextTick(O,this)),l},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(L,n){let l=k.prototype.removeListener.call(this,L,n);return L==="readable"&&u.nextTick(D,this),l},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(L){let n=k.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&u.nextTick(D,this),n};function D(L){let n=L._readableState;n.readableListening=L.listenerCount("readable")>0,n.resumeScheduled&&n[m]===!1?n.flowing=!0:L.listenerCount("data")>0?L.resume():n.readableListening||(n.flowing=null)}function O(L){K("readable nexttick read 0"),L.read(0)}F.prototype.resume=function(){let L=this._readableState;return L.flowing||(K("resume"),L.flowing=!L.readableListening,ae(this,L)),L[m]=!1,this};function ae(L,n){n.resumeScheduled||(n.resumeScheduled=!0,u.nextTick(We,L,n))}function We(L,n){K("resume",n.reading),n.reading||L.read(0),n.resumeScheduled=!1,L.emit("resume"),ge(L),n.flowing&&!n.reading&&L.read(0)}F.prototype.pause=function(){return K("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(K("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[m]=!0,this};function ge(L){let n=L._readableState;for(K("flow",n.flowing);n.flowing&&L.read()!==null;);}F.prototype.wrap=function(L){let n=!1;L.on("data",(_)=>{!this.push(_)&&L.pause&&(n=!0,L.pause())}),L.on("end",()=>{this.push(null)}),L.on("error",(_)=>{a(this,_)}),L.on("close",()=>{this.destroy()}),L.on("destroy",()=>{this.destroy()}),this._read=()=>{n&&L.resume&&(n=!1,L.resume())};let l=W(L);for(let _=1;_<l.length;_++){let N=l[_];this[N]===void 0&&typeof L[N]=="function"&&(this[N]=L[N].bind(L))}return this},F.prototype[$]=function(){return Ve(this)},F.prototype.iterator=function(L){return L!==void 0&&s(L,"options"),Ve(this,L)};function Ve(L,n){typeof L.read!="function"&&(L=F.wrap(L,{objectMode:!0}));let l=De(L,n);return l.stream=L,l}async function*De(L,n){let l=p;function _(S){this===L?(l(),l=p):l=S}L.on("readable",_);let N,M=z(L,{writable:!1},(S)=>{N=S?$e(N,S):null,l(),l=p});try{for(;;){let S=L.destroyed?null:L.read();if(S!==null)yield S;else{if(N)throw N;if(N===null)return;await new q(_)}}}catch(S){throw N=$e(N,S),N}finally{(N||n?.destroyOnReturn!==!1)&&(N===void 0||L._readableState.autoDestroy)?C.destroyer(L,null):(L.off("readable",_),M())}}b(F.prototype,{readable:{__proto__:null,get(){let L=this._readableState;return!!L&&L.readable!==!1&&!L.destroyed&&!L.errorEmitted&&!L.endEmitted},set(L){this._readableState&&(this._readableState.readable=!!L)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(L){!this._readableState||(this._readableState.destroyed=L)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),b(t.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[m]!==!1},set(L){this[m]=!!L}}}),F._fromList=Oe;function Oe(L,n){if(n.length===0)return null;let l;return n.objectMode?l=n.buffer.shift():!L||L>=n.length?(n.decoder?l=n.buffer.join(""):n.buffer.length===1?l=n.buffer.first():l=n.buffer.concat(n.length),n.buffer.clear()):l=n.buffer.consume(L,n.decoder),l}function Je(L){let n=L._readableState;K("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,u.nextTick(Qe,n,L))}function Qe(L,n){if(K("endReadableNT",L.endEmitted,L.length),!L.errored&&!L.closeEmitted&&!L.endEmitted&&L.length===0){if(L.endEmitted=!0,n.emit("end"),n.writable&&n.allowHalfOpen===!1)u.nextTick(Pe,n);else if(L.autoDestroy){let l=n._writableState;(!l||l.autoDestroy&&(l.finished||l.writable===!1))&&n.destroy()}}}function Pe(L){L.writable&&!L.writableEnded&&!L.destroyed&&L.end()}F.from=function(L,n){return v(F,L,n)};var Fe;function pa(){return Fe===void 0&&(Fe={}),Fe}F.fromWeb=function(L,n){return pa().newStreamReadableFromReadableStream(L,n)},F.toWeb=function(L,n){return pa().newReadableStreamFromStreamReadable(L,n)},F.wrap=function(L,n){var l,_;return new F({objectMode:(l=(_=L.readableObjectMode)!==null&&_!==void 0?_:L.objectMode)!==null&&l!==void 0?l:!0,...n,destroy(N,M){C.destroyer(L,N),M(N)}}).wrap(L)}}),Pr=je((r,d)=>{var u=(xn(),Ea(an)),{ArrayPrototypeSlice:R,Error:f,FunctionPrototypeSymbolHasInstance:T,ObjectDefineProperty:c,ObjectDefineProperties:b,ObjectSetPrototypeOf:W,StringPrototypeToLowerCase:y,Symbol:q,SymbolHasInstance:Z}=xa();d.exports=h,h.WritableState=s;var{EventEmitter:$}=Tn(),V=Fs().Stream,{Buffer:x}=Va(),k=Hn(),{addAbortSignal:g}=Os(),{getHighWaterMark:X,getDefaultHighWaterMark:E}=Xs(),{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:K,ERR_MULTIPLE_CALLBACK:Y,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:te,ERR_STREAM_ALREADY_FINISHED:_e,ERR_STREAM_NULL_VALUES:$e,ERR_STREAM_WRITE_AFTER_END:me,ERR_UNKNOWN_ENCODING:Me}=wa().codes,{errorOrDestroy:e}=k;W(h.prototype,V.prototype),W(h,V);function o(){}var i=q("kOnFinished");function s(O,ae,We){typeof We!="boolean"&&(We=ae instanceof nn()),this.objectMode=!!(O&&O.objectMode),We&&(this.objectMode=this.objectMode||!!(O&&O.writableObjectMode)),this.highWaterMark=O?X(this,O,"writableHighWaterMark",We):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ge=!!(O&&O.decodeStrings===!1);this.decodeStrings=!ge,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=F.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,m(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!O||O.emitClose!==!1,this.autoDestroy=!O||O.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[i]=[]}function m(O){O.buffered=[],O.bufferedIndex=0,O.allBuffers=!0,O.allNoop=!0}s.prototype.getBuffer=function(){return R(this.buffered,this.bufferedIndex)},c(s.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function h(O){let ae=this instanceof nn();if(!ae&&!T(h,this))return new h(O);this._writableState=new s(O,this,ae),O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&g(O.signal,this)),V.call(this,O),k.construct(this,()=>{let We=this._writableState;We.writing||qe(this,We),fe(this,We)})}c(h,Z,{__proto__:null,value:function(O){return T(this,O)?!0:this!==h?!1:O&&O._writableState instanceof s}}),h.prototype.pipe=function(){e(this,new C)};function v(O,ae,We,ge){let Ve=O._writableState;if(typeof We=="function")ge=We,We=Ve.defaultEncoding;else{if(!We)We=Ve.defaultEncoding;else if(We!=="buffer"&&!x.isEncoding(We))throw new Me(We);typeof ge!="function"&&(ge=o)}if(ae===null)throw new $e;if(!Ve.objectMode)if(typeof ae=="string")Ve.decodeStrings!==!1&&(ae=x.from(ae,We),We="buffer");else if(ae instanceof x)We="buffer";else if(V._isUint8Array(ae))ae=V._uint8ArrayToBuffer(ae),We="buffer";else throw new z("chunk",["string","Buffer","Uint8Array"],ae);let De;return Ve.ending?De=new me:Ve.destroyed&&(De=new te("write")),De?(u.nextTick(ge,De),e(O,De,!0),De):(Ve.pendingcb++,p(O,Ve,ae,We,ge))}h.prototype.write=function(O,ae,We){return v(this,O,ae,We)===!0},h.prototype.cork=function(){this._writableState.corked++},h.prototype.uncork=function(){let O=this._writableState;O.corked&&(O.corked--,O.writing||qe(this,O))},h.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=y(O)),!x.isEncoding(O))throw new Me(O);return this._writableState.defaultEncoding=O,this};function p(O,ae,We,ge,Ve){let De=ae.objectMode?1:We.length;ae.length+=De;let Oe=ae.length<ae.highWaterMark;return Oe||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:We,encoding:ge,callback:Ve}),ae.allBuffers&&ge!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&Ve!==o&&(ae.allNoop=!1)):(ae.writelen=De,ae.writecb=Ve,ae.writing=!0,ae.sync=!0,O._write(We,ge,ae.onwrite),ae.sync=!1),Oe&&!ae.errored&&!ae.destroyed}function a(O,ae,We,ge,Ve,De,Oe){ae.writelen=ge,ae.writecb=Oe,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new te("write")):We?O._writev(Ve,ae.onwrite):O._write(Ve,De,ae.onwrite),ae.sync=!1}function t(O,ae,We,ge){--ae.pendingcb,ge(We),he(ae),e(O,We)}function F(O,ae){let We=O._writableState,ge=We.sync,Ve=We.writecb;if(typeof Ve!="function"){e(O,new Y);return}We.writing=!1,We.writecb=null,We.length-=We.writelen,We.writelen=0,ae?(ae.stack,We.errored||(We.errored=ae),O._readableState&&!O._readableState.errored&&(O._readableState.errored=ae),ge?u.nextTick(t,O,We,ae,Ve):t(O,We,ae,Ve)):(We.buffered.length>We.bufferedIndex&&qe(O,We),ge?We.afterWriteTickInfo!==null&&We.afterWriteTickInfo.cb===Ve?We.afterWriteTickInfo.count++:(We.afterWriteTickInfo={count:1,cb:Ve,stream:O,state:We},u.nextTick(w,We.afterWriteTickInfo)):I(O,We,1,Ve))}function w({stream:O,state:ae,count:We,cb:ge}){return ae.afterWriteTickInfo=null,I(O,ae,We,ge)}function I(O,ae,We,ge){for(!ae.ending&&!O.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,O.emit("drain"));We-- >0;)ae.pendingcb--,ge();ae.destroyed&&he(ae),fe(O,ae)}function he(O){if(O.writing)return;for(let Ve=O.bufferedIndex;Ve<O.buffered.length;++Ve){var ae;let{chunk:De,callback:Oe}=O.buffered[Ve],Je=O.objectMode?1:De.length;O.length-=Je,Oe((ae=O.errored)!==null&&ae!==void 0?ae:new te("write"))}let We=O[i].splice(0);for(let Ve=0;Ve<We.length;Ve++){var ge;We[Ve]((ge=O.errored)!==null&&ge!==void 0?ge:new te("end"))}m(O)}function qe(O,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;let{buffered:We,bufferedIndex:ge,objectMode:Ve}=ae,De=We.length-ge;if(!De)return;let Oe=ge;if(ae.bufferProcessing=!0,De>1&&O._writev){ae.pendingcb-=De-1;let Je=ae.allNoop?o:(Pe)=>{for(let Fe=Oe;Fe<We.length;++Fe)We[Fe].callback(Pe)},Qe=ae.allNoop&&Oe===0?We:R(We,Oe);Qe.allBuffers=ae.allBuffers,a(O,ae,!0,ae.length,Qe,"",Je),m(ae)}else{do{let{chunk:Je,encoding:Qe,callback:Pe}=We[Oe];We[Oe++]=null;let Fe=Ve?1:Je.length;a(O,ae,!1,Fe,Je,Qe,Pe)}while(Oe<We.length&&!ae.writing);Oe===We.length?m(ae):Oe>256?(We.splice(0,Oe),ae.bufferedIndex=0):ae.bufferedIndex=Oe}ae.bufferProcessing=!1}h.prototype._write=function(O,ae,We){if(this._writev)this._writev([{chunk:O,encoding:ae}],We);else throw new K("_write()")},h.prototype._writev=null,h.prototype.end=function(O,ae,We){let ge=this._writableState;typeof O=="function"?(We=O,O=null,ae=null):typeof ae=="function"&&(We=ae,ae=null);let Ve;if(O!=null){let De=v(this,O,ae);De instanceof f&&(Ve=De)}return ge.corked&&(ge.corked=1,this.uncork()),Ve||(!ge.errored&&!ge.ending?(ge.ending=!0,fe(this,ge,!0),ge.ended=!0):ge.finished?Ve=new _e("end"):ge.destroyed&&(Ve=new te("end"))),typeof We=="function"&&(Ve||ge.finished?u.nextTick(We,Ve):ge[i].push(We)),this};function Ze(O){return O.ending&&!O.destroyed&&O.constructed&&O.length===0&&!O.errored&&O.buffered.length===0&&!O.finished&&!O.writing&&!O.errorEmitted&&!O.closeEmitted}function ue(O,ae){let We=!1;function ge(Ve){if(We){e(O,Ve??Y());return}if(We=!0,ae.pendingcb--,Ve){let De=ae[i].splice(0);for(let Oe=0;Oe<De.length;Oe++)De[Oe](Ve);e(O,Ve,ae.sync)}else Ze(ae)&&(ae.prefinished=!0,O.emit("prefinish"),ae.pendingcb++,u.nextTick(Ee,O,ae))}ae.sync=!0,ae.pendingcb++;try{O._final(ge)}catch(Ve){ge(Ve)}ae.sync=!1}function ie(O,ae){!ae.prefinished&&!ae.finalCalled&&(typeof O._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,ue(O,ae)):(ae.prefinished=!0,O.emit("prefinish")))}function fe(O,ae,We){Ze(ae)&&(ie(O,ae),ae.pendingcb===0&&(We?(ae.pendingcb++,u.nextTick((ge,Ve)=>{Ze(Ve)?Ee(ge,Ve):Ve.pendingcb--},O,ae)):Ze(ae)&&(ae.pendingcb++,Ee(O,ae))))}function Ee(O,ae){ae.pendingcb--,ae.finished=!0;let We=ae[i].splice(0);for(let ge=0;ge<We.length;ge++)We[ge]();if(O.emit("finish"),ae.autoDestroy){let ge=O._readableState;(!ge||ge.autoDestroy&&(ge.endEmitted||ge.readable===!1))&&O.destroy()}}b(h.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(O){this._writableState&&(this._writableState.destroyed=O)}},writable:{__proto__:null,get(){let O=this._writableState;return!!O&&O.writable!==!1&&!O.destroyed&&!O.errored&&!O.ending&&!O.ended},set(O){this._writableState&&(this._writableState.writable=!!O)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let O=this._writableState;return O?!O.destroyed&&!O.ending&&O.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var xe=k.destroy;h.prototype.destroy=function(O,ae){let We=this._writableState;return!We.destroyed&&(We.bufferedIndex<We.buffered.length||We[i].length)&&u.nextTick(he,We),xe.call(this,O,ae),this},h.prototype._undestroy=k.undestroy,h.prototype._destroy=function(O,ae){ae(O)},h.prototype[$.captureRejectionSymbol]=function(O){this.destroy(O)};var ze;function D(){return ze===void 0&&(ze={}),ze}h.fromWeb=function(O,ae){return D().newStreamWritableFromWritableStream(O,ae)},h.toWeb=function(O){return D().newWritableStreamFromStreamWritable(O)}}),ic=je((r,d)=>{var u=(xn(),Ea(an)),R=Va(),{isReadable:f,isWritable:T,isIterable:c,isNodeStream:b,isReadableNodeStream:W,isWritableNodeStream:y,isDuplexNodeStream:q}=$n(),Z=Mn(),{AbortError:$,codes:{ERR_INVALID_ARG_TYPE:V,ERR_INVALID_RETURN_VALUE:x}}=wa(),{destroyer:k}=Hn(),g=nn(),X=Go(),{createDeferredPromise:E}=en(),z=Jr(),K=globalThis.Blob||R.Blob,Y=typeof K<"u"?function(Me){return Me instanceof K}:function(Me){return!1},C=globalThis.AbortController||zs().AbortController,{FunctionPrototypeCall:te}=xa(),_e=class extends g{constructor(Me){super(Me),Me?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Me?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};d.exports=function Me(e,o){if(q(e))return e;if(W(e))return me({readable:e});if(y(e))return me({writable:e});if(b(e))return me({writable:!1,readable:!1});if(typeof e=="function"){let{value:s,write:m,final:h,destroy:v}=$e(e);if(c(s))return z(_e,s,{objectMode:!0,write:m,final:h,destroy:v});let p=s?.then;if(typeof p=="function"){let a,t=te(p,s,(F)=>{if(F!=null)throw new x("nully","body",F)},(F)=>{k(a,F)});return a=new _e({objectMode:!0,readable:!1,write:m,final(F){h(async()=>{try{await t,u.nextTick(F,null)}catch(w){u.nextTick(F,w)}})},destroy:v})}throw new x("Iterable, AsyncIterable or AsyncFunction",o,s)}if(Y(e))return Me(e.arrayBuffer());if(c(e))return z(_e,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let s=e!=null&&e.readable?W(e?.readable)?e?.readable:Me(e.readable):void 0,m=e!=null&&e.writable?y(e?.writable)?e?.writable:Me(e.writable):void 0;return me({readable:s,writable:m})}let i=e?.then;if(typeof i=="function"){let s;return te(i,e,(m)=>{m!=null&&s.push(m),s.push(null)},(m)=>{k(s,m)}),s=new _e({objectMode:!0,writable:!1,read(){}})}throw new V(o,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function $e(Me){let{promise:e,resolve:o}=E(),i=new C,s=i.signal;return{value:Me(async function*(){for(;;){let m=e;e=null;let{chunk:h,done:v,cb:p}=await m;if(u.nextTick(p),v)return;if(s.aborted)throw new $(void 0,{cause:s.reason});({promise:e,resolve:o}=E()),yield h}}(),{signal:s}),write(m,h,v){let p=o;o=null,p({chunk:m,done:!1,cb:v})},final(m){let h=o;o=null,h({done:!0,cb:m})},destroy(m,h){i.abort(),h(m)}}}function me(Me){let e=Me.readable&&typeof Me.readable.read!="function"?X.wrap(Me.readable):Me.readable,o=Me.writable,i=!!f(e),s=!!T(o),m,h,v,p,a;function t(F){let w=p;p=null,w?w(F):F?a.destroy(F):!i&&!s&&a.destroy()}return a=new _e({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(o!=null&&o.writableObjectMode),readable:i,writable:s}),s&&(Z(o,(F)=>{s=!1,F&&k(e,F),t(F)}),a._write=function(F,w,I){o.write(F,w)?I():m=I},a._final=function(F){o.end(),h=F},o.on("drain",function(){if(m){let F=m;m=null,F()}}),o.on("finish",function(){if(h){let F=h;h=null,F()}})),i&&(Z(e,(F)=>{i=!1,F&&k(e,F),t(F)}),e.on("readable",function(){if(v){let F=v;v=null,F()}}),e.on("end",function(){a.push(null)}),a._read=function(){for(;;){let F=e.read();if(F===null){v=a._read;return}if(!a.push(F))return}}),a._destroy=function(F,w){!F&&p!==null&&(F=new $),v=null,m=null,h=null,p===null?w(F):(p=w,k(o,F),k(e,F))},a}}),nn=je((r,d)=>{var{ObjectDefineProperties:u,ObjectGetOwnPropertyDescriptor:R,ObjectKeys:f,ObjectSetPrototypeOf:T}=xa();d.exports=W;var c=Go(),b=Pr();T(W.prototype,c.prototype),T(W,c);{let $=f(b.prototype);for(let V=0;V<$.length;V++){let x=$[V];W.prototype[x]||(W.prototype[x]=b.prototype[x])}}function W($){if(!(this instanceof W))return new W($);c.call(this,$),b.call(this,$),$?(this.allowHalfOpen=$.allowHalfOpen!==!1,$.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),$.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}u(W.prototype,{writable:{__proto__:null,...R(b.prototype,"writable")},writableHighWaterMark:{__proto__:null,...R(b.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...R(b.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...R(b.prototype,"writableBuffer")},writableLength:{__proto__:null,...R(b.prototype,"writableLength")},writableFinished:{__proto__:null,...R(b.prototype,"writableFinished")},writableCorked:{__proto__:null,...R(b.prototype,"writableCorked")},writableEnded:{__proto__:null,...R(b.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...R(b.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set($){this._readableState&&this._writableState&&(this._readableState.destroyed=$,this._writableState.destroyed=$)}}});var y;function q(){return y===void 0&&(y={}),y}W.fromWeb=function($,V){return q().newStreamDuplexFromReadableWritablePair($,V)},W.toWeb=function($){return q().newReadableWritablePairFromDuplex($)};var Z;W.from=function($){return Z||(Z=ic()),Z($,"body")}}),Kr=je((r,d)=>{var{ObjectSetPrototypeOf:u,Symbol:R}=xa();d.exports=W;var{ERR_METHOD_NOT_IMPLEMENTED:f}=wa().codes,T=nn(),{getHighWaterMark:c}=Xs();u(W.prototype,T.prototype),u(W,T);var b=R("kCallback");function W(Z){if(!(this instanceof W))return new W(Z);let $=Z?c(this,Z,"readableHighWaterMark",!0):null;$===0&&(Z={...Z,highWaterMark:null,readableHighWaterMark:$,writableHighWaterMark:Z.writableHighWaterMark||0}),T.call(this,Z),this._readableState.sync=!1,this[b]=null,Z&&(typeof Z.transform=="function"&&(this._transform=Z.transform),typeof Z.flush=="function"&&(this._flush=Z.flush)),this.on("prefinish",q)}function y(Z){typeof this._flush=="function"&&!this.destroyed?this._flush(($,V)=>{if($){Z?Z($):this.destroy($);return}V!=null&&this.push(V),this.push(null),Z&&Z()}):(this.push(null),Z&&Z())}function q(){this._final!==y&&y.call(this)}W.prototype._final=y,W.prototype._transform=function(Z,$,V){throw new f("_transform()")},W.prototype._write=function(Z,$,V){let x=this._readableState,k=this._writableState,g=x.length;this._transform(Z,$,(X,E)=>{if(X){V(X);return}E!=null&&this.push(E),k.ended||g===x.length||x.length<x.highWaterMark?V():this[b]=V})},W.prototype._read=function(){if(this[b]){let Z=this[b];this[b]=null,Z()}}}),Ir=je((r,d)=>{var{ObjectSetPrototypeOf:u}=xa();d.exports=f;var R=Kr();u(f.prototype,R.prototype),u(f,R);function f(T){if(!(this instanceof f))return new f(T);R.call(this,T)}f.prototype._transform=function(T,c,b){b(null,T)}}),Us=je((r,d)=>{var u=(xn(),Ea(an)),{ArrayIsArray:R,Promise:f,SymbolAsyncIterator:T}=xa(),c=Mn(),{once:b}=en(),W=Hn(),y=nn(),{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_RETURN_VALUE:$,ERR_MISSING_ARGS:V,ERR_STREAM_DESTROYED:x,ERR_STREAM_PREMATURE_CLOSE:k},AbortError:g}=wa(),{validateFunction:X,validateAbortSignal:E}=Io(),{isIterable:z,isReadable:K,isReadableNodeStream:Y,isNodeStream:C}=$n(),te=globalThis.AbortController||zs().AbortController,_e,$e;function me(v,p,a){let t=!1;v.on("close",()=>{t=!0});let F=c(v,{readable:p,writable:a},(w)=>{t=!w});return{destroy:(w)=>{t||(t=!0,W.destroyer(v,w||new x("pipe")))},cleanup:F}}function Me(v){return X(v[v.length-1],"streams[stream.length - 1]"),v.pop()}function e(v){if(z(v))return v;if(Y(v))return o(v);throw new Z("val",["Readable","Iterable","AsyncIterable"],v)}async function*o(v){$e||($e=Go()),yield*$e.prototype[T].call(v)}async function i(v,p,a,{end:t}){let F,w=null,I=(Ze)=>{if(Ze&&(F=Ze),w){let ue=w;w=null,ue()}},he=()=>new f((Ze,ue)=>{F?ue(F):w=()=>{F?ue(F):Ze()}});p.on("drain",I);let qe=c(p,{readable:!1},I);try{p.writableNeedDrain&&await he();for await(let Ze of v)p.write(Ze)||await he();t&&p.end(),await he(),a()}catch(Ze){a(F!==Ze?q(F,Ze):Ze)}finally{qe(),p.off("drain",I)}}function s(...v){return m(v,b(Me(v)))}function m(v,p,a){if(v.length===1&&R(v[0])&&(v=v[0]),v.length<2)throw new V("streams");let t=new te,F=t.signal,w=a?.signal,I=[];E(w,"options.signal");function he(){Ee(new g)}w?.addEventListener("abort",he);let qe,Ze,ue=[],ie=0;function fe(O){Ee(O,--ie===0)}function Ee(O,ae){if(O&&(!qe||qe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(qe=O),!(!qe&&!ae)){for(;ue.length;)ue.shift()(qe);w?.removeEventListener("abort",he),t.abort(),ae&&(qe||I.forEach((We)=>We()),u.nextTick(p,qe,Ze))}}let xe;for(let O=0;O<v.length;O++){let ae=v[O],We=O<v.length-1,ge=O>0,Ve=We||a?.end!==!1,De=O===v.length-1;if(C(ae)){let Oe=function(Je){Je&&Je.name!=="AbortError"&&Je.code!=="ERR_STREAM_PREMATURE_CLOSE"&&fe(Je)};var ze=Oe;if(Ve){let{destroy:Je,cleanup:Qe}=me(ae,We,ge);ue.push(Je),K(ae)&&De&&I.push(Qe)}ae.on("error",Oe),K(ae)&&De&&I.push(()=>{ae.removeListener("error",Oe)})}if(O===0)if(typeof ae=="function"){if(xe=ae({signal:F}),!z(xe))throw new $("Iterable, AsyncIterable or Stream","source",xe)}else z(ae)||Y(ae)?xe=ae:xe=y.from(ae);else if(typeof ae=="function")if(xe=e(xe),xe=ae(xe,{signal:F}),We){if(!z(xe,!0))throw new $("AsyncIterable",`transform[${O-1}]`,xe)}else{var D;_e||(_e=Ir());let Oe=new _e({objectMode:!0}),Je=(D=xe)===null||D===void 0?void 0:D.then;if(typeof Je=="function")ie++,Je.call(xe,(Fe)=>{Ze=Fe,Fe!=null&&Oe.write(Fe),Ve&&Oe.end(),u.nextTick(fe)},(Fe)=>{Oe.destroy(Fe),u.nextTick(fe,Fe)});else if(z(xe,!0))ie++,i(xe,Oe,fe,{end:Ve});else throw new $("AsyncIterable or Promise","destination",xe);xe=Oe;let{destroy:Qe,cleanup:Pe}=me(xe,!1,!0);ue.push(Qe),De&&I.push(Pe)}else if(C(ae)){if(Y(xe)){ie+=2;let Oe=h(xe,ae,fe,{end:Ve});K(ae)&&De&&I.push(Oe)}else if(z(xe))ie++,i(xe,ae,fe,{end:Ve});else throw new Z("val",["Readable","Iterable","AsyncIterable"],xe);xe=ae}else xe=y.from(ae)}return(F!=null&&F.aborted||w!=null&&w.aborted)&&u.nextTick(he),xe}function h(v,p,a,{end:t}){let F=!1;return p.on("close",()=>{F||a(new k)}),v.pipe(p,{end:t}),t?v.once("end",()=>{F=!0,p.end()}):a(),c(v,{readable:!0,writable:!1},(w)=>{let I=v._readableState;w&&w.code==="ERR_STREAM_PREMATURE_CLOSE"&&I&&I.ended&&!I.errored&&!I.errorEmitted?v.once("end",a).once("error",a):a(w)}),c(p,{readable:!1,writable:!0},a)}d.exports={pipelineImpl:m,pipeline:s}}),cc=je((r,d)=>{var{pipeline:u}=Us(),R=nn(),{destroyer:f}=Hn(),{isNodeStream:T,isReadable:c,isWritable:b}=$n(),{AbortError:W,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:q}}=wa();d.exports=function(...Z){if(Z.length===0)throw new q("streams");if(Z.length===1)return R.from(Z[0]);let $=[...Z];if(typeof Z[0]=="function"&&(Z[0]=R.from(Z[0])),typeof Z[Z.length-1]=="function"){let te=Z.length-1;Z[te]=R.from(Z[te])}for(let te=0;te<Z.length;++te)if(T(Z[te])){if(te<Z.length-1&&!c(Z[te]))throw new y(`streams[${te}]`,$[te],"must be readable");if(te>0&&!b(Z[te]))throw new y(`streams[${te}]`,$[te],"must be writable")}let V,x,k,g,X;function E(te){let _e=g;g=null,_e?_e(te):te?X.destroy(te):!C&&!Y&&X.destroy()}let z=Z[0],K=u(Z,E),Y=!!b(z),C=!!c(K);return X=new R({writableObjectMode:!!(z!=null&&z.writableObjectMode),readableObjectMode:!!(K!=null&&K.writableObjectMode),writable:Y,readable:C}),Y&&(X._write=function(te,_e,$e){z.write(te,_e)?$e():V=$e},X._final=function(te){z.end(),x=te},z.on("drain",function(){if(V){let te=V;V=null,te()}}),K.on("finish",function(){if(x){let te=x;x=null,te()}})),C&&(K.on("readable",function(){if(k){let te=k;k=null,te()}}),K.on("end",function(){X.push(null)}),X._read=function(){for(;;){let te=K.read();if(te===null){k=X._read;return}if(!X.push(te))return}}),X._destroy=function(te,_e){!te&&g!==null&&(te=new W),k=null,V=null,x=null,g===null?_e(te):(g=_e,f(K,te))},X}}),Gr=je((r,d)=>{var{ArrayPrototypePop:u,Promise:R}=xa(),{isIterable:f,isNodeStream:T}=$n(),{pipelineImpl:c}=Us(),{finished:b}=Mn();function W(...y){return new R((q,Z)=>{let $,V,x=y[y.length-1];if(x&&typeof x=="object"&&!T(x)&&!f(x)){let k=u(y);$=k.signal,V=k.end}c(y,(k,g)=>{k?Z(k):q(g)},{signal:$,end:V})})}d.exports={finished:b,pipeline:W}}),uc=je((r,d)=>{var{Buffer:u}=Va(),{ObjectDefineProperty:R,ObjectKeys:f,ReflectApply:T}=xa(),{promisify:{custom:c}}=en(),{streamReturningOperators:b,promiseReturningOperators:W}=rc(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:y}}=wa(),q=cc(),{pipeline:Z}=Us(),{destroyer:$}=Hn(),V=Mn(),x=Gr(),k=$n(),g=d.exports=Fs().Stream;g.isDisturbed=k.isDisturbed,g.isErrored=k.isErrored,g.isReadable=k.isReadable,g.Readable=Go();for(let z of f(b)){let K=function(...C){if(new.target)throw y();return g.Readable.from(T(Y,this,C))};X=K;let Y=b[z];R(K,"name",{__proto__:null,value:Y.name}),R(K,"length",{__proto__:null,value:Y.length}),R(g.Readable.prototype,z,{__proto__:null,value:K,enumerable:!1,configurable:!0,writable:!0})}var X;for(let z of f(W)){let K=function(...C){if(new.target)throw y();return T(Y,this,C)};X=K;let Y=W[z];R(K,"name",{__proto__:null,value:Y.name}),R(K,"length",{__proto__:null,value:Y.length}),R(g.Readable.prototype,z,{__proto__:null,value:K,enumerable:!1,configurable:!0,writable:!0})}var X;g.Writable=Pr(),g.Duplex=nn(),g.Transform=Kr(),g.PassThrough=Ir(),g.pipeline=Z;var{addAbortSignal:E}=Os();g.addAbortSignal=E,g.finished=V,g.destroy=$,g.compose=q,R(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return x}}),R(Z,c,{__proto__:null,enumerable:!0,get(){return x.pipeline}}),R(V,c,{__proto__:null,enumerable:!0,get(){return x.finished}}),g.Stream=g,g._isUint8Array=function(z){return z instanceof Uint8Array},g._uint8ArrayToBuffer=function(z){return u.from(z.buffer,z.byteOffset,z.byteLength)}}),Dr=je((r,d)=>{var u=uc(),R=Gr(),f=u.Readable.destroy;d.exports=u.Readable,d.exports._uint8ArrayToBuffer=u._uint8ArrayToBuffer,d.exports._isUint8Array=u._isUint8Array,d.exports.isDisturbed=u.isDisturbed,d.exports.isErrored=u.isErrored,d.exports.isReadable=u.isReadable,d.exports.Readable=u.Readable,d.exports.Writable=u.Writable,d.exports.Duplex=u.Duplex,d.exports.Transform=u.Transform,d.exports.PassThrough=u.PassThrough,d.exports.addAbortSignal=u.addAbortSignal,d.exports.finished=u.finished,d.exports.destroy=u.destroy,d.exports.destroy=f,d.exports.pipeline=u.pipeline,d.exports.compose=u.compose,Object.defineProperty(u,"promises",{configurable:!0,enumerable:!0,get(){return R}}),d.exports.Stream=u.Stream,d.exports.default=d.exports}),Es={},jo(Es,{default:()=>mc}),tc=Ms(()=>{Vs(Es,kn(Dr())),mc=kn(Dr())}),dn=je((r,d)=>{var u=fa().Buffer,R=(tc(),Ea(Es)).Transform,f=Ls().StringDecoder,T=ta();function c(b){R.call(this),this.hashMode=typeof b=="string",this.hashMode?this[b]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}T(c,R),c.prototype.update=function(b,W,y){typeof b=="string"&&(b=u.from(b,W));var q=this._update(b);return this.hashMode?this:(y&&(q=this._toString(q,y)),q)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(b,W,y){var q;try{this.hashMode?this._update(b):this.push(this._update(b))}catch(Z){q=Z}finally{y(q)}},c.prototype._flush=function(b){var W;try{this.push(this.__final())}catch(y){W=y}b(W)},c.prototype._finalOrDigest=function(b){var W=this.__final()||u.alloc(0);return b&&(W=this._toString(W,b,!0)),W},c.prototype._toString=function(b,W,y){if(this._decoder||(this._decoder=new f(W),this._encoding=W),this._encoding!==W)throw new Error("can't switch encodings");var q=this._decoder.write(b);return y&&(q+=this._decoder.end()),q},d.exports=c}),mo=je((r,d)=>{var u=ta(),R=ws(),f=Ss(),T=gs(),c=dn();function b(W){c.call(this,"digest"),this._hash=W}u(b,c),b.prototype._update=function(W){this._hash.update(W)},b.prototype._final=function(){return this._hash.digest()},d.exports=function(W){return W=W.toLowerCase(),W==="md5"?new R:W==="rmd160"||W==="ripemd160"?new f:new b(T(W))}}),pc=je((r,d)=>{var u=ta(),R=fa().Buffer,f=dn(),T=R.alloc(128),c=64;function b(W,y){f.call(this,"digest"),typeof y=="string"&&(y=R.from(y)),this._alg=W,this._key=y,y.length>c?y=W(y):y.length<c&&(y=R.concat([y,T],c));for(var q=this._ipad=R.allocUnsafe(c),Z=this._opad=R.allocUnsafe(c),$=0;$<c;$++)q[$]=y[$]^54,Z[$]=y[$]^92;this._hash=[q]}u(b,f),b.prototype._update=function(W){this._hash.push(W)},b.prototype._final=function(){var W=this._alg(R.concat(this._hash));return this._alg(R.concat([this._opad,W]))},d.exports=b}),Hr=je((r,d)=>{var u=ws();d.exports=function(R){return new u().update(R).digest()}}),Yr=je((r,d)=>{var u=ta(),R=pc(),f=dn(),T=fa().Buffer,c=Hr(),b=Ss(),W=gs(),y=T.alloc(128);function q(Z,$){f.call(this,"digest"),typeof $=="string"&&($=T.from($));var V=Z==="sha512"||Z==="sha384"?128:64;if(this._alg=Z,this._key=$,$.length>V){var x=Z==="rmd160"?new b:W(Z);$=x.update($).digest()}else $.length<V&&($=T.concat([$,y],V));for(var k=this._ipad=T.allocUnsafe(V),g=this._opad=T.allocUnsafe(V),X=0;X<V;X++)k[X]=$[X]^54,g[X]=$[X]^92;this._hash=Z==="rmd160"?new b:W(Z),this._hash.update(k)}u(q,f),q.prototype._update=function(Z){this._hash.update(Z)},q.prototype._final=function(){var Z=this._hash.digest(),$=this._alg==="rmd160"?new b:W(this._alg);return $.update(this._opad).update(Z).digest()},d.exports=function(Z,$){return Z=Z.toLowerCase(),Z==="rmd160"||Z==="ripemd160"?new q("rmd160",$):Z==="md5"?new R(c,$):new q(Z,$)}}),Br=je((r,d)=>{d.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),dc=je((r,d)=>{d.exports=Br()}),Cr=je((r,d)=>{var u=Math.pow(2,30)-1;d.exports=function(R,f){if(typeof R!="number")throw new TypeError("Iterations not a number");if(R<0)throw new TypeError("Bad iterations");if(typeof f!="number")throw new TypeError("Key length not a number");if(f<0||f>u||f!==f)throw new TypeError("Bad key length")}}),Qr=je((r,d)=>{var u;global.process&&global.process.browser?u="utf-8":global.process&&global.process.version?(R=parseInt(process.version.split(".")[0].slice(1),10),u=R>=6?"utf-8":"binary"):u="utf-8";var R;d.exports=u}),Ar=je((r,d)=>{var u=fa().Buffer;d.exports=function(R,f,T){if(u.isBuffer(R))return R;if(typeof R=="string")return u.from(R,f);if(ArrayBuffer.isView(R))return u.from(R.buffer);throw new TypeError(T+" must be a string, a Buffer, a typed array or a DataView")}}),el=je((r,d)=>{var u=Hr(),R=Ss(),f=gs(),T=fa().Buffer,c=Cr(),b=Qr(),W=Ar(),y=T.alloc(128),q={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Z(x,k,g){var X=$(x),E=x==="sha512"||x==="sha384"?128:64;k.length>E?k=X(k):k.length<E&&(k=T.concat([k,y],E));for(var z=T.allocUnsafe(E+q[x]),K=T.allocUnsafe(E+q[x]),Y=0;Y<E;Y++)z[Y]=k[Y]^54,K[Y]=k[Y]^92;var C=T.allocUnsafe(E+g+4);z.copy(C,0,0,E),this.ipad1=C,this.ipad2=z,this.opad=K,this.alg=x,this.blocksize=E,this.hash=X,this.size=q[x]}Z.prototype.run=function(x,k){x.copy(k,this.blocksize);var g=this.hash(k);return g.copy(this.opad,this.blocksize),this.hash(this.opad)};function $(x){function k(X){return f(x).update(X).digest()}function g(X){return new R().update(X).digest()}return x==="rmd160"||x==="ripemd160"?g:x==="md5"?u:k}function V(x,k,g,X,E){c(g,X),x=W(x,b,"Password"),k=W(k,b,"Salt"),E=E||"sha1";var z=new Z(E,x,k.length),K=T.allocUnsafe(X),Y=T.allocUnsafe(k.length+4);k.copy(Y,0,0,k.length);for(var C=0,te=q[E],_e=Math.ceil(X/te),$e=1;$e<=_e;$e++){Y.writeUInt32BE($e,k.length);for(var me=z.run(Y,z.ipad1),Me=me,e=1;e<g;e++){Me=z.run(Me,z.ipad2);for(var o=0;o<te;o++)me[o]^=Me[o]}me.copy(K,C),C+=te}return K}d.exports=V}),_c=je((r,d)=>{var u=fa().Buffer,R=Cr(),f=Qr(),T=el(),c=Ar(),b,W=global.crypto&&global.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},q=[];function Z(g){if(global.process&&!global.process.browser||!W||!W.importKey||!W.deriveBits)return Promise.resolve(!1);if(q[g]!==void 0)return q[g];b=b||u.alloc(8);var X=x(b,b,10,128,g).then(function(){return!0}).catch(function(){return!1});return q[g]=X,X}var $;function V(){return $||(global.process&&global.process.nextTick?$=global.process.nextTick:global.queueMicrotask?$=global.queueMicrotask:global.setImmediate?$=global.setImmediate:$=global.setTimeout,$)}function x(g,X,E,z,K){return W.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Y){return W.deriveBits({name:"PBKDF2",salt:X,iterations:E,hash:{name:K}},Y,z<<3)}).then(function(Y){return u.from(Y)})}function k(g,X){g.then(function(E){V()(function(){X(null,E)})},function(E){V()(function(){X(E)})})}d.exports=function(g,X,E,z,K,Y){typeof K=="function"&&(Y=K,K=void 0),K=K||"sha1";var C=y[K.toLowerCase()];if(!C||typeof global.Promise!="function"){V()(function(){var te;try{te=T(g,X,E,z,K)}catch(_e){return Y(_e)}Y(null,te)});return}if(R(E,z),g=c(g,f,"Password"),X=c(X,f,"Salt"),typeof Y!="function")throw new Error("No callback provided to pbkdf2");k(Z(C).then(function(te){return te?x(g,X,E,z,C):T(g,X,E,z,K)}),Y)}}),al=je((r)=>{r.pbkdf2=_c(),r.pbkdf2Sync=el()}),nl=je((r)=>{r.readUInt32BE=function(f,T){var c=f[0+T]<<24|f[1+T]<<16|f[2+T]<<8|f[3+T];return c>>>0},r.writeUInt32BE=function(f,T,c){f[0+c]=T>>>24,f[1+c]=T>>>16&255,f[2+c]=T>>>8&255,f[3+c]=T&255},r.ip=function(f,T,c,b){for(var W=0,y=0,q=6;q>=0;q-=2){for(var Z=0;Z<=24;Z+=8)W<<=1,W|=T>>>Z+q&1;for(var Z=0;Z<=24;Z+=8)W<<=1,W|=f>>>Z+q&1}for(var q=6;q>=0;q-=2){for(var Z=1;Z<=25;Z+=8)y<<=1,y|=T>>>Z+q&1;for(var Z=1;Z<=25;Z+=8)y<<=1,y|=f>>>Z+q&1}c[b+0]=W>>>0,c[b+1]=y>>>0},r.rip=function(f,T,c,b){for(var W=0,y=0,q=0;q<4;q++)for(var Z=24;Z>=0;Z-=8)W<<=1,W|=T>>>Z+q&1,W<<=1,W|=f>>>Z+q&1;for(var q=4;q<8;q++)for(var Z=24;Z>=0;Z-=8)y<<=1,y|=T>>>Z+q&1,y<<=1,y|=f>>>Z+q&1;c[b+0]=W>>>0,c[b+1]=y>>>0},r.pc1=function(f,T,c,b){for(var W=0,y=0,q=7;q>=5;q--){for(var Z=0;Z<=24;Z+=8)W<<=1,W|=T>>Z+q&1;for(var Z=0;Z<=24;Z+=8)W<<=1,W|=f>>Z+q&1}for(var Z=0;Z<=24;Z+=8)W<<=1,W|=T>>Z+q&1;for(var q=1;q<=3;q++){for(var Z=0;Z<=24;Z+=8)y<<=1,y|=T>>Z+q&1;for(var Z=0;Z<=24;Z+=8)y<<=1,y|=f>>Z+q&1}for(var Z=0;Z<=24;Z+=8)y<<=1,y|=f>>Z+q&1;c[b+0]=W>>>0,c[b+1]=y>>>0},r.r28shl=function(f,T){return f<<T&268435455|f>>>28-T};var d=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];r.pc2=function(f,T,c,b){for(var W=0,y=0,q=d.length>>>1,Z=0;Z<q;Z++)W<<=1,W|=f>>>d[Z]&1;for(var Z=q;Z<d.length;Z++)y<<=1,y|=T>>>d[Z]&1;c[b+0]=W>>>0,c[b+1]=y>>>0},r.expand=function(f,T,c){var b=0,W=0;b=(f&1)<<5|f>>>27;for(var y=23;y>=15;y-=4)b<<=6,b|=f>>>y&63;for(var y=11;y>=3;y-=4)W|=f>>>y&63,W<<=6;W|=(f&31)<<1|f>>>31,T[c+0]=b>>>0,T[c+1]=W>>>0};var u=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];r.substitute=function(f,T){for(var c=0,b=0;b<4;b++){var W=f>>>18-b*6&63,y=u[b*64+W];c<<=4,c|=y}for(var b=0;b<4;b++){var W=T>>>18-b*6&63,y=u[256+b*64+W];c<<=4,c|=y}return c>>>0};var R=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];r.permute=function(f){for(var T=0,c=0;c<R.length;c++)T<<=1,T|=f>>>R[c]&1;return T>>>0},r.padSplit=function(f,T,c){for(var b=f.toString(2);b.length<T;)b="0"+b;for(var W=[],y=0;y<T;y+=c)W.push(b.slice(y,y+c));return W.join(" ")}}),ja=je((r,d)=>{d.exports=u;function u(R,f){if(!R)throw new Error(f||"Assertion failed")}u.equal=function(R,f,T){if(R!=f)throw new Error(T||"Assertion failed: "+R+" != "+f)}}),js=je((r,d)=>{var u=ja();function R(f){this.options=f,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}d.exports=R,R.prototype._init=function(){},R.prototype.update=function(f){return f.length===0?[]:this.type==="decrypt"?this._updateDecrypt(f):this._updateEncrypt(f)},R.prototype._buffer=function(f,T){for(var c=Math.min(this.buffer.length-this.bufferOff,f.length-T),b=0;b<c;b++)this.buffer[this.bufferOff+b]=f[T+b];return this.bufferOff+=c,c},R.prototype._flushBuffer=function(f,T){return this._update(this.buffer,0,f,T),this.bufferOff=0,this.blockSize},R.prototype._updateEncrypt=function(f){var T=0,c=0,b=(this.bufferOff+f.length)/this.blockSize|0,W=new Array(b*this.blockSize);this.bufferOff!==0&&(T+=this._buffer(f,T),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(W,c)));for(var y=f.length-(f.length-T)%this.blockSize;T<y;T+=this.blockSize)this._update(f,T,W,c),c+=this.blockSize;for(;T<f.length;T++,this.bufferOff++)this.buffer[this.bufferOff]=f[T];return W},R.prototype._updateDecrypt=function(f){for(var T=0,c=0,b=Math.ceil((this.bufferOff+f.length)/this.blockSize)-1,W=new Array(b*this.blockSize);b>0;b--)T+=this._buffer(f,T),c+=this._flushBuffer(W,c);return T+=this._buffer(f,T),W},R.prototype.final=function(f){var T;f&&(T=this.update(f));var c;return this.type==="encrypt"?c=this._finalEncrypt():c=this._finalDecrypt(),T?T.concat(c):c},R.prototype._pad=function(f,T){if(T===0)return!1;for(;T<f.length;)f[T++]=0;return!0},R.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var f=new Array(this.blockSize);return this._update(this.buffer,0,f,0),f},R.prototype._unpad=function(f){return f},R.prototype._finalDecrypt=function(){u.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var f=new Array(this.blockSize);return this._flushBuffer(f,0),this._unpad(f)}}),ol=je((r,d)=>{var u=ja(),R=ta(),f=nl(),T=js();function c(){this.tmp=new Array(2),this.keys=null}function b(y){T.call(this,y);var q=new c;this._desState=q,this.deriveKeys(q,y.key)}R(b,T),d.exports=b,b.create=function(y){return new b(y)};var W=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];b.prototype.deriveKeys=function(y,q){y.keys=new Array(32),u.equal(q.length,this.blockSize,"Invalid key length");var Z=f.readUInt32BE(q,0),$=f.readUInt32BE(q,4);f.pc1(Z,$,y.tmp,0),Z=y.tmp[0],$=y.tmp[1];for(var V=0;V<y.keys.length;V+=2){var x=W[V>>>1];Z=f.r28shl(Z,x),$=f.r28shl($,x),f.pc2(Z,$,y.keys,V)}},b.prototype._update=function(y,q,Z,$){var V=this._desState,x=f.readUInt32BE(y,q),k=f.readUInt32BE(y,q+4);f.ip(x,k,V.tmp,0),x=V.tmp[0],k=V.tmp[1],this.type==="encrypt"?this._encrypt(V,x,k,V.tmp,0):this._decrypt(V,x,k,V.tmp,0),x=V.tmp[0],k=V.tmp[1],f.writeUInt32BE(Z,x,$),f.writeUInt32BE(Z,k,$+4)},b.prototype._pad=function(y,q){for(var Z=y.length-q,$=q;$<y.length;$++)y[$]=Z;return!0},b.prototype._unpad=function(y){for(var q=y[y.length-1],Z=y.length-q;Z<y.length;Z++)u.equal(y[Z],q);return y.slice(0,y.length-q)},b.prototype._encrypt=function(y,q,Z,$,V){for(var x=q,k=Z,g=0;g<y.keys.length;g+=2){var X=y.keys[g],E=y.keys[g+1];f.expand(k,y.tmp,0),X^=y.tmp[0],E^=y.tmp[1];var z=f.substitute(X,E),K=f.permute(z),Y=k;k=(x^K)>>>0,x=Y}f.rip(k,x,$,V)},b.prototype._decrypt=function(y,q,Z,$,V){for(var x=Z,k=q,g=y.keys.length-2;g>=0;g-=2){var X=y.keys[g],E=y.keys[g+1];f.expand(x,y.tmp,0),X^=y.tmp[0],E^=y.tmp[1];var z=f.substitute(X,E),K=f.permute(z),Y=x;x=(k^K)>>>0,k=Y}f.rip(x,k,$,V)}}),fc=je((r)=>{var d=ja(),u=ta(),R={};function f(c){d.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var b=0;b<this.iv.length;b++)this.iv[b]=c[b]}function T(c){function b(Z){c.call(this,Z),this._cbcInit()}u(b,c);for(var W=Object.keys(R),y=0;y<W.length;y++){var q=W[y];b.prototype[q]=R[q]}return b.create=function(Z){return new b(Z)},b}r.instantiate=T,R._cbcInit=function(){var c=new f(this.options.iv);this._cbcState=c},R._update=function(c,b,W,y){var q=this._cbcState,Z=this.constructor.super_.prototype,$=q.iv;if(this.type==="encrypt"){for(var V=0;V<this.blockSize;V++)$[V]^=c[b+V];Z._update.call(this,$,0,W,y);for(var V=0;V<this.blockSize;V++)$[V]=W[y+V]}else{Z._update.call(this,c,b,W,y);for(var V=0;V<this.blockSize;V++)W[y+V]^=$[V];for(var V=0;V<this.blockSize;V++)$[V]=c[b+V]}}}),hc=je((r,d)=>{var u=ja(),R=ta(),f=js(),T=ol();function c(W,y){u.equal(y.length,24,"Invalid key length");var q=y.slice(0,8),Z=y.slice(8,16),$=y.slice(16,24);W==="encrypt"?this.ciphers=[T.create({type:"encrypt",key:q}),T.create({type:"decrypt",key:Z}),T.create({type:"encrypt",key:$})]:this.ciphers=[T.create({type:"decrypt",key:$}),T.create({type:"encrypt",key:Z}),T.create({type:"decrypt",key:q})]}function b(W){f.call(this,W);var y=new c(this.type,this.options.key);this._edeState=y}R(b,f),d.exports=b,b.create=function(W){return new b(W)},b.prototype._update=function(W,y,q,Z){var $=this._edeState;$.ciphers[0]._update(W,y,q,Z),$.ciphers[1]._update(q,Z,q,Z),$.ciphers[2]._update(q,Z,q,Z)},b.prototype._pad=T.prototype._pad,b.prototype._unpad=T.prototype._unpad}),bc=je((r)=>{r.utils=nl(),r.Cipher=js(),r.DES=ol(),r.CBC=fc(),r.EDE=hc()}),vc=je((r,d)=>{var u=dn(),R=bc(),f=ta(),T=fa().Buffer,c={"des-ede3-cbc":R.CBC.instantiate(R.EDE),"des-ede3":R.EDE,"des-ede-cbc":R.CBC.instantiate(R.EDE),"des-ede":R.EDE,"des-cbc":R.CBC.instantiate(R.DES),"des-ecb":R.DES};c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],d.exports=b,f(b,u);function b(W){u.call(this);var y=W.mode.toLowerCase(),q=c[y],Z;W.decrypt?Z="decrypt":Z="encrypt";var $=W.key;T.isBuffer($)||($=T.from($)),(y==="des-ede"||y==="des-ede-cbc")&&($=T.concat([$,$.slice(0,8)]));var V=W.iv;T.isBuffer(V)||(V=T.from(V)),this._des=q.create({key:$,iv:V,type:Z})}b.prototype._update=function(W){return T.from(this._des.update(W))},b.prototype._final=function(){return T.from(this._des.final())}}),Nc=je((r)=>{r.encrypt=function(d,u){return d._cipher.encryptBlock(u)},r.decrypt=function(d,u){return d._cipher.decryptBlock(u)}}),to=je((r,d)=>{d.exports=function(u,R){for(var f=Math.min(u.length,R.length),T=new Buffer(f),c=0;c<f;++c)T[c]=u[c]^R[c];return T}}),Rc=je((r)=>{var d=to();r.encrypt=function(u,R){var f=d(R,u._prev);return u._prev=u._cipher.encryptBlock(f),u._prev},r.decrypt=function(u,R){var f=u._prev;u._prev=R;var T=u._cipher.decryptBlock(R);return d(T,f)}}),Zc=je((r)=>{var d=fa().Buffer,u=to();function R(f,T,c){var b=T.length,W=u(T,f._cache);return f._cache=f._cache.slice(b),f._prev=d.concat([f._prev,c?T:W]),W}r.encrypt=function(f,T,c){for(var b=d.allocUnsafe(0),W;T.length;)if(f._cache.length===0&&(f._cache=f._cipher.encryptBlock(f._prev),f._prev=d.allocUnsafe(0)),f._cache.length<=T.length)W=f._cache.length,b=d.concat([b,R(f,T.slice(0,W),c)]),T=T.slice(W);else{b=d.concat([b,R(f,T,c)]);break}return b}}),yc=je((r)=>{var d=fa().Buffer;function u(R,f,T){var c=R._cipher.encryptBlock(R._prev),b=c[0]^f;return R._prev=d.concat([R._prev.slice(1),d.from([T?f:b])]),b}r.encrypt=function(R,f,T){for(var c=f.length,b=d.allocUnsafe(c),W=-1;++W<c;)b[W]=u(R,f[W],T);return b}}),qc=je((r)=>{var d=fa().Buffer;function u(f,T,c){for(var b,W=-1,y=8,q=0,Z,$;++W<y;)b=f._cipher.encryptBlock(f._prev),Z=T&1<<7-W?128:0,$=b[0]^Z,q+=($&128)>>W%8,f._prev=R(f._prev,c?Z:$);return q}function R(f,T){var c=f.length,b=-1,W=d.allocUnsafe(f.length);for(f=d.concat([f,d.from([T])]);++b<c;)W[b]=f[b]<<1|f[b+1]>>7;return W}r.encrypt=function(f,T,c){for(var b=T.length,W=d.allocUnsafe(b),y=-1;++y<b;)W[y]=u(f,T[y],c);return W}}),kc=je((r)=>{var d=to();function u(R){return R._prev=R._cipher.encryptBlock(R._prev),R._prev}r.encrypt=function(R,f){for(;R._cache.length<f.length;)R._cache=Buffer.concat([R._cache,u(R)]);var T=R._cache.slice(0,f.length);return R._cache=R._cache.slice(f.length),d(f,T)}}),sl=je((r,d)=>{function u(R){for(var f=R.length,T;f--;)if(T=R.readUInt8(f),T===255)R.writeUInt8(0,f);else{T++,R.writeUInt8(T,f);break}}d.exports=u}),rl=je((r)=>{var d=to(),u=fa().Buffer,R=sl();function f(c){var b=c._cipher.encryptBlockRaw(c._prev);return R(c._prev),b}var T=16;r.encrypt=function(c,b){var W=Math.ceil(b.length/T),y=c._cache.length;c._cache=u.concat([c._cache,u.allocUnsafe(W*T)]);for(var q=0;q<W;q++){var Z=f(c),$=y+q*T;c._cache.writeUInt32BE(Z[0],$+0),c._cache.writeUInt32BE(Z[1],$+4),c._cache.writeUInt32BE(Z[2],$+8),c._cache.writeUInt32BE(Z[3],$+12)}var V=c._cache.slice(0,b.length);return c._cache=c._cache.slice(b.length),d(b,V)}}),ll=je((r,d)=>{d.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),Js=je((r,d)=>{var u={ECB:Nc(),CBC:Rc(),CFB:Zc(),CFB8:yc(),CFB1:qc(),OFB:kc(),CTR:rl(),GCM:rl()},R=ll();for(f in R)R[f].module=u[R[f].mode];var f;d.exports=R}),Do=je((r,d)=>{var u=fa().Buffer;function R(y){u.isBuffer(y)||(y=u.from(y));for(var q=y.length/4|0,Z=new Array(q),$=0;$<q;$++)Z[$]=y.readUInt32BE($*4);return Z}function f(y){for(var q=0;q<y.length;y++)y[q]=0}function T(y,q,Z,$,V){for(var x=Z[0],k=Z[1],g=Z[2],X=Z[3],E=y[0]^q[0],z=y[1]^q[1],K=y[2]^q[2],Y=y[3]^q[3],C,te,_e,$e,me=4,Me=1;Me<V;Me++)C=x[E>>>24]^k[z>>>16&255]^g[K>>>8&255]^X[Y&255]^q[me++],te=x[z>>>24]^k[K>>>16&255]^g[Y>>>8&255]^X[E&255]^q[me++],_e=x[K>>>24]^k[Y>>>16&255]^g[E>>>8&255]^X[z&255]^q[me++],$e=x[Y>>>24]^k[E>>>16&255]^g[z>>>8&255]^X[K&255]^q[me++],E=C,z=te,K=_e,Y=$e;return C=($[E>>>24]<<24|$[z>>>16&255]<<16|$[K>>>8&255]<<8|$[Y&255])^q[me++],te=($[z>>>24]<<24|$[K>>>16&255]<<16|$[Y>>>8&255]<<8|$[E&255])^q[me++],_e=($[K>>>24]<<24|$[Y>>>16&255]<<16|$[E>>>8&255]<<8|$[z&255])^q[me++],$e=($[Y>>>24]<<24|$[E>>>16&255]<<16|$[z>>>8&255]<<8|$[K&255])^q[me++],C=C>>>0,te=te>>>0,_e=_e>>>0,$e=$e>>>0,[C,te,_e,$e]}var c=[0,1,2,4,8,16,32,64,128,27,54],b=function(){for(var y=new Array(256),q=0;q<256;q++)q<128?y[q]=q<<1:y[q]=q<<1^283;for(var Z=[],$=[],V=[[],[],[],[]],x=[[],[],[],[]],k=0,g=0,X=0;X<256;++X){var E=g^g<<1^g<<2^g<<3^g<<4;E=E>>>8^E&255^99,Z[k]=E,$[E]=k;var z=y[k],K=y[z],Y=y[K],C=y[E]*257^E*16843008;V[0][k]=C<<24|C>>>8,V[1][k]=C<<16|C>>>16,V[2][k]=C<<8|C>>>24,V[3][k]=C,C=Y*16843009^K*65537^z*257^k*16843008,x[0][E]=C<<24|C>>>8,x[1][E]=C<<16|C>>>16,x[2][E]=C<<8|C>>>24,x[3][E]=C,k===0?k=g=1:(k=z^y[y[y[Y^z]]],g^=y[y[g]])}return{SBOX:Z,INV_SBOX:$,SUB_MIX:V,INV_SUB_MIX:x}}();function W(y){this._key=R(y),this._reset()}W.blockSize=16,W.keySize=32,W.prototype.blockSize=W.blockSize,W.prototype.keySize=W.keySize,W.prototype._reset=function(){for(var y=this._key,q=y.length,Z=q+6,$=(Z+1)*4,V=[],x=0;x<q;x++)V[x]=y[x];for(x=q;x<$;x++){var k=V[x-1];x%q===0?(k=k<<8|k>>>24,k=b.SBOX[k>>>24]<<24|b.SBOX[k>>>16&255]<<16|b.SBOX[k>>>8&255]<<8|b.SBOX[k&255],k^=c[x/q|0]<<24):q>6&&x%q===4&&(k=b.SBOX[k>>>24]<<24|b.SBOX[k>>>16&255]<<16|b.SBOX[k>>>8&255]<<8|b.SBOX[k&255]),V[x]=V[x-q]^k}for(var g=[],X=0;X<$;X++){var E=$-X,z=V[E-(X%4?0:4)];X<4||E<=4?g[X]=z:g[X]=b.INV_SUB_MIX[0][b.SBOX[z>>>24]]^b.INV_SUB_MIX[1][b.SBOX[z>>>16&255]]^b.INV_SUB_MIX[2][b.SBOX[z>>>8&255]]^b.INV_SUB_MIX[3][b.SBOX[z&255]]}this._nRounds=Z,this._keySchedule=V,this._invKeySchedule=g},W.prototype.encryptBlockRaw=function(y){return y=R(y),T(y,this._keySchedule,b.SUB_MIX,b.SBOX,this._nRounds)},W.prototype.encryptBlock=function(y){var q=this.encryptBlockRaw(y),Z=u.allocUnsafe(16);return Z.writeUInt32BE(q[0],0),Z.writeUInt32BE(q[1],4),Z.writeUInt32BE(q[2],8),Z.writeUInt32BE(q[3],12),Z},W.prototype.decryptBlock=function(y){y=R(y);var q=y[1];y[1]=y[3],y[3]=q;var Z=T(y,this._invKeySchedule,b.INV_SUB_MIX,b.INV_SBOX,this._nRounds),$=u.allocUnsafe(16);return $.writeUInt32BE(Z[0],0),$.writeUInt32BE(Z[3],4),$.writeUInt32BE(Z[2],8),$.writeUInt32BE(Z[1],12),$},W.prototype.scrub=function(){f(this._keySchedule),f(this._invKeySchedule),f(this._key)},d.exports.AES=W}),Tc=je((r,d)=>{var u=fa().Buffer,R=u.alloc(16,0);function f(b){return[b.readUInt32BE(0),b.readUInt32BE(4),b.readUInt32BE(8),b.readUInt32BE(12)]}function T(b){var W=u.allocUnsafe(16);return W.writeUInt32BE(b[0]>>>0,0),W.writeUInt32BE(b[1]>>>0,4),W.writeUInt32BE(b[2]>>>0,8),W.writeUInt32BE(b[3]>>>0,12),W}function c(b){this.h=b,this.state=u.alloc(16,0),this.cache=u.allocUnsafe(0)}c.prototype.ghash=function(b){for(var W=-1;++W<b.length;)this.state[W]^=b[W];this._multiply()},c.prototype._multiply=function(){for(var b=f(this.h),W=[0,0,0,0],y,q,Z,$=-1;++$<128;){for(q=(this.state[~~($/8)]&1<<7-$%8)!==0,q&&(W[0]^=b[0],W[1]^=b[1],W[2]^=b[2],W[3]^=b[3]),Z=(b[3]&1)!==0,y=3;y>0;y--)b[y]=b[y]>>>1|(b[y-1]&1)<<31;b[0]=b[0]>>>1,Z&&(b[0]=b[0]^-520093696)}this.state=T(W)},c.prototype.update=function(b){this.cache=u.concat([this.cache,b]);for(var W;this.cache.length>=16;)W=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(W)},c.prototype.final=function(b,W){return this.cache.length&&this.ghash(u.concat([this.cache,R],16)),this.ghash(T([0,b,0,W])),this.state},d.exports=c}),il=je((r,d)=>{var u=Do(),R=fa().Buffer,f=dn(),T=ta(),c=Tc(),b=to(),W=sl();function y($,V){var x=0;$.length!==V.length&&x++;for(var k=Math.min($.length,V.length),g=0;g<k;++g)x+=$[g]^V[g];return x}function q($,V,x){if(V.length===12)return $._finID=R.concat([V,R.from([0,0,0,1])]),R.concat([V,R.from([0,0,0,2])]);var k=new c(x),g=V.length,X=g%16;k.update(V),X&&(X=16-X,k.update(R.alloc(X,0))),k.update(R.alloc(8,0));var E=g*8,z=R.alloc(8);z.writeUIntBE(E,0,8),k.update(z),$._finID=k.state;var K=R.from($._finID);return W(K),K}function Z($,V,x,k){f.call(this);var g=R.alloc(4,0);this._cipher=new u.AES(V);var X=this._cipher.encryptBlock(g);this._ghash=new c(X),x=q(this,x,X),this._prev=R.from(x),this._cache=R.allocUnsafe(0),this._secCache=R.allocUnsafe(0),this._decrypt=k,this._alen=0,this._len=0,this._mode=$,this._authTag=null,this._called=!1}T(Z,f),Z.prototype._update=function($){if(!this._called&&this._alen){var V=16-this._alen%16;V<16&&(V=R.alloc(V,0),this._ghash.update(V))}this._called=!0;var x=this._mode.encrypt(this,$);return this._decrypt?this._ghash.update($):this._ghash.update(x),this._len+=$.length,x},Z.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var $=b(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&y($,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=$,this._cipher.scrub()},Z.prototype.getAuthTag=function(){if(this._decrypt||!R.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Z.prototype.setAuthTag=function($){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=$},Z.prototype.setAAD=function($){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update($),this._alen+=$.length},d.exports=Z}),cl=je((r,d)=>{var u=Do(),R=fa().Buffer,f=dn(),T=ta();function c(b,W,y,q){f.call(this),this._cipher=new u.AES(W),this._prev=R.from(y),this._cache=R.allocUnsafe(0),this._secCache=R.allocUnsafe(0),this._decrypt=q,this._mode=b}T(c,f),c.prototype._update=function(b){return this._mode.encrypt(this,b,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},d.exports=c}),Ho=je((r,d)=>{var u=fa().Buffer,R=ws();function f(T,c,b,W){if(u.isBuffer(T)||(T=u.from(T,"binary")),c&&(u.isBuffer(c)||(c=u.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var y=b/8,q=u.alloc(y),Z=u.alloc(W||0),$=u.alloc(0);y>0||W>0;){var V=new R;V.update($),V.update(T),c&&V.update(c),$=V.digest();var x=0;if(y>0){var k=q.length-y;x=Math.min(y,$.length),$.copy(q,k,0,x),y-=x}if(x<$.length&&W>0){var g=Z.length-W,X=Math.min(W,$.length-x);$.copy(Z,g,x,x+X),W-=X}}return $.fill(0),{key:q,iv:Z}}d.exports=f}),xc=je((r)=>{var d=Js(),u=il(),R=fa().Buffer,f=cl(),T=dn(),c=Do(),b=Ho(),W=ta();function y(x,k,g){T.call(this),this._cache=new Z,this._cipher=new c.AES(k),this._prev=R.from(g),this._mode=x,this._autopadding=!0}W(y,T),y.prototype._update=function(x){this._cache.add(x);for(var k,g,X=[];k=this._cache.get();)g=this._mode.encrypt(this,k),X.push(g);return R.concat(X)};var q=R.alloc(16,16);y.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return x=this._mode.encrypt(this,x),this._cipher.scrub(),x;if(!x.equals(q))throw this._cipher.scrub(),new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this};function Z(){this.cache=R.allocUnsafe(0)}Z.prototype.add=function(x){this.cache=R.concat([this.cache,x])},Z.prototype.get=function(){if(this.cache.length>15){var x=this.cache.slice(0,16);return this.cache=this.cache.slice(16),x}return null},Z.prototype.flush=function(){for(var x=16-this.cache.length,k=R.allocUnsafe(x),g=-1;++g<x;)k.writeUInt8(x,g);return R.concat([this.cache,k])};function $(x,k,g){var X=d[x.toLowerCase()];if(!X)throw new TypeError("invalid suite type");if(typeof k=="string"&&(k=R.from(k)),k.length!==X.key/8)throw new TypeError("invalid key length "+k.length);if(typeof g=="string"&&(g=R.from(g)),X.mode!=="GCM"&&g.length!==X.iv)throw new TypeError("invalid iv length "+g.length);return X.type==="stream"?new f(X.module,k,g):X.type==="auth"?new u(X.module,k,g):new y(X.module,k,g)}function V(x,k){var g=d[x.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var X=b(k,!1,g.key,g.iv);return $(x,X.key,X.iv)}r.createCipheriv=$,r.createCipher=V}),$c=je((r)=>{var d=il(),u=fa().Buffer,R=Js(),f=cl(),T=dn(),c=Do(),b=Ho(),W=ta();function y(x,k,g){T.call(this),this._cache=new q,this._last=void 0,this._cipher=new c.AES(k),this._prev=u.from(g),this._mode=x,this._autopadding=!0}W(y,T),y.prototype._update=function(x){this._cache.add(x);for(var k,g,X=[];k=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,k),X.push(g);return u.concat(X)},y.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return Z(this._mode.decrypt(this,x));if(x)throw new Error("data not multiple of block length")},y.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this};function q(){this.cache=u.allocUnsafe(0)}q.prototype.add=function(x){this.cache=u.concat([this.cache,x])},q.prototype.get=function(x){var k;if(x){if(this.cache.length>16)return k=this.cache.slice(0,16),this.cache=this.cache.slice(16),k}else if(this.cache.length>=16)return k=this.cache.slice(0,16),this.cache=this.cache.slice(16),k;return null},q.prototype.flush=function(){if(this.cache.length)return this.cache};function Z(x){var k=x[15];if(k<1||k>16)throw new Error("unable to decrypt data");for(var g=-1;++g<k;)if(x[g+(16-k)]!==k)throw new Error("unable to decrypt data");if(k!==16)return x.slice(0,16-k)}function $(x,k,g){var X=R[x.toLowerCase()];if(!X)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=u.from(g)),X.mode!=="GCM"&&g.length!==X.iv)throw new TypeError("invalid iv length "+g.length);if(typeof k=="string"&&(k=u.from(k)),k.length!==X.key/8)throw new TypeError("invalid key length "+k.length);return X.type==="stream"?new f(X.module,k,g,!0):X.type==="auth"?new d(X.module,k,g,!0):new y(X.module,k,g)}function V(x,k){var g=R[x.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var X=b(k,!1,g.key,g.iv);return $(x,X.key,X.iv)}r.createDecipher=V,r.createDecipheriv=$}),Ps=je((r)=>{var d=xc(),u=$c(),R=ll();function f(){return Object.keys(R)}r.createCipher=r.Cipher=d.createCipher,r.createCipheriv=r.Cipheriv=d.createCipheriv,r.createDecipher=r.Decipher=u.createDecipher,r.createDecipheriv=r.Decipheriv=u.createDecipheriv,r.listCiphers=r.getCiphers=f}),Mc=je((r)=>{r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}}),Vc=je((r)=>{var d=vc(),u=Ps(),R=Js(),f=Mc(),T=Ho();function c(Z,$){Z=Z.toLowerCase();var V,x;if(R[Z])V=R[Z].key,x=R[Z].iv;else if(f[Z])V=f[Z].key*8,x=f[Z].iv;else throw new TypeError("invalid suite type");var k=T($,!1,V,x);return W(Z,k.key,k.iv)}function b(Z,$){Z=Z.toLowerCase();var V,x;if(R[Z])V=R[Z].key,x=R[Z].iv;else if(f[Z])V=f[Z].key*8,x=f[Z].iv;else throw new TypeError("invalid suite type");var k=T($,!1,V,x);return y(Z,k.key,k.iv)}function W(Z,$,V){if(Z=Z.toLowerCase(),R[Z])return u.createCipheriv(Z,$,V);if(f[Z])return new d({key:$,iv:V,mode:Z});throw new TypeError("invalid suite type")}function y(Z,$,V){if(Z=Z.toLowerCase(),R[Z])return u.createDecipheriv(Z,$,V);if(f[Z])return new d({key:$,iv:V,mode:Z,decrypt:!0});throw new TypeError("invalid suite type")}function q(){return Object.keys(f).concat(u.getCiphers())}r.createCipher=r.Cipher=c,r.createCipheriv=r.Cipheriv=W,r.createDecipher=r.Decipher=b,r.createDecipheriv=r.Decipheriv=y,r.listCiphers=r.getCiphers=q}),Vn=je(()=>{}),ul=je((r,d)=>{(function(u,R){function f(e,o){if(!e)throw new Error(o||"Assertion failed")}function T(e,o){e.super_=o;var i=function(){};i.prototype=o.prototype,e.prototype=new i,e.prototype.constructor=e}function c(e,o,i){if(c.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((o==="le"||o==="be")&&(i=o,o=10),this._init(e||0,o||10,i||"be"))}typeof u=="object"?u.exports=c:R.BN=c,c.BN=c,c.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=Vn().Buffer}catch{}c.isBN=function(e){return e instanceof c?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===c.wordSize&&Array.isArray(e.words)},c.max=function(e,o){return e.cmp(o)>0?e:o},c.min=function(e,o){return e.cmp(o)<0?e:o},c.prototype._init=function(e,o,i){if(typeof e=="number")return this._initNumber(e,o,i);if(typeof e=="object")return this._initArray(e,o,i);o==="hex"&&(o=16),f(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(o===16?this._parseHex(e,s,i):(this._parseBase(e,o,s),i==="le"&&this._initArray(this.toArray(),o,i)))},c.prototype._initNumber=function(e,o,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(f(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),o,i)},c.prototype._initArray=function(e,o,i){if(f(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,h,v=0;if(i==="be")for(s=e.length-1,m=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);else if(i==="le")for(s=0,m=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);return this.strip()};function W(e,o){var i=e.charCodeAt(o);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function y(e,o,i){var s=W(e,i);return i-1>=o&&(s|=W(e,i-1)<<4),s}c.prototype._parseHex=function(e,o,i){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,h=0,v;if(i==="be")for(s=e.length-1;s>=o;s-=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8;else{var p=e.length-o;for(s=p%2===0?o+1:o;s<e.length;s+=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8}this.strip()};function q(e,o,i,s){for(var m=0,h=Math.min(e.length,i),v=o;v<h;v++){var p=e.charCodeAt(v)-48;m*=s,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}c.prototype._parseBase=function(e,o,i){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=o)s++;s--,m=m/o|0;for(var h=e.length-i,v=h%s,p=Math.min(h,h-v)+i,a=0,t=i;t<p;t+=s)a=q(e,t,t+s,o),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var F=1;for(a=q(e,t,e.length,o),t=0;t<v;t++)F*=o;this.imuln(F),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},c.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},c.prototype.clone=function(){var e=new c(null);return this.copy(e),e},c.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(e,o){e=e||10,o=o|0||1;var i;if(e===16||e==="hex"){i="";for(var s=0,m=0,h=0;h<this.length;h++){var v=this.words[h],p=((v<<s|m)&16777215).toString(16);m=v>>>24-s&16777215,m!==0||h!==this.length-1?i=Z[6-p.length]+p+i:i=p+i,s+=2,s>=26&&(s-=26,h--)}for(m!==0&&(i=m.toString(16)+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(e===(e|0)&&e>=2&&e<=36){var a=$[e],t=V[e];i="";var F=this.clone();for(F.negative=0;!F.isZero();){var w=F.modn(t).toString(e);F=F.idivn(t),F.isZero()?i=w+i:i=Z[a-w.length]+w+i}for(this.isZero()&&(i="0"+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}f(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(e,o){return f(typeof b<"u"),this.toArrayLike(b,e,o)},c.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},c.prototype.toArrayLike=function(e,o,i){var s=this.byteLength(),m=i||Math.max(1,s);f(s<=m,"byte array longer than desired length"),f(m>0,"Requested array length <= 0"),this.strip();var h=o==="le",v=new e(m),p,a,t=this.clone();if(h){for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[a]=p;for(;a<m;a++)v[a]=0}else{for(a=0;a<m-s;a++)v[a]=0;for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[m-a-1]=p}return v},Math.clz32?c.prototype._countBits=function(e){return 32-Math.clz32(e)}:c.prototype._countBits=function(e){var o=e,i=0;return o>=4096&&(i+=13,o>>>=13),o>=64&&(i+=7,o>>>=7),o>=8&&(i+=4,o>>>=4),o>=2&&(i+=2,o>>>=2),i+o},c.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,i=0;return(o&8191)===0&&(i+=13,o>>>=13),(o&127)===0&&(i+=7,o>>>=7),(o&15)===0&&(i+=4,o>>>=4),(o&3)===0&&(i+=2,o>>>=2),(o&1)===0&&i++,i},c.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function x(e){for(var o=new Array(e.bitLength()),i=0;i<o.length;i++){var s=i/26|0,m=i%26;o[i]=(e.words[s]&1<<m)>>>m}return o}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var i=this._zeroBits(this.words[o]);if(e+=i,i!==26)break}return e},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},c.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},c.prototype.ior=function(e){return f((this.negative|e.negative)===0),this.iuor(e)},c.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},c.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},c.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var i=0;i<o.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=o.length,this.strip()},c.prototype.iand=function(e){return f((this.negative|e.negative)===0),this.iuand(e)},c.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},c.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},c.prototype.iuxor=function(e){var o,i;this.length>e.length?(o=this,i=e):(o=e,i=this);for(var s=0;s<i.length;s++)this.words[s]=o.words[s]^i.words[s];if(this!==o)for(;s<o.length;s++)this.words[s]=o.words[s];return this.length=o.length,this.strip()},c.prototype.ixor=function(e){return f((this.negative|e.negative)===0),this.iuxor(e)},c.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},c.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},c.prototype.inotn=function(e){f(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,i=e%26;this._expand(o),i>0&&o--;for(var s=0;s<o;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},c.prototype.notn=function(e){return this.clone().inotn(e)},c.prototype.setn=function(e,o){f(typeof e=="number"&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),o?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},c.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var i,s;this.length>e.length?(i=this,s=e):(i=e,s=this);for(var m=0,h=0;h<s.length;h++)o=(i.words[h]|0)+(s.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;for(;m!==0&&h<i.length;h++)o=(i.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;if(this.length=i.length,m!==0)this.words[this.length]=m,this.length++;else if(i!==this)for(;h<i.length;h++)this.words[h]=i.words[h];return this},c.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},c.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;i>0?(s=this,m=e):(s=e,m=this);for(var h=0,v=0;v<m.length;v++)o=(s.words[v]|0)-(m.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;for(;h!==0&&v<s.length;v++)o=(s.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;if(h===0&&v<s.length&&s!==this)for(;v<s.length;v++)this.words[v]=s.words[v];return this.length=Math.max(this.length,v),s!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(e){return this.clone().isub(e)};function k(e,o,i){i.negative=o.negative^e.negative;var s=e.length+o.length|0;i.length=s,s=s-1|0;var m=e.words[0]|0,h=o.words[0]|0,v=m*h,p=v&67108863,a=v/67108864|0;i.words[0]=p;for(var t=1;t<s;t++){for(var F=a>>>26,w=a&67108863,I=Math.min(t,o.length-1),he=Math.max(0,t-e.length+1);he<=I;he++){var qe=t-he|0;m=e.words[qe]|0,h=o.words[he]|0,v=m*h+w,F+=v/67108864|0,w=v&67108863}i.words[t]=w|0,a=F|0}return a!==0?i.words[t]=a|0:i.length--,i.strip()}var g=function(e,o,i){var s=e.words,m=o.words,h=i.words,v=0,p,a,t,F=s[0]|0,w=F&8191,I=F>>>13,he=s[1]|0,qe=he&8191,Ze=he>>>13,ue=s[2]|0,ie=ue&8191,fe=ue>>>13,Ee=s[3]|0,xe=Ee&8191,ze=Ee>>>13,D=s[4]|0,O=D&8191,ae=D>>>13,We=s[5]|0,ge=We&8191,Ve=We>>>13,De=s[6]|0,Oe=De&8191,Je=De>>>13,Qe=s[7]|0,Pe=Qe&8191,Fe=Qe>>>13,pa=s[8]|0,L=pa&8191,n=pa>>>13,l=s[9]|0,_=l&8191,N=l>>>13,M=m[0]|0,S=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,ee=m[2]|0,H=ee&8191,G=ee>>>13,oe=m[3]|0,Q=oe&8191,le=oe>>>13,Re=m[4]|0,A=Re&8191,ne=Re>>>13,re=m[5]|0,B=re&8191,se=re>>>13,Ne=m[6]|0,pe=Ne&8191,de=Ne>>>13,Se=m[7]|0,ve=Se&8191,ye=Se>>>13,Ue=m[8]|0,Te=Ue&8191,ke=Ue>>>13,Xe=m[9]|0,Le=Xe&8191,we=Xe>>>13;i.negative=e.negative^o.negative,i.length=19,p=Math.imul(w,S),a=Math.imul(w,U),a=a+Math.imul(I,S)|0,t=Math.imul(I,U);var Ie=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,p=Math.imul(qe,S),a=Math.imul(qe,U),a=a+Math.imul(Ze,S)|0,t=Math.imul(Ze,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,t=t+Math.imul(I,J)|0;var Ke=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(ie,S),a=Math.imul(ie,U),a=a+Math.imul(fe,S)|0,t=Math.imul(fe,U),p=p+Math.imul(qe,j)|0,a=a+Math.imul(qe,J)|0,a=a+Math.imul(Ze,j)|0,t=t+Math.imul(Ze,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,t=t+Math.imul(I,G)|0;var Ge=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,p=Math.imul(xe,S),a=Math.imul(xe,U),a=a+Math.imul(ze,S)|0,t=Math.imul(ze,U),p=p+Math.imul(ie,j)|0,a=a+Math.imul(ie,J)|0,a=a+Math.imul(fe,j)|0,t=t+Math.imul(fe,J)|0,p=p+Math.imul(qe,H)|0,a=a+Math.imul(qe,G)|0,a=a+Math.imul(Ze,H)|0,t=t+Math.imul(Ze,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,le)|0,a=a+Math.imul(I,Q)|0,t=t+Math.imul(I,le)|0;var Ce=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,p=Math.imul(O,S),a=Math.imul(O,U),a=a+Math.imul(ae,S)|0,t=Math.imul(ae,U),p=p+Math.imul(xe,j)|0,a=a+Math.imul(xe,J)|0,a=a+Math.imul(ze,j)|0,t=t+Math.imul(ze,J)|0,p=p+Math.imul(ie,H)|0,a=a+Math.imul(ie,G)|0,a=a+Math.imul(fe,H)|0,t=t+Math.imul(fe,G)|0,p=p+Math.imul(qe,Q)|0,a=a+Math.imul(qe,le)|0,a=a+Math.imul(Ze,Q)|0,t=t+Math.imul(Ze,le)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,ne)|0,a=a+Math.imul(I,A)|0,t=t+Math.imul(I,ne)|0;var Ye=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,p=Math.imul(ge,S),a=Math.imul(ge,U),a=a+Math.imul(Ve,S)|0,t=Math.imul(Ve,U),p=p+Math.imul(O,j)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(ae,j)|0,t=t+Math.imul(ae,J)|0,p=p+Math.imul(xe,H)|0,a=a+Math.imul(xe,G)|0,a=a+Math.imul(ze,H)|0,t=t+Math.imul(ze,G)|0,p=p+Math.imul(ie,Q)|0,a=a+Math.imul(ie,le)|0,a=a+Math.imul(fe,Q)|0,t=t+Math.imul(fe,le)|0,p=p+Math.imul(qe,A)|0,a=a+Math.imul(qe,ne)|0,a=a+Math.imul(Ze,A)|0,t=t+Math.imul(Ze,ne)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,se)|0,a=a+Math.imul(I,B)|0,t=t+Math.imul(I,se)|0;var Ae=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,p=Math.imul(Oe,S),a=Math.imul(Oe,U),a=a+Math.imul(Je,S)|0,t=Math.imul(Je,U),p=p+Math.imul(ge,j)|0,a=a+Math.imul(ge,J)|0,a=a+Math.imul(Ve,j)|0,t=t+Math.imul(Ve,J)|0,p=p+Math.imul(O,H)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(ae,H)|0,t=t+Math.imul(ae,G)|0,p=p+Math.imul(xe,Q)|0,a=a+Math.imul(xe,le)|0,a=a+Math.imul(ze,Q)|0,t=t+Math.imul(ze,le)|0,p=p+Math.imul(ie,A)|0,a=a+Math.imul(ie,ne)|0,a=a+Math.imul(fe,A)|0,t=t+Math.imul(fe,ne)|0,p=p+Math.imul(qe,B)|0,a=a+Math.imul(qe,se)|0,a=a+Math.imul(Ze,B)|0,t=t+Math.imul(Ze,se)|0,p=p+Math.imul(w,pe)|0,a=a+Math.imul(w,de)|0,a=a+Math.imul(I,pe)|0,t=t+Math.imul(I,de)|0;var He=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(Pe,S),a=Math.imul(Pe,U),a=a+Math.imul(Fe,S)|0,t=Math.imul(Fe,U),p=p+Math.imul(Oe,j)|0,a=a+Math.imul(Oe,J)|0,a=a+Math.imul(Je,j)|0,t=t+Math.imul(Je,J)|0,p=p+Math.imul(ge,H)|0,a=a+Math.imul(ge,G)|0,a=a+Math.imul(Ve,H)|0,t=t+Math.imul(Ve,G)|0,p=p+Math.imul(O,Q)|0,a=a+Math.imul(O,le)|0,a=a+Math.imul(ae,Q)|0,t=t+Math.imul(ae,le)|0,p=p+Math.imul(xe,A)|0,a=a+Math.imul(xe,ne)|0,a=a+Math.imul(ze,A)|0,t=t+Math.imul(ze,ne)|0,p=p+Math.imul(ie,B)|0,a=a+Math.imul(ie,se)|0,a=a+Math.imul(fe,B)|0,t=t+Math.imul(fe,se)|0,p=p+Math.imul(qe,pe)|0,a=a+Math.imul(qe,de)|0,a=a+Math.imul(Ze,pe)|0,t=t+Math.imul(Ze,de)|0,p=p+Math.imul(w,ve)|0,a=a+Math.imul(w,ye)|0,a=a+Math.imul(I,ve)|0,t=t+Math.imul(I,ye)|0;var ea=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(L,S),a=Math.imul(L,U),a=a+Math.imul(n,S)|0,t=Math.imul(n,U),p=p+Math.imul(Pe,j)|0,a=a+Math.imul(Pe,J)|0,a=a+Math.imul(Fe,j)|0,t=t+Math.imul(Fe,J)|0,p=p+Math.imul(Oe,H)|0,a=a+Math.imul(Oe,G)|0,a=a+Math.imul(Je,H)|0,t=t+Math.imul(Je,G)|0,p=p+Math.imul(ge,Q)|0,a=a+Math.imul(ge,le)|0,a=a+Math.imul(Ve,Q)|0,t=t+Math.imul(Ve,le)|0,p=p+Math.imul(O,A)|0,a=a+Math.imul(O,ne)|0,a=a+Math.imul(ae,A)|0,t=t+Math.imul(ae,ne)|0,p=p+Math.imul(xe,B)|0,a=a+Math.imul(xe,se)|0,a=a+Math.imul(ze,B)|0,t=t+Math.imul(ze,se)|0,p=p+Math.imul(ie,pe)|0,a=a+Math.imul(ie,de)|0,a=a+Math.imul(fe,pe)|0,t=t+Math.imul(fe,de)|0,p=p+Math.imul(qe,ve)|0,a=a+Math.imul(qe,ye)|0,a=a+Math.imul(Ze,ve)|0,t=t+Math.imul(Ze,ye)|0,p=p+Math.imul(w,Te)|0,a=a+Math.imul(w,ke)|0,a=a+Math.imul(I,Te)|0,t=t+Math.imul(I,ke)|0;var Be=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,p=Math.imul(_,S),a=Math.imul(_,U),a=a+Math.imul(N,S)|0,t=Math.imul(N,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(n,j)|0,t=t+Math.imul(n,J)|0,p=p+Math.imul(Pe,H)|0,a=a+Math.imul(Pe,G)|0,a=a+Math.imul(Fe,H)|0,t=t+Math.imul(Fe,G)|0,p=p+Math.imul(Oe,Q)|0,a=a+Math.imul(Oe,le)|0,a=a+Math.imul(Je,Q)|0,t=t+Math.imul(Je,le)|0,p=p+Math.imul(ge,A)|0,a=a+Math.imul(ge,ne)|0,a=a+Math.imul(Ve,A)|0,t=t+Math.imul(Ve,ne)|0,p=p+Math.imul(O,B)|0,a=a+Math.imul(O,se)|0,a=a+Math.imul(ae,B)|0,t=t+Math.imul(ae,se)|0,p=p+Math.imul(xe,pe)|0,a=a+Math.imul(xe,de)|0,a=a+Math.imul(ze,pe)|0,t=t+Math.imul(ze,de)|0,p=p+Math.imul(ie,ve)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(fe,ve)|0,t=t+Math.imul(fe,ye)|0,p=p+Math.imul(qe,Te)|0,a=a+Math.imul(qe,ke)|0,a=a+Math.imul(Ze,Te)|0,t=t+Math.imul(Ze,ke)|0,p=p+Math.imul(w,Le)|0,a=a+Math.imul(w,we)|0,a=a+Math.imul(I,Le)|0,t=t+Math.imul(I,we)|0;var ra=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(_,j),a=Math.imul(_,J),a=a+Math.imul(N,j)|0,t=Math.imul(N,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(n,H)|0,t=t+Math.imul(n,G)|0,p=p+Math.imul(Pe,Q)|0,a=a+Math.imul(Pe,le)|0,a=a+Math.imul(Fe,Q)|0,t=t+Math.imul(Fe,le)|0,p=p+Math.imul(Oe,A)|0,a=a+Math.imul(Oe,ne)|0,a=a+Math.imul(Je,A)|0,t=t+Math.imul(Je,ne)|0,p=p+Math.imul(ge,B)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(Ve,B)|0,t=t+Math.imul(Ve,se)|0,p=p+Math.imul(O,pe)|0,a=a+Math.imul(O,de)|0,a=a+Math.imul(ae,pe)|0,t=t+Math.imul(ae,de)|0,p=p+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(ze,ve)|0,t=t+Math.imul(ze,ye)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(fe,Te)|0,t=t+Math.imul(fe,ke)|0,p=p+Math.imul(qe,Le)|0,a=a+Math.imul(qe,we)|0,a=a+Math.imul(Ze,Le)|0,t=t+Math.imul(Ze,we)|0;var aa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(_,H),a=Math.imul(_,G),a=a+Math.imul(N,H)|0,t=Math.imul(N,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,le)|0,a=a+Math.imul(n,Q)|0,t=t+Math.imul(n,le)|0,p=p+Math.imul(Pe,A)|0,a=a+Math.imul(Pe,ne)|0,a=a+Math.imul(Fe,A)|0,t=t+Math.imul(Fe,ne)|0,p=p+Math.imul(Oe,B)|0,a=a+Math.imul(Oe,se)|0,a=a+Math.imul(Je,B)|0,t=t+Math.imul(Je,se)|0,p=p+Math.imul(ge,pe)|0,a=a+Math.imul(ge,de)|0,a=a+Math.imul(Ve,pe)|0,t=t+Math.imul(Ve,de)|0,p=p+Math.imul(O,ve)|0,a=a+Math.imul(O,ye)|0,a=a+Math.imul(ae,ve)|0,t=t+Math.imul(ae,ye)|0,p=p+Math.imul(xe,Te)|0,a=a+Math.imul(xe,ke)|0,a=a+Math.imul(ze,Te)|0,t=t+Math.imul(ze,ke)|0,p=p+Math.imul(ie,Le)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(fe,Le)|0,t=t+Math.imul(fe,we)|0;var oa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(_,Q),a=Math.imul(_,le),a=a+Math.imul(N,Q)|0,t=Math.imul(N,le),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,ne)|0,a=a+Math.imul(n,A)|0,t=t+Math.imul(n,ne)|0,p=p+Math.imul(Pe,B)|0,a=a+Math.imul(Pe,se)|0,a=a+Math.imul(Fe,B)|0,t=t+Math.imul(Fe,se)|0,p=p+Math.imul(Oe,pe)|0,a=a+Math.imul(Oe,de)|0,a=a+Math.imul(Je,pe)|0,t=t+Math.imul(Je,de)|0,p=p+Math.imul(ge,ve)|0,a=a+Math.imul(ge,ye)|0,a=a+Math.imul(Ve,ve)|0,t=t+Math.imul(Ve,ye)|0,p=p+Math.imul(O,Te)|0,a=a+Math.imul(O,ke)|0,a=a+Math.imul(ae,Te)|0,t=t+Math.imul(ae,ke)|0,p=p+Math.imul(xe,Le)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(ze,Le)|0,t=t+Math.imul(ze,we)|0;var sa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(_,A),a=Math.imul(_,ne),a=a+Math.imul(N,A)|0,t=Math.imul(N,ne),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,se)|0,a=a+Math.imul(n,B)|0,t=t+Math.imul(n,se)|0,p=p+Math.imul(Pe,pe)|0,a=a+Math.imul(Pe,de)|0,a=a+Math.imul(Fe,pe)|0,t=t+Math.imul(Fe,de)|0,p=p+Math.imul(Oe,ve)|0,a=a+Math.imul(Oe,ye)|0,a=a+Math.imul(Je,ve)|0,t=t+Math.imul(Je,ye)|0,p=p+Math.imul(ge,Te)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(Ve,Te)|0,t=t+Math.imul(Ve,ke)|0,p=p+Math.imul(O,Le)|0,a=a+Math.imul(O,we)|0,a=a+Math.imul(ae,Le)|0,t=t+Math.imul(ae,we)|0;var na=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(_,B),a=Math.imul(_,se),a=a+Math.imul(N,B)|0,t=Math.imul(N,se),p=p+Math.imul(L,pe)|0,a=a+Math.imul(L,de)|0,a=a+Math.imul(n,pe)|0,t=t+Math.imul(n,de)|0,p=p+Math.imul(Pe,ve)|0,a=a+Math.imul(Pe,ye)|0,a=a+Math.imul(Fe,ve)|0,t=t+Math.imul(Fe,ye)|0,p=p+Math.imul(Oe,Te)|0,a=a+Math.imul(Oe,ke)|0,a=a+Math.imul(Je,Te)|0,t=t+Math.imul(Je,ke)|0,p=p+Math.imul(ge,Le)|0,a=a+Math.imul(ge,we)|0,a=a+Math.imul(Ve,Le)|0,t=t+Math.imul(Ve,we)|0;var ua=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,p=Math.imul(_,pe),a=Math.imul(_,de),a=a+Math.imul(N,pe)|0,t=Math.imul(N,de),p=p+Math.imul(L,ve)|0,a=a+Math.imul(L,ye)|0,a=a+Math.imul(n,ve)|0,t=t+Math.imul(n,ye)|0,p=p+Math.imul(Pe,Te)|0,a=a+Math.imul(Pe,ke)|0,a=a+Math.imul(Fe,Te)|0,t=t+Math.imul(Fe,ke)|0,p=p+Math.imul(Oe,Le)|0,a=a+Math.imul(Oe,we)|0,a=a+Math.imul(Je,Le)|0,t=t+Math.imul(Je,we)|0;var ma=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(_,ve),a=Math.imul(_,ye),a=a+Math.imul(N,ve)|0,t=Math.imul(N,ye),p=p+Math.imul(L,Te)|0,a=a+Math.imul(L,ke)|0,a=a+Math.imul(n,Te)|0,t=t+Math.imul(n,ke)|0,p=p+Math.imul(Pe,Le)|0,a=a+Math.imul(Pe,we)|0,a=a+Math.imul(Fe,Le)|0,t=t+Math.imul(Fe,we)|0;var _a=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(_,Te),a=Math.imul(_,ke),a=a+Math.imul(N,Te)|0,t=Math.imul(N,ke),p=p+Math.imul(L,Le)|0,a=a+Math.imul(L,we)|0,a=a+Math.imul(n,Le)|0,t=t+Math.imul(n,we)|0;var ia=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(_,Le),a=Math.imul(_,we),a=a+Math.imul(N,Le)|0,t=Math.imul(N,we);var la=(v+p|0)+((a&8191)<<13)|0;return v=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,h[0]=Ie,h[1]=Ke,h[2]=Ge,h[3]=Ce,h[4]=Ye,h[5]=Ae,h[6]=He,h[7]=ea,h[8]=Be,h[9]=ra,h[10]=aa,h[11]=oa,h[12]=sa,h[13]=na,h[14]=ua,h[15]=ma,h[16]=_a,h[17]=ia,h[18]=la,v!==0&&(h[19]=v,i.length++),i};Math.imul||(g=k);function X(e,o,i){i.negative=o.negative^e.negative,i.length=e.length+o.length;for(var s=0,m=0,h=0;h<i.length-1;h++){var v=m;m=0;for(var p=s&67108863,a=Math.min(h,o.length-1),t=Math.max(0,h-e.length+1);t<=a;t++){var F=h-t,w=e.words[F]|0,I=o.words[t]|0,he=w*I,qe=he&67108863;v=v+(he/67108864|0)|0,qe=qe+p|0,p=qe&67108863,v=v+(qe>>>26)|0,m+=v>>>26,v&=67108863}i.words[h]=p,s=v,v=m}return s!==0?i.words[h]=s:i.length--,i.strip()}function E(e,o,i){var s=new z;return s.mulp(e,o,i)}c.prototype.mulTo=function(e,o){var i,s=this.length+e.length;return this.length===10&&e.length===10?i=g(this,e,o):s<63?i=k(this,e,o):s<1024?i=X(this,e,o):i=E(this,e,o),i};function z(e,o){this.x=e,this.y=o}z.prototype.makeRBT=function(e){for(var o=new Array(e),i=c.prototype._countBits(e)-1,s=0;s<e;s++)o[s]=this.revBin(s,i,e);return o},z.prototype.revBin=function(e,o,i){if(e===0||e===i-1)return e;for(var s=0,m=0;m<o;m++)s|=(e&1)<<o-m-1,e>>=1;return s},z.prototype.permute=function(e,o,i,s,m,h){for(var v=0;v<h;v++)s[v]=o[e[v]],m[v]=i[e[v]]},z.prototype.transform=function(e,o,i,s,m,h){this.permute(h,e,o,i,s,m);for(var v=1;v<m;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),t=Math.sin(2*Math.PI/p),F=0;F<m;F+=p)for(var w=a,I=t,he=0;he<v;he++){var qe=i[F+he],Ze=s[F+he],ue=i[F+he+v],ie=s[F+he+v],fe=w*ue-I*ie;ie=w*ie+I*ue,ue=fe,i[F+he]=qe+ue,s[F+he]=Ze+ie,i[F+he+v]=qe-ue,s[F+he+v]=Ze-ie,he!==p&&(fe=a*w-t*I,I=a*I+t*w,w=fe)}},z.prototype.guessLen13b=function(e,o){var i=Math.max(o,e)|1,s=i&1,m=0;for(i=i/2|0;i;i=i>>>1)m++;return 1<<m+1+s},z.prototype.conjugate=function(e,o,i){if(!(i<=1))for(var s=0;s<i/2;s++){var m=e[s];e[s]=e[i-s-1],e[i-s-1]=m,m=o[s],o[s]=-o[i-s-1],o[i-s-1]=-m}},z.prototype.normalize13b=function(e,o){for(var i=0,s=0;s<o/2;s++){var m=Math.round(e[2*s+1]/o)*8192+Math.round(e[2*s]/o)+i;e[s]=m&67108863,m<67108864?i=0:i=m/67108864|0}return e},z.prototype.convert13b=function(e,o,i,s){for(var m=0,h=0;h<o;h++)m=m+(e[h]|0),i[2*h]=m&8191,m=m>>>13,i[2*h+1]=m&8191,m=m>>>13;for(h=2*o;h<s;++h)i[h]=0;f(m===0),f((m&-8192)===0)},z.prototype.stub=function(e){for(var o=new Array(e),i=0;i<e;i++)o[i]=0;return o},z.prototype.mulp=function(e,o,i){var s=2*this.guessLen13b(e.length,o.length),m=this.makeRBT(s),h=this.stub(s),v=new Array(s),p=new Array(s),a=new Array(s),t=new Array(s),F=new Array(s),w=new Array(s),I=i.words;I.length=s,this.convert13b(e.words,e.length,v,s),this.convert13b(o.words,o.length,t,s),this.transform(v,h,p,a,s,m),this.transform(t,h,F,w,s,m);for(var he=0;he<s;he++){var qe=p[he]*F[he]-a[he]*w[he];a[he]=p[he]*w[he]+a[he]*F[he],p[he]=qe}return this.conjugate(p,a,s),this.transform(p,a,I,h,s,m),this.conjugate(I,h,s),this.normalize13b(I,s),i.negative=e.negative^o.negative,i.length=e.length+o.length,i.strip()},c.prototype.mul=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},c.prototype.mulf=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),E(this,e,o)},c.prototype.imul=function(e){return this.clone().mulTo(e,this)},c.prototype.imuln=function(e){f(typeof e=="number"),f(e<67108864);for(var o=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*e,m=(s&67108863)+(o&67108863);o>>=26,o+=s/67108864|0,o+=m>>>26,this.words[i]=m&67108863}return o!==0&&(this.words[i]=o,this.length++),this},c.prototype.muln=function(e){return this.clone().imuln(e)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(e){var o=x(e);if(o.length===0)return new c(1);for(var i=this,s=0;s<o.length&&o[s]===0;s++,i=i.sqr());if(++s<o.length)for(var m=i.sqr();s<o.length;s++,m=m.sqr())o[s]!==0&&(i=i.mul(m));return i},c.prototype.iushln=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=67108863>>>26-o<<26-o,m;if(o!==0){var h=0;for(m=0;m<this.length;m++){var v=this.words[m]&s,p=(this.words[m]|0)-v<<o;this.words[m]=p|h,h=v>>>26-o}h&&(this.words[m]=h,this.length++)}if(i!==0){for(m=this.length-1;m>=0;m--)this.words[m+i]=this.words[m];for(m=0;m<i;m++)this.words[m]=0;this.length+=i}return this.strip()},c.prototype.ishln=function(e){return f(this.negative===0),this.iushln(e)},c.prototype.iushrn=function(e,o,i){f(typeof e=="number"&&e>=0);var s;o?s=(o-o%26)/26:s=0;var m=e%26,h=Math.min((e-m)/26,this.length),v=67108863^67108863>>>m<<m,p=i;if(s-=h,s=Math.max(0,s),p){for(var a=0;a<h;a++)p.words[a]=this.words[a];p.length=h}if(h!==0)if(this.length>h)for(this.length-=h,a=0;a<this.length;a++)this.words[a]=this.words[a+h];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var F=this.words[a]|0;this.words[a]=t<<26-m|F>>>m,t=F&v}return p&&t!==0&&(p.words[p.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(e,o,i){return f(this.negative===0),this.iushrn(e,o,i)},c.prototype.shln=function(e){return this.clone().ishln(e)},c.prototype.ushln=function(e){return this.clone().iushln(e)},c.prototype.shrn=function(e){return this.clone().ishrn(e)},c.prototype.ushrn=function(e){return this.clone().iushrn(e)},c.prototype.testn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return!1;var m=this.words[i];return!!(m&s)},c.prototype.imaskn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(o!==0&&i++,this.length=Math.min(i,this.length),o!==0){var s=67108863^67108863>>>o<<o;this.words[this.length-1]&=s}return this.strip()},c.prototype.maskn=function(e){return this.clone().imaskn(e)},c.prototype.iaddn=function(e){return f(typeof e=="number"),f(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},c.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},c.prototype.isubn=function(e){if(f(typeof e=="number"),f(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},c.prototype.addn=function(e){return this.clone().iaddn(e)},c.prototype.subn=function(e){return this.clone().isubn(e)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(e,o,i){var s=e.length+i,m;this._expand(s);var h,v=0;for(m=0;m<e.length;m++){h=(this.words[m+i]|0)+v;var p=(e.words[m]|0)*o;h-=p&67108863,v=(h>>26)-(p/67108864|0),this.words[m+i]=h&67108863}for(;m<this.length-i;m++)h=(this.words[m+i]|0)+v,v=h>>26,this.words[m+i]=h&67108863;if(v===0)return this.strip();for(f(v===-1),v=0,m=0;m<this.length;m++)h=-(this.words[m]|0)+v,v=h>>26,this.words[m]=h&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(e,o){var i=this.length-e.length,s=this.clone(),m=e,h=m.words[m.length-1]|0,v=this._countBits(h);i=26-v,i!==0&&(m=m.ushln(i),s.iushln(i),h=m.words[m.length-1]|0);var p=s.length-m.length,a;if(o!=="mod"){a=new c(null),a.length=p+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var F=s.clone()._ishlnsubmul(m,1,p);F.negative===0&&(s=F,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(s.words[m.length+w]|0)*67108864+(s.words[m.length+w-1]|0);for(I=Math.min(I/h|0,67108863),s._ishlnsubmul(m,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(m,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),o!=="div"&&i!==0&&s.iushrn(i),{div:a||null,mod:s}},c.prototype.divmod=function(e,o,i){if(f(!e.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var s,m,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,o),o!=="mod"&&(s=h.div.neg()),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.iadd(e)),{div:s,mod:m}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),o),o!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),o),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.isub(e)),{div:h.div,mod:m}):e.length>this.length||this.cmp(e)<0?{div:new c(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new c(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new c(this.modn(e.words[0]))}:this._wordDiv(e,o)},c.prototype.div=function(e){return this.divmod(e,"div",!1).div},c.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},c.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},c.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var i=o.div.negative!==0?o.mod.isub(e):o.mod,s=e.ushrn(1),m=e.andln(1),h=i.cmp(s);return h<0||m===1&&h===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},c.prototype.modn=function(e){f(e<=67108863);for(var o=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(o*i+(this.words[s]|0))%e;return i},c.prototype.idivn=function(e){f(e<=67108863);for(var o=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+o*67108864;this.words[i]=s/e|0,o=s%e}return this.strip()},c.prototype.divn=function(e){return this.clone().idivn(e)},c.prototype.egcd=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=new c(0),v=new c(1),p=0;o.isEven()&&i.isEven();)o.iushrn(1),i.iushrn(1),++p;for(var a=i.clone(),t=o.clone();!o.isZero();){for(var F=0,w=1;(o.words[0]&w)===0&&F<26;++F,w<<=1);if(F>0)for(o.iushrn(F);F-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var I=0,he=1;(i.words[0]&he)===0&&I<26;++I,he<<=1);if(I>0)for(i.iushrn(I);I-- >0;)(h.isOdd()||v.isOdd())&&(h.iadd(a),v.isub(t)),h.iushrn(1),v.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(h),m.isub(v)):(i.isub(o),h.isub(s),v.isub(m))}return{a:h,b:v,gcd:i.iushln(p)}},c.prototype._invmp=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=i.clone();o.cmpn(1)>0&&i.cmpn(1)>0;){for(var v=0,p=1;(o.words[0]&p)===0&&v<26;++v,p<<=1);if(v>0)for(o.iushrn(v);v-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var a=0,t=1;(i.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(i.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(h),m.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(m)):(i.isub(o),m.isub(s))}var F;return o.cmpn(1)===0?F=s:F=m,F.cmpn(0)<0&&F.iadd(e),F},c.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),i=e.clone();o.negative=0,i.negative=0;for(var s=0;o.isEven()&&i.isEven();s++)o.iushrn(1),i.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;i.isEven();)i.iushrn(1);var m=o.cmp(i);if(m<0){var h=o;o=i,i=h}else if(m===0||i.cmpn(1)===0)break;o.isub(i)}while(!0);return i.iushln(s)},c.prototype.invm=function(e){return this.egcd(e).a.umod(e)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(e){return this.words[0]&e},c.prototype.bincn=function(e){f(typeof e=="number");var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var m=s,h=i;m!==0&&h<this.length;h++){var v=this.words[h]|0;v+=m,m=v>>>26,v&=67108863,this.words[h]=v}return m!==0&&(this.words[h]=m,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var i;if(this.length>1)i=1;else{o&&(e=-e),f(e<=67108863,"Number is too big");var s=this.words[0]|0;i=s===e?0:s<e?-1:1}return this.negative!==0?-i|0:i},c.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},c.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,m=e.words[i]|0;if(s!==m){s<m?o=-1:s>m&&(o=1);break}}return o},c.prototype.gtn=function(e){return this.cmpn(e)===1},c.prototype.gt=function(e){return this.cmp(e)===1},c.prototype.gten=function(e){return this.cmpn(e)>=0},c.prototype.gte=function(e){return this.cmp(e)>=0},c.prototype.ltn=function(e){return this.cmpn(e)===-1},c.prototype.lt=function(e){return this.cmp(e)===-1},c.prototype.lten=function(e){return this.cmpn(e)<=0},c.prototype.lte=function(e){return this.cmp(e)<=0},c.prototype.eqn=function(e){return this.cmpn(e)===0},c.prototype.eq=function(e){return this.cmp(e)===0},c.red=function(e){return new me(e)},c.prototype.toRed=function(e){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},c.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(e){return this.red=e,this},c.prototype.forceRed=function(e){return f(!this.red,"Already a number in reduction context"),this._forceRed(e)},c.prototype.redAdd=function(e){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},c.prototype.redIAdd=function(e){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},c.prototype.redSub=function(e){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},c.prototype.redISub=function(e){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},c.prototype.redShl=function(e){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},c.prototype.redMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},c.prototype.redIMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},c.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(e){return f(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(e,o){this.name=e,this.p=new c(o,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var e=new c(null);return e.words=new Array(Math.ceil(this.n/13)),e},Y.prototype.ireduce=function(e){var o=e,i;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),i=o.bitLength();while(i>this.n);var s=i<this.n?-1:o.ucmp(this.p);return s===0?(o.words[0]=0,o.length=1):s>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},Y.prototype.split=function(e,o){e.iushrn(this.n,0,o)},Y.prototype.imulK=function(e){return e.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(e,o){for(var i=4194303,s=Math.min(e.length,9),m=0;m<s;m++)o.words[m]=e.words[m];if(o.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(o.words[o.length++]=h&i,m=10;m<e.length;m++){var v=e.words[m]|0;e.words[m-10]=(v&i)<<4|h>>>22,h=v}h>>>=22,e.words[m-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,i=0;i<e.length;i++){var s=e.words[i]|0;o+=s*977,e.words[i]=o&67108863,o=s*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function te(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(te,Y);function _e(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(_e,Y);function $e(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T($e,Y),$e.prototype.imulK=function(e){for(var o=0,i=0;i<e.length;i++){var s=(e.words[i]|0)*19+o,m=s&67108863;s>>>=26,e.words[i]=m,o=s}return o!==0&&(e.words[e.length++]=o),e},c._prime=function(e){if(K[e])return K[e];var o;if(e==="k256")o=new C;else if(e==="p224")o=new te;else if(e==="p192")o=new _e;else if(e==="p25519")o=new $e;else throw new Error("Unknown prime "+e);return K[e]=o,o};function me(e){if(typeof e=="string"){var o=c._prime(e);this.m=o.p,this.prime=o}else f(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}me.prototype._verify1=function(e){f(e.negative===0,"red works only with positives"),f(e.red,"red works only with red numbers")},me.prototype._verify2=function(e,o){f((e.negative|o.negative)===0,"red works only with positives"),f(e.red&&e.red===o.red,"red works only with red numbers")},me.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},me.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},me.prototype.add=function(e,o){this._verify2(e,o);var i=e.add(o);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},me.prototype.iadd=function(e,o){this._verify2(e,o);var i=e.iadd(o);return i.cmp(this.m)>=0&&i.isub(this.m),i},me.prototype.sub=function(e,o){this._verify2(e,o);var i=e.sub(o);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},me.prototype.isub=function(e,o){this._verify2(e,o);var i=e.isub(o);return i.cmpn(0)<0&&i.iadd(this.m),i},me.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},me.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},me.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},me.prototype.isqr=function(e){return this.imul(e,e.clone())},me.prototype.sqr=function(e){return this.mul(e,e)},me.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(f(o%2===1),o===3){var i=this.m.add(new c(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);f(!s.isZero());var h=new c(1).toRed(this),v=h.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new c(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var t=this.pow(a,s),F=this.pow(e,s.addn(1).iushrn(1)),w=this.pow(e,s),I=m;w.cmp(h)!==0;){for(var he=w,qe=0;he.cmp(h)!==0;qe++)he=he.redSqr();f(qe<I);var Ze=this.pow(t,new c(1).iushln(I-qe-1));F=F.redMul(Ze),t=Ze.redSqr(),w=w.redMul(t),I=qe}return F},me.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},me.prototype.pow=function(e,o){if(o.isZero())return new c(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var i=4,s=new Array(1<<i);s[0]=new c(1).toRed(this),s[1]=e;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],e);var h=s[0],v=0,p=0,a=o.bitLength()%26;for(a===0&&(a=26),m=o.length-1;m>=0;m--){for(var t=o.words[m],F=a-1;F>=0;F--){var w=t>>F&1;if(h!==s[0]&&(h=this.sqr(h)),w===0&&v===0){p=0;continue}v<<=1,v|=w,p++,!(p!==i&&(m!==0||F!==0))&&(h=this.mul(h,s[v]),p=0,v=0)}a=26}return h},me.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},me.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},c.mont=function(e){return new Me(e)};function Me(e){me.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Me,me),Me.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Me.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},Me.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new c(0)._forceRed(this);var i=e.mul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(typeof d>"u"||d,r)}),Lc=je((r,d)=>{(function(u,R){function f(e,o){if(!e)throw new Error(o||"Assertion failed")}function T(e,o){e.super_=o;var i=function(){};i.prototype=o.prototype,e.prototype=new i,e.prototype.constructor=e}function c(e,o,i){if(c.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((o==="le"||o==="be")&&(i=o,o=10),this._init(e||0,o||10,i||"be"))}typeof u=="object"?u.exports=c:R.BN=c,c.BN=c,c.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=Vn().Buffer}catch{}c.isBN=function(e){return e instanceof c?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===c.wordSize&&Array.isArray(e.words)},c.max=function(e,o){return e.cmp(o)>0?e:o},c.min=function(e,o){return e.cmp(o)<0?e:o},c.prototype._init=function(e,o,i){if(typeof e=="number")return this._initNumber(e,o,i);if(typeof e=="object")return this._initArray(e,o,i);o==="hex"&&(o=16),f(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(o===16?this._parseHex(e,s,i):(this._parseBase(e,o,s),i==="le"&&this._initArray(this.toArray(),o,i)))},c.prototype._initNumber=function(e,o,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(f(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),o,i)},c.prototype._initArray=function(e,o,i){if(f(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,h,v=0;if(i==="be")for(s=e.length-1,m=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);else if(i==="le")for(s=0,m=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);return this.strip()};function W(e,o){var i=e.charCodeAt(o);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function y(e,o,i){var s=W(e,i);return i-1>=o&&(s|=W(e,i-1)<<4),s}c.prototype._parseHex=function(e,o,i){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,h=0,v;if(i==="be")for(s=e.length-1;s>=o;s-=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8;else{var p=e.length-o;for(s=p%2===0?o+1:o;s<e.length;s+=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8}this.strip()};function q(e,o,i,s){for(var m=0,h=Math.min(e.length,i),v=o;v<h;v++){var p=e.charCodeAt(v)-48;m*=s,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}c.prototype._parseBase=function(e,o,i){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=o)s++;s--,m=m/o|0;for(var h=e.length-i,v=h%s,p=Math.min(h,h-v)+i,a=0,t=i;t<p;t+=s)a=q(e,t,t+s,o),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var F=1;for(a=q(e,t,e.length,o),t=0;t<v;t++)F*=o;this.imuln(F),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},c.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},c.prototype.clone=function(){var e=new c(null);return this.copy(e),e},c.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(e,o){e=e||10,o=o|0||1;var i;if(e===16||e==="hex"){i="";for(var s=0,m=0,h=0;h<this.length;h++){var v=this.words[h],p=((v<<s|m)&16777215).toString(16);m=v>>>24-s&16777215,m!==0||h!==this.length-1?i=Z[6-p.length]+p+i:i=p+i,s+=2,s>=26&&(s-=26,h--)}for(m!==0&&(i=m.toString(16)+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(e===(e|0)&&e>=2&&e<=36){var a=$[e],t=V[e];i="";var F=this.clone();for(F.negative=0;!F.isZero();){var w=F.modn(t).toString(e);F=F.idivn(t),F.isZero()?i=w+i:i=Z[a-w.length]+w+i}for(this.isZero()&&(i="0"+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}f(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(e,o){return f(typeof b<"u"),this.toArrayLike(b,e,o)},c.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},c.prototype.toArrayLike=function(e,o,i){var s=this.byteLength(),m=i||Math.max(1,s);f(s<=m,"byte array longer than desired length"),f(m>0,"Requested array length <= 0"),this.strip();var h=o==="le",v=new e(m),p,a,t=this.clone();if(h){for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[a]=p;for(;a<m;a++)v[a]=0}else{for(a=0;a<m-s;a++)v[a]=0;for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[m-a-1]=p}return v},Math.clz32?c.prototype._countBits=function(e){return 32-Math.clz32(e)}:c.prototype._countBits=function(e){var o=e,i=0;return o>=4096&&(i+=13,o>>>=13),o>=64&&(i+=7,o>>>=7),o>=8&&(i+=4,o>>>=4),o>=2&&(i+=2,o>>>=2),i+o},c.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,i=0;return(o&8191)===0&&(i+=13,o>>>=13),(o&127)===0&&(i+=7,o>>>=7),(o&15)===0&&(i+=4,o>>>=4),(o&3)===0&&(i+=2,o>>>=2),(o&1)===0&&i++,i},c.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function x(e){for(var o=new Array(e.bitLength()),i=0;i<o.length;i++){var s=i/26|0,m=i%26;o[i]=(e.words[s]&1<<m)>>>m}return o}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var i=this._zeroBits(this.words[o]);if(e+=i,i!==26)break}return e},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},c.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},c.prototype.ior=function(e){return f((this.negative|e.negative)===0),this.iuor(e)},c.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},c.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},c.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var i=0;i<o.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=o.length,this.strip()},c.prototype.iand=function(e){return f((this.negative|e.negative)===0),this.iuand(e)},c.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},c.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},c.prototype.iuxor=function(e){var o,i;this.length>e.length?(o=this,i=e):(o=e,i=this);for(var s=0;s<i.length;s++)this.words[s]=o.words[s]^i.words[s];if(this!==o)for(;s<o.length;s++)this.words[s]=o.words[s];return this.length=o.length,this.strip()},c.prototype.ixor=function(e){return f((this.negative|e.negative)===0),this.iuxor(e)},c.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},c.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},c.prototype.inotn=function(e){f(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,i=e%26;this._expand(o),i>0&&o--;for(var s=0;s<o;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},c.prototype.notn=function(e){return this.clone().inotn(e)},c.prototype.setn=function(e,o){f(typeof e=="number"&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),o?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},c.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var i,s;this.length>e.length?(i=this,s=e):(i=e,s=this);for(var m=0,h=0;h<s.length;h++)o=(i.words[h]|0)+(s.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;for(;m!==0&&h<i.length;h++)o=(i.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;if(this.length=i.length,m!==0)this.words[this.length]=m,this.length++;else if(i!==this)for(;h<i.length;h++)this.words[h]=i.words[h];return this},c.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},c.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;i>0?(s=this,m=e):(s=e,m=this);for(var h=0,v=0;v<m.length;v++)o=(s.words[v]|0)-(m.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;for(;h!==0&&v<s.length;v++)o=(s.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;if(h===0&&v<s.length&&s!==this)for(;v<s.length;v++)this.words[v]=s.words[v];return this.length=Math.max(this.length,v),s!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(e){return this.clone().isub(e)};function k(e,o,i){i.negative=o.negative^e.negative;var s=e.length+o.length|0;i.length=s,s=s-1|0;var m=e.words[0]|0,h=o.words[0]|0,v=m*h,p=v&67108863,a=v/67108864|0;i.words[0]=p;for(var t=1;t<s;t++){for(var F=a>>>26,w=a&67108863,I=Math.min(t,o.length-1),he=Math.max(0,t-e.length+1);he<=I;he++){var qe=t-he|0;m=e.words[qe]|0,h=o.words[he]|0,v=m*h+w,F+=v/67108864|0,w=v&67108863}i.words[t]=w|0,a=F|0}return a!==0?i.words[t]=a|0:i.length--,i.strip()}var g=function(e,o,i){var s=e.words,m=o.words,h=i.words,v=0,p,a,t,F=s[0]|0,w=F&8191,I=F>>>13,he=s[1]|0,qe=he&8191,Ze=he>>>13,ue=s[2]|0,ie=ue&8191,fe=ue>>>13,Ee=s[3]|0,xe=Ee&8191,ze=Ee>>>13,D=s[4]|0,O=D&8191,ae=D>>>13,We=s[5]|0,ge=We&8191,Ve=We>>>13,De=s[6]|0,Oe=De&8191,Je=De>>>13,Qe=s[7]|0,Pe=Qe&8191,Fe=Qe>>>13,pa=s[8]|0,L=pa&8191,n=pa>>>13,l=s[9]|0,_=l&8191,N=l>>>13,M=m[0]|0,S=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,ee=m[2]|0,H=ee&8191,G=ee>>>13,oe=m[3]|0,Q=oe&8191,le=oe>>>13,Re=m[4]|0,A=Re&8191,ne=Re>>>13,re=m[5]|0,B=re&8191,se=re>>>13,Ne=m[6]|0,pe=Ne&8191,de=Ne>>>13,Se=m[7]|0,ve=Se&8191,ye=Se>>>13,Ue=m[8]|0,Te=Ue&8191,ke=Ue>>>13,Xe=m[9]|0,Le=Xe&8191,we=Xe>>>13;i.negative=e.negative^o.negative,i.length=19,p=Math.imul(w,S),a=Math.imul(w,U),a=a+Math.imul(I,S)|0,t=Math.imul(I,U);var Ie=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,p=Math.imul(qe,S),a=Math.imul(qe,U),a=a+Math.imul(Ze,S)|0,t=Math.imul(Ze,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,t=t+Math.imul(I,J)|0;var Ke=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(ie,S),a=Math.imul(ie,U),a=a+Math.imul(fe,S)|0,t=Math.imul(fe,U),p=p+Math.imul(qe,j)|0,a=a+Math.imul(qe,J)|0,a=a+Math.imul(Ze,j)|0,t=t+Math.imul(Ze,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,t=t+Math.imul(I,G)|0;var Ge=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,p=Math.imul(xe,S),a=Math.imul(xe,U),a=a+Math.imul(ze,S)|0,t=Math.imul(ze,U),p=p+Math.imul(ie,j)|0,a=a+Math.imul(ie,J)|0,a=a+Math.imul(fe,j)|0,t=t+Math.imul(fe,J)|0,p=p+Math.imul(qe,H)|0,a=a+Math.imul(qe,G)|0,a=a+Math.imul(Ze,H)|0,t=t+Math.imul(Ze,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,le)|0,a=a+Math.imul(I,Q)|0,t=t+Math.imul(I,le)|0;var Ce=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,p=Math.imul(O,S),a=Math.imul(O,U),a=a+Math.imul(ae,S)|0,t=Math.imul(ae,U),p=p+Math.imul(xe,j)|0,a=a+Math.imul(xe,J)|0,a=a+Math.imul(ze,j)|0,t=t+Math.imul(ze,J)|0,p=p+Math.imul(ie,H)|0,a=a+Math.imul(ie,G)|0,a=a+Math.imul(fe,H)|0,t=t+Math.imul(fe,G)|0,p=p+Math.imul(qe,Q)|0,a=a+Math.imul(qe,le)|0,a=a+Math.imul(Ze,Q)|0,t=t+Math.imul(Ze,le)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,ne)|0,a=a+Math.imul(I,A)|0,t=t+Math.imul(I,ne)|0;var Ye=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,p=Math.imul(ge,S),a=Math.imul(ge,U),a=a+Math.imul(Ve,S)|0,t=Math.imul(Ve,U),p=p+Math.imul(O,j)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(ae,j)|0,t=t+Math.imul(ae,J)|0,p=p+Math.imul(xe,H)|0,a=a+Math.imul(xe,G)|0,a=a+Math.imul(ze,H)|0,t=t+Math.imul(ze,G)|0,p=p+Math.imul(ie,Q)|0,a=a+Math.imul(ie,le)|0,a=a+Math.imul(fe,Q)|0,t=t+Math.imul(fe,le)|0,p=p+Math.imul(qe,A)|0,a=a+Math.imul(qe,ne)|0,a=a+Math.imul(Ze,A)|0,t=t+Math.imul(Ze,ne)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,se)|0,a=a+Math.imul(I,B)|0,t=t+Math.imul(I,se)|0;var Ae=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,p=Math.imul(Oe,S),a=Math.imul(Oe,U),a=a+Math.imul(Je,S)|0,t=Math.imul(Je,U),p=p+Math.imul(ge,j)|0,a=a+Math.imul(ge,J)|0,a=a+Math.imul(Ve,j)|0,t=t+Math.imul(Ve,J)|0,p=p+Math.imul(O,H)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(ae,H)|0,t=t+Math.imul(ae,G)|0,p=p+Math.imul(xe,Q)|0,a=a+Math.imul(xe,le)|0,a=a+Math.imul(ze,Q)|0,t=t+Math.imul(ze,le)|0,p=p+Math.imul(ie,A)|0,a=a+Math.imul(ie,ne)|0,a=a+Math.imul(fe,A)|0,t=t+Math.imul(fe,ne)|0,p=p+Math.imul(qe,B)|0,a=a+Math.imul(qe,se)|0,a=a+Math.imul(Ze,B)|0,t=t+Math.imul(Ze,se)|0,p=p+Math.imul(w,pe)|0,a=a+Math.imul(w,de)|0,a=a+Math.imul(I,pe)|0,t=t+Math.imul(I,de)|0;var He=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(Pe,S),a=Math.imul(Pe,U),a=a+Math.imul(Fe,S)|0,t=Math.imul(Fe,U),p=p+Math.imul(Oe,j)|0,a=a+Math.imul(Oe,J)|0,a=a+Math.imul(Je,j)|0,t=t+Math.imul(Je,J)|0,p=p+Math.imul(ge,H)|0,a=a+Math.imul(ge,G)|0,a=a+Math.imul(Ve,H)|0,t=t+Math.imul(Ve,G)|0,p=p+Math.imul(O,Q)|0,a=a+Math.imul(O,le)|0,a=a+Math.imul(ae,Q)|0,t=t+Math.imul(ae,le)|0,p=p+Math.imul(xe,A)|0,a=a+Math.imul(xe,ne)|0,a=a+Math.imul(ze,A)|0,t=t+Math.imul(ze,ne)|0,p=p+Math.imul(ie,B)|0,a=a+Math.imul(ie,se)|0,a=a+Math.imul(fe,B)|0,t=t+Math.imul(fe,se)|0,p=p+Math.imul(qe,pe)|0,a=a+Math.imul(qe,de)|0,a=a+Math.imul(Ze,pe)|0,t=t+Math.imul(Ze,de)|0,p=p+Math.imul(w,ve)|0,a=a+Math.imul(w,ye)|0,a=a+Math.imul(I,ve)|0,t=t+Math.imul(I,ye)|0;var ea=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(L,S),a=Math.imul(L,U),a=a+Math.imul(n,S)|0,t=Math.imul(n,U),p=p+Math.imul(Pe,j)|0,a=a+Math.imul(Pe,J)|0,a=a+Math.imul(Fe,j)|0,t=t+Math.imul(Fe,J)|0,p=p+Math.imul(Oe,H)|0,a=a+Math.imul(Oe,G)|0,a=a+Math.imul(Je,H)|0,t=t+Math.imul(Je,G)|0,p=p+Math.imul(ge,Q)|0,a=a+Math.imul(ge,le)|0,a=a+Math.imul(Ve,Q)|0,t=t+Math.imul(Ve,le)|0,p=p+Math.imul(O,A)|0,a=a+Math.imul(O,ne)|0,a=a+Math.imul(ae,A)|0,t=t+Math.imul(ae,ne)|0,p=p+Math.imul(xe,B)|0,a=a+Math.imul(xe,se)|0,a=a+Math.imul(ze,B)|0,t=t+Math.imul(ze,se)|0,p=p+Math.imul(ie,pe)|0,a=a+Math.imul(ie,de)|0,a=a+Math.imul(fe,pe)|0,t=t+Math.imul(fe,de)|0,p=p+Math.imul(qe,ve)|0,a=a+Math.imul(qe,ye)|0,a=a+Math.imul(Ze,ve)|0,t=t+Math.imul(Ze,ye)|0,p=p+Math.imul(w,Te)|0,a=a+Math.imul(w,ke)|0,a=a+Math.imul(I,Te)|0,t=t+Math.imul(I,ke)|0;var Be=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,p=Math.imul(_,S),a=Math.imul(_,U),a=a+Math.imul(N,S)|0,t=Math.imul(N,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(n,j)|0,t=t+Math.imul(n,J)|0,p=p+Math.imul(Pe,H)|0,a=a+Math.imul(Pe,G)|0,a=a+Math.imul(Fe,H)|0,t=t+Math.imul(Fe,G)|0,p=p+Math.imul(Oe,Q)|0,a=a+Math.imul(Oe,le)|0,a=a+Math.imul(Je,Q)|0,t=t+Math.imul(Je,le)|0,p=p+Math.imul(ge,A)|0,a=a+Math.imul(ge,ne)|0,a=a+Math.imul(Ve,A)|0,t=t+Math.imul(Ve,ne)|0,p=p+Math.imul(O,B)|0,a=a+Math.imul(O,se)|0,a=a+Math.imul(ae,B)|0,t=t+Math.imul(ae,se)|0,p=p+Math.imul(xe,pe)|0,a=a+Math.imul(xe,de)|0,a=a+Math.imul(ze,pe)|0,t=t+Math.imul(ze,de)|0,p=p+Math.imul(ie,ve)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(fe,ve)|0,t=t+Math.imul(fe,ye)|0,p=p+Math.imul(qe,Te)|0,a=a+Math.imul(qe,ke)|0,a=a+Math.imul(Ze,Te)|0,t=t+Math.imul(Ze,ke)|0,p=p+Math.imul(w,Le)|0,a=a+Math.imul(w,we)|0,a=a+Math.imul(I,Le)|0,t=t+Math.imul(I,we)|0;var ra=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(_,j),a=Math.imul(_,J),a=a+Math.imul(N,j)|0,t=Math.imul(N,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(n,H)|0,t=t+Math.imul(n,G)|0,p=p+Math.imul(Pe,Q)|0,a=a+Math.imul(Pe,le)|0,a=a+Math.imul(Fe,Q)|0,t=t+Math.imul(Fe,le)|0,p=p+Math.imul(Oe,A)|0,a=a+Math.imul(Oe,ne)|0,a=a+Math.imul(Je,A)|0,t=t+Math.imul(Je,ne)|0,p=p+Math.imul(ge,B)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(Ve,B)|0,t=t+Math.imul(Ve,se)|0,p=p+Math.imul(O,pe)|0,a=a+Math.imul(O,de)|0,a=a+Math.imul(ae,pe)|0,t=t+Math.imul(ae,de)|0,p=p+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(ze,ve)|0,t=t+Math.imul(ze,ye)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(fe,Te)|0,t=t+Math.imul(fe,ke)|0,p=p+Math.imul(qe,Le)|0,a=a+Math.imul(qe,we)|0,a=a+Math.imul(Ze,Le)|0,t=t+Math.imul(Ze,we)|0;var aa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(_,H),a=Math.imul(_,G),a=a+Math.imul(N,H)|0,t=Math.imul(N,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,le)|0,a=a+Math.imul(n,Q)|0,t=t+Math.imul(n,le)|0,p=p+Math.imul(Pe,A)|0,a=a+Math.imul(Pe,ne)|0,a=a+Math.imul(Fe,A)|0,t=t+Math.imul(Fe,ne)|0,p=p+Math.imul(Oe,B)|0,a=a+Math.imul(Oe,se)|0,a=a+Math.imul(Je,B)|0,t=t+Math.imul(Je,se)|0,p=p+Math.imul(ge,pe)|0,a=a+Math.imul(ge,de)|0,a=a+Math.imul(Ve,pe)|0,t=t+Math.imul(Ve,de)|0,p=p+Math.imul(O,ve)|0,a=a+Math.imul(O,ye)|0,a=a+Math.imul(ae,ve)|0,t=t+Math.imul(ae,ye)|0,p=p+Math.imul(xe,Te)|0,a=a+Math.imul(xe,ke)|0,a=a+Math.imul(ze,Te)|0,t=t+Math.imul(ze,ke)|0,p=p+Math.imul(ie,Le)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(fe,Le)|0,t=t+Math.imul(fe,we)|0;var oa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(_,Q),a=Math.imul(_,le),a=a+Math.imul(N,Q)|0,t=Math.imul(N,le),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,ne)|0,a=a+Math.imul(n,A)|0,t=t+Math.imul(n,ne)|0,p=p+Math.imul(Pe,B)|0,a=a+Math.imul(Pe,se)|0,a=a+Math.imul(Fe,B)|0,t=t+Math.imul(Fe,se)|0,p=p+Math.imul(Oe,pe)|0,a=a+Math.imul(Oe,de)|0,a=a+Math.imul(Je,pe)|0,t=t+Math.imul(Je,de)|0,p=p+Math.imul(ge,ve)|0,a=a+Math.imul(ge,ye)|0,a=a+Math.imul(Ve,ve)|0,t=t+Math.imul(Ve,ye)|0,p=p+Math.imul(O,Te)|0,a=a+Math.imul(O,ke)|0,a=a+Math.imul(ae,Te)|0,t=t+Math.imul(ae,ke)|0,p=p+Math.imul(xe,Le)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(ze,Le)|0,t=t+Math.imul(ze,we)|0;var sa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(_,A),a=Math.imul(_,ne),a=a+Math.imul(N,A)|0,t=Math.imul(N,ne),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,se)|0,a=a+Math.imul(n,B)|0,t=t+Math.imul(n,se)|0,p=p+Math.imul(Pe,pe)|0,a=a+Math.imul(Pe,de)|0,a=a+Math.imul(Fe,pe)|0,t=t+Math.imul(Fe,de)|0,p=p+Math.imul(Oe,ve)|0,a=a+Math.imul(Oe,ye)|0,a=a+Math.imul(Je,ve)|0,t=t+Math.imul(Je,ye)|0,p=p+Math.imul(ge,Te)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(Ve,Te)|0,t=t+Math.imul(Ve,ke)|0,p=p+Math.imul(O,Le)|0,a=a+Math.imul(O,we)|0,a=a+Math.imul(ae,Le)|0,t=t+Math.imul(ae,we)|0;var na=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(_,B),a=Math.imul(_,se),a=a+Math.imul(N,B)|0,t=Math.imul(N,se),p=p+Math.imul(L,pe)|0,a=a+Math.imul(L,de)|0,a=a+Math.imul(n,pe)|0,t=t+Math.imul(n,de)|0,p=p+Math.imul(Pe,ve)|0,a=a+Math.imul(Pe,ye)|0,a=a+Math.imul(Fe,ve)|0,t=t+Math.imul(Fe,ye)|0,p=p+Math.imul(Oe,Te)|0,a=a+Math.imul(Oe,ke)|0,a=a+Math.imul(Je,Te)|0,t=t+Math.imul(Je,ke)|0,p=p+Math.imul(ge,Le)|0,a=a+Math.imul(ge,we)|0,a=a+Math.imul(Ve,Le)|0,t=t+Math.imul(Ve,we)|0;var ua=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,p=Math.imul(_,pe),a=Math.imul(_,de),a=a+Math.imul(N,pe)|0,t=Math.imul(N,de),p=p+Math.imul(L,ve)|0,a=a+Math.imul(L,ye)|0,a=a+Math.imul(n,ve)|0,t=t+Math.imul(n,ye)|0,p=p+Math.imul(Pe,Te)|0,a=a+Math.imul(Pe,ke)|0,a=a+Math.imul(Fe,Te)|0,t=t+Math.imul(Fe,ke)|0,p=p+Math.imul(Oe,Le)|0,a=a+Math.imul(Oe,we)|0,a=a+Math.imul(Je,Le)|0,t=t+Math.imul(Je,we)|0;var ma=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(_,ve),a=Math.imul(_,ye),a=a+Math.imul(N,ve)|0,t=Math.imul(N,ye),p=p+Math.imul(L,Te)|0,a=a+Math.imul(L,ke)|0,a=a+Math.imul(n,Te)|0,t=t+Math.imul(n,ke)|0,p=p+Math.imul(Pe,Le)|0,a=a+Math.imul(Pe,we)|0,a=a+Math.imul(Fe,Le)|0,t=t+Math.imul(Fe,we)|0;var _a=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(_,Te),a=Math.imul(_,ke),a=a+Math.imul(N,Te)|0,t=Math.imul(N,ke),p=p+Math.imul(L,Le)|0,a=a+Math.imul(L,we)|0,a=a+Math.imul(n,Le)|0,t=t+Math.imul(n,we)|0;var ia=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(_,Le),a=Math.imul(_,we),a=a+Math.imul(N,Le)|0,t=Math.imul(N,we);var la=(v+p|0)+((a&8191)<<13)|0;return v=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,h[0]=Ie,h[1]=Ke,h[2]=Ge,h[3]=Ce,h[4]=Ye,h[5]=Ae,h[6]=He,h[7]=ea,h[8]=Be,h[9]=ra,h[10]=aa,h[11]=oa,h[12]=sa,h[13]=na,h[14]=ua,h[15]=ma,h[16]=_a,h[17]=ia,h[18]=la,v!==0&&(h[19]=v,i.length++),i};Math.imul||(g=k);function X(e,o,i){i.negative=o.negative^e.negative,i.length=e.length+o.length;for(var s=0,m=0,h=0;h<i.length-1;h++){var v=m;m=0;for(var p=s&67108863,a=Math.min(h,o.length-1),t=Math.max(0,h-e.length+1);t<=a;t++){var F=h-t,w=e.words[F]|0,I=o.words[t]|0,he=w*I,qe=he&67108863;v=v+(he/67108864|0)|0,qe=qe+p|0,p=qe&67108863,v=v+(qe>>>26)|0,m+=v>>>26,v&=67108863}i.words[h]=p,s=v,v=m}return s!==0?i.words[h]=s:i.length--,i.strip()}function E(e,o,i){var s=new z;return s.mulp(e,o,i)}c.prototype.mulTo=function(e,o){var i,s=this.length+e.length;return this.length===10&&e.length===10?i=g(this,e,o):s<63?i=k(this,e,o):s<1024?i=X(this,e,o):i=E(this,e,o),i};function z(e,o){this.x=e,this.y=o}z.prototype.makeRBT=function(e){for(var o=new Array(e),i=c.prototype._countBits(e)-1,s=0;s<e;s++)o[s]=this.revBin(s,i,e);return o},z.prototype.revBin=function(e,o,i){if(e===0||e===i-1)return e;for(var s=0,m=0;m<o;m++)s|=(e&1)<<o-m-1,e>>=1;return s},z.prototype.permute=function(e,o,i,s,m,h){for(var v=0;v<h;v++)s[v]=o[e[v]],m[v]=i[e[v]]},z.prototype.transform=function(e,o,i,s,m,h){this.permute(h,e,o,i,s,m);for(var v=1;v<m;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),t=Math.sin(2*Math.PI/p),F=0;F<m;F+=p)for(var w=a,I=t,he=0;he<v;he++){var qe=i[F+he],Ze=s[F+he],ue=i[F+he+v],ie=s[F+he+v],fe=w*ue-I*ie;ie=w*ie+I*ue,ue=fe,i[F+he]=qe+ue,s[F+he]=Ze+ie,i[F+he+v]=qe-ue,s[F+he+v]=Ze-ie,he!==p&&(fe=a*w-t*I,I=a*I+t*w,w=fe)}},z.prototype.guessLen13b=function(e,o){var i=Math.max(o,e)|1,s=i&1,m=0;for(i=i/2|0;i;i=i>>>1)m++;return 1<<m+1+s},z.prototype.conjugate=function(e,o,i){if(!(i<=1))for(var s=0;s<i/2;s++){var m=e[s];e[s]=e[i-s-1],e[i-s-1]=m,m=o[s],o[s]=-o[i-s-1],o[i-s-1]=-m}},z.prototype.normalize13b=function(e,o){for(var i=0,s=0;s<o/2;s++){var m=Math.round(e[2*s+1]/o)*8192+Math.round(e[2*s]/o)+i;e[s]=m&67108863,m<67108864?i=0:i=m/67108864|0}return e},z.prototype.convert13b=function(e,o,i,s){for(var m=0,h=0;h<o;h++)m=m+(e[h]|0),i[2*h]=m&8191,m=m>>>13,i[2*h+1]=m&8191,m=m>>>13;for(h=2*o;h<s;++h)i[h]=0;f(m===0),f((m&-8192)===0)},z.prototype.stub=function(e){for(var o=new Array(e),i=0;i<e;i++)o[i]=0;return o},z.prototype.mulp=function(e,o,i){var s=2*this.guessLen13b(e.length,o.length),m=this.makeRBT(s),h=this.stub(s),v=new Array(s),p=new Array(s),a=new Array(s),t=new Array(s),F=new Array(s),w=new Array(s),I=i.words;I.length=s,this.convert13b(e.words,e.length,v,s),this.convert13b(o.words,o.length,t,s),this.transform(v,h,p,a,s,m),this.transform(t,h,F,w,s,m);for(var he=0;he<s;he++){var qe=p[he]*F[he]-a[he]*w[he];a[he]=p[he]*w[he]+a[he]*F[he],p[he]=qe}return this.conjugate(p,a,s),this.transform(p,a,I,h,s,m),this.conjugate(I,h,s),this.normalize13b(I,s),i.negative=e.negative^o.negative,i.length=e.length+o.length,i.strip()},c.prototype.mul=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},c.prototype.mulf=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),E(this,e,o)},c.prototype.imul=function(e){return this.clone().mulTo(e,this)},c.prototype.imuln=function(e){f(typeof e=="number"),f(e<67108864);for(var o=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*e,m=(s&67108863)+(o&67108863);o>>=26,o+=s/67108864|0,o+=m>>>26,this.words[i]=m&67108863}return o!==0&&(this.words[i]=o,this.length++),this},c.prototype.muln=function(e){return this.clone().imuln(e)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(e){var o=x(e);if(o.length===0)return new c(1);for(var i=this,s=0;s<o.length&&o[s]===0;s++,i=i.sqr());if(++s<o.length)for(var m=i.sqr();s<o.length;s++,m=m.sqr())o[s]!==0&&(i=i.mul(m));return i},c.prototype.iushln=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=67108863>>>26-o<<26-o,m;if(o!==0){var h=0;for(m=0;m<this.length;m++){var v=this.words[m]&s,p=(this.words[m]|0)-v<<o;this.words[m]=p|h,h=v>>>26-o}h&&(this.words[m]=h,this.length++)}if(i!==0){for(m=this.length-1;m>=0;m--)this.words[m+i]=this.words[m];for(m=0;m<i;m++)this.words[m]=0;this.length+=i}return this.strip()},c.prototype.ishln=function(e){return f(this.negative===0),this.iushln(e)},c.prototype.iushrn=function(e,o,i){f(typeof e=="number"&&e>=0);var s;o?s=(o-o%26)/26:s=0;var m=e%26,h=Math.min((e-m)/26,this.length),v=67108863^67108863>>>m<<m,p=i;if(s-=h,s=Math.max(0,s),p){for(var a=0;a<h;a++)p.words[a]=this.words[a];p.length=h}if(h!==0)if(this.length>h)for(this.length-=h,a=0;a<this.length;a++)this.words[a]=this.words[a+h];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var F=this.words[a]|0;this.words[a]=t<<26-m|F>>>m,t=F&v}return p&&t!==0&&(p.words[p.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(e,o,i){return f(this.negative===0),this.iushrn(e,o,i)},c.prototype.shln=function(e){return this.clone().ishln(e)},c.prototype.ushln=function(e){return this.clone().iushln(e)},c.prototype.shrn=function(e){return this.clone().ishrn(e)},c.prototype.ushrn=function(e){return this.clone().iushrn(e)},c.prototype.testn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return!1;var m=this.words[i];return!!(m&s)},c.prototype.imaskn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(o!==0&&i++,this.length=Math.min(i,this.length),o!==0){var s=67108863^67108863>>>o<<o;this.words[this.length-1]&=s}return this.strip()},c.prototype.maskn=function(e){return this.clone().imaskn(e)},c.prototype.iaddn=function(e){return f(typeof e=="number"),f(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},c.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},c.prototype.isubn=function(e){if(f(typeof e=="number"),f(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},c.prototype.addn=function(e){return this.clone().iaddn(e)},c.prototype.subn=function(e){return this.clone().isubn(e)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(e,o,i){var s=e.length+i,m;this._expand(s);var h,v=0;for(m=0;m<e.length;m++){h=(this.words[m+i]|0)+v;var p=(e.words[m]|0)*o;h-=p&67108863,v=(h>>26)-(p/67108864|0),this.words[m+i]=h&67108863}for(;m<this.length-i;m++)h=(this.words[m+i]|0)+v,v=h>>26,this.words[m+i]=h&67108863;if(v===0)return this.strip();for(f(v===-1),v=0,m=0;m<this.length;m++)h=-(this.words[m]|0)+v,v=h>>26,this.words[m]=h&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(e,o){var i=this.length-e.length,s=this.clone(),m=e,h=m.words[m.length-1]|0,v=this._countBits(h);i=26-v,i!==0&&(m=m.ushln(i),s.iushln(i),h=m.words[m.length-1]|0);var p=s.length-m.length,a;if(o!=="mod"){a=new c(null),a.length=p+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var F=s.clone()._ishlnsubmul(m,1,p);F.negative===0&&(s=F,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(s.words[m.length+w]|0)*67108864+(s.words[m.length+w-1]|0);for(I=Math.min(I/h|0,67108863),s._ishlnsubmul(m,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(m,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),o!=="div"&&i!==0&&s.iushrn(i),{div:a||null,mod:s}},c.prototype.divmod=function(e,o,i){if(f(!e.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var s,m,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,o),o!=="mod"&&(s=h.div.neg()),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.iadd(e)),{div:s,mod:m}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),o),o!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),o),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.isub(e)),{div:h.div,mod:m}):e.length>this.length||this.cmp(e)<0?{div:new c(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new c(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new c(this.modn(e.words[0]))}:this._wordDiv(e,o)},c.prototype.div=function(e){return this.divmod(e,"div",!1).div},c.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},c.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},c.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var i=o.div.negative!==0?o.mod.isub(e):o.mod,s=e.ushrn(1),m=e.andln(1),h=i.cmp(s);return h<0||m===1&&h===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},c.prototype.modn=function(e){f(e<=67108863);for(var o=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(o*i+(this.words[s]|0))%e;return i},c.prototype.idivn=function(e){f(e<=67108863);for(var o=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+o*67108864;this.words[i]=s/e|0,o=s%e}return this.strip()},c.prototype.divn=function(e){return this.clone().idivn(e)},c.prototype.egcd=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=new c(0),v=new c(1),p=0;o.isEven()&&i.isEven();)o.iushrn(1),i.iushrn(1),++p;for(var a=i.clone(),t=o.clone();!o.isZero();){for(var F=0,w=1;(o.words[0]&w)===0&&F<26;++F,w<<=1);if(F>0)for(o.iushrn(F);F-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var I=0,he=1;(i.words[0]&he)===0&&I<26;++I,he<<=1);if(I>0)for(i.iushrn(I);I-- >0;)(h.isOdd()||v.isOdd())&&(h.iadd(a),v.isub(t)),h.iushrn(1),v.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(h),m.isub(v)):(i.isub(o),h.isub(s),v.isub(m))}return{a:h,b:v,gcd:i.iushln(p)}},c.prototype._invmp=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=i.clone();o.cmpn(1)>0&&i.cmpn(1)>0;){for(var v=0,p=1;(o.words[0]&p)===0&&v<26;++v,p<<=1);if(v>0)for(o.iushrn(v);v-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var a=0,t=1;(i.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(i.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(h),m.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(m)):(i.isub(o),m.isub(s))}var F;return o.cmpn(1)===0?F=s:F=m,F.cmpn(0)<0&&F.iadd(e),F},c.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),i=e.clone();o.negative=0,i.negative=0;for(var s=0;o.isEven()&&i.isEven();s++)o.iushrn(1),i.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;i.isEven();)i.iushrn(1);var m=o.cmp(i);if(m<0){var h=o;o=i,i=h}else if(m===0||i.cmpn(1)===0)break;o.isub(i)}while(!0);return i.iushln(s)},c.prototype.invm=function(e){return this.egcd(e).a.umod(e)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(e){return this.words[0]&e},c.prototype.bincn=function(e){f(typeof e=="number");var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var m=s,h=i;m!==0&&h<this.length;h++){var v=this.words[h]|0;v+=m,m=v>>>26,v&=67108863,this.words[h]=v}return m!==0&&(this.words[h]=m,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var i;if(this.length>1)i=1;else{o&&(e=-e),f(e<=67108863,"Number is too big");var s=this.words[0]|0;i=s===e?0:s<e?-1:1}return this.negative!==0?-i|0:i},c.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},c.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,m=e.words[i]|0;if(s!==m){s<m?o=-1:s>m&&(o=1);break}}return o},c.prototype.gtn=function(e){return this.cmpn(e)===1},c.prototype.gt=function(e){return this.cmp(e)===1},c.prototype.gten=function(e){return this.cmpn(e)>=0},c.prototype.gte=function(e){return this.cmp(e)>=0},c.prototype.ltn=function(e){return this.cmpn(e)===-1},c.prototype.lt=function(e){return this.cmp(e)===-1},c.prototype.lten=function(e){return this.cmpn(e)<=0},c.prototype.lte=function(e){return this.cmp(e)<=0},c.prototype.eqn=function(e){return this.cmpn(e)===0},c.prototype.eq=function(e){return this.cmp(e)===0},c.red=function(e){return new me(e)},c.prototype.toRed=function(e){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},c.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(e){return this.red=e,this},c.prototype.forceRed=function(e){return f(!this.red,"Already a number in reduction context"),this._forceRed(e)},c.prototype.redAdd=function(e){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},c.prototype.redIAdd=function(e){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},c.prototype.redSub=function(e){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},c.prototype.redISub=function(e){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},c.prototype.redShl=function(e){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},c.prototype.redMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},c.prototype.redIMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},c.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(e){return f(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(e,o){this.name=e,this.p=new c(o,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var e=new c(null);return e.words=new Array(Math.ceil(this.n/13)),e},Y.prototype.ireduce=function(e){var o=e,i;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),i=o.bitLength();while(i>this.n);var s=i<this.n?-1:o.ucmp(this.p);return s===0?(o.words[0]=0,o.length=1):s>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},Y.prototype.split=function(e,o){e.iushrn(this.n,0,o)},Y.prototype.imulK=function(e){return e.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(e,o){for(var i=4194303,s=Math.min(e.length,9),m=0;m<s;m++)o.words[m]=e.words[m];if(o.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(o.words[o.length++]=h&i,m=10;m<e.length;m++){var v=e.words[m]|0;e.words[m-10]=(v&i)<<4|h>>>22,h=v}h>>>=22,e.words[m-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,i=0;i<e.length;i++){var s=e.words[i]|0;o+=s*977,e.words[i]=o&67108863,o=s*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function te(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(te,Y);function _e(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(_e,Y);function $e(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T($e,Y),$e.prototype.imulK=function(e){for(var o=0,i=0;i<e.length;i++){var s=(e.words[i]|0)*19+o,m=s&67108863;s>>>=26,e.words[i]=m,o=s}return o!==0&&(e.words[e.length++]=o),e},c._prime=function(e){if(K[e])return K[e];var o;if(e==="k256")o=new C;else if(e==="p224")o=new te;else if(e==="p192")o=new _e;else if(e==="p25519")o=new $e;else throw new Error("Unknown prime "+e);return K[e]=o,o};function me(e){if(typeof e=="string"){var o=c._prime(e);this.m=o.p,this.prime=o}else f(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}me.prototype._verify1=function(e){f(e.negative===0,"red works only with positives"),f(e.red,"red works only with red numbers")},me.prototype._verify2=function(e,o){f((e.negative|o.negative)===0,"red works only with positives"),f(e.red&&e.red===o.red,"red works only with red numbers")},me.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},me.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},me.prototype.add=function(e,o){this._verify2(e,o);var i=e.add(o);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},me.prototype.iadd=function(e,o){this._verify2(e,o);var i=e.iadd(o);return i.cmp(this.m)>=0&&i.isub(this.m),i},me.prototype.sub=function(e,o){this._verify2(e,o);var i=e.sub(o);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},me.prototype.isub=function(e,o){this._verify2(e,o);var i=e.isub(o);return i.cmpn(0)<0&&i.iadd(this.m),i},me.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},me.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},me.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},me.prototype.isqr=function(e){return this.imul(e,e.clone())},me.prototype.sqr=function(e){return this.mul(e,e)},me.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(f(o%2===1),o===3){var i=this.m.add(new c(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);f(!s.isZero());var h=new c(1).toRed(this),v=h.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new c(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var t=this.pow(a,s),F=this.pow(e,s.addn(1).iushrn(1)),w=this.pow(e,s),I=m;w.cmp(h)!==0;){for(var he=w,qe=0;he.cmp(h)!==0;qe++)he=he.redSqr();f(qe<I);var Ze=this.pow(t,new c(1).iushln(I-qe-1));F=F.redMul(Ze),t=Ze.redSqr(),w=w.redMul(t),I=qe}return F},me.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},me.prototype.pow=function(e,o){if(o.isZero())return new c(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var i=4,s=new Array(1<<i);s[0]=new c(1).toRed(this),s[1]=e;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],e);var h=s[0],v=0,p=0,a=o.bitLength()%26;for(a===0&&(a=26),m=o.length-1;m>=0;m--){for(var t=o.words[m],F=a-1;F>=0;F--){var w=t>>F&1;if(h!==s[0]&&(h=this.sqr(h)),w===0&&v===0){p=0;continue}v<<=1,v|=w,p++,!(p!==i&&(m!==0||F!==0))&&(h=this.mul(h,s[v]),p=0,v=0)}a=26}return h},me.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},me.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},c.mont=function(e){return new Me(e)};function Me(e){me.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Me,me),Me.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Me.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},Me.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new c(0)._forceRed(this);var i=e.mul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(typeof d>"u"||d,r)}),Wc=je(()=>{}),Ks=je((r,d)=>{var u;d.exports=function(T){return u||(u=new R(null)),u.generate(T)};function R(T){this.rand=T}if(d.exports.Rand=R,R.prototype.generate=function(T){return this._rand(T)},R.prototype._rand=function(T){if(this.rand.getBytes)return this.rand.getBytes(T);for(var c=new Uint8Array(T),b=0;b<c.length;b++)c[b]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?R.prototype._rand=function(T){var c=new Uint8Array(T);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?R.prototype._rand=function(T){var c=new Uint8Array(T);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(R.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(f=Wc(),typeof f.randomBytes!="function")throw new Error("Not supported");R.prototype._rand=function(T){return f.randomBytes(T)}}catch{}var f}),ml=je((r,d)=>{var u=Lc(),R=Ks();function f(T){this.rand=T||new R.Rand}d.exports=f,f.create=function(T){return new f(T)},f.prototype._randbelow=function(T){var c=T.bitLength(),b=Math.ceil(c/8);do var W=new u(this.rand.generate(b));while(W.cmp(T)>=0);return W},f.prototype._randrange=function(T,c){var b=c.sub(T);return T.add(this._randbelow(b))},f.prototype.test=function(T,c,b){var W=T.bitLength(),y=u.mont(T),q=new u(1).toRed(y);c||(c=Math.max(1,W/48|0));for(var Z=T.subn(1),$=0;!Z.testn($);$++);for(var V=T.shrn($),x=Z.toRed(y),k=!0;c>0;c--){var g=this._randrange(new u(2),Z);b&&b(g);var X=g.toRed(y).redPow(V);if(!(X.cmp(q)===0||X.cmp(x)===0)){for(var E=1;E<$;E++){if(X=X.redSqr(),X.cmp(q)===0)return!1;if(X.cmp(x)===0)break}if(E===$)return!1}}return k},f.prototype.getDivisor=function(T,c){var b=T.bitLength(),W=u.mont(T),y=new u(1).toRed(W);c||(c=Math.max(1,b/48|0));for(var q=T.subn(1),Z=0;!q.testn(Z);Z++);for(var $=T.shrn(Z),V=q.toRed(W);c>0;c--){var x=this._randrange(new u(2),q),k=T.gcd(x);if(k.cmpn(1)!==0)return k;var g=x.toRed(W).redPow($);if(!(g.cmp(y)===0||g.cmp(V)===0)){for(var X=1;X<Z;X++){if(g=g.redSqr(),g.cmp(y)===0)return g.fromRed().subn(1).gcd(T);if(g.cmp(V)===0)break}if(X===Z)return g=g.redSqr(),g.fromRed().subn(1).gcd(T)}}return!1}}),tl=je((r,d)=>{var u=Kn();d.exports=C,C.simpleSieve=K,C.fermatTest=Y;var R=ul(),f=new R(24),T=ml(),c=new T,b=new R(1),W=new R(2),y=new R(5),q=new R(16),Z=new R(8),$=new R(10),V=new R(3),x=new R(7),k=new R(11),g=new R(4),X=new R(12),E=null;function z(){if(E!==null)return E;var te=1048576,_e=[];_e[0]=2;for(var $e=1,me=3;me<te;me+=2){for(var Me=Math.ceil(Math.sqrt(me)),e=0;e<$e&&_e[e]<=Me&&me%_e[e]!==0;e++);$e!==e&&_e[e]<=Me||(_e[$e++]=me)}return E=_e,_e}function K(te){for(var _e=z(),$e=0;$e<_e.length;$e++)if(te.modn(_e[$e])===0)return te.cmpn(_e[$e])===0;return!0}function Y(te){var _e=R.mont(te);return W.toRed(_e).redPow(te.subn(1)).fromRed().cmpn(1)===0}function C(te,_e){if(te<16)return _e===2||_e===5?new R([140,123]):new R([140,39]);_e=new R(_e);for(var $e,me;;){for($e=new R(u(Math.ceil(te/8)));$e.bitLength()>te;)$e.ishrn(1);if($e.isEven()&&$e.iadd(b),$e.testn(1)||$e.iadd(W),_e.cmp(W)){if(!_e.cmp(y))for(;$e.mod($).cmp(V);)$e.iadd(g)}else for(;$e.mod(f).cmp(k);)$e.iadd(g);if(me=$e.shrn(1),K(me)&&K($e)&&Y(me)&&Y($e)&&c.test(me)&&c.test($e))return $e}}}),wc=je((r,d)=>{d.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),Sc=je((r,d)=>{var u=ul(),R=ml(),f=new R,T=new u(24),c=new u(11),b=new u(10),W=new u(3),y=new u(7),q=tl(),Z=Kn();d.exports=g;function $(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this._pub=new u(E),this}function V(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this._priv=new u(E),this}var x={};function k(E,z){var K=z.toString("hex"),Y=[K,E.toString(16)].join("_");if(Y in x)return x[Y];var C=0;if(E.isEven()||!q.simpleSieve||!q.fermatTest(E)||!f.test(E))return C+=1,K==="02"||K==="05"?C+=8:C+=4,x[Y]=C,C;f.test(E.shrn(1))||(C+=2);var te;switch(K){case"02":E.mod(T).cmp(c)&&(C+=8);break;case"05":te=E.mod(b),te.cmp(W)&&te.cmp(y)&&(C+=8);break;default:C+=4}return x[Y]=C,C}function g(E,z,K){this.setGenerator(z),this.__prime=new u(E),this._prime=u.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,K?(this.setPublicKey=$,this.setPrivateKey=V):this._primeCode=8}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=k(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new u(Z(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(E){E=new u(E),E=E.toRed(this._prime);var z=E.redPow(this._priv).fromRed(),K=new Buffer(z.toArray()),Y=this.getPrime();if(K.length<Y.length){var C=new Buffer(Y.length-K.length);C.fill(0),K=Buffer.concat([C,K])}return K},g.prototype.getPublicKey=function(E){return X(this._pub,E)},g.prototype.getPrivateKey=function(E){return X(this._priv,E)},g.prototype.getPrime=function(E){return X(this.__prime,E)},g.prototype.getGenerator=function(E){return X(this._gen,E)},g.prototype.setGenerator=function(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this.__gen=E,this._gen=new u(E),this};function X(E,z){var K=new Buffer(E.toArray());return z?K.toString(z):K}}),gc=je((r)=>{var d=tl(),u=wc(),R=Sc();function f(b){var W=new Buffer(u[b].prime,"hex"),y=new Buffer(u[b].gen,"hex");return new R(W,y)}var T={binary:!0,hex:!0,base64:!0};function c(b,W,y,q){return Buffer.isBuffer(W)||T[W]===void 0?c(b,"binary",W,y):(W=W||"binary",q=q||"binary",y=y||new Buffer([2]),Buffer.isBuffer(y)||(y=new Buffer(y,q)),typeof b=="number"?new R(d(b,y),y,!0):(Buffer.isBuffer(b)||(b=new Buffer(b,W)),new R(b,y,!0)))}r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=f,r.createDiffieHellman=r.DiffieHellman=c}),pl=je((r,d)=>{d.exports=Tn().EventEmitter}),zc=je((r,d)=>{function u(x,k){var g=Object.keys(x);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(x);k&&(X=X.filter(function(E){return Object.getOwnPropertyDescriptor(x,E).enumerable})),g.push.apply(g,X)}return g}function R(x){for(var k=1;k<arguments.length;k++){var g=arguments[k]!=null?arguments[k]:{};k%2?u(Object(g),!0).forEach(function(X){f(x,X,g[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(g)):u(Object(g)).forEach(function(X){Object.defineProperty(x,X,Object.getOwnPropertyDescriptor(g,X))})}return x}function f(x,k,g){return k in x?Object.defineProperty(x,k,{value:g,enumerable:!0,configurable:!0,writable:!0}):x[k]=g,x}function T(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function c(x,k){for(var g=0;g<k.length;g++){var X=k[g];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}function b(x,k,g){return k&&c(x.prototype,k),g&&c(x,g),x}var W=Va(),y=W.Buffer,q=Po(),Z=q.inspect,$=Z&&Z.custom||"inspect";function V(x,k,g){y.prototype.copy.call(x,k,g)}d.exports=function(){function x(){T(this,x),this.head=null,this.tail=null,this.length=0}return b(x,[{key:"push",value:function(k){var g={data:k,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(k){var g={data:k,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var g=this.head,X=""+g.data;g=g.next;)X+=k+g.data;return X}},{key:"concat",value:function(k){if(this.length===0)return y.alloc(0);for(var g=y.allocUnsafe(k>>>0),X=this.head,E=0;X;)V(X.data,g,E),E+=X.data.length,X=X.next;return g}},{key:"consume",value:function(k,g){var X;return k<this.head.data.length?(X=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?X=this.shift():X=g?this._getString(k):this._getBuffer(k),X}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var g=this.head,X=1,E=g.data;for(k-=E.length;g=g.next;){var z=g.data,K=k>z.length?z.length:k;if(K===z.length?E+=z:E+=z.slice(0,k),k-=K,k===0){K===z.length?(++X,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=z.slice(K));break}++X}return this.length-=X,E}},{key:"_getBuffer",value:function(k){var g=y.allocUnsafe(k),X=this.head,E=1;for(X.data.copy(g),k-=X.data.length;X=X.next;){var z=X.data,K=k>z.length?z.length:k;if(z.copy(g,g.length-k,0,K),k-=K,k===0){K===z.length?(++E,X.next?this.head=X.next:this.head=this.tail=null):(this.head=X,X.data=z.slice(K));break}++E}return this.length-=E,g}},{key:$,value:function(k,g){return Z(this,R({},g,{depth:0,customInspect:!1}))}}]),x}()}),dl=je((r,d)=>{function u(W,y){var q=this,Z=this._readableState&&this._readableState.destroyed,$=this._writableState&&this._writableState.destroyed;return Z||$?(y?y(W):W&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(c,this,W)):process.nextTick(c,this,W)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(W||null,function(V){!y&&V?q._writableState?q._writableState.errorEmitted?process.nextTick(f,q):(q._writableState.errorEmitted=!0,process.nextTick(R,q,V)):process.nextTick(R,q,V):y?(process.nextTick(f,q),y(V)):process.nextTick(f,q)}),this)}function R(W,y){c(W,y),f(W)}function f(W){W._writableState&&!W._writableState.emitClose||W._readableState&&!W._readableState.emitClose||W.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(W,y){W.emit("error",y)}function b(W,y){var{_readableState:q,_writableState:Z}=W;q&&q.autoDestroy||Z&&Z.autoDestroy?W.destroy(y):W.emit("error",y)}d.exports={destroy:u,undestroy:T,errorOrDestroy:b}}),Yn=je((r,d)=>{function u(y,q){y.prototype=Object.create(q.prototype),y.prototype.constructor=y,y.__proto__=q}var R={};function f(y,q,Z){Z||(Z=Error);function $(x,k,g){return typeof q=="string"?q:q(x,k,g)}var V=function(x){u(k,x);function k(g,X,E){return x.call(this,$(g,X,E))||this}return k}(Z);V.prototype.name=Z.name,V.prototype.code=y,R[y]=V}function T(y,q){if(Array.isArray(y)){var Z=y.length;return y=y.map(function($){return String($)}),Z>2?"one of ".concat(q," ").concat(y.slice(0,Z-1).join(", "),", or ")+y[Z-1]:Z===2?"one of ".concat(q," ").concat(y[0]," or ").concat(y[1]):"of ".concat(q," ").concat(y[0])}else return"of ".concat(q," ").concat(String(y))}function c(y,q,Z){return y.substr(!Z||Z<0?0:+Z,q.length)===q}function b(y,q,Z){return(Z===void 0||Z>y.length)&&(Z=y.length),y.substring(Z-q.length,Z)===q}function W(y,q,Z){return typeof Z!="number"&&(Z=0),Z+q.length>y.length?!1:y.indexOf(q,Z)!==-1}f("ERR_INVALID_OPT_VALUE",function(y,q){return'The value "'+q+'" is invalid for option "'+y+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(y,q,Z){var $;typeof q=="string"&&c(q,"not ")?($="must not be",q=q.replace(/^not /,"")):$="must be";var V;if(b(y," argument"))V="The ".concat(y," ").concat($," ").concat(T(q,"type"));else{var x=W(y,".")?"property":"argument";V='The "'.concat(y,'" ').concat(x," ").concat($," ").concat(T(q,"type"))}return V+=". Received type ".concat(typeof Z),V},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),d.exports.codes=R}),_l=je((r,d)=>{var u=Yn().codes.ERR_INVALID_OPT_VALUE;function R(T,c,b){return T.highWaterMark!=null?T.highWaterMark:c?T[b]:null}function f(T,c,b,W){var y=R(c,W,b);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var q=W?b:"highWaterMark";throw new u(q,y)}return Math.floor(y)}return T.objectMode?16:16384}d.exports={getHighWaterMark:f}}),fl=je((r,d)=>{d.exports=me;function u(ue){var ie=this;this.next=null,this.entry=null,this.finish=function(){Ze(ie,ue)}}var R;me.WritableState=_e;var f={deprecate:Sr()},T=pl(),c=Va().Buffer,b=global.Uint8Array||function(){};function W(ue){return c.from(ue)}function y(ue){return c.isBuffer(ue)||ue instanceof b}var q=dl(),Z=_l(),$=Z.getHighWaterMark,V=Yn().codes,x=V.ERR_INVALID_ARG_TYPE,k=V.ERR_METHOD_NOT_IMPLEMENTED,g=V.ERR_MULTIPLE_CALLBACK,X=V.ERR_STREAM_CANNOT_PIPE,E=V.ERR_STREAM_DESTROYED,z=V.ERR_STREAM_NULL_VALUES,K=V.ERR_STREAM_WRITE_AFTER_END,Y=V.ERR_UNKNOWN_ENCODING,C=q.errorOrDestroy;ta()(me,T);function te(){}function _e(ue,ie,fe){R=R||Bn(),ue=ue||{},typeof fe!="boolean"&&(fe=ie instanceof R),this.objectMode=!!ue.objectMode,fe&&(this.objectMode=this.objectMode||!!ue.writableObjectMode),this.highWaterMark=$(this,ue,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ee=ue.decodeStrings===!1;this.decodeStrings=!Ee,this.defaultEncoding=ue.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xe){v(ie,xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ue.emitClose!==!1,this.autoDestroy=!!ue.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}_e.prototype.getBuffer=function(){for(var ue=this.bufferedRequest,ie=[];ue;)ie.push(ue),ue=ue.next;return ie},function(){try{Object.defineProperty(_e.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $e;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($e=Function.prototype[Symbol.hasInstance],Object.defineProperty(me,Symbol.hasInstance,{value:function(ue){return $e.call(this,ue)?!0:this!==me?!1:ue&&ue._writableState instanceof _e}})):$e=function(ue){return ue instanceof this};function me(ue){R=R||Bn();var ie=this instanceof R;if(!ie&&!$e.call(me,this))return new me(ue);this._writableState=new _e(ue,this,ie),this.writable=!0,ue&&(typeof ue.write=="function"&&(this._write=ue.write),typeof ue.writev=="function"&&(this._writev=ue.writev),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.final=="function"&&(this._final=ue.final)),T.call(this)}me.prototype.pipe=function(){C(this,new X)};function Me(ue,ie){var fe=new K;C(ue,fe),process.nextTick(ie,fe)}function e(ue,ie,fe,Ee){var xe;return fe===null?xe=new z:typeof fe!="string"&&!ie.objectMode&&(xe=new x("chunk",["string","Buffer"],fe)),xe?(C(ue,xe),process.nextTick(Ee,xe),!1):!0}me.prototype.write=function(ue,ie,fe){var Ee=this._writableState,xe=!1,ze=!Ee.objectMode&&y(ue);return ze&&!c.isBuffer(ue)&&(ue=W(ue)),typeof ie=="function"&&(fe=ie,ie=null),ze?ie="buffer":ie||(ie=Ee.defaultEncoding),typeof fe!="function"&&(fe=te),Ee.ending?Me(this,fe):(ze||e(this,Ee,ue,fe))&&(Ee.pendingcb++,xe=i(this,Ee,ze,ue,ie,fe)),xe},me.prototype.cork=function(){this._writableState.corked++},me.prototype.uncork=function(){var ue=this._writableState;ue.corked&&(ue.corked--,!ue.writing&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&t(this,ue))},me.prototype.setDefaultEncoding=function(ue){if(typeof ue=="string"&&(ue=ue.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ue+"").toLowerCase())>-1))throw new Y(ue);return this._writableState.defaultEncoding=ue,this},Object.defineProperty(me.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function o(ue,ie,fe){return!ue.objectMode&&ue.decodeStrings!==!1&&typeof ie=="string"&&(ie=c.from(ie,fe)),ie}Object.defineProperty(me.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function i(ue,ie,fe,Ee,xe,ze){if(!fe){var D=o(ie,Ee,xe);Ee!==D&&(fe=!0,xe="buffer",Ee=D)}var O=ie.objectMode?1:Ee.length;ie.length+=O;var ae=ie.length<ie.highWaterMark;if(ae||(ie.needDrain=!0),ie.writing||ie.corked){var We=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:Ee,encoding:xe,isBuf:fe,callback:ze,next:null},We?We.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else s(ue,ie,!1,O,Ee,xe,ze);return ae}function s(ue,ie,fe,Ee,xe,ze,D){ie.writelen=Ee,ie.writecb=D,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new E("write")):fe?ue._writev(xe,ie.onwrite):ue._write(xe,ze,ie.onwrite),ie.sync=!1}function m(ue,ie,fe,Ee,xe){--ie.pendingcb,fe?(process.nextTick(xe,Ee),process.nextTick(he,ue,ie),ue._writableState.errorEmitted=!0,C(ue,Ee)):(xe(Ee),ue._writableState.errorEmitted=!0,C(ue,Ee),he(ue,ie))}function h(ue){ue.writing=!1,ue.writecb=null,ue.length-=ue.writelen,ue.writelen=0}function v(ue,ie){var fe=ue._writableState,Ee=fe.sync,xe=fe.writecb;if(typeof xe!="function")throw new g;if(h(fe),ie)m(ue,fe,Ee,ie,xe);else{var ze=F(fe)||ue.destroyed;!ze&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&t(ue,fe),Ee?process.nextTick(p,ue,fe,ze,xe):p(ue,fe,ze,xe)}}function p(ue,ie,fe,Ee){fe||a(ue,ie),ie.pendingcb--,Ee(),he(ue,ie)}function a(ue,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,ue.emit("drain"))}function t(ue,ie){ie.bufferProcessing=!0;var fe=ie.bufferedRequest;if(ue._writev&&fe&&fe.next){var Ee=ie.bufferedRequestCount,xe=new Array(Ee),ze=ie.corkedRequestsFree;ze.entry=fe;for(var D=0,O=!0;fe;)xe[D]=fe,fe.isBuf||(O=!1),fe=fe.next,D+=1;xe.allBuffers=O,s(ue,ie,!0,ie.length,xe,"",ze.finish),ie.pendingcb++,ie.lastBufferedRequest=null,ze.next?(ie.corkedRequestsFree=ze.next,ze.next=null):ie.corkedRequestsFree=new u(ie),ie.bufferedRequestCount=0}else{for(;fe;){var{chunk:ae,encoding:We,callback:ge}=fe,Ve=ie.objectMode?1:ae.length;if(s(ue,ie,!1,Ve,ae,We,ge),fe=fe.next,ie.bufferedRequestCount--,ie.writing)break}fe===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=fe,ie.bufferProcessing=!1}me.prototype._write=function(ue,ie,fe){fe(new k("_write()"))},me.prototype._writev=null,me.prototype.end=function(ue,ie,fe){var Ee=this._writableState;return typeof ue=="function"?(fe=ue,ue=null,ie=null):typeof ie=="function"&&(fe=ie,ie=null),ue!=null&&this.write(ue,ie),Ee.corked&&(Ee.corked=1,this.uncork()),Ee.ending||qe(this,Ee,fe),this},Object.defineProperty(me.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function F(ue){return ue.ending&&ue.length===0&&ue.bufferedRequest===null&&!ue.finished&&!ue.writing}function w(ue,ie){ue._final(function(fe){ie.pendingcb--,fe&&C(ue,fe),ie.prefinished=!0,ue.emit("prefinish"),he(ue,ie)})}function I(ue,ie){!ie.prefinished&&!ie.finalCalled&&(typeof ue._final=="function"&&!ie.destroyed?(ie.pendingcb++,ie.finalCalled=!0,process.nextTick(w,ue,ie)):(ie.prefinished=!0,ue.emit("prefinish")))}function he(ue,ie){var fe=F(ie);if(fe&&(I(ue,ie),ie.pendingcb===0&&(ie.finished=!0,ue.emit("finish"),ie.autoDestroy))){var Ee=ue._readableState;(!Ee||Ee.autoDestroy&&Ee.endEmitted)&&ue.destroy()}return fe}function qe(ue,ie,fe){ie.ending=!0,he(ue,ie),fe&&(ie.finished?process.nextTick(fe):ue.once("finish",fe)),ie.ended=!0,ue.writable=!1}function Ze(ue,ie,fe){var Ee=ue.entry;for(ue.entry=null;Ee;){var xe=Ee.callback;ie.pendingcb--,xe(fe),Ee=Ee.next}ie.corkedRequestsFree.next=ue}Object.defineProperty(me.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ue){!this._writableState||(this._writableState.destroyed=ue)}}),me.prototype.destroy=q.destroy,me.prototype._undestroy=q.undestroy,me.prototype._destroy=function(ue,ie){ie(ue)}}),Bn=je((r,d)=>{var u=Object.keys||function(Z){var $=[];for(var V in Z)$.push(V);return $};d.exports=W;var R=hl(),f=fl();ta()(W,R);for(T=u(f.prototype),b=0;b<T.length;b++)c=T[b],W.prototype[c]||(W.prototype[c]=f.prototype[c]);var T,c,b;function W(Z){if(!(this instanceof W))return new W(Z);R.call(this,Z),f.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(q,this)}function q(Z){Z.end()}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}),Is=je((r,d)=>{var u=Yn().codes.ERR_STREAM_PREMATURE_CLOSE;function R(b){var W=!1;return function(){if(!W){W=!0;for(var y=arguments.length,q=new Array(y),Z=0;Z<y;Z++)q[Z]=arguments[Z];b.apply(this,q)}}}function f(){}function T(b){return b.setHeader&&typeof b.abort=="function"}function c(b,W,y){if(typeof W=="function")return c(b,null,W);W||(W={}),y=R(y||f);var q=W.readable||W.readable!==!1&&b.readable,Z=W.writable||W.writable!==!1&&b.writable,$=function(){b.writable||x()},V=b._writableState&&b._writableState.finished,x=function(){Z=!1,V=!0,q||y.call(b)},k=b._readableState&&b._readableState.endEmitted,g=function(){q=!1,k=!0,Z||y.call(b)},X=function(K){y.call(b,K)},E=function(){var K;if(q&&!k)return(!b._readableState||!b._readableState.ended)&&(K=new u),y.call(b,K);if(Z&&!V)return(!b._writableState||!b._writableState.ended)&&(K=new u),y.call(b,K)},z=function(){b.req.on("finish",x)};return T(b)?(b.on("complete",x),b.on("abort",E),b.req?z():b.on("request",z)):Z&&!b._writableState&&(b.on("end",$),b.on("close",$)),b.on("end",g),b.on("finish",x),W.error!==!1&&b.on("error",X),b.on("close",E),function(){b.removeListener("complete",x),b.removeListener("abort",E),b.removeListener("request",z),b.req&&b.req.removeListener("finish",x),b.removeListener("end",$),b.removeListener("close",$),b.removeListener("finish",x),b.removeListener("end",g),b.removeListener("error",X),b.removeListener("close",E)}}d.exports=c}),Fc=je((r,d)=>{var u;function R(z,K,Y){return K in z?Object.defineProperty(z,K,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[K]=Y,z}var f=Is(),T=Symbol("lastResolve"),c=Symbol("lastReject"),b=Symbol("error"),W=Symbol("ended"),y=Symbol("lastPromise"),q=Symbol("handlePromise"),Z=Symbol("stream");function $(z,K){return{value:z,done:K}}function V(z){var K=z[T];if(K!==null){var Y=z[Z].read();Y!==null&&(z[y]=null,z[T]=null,z[c]=null,K($(Y,!1)))}}function x(z){process.nextTick(V,z)}function k(z,K){return function(Y,C){z.then(function(){if(K[W]){Y($(void 0,!0));return}K[q](Y,C)},C)}}var g=Object.getPrototypeOf(function(){}),X=Object.setPrototypeOf((u={get stream(){return this[Z]},next:function(){var z=this,K=this[b];if(K!==null)return Promise.reject(K);if(this[W])return Promise.resolve($(void 0,!0));if(this[Z].destroyed)return new Promise(function(_e,$e){process.nextTick(function(){z[b]?$e(z[b]):_e($(void 0,!0))})});var Y=this[y],C;if(Y)C=new Promise(k(Y,this));else{var te=this[Z].read();if(te!==null)return Promise.resolve($(te,!1));C=new Promise(this[q])}return this[y]=C,C}},R(u,Symbol.asyncIterator,function(){return this}),R(u,"return",function(){var z=this;return new Promise(function(K,Y){z[Z].destroy(null,function(C){if(C){Y(C);return}K($(void 0,!0))})})}),u),g),E=function(z){var K,Y=Object.create(X,(K={},R(K,Z,{value:z,writable:!0}),R(K,T,{value:null,writable:!0}),R(K,c,{value:null,writable:!0}),R(K,b,{value:null,writable:!0}),R(K,W,{value:z._readableState.endEmitted,writable:!0}),R(K,q,{value:function(C,te){var _e=Y[Z].read();_e?(Y[y]=null,Y[T]=null,Y[c]=null,C($(_e,!1))):(Y[T]=C,Y[c]=te)},writable:!0}),K));return Y[y]=null,f(z,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var te=Y[c];te!==null&&(Y[y]=null,Y[T]=null,Y[c]=null,te(C)),Y[b]=C;return}var _e=Y[T];_e!==null&&(Y[y]=null,Y[T]=null,Y[c]=null,_e($(void 0,!0))),Y[W]=!0}),z.on("readable",x.bind(null,Y)),Y};d.exports=E}),Oc=je((r,d)=>{d.exports=function(){throw new Error("Readable.from is not available in the browser")}}),hl=je((r,d)=>{d.exports=e;var u;e.ReadableState=Me;var R=Tn().EventEmitter,f=function(D,O){return D.listeners(O).length},T=pl(),c=Va().Buffer,b=global.Uint8Array||function(){};function W(D){return c.from(D)}function y(D){return c.isBuffer(D)||D instanceof b}var q=Po(),Z;q&&q.debuglog?Z=q.debuglog("stream"):Z=function(){};var $=zc(),V=dl(),x=_l(),k=x.getHighWaterMark,g=Yn().codes,X=g.ERR_INVALID_ARG_TYPE,E=g.ERR_STREAM_PUSH_AFTER_EOF,z=g.ERR_METHOD_NOT_IMPLEMENTED,K=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,C,te;ta()(e,T);var _e=V.errorOrDestroy,$e=["error","close","destroy","pause","resume"];function me(D,O,ae){if(typeof D.prependListener=="function")return D.prependListener(O,ae);!D._events||!D._events[O]?D.on(O,ae):Array.isArray(D._events[O])?D._events[O].unshift(ae):D._events[O]=[ae,D._events[O]]}function Me(D,O,ae){u=u||Bn(),D=D||{},typeof ae!="boolean"&&(ae=O instanceof u),this.objectMode=!!D.objectMode,ae&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=k(this,D,"readableHighWaterMark",ae),this.buffer=new $,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(Y||(Y=(Ko(),Ea(uo)).StringDecoder),this.decoder=new Y(D.encoding),this.encoding=D.encoding)}function e(D){if(u=u||Bn(),!(this instanceof e))return new e(D);var O=this instanceof u;this._readableState=new Me(D,this,O),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),T.call(this)}Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){!this._readableState||(this._readableState.destroyed=D)}}),e.prototype.destroy=V.destroy,e.prototype._undestroy=V.undestroy,e.prototype._destroy=function(D,O){O(D)},e.prototype.push=function(D,O){var ae=this._readableState,We;return ae.objectMode?We=!0:typeof D=="string"&&(O=O||ae.defaultEncoding,O!==ae.encoding&&(D=c.from(D,O),O=""),We=!0),o(this,D,O,!1,We)},e.prototype.unshift=function(D){return o(this,D,null,!0,!1)};function o(D,O,ae,We,ge){Z("readableAddChunk",O);var Ve=D._readableState;if(O===null)Ve.reading=!1,p(D,Ve);else{var De;if(ge||(De=s(Ve,O)),De)_e(D,De);else if(Ve.objectMode||O&&O.length>0)if(typeof O!="string"&&!Ve.objectMode&&Object.getPrototypeOf(O)!==c.prototype&&(O=W(O)),We)Ve.endEmitted?_e(D,new K):i(D,Ve,O,!0);else if(Ve.ended)_e(D,new E);else{if(Ve.destroyed)return!1;Ve.reading=!1,Ve.decoder&&!ae?(O=Ve.decoder.write(O),Ve.objectMode||O.length!==0?i(D,Ve,O,!1):F(D,Ve)):i(D,Ve,O,!1)}else We||(Ve.reading=!1,F(D,Ve))}return!Ve.ended&&(Ve.length<Ve.highWaterMark||Ve.length===0)}function i(D,O,ae,We){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,D.emit("data",ae)):(O.length+=O.objectMode?1:ae.length,We?O.buffer.unshift(ae):O.buffer.push(ae),O.needReadable&&a(D)),F(D,O)}function s(D,O){var ae;return!y(O)&&typeof O!="string"&&O!==void 0&&!D.objectMode&&(ae=new X("chunk",["string","Buffer","Uint8Array"],O)),ae}e.prototype.isPaused=function(){return this._readableState.flowing===!1},e.prototype.setEncoding=function(D){Y||(Y=(Ko(),Ea(uo)).StringDecoder);var O=new Y(D);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,We="";ae!==null;)We+=O.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),We!==""&&this._readableState.buffer.push(We),this._readableState.length=We.length,this};var m=1073741824;function h(D){return D>=m?D=m:(D--,D|=D>>>1,D|=D>>>2,D|=D>>>4,D|=D>>>8,D|=D>>>16,D++),D}function v(D,O){return D<=0||O.length===0&&O.ended?0:O.objectMode?1:D!==D?O.flowing&&O.length?O.buffer.head.data.length:O.length:(D>O.highWaterMark&&(O.highWaterMark=h(D)),D<=O.length?D:O.ended?O.length:(O.needReadable=!0,0))}e.prototype.read=function(D){Z("read",D),D=parseInt(D,10);var O=this._readableState,ae=D;if(D!==0&&(O.emittedReadable=!1),D===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return Z("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?Ee(this):a(this),null;if(D=v(D,O),D===0&&O.ended)return O.length===0&&Ee(this),null;var We=O.needReadable;Z("need readable",We),(O.length===0||O.length-D<O.highWaterMark)&&(We=!0,Z("length less than watermark",We)),O.ended||O.reading?(We=!1,Z("reading or ended",We)):We&&(Z("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(D=v(ae,O)));var ge;return D>0?ge=fe(D,O):ge=null,ge===null?(O.needReadable=O.length<=O.highWaterMark,D=0):(O.length-=D,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),ae!==D&&O.ended&&Ee(this)),ge!==null&&this.emit("data",ge),ge};function p(D,O){if(Z("onEofChunk"),!O.ended){if(O.decoder){var ae=O.decoder.end();ae&&ae.length&&(O.buffer.push(ae),O.length+=O.objectMode?1:ae.length)}O.ended=!0,O.sync?a(D):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,t(D)))}}function a(D){var O=D._readableState;Z("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(Z("emitReadable",O.flowing),O.emittedReadable=!0,process.nextTick(t,D))}function t(D){var O=D._readableState;Z("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(D.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,ie(D)}function F(D,O){O.readingMore||(O.readingMore=!0,process.nextTick(w,D,O))}function w(D,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var ae=O.length;if(Z("maybeReadMore read 0"),D.read(0),ae===O.length)break}O.readingMore=!1}e.prototype._read=function(D){_e(this,new z("_read()"))},e.prototype.pipe=function(D,O){var ae=this,We=this._readableState;switch(We.pipesCount){case 0:We.pipes=D;break;case 1:We.pipes=[We.pipes,D];break;default:We.pipes.push(D);break}We.pipesCount+=1,Z("pipe count=%d opts=%j",We.pipesCount,O);var ge=(!O||O.end!==!1)&&D!==process.stdout&&D!==process.stderr,Ve=ge?Oe:l;We.endEmitted?process.nextTick(Ve):ae.once("end",Ve),D.on("unpipe",De);function De(_,N){Z("onunpipe"),_===ae&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,Pe())}function Oe(){Z("onend"),D.end()}var Je=I(ae);D.on("drain",Je);var Qe=!1;function Pe(){Z("cleanup"),D.removeListener("close",L),D.removeListener("finish",n),D.removeListener("drain",Je),D.removeListener("error",pa),D.removeListener("unpipe",De),ae.removeListener("end",Oe),ae.removeListener("end",l),ae.removeListener("data",Fe),Qe=!0,We.awaitDrain&&(!D._writableState||D._writableState.needDrain)&&Je()}ae.on("data",Fe);function Fe(_){Z("ondata");var N=D.write(_);Z("dest.write",N),N===!1&&((We.pipesCount===1&&We.pipes===D||We.pipesCount>1&&ze(We.pipes,D)!==-1)&&!Qe&&(Z("false write response, pause",We.awaitDrain),We.awaitDrain++),ae.pause())}function pa(_){Z("onerror",_),l(),D.removeListener("error",pa),f(D,"error")===0&&_e(D,_)}me(D,"error",pa);function L(){D.removeListener("finish",n),l()}D.once("close",L);function n(){Z("onfinish"),D.removeListener("close",L),l()}D.once("finish",n);function l(){Z("unpipe"),ae.unpipe(D)}return D.emit("pipe",ae),We.flowing||(Z("pipe resume"),ae.resume()),D};function I(D){return function(){var O=D._readableState;Z("pipeOnDrain",O.awaitDrain),O.awaitDrain&&O.awaitDrain--,O.awaitDrain===0&&f(D,"data")&&(O.flowing=!0,ie(D))}}e.prototype.unpipe=function(D){var O=this._readableState,ae={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return D&&D!==O.pipes?this:(D||(D=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,D&&D.emit("unpipe",this,ae),this);if(!D){var{pipes:We,pipesCount:ge}=O;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var Ve=0;Ve<ge;Ve++)We[Ve].emit("unpipe",this,{hasUnpiped:!1});return this}var De=ze(O.pipes,D);return De===-1?this:(O.pipes.splice(De,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),D.emit("unpipe",this,ae),this)},e.prototype.on=function(D,O){var ae=T.prototype.on.call(this,D,O),We=this._readableState;return D==="data"?(We.readableListening=this.listenerCount("readable")>0,We.flowing!==!1&&this.resume()):D==="readable"&&!We.endEmitted&&!We.readableListening&&(We.readableListening=We.needReadable=!0,We.flowing=!1,We.emittedReadable=!1,Z("on readable",We.length,We.reading),We.length?a(this):We.reading||process.nextTick(qe,this)),ae},e.prototype.addListener=e.prototype.on,e.prototype.removeListener=function(D,O){var ae=T.prototype.removeListener.call(this,D,O);return D==="readable"&&process.nextTick(he,this),ae},e.prototype.removeAllListeners=function(D){var O=T.prototype.removeAllListeners.apply(this,arguments);return(D==="readable"||D===void 0)&&process.nextTick(he,this),O};function he(D){var O=D._readableState;O.readableListening=D.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:D.listenerCount("data")>0&&D.resume()}function qe(D){Z("readable nexttick read 0"),D.read(0)}e.prototype.resume=function(){var D=this._readableState;return D.flowing||(Z("resume"),D.flowing=!D.readableListening,Ze(this,D)),D.paused=!1,this};function Ze(D,O){O.resumeScheduled||(O.resumeScheduled=!0,process.nextTick(ue,D,O))}function ue(D,O){Z("resume",O.reading),O.reading||D.read(0),O.resumeScheduled=!1,D.emit("resume"),ie(D),O.flowing&&!O.reading&&D.read(0)}e.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(D){var O=D._readableState;for(Z("flow",O.flowing);O.flowing&&D.read()!==null;);}e.prototype.wrap=function(D){var O=this,ae=this._readableState,We=!1;D.on("end",function(){if(Z("wrapped end"),ae.decoder&&!ae.ended){var De=ae.decoder.end();De&&De.length&&O.push(De)}O.push(null)}),D.on("data",function(De){if(Z("wrapped data"),ae.decoder&&(De=ae.decoder.write(De)),!(ae.objectMode&&De==null)&&!(!ae.objectMode&&(!De||!De.length))){var Oe=O.push(De);Oe||(We=!0,D.pause())}});for(var ge in D)this[ge]===void 0&&typeof D[ge]=="function"&&(this[ge]=function(De){return function(){return D[De].apply(D,arguments)}}(ge));for(var Ve=0;Ve<$e.length;Ve++)D.on($e[Ve],this.emit.bind(this,$e[Ve]));return this._read=function(De){Z("wrapped _read",De),We&&(We=!1,D.resume())},this},typeof Symbol=="function"&&(e.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=Fc()),C(this)}),Object.defineProperty(e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),e._fromList=fe,Object.defineProperty(e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fe(D,O){if(O.length===0)return null;var ae;return O.objectMode?ae=O.buffer.shift():!D||D>=O.length?(O.decoder?ae=O.buffer.join(""):O.buffer.length===1?ae=O.buffer.first():ae=O.buffer.concat(O.length),O.buffer.clear()):ae=O.buffer.consume(D,O.decoder),ae}function Ee(D){var O=D._readableState;Z("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,process.nextTick(xe,O,D))}function xe(D,O){if(Z("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,O.readable=!1,O.emit("end"),D.autoDestroy)){var ae=O._writableState;(!ae||ae.autoDestroy&&ae.finished)&&O.destroy()}}typeof Symbol=="function"&&(e.from=function(D,O){return te===void 0&&(te=Oc()),te(e,D,O)});function ze(D,O){for(var ae=0,We=D.length;ae<We;ae++)if(D[ae]===O)return ae;return-1}}),bl=je((r,d)=>{d.exports=y;var u=Yn().codes,R=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=u.ERR_TRANSFORM_WITH_LENGTH_0,b=Bn();ta()(y,b);function W($,V){var x=this._transformState;x.transforming=!1;var k=x.writecb;if(k===null)return this.emit("error",new f);x.writechunk=null,x.writecb=null,V!=null&&this.push(V),k($);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function y($){if(!(this instanceof y))return new y($);b.call(this,$),this._transformState={afterTransform:W.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,$&&(typeof $.transform=="function"&&(this._transform=$.transform),typeof $.flush=="function"&&(this._flush=$.flush)),this.on("prefinish",q)}function q(){var $=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(V,x){Z($,V,x)}):Z(this,null,null)}y.prototype.push=function($,V){return this._transformState.needTransform=!1,b.prototype.push.call(this,$,V)},y.prototype._transform=function($,V,x){x(new R("_transform()"))},y.prototype._write=function($,V,x){var k=this._transformState;if(k.writecb=x,k.writechunk=$,k.writeencoding=V,!k.transforming){var g=this._readableState;(k.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},y.prototype._read=function($){var V=this._transformState;V.writechunk!==null&&!V.transforming?(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform)):V.needTransform=!0},y.prototype._destroy=function($,V){b.prototype._destroy.call(this,$,function(x){V(x)})};function Z($,V,x){if(V)return $.emit("error",V);if(x!=null&&$.push(x),$._writableState.length)throw new c;if($._transformState.transforming)throw new T;return $.push(null)}}),Xc=je((r,d)=>{d.exports=R;var u=bl();ta()(R,u);function R(f){if(!(this instanceof R))return new R(f);u.call(this,f)}R.prototype._transform=function(f,T,c){c(null,f)}}),Uc=je((r,d)=>{var u;function R(x){var k=!1;return function(){k||(k=!0,x.apply(void 0,arguments))}}var f=Yn().codes,T=f.ERR_MISSING_ARGS,c=f.ERR_STREAM_DESTROYED;function b(x){if(x)throw x}function W(x){return x.setHeader&&typeof x.abort=="function"}function y(x,k,g,X){X=R(X);var E=!1;x.on("close",function(){E=!0}),u===void 0&&(u=Is()),u(x,{readable:k,writable:g},function(K){if(K)return X(K);E=!0,X()});var z=!1;return function(K){if(!E&&!z){if(z=!0,W(x))return x.abort();if(typeof x.destroy=="function")return x.destroy();X(K||new c("pipe"))}}}function q(x){x()}function Z(x,k){return x.pipe(k)}function $(x){return!x.length||typeof x[x.length-1]!="function"?b:x.pop()}function V(){for(var x=arguments.length,k=new Array(x),g=0;g<x;g++)k[g]=arguments[g];var X=$(k);if(Array.isArray(k[0])&&(k=k[0]),k.length<2)throw new T("streams");var E,z=k.map(function(K,Y){var C=Y<k.length-1,te=Y>0;return y(K,C,te,function(_e){E||(E=_e),_e&&z.forEach(q),!C&&(z.forEach(q),X(E))})});return k.reduce(Z)}d.exports=V}),Ec=je((r,d)=>{r=d.exports=hl(),r.Stream=r,r.Readable=r,r.Writable=fl(),r.Duplex=Bn(),r.Transform=bl(),r.PassThrough=Xc(),r.finished=Is(),r.pipeline=Uc()}),Gs=je((r,d)=>{(function(u,R){function f(s,m){if(!s)throw new Error(m||"Assertion failed")}function T(s,m){s.super_=m;var h=function(){};h.prototype=m.prototype,s.prototype=new h,s.prototype.constructor=s}function c(s,m,h){if(c.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((m==="le"||m==="be")&&(h=m,m=10),this._init(s||0,m||10,h||"be"))}typeof u=="object"?u.exports=c:R.BN=c,c.BN=c,c.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=Vn().Buffer}catch{}c.isBN=function(s){return s instanceof c?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===c.wordSize&&Array.isArray(s.words)},c.max=function(s,m){return s.cmp(m)>0?s:m},c.min=function(s,m){return s.cmp(m)<0?s:m},c.prototype._init=function(s,m,h){if(typeof s=="number")return this._initNumber(s,m,h);if(typeof s=="object")return this._initArray(s,m,h);m==="hex"&&(m=16),f(m===(m|0)&&m>=2&&m<=36),s=s.toString().replace(/\s+/g,"");var v=0;s[0]==="-"&&(v++,this.negative=1),v<s.length&&(m===16?this._parseHex(s,v,h):(this._parseBase(s,m,v),h==="le"&&this._initArray(this.toArray(),m,h)))},c.prototype._initNumber=function(s,m,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(f(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),m,h)},c.prototype._initArray=function(s,m,h){if(f(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var p,a,t=0;if(h==="be")for(v=s.length-1,p=0;v>=0;v-=3)a=s[v]|s[v-1]<<8|s[v-2]<<16,this.words[p]|=a<<t&67108863,this.words[p+1]=a>>>26-t&67108863,t+=24,t>=26&&(t-=26,p++);else if(h==="le")for(v=0,p=0;v<s.length;v+=3)a=s[v]|s[v+1]<<8|s[v+2]<<16,this.words[p]|=a<<t&67108863,this.words[p+1]=a>>>26-t&67108863,t+=24,t>=26&&(t-=26,p++);return this._strip()};function W(s,m){var h=s.charCodeAt(m);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;f(!1,"Invalid character in "+s)}function y(s,m,h){var v=W(s,h);return h-1>=m&&(v|=W(s,h-1)<<4),v}c.prototype._parseHex=function(s,m,h){this.length=Math.ceil((s.length-m)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var p=0,a=0,t;if(h==="be")for(v=s.length-1;v>=m;v-=2)t=y(s,m,v)<<p,this.words[a]|=t&67108863,p>=18?(p-=18,a+=1,this.words[a]|=t>>>26):p+=8;else{var F=s.length-m;for(v=F%2===0?m+1:m;v<s.length;v+=2)t=y(s,m,v)<<p,this.words[a]|=t&67108863,p>=18?(p-=18,a+=1,this.words[a]|=t>>>26):p+=8}this._strip()};function q(s,m,h,v){for(var p=0,a=0,t=Math.min(s.length,h),F=m;F<t;F++){var w=s.charCodeAt(F)-48;p*=v,w>=49?a=w-49+10:w>=17?a=w-17+10:a=w,f(w>=0&&a<v,"Invalid character"),p+=a}return p}c.prototype._parseBase=function(s,m,h){this.words=[0],this.length=1;for(var v=0,p=1;p<=67108863;p*=m)v++;v--,p=p/m|0;for(var a=s.length-h,t=a%v,F=Math.min(a,a-t)+h,w=0,I=h;I<F;I+=v)w=q(s,I,I+v,m),this.imuln(p),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(t!==0){var he=1;for(w=q(s,I,s.length,m),I=0;I<t;I++)he*=m;this.imuln(he),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},c.prototype.copy=function(s){s.words=new Array(this.length);for(var m=0;m<this.length;m++)s.words[m]=this.words[m];s.length=this.length,s.negative=this.negative,s.red=this.red};function Z(s,m){s.words=m.words,s.length=m.length,s.negative=m.negative,s.red=m.red}if(c.prototype._move=function(s){Z(s,this)},c.prototype.clone=function(){var s=new c(null);return this.copy(s),s},c.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=$}catch{c.prototype.inspect=$}else c.prototype.inspect=$;function $(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(s,m){s=s||10,m=m|0||1;var h;if(s===16||s==="hex"){h="";for(var v=0,p=0,a=0;a<this.length;a++){var t=this.words[a],F=((t<<v|p)&16777215).toString(16);p=t>>>24-v&16777215,v+=2,v>=26&&(v-=26,a--),p!==0||a!==this.length-1?h=V[6-F.length]+F+h:h=F+h}for(p!==0&&(h=p.toString(16)+h);h.length%m!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var w=x[s],I=k[s];h="";var he=this.clone();for(he.negative=0;!he.isZero();){var qe=he.modrn(I).toString(s);he=he.idivn(I),he.isZero()?h=qe+h:h=V[w-qe.length]+qe+h}for(this.isZero()&&(h="0"+h);h.length%m!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}f(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},c.prototype.toJSON=function(){return this.toString(16,2)},b&&(c.prototype.toBuffer=function(s,m){return this.toArrayLike(b,s,m)}),c.prototype.toArray=function(s,m){return this.toArrayLike(Array,s,m)};var g=function(s,m){return s.allocUnsafe?s.allocUnsafe(m):new s(m)};c.prototype.toArrayLike=function(s,m,h){this._strip();var v=this.byteLength(),p=h||Math.max(1,v);f(v<=p,"byte array longer than desired length"),f(p>0,"Requested array length <= 0");var a=g(s,p),t=m==="le"?"LE":"BE";return this["_toArrayLike"+t](a,v),a},c.prototype._toArrayLikeLE=function(s,m){for(var h=0,v=0,p=0,a=0;p<this.length;p++){var t=this.words[p]<<a|v;s[h++]=t&255,h<s.length&&(s[h++]=t>>8&255),h<s.length&&(s[h++]=t>>16&255),a===6?(h<s.length&&(s[h++]=t>>24&255),v=0,a=0):(v=t>>>24,a+=2)}if(h<s.length)for(s[h++]=v;h<s.length;)s[h++]=0},c.prototype._toArrayLikeBE=function(s,m){for(var h=s.length-1,v=0,p=0,a=0;p<this.length;p++){var t=this.words[p]<<a|v;s[h--]=t&255,h>=0&&(s[h--]=t>>8&255),h>=0&&(s[h--]=t>>16&255),a===6?(h>=0&&(s[h--]=t>>24&255),v=0,a=0):(v=t>>>24,a+=2)}if(h>=0)for(s[h--]=v;h>=0;)s[h--]=0},Math.clz32?c.prototype._countBits=function(s){return 32-Math.clz32(s)}:c.prototype._countBits=function(s){var m=s,h=0;return m>=4096&&(h+=13,m>>>=13),m>=64&&(h+=7,m>>>=7),m>=8&&(h+=4,m>>>=4),m>=2&&(h+=2,m>>>=2),h+m},c.prototype._zeroBits=function(s){if(s===0)return 26;var m=s,h=0;return(m&8191)===0&&(h+=13,m>>>=13),(m&127)===0&&(h+=7,m>>>=7),(m&15)===0&&(h+=4,m>>>=4),(m&3)===0&&(h+=2,m>>>=2),(m&1)===0&&h++,h},c.prototype.bitLength=function(){var s=this.words[this.length-1],m=this._countBits(s);return(this.length-1)*26+m};function X(s){for(var m=new Array(s.bitLength()),h=0;h<m.length;h++){var v=h/26|0,p=h%26;m[h]=s.words[v]>>>p&1}return m}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,m=0;m<this.length;m++){var h=this._zeroBits(this.words[m]);if(s+=h,h!==26)break}return s},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},c.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var m=0;m<s.length;m++)this.words[m]=this.words[m]|s.words[m];return this._strip()},c.prototype.ior=function(s){return f((this.negative|s.negative)===0),this.iuor(s)},c.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},c.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},c.prototype.iuand=function(s){var m;this.length>s.length?m=s:m=this;for(var h=0;h<m.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=m.length,this._strip()},c.prototype.iand=function(s){return f((this.negative|s.negative)===0),this.iuand(s)},c.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},c.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},c.prototype.iuxor=function(s){var m,h;this.length>s.length?(m=this,h=s):(m=s,h=this);for(var v=0;v<h.length;v++)this.words[v]=m.words[v]^h.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this._strip()},c.prototype.ixor=function(s){return f((this.negative|s.negative)===0),this.iuxor(s)},c.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},c.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},c.prototype.inotn=function(s){f(typeof s=="number"&&s>=0);var m=Math.ceil(s/26)|0,h=s%26;this._expand(m),h>0&&m--;for(var v=0;v<m;v++)this.words[v]=~this.words[v]&67108863;return h>0&&(this.words[v]=~this.words[v]&67108863>>26-h),this._strip()},c.prototype.notn=function(s){return this.clone().inotn(s)},c.prototype.setn=function(s,m){f(typeof s=="number"&&s>=0);var h=s/26|0,v=s%26;return this._expand(h+1),m?this.words[h]=this.words[h]|1<<v:this.words[h]=this.words[h]&~(1<<v),this._strip()},c.prototype.iadd=function(s){var m;if(this.negative!==0&&s.negative===0)return this.negative=0,m=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,m=this.isub(s),s.negative=1,m._normSign();var h,v;this.length>s.length?(h=this,v=s):(h=s,v=this);for(var p=0,a=0;a<v.length;a++)m=(h.words[a]|0)+(v.words[a]|0)+p,this.words[a]=m&67108863,p=m>>>26;for(;p!==0&&a<h.length;a++)m=(h.words[a]|0)+p,this.words[a]=m&67108863,p=m>>>26;if(this.length=h.length,p!==0)this.words[this.length]=p,this.length++;else if(h!==this)for(;a<h.length;a++)this.words[a]=h.words[a];return this},c.prototype.add=function(s){var m;return s.negative!==0&&this.negative===0?(s.negative=0,m=this.sub(s),s.negative^=1,m):s.negative===0&&this.negative!==0?(this.negative=0,m=s.sub(this),this.negative=1,m):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},c.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var m=this.iadd(s);return s.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,p;h>0?(v=this,p=s):(v=s,p=this);for(var a=0,t=0;t<p.length;t++)m=(v.words[t]|0)-(p.words[t]|0)+a,a=m>>26,this.words[t]=m&67108863;for(;a!==0&&t<v.length;t++)m=(v.words[t]|0)+a,a=m>>26,this.words[t]=m&67108863;if(a===0&&t<v.length&&v!==this)for(;t<v.length;t++)this.words[t]=v.words[t];return this.length=Math.max(this.length,t),v!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(s){return this.clone().isub(s)};function E(s,m,h){h.negative=m.negative^s.negative;var v=s.length+m.length|0;h.length=v,v=v-1|0;var p=s.words[0]|0,a=m.words[0]|0,t=p*a,F=t&67108863,w=t/67108864|0;h.words[0]=F;for(var I=1;I<v;I++){for(var he=w>>>26,qe=w&67108863,Ze=Math.min(I,m.length-1),ue=Math.max(0,I-s.length+1);ue<=Ze;ue++){var ie=I-ue|0;p=s.words[ie]|0,a=m.words[ue]|0,t=p*a+qe,he+=t/67108864|0,qe=t&67108863}h.words[I]=qe|0,w=he|0}return w!==0?h.words[I]=w|0:h.length--,h._strip()}var z=function(s,m,h){var v=s.words,p=m.words,a=h.words,t=0,F,w,I,he=v[0]|0,qe=he&8191,Ze=he>>>13,ue=v[1]|0,ie=ue&8191,fe=ue>>>13,Ee=v[2]|0,xe=Ee&8191,ze=Ee>>>13,D=v[3]|0,O=D&8191,ae=D>>>13,We=v[4]|0,ge=We&8191,Ve=We>>>13,De=v[5]|0,Oe=De&8191,Je=De>>>13,Qe=v[6]|0,Pe=Qe&8191,Fe=Qe>>>13,pa=v[7]|0,L=pa&8191,n=pa>>>13,l=v[8]|0,_=l&8191,N=l>>>13,M=v[9]|0,S=M&8191,U=M>>>13,P=p[0]|0,j=P&8191,J=P>>>13,ee=p[1]|0,H=ee&8191,G=ee>>>13,oe=p[2]|0,Q=oe&8191,le=oe>>>13,Re=p[3]|0,A=Re&8191,ne=Re>>>13,re=p[4]|0,B=re&8191,se=re>>>13,Ne=p[5]|0,pe=Ne&8191,de=Ne>>>13,Se=p[6]|0,ve=Se&8191,ye=Se>>>13,Ue=p[7]|0,Te=Ue&8191,ke=Ue>>>13,Xe=p[8]|0,Le=Xe&8191,we=Xe>>>13,Ie=p[9]|0,Ke=Ie&8191,Ge=Ie>>>13;h.negative=s.negative^m.negative,h.length=19,F=Math.imul(qe,j),w=Math.imul(qe,J),w=w+Math.imul(Ze,j)|0,I=Math.imul(Ze,J);var Ce=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,F=Math.imul(ie,j),w=Math.imul(ie,J),w=w+Math.imul(fe,j)|0,I=Math.imul(fe,J),F=F+Math.imul(qe,H)|0,w=w+Math.imul(qe,G)|0,w=w+Math.imul(Ze,H)|0,I=I+Math.imul(Ze,G)|0;var Ye=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,F=Math.imul(xe,j),w=Math.imul(xe,J),w=w+Math.imul(ze,j)|0,I=Math.imul(ze,J),F=F+Math.imul(ie,H)|0,w=w+Math.imul(ie,G)|0,w=w+Math.imul(fe,H)|0,I=I+Math.imul(fe,G)|0,F=F+Math.imul(qe,Q)|0,w=w+Math.imul(qe,le)|0,w=w+Math.imul(Ze,Q)|0,I=I+Math.imul(Ze,le)|0;var Ae=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,F=Math.imul(O,j),w=Math.imul(O,J),w=w+Math.imul(ae,j)|0,I=Math.imul(ae,J),F=F+Math.imul(xe,H)|0,w=w+Math.imul(xe,G)|0,w=w+Math.imul(ze,H)|0,I=I+Math.imul(ze,G)|0,F=F+Math.imul(ie,Q)|0,w=w+Math.imul(ie,le)|0,w=w+Math.imul(fe,Q)|0,I=I+Math.imul(fe,le)|0,F=F+Math.imul(qe,A)|0,w=w+Math.imul(qe,ne)|0,w=w+Math.imul(Ze,A)|0,I=I+Math.imul(Ze,ne)|0;var He=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(He>>>26)|0,He&=67108863,F=Math.imul(ge,j),w=Math.imul(ge,J),w=w+Math.imul(Ve,j)|0,I=Math.imul(Ve,J),F=F+Math.imul(O,H)|0,w=w+Math.imul(O,G)|0,w=w+Math.imul(ae,H)|0,I=I+Math.imul(ae,G)|0,F=F+Math.imul(xe,Q)|0,w=w+Math.imul(xe,le)|0,w=w+Math.imul(ze,Q)|0,I=I+Math.imul(ze,le)|0,F=F+Math.imul(ie,A)|0,w=w+Math.imul(ie,ne)|0,w=w+Math.imul(fe,A)|0,I=I+Math.imul(fe,ne)|0,F=F+Math.imul(qe,B)|0,w=w+Math.imul(qe,se)|0,w=w+Math.imul(Ze,B)|0,I=I+Math.imul(Ze,se)|0;var ea=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(ea>>>26)|0,ea&=67108863,F=Math.imul(Oe,j),w=Math.imul(Oe,J),w=w+Math.imul(Je,j)|0,I=Math.imul(Je,J),F=F+Math.imul(ge,H)|0,w=w+Math.imul(ge,G)|0,w=w+Math.imul(Ve,H)|0,I=I+Math.imul(Ve,G)|0,F=F+Math.imul(O,Q)|0,w=w+Math.imul(O,le)|0,w=w+Math.imul(ae,Q)|0,I=I+Math.imul(ae,le)|0,F=F+Math.imul(xe,A)|0,w=w+Math.imul(xe,ne)|0,w=w+Math.imul(ze,A)|0,I=I+Math.imul(ze,ne)|0,F=F+Math.imul(ie,B)|0,w=w+Math.imul(ie,se)|0,w=w+Math.imul(fe,B)|0,I=I+Math.imul(fe,se)|0,F=F+Math.imul(qe,pe)|0,w=w+Math.imul(qe,de)|0,w=w+Math.imul(Ze,pe)|0,I=I+Math.imul(Ze,de)|0;var Be=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(Be>>>26)|0,Be&=67108863,F=Math.imul(Pe,j),w=Math.imul(Pe,J),w=w+Math.imul(Fe,j)|0,I=Math.imul(Fe,J),F=F+Math.imul(Oe,H)|0,w=w+Math.imul(Oe,G)|0,w=w+Math.imul(Je,H)|0,I=I+Math.imul(Je,G)|0,F=F+Math.imul(ge,Q)|0,w=w+Math.imul(ge,le)|0,w=w+Math.imul(Ve,Q)|0,I=I+Math.imul(Ve,le)|0,F=F+Math.imul(O,A)|0,w=w+Math.imul(O,ne)|0,w=w+Math.imul(ae,A)|0,I=I+Math.imul(ae,ne)|0,F=F+Math.imul(xe,B)|0,w=w+Math.imul(xe,se)|0,w=w+Math.imul(ze,B)|0,I=I+Math.imul(ze,se)|0,F=F+Math.imul(ie,pe)|0,w=w+Math.imul(ie,de)|0,w=w+Math.imul(fe,pe)|0,I=I+Math.imul(fe,de)|0,F=F+Math.imul(qe,ve)|0,w=w+Math.imul(qe,ye)|0,w=w+Math.imul(Ze,ve)|0,I=I+Math.imul(Ze,ye)|0;var ra=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(ra>>>26)|0,ra&=67108863,F=Math.imul(L,j),w=Math.imul(L,J),w=w+Math.imul(n,j)|0,I=Math.imul(n,J),F=F+Math.imul(Pe,H)|0,w=w+Math.imul(Pe,G)|0,w=w+Math.imul(Fe,H)|0,I=I+Math.imul(Fe,G)|0,F=F+Math.imul(Oe,Q)|0,w=w+Math.imul(Oe,le)|0,w=w+Math.imul(Je,Q)|0,I=I+Math.imul(Je,le)|0,F=F+Math.imul(ge,A)|0,w=w+Math.imul(ge,ne)|0,w=w+Math.imul(Ve,A)|0,I=I+Math.imul(Ve,ne)|0,F=F+Math.imul(O,B)|0,w=w+Math.imul(O,se)|0,w=w+Math.imul(ae,B)|0,I=I+Math.imul(ae,se)|0,F=F+Math.imul(xe,pe)|0,w=w+Math.imul(xe,de)|0,w=w+Math.imul(ze,pe)|0,I=I+Math.imul(ze,de)|0,F=F+Math.imul(ie,ve)|0,w=w+Math.imul(ie,ye)|0,w=w+Math.imul(fe,ve)|0,I=I+Math.imul(fe,ye)|0,F=F+Math.imul(qe,Te)|0,w=w+Math.imul(qe,ke)|0,w=w+Math.imul(Ze,Te)|0,I=I+Math.imul(Ze,ke)|0;var aa=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(aa>>>26)|0,aa&=67108863,F=Math.imul(_,j),w=Math.imul(_,J),w=w+Math.imul(N,j)|0,I=Math.imul(N,J),F=F+Math.imul(L,H)|0,w=w+Math.imul(L,G)|0,w=w+Math.imul(n,H)|0,I=I+Math.imul(n,G)|0,F=F+Math.imul(Pe,Q)|0,w=w+Math.imul(Pe,le)|0,w=w+Math.imul(Fe,Q)|0,I=I+Math.imul(Fe,le)|0,F=F+Math.imul(Oe,A)|0,w=w+Math.imul(Oe,ne)|0,w=w+Math.imul(Je,A)|0,I=I+Math.imul(Je,ne)|0,F=F+Math.imul(ge,B)|0,w=w+Math.imul(ge,se)|0,w=w+Math.imul(Ve,B)|0,I=I+Math.imul(Ve,se)|0,F=F+Math.imul(O,pe)|0,w=w+Math.imul(O,de)|0,w=w+Math.imul(ae,pe)|0,I=I+Math.imul(ae,de)|0,F=F+Math.imul(xe,ve)|0,w=w+Math.imul(xe,ye)|0,w=w+Math.imul(ze,ve)|0,I=I+Math.imul(ze,ye)|0,F=F+Math.imul(ie,Te)|0,w=w+Math.imul(ie,ke)|0,w=w+Math.imul(fe,Te)|0,I=I+Math.imul(fe,ke)|0,F=F+Math.imul(qe,Le)|0,w=w+Math.imul(qe,we)|0,w=w+Math.imul(Ze,Le)|0,I=I+Math.imul(Ze,we)|0;var oa=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(oa>>>26)|0,oa&=67108863,F=Math.imul(S,j),w=Math.imul(S,J),w=w+Math.imul(U,j)|0,I=Math.imul(U,J),F=F+Math.imul(_,H)|0,w=w+Math.imul(_,G)|0,w=w+Math.imul(N,H)|0,I=I+Math.imul(N,G)|0,F=F+Math.imul(L,Q)|0,w=w+Math.imul(L,le)|0,w=w+Math.imul(n,Q)|0,I=I+Math.imul(n,le)|0,F=F+Math.imul(Pe,A)|0,w=w+Math.imul(Pe,ne)|0,w=w+Math.imul(Fe,A)|0,I=I+Math.imul(Fe,ne)|0,F=F+Math.imul(Oe,B)|0,w=w+Math.imul(Oe,se)|0,w=w+Math.imul(Je,B)|0,I=I+Math.imul(Je,se)|0,F=F+Math.imul(ge,pe)|0,w=w+Math.imul(ge,de)|0,w=w+Math.imul(Ve,pe)|0,I=I+Math.imul(Ve,de)|0,F=F+Math.imul(O,ve)|0,w=w+Math.imul(O,ye)|0,w=w+Math.imul(ae,ve)|0,I=I+Math.imul(ae,ye)|0,F=F+Math.imul(xe,Te)|0,w=w+Math.imul(xe,ke)|0,w=w+Math.imul(ze,Te)|0,I=I+Math.imul(ze,ke)|0,F=F+Math.imul(ie,Le)|0,w=w+Math.imul(ie,we)|0,w=w+Math.imul(fe,Le)|0,I=I+Math.imul(fe,we)|0,F=F+Math.imul(qe,Ke)|0,w=w+Math.imul(qe,Ge)|0,w=w+Math.imul(Ze,Ke)|0,I=I+Math.imul(Ze,Ge)|0;var sa=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(sa>>>26)|0,sa&=67108863,F=Math.imul(S,H),w=Math.imul(S,G),w=w+Math.imul(U,H)|0,I=Math.imul(U,G),F=F+Math.imul(_,Q)|0,w=w+Math.imul(_,le)|0,w=w+Math.imul(N,Q)|0,I=I+Math.imul(N,le)|0,F=F+Math.imul(L,A)|0,w=w+Math.imul(L,ne)|0,w=w+Math.imul(n,A)|0,I=I+Math.imul(n,ne)|0,F=F+Math.imul(Pe,B)|0,w=w+Math.imul(Pe,se)|0,w=w+Math.imul(Fe,B)|0,I=I+Math.imul(Fe,se)|0,F=F+Math.imul(Oe,pe)|0,w=w+Math.imul(Oe,de)|0,w=w+Math.imul(Je,pe)|0,I=I+Math.imul(Je,de)|0,F=F+Math.imul(ge,ve)|0,w=w+Math.imul(ge,ye)|0,w=w+Math.imul(Ve,ve)|0,I=I+Math.imul(Ve,ye)|0,F=F+Math.imul(O,Te)|0,w=w+Math.imul(O,ke)|0,w=w+Math.imul(ae,Te)|0,I=I+Math.imul(ae,ke)|0,F=F+Math.imul(xe,Le)|0,w=w+Math.imul(xe,we)|0,w=w+Math.imul(ze,Le)|0,I=I+Math.imul(ze,we)|0,F=F+Math.imul(ie,Ke)|0,w=w+Math.imul(ie,Ge)|0,w=w+Math.imul(fe,Ke)|0,I=I+Math.imul(fe,Ge)|0;var na=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(na>>>26)|0,na&=67108863,F=Math.imul(S,Q),w=Math.imul(S,le),w=w+Math.imul(U,Q)|0,I=Math.imul(U,le),F=F+Math.imul(_,A)|0,w=w+Math.imul(_,ne)|0,w=w+Math.imul(N,A)|0,I=I+Math.imul(N,ne)|0,F=F+Math.imul(L,B)|0,w=w+Math.imul(L,se)|0,w=w+Math.imul(n,B)|0,I=I+Math.imul(n,se)|0,F=F+Math.imul(Pe,pe)|0,w=w+Math.imul(Pe,de)|0,w=w+Math.imul(Fe,pe)|0,I=I+Math.imul(Fe,de)|0,F=F+Math.imul(Oe,ve)|0,w=w+Math.imul(Oe,ye)|0,w=w+Math.imul(Je,ve)|0,I=I+Math.imul(Je,ye)|0,F=F+Math.imul(ge,Te)|0,w=w+Math.imul(ge,ke)|0,w=w+Math.imul(Ve,Te)|0,I=I+Math.imul(Ve,ke)|0,F=F+Math.imul(O,Le)|0,w=w+Math.imul(O,we)|0,w=w+Math.imul(ae,Le)|0,I=I+Math.imul(ae,we)|0,F=F+Math.imul(xe,Ke)|0,w=w+Math.imul(xe,Ge)|0,w=w+Math.imul(ze,Ke)|0,I=I+Math.imul(ze,Ge)|0;var ua=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(ua>>>26)|0,ua&=67108863,F=Math.imul(S,A),w=Math.imul(S,ne),w=w+Math.imul(U,A)|0,I=Math.imul(U,ne),F=F+Math.imul(_,B)|0,w=w+Math.imul(_,se)|0,w=w+Math.imul(N,B)|0,I=I+Math.imul(N,se)|0,F=F+Math.imul(L,pe)|0,w=w+Math.imul(L,de)|0,w=w+Math.imul(n,pe)|0,I=I+Math.imul(n,de)|0,F=F+Math.imul(Pe,ve)|0,w=w+Math.imul(Pe,ye)|0,w=w+Math.imul(Fe,ve)|0,I=I+Math.imul(Fe,ye)|0,F=F+Math.imul(Oe,Te)|0,w=w+Math.imul(Oe,ke)|0,w=w+Math.imul(Je,Te)|0,I=I+Math.imul(Je,ke)|0,F=F+Math.imul(ge,Le)|0,w=w+Math.imul(ge,we)|0,w=w+Math.imul(Ve,Le)|0,I=I+Math.imul(Ve,we)|0,F=F+Math.imul(O,Ke)|0,w=w+Math.imul(O,Ge)|0,w=w+Math.imul(ae,Ke)|0,I=I+Math.imul(ae,Ge)|0;var ma=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(ma>>>26)|0,ma&=67108863,F=Math.imul(S,B),w=Math.imul(S,se),w=w+Math.imul(U,B)|0,I=Math.imul(U,se),F=F+Math.imul(_,pe)|0,w=w+Math.imul(_,de)|0,w=w+Math.imul(N,pe)|0,I=I+Math.imul(N,de)|0,F=F+Math.imul(L,ve)|0,w=w+Math.imul(L,ye)|0,w=w+Math.imul(n,ve)|0,I=I+Math.imul(n,ye)|0,F=F+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,ke)|0,w=w+Math.imul(Fe,Te)|0,I=I+Math.imul(Fe,ke)|0,F=F+Math.imul(Oe,Le)|0,w=w+Math.imul(Oe,we)|0,w=w+Math.imul(Je,Le)|0,I=I+Math.imul(Je,we)|0,F=F+Math.imul(ge,Ke)|0,w=w+Math.imul(ge,Ge)|0,w=w+Math.imul(Ve,Ke)|0,I=I+Math.imul(Ve,Ge)|0;var _a=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(_a>>>26)|0,_a&=67108863,F=Math.imul(S,pe),w=Math.imul(S,de),w=w+Math.imul(U,pe)|0,I=Math.imul(U,de),F=F+Math.imul(_,ve)|0,w=w+Math.imul(_,ye)|0,w=w+Math.imul(N,ve)|0,I=I+Math.imul(N,ye)|0,F=F+Math.imul(L,Te)|0,w=w+Math.imul(L,ke)|0,w=w+Math.imul(n,Te)|0,I=I+Math.imul(n,ke)|0,F=F+Math.imul(Pe,Le)|0,w=w+Math.imul(Pe,we)|0,w=w+Math.imul(Fe,Le)|0,I=I+Math.imul(Fe,we)|0,F=F+Math.imul(Oe,Ke)|0,w=w+Math.imul(Oe,Ge)|0,w=w+Math.imul(Je,Ke)|0,I=I+Math.imul(Je,Ge)|0;var ia=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(ia>>>26)|0,ia&=67108863,F=Math.imul(S,ve),w=Math.imul(S,ye),w=w+Math.imul(U,ve)|0,I=Math.imul(U,ye),F=F+Math.imul(_,Te)|0,w=w+Math.imul(_,ke)|0,w=w+Math.imul(N,Te)|0,I=I+Math.imul(N,ke)|0,F=F+Math.imul(L,Le)|0,w=w+Math.imul(L,we)|0,w=w+Math.imul(n,Le)|0,I=I+Math.imul(n,we)|0,F=F+Math.imul(Pe,Ke)|0,w=w+Math.imul(Pe,Ge)|0,w=w+Math.imul(Fe,Ke)|0,I=I+Math.imul(Fe,Ge)|0;var la=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(la>>>26)|0,la&=67108863,F=Math.imul(S,Te),w=Math.imul(S,ke),w=w+Math.imul(U,Te)|0,I=Math.imul(U,ke),F=F+Math.imul(_,Le)|0,w=w+Math.imul(_,we)|0,w=w+Math.imul(N,Le)|0,I=I+Math.imul(N,we)|0,F=F+Math.imul(L,Ke)|0,w=w+Math.imul(L,Ge)|0,w=w+Math.imul(n,Ke)|0,I=I+Math.imul(n,Ge)|0;var ka=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(ka>>>26)|0,ka&=67108863,F=Math.imul(S,Le),w=Math.imul(S,we),w=w+Math.imul(U,Le)|0,I=Math.imul(U,we),F=F+Math.imul(_,Ke)|0,w=w+Math.imul(_,Ge)|0,w=w+Math.imul(N,Ke)|0,I=I+Math.imul(N,Ge)|0;var Wa=(t+F|0)+((w&8191)<<13)|0;t=(I+(w>>>13)|0)+(Wa>>>26)|0,Wa&=67108863,F=Math.imul(S,Ke),w=Math.imul(S,Ge),w=w+Math.imul(U,Ke)|0,I=Math.imul(U,Ge);var Ta=(t+F|0)+((w&8191)<<13)|0;return t=(I+(w>>>13)|0)+(Ta>>>26)|0,Ta&=67108863,a[0]=Ce,a[1]=Ye,a[2]=Ae,a[3]=He,a[4]=ea,a[5]=Be,a[6]=ra,a[7]=aa,a[8]=oa,a[9]=sa,a[10]=na,a[11]=ua,a[12]=ma,a[13]=_a,a[14]=ia,a[15]=la,a[16]=ka,a[17]=Wa,a[18]=Ta,t!==0&&(a[19]=t,h.length++),h};Math.imul||(z=E);function K(s,m,h){h.negative=m.negative^s.negative,h.length=s.length+m.length;for(var v=0,p=0,a=0;a<h.length-1;a++){var t=p;p=0;for(var F=v&67108863,w=Math.min(a,m.length-1),I=Math.max(0,a-s.length+1);I<=w;I++){var he=a-I,qe=s.words[he]|0,Ze=m.words[I]|0,ue=qe*Ze,ie=ue&67108863;t=t+(ue/67108864|0)|0,ie=ie+F|0,F=ie&67108863,t=t+(ie>>>26)|0,p+=t>>>26,t&=67108863}h.words[a]=F,v=t,t=p}return v!==0?h.words[a]=v:h.length--,h._strip()}function Y(s,m,h){return K(s,m,h)}c.prototype.mulTo=function(s,m){var h,v=this.length+s.length;return this.length===10&&s.length===10?h=z(this,s,m):v<63?h=E(this,s,m):v<1024?h=K(this,s,m):h=Y(this,s,m),h};function C(s,m){this.x=s,this.y=m}C.prototype.makeRBT=function(s){for(var m=new Array(s),h=c.prototype._countBits(s)-1,v=0;v<s;v++)m[v]=this.revBin(v,h,s);return m},C.prototype.revBin=function(s,m,h){if(s===0||s===h-1)return s;for(var v=0,p=0;p<m;p++)v|=(s&1)<<m-p-1,s>>=1;return v},C.prototype.permute=function(s,m,h,v,p,a){for(var t=0;t<a;t++)v[t]=m[s[t]],p[t]=h[s[t]]},C.prototype.transform=function(s,m,h,v,p,a){this.permute(a,s,m,h,v,p);for(var t=1;t<p;t<<=1)for(var F=t<<1,w=Math.cos(2*Math.PI/F),I=Math.sin(2*Math.PI/F),he=0;he<p;he+=F)for(var qe=w,Ze=I,ue=0;ue<t;ue++){var ie=h[he+ue],fe=v[he+ue],Ee=h[he+ue+t],xe=v[he+ue+t],ze=qe*Ee-Ze*xe;xe=qe*xe+Ze*Ee,Ee=ze,h[he+ue]=ie+Ee,v[he+ue]=fe+xe,h[he+ue+t]=ie-Ee,v[he+ue+t]=fe-xe,ue!==F&&(ze=w*qe-I*Ze,Ze=w*Ze+I*qe,qe=ze)}},C.prototype.guessLen13b=function(s,m){var h=Math.max(m,s)|1,v=h&1,p=0;for(h=h/2|0;h;h=h>>>1)p++;return 1<<p+1+v},C.prototype.conjugate=function(s,m,h){if(!(h<=1))for(var v=0;v<h/2;v++){var p=s[v];s[v]=s[h-v-1],s[h-v-1]=p,p=m[v],m[v]=-m[h-v-1],m[h-v-1]=-p}},C.prototype.normalize13b=function(s,m){for(var h=0,v=0;v<m/2;v++){var p=Math.round(s[2*v+1]/m)*8192+Math.round(s[2*v]/m)+h;s[v]=p&67108863,p<67108864?h=0:h=p/67108864|0}return s},C.prototype.convert13b=function(s,m,h,v){for(var p=0,a=0;a<m;a++)p=p+(s[a]|0),h[2*a]=p&8191,p=p>>>13,h[2*a+1]=p&8191,p=p>>>13;for(a=2*m;a<v;++a)h[a]=0;f(p===0),f((p&-8192)===0)},C.prototype.stub=function(s){for(var m=new Array(s),h=0;h<s;h++)m[h]=0;return m},C.prototype.mulp=function(s,m,h){var v=2*this.guessLen13b(s.length,m.length),p=this.makeRBT(v),a=this.stub(v),t=new Array(v),F=new Array(v),w=new Array(v),I=new Array(v),he=new Array(v),qe=new Array(v),Ze=h.words;Ze.length=v,this.convert13b(s.words,s.length,t,v),this.convert13b(m.words,m.length,I,v),this.transform(t,a,F,w,v,p),this.transform(I,a,he,qe,v,p);for(var ue=0;ue<v;ue++){var ie=F[ue]*he[ue]-w[ue]*qe[ue];w[ue]=F[ue]*qe[ue]+w[ue]*he[ue],F[ue]=ie}return this.conjugate(F,w,v),this.transform(F,w,Ze,a,v,p),this.conjugate(Ze,a,v),this.normalize13b(Ze,v),h.negative=s.negative^m.negative,h.length=s.length+m.length,h._strip()},c.prototype.mul=function(s){var m=new c(null);return m.words=new Array(this.length+s.length),this.mulTo(s,m)},c.prototype.mulf=function(s){var m=new c(null);return m.words=new Array(this.length+s.length),Y(this,s,m)},c.prototype.imul=function(s){return this.clone().mulTo(s,this)},c.prototype.imuln=function(s){var m=s<0;m&&(s=-s),f(typeof s=="number"),f(s<67108864);for(var h=0,v=0;v<this.length;v++){var p=(this.words[v]|0)*s,a=(p&67108863)+(h&67108863);h>>=26,h+=p/67108864|0,h+=a>>>26,this.words[v]=a&67108863}return h!==0&&(this.words[v]=h,this.length++),m?this.ineg():this},c.prototype.muln=function(s){return this.clone().imuln(s)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(s){var m=X(s);if(m.length===0)return new c(1);for(var h=this,v=0;v<m.length&&m[v]===0;v++,h=h.sqr());if(++v<m.length)for(var p=h.sqr();v<m.length;v++,p=p.sqr())m[v]!==0&&(h=h.mul(p));return h},c.prototype.iushln=function(s){f(typeof s=="number"&&s>=0);var m=s%26,h=(s-m)/26,v=67108863>>>26-m<<26-m,p;if(m!==0){var a=0;for(p=0;p<this.length;p++){var t=this.words[p]&v,F=(this.words[p]|0)-t<<m;this.words[p]=F|a,a=t>>>26-m}a&&(this.words[p]=a,this.length++)}if(h!==0){for(p=this.length-1;p>=0;p--)this.words[p+h]=this.words[p];for(p=0;p<h;p++)this.words[p]=0;this.length+=h}return this._strip()},c.prototype.ishln=function(s){return f(this.negative===0),this.iushln(s)},c.prototype.iushrn=function(s,m,h){f(typeof s=="number"&&s>=0);var v;m?v=(m-m%26)/26:v=0;var p=s%26,a=Math.min((s-p)/26,this.length),t=67108863^67108863>>>p<<p,F=h;if(v-=a,v=Math.max(0,v),F){for(var w=0;w<a;w++)F.words[w]=this.words[w];F.length=a}if(a!==0)if(this.length>a)for(this.length-=a,w=0;w<this.length;w++)this.words[w]=this.words[w+a];else this.words[0]=0,this.length=1;var I=0;for(w=this.length-1;w>=0&&(I!==0||w>=v);w--){var he=this.words[w]|0;this.words[w]=I<<26-p|he>>>p,I=he&t}return F&&I!==0&&(F.words[F.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(s,m,h){return f(this.negative===0),this.iushrn(s,m,h)},c.prototype.shln=function(s){return this.clone().ishln(s)},c.prototype.ushln=function(s){return this.clone().iushln(s)},c.prototype.shrn=function(s){return this.clone().ishrn(s)},c.prototype.ushrn=function(s){return this.clone().iushrn(s)},c.prototype.testn=function(s){f(typeof s=="number"&&s>=0);var m=s%26,h=(s-m)/26,v=1<<m;if(this.length<=h)return!1;var p=this.words[h];return!!(p&v)},c.prototype.imaskn=function(s){f(typeof s=="number"&&s>=0);var m=s%26,h=(s-m)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(m!==0&&h++,this.length=Math.min(h,this.length),m!==0){var v=67108863^67108863>>>m<<m;this.words[this.length-1]&=v}return this._strip()},c.prototype.maskn=function(s){return this.clone().imaskn(s)},c.prototype.iaddn=function(s){return f(typeof s=="number"),f(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},c.prototype._iaddn=function(s){this.words[0]+=s;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},c.prototype.isubn=function(s){if(f(typeof s=="number"),f(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},c.prototype.addn=function(s){return this.clone().iaddn(s)},c.prototype.subn=function(s){return this.clone().isubn(s)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(s,m,h){var v=s.length+h,p;this._expand(v);var a,t=0;for(p=0;p<s.length;p++){a=(this.words[p+h]|0)+t;var F=(s.words[p]|0)*m;a-=F&67108863,t=(a>>26)-(F/67108864|0),this.words[p+h]=a&67108863}for(;p<this.length-h;p++)a=(this.words[p+h]|0)+t,t=a>>26,this.words[p+h]=a&67108863;if(t===0)return this._strip();for(f(t===-1),t=0,p=0;p<this.length;p++)a=-(this.words[p]|0)+t,t=a>>26,this.words[p]=a&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(s,m){var h=this.length-s.length,v=this.clone(),p=s,a=p.words[p.length-1]|0,t=this._countBits(a);h=26-t,h!==0&&(p=p.ushln(h),v.iushln(h),a=p.words[p.length-1]|0);var F=v.length-p.length,w;if(m!=="mod"){w=new c(null),w.length=F+1,w.words=new Array(w.length);for(var I=0;I<w.length;I++)w.words[I]=0}var he=v.clone()._ishlnsubmul(p,1,F);he.negative===0&&(v=he,w&&(w.words[F]=1));for(var qe=F-1;qe>=0;qe--){var Ze=(v.words[p.length+qe]|0)*67108864+(v.words[p.length+qe-1]|0);for(Ze=Math.min(Ze/a|0,67108863),v._ishlnsubmul(p,Ze,qe);v.negative!==0;)Ze--,v.negative=0,v._ishlnsubmul(p,1,qe),v.isZero()||(v.negative^=1);w&&(w.words[qe]=Ze)}return w&&w._strip(),v._strip(),m!=="div"&&h!==0&&v.iushrn(h),{div:w||null,mod:v}},c.prototype.divmod=function(s,m,h){if(f(!s.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var v,p,a;return this.negative!==0&&s.negative===0?(a=this.neg().divmod(s,m),m!=="mod"&&(v=a.div.neg()),m!=="div"&&(p=a.mod.neg(),h&&p.negative!==0&&p.iadd(s)),{div:v,mod:p}):this.negative===0&&s.negative!==0?(a=this.divmod(s.neg(),m),m!=="mod"&&(v=a.div.neg()),{div:v,mod:a.mod}):(this.negative&s.negative)!==0?(a=this.neg().divmod(s.neg(),m),m!=="div"&&(p=a.mod.neg(),h&&p.negative!==0&&p.isub(s)),{div:a.div,mod:p}):s.length>this.length||this.cmp(s)<0?{div:new c(0),mod:this}:s.length===1?m==="div"?{div:this.divn(s.words[0]),mod:null}:m==="mod"?{div:null,mod:new c(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new c(this.modrn(s.words[0]))}:this._wordDiv(s,m)},c.prototype.div=function(s){return this.divmod(s,"div",!1).div},c.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},c.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},c.prototype.divRound=function(s){var m=this.divmod(s);if(m.mod.isZero())return m.div;var h=m.div.negative!==0?m.mod.isub(s):m.mod,v=s.ushrn(1),p=s.andln(1),a=h.cmp(v);return a<0||p===1&&a===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},c.prototype.modrn=function(s){var m=s<0;m&&(s=-s),f(s<=67108863);for(var h=67108864%s,v=0,p=this.length-1;p>=0;p--)v=(h*v+(this.words[p]|0))%s;return m?-v:v},c.prototype.modn=function(s){return this.modrn(s)},c.prototype.idivn=function(s){var m=s<0;m&&(s=-s),f(s<=67108863);for(var h=0,v=this.length-1;v>=0;v--){var p=(this.words[v]|0)+h*67108864;this.words[v]=p/s|0,h=p%s}return this._strip(),m?this.ineg():this},c.prototype.divn=function(s){return this.clone().idivn(s)},c.prototype.egcd=function(s){f(s.negative===0),f(!s.isZero());var m=this,h=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var v=new c(1),p=new c(0),a=new c(0),t=new c(1),F=0;m.isEven()&&h.isEven();)m.iushrn(1),h.iushrn(1),++F;for(var w=h.clone(),I=m.clone();!m.isZero();){for(var he=0,qe=1;(m.words[0]&qe)===0&&he<26;++he,qe<<=1);if(he>0)for(m.iushrn(he);he-- >0;)(v.isOdd()||p.isOdd())&&(v.iadd(w),p.isub(I)),v.iushrn(1),p.iushrn(1);for(var Ze=0,ue=1;(h.words[0]&ue)===0&&Ze<26;++Ze,ue<<=1);if(Ze>0)for(h.iushrn(Ze);Ze-- >0;)(a.isOdd()||t.isOdd())&&(a.iadd(w),t.isub(I)),a.iushrn(1),t.iushrn(1);m.cmp(h)>=0?(m.isub(h),v.isub(a),p.isub(t)):(h.isub(m),a.isub(v),t.isub(p))}return{a,b:t,gcd:h.iushln(F)}},c.prototype._invmp=function(s){f(s.negative===0),f(!s.isZero());var m=this,h=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var v=new c(1),p=new c(0),a=h.clone();m.cmpn(1)>0&&h.cmpn(1)>0;){for(var t=0,F=1;(m.words[0]&F)===0&&t<26;++t,F<<=1);if(t>0)for(m.iushrn(t);t-- >0;)v.isOdd()&&v.iadd(a),v.iushrn(1);for(var w=0,I=1;(h.words[0]&I)===0&&w<26;++w,I<<=1);if(w>0)for(h.iushrn(w);w-- >0;)p.isOdd()&&p.iadd(a),p.iushrn(1);m.cmp(h)>=0?(m.isub(h),v.isub(p)):(h.isub(m),p.isub(v))}var he;return m.cmpn(1)===0?he=v:he=p,he.cmpn(0)<0&&he.iadd(s),he},c.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var m=this.clone(),h=s.clone();m.negative=0,h.negative=0;for(var v=0;m.isEven()&&h.isEven();v++)m.iushrn(1),h.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;h.isEven();)h.iushrn(1);var p=m.cmp(h);if(p<0){var a=m;m=h,h=a}else if(p===0||h.cmpn(1)===0)break;m.isub(h)}while(!0);return h.iushln(v)},c.prototype.invm=function(s){return this.egcd(s).a.umod(s)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(s){return this.words[0]&s},c.prototype.bincn=function(s){f(typeof s=="number");var m=s%26,h=(s-m)/26,v=1<<m;if(this.length<=h)return this._expand(h+1),this.words[h]|=v,this;for(var p=v,a=h;p!==0&&a<this.length;a++){var t=this.words[a]|0;t+=p,p=t>>>26,t&=67108863,this.words[a]=t}return p!==0&&(this.words[a]=p,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(s){var m=s<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var h;if(this.length>1)h=1;else{m&&(s=-s),f(s<=67108863,"Number is too big");var v=this.words[0]|0;h=v===s?0:v<s?-1:1}return this.negative!==0?-h|0:h},c.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var m=this.ucmp(s);return this.negative!==0?-m|0:m},c.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var m=0,h=this.length-1;h>=0;h--){var v=this.words[h]|0,p=s.words[h]|0;if(v!==p){v<p?m=-1:v>p&&(m=1);break}}return m},c.prototype.gtn=function(s){return this.cmpn(s)===1},c.prototype.gt=function(s){return this.cmp(s)===1},c.prototype.gten=function(s){return this.cmpn(s)>=0},c.prototype.gte=function(s){return this.cmp(s)>=0},c.prototype.ltn=function(s){return this.cmpn(s)===-1},c.prototype.lt=function(s){return this.cmp(s)===-1},c.prototype.lten=function(s){return this.cmpn(s)<=0},c.prototype.lte=function(s){return this.cmp(s)<=0},c.prototype.eqn=function(s){return this.cmpn(s)===0},c.prototype.eq=function(s){return this.cmp(s)===0},c.red=function(s){return new o(s)},c.prototype.toRed=function(s){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},c.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(s){return this.red=s,this},c.prototype.forceRed=function(s){return f(!this.red,"Already a number in reduction context"),this._forceRed(s)},c.prototype.redAdd=function(s){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},c.prototype.redIAdd=function(s){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},c.prototype.redSub=function(s){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},c.prototype.redISub=function(s){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},c.prototype.redShl=function(s){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},c.prototype.redMul=function(s){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},c.prototype.redIMul=function(s){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},c.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(s){return f(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var te={k256:null,p224:null,p192:null,p25519:null};function _e(s,m){this.name=s,this.p=new c(m,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_e.prototype._tmp=function(){var s=new c(null);return s.words=new Array(Math.ceil(this.n/13)),s},_e.prototype.ireduce=function(s){var m=s,h;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),h=m.bitLength();while(h>this.n);var v=h<this.n?-1:m.ucmp(this.p);return v===0?(m.words[0]=0,m.length=1):v>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},_e.prototype.split=function(s,m){s.iushrn(this.n,0,m)},_e.prototype.imulK=function(s){return s.imul(this.k)};function $e(){_e.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T($e,_e),$e.prototype.split=function(s,m){for(var h=4194303,v=Math.min(s.length,9),p=0;p<v;p++)m.words[p]=s.words[p];if(m.length=v,s.length<=9){s.words[0]=0,s.length=1;return}var a=s.words[9];for(m.words[m.length++]=a&h,p=10;p<s.length;p++){var t=s.words[p]|0;s.words[p-10]=(t&h)<<4|a>>>22,a=t}a>>>=22,s.words[p-10]=a,a===0&&s.length>10?s.length-=10:s.length-=9},$e.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var m=0,h=0;h<s.length;h++){var v=s.words[h]|0;m+=v*977,s.words[h]=m&67108863,m=v*64+(m/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function me(){_e.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(me,_e);function Me(){_e.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(Me,_e);function e(){_e.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T(e,_e),e.prototype.imulK=function(s){for(var m=0,h=0;h<s.length;h++){var v=(s.words[h]|0)*19+m,p=v&67108863;v>>>=26,s.words[h]=p,m=v}return m!==0&&(s.words[s.length++]=m),s},c._prime=function(s){if(te[s])return te[s];var m;if(s==="k256")m=new $e;else if(s==="p224")m=new me;else if(s==="p192")m=new Me;else if(s==="p25519")m=new e;else throw new Error("Unknown prime "+s);return te[s]=m,m};function o(s){if(typeof s=="string"){var m=c._prime(s);this.m=m.p,this.prime=m}else f(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}o.prototype._verify1=function(s){f(s.negative===0,"red works only with positives"),f(s.red,"red works only with red numbers")},o.prototype._verify2=function(s,m){f((s.negative|m.negative)===0,"red works only with positives"),f(s.red&&s.red===m.red,"red works only with red numbers")},o.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(Z(s,s.umod(this.m)._forceRed(this)),s)},o.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},o.prototype.add=function(s,m){this._verify2(s,m);var h=s.add(m);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},o.prototype.iadd=function(s,m){this._verify2(s,m);var h=s.iadd(m);return h.cmp(this.m)>=0&&h.isub(this.m),h},o.prototype.sub=function(s,m){this._verify2(s,m);var h=s.sub(m);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},o.prototype.isub=function(s,m){this._verify2(s,m);var h=s.isub(m);return h.cmpn(0)<0&&h.iadd(this.m),h},o.prototype.shl=function(s,m){return this._verify1(s),this.imod(s.ushln(m))},o.prototype.imul=function(s,m){return this._verify2(s,m),this.imod(s.imul(m))},o.prototype.mul=function(s,m){return this._verify2(s,m),this.imod(s.mul(m))},o.prototype.isqr=function(s){return this.imul(s,s.clone())},o.prototype.sqr=function(s){return this.mul(s,s)},o.prototype.sqrt=function(s){if(s.isZero())return s.clone();var m=this.m.andln(3);if(f(m%2===1),m===3){var h=this.m.add(new c(1)).iushrn(2);return this.pow(s,h)}for(var v=this.m.subn(1),p=0;!v.isZero()&&v.andln(1)===0;)p++,v.iushrn(1);f(!v.isZero());var a=new c(1).toRed(this),t=a.redNeg(),F=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new c(2*w*w).toRed(this);this.pow(w,F).cmp(t)!==0;)w.redIAdd(t);for(var I=this.pow(w,v),he=this.pow(s,v.addn(1).iushrn(1)),qe=this.pow(s,v),Ze=p;qe.cmp(a)!==0;){for(var ue=qe,ie=0;ue.cmp(a)!==0;ie++)ue=ue.redSqr();f(ie<Ze);var fe=this.pow(I,new c(1).iushln(Ze-ie-1));he=he.redMul(fe),I=fe.redSqr(),qe=qe.redMul(I),Ze=ie}return he},o.prototype.invm=function(s){var m=s._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},o.prototype.pow=function(s,m){if(m.isZero())return new c(1).toRed(this);if(m.cmpn(1)===0)return s.clone();var h=4,v=new Array(1<<h);v[0]=new c(1).toRed(this),v[1]=s;for(var p=2;p<v.length;p++)v[p]=this.mul(v[p-1],s);var a=v[0],t=0,F=0,w=m.bitLength()%26;for(w===0&&(w=26),p=m.length-1;p>=0;p--){for(var I=m.words[p],he=w-1;he>=0;he--){var qe=I>>he&1;if(a!==v[0]&&(a=this.sqr(a)),qe===0&&t===0){F=0;continue}t<<=1,t|=qe,F++,!(F!==h&&(p!==0||he!==0))&&(a=this.mul(a,v[t]),F=0,t=0)}w=26}return a},o.prototype.convertTo=function(s){var m=s.umod(this.m);return m===s?m.clone():m},o.prototype.convertFrom=function(s){var m=s.clone();return m.red=null,m},c.mont=function(s){return new i(s)};function i(s){o.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(i,o),i.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},i.prototype.convertFrom=function(s){var m=this.imod(s.mul(this.rinv));return m.red=null,m},i.prototype.imul=function(s,m){if(s.isZero()||m.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(m),v=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(v).iushrn(this.shift),a=p;return p.cmp(this.m)>=0?a=p.isub(this.m):p.cmpn(0)<0&&(a=p.iadd(this.m)),a._forceRed(this)},i.prototype.mul=function(s,m){if(s.isZero()||m.isZero())return new c(0)._forceRed(this);var h=s.mul(m),v=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=h.isub(v).iushrn(this.shift),a=p;return p.cmp(this.m)>=0?a=p.isub(this.m):p.cmpn(0)<0&&(a=p.iadd(this.m)),a._forceRed(this)},i.prototype.invm=function(s){var m=this.imod(s._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(typeof d>"u"||d,r)}),Ds=je((r,d)=>{var u=Gs(),R=Kn();function f(b){var W=T(b),y=W.toRed(u.mont(b.modulus)).redPow(new u(b.publicExponent)).fromRed();return{blinder:y,unblinder:W.invm(b.modulus)}}function T(b){var W=b.modulus.byteLength(),y;do y=new u(R(W));while(y.cmp(b.modulus)>=0||!y.umod(b.prime1)||!y.umod(b.prime2));return y}function c(b,W){var y=f(W),q=W.modulus.byteLength(),Z=new u(b).mul(y.blinder).umod(W.modulus),$=Z.toRed(u.mont(W.prime1)),V=Z.toRed(u.mont(W.prime2)),x=W.coefficient,k=W.prime1,g=W.prime2,X=$.redPow(W.exponent1).fromRed(),E=V.redPow(W.exponent2).fromRed(),z=X.isub(E).imul(x).umod(k).imul(g);return E.iadd(z).imul(y.unblinder).umod(W.modulus).toArrayLike(Buffer,"be",q)}c.getr=T,d.exports=c}),jc=je((r,d)=>{d.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),on=je((r,d)=>{(function(u,R){function f(e,o){if(!e)throw new Error(o||"Assertion failed")}function T(e,o){e.super_=o;var i=function(){};i.prototype=o.prototype,e.prototype=new i,e.prototype.constructor=e}function c(e,o,i){if(c.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((o==="le"||o==="be")&&(i=o,o=10),this._init(e||0,o||10,i||"be"))}typeof u=="object"?u.exports=c:R.BN=c,c.BN=c,c.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=Vn().Buffer}catch{}c.isBN=function(e){return e instanceof c?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===c.wordSize&&Array.isArray(e.words)},c.max=function(e,o){return e.cmp(o)>0?e:o},c.min=function(e,o){return e.cmp(o)<0?e:o},c.prototype._init=function(e,o,i){if(typeof e=="number")return this._initNumber(e,o,i);if(typeof e=="object")return this._initArray(e,o,i);o==="hex"&&(o=16),f(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(o===16?this._parseHex(e,s,i):(this._parseBase(e,o,s),i==="le"&&this._initArray(this.toArray(),o,i)))},c.prototype._initNumber=function(e,o,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(f(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),o,i)},c.prototype._initArray=function(e,o,i){if(f(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,h,v=0;if(i==="be")for(s=e.length-1,m=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);else if(i==="le")for(s=0,m=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);return this.strip()};function W(e,o){var i=e.charCodeAt(o);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function y(e,o,i){var s=W(e,i);return i-1>=o&&(s|=W(e,i-1)<<4),s}c.prototype._parseHex=function(e,o,i){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,h=0,v;if(i==="be")for(s=e.length-1;s>=o;s-=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8;else{var p=e.length-o;for(s=p%2===0?o+1:o;s<e.length;s+=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8}this.strip()};function q(e,o,i,s){for(var m=0,h=Math.min(e.length,i),v=o;v<h;v++){var p=e.charCodeAt(v)-48;m*=s,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}c.prototype._parseBase=function(e,o,i){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=o)s++;s--,m=m/o|0;for(var h=e.length-i,v=h%s,p=Math.min(h,h-v)+i,a=0,t=i;t<p;t+=s)a=q(e,t,t+s,o),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var F=1;for(a=q(e,t,e.length,o),t=0;t<v;t++)F*=o;this.imuln(F),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},c.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},c.prototype.clone=function(){var e=new c(null);return this.copy(e),e},c.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(e,o){e=e||10,o=o|0||1;var i;if(e===16||e==="hex"){i="";for(var s=0,m=0,h=0;h<this.length;h++){var v=this.words[h],p=((v<<s|m)&16777215).toString(16);m=v>>>24-s&16777215,m!==0||h!==this.length-1?i=Z[6-p.length]+p+i:i=p+i,s+=2,s>=26&&(s-=26,h--)}for(m!==0&&(i=m.toString(16)+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(e===(e|0)&&e>=2&&e<=36){var a=$[e],t=V[e];i="";var F=this.clone();for(F.negative=0;!F.isZero();){var w=F.modn(t).toString(e);F=F.idivn(t),F.isZero()?i=w+i:i=Z[a-w.length]+w+i}for(this.isZero()&&(i="0"+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}f(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(e,o){return f(typeof b<"u"),this.toArrayLike(b,e,o)},c.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},c.prototype.toArrayLike=function(e,o,i){var s=this.byteLength(),m=i||Math.max(1,s);f(s<=m,"byte array longer than desired length"),f(m>0,"Requested array length <= 0"),this.strip();var h=o==="le",v=new e(m),p,a,t=this.clone();if(h){for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[a]=p;for(;a<m;a++)v[a]=0}else{for(a=0;a<m-s;a++)v[a]=0;for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[m-a-1]=p}return v},Math.clz32?c.prototype._countBits=function(e){return 32-Math.clz32(e)}:c.prototype._countBits=function(e){var o=e,i=0;return o>=4096&&(i+=13,o>>>=13),o>=64&&(i+=7,o>>>=7),o>=8&&(i+=4,o>>>=4),o>=2&&(i+=2,o>>>=2),i+o},c.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,i=0;return(o&8191)===0&&(i+=13,o>>>=13),(o&127)===0&&(i+=7,o>>>=7),(o&15)===0&&(i+=4,o>>>=4),(o&3)===0&&(i+=2,o>>>=2),(o&1)===0&&i++,i},c.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function x(e){for(var o=new Array(e.bitLength()),i=0;i<o.length;i++){var s=i/26|0,m=i%26;o[i]=(e.words[s]&1<<m)>>>m}return o}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var i=this._zeroBits(this.words[o]);if(e+=i,i!==26)break}return e},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},c.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},c.prototype.ior=function(e){return f((this.negative|e.negative)===0),this.iuor(e)},c.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},c.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},c.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var i=0;i<o.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=o.length,this.strip()},c.prototype.iand=function(e){return f((this.negative|e.negative)===0),this.iuand(e)},c.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},c.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},c.prototype.iuxor=function(e){var o,i;this.length>e.length?(o=this,i=e):(o=e,i=this);for(var s=0;s<i.length;s++)this.words[s]=o.words[s]^i.words[s];if(this!==o)for(;s<o.length;s++)this.words[s]=o.words[s];return this.length=o.length,this.strip()},c.prototype.ixor=function(e){return f((this.negative|e.negative)===0),this.iuxor(e)},c.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},c.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},c.prototype.inotn=function(e){f(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,i=e%26;this._expand(o),i>0&&o--;for(var s=0;s<o;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},c.prototype.notn=function(e){return this.clone().inotn(e)},c.prototype.setn=function(e,o){f(typeof e=="number"&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),o?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},c.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var i,s;this.length>e.length?(i=this,s=e):(i=e,s=this);for(var m=0,h=0;h<s.length;h++)o=(i.words[h]|0)+(s.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;for(;m!==0&&h<i.length;h++)o=(i.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;if(this.length=i.length,m!==0)this.words[this.length]=m,this.length++;else if(i!==this)for(;h<i.length;h++)this.words[h]=i.words[h];return this},c.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},c.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;i>0?(s=this,m=e):(s=e,m=this);for(var h=0,v=0;v<m.length;v++)o=(s.words[v]|0)-(m.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;for(;h!==0&&v<s.length;v++)o=(s.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;if(h===0&&v<s.length&&s!==this)for(;v<s.length;v++)this.words[v]=s.words[v];return this.length=Math.max(this.length,v),s!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(e){return this.clone().isub(e)};function k(e,o,i){i.negative=o.negative^e.negative;var s=e.length+o.length|0;i.length=s,s=s-1|0;var m=e.words[0]|0,h=o.words[0]|0,v=m*h,p=v&67108863,a=v/67108864|0;i.words[0]=p;for(var t=1;t<s;t++){for(var F=a>>>26,w=a&67108863,I=Math.min(t,o.length-1),he=Math.max(0,t-e.length+1);he<=I;he++){var qe=t-he|0;m=e.words[qe]|0,h=o.words[he]|0,v=m*h+w,F+=v/67108864|0,w=v&67108863}i.words[t]=w|0,a=F|0}return a!==0?i.words[t]=a|0:i.length--,i.strip()}var g=function(e,o,i){var s=e.words,m=o.words,h=i.words,v=0,p,a,t,F=s[0]|0,w=F&8191,I=F>>>13,he=s[1]|0,qe=he&8191,Ze=he>>>13,ue=s[2]|0,ie=ue&8191,fe=ue>>>13,Ee=s[3]|0,xe=Ee&8191,ze=Ee>>>13,D=s[4]|0,O=D&8191,ae=D>>>13,We=s[5]|0,ge=We&8191,Ve=We>>>13,De=s[6]|0,Oe=De&8191,Je=De>>>13,Qe=s[7]|0,Pe=Qe&8191,Fe=Qe>>>13,pa=s[8]|0,L=pa&8191,n=pa>>>13,l=s[9]|0,_=l&8191,N=l>>>13,M=m[0]|0,S=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,ee=m[2]|0,H=ee&8191,G=ee>>>13,oe=m[3]|0,Q=oe&8191,le=oe>>>13,Re=m[4]|0,A=Re&8191,ne=Re>>>13,re=m[5]|0,B=re&8191,se=re>>>13,Ne=m[6]|0,pe=Ne&8191,de=Ne>>>13,Se=m[7]|0,ve=Se&8191,ye=Se>>>13,Ue=m[8]|0,Te=Ue&8191,ke=Ue>>>13,Xe=m[9]|0,Le=Xe&8191,we=Xe>>>13;i.negative=e.negative^o.negative,i.length=19,p=Math.imul(w,S),a=Math.imul(w,U),a=a+Math.imul(I,S)|0,t=Math.imul(I,U);var Ie=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,p=Math.imul(qe,S),a=Math.imul(qe,U),a=a+Math.imul(Ze,S)|0,t=Math.imul(Ze,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,t=t+Math.imul(I,J)|0;var Ke=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(ie,S),a=Math.imul(ie,U),a=a+Math.imul(fe,S)|0,t=Math.imul(fe,U),p=p+Math.imul(qe,j)|0,a=a+Math.imul(qe,J)|0,a=a+Math.imul(Ze,j)|0,t=t+Math.imul(Ze,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,t=t+Math.imul(I,G)|0;var Ge=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,p=Math.imul(xe,S),a=Math.imul(xe,U),a=a+Math.imul(ze,S)|0,t=Math.imul(ze,U),p=p+Math.imul(ie,j)|0,a=a+Math.imul(ie,J)|0,a=a+Math.imul(fe,j)|0,t=t+Math.imul(fe,J)|0,p=p+Math.imul(qe,H)|0,a=a+Math.imul(qe,G)|0,a=a+Math.imul(Ze,H)|0,t=t+Math.imul(Ze,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,le)|0,a=a+Math.imul(I,Q)|0,t=t+Math.imul(I,le)|0;var Ce=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,p=Math.imul(O,S),a=Math.imul(O,U),a=a+Math.imul(ae,S)|0,t=Math.imul(ae,U),p=p+Math.imul(xe,j)|0,a=a+Math.imul(xe,J)|0,a=a+Math.imul(ze,j)|0,t=t+Math.imul(ze,J)|0,p=p+Math.imul(ie,H)|0,a=a+Math.imul(ie,G)|0,a=a+Math.imul(fe,H)|0,t=t+Math.imul(fe,G)|0,p=p+Math.imul(qe,Q)|0,a=a+Math.imul(qe,le)|0,a=a+Math.imul(Ze,Q)|0,t=t+Math.imul(Ze,le)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,ne)|0,a=a+Math.imul(I,A)|0,t=t+Math.imul(I,ne)|0;var Ye=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,p=Math.imul(ge,S),a=Math.imul(ge,U),a=a+Math.imul(Ve,S)|0,t=Math.imul(Ve,U),p=p+Math.imul(O,j)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(ae,j)|0,t=t+Math.imul(ae,J)|0,p=p+Math.imul(xe,H)|0,a=a+Math.imul(xe,G)|0,a=a+Math.imul(ze,H)|0,t=t+Math.imul(ze,G)|0,p=p+Math.imul(ie,Q)|0,a=a+Math.imul(ie,le)|0,a=a+Math.imul(fe,Q)|0,t=t+Math.imul(fe,le)|0,p=p+Math.imul(qe,A)|0,a=a+Math.imul(qe,ne)|0,a=a+Math.imul(Ze,A)|0,t=t+Math.imul(Ze,ne)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,se)|0,a=a+Math.imul(I,B)|0,t=t+Math.imul(I,se)|0;var Ae=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,p=Math.imul(Oe,S),a=Math.imul(Oe,U),a=a+Math.imul(Je,S)|0,t=Math.imul(Je,U),p=p+Math.imul(ge,j)|0,a=a+Math.imul(ge,J)|0,a=a+Math.imul(Ve,j)|0,t=t+Math.imul(Ve,J)|0,p=p+Math.imul(O,H)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(ae,H)|0,t=t+Math.imul(ae,G)|0,p=p+Math.imul(xe,Q)|0,a=a+Math.imul(xe,le)|0,a=a+Math.imul(ze,Q)|0,t=t+Math.imul(ze,le)|0,p=p+Math.imul(ie,A)|0,a=a+Math.imul(ie,ne)|0,a=a+Math.imul(fe,A)|0,t=t+Math.imul(fe,ne)|0,p=p+Math.imul(qe,B)|0,a=a+Math.imul(qe,se)|0,a=a+Math.imul(Ze,B)|0,t=t+Math.imul(Ze,se)|0,p=p+Math.imul(w,pe)|0,a=a+Math.imul(w,de)|0,a=a+Math.imul(I,pe)|0,t=t+Math.imul(I,de)|0;var He=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(Pe,S),a=Math.imul(Pe,U),a=a+Math.imul(Fe,S)|0,t=Math.imul(Fe,U),p=p+Math.imul(Oe,j)|0,a=a+Math.imul(Oe,J)|0,a=a+Math.imul(Je,j)|0,t=t+Math.imul(Je,J)|0,p=p+Math.imul(ge,H)|0,a=a+Math.imul(ge,G)|0,a=a+Math.imul(Ve,H)|0,t=t+Math.imul(Ve,G)|0,p=p+Math.imul(O,Q)|0,a=a+Math.imul(O,le)|0,a=a+Math.imul(ae,Q)|0,t=t+Math.imul(ae,le)|0,p=p+Math.imul(xe,A)|0,a=a+Math.imul(xe,ne)|0,a=a+Math.imul(ze,A)|0,t=t+Math.imul(ze,ne)|0,p=p+Math.imul(ie,B)|0,a=a+Math.imul(ie,se)|0,a=a+Math.imul(fe,B)|0,t=t+Math.imul(fe,se)|0,p=p+Math.imul(qe,pe)|0,a=a+Math.imul(qe,de)|0,a=a+Math.imul(Ze,pe)|0,t=t+Math.imul(Ze,de)|0,p=p+Math.imul(w,ve)|0,a=a+Math.imul(w,ye)|0,a=a+Math.imul(I,ve)|0,t=t+Math.imul(I,ye)|0;var ea=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(L,S),a=Math.imul(L,U),a=a+Math.imul(n,S)|0,t=Math.imul(n,U),p=p+Math.imul(Pe,j)|0,a=a+Math.imul(Pe,J)|0,a=a+Math.imul(Fe,j)|0,t=t+Math.imul(Fe,J)|0,p=p+Math.imul(Oe,H)|0,a=a+Math.imul(Oe,G)|0,a=a+Math.imul(Je,H)|0,t=t+Math.imul(Je,G)|0,p=p+Math.imul(ge,Q)|0,a=a+Math.imul(ge,le)|0,a=a+Math.imul(Ve,Q)|0,t=t+Math.imul(Ve,le)|0,p=p+Math.imul(O,A)|0,a=a+Math.imul(O,ne)|0,a=a+Math.imul(ae,A)|0,t=t+Math.imul(ae,ne)|0,p=p+Math.imul(xe,B)|0,a=a+Math.imul(xe,se)|0,a=a+Math.imul(ze,B)|0,t=t+Math.imul(ze,se)|0,p=p+Math.imul(ie,pe)|0,a=a+Math.imul(ie,de)|0,a=a+Math.imul(fe,pe)|0,t=t+Math.imul(fe,de)|0,p=p+Math.imul(qe,ve)|0,a=a+Math.imul(qe,ye)|0,a=a+Math.imul(Ze,ve)|0,t=t+Math.imul(Ze,ye)|0,p=p+Math.imul(w,Te)|0,a=a+Math.imul(w,ke)|0,a=a+Math.imul(I,Te)|0,t=t+Math.imul(I,ke)|0;var Be=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,p=Math.imul(_,S),a=Math.imul(_,U),a=a+Math.imul(N,S)|0,t=Math.imul(N,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(n,j)|0,t=t+Math.imul(n,J)|0,p=p+Math.imul(Pe,H)|0,a=a+Math.imul(Pe,G)|0,a=a+Math.imul(Fe,H)|0,t=t+Math.imul(Fe,G)|0,p=p+Math.imul(Oe,Q)|0,a=a+Math.imul(Oe,le)|0,a=a+Math.imul(Je,Q)|0,t=t+Math.imul(Je,le)|0,p=p+Math.imul(ge,A)|0,a=a+Math.imul(ge,ne)|0,a=a+Math.imul(Ve,A)|0,t=t+Math.imul(Ve,ne)|0,p=p+Math.imul(O,B)|0,a=a+Math.imul(O,se)|0,a=a+Math.imul(ae,B)|0,t=t+Math.imul(ae,se)|0,p=p+Math.imul(xe,pe)|0,a=a+Math.imul(xe,de)|0,a=a+Math.imul(ze,pe)|0,t=t+Math.imul(ze,de)|0,p=p+Math.imul(ie,ve)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(fe,ve)|0,t=t+Math.imul(fe,ye)|0,p=p+Math.imul(qe,Te)|0,a=a+Math.imul(qe,ke)|0,a=a+Math.imul(Ze,Te)|0,t=t+Math.imul(Ze,ke)|0,p=p+Math.imul(w,Le)|0,a=a+Math.imul(w,we)|0,a=a+Math.imul(I,Le)|0,t=t+Math.imul(I,we)|0;var ra=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(_,j),a=Math.imul(_,J),a=a+Math.imul(N,j)|0,t=Math.imul(N,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(n,H)|0,t=t+Math.imul(n,G)|0,p=p+Math.imul(Pe,Q)|0,a=a+Math.imul(Pe,le)|0,a=a+Math.imul(Fe,Q)|0,t=t+Math.imul(Fe,le)|0,p=p+Math.imul(Oe,A)|0,a=a+Math.imul(Oe,ne)|0,a=a+Math.imul(Je,A)|0,t=t+Math.imul(Je,ne)|0,p=p+Math.imul(ge,B)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(Ve,B)|0,t=t+Math.imul(Ve,se)|0,p=p+Math.imul(O,pe)|0,a=a+Math.imul(O,de)|0,a=a+Math.imul(ae,pe)|0,t=t+Math.imul(ae,de)|0,p=p+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(ze,ve)|0,t=t+Math.imul(ze,ye)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(fe,Te)|0,t=t+Math.imul(fe,ke)|0,p=p+Math.imul(qe,Le)|0,a=a+Math.imul(qe,we)|0,a=a+Math.imul(Ze,Le)|0,t=t+Math.imul(Ze,we)|0;var aa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(_,H),a=Math.imul(_,G),a=a+Math.imul(N,H)|0,t=Math.imul(N,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,le)|0,a=a+Math.imul(n,Q)|0,t=t+Math.imul(n,le)|0,p=p+Math.imul(Pe,A)|0,a=a+Math.imul(Pe,ne)|0,a=a+Math.imul(Fe,A)|0,t=t+Math.imul(Fe,ne)|0,p=p+Math.imul(Oe,B)|0,a=a+Math.imul(Oe,se)|0,a=a+Math.imul(Je,B)|0,t=t+Math.imul(Je,se)|0,p=p+Math.imul(ge,pe)|0,a=a+Math.imul(ge,de)|0,a=a+Math.imul(Ve,pe)|0,t=t+Math.imul(Ve,de)|0,p=p+Math.imul(O,ve)|0,a=a+Math.imul(O,ye)|0,a=a+Math.imul(ae,ve)|0,t=t+Math.imul(ae,ye)|0,p=p+Math.imul(xe,Te)|0,a=a+Math.imul(xe,ke)|0,a=a+Math.imul(ze,Te)|0,t=t+Math.imul(ze,ke)|0,p=p+Math.imul(ie,Le)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(fe,Le)|0,t=t+Math.imul(fe,we)|0;var oa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(_,Q),a=Math.imul(_,le),a=a+Math.imul(N,Q)|0,t=Math.imul(N,le),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,ne)|0,a=a+Math.imul(n,A)|0,t=t+Math.imul(n,ne)|0,p=p+Math.imul(Pe,B)|0,a=a+Math.imul(Pe,se)|0,a=a+Math.imul(Fe,B)|0,t=t+Math.imul(Fe,se)|0,p=p+Math.imul(Oe,pe)|0,a=a+Math.imul(Oe,de)|0,a=a+Math.imul(Je,pe)|0,t=t+Math.imul(Je,de)|0,p=p+Math.imul(ge,ve)|0,a=a+Math.imul(ge,ye)|0,a=a+Math.imul(Ve,ve)|0,t=t+Math.imul(Ve,ye)|0,p=p+Math.imul(O,Te)|0,a=a+Math.imul(O,ke)|0,a=a+Math.imul(ae,Te)|0,t=t+Math.imul(ae,ke)|0,p=p+Math.imul(xe,Le)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(ze,Le)|0,t=t+Math.imul(ze,we)|0;var sa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(_,A),a=Math.imul(_,ne),a=a+Math.imul(N,A)|0,t=Math.imul(N,ne),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,se)|0,a=a+Math.imul(n,B)|0,t=t+Math.imul(n,se)|0,p=p+Math.imul(Pe,pe)|0,a=a+Math.imul(Pe,de)|0,a=a+Math.imul(Fe,pe)|0,t=t+Math.imul(Fe,de)|0,p=p+Math.imul(Oe,ve)|0,a=a+Math.imul(Oe,ye)|0,a=a+Math.imul(Je,ve)|0,t=t+Math.imul(Je,ye)|0,p=p+Math.imul(ge,Te)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(Ve,Te)|0,t=t+Math.imul(Ve,ke)|0,p=p+Math.imul(O,Le)|0,a=a+Math.imul(O,we)|0,a=a+Math.imul(ae,Le)|0,t=t+Math.imul(ae,we)|0;var na=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(_,B),a=Math.imul(_,se),a=a+Math.imul(N,B)|0,t=Math.imul(N,se),p=p+Math.imul(L,pe)|0,a=a+Math.imul(L,de)|0,a=a+Math.imul(n,pe)|0,t=t+Math.imul(n,de)|0,p=p+Math.imul(Pe,ve)|0,a=a+Math.imul(Pe,ye)|0,a=a+Math.imul(Fe,ve)|0,t=t+Math.imul(Fe,ye)|0,p=p+Math.imul(Oe,Te)|0,a=a+Math.imul(Oe,ke)|0,a=a+Math.imul(Je,Te)|0,t=t+Math.imul(Je,ke)|0,p=p+Math.imul(ge,Le)|0,a=a+Math.imul(ge,we)|0,a=a+Math.imul(Ve,Le)|0,t=t+Math.imul(Ve,we)|0;var ua=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,p=Math.imul(_,pe),a=Math.imul(_,de),a=a+Math.imul(N,pe)|0,t=Math.imul(N,de),p=p+Math.imul(L,ve)|0,a=a+Math.imul(L,ye)|0,a=a+Math.imul(n,ve)|0,t=t+Math.imul(n,ye)|0,p=p+Math.imul(Pe,Te)|0,a=a+Math.imul(Pe,ke)|0,a=a+Math.imul(Fe,Te)|0,t=t+Math.imul(Fe,ke)|0,p=p+Math.imul(Oe,Le)|0,a=a+Math.imul(Oe,we)|0,a=a+Math.imul(Je,Le)|0,t=t+Math.imul(Je,we)|0;var ma=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(_,ve),a=Math.imul(_,ye),a=a+Math.imul(N,ve)|0,t=Math.imul(N,ye),p=p+Math.imul(L,Te)|0,a=a+Math.imul(L,ke)|0,a=a+Math.imul(n,Te)|0,t=t+Math.imul(n,ke)|0,p=p+Math.imul(Pe,Le)|0,a=a+Math.imul(Pe,we)|0,a=a+Math.imul(Fe,Le)|0,t=t+Math.imul(Fe,we)|0;var _a=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(_,Te),a=Math.imul(_,ke),a=a+Math.imul(N,Te)|0,t=Math.imul(N,ke),p=p+Math.imul(L,Le)|0,a=a+Math.imul(L,we)|0,a=a+Math.imul(n,Le)|0,t=t+Math.imul(n,we)|0;var ia=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(_,Le),a=Math.imul(_,we),a=a+Math.imul(N,Le)|0,t=Math.imul(N,we);var la=(v+p|0)+((a&8191)<<13)|0;return v=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,h[0]=Ie,h[1]=Ke,h[2]=Ge,h[3]=Ce,h[4]=Ye,h[5]=Ae,h[6]=He,h[7]=ea,h[8]=Be,h[9]=ra,h[10]=aa,h[11]=oa,h[12]=sa,h[13]=na,h[14]=ua,h[15]=ma,h[16]=_a,h[17]=ia,h[18]=la,v!==0&&(h[19]=v,i.length++),i};Math.imul||(g=k);function X(e,o,i){i.negative=o.negative^e.negative,i.length=e.length+o.length;for(var s=0,m=0,h=0;h<i.length-1;h++){var v=m;m=0;for(var p=s&67108863,a=Math.min(h,o.length-1),t=Math.max(0,h-e.length+1);t<=a;t++){var F=h-t,w=e.words[F]|0,I=o.words[t]|0,he=w*I,qe=he&67108863;v=v+(he/67108864|0)|0,qe=qe+p|0,p=qe&67108863,v=v+(qe>>>26)|0,m+=v>>>26,v&=67108863}i.words[h]=p,s=v,v=m}return s!==0?i.words[h]=s:i.length--,i.strip()}function E(e,o,i){var s=new z;return s.mulp(e,o,i)}c.prototype.mulTo=function(e,o){var i,s=this.length+e.length;return this.length===10&&e.length===10?i=g(this,e,o):s<63?i=k(this,e,o):s<1024?i=X(this,e,o):i=E(this,e,o),i};function z(e,o){this.x=e,this.y=o}z.prototype.makeRBT=function(e){for(var o=new Array(e),i=c.prototype._countBits(e)-1,s=0;s<e;s++)o[s]=this.revBin(s,i,e);return o},z.prototype.revBin=function(e,o,i){if(e===0||e===i-1)return e;for(var s=0,m=0;m<o;m++)s|=(e&1)<<o-m-1,e>>=1;return s},z.prototype.permute=function(e,o,i,s,m,h){for(var v=0;v<h;v++)s[v]=o[e[v]],m[v]=i[e[v]]},z.prototype.transform=function(e,o,i,s,m,h){this.permute(h,e,o,i,s,m);for(var v=1;v<m;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),t=Math.sin(2*Math.PI/p),F=0;F<m;F+=p)for(var w=a,I=t,he=0;he<v;he++){var qe=i[F+he],Ze=s[F+he],ue=i[F+he+v],ie=s[F+he+v],fe=w*ue-I*ie;ie=w*ie+I*ue,ue=fe,i[F+he]=qe+ue,s[F+he]=Ze+ie,i[F+he+v]=qe-ue,s[F+he+v]=Ze-ie,he!==p&&(fe=a*w-t*I,I=a*I+t*w,w=fe)}},z.prototype.guessLen13b=function(e,o){var i=Math.max(o,e)|1,s=i&1,m=0;for(i=i/2|0;i;i=i>>>1)m++;return 1<<m+1+s},z.prototype.conjugate=function(e,o,i){if(!(i<=1))for(var s=0;s<i/2;s++){var m=e[s];e[s]=e[i-s-1],e[i-s-1]=m,m=o[s],o[s]=-o[i-s-1],o[i-s-1]=-m}},z.prototype.normalize13b=function(e,o){for(var i=0,s=0;s<o/2;s++){var m=Math.round(e[2*s+1]/o)*8192+Math.round(e[2*s]/o)+i;e[s]=m&67108863,m<67108864?i=0:i=m/67108864|0}return e},z.prototype.convert13b=function(e,o,i,s){for(var m=0,h=0;h<o;h++)m=m+(e[h]|0),i[2*h]=m&8191,m=m>>>13,i[2*h+1]=m&8191,m=m>>>13;for(h=2*o;h<s;++h)i[h]=0;f(m===0),f((m&-8192)===0)},z.prototype.stub=function(e){for(var o=new Array(e),i=0;i<e;i++)o[i]=0;return o},z.prototype.mulp=function(e,o,i){var s=2*this.guessLen13b(e.length,o.length),m=this.makeRBT(s),h=this.stub(s),v=new Array(s),p=new Array(s),a=new Array(s),t=new Array(s),F=new Array(s),w=new Array(s),I=i.words;I.length=s,this.convert13b(e.words,e.length,v,s),this.convert13b(o.words,o.length,t,s),this.transform(v,h,p,a,s,m),this.transform(t,h,F,w,s,m);for(var he=0;he<s;he++){var qe=p[he]*F[he]-a[he]*w[he];a[he]=p[he]*w[he]+a[he]*F[he],p[he]=qe}return this.conjugate(p,a,s),this.transform(p,a,I,h,s,m),this.conjugate(I,h,s),this.normalize13b(I,s),i.negative=e.negative^o.negative,i.length=e.length+o.length,i.strip()},c.prototype.mul=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},c.prototype.mulf=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),E(this,e,o)},c.prototype.imul=function(e){return this.clone().mulTo(e,this)},c.prototype.imuln=function(e){f(typeof e=="number"),f(e<67108864);for(var o=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*e,m=(s&67108863)+(o&67108863);o>>=26,o+=s/67108864|0,o+=m>>>26,this.words[i]=m&67108863}return o!==0&&(this.words[i]=o,this.length++),this},c.prototype.muln=function(e){return this.clone().imuln(e)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(e){var o=x(e);if(o.length===0)return new c(1);for(var i=this,s=0;s<o.length&&o[s]===0;s++,i=i.sqr());if(++s<o.length)for(var m=i.sqr();s<o.length;s++,m=m.sqr())o[s]!==0&&(i=i.mul(m));return i},c.prototype.iushln=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=67108863>>>26-o<<26-o,m;if(o!==0){var h=0;for(m=0;m<this.length;m++){var v=this.words[m]&s,p=(this.words[m]|0)-v<<o;this.words[m]=p|h,h=v>>>26-o}h&&(this.words[m]=h,this.length++)}if(i!==0){for(m=this.length-1;m>=0;m--)this.words[m+i]=this.words[m];for(m=0;m<i;m++)this.words[m]=0;this.length+=i}return this.strip()},c.prototype.ishln=function(e){return f(this.negative===0),this.iushln(e)},c.prototype.iushrn=function(e,o,i){f(typeof e=="number"&&e>=0);var s;o?s=(o-o%26)/26:s=0;var m=e%26,h=Math.min((e-m)/26,this.length),v=67108863^67108863>>>m<<m,p=i;if(s-=h,s=Math.max(0,s),p){for(var a=0;a<h;a++)p.words[a]=this.words[a];p.length=h}if(h!==0)if(this.length>h)for(this.length-=h,a=0;a<this.length;a++)this.words[a]=this.words[a+h];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var F=this.words[a]|0;this.words[a]=t<<26-m|F>>>m,t=F&v}return p&&t!==0&&(p.words[p.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(e,o,i){return f(this.negative===0),this.iushrn(e,o,i)},c.prototype.shln=function(e){return this.clone().ishln(e)},c.prototype.ushln=function(e){return this.clone().iushln(e)},c.prototype.shrn=function(e){return this.clone().ishrn(e)},c.prototype.ushrn=function(e){return this.clone().iushrn(e)},c.prototype.testn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return!1;var m=this.words[i];return!!(m&s)},c.prototype.imaskn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(o!==0&&i++,this.length=Math.min(i,this.length),o!==0){var s=67108863^67108863>>>o<<o;this.words[this.length-1]&=s}return this.strip()},c.prototype.maskn=function(e){return this.clone().imaskn(e)},c.prototype.iaddn=function(e){return f(typeof e=="number"),f(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},c.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},c.prototype.isubn=function(e){if(f(typeof e=="number"),f(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},c.prototype.addn=function(e){return this.clone().iaddn(e)},c.prototype.subn=function(e){return this.clone().isubn(e)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(e,o,i){var s=e.length+i,m;this._expand(s);var h,v=0;for(m=0;m<e.length;m++){h=(this.words[m+i]|0)+v;var p=(e.words[m]|0)*o;h-=p&67108863,v=(h>>26)-(p/67108864|0),this.words[m+i]=h&67108863}for(;m<this.length-i;m++)h=(this.words[m+i]|0)+v,v=h>>26,this.words[m+i]=h&67108863;if(v===0)return this.strip();for(f(v===-1),v=0,m=0;m<this.length;m++)h=-(this.words[m]|0)+v,v=h>>26,this.words[m]=h&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(e,o){var i=this.length-e.length,s=this.clone(),m=e,h=m.words[m.length-1]|0,v=this._countBits(h);i=26-v,i!==0&&(m=m.ushln(i),s.iushln(i),h=m.words[m.length-1]|0);var p=s.length-m.length,a;if(o!=="mod"){a=new c(null),a.length=p+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var F=s.clone()._ishlnsubmul(m,1,p);F.negative===0&&(s=F,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(s.words[m.length+w]|0)*67108864+(s.words[m.length+w-1]|0);for(I=Math.min(I/h|0,67108863),s._ishlnsubmul(m,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(m,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),o!=="div"&&i!==0&&s.iushrn(i),{div:a||null,mod:s}},c.prototype.divmod=function(e,o,i){if(f(!e.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var s,m,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,o),o!=="mod"&&(s=h.div.neg()),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.iadd(e)),{div:s,mod:m}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),o),o!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),o),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.isub(e)),{div:h.div,mod:m}):e.length>this.length||this.cmp(e)<0?{div:new c(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new c(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new c(this.modn(e.words[0]))}:this._wordDiv(e,o)},c.prototype.div=function(e){return this.divmod(e,"div",!1).div},c.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},c.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},c.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var i=o.div.negative!==0?o.mod.isub(e):o.mod,s=e.ushrn(1),m=e.andln(1),h=i.cmp(s);return h<0||m===1&&h===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},c.prototype.modn=function(e){f(e<=67108863);for(var o=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(o*i+(this.words[s]|0))%e;return i},c.prototype.idivn=function(e){f(e<=67108863);for(var o=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+o*67108864;this.words[i]=s/e|0,o=s%e}return this.strip()},c.prototype.divn=function(e){return this.clone().idivn(e)},c.prototype.egcd=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=new c(0),v=new c(1),p=0;o.isEven()&&i.isEven();)o.iushrn(1),i.iushrn(1),++p;for(var a=i.clone(),t=o.clone();!o.isZero();){for(var F=0,w=1;(o.words[0]&w)===0&&F<26;++F,w<<=1);if(F>0)for(o.iushrn(F);F-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var I=0,he=1;(i.words[0]&he)===0&&I<26;++I,he<<=1);if(I>0)for(i.iushrn(I);I-- >0;)(h.isOdd()||v.isOdd())&&(h.iadd(a),v.isub(t)),h.iushrn(1),v.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(h),m.isub(v)):(i.isub(o),h.isub(s),v.isub(m))}return{a:h,b:v,gcd:i.iushln(p)}},c.prototype._invmp=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=i.clone();o.cmpn(1)>0&&i.cmpn(1)>0;){for(var v=0,p=1;(o.words[0]&p)===0&&v<26;++v,p<<=1);if(v>0)for(o.iushrn(v);v-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var a=0,t=1;(i.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(i.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(h),m.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(m)):(i.isub(o),m.isub(s))}var F;return o.cmpn(1)===0?F=s:F=m,F.cmpn(0)<0&&F.iadd(e),F},c.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),i=e.clone();o.negative=0,i.negative=0;for(var s=0;o.isEven()&&i.isEven();s++)o.iushrn(1),i.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;i.isEven();)i.iushrn(1);var m=o.cmp(i);if(m<0){var h=o;o=i,i=h}else if(m===0||i.cmpn(1)===0)break;o.isub(i)}while(!0);return i.iushln(s)},c.prototype.invm=function(e){return this.egcd(e).a.umod(e)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(e){return this.words[0]&e},c.prototype.bincn=function(e){f(typeof e=="number");var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var m=s,h=i;m!==0&&h<this.length;h++){var v=this.words[h]|0;v+=m,m=v>>>26,v&=67108863,this.words[h]=v}return m!==0&&(this.words[h]=m,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var i;if(this.length>1)i=1;else{o&&(e=-e),f(e<=67108863,"Number is too big");var s=this.words[0]|0;i=s===e?0:s<e?-1:1}return this.negative!==0?-i|0:i},c.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},c.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,m=e.words[i]|0;if(s!==m){s<m?o=-1:s>m&&(o=1);break}}return o},c.prototype.gtn=function(e){return this.cmpn(e)===1},c.prototype.gt=function(e){return this.cmp(e)===1},c.prototype.gten=function(e){return this.cmpn(e)>=0},c.prototype.gte=function(e){return this.cmp(e)>=0},c.prototype.ltn=function(e){return this.cmpn(e)===-1},c.prototype.lt=function(e){return this.cmp(e)===-1},c.prototype.lten=function(e){return this.cmpn(e)<=0},c.prototype.lte=function(e){return this.cmp(e)<=0},c.prototype.eqn=function(e){return this.cmpn(e)===0},c.prototype.eq=function(e){return this.cmp(e)===0},c.red=function(e){return new me(e)},c.prototype.toRed=function(e){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},c.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(e){return this.red=e,this},c.prototype.forceRed=function(e){return f(!this.red,"Already a number in reduction context"),this._forceRed(e)},c.prototype.redAdd=function(e){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},c.prototype.redIAdd=function(e){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},c.prototype.redSub=function(e){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},c.prototype.redISub=function(e){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},c.prototype.redShl=function(e){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},c.prototype.redMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},c.prototype.redIMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},c.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(e){return f(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(e,o){this.name=e,this.p=new c(o,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var e=new c(null);return e.words=new Array(Math.ceil(this.n/13)),e},Y.prototype.ireduce=function(e){var o=e,i;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),i=o.bitLength();while(i>this.n);var s=i<this.n?-1:o.ucmp(this.p);return s===0?(o.words[0]=0,o.length=1):s>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},Y.prototype.split=function(e,o){e.iushrn(this.n,0,o)},Y.prototype.imulK=function(e){return e.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(e,o){for(var i=4194303,s=Math.min(e.length,9),m=0;m<s;m++)o.words[m]=e.words[m];if(o.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(o.words[o.length++]=h&i,m=10;m<e.length;m++){var v=e.words[m]|0;e.words[m-10]=(v&i)<<4|h>>>22,h=v}h>>>=22,e.words[m-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,i=0;i<e.length;i++){var s=e.words[i]|0;o+=s*977,e.words[i]=o&67108863,o=s*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function te(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(te,Y);function _e(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(_e,Y);function $e(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T($e,Y),$e.prototype.imulK=function(e){for(var o=0,i=0;i<e.length;i++){var s=(e.words[i]|0)*19+o,m=s&67108863;s>>>=26,e.words[i]=m,o=s}return o!==0&&(e.words[e.length++]=o),e},c._prime=function(e){if(K[e])return K[e];var o;if(e==="k256")o=new C;else if(e==="p224")o=new te;else if(e==="p192")o=new _e;else if(e==="p25519")o=new $e;else throw new Error("Unknown prime "+e);return K[e]=o,o};function me(e){if(typeof e=="string"){var o=c._prime(e);this.m=o.p,this.prime=o}else f(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}me.prototype._verify1=function(e){f(e.negative===0,"red works only with positives"),f(e.red,"red works only with red numbers")},me.prototype._verify2=function(e,o){f((e.negative|o.negative)===0,"red works only with positives"),f(e.red&&e.red===o.red,"red works only with red numbers")},me.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},me.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},me.prototype.add=function(e,o){this._verify2(e,o);var i=e.add(o);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},me.prototype.iadd=function(e,o){this._verify2(e,o);var i=e.iadd(o);return i.cmp(this.m)>=0&&i.isub(this.m),i},me.prototype.sub=function(e,o){this._verify2(e,o);var i=e.sub(o);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},me.prototype.isub=function(e,o){this._verify2(e,o);var i=e.isub(o);return i.cmpn(0)<0&&i.iadd(this.m),i},me.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},me.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},me.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},me.prototype.isqr=function(e){return this.imul(e,e.clone())},me.prototype.sqr=function(e){return this.mul(e,e)},me.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(f(o%2===1),o===3){var i=this.m.add(new c(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);f(!s.isZero());var h=new c(1).toRed(this),v=h.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new c(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var t=this.pow(a,s),F=this.pow(e,s.addn(1).iushrn(1)),w=this.pow(e,s),I=m;w.cmp(h)!==0;){for(var he=w,qe=0;he.cmp(h)!==0;qe++)he=he.redSqr();f(qe<I);var Ze=this.pow(t,new c(1).iushln(I-qe-1));F=F.redMul(Ze),t=Ze.redSqr(),w=w.redMul(t),I=qe}return F},me.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},me.prototype.pow=function(e,o){if(o.isZero())return new c(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var i=4,s=new Array(1<<i);s[0]=new c(1).toRed(this),s[1]=e;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],e);var h=s[0],v=0,p=0,a=o.bitLength()%26;for(a===0&&(a=26),m=o.length-1;m>=0;m--){for(var t=o.words[m],F=a-1;F>=0;F--){var w=t>>F&1;if(h!==s[0]&&(h=this.sqr(h)),w===0&&v===0){p=0;continue}v<<=1,v|=w,p++,!(p!==i&&(m!==0||F!==0))&&(h=this.mul(h,s[v]),p=0,v=0)}a=26}return h},me.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},me.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},c.mont=function(e){return new Me(e)};function Me(e){me.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Me,me),Me.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Me.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},Me.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new c(0)._forceRed(this);var i=e.mul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(typeof d>"u"||d,r)}),vl=je((r)=>{var d=r;function u(T,c){if(Array.isArray(T))return T.slice();if(!T)return[];var b=[];if(typeof T!="string"){for(var W=0;W<T.length;W++)b[W]=T[W]|0;return b}if(c==="hex"){T=T.replace(/[^a-z0-9]+/ig,""),T.length%2!==0&&(T="0"+T);for(var W=0;W<T.length;W+=2)b.push(parseInt(T[W]+T[W+1],16))}else for(var W=0;W<T.length;W++){var y=T.charCodeAt(W),q=y>>8,Z=y&255;q?b.push(q,Z):b.push(Z)}return b}d.toArray=u;function R(T){return T.length===1?"0"+T:T}d.zero2=R;function f(T){for(var c="",b=0;b<T.length;b++)c+=R(T[b].toString(16));return c}d.toHex=f,d.encode=function(T,c){return c==="hex"?f(T):T}}),Ja=je((r)=>{var d=r,u=on(),R=ja(),f=vl();d.assert=R,d.toArray=f.toArray,d.zero2=f.zero2,d.toHex=f.toHex,d.encode=f.encode;function T(q,Z,$){var V=new Array(Math.max(q.bitLength(),$)+1);V.fill(0);for(var x=1<<Z+1,k=q.clone(),g=0;g<V.length;g++){var X,E=k.andln(x-1);k.isOdd()?(E>(x>>1)-1?X=(x>>1)-E:X=E,k.isubn(X)):X=0,V[g]=X,k.iushrn(1)}return V}d.getNAF=T;function c(q,Z){var $=[[],[]];q=q.clone(),Z=Z.clone();for(var V=0,x=0,k;q.cmpn(-V)>0||Z.cmpn(-x)>0;){var g=q.andln(3)+V&3,X=Z.andln(3)+x&3;g===3&&(g=-1),X===3&&(X=-1);var E;(g&1)===0?E=0:(k=q.andln(7)+V&7,(k===3||k===5)&&X===2?E=-g:E=g),$[0].push(E);var z;(X&1)===0?z=0:(k=Z.andln(7)+x&7,(k===3||k===5)&&g===2?z=-X:z=X),$[1].push(z),2*V===E+1&&(V=1-V),2*x===z+1&&(x=1-x),q.iushrn(1),Z.iushrn(1)}return $}d.getJSF=c;function b(q,Z,$){var V="_"+Z;q.prototype[Z]=function(){return this[V]!==void 0?this[V]:this[V]=$.call(this)}}d.cachedProperty=b;function W(q){return typeof q=="string"?d.toArray(q,"hex"):q}d.parseBytes=W;function y(q){return new u(q,"hex","le")}d.intFromLE=y}),Yo=je((r,d)=>{var u=on(),R=Ja(),f=R.getNAF,T=R.getJSF,c=R.assert;function b(y,q){this.type=y,this.p=new u(q.p,16),this.red=q.prime?u.red(q.prime):u.mont(this.p),this.zero=new u(0).toRed(this.red),this.one=new u(1).toRed(this.red),this.two=new u(2).toRed(this.red),this.n=q.n&&new u(q.n,16),this.g=q.g&&this.pointFromJSON(q.g,q.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Z=this.n&&this.p.div(this.n);!Z||Z.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}d.exports=b,b.prototype.point=function(){throw new Error("Not implemented")},b.prototype.validate=function(){throw new Error("Not implemented")},b.prototype._fixedNafMul=function(y,q){c(y.precomputed);var Z=y._getDoubles(),$=f(q,1,this._bitLength),V=(1<<Z.step+1)-(Z.step%2===0?2:1);V/=3;var x=[],k,g;for(k=0;k<$.length;k+=Z.step){g=0;for(var X=k+Z.step-1;X>=k;X--)g=(g<<1)+$[X];x.push(g)}for(var E=this.jpoint(null,null,null),z=this.jpoint(null,null,null),K=V;K>0;K--){for(k=0;k<x.length;k++)g=x[k],g===K?z=z.mixedAdd(Z.points[k]):g===-K&&(z=z.mixedAdd(Z.points[k].neg()));E=E.add(z)}return E.toP()},b.prototype._wnafMul=function(y,q){var Z=4,$=y._getNAFPoints(Z);Z=$.wnd;for(var V=$.points,x=f(q,Z,this._bitLength),k=this.jpoint(null,null,null),g=x.length-1;g>=0;g--){for(var X=0;g>=0&&x[g]===0;g--)X++;if(g>=0&&X++,k=k.dblp(X),g<0)break;var E=x[g];c(E!==0),y.type==="affine"?E>0?k=k.mixedAdd(V[E-1>>1]):k=k.mixedAdd(V[-E-1>>1].neg()):E>0?k=k.add(V[E-1>>1]):k=k.add(V[-E-1>>1].neg())}return y.type==="affine"?k.toP():k},b.prototype._wnafMulAdd=function(y,q,Z,$,V){var x=this._wnafT1,k=this._wnafT2,g=this._wnafT3,X=0,E,z,K;for(E=0;E<$;E++){K=q[E];var Y=K._getNAFPoints(y);x[E]=Y.wnd,k[E]=Y.points}for(E=$-1;E>=1;E-=2){var C=E-1,te=E;if(x[C]!==1||x[te]!==1){g[C]=f(Z[C],x[C],this._bitLength),g[te]=f(Z[te],x[te],this._bitLength),X=Math.max(g[C].length,X),X=Math.max(g[te].length,X);continue}var _e=[q[C],null,null,q[te]];q[C].y.cmp(q[te].y)===0?(_e[1]=q[C].add(q[te]),_e[2]=q[C].toJ().mixedAdd(q[te].neg())):q[C].y.cmp(q[te].y.redNeg())===0?(_e[1]=q[C].toJ().mixedAdd(q[te]),_e[2]=q[C].add(q[te].neg())):(_e[1]=q[C].toJ().mixedAdd(q[te]),_e[2]=q[C].toJ().mixedAdd(q[te].neg()));var $e=[-3,-1,-5,-7,0,7,5,1,3],me=T(Z[C],Z[te]);for(X=Math.max(me[0].length,X),g[C]=new Array(X),g[te]=new Array(X),z=0;z<X;z++){var Me=me[0][z]|0,e=me[1][z]|0;g[C][z]=$e[(Me+1)*3+(e+1)],g[te][z]=0,k[C]=_e}}var o=this.jpoint(null,null,null),i=this._wnafT4;for(E=X;E>=0;E--){for(var s=0;E>=0;){var m=!0;for(z=0;z<$;z++)i[z]=g[z][E]|0,i[z]!==0&&(m=!1);if(!m)break;s++,E--}if(E>=0&&s++,o=o.dblp(s),E<0)break;for(z=0;z<$;z++){var h=i[z];h!==0&&(h>0?K=k[z][h-1>>1]:h<0&&(K=k[z][-h-1>>1].neg()),K.type==="affine"?o=o.mixedAdd(K):o=o.add(K))}}for(E=0;E<$;E++)k[E]=null;return V?o:o.toP()};function W(y,q){this.curve=y,this.type=q,this.precomputed=null}b.BasePoint=W,W.prototype.eq=function(){throw new Error("Not implemented")},W.prototype.validate=function(){return this.curve.validate(this)},b.prototype.decodePoint=function(y,q){y=R.toArray(y,q);var Z=this.p.byteLength();if((y[0]===4||y[0]===6||y[0]===7)&&y.length-1===2*Z){y[0]===6?c(y[y.length-1]%2===0):y[0]===7&&c(y[y.length-1]%2===1);var $=this.point(y.slice(1,1+Z),y.slice(1+Z,1+2*Z));return $}else if((y[0]===2||y[0]===3)&&y.length-1===Z)return this.pointFromX(y.slice(1,1+Z),y[0]===3);throw new Error("Unknown point format")},W.prototype.encodeCompressed=function(y){return this.encode(y,!0)},W.prototype._encode=function(y){var q=this.curve.p.byteLength(),Z=this.getX().toArray("be",q);return y?[this.getY().isEven()?2:3].concat(Z):[4].concat(Z,this.getY().toArray("be",q))},W.prototype.encode=function(y,q){return R.encode(this._encode(q),y)},W.prototype.precompute=function(y){if(this.precomputed)return this;var q={doubles:null,naf:null,beta:null};return q.naf=this._getNAFPoints(8),q.doubles=this._getDoubles(4,y),q.beta=this._getBeta(),this.precomputed=q,this},W.prototype._hasDoubles=function(y){if(!this.precomputed)return!1;var q=this.precomputed.doubles;return q?q.points.length>=Math.ceil((y.bitLength()+1)/q.step):!1},W.prototype._getDoubles=function(y,q){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Z=[this],$=this,V=0;V<q;V+=y){for(var x=0;x<y;x++)$=$.dbl();Z.push($)}return{step:y,points:Z}},W.prototype._getNAFPoints=function(y){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var q=[this],Z=(1<<y)-1,$=Z===1?null:this.dbl(),V=1;V<Z;V++)q[V]=q[V-1].add($);return{wnd:y,points:q}},W.prototype._getBeta=function(){return null},W.prototype.dblp=function(y){for(var q=this,Z=0;Z<y;Z++)q=q.dbl();return q}}),Jc=je((r,d)=>{var u=Ja(),R=on(),f=ta(),T=Yo(),c=u.assert;function b(q){T.call(this,"short",q),this.a=new R(q.a,16).toRed(this.red),this.b=new R(q.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(q),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}f(b,T),d.exports=b,b.prototype._getEndomorphism=function(q){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Z,$;if(q.beta)Z=new R(q.beta,16).toRed(this.red);else{var V=this._getEndoRoots(this.p);Z=V[0].cmp(V[1])<0?V[0]:V[1],Z=Z.toRed(this.red)}if(q.lambda)$=new R(q.lambda,16);else{var x=this._getEndoRoots(this.n);this.g.mul(x[0]).x.cmp(this.g.x.redMul(Z))===0?$=x[0]:($=x[1],c(this.g.mul($).x.cmp(this.g.x.redMul(Z))===0))}var k;return q.basis?k=q.basis.map(function(g){return{a:new R(g.a,16),b:new R(g.b,16)}}):k=this._getEndoBasis($),{beta:Z,lambda:$,basis:k}}},b.prototype._getEndoRoots=function(q){var Z=q===this.p?this.red:R.mont(q),$=new R(2).toRed(Z).redInvm(),V=$.redNeg(),x=new R(3).toRed(Z).redNeg().redSqrt().redMul($),k=V.redAdd(x).fromRed(),g=V.redSub(x).fromRed();return[k,g]},b.prototype._getEndoBasis=function(q){for(var Z=this.n.ushrn(Math.floor(this.n.bitLength()/2)),$=q,V=this.n.clone(),x=new R(1),k=new R(0),g=new R(0),X=new R(1),E,z,K,Y,C,te,_e,$e=0,me,Me;$.cmpn(0)!==0;){var e=V.div($);me=V.sub(e.mul($)),Me=g.sub(e.mul(x));var o=X.sub(e.mul(k));if(!K&&me.cmp(Z)<0)E=_e.neg(),z=x,K=me.neg(),Y=Me;else if(K&&++$e===2)break;_e=me,V=$,$=me,g=x,x=Me,X=k,k=o}C=me.neg(),te=Me;var i=K.sqr().add(Y.sqr()),s=C.sqr().add(te.sqr());return s.cmp(i)>=0&&(C=E,te=z),K.negative&&(K=K.neg(),Y=Y.neg()),C.negative&&(C=C.neg(),te=te.neg()),[{a:K,b:Y},{a:C,b:te}]},b.prototype._endoSplit=function(q){var Z=this.endo.basis,$=Z[0],V=Z[1],x=V.b.mul(q).divRound(this.n),k=$.b.neg().mul(q).divRound(this.n),g=x.mul($.a),X=k.mul(V.a),E=x.mul($.b),z=k.mul(V.b),K=q.sub(g).sub(X),Y=E.add(z).neg();return{k1:K,k2:Y}},b.prototype.pointFromX=function(q,Z){q=new R(q,16),q.red||(q=q.toRed(this.red));var $=q.redSqr().redMul(q).redIAdd(q.redMul(this.a)).redIAdd(this.b),V=$.redSqrt();if(V.redSqr().redSub($).cmp(this.zero)!==0)throw new Error("invalid point");var x=V.fromRed().isOdd();return(Z&&!x||!Z&&x)&&(V=V.redNeg()),this.point(q,V)},b.prototype.validate=function(q){if(q.inf)return!0;var{x:Z,y:$}=q,V=this.a.redMul(Z),x=Z.redSqr().redMul(Z).redIAdd(V).redIAdd(this.b);return $.redSqr().redISub(x).cmpn(0)===0},b.prototype._endoWnafMulAdd=function(q,Z,$){for(var V=this._endoWnafT1,x=this._endoWnafT2,k=0;k<q.length;k++){var g=this._endoSplit(Z[k]),X=q[k],E=X._getBeta();g.k1.negative&&(g.k1.ineg(),X=X.neg(!0)),g.k2.negative&&(g.k2.ineg(),E=E.neg(!0)),V[k*2]=X,V[k*2+1]=E,x[k*2]=g.k1,x[k*2+1]=g.k2}for(var z=this._wnafMulAdd(1,V,x,k*2,$),K=0;K<k*2;K++)V[K]=null,x[K]=null;return z};function W(q,Z,$,V){T.BasePoint.call(this,q,"affine"),Z===null&&$===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new R(Z,16),this.y=new R($,16),V&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}f(W,T.BasePoint),b.prototype.point=function(q,Z,$){return new W(this,q,Z,$)},b.prototype.pointFromJSON=function(q,Z){return W.fromJSON(this,q,Z)},W.prototype._getBeta=function(){if(this.curve.endo){var q=this.precomputed;if(q&&q.beta)return q.beta;var Z=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(q){var $=this.curve,V=function(x){return $.point(x.x.redMul($.endo.beta),x.y)};q.beta=Z,Z.precomputed={beta:null,naf:q.naf&&{wnd:q.naf.wnd,points:q.naf.points.map(V)},doubles:q.doubles&&{step:q.doubles.step,points:q.doubles.points.map(V)}}}return Z}},W.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},W.fromJSON=function(q,Z,$){typeof Z=="string"&&(Z=JSON.parse(Z));var V=q.point(Z[0],Z[1],$);if(!Z[2])return V;function x(g){return q.point(g[0],g[1],$)}var k=Z[2];return V.precomputed={beta:null,doubles:k.doubles&&{step:k.doubles.step,points:[V].concat(k.doubles.points.map(x))},naf:k.naf&&{wnd:k.naf.wnd,points:[V].concat(k.naf.points.map(x))}},V},W.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},W.prototype.isInfinity=function(){return this.inf},W.prototype.add=function(q){if(this.inf)return q;if(q.inf)return this;if(this.eq(q))return this.dbl();if(this.neg().eq(q))return this.curve.point(null,null);if(this.x.cmp(q.x)===0)return this.curve.point(null,null);var Z=this.y.redSub(q.y);Z.cmpn(0)!==0&&(Z=Z.redMul(this.x.redSub(q.x).redInvm()));var $=Z.redSqr().redISub(this.x).redISub(q.x),V=Z.redMul(this.x.redSub($)).redISub(this.y);return this.curve.point($,V)},W.prototype.dbl=function(){if(this.inf)return this;var q=this.y.redAdd(this.y);if(q.cmpn(0)===0)return this.curve.point(null,null);var Z=this.curve.a,$=this.x.redSqr(),V=q.redInvm(),x=$.redAdd($).redIAdd($).redIAdd(Z).redMul(V),k=x.redSqr().redISub(this.x.redAdd(this.x)),g=x.redMul(this.x.redSub(k)).redISub(this.y);return this.curve.point(k,g)},W.prototype.getX=function(){return this.x.fromRed()},W.prototype.getY=function(){return this.y.fromRed()},W.prototype.mul=function(q){return q=new R(q,16),this.isInfinity()?this:this._hasDoubles(q)?this.curve._fixedNafMul(this,q):this.curve.endo?this.curve._endoWnafMulAdd([this],[q]):this.curve._wnafMul(this,q)},W.prototype.mulAdd=function(q,Z,$){var V=[this,Z],x=[q,$];return this.curve.endo?this.curve._endoWnafMulAdd(V,x):this.curve._wnafMulAdd(1,V,x,2)},W.prototype.jmulAdd=function(q,Z,$){var V=[this,Z],x=[q,$];return this.curve.endo?this.curve._endoWnafMulAdd(V,x,!0):this.curve._wnafMulAdd(1,V,x,2,!0)},W.prototype.eq=function(q){return this===q||this.inf===q.inf&&(this.inf||this.x.cmp(q.x)===0&&this.y.cmp(q.y)===0)},W.prototype.neg=function(q){if(this.inf)return this;var Z=this.curve.point(this.x,this.y.redNeg());if(q&&this.precomputed){var $=this.precomputed,V=function(x){return x.neg()};Z.precomputed={naf:$.naf&&{wnd:$.naf.wnd,points:$.naf.points.map(V)},doubles:$.doubles&&{step:$.doubles.step,points:$.doubles.points.map(V)}}}return Z},W.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var q=this.curve.jpoint(this.x,this.y,this.curve.one);return q};function y(q,Z,$,V){T.BasePoint.call(this,q,"jacobian"),Z===null&&$===null&&V===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new R(0)):(this.x=new R(Z,16),this.y=new R($,16),this.z=new R(V,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}f(y,T.BasePoint),b.prototype.jpoint=function(q,Z,$){return new y(this,q,Z,$)},y.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var q=this.z.redInvm(),Z=q.redSqr(),$=this.x.redMul(Z),V=this.y.redMul(Z).redMul(q);return this.curve.point($,V)},y.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},y.prototype.add=function(q){if(this.isInfinity())return q;if(q.isInfinity())return this;var Z=q.z.redSqr(),$=this.z.redSqr(),V=this.x.redMul(Z),x=q.x.redMul($),k=this.y.redMul(Z.redMul(q.z)),g=q.y.redMul($.redMul(this.z)),X=V.redSub(x),E=k.redSub(g);if(X.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var z=X.redSqr(),K=z.redMul(X),Y=V.redMul(z),C=E.redSqr().redIAdd(K).redISub(Y).redISub(Y),te=E.redMul(Y.redISub(C)).redISub(k.redMul(K)),_e=this.z.redMul(q.z).redMul(X);return this.curve.jpoint(C,te,_e)},y.prototype.mixedAdd=function(q){if(this.isInfinity())return q.toJ();if(q.isInfinity())return this;var Z=this.z.redSqr(),$=this.x,V=q.x.redMul(Z),x=this.y,k=q.y.redMul(Z).redMul(this.z),g=$.redSub(V),X=x.redSub(k);if(g.cmpn(0)===0)return X.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=g.redSqr(),z=E.redMul(g),K=$.redMul(E),Y=X.redSqr().redIAdd(z).redISub(K).redISub(K),C=X.redMul(K.redISub(Y)).redISub(x.redMul(z)),te=this.z.redMul(g);return this.curve.jpoint(Y,C,te)},y.prototype.dblp=function(q){if(q===0)return this;if(this.isInfinity())return this;if(!q)return this.dbl();var Z;if(this.curve.zeroA||this.curve.threeA){var $=this;for(Z=0;Z<q;Z++)$=$.dbl();return $}var V=this.curve.a,x=this.curve.tinv,k=this.x,g=this.y,X=this.z,E=X.redSqr().redSqr(),z=g.redAdd(g);for(Z=0;Z<q;Z++){var K=k.redSqr(),Y=z.redSqr(),C=Y.redSqr(),te=K.redAdd(K).redIAdd(K).redIAdd(V.redMul(E)),_e=k.redMul(Y),$e=te.redSqr().redISub(_e.redAdd(_e)),me=_e.redISub($e),Me=te.redMul(me);Me=Me.redIAdd(Me).redISub(C);var e=z.redMul(X);Z+1<q&&(E=E.redMul(C)),k=$e,X=e,z=Me}return this.curve.jpoint(k,z.redMul(x),X)},y.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},y.prototype._zeroDbl=function(){var q,Z,$;if(this.zOne){var V=this.x.redSqr(),x=this.y.redSqr(),k=x.redSqr(),g=this.x.redAdd(x).redSqr().redISub(V).redISub(k);g=g.redIAdd(g);var X=V.redAdd(V).redIAdd(V),E=X.redSqr().redISub(g).redISub(g),z=k.redIAdd(k);z=z.redIAdd(z),z=z.redIAdd(z),q=E,Z=X.redMul(g.redISub(E)).redISub(z),$=this.y.redAdd(this.y)}else{var K=this.x.redSqr(),Y=this.y.redSqr(),C=Y.redSqr(),te=this.x.redAdd(Y).redSqr().redISub(K).redISub(C);te=te.redIAdd(te);var _e=K.redAdd(K).redIAdd(K),$e=_e.redSqr(),me=C.redIAdd(C);me=me.redIAdd(me),me=me.redIAdd(me),q=$e.redISub(te).redISub(te),Z=_e.redMul(te.redISub(q)).redISub(me),$=this.y.redMul(this.z),$=$.redIAdd($)}return this.curve.jpoint(q,Z,$)},y.prototype._threeDbl=function(){var q,Z,$;if(this.zOne){var V=this.x.redSqr(),x=this.y.redSqr(),k=x.redSqr(),g=this.x.redAdd(x).redSqr().redISub(V).redISub(k);g=g.redIAdd(g);var X=V.redAdd(V).redIAdd(V).redIAdd(this.curve.a),E=X.redSqr().redISub(g).redISub(g);q=E;var z=k.redIAdd(k);z=z.redIAdd(z),z=z.redIAdd(z),Z=X.redMul(g.redISub(E)).redISub(z),$=this.y.redAdd(this.y)}else{var K=this.z.redSqr(),Y=this.y.redSqr(),C=this.x.redMul(Y),te=this.x.redSub(K).redMul(this.x.redAdd(K));te=te.redAdd(te).redIAdd(te);var _e=C.redIAdd(C);_e=_e.redIAdd(_e);var $e=_e.redAdd(_e);q=te.redSqr().redISub($e),$=this.y.redAdd(this.z).redSqr().redISub(Y).redISub(K);var me=Y.redSqr();me=me.redIAdd(me),me=me.redIAdd(me),me=me.redIAdd(me),Z=te.redMul(_e.redISub(q)).redISub(me)}return this.curve.jpoint(q,Z,$)},y.prototype._dbl=function(){var q=this.curve.a,Z=this.x,$=this.y,V=this.z,x=V.redSqr().redSqr(),k=Z.redSqr(),g=$.redSqr(),X=k.redAdd(k).redIAdd(k).redIAdd(q.redMul(x)),E=Z.redAdd(Z);E=E.redIAdd(E);var z=E.redMul(g),K=X.redSqr().redISub(z.redAdd(z)),Y=z.redISub(K),C=g.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var te=X.redMul(Y).redISub(C),_e=$.redAdd($).redMul(V);return this.curve.jpoint(K,te,_e)},y.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var q=this.x.redSqr(),Z=this.y.redSqr(),$=this.z.redSqr(),V=Z.redSqr(),x=q.redAdd(q).redIAdd(q),k=x.redSqr(),g=this.x.redAdd(Z).redSqr().redISub(q).redISub(V);g=g.redIAdd(g),g=g.redAdd(g).redIAdd(g),g=g.redISub(k);var X=g.redSqr(),E=V.redIAdd(V);E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var z=x.redIAdd(g).redSqr().redISub(k).redISub(X).redISub(E),K=Z.redMul(z);K=K.redIAdd(K),K=K.redIAdd(K);var Y=this.x.redMul(X).redISub(K);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var C=this.y.redMul(z.redMul(E.redISub(z)).redISub(g.redMul(X)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var te=this.z.redAdd(g).redSqr().redISub($).redISub(X);return this.curve.jpoint(Y,C,te)},y.prototype.mul=function(q,Z){return q=new R(q,Z),this.curve._wnafMul(this,q)},y.prototype.eq=function(q){if(q.type==="affine")return this.eq(q.toJ());if(this===q)return!0;var Z=this.z.redSqr(),$=q.z.redSqr();if(this.x.redMul($).redISub(q.x.redMul(Z)).cmpn(0)!==0)return!1;var V=Z.redMul(this.z),x=$.redMul(q.z);return this.y.redMul(x).redISub(q.y.redMul(V)).cmpn(0)===0},y.prototype.eqXToP=function(q){var Z=this.z.redSqr(),$=q.toRed(this.curve.red).redMul(Z);if(this.x.cmp($)===0)return!0;for(var V=q.clone(),x=this.curve.redN.redMul(Z);;){if(V.iadd(this.curve.n),V.cmp(this.curve.p)>=0)return!1;if($.redIAdd(x),this.x.cmp($)===0)return!0}},y.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},y.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),Pc=je((r,d)=>{var u=on(),R=ta(),f=Yo(),T=Ja();function c(W){f.call(this,"mont",W),this.a=new u(W.a,16).toRed(this.red),this.b=new u(W.b,16).toRed(this.red),this.i4=new u(4).toRed(this.red).redInvm(),this.two=new u(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}R(c,f),d.exports=c,c.prototype.validate=function(W){var y=W.normalize().x,q=y.redSqr(),Z=q.redMul(y).redAdd(q.redMul(this.a)).redAdd(y),$=Z.redSqrt();return $.redSqr().cmp(Z)===0};function b(W,y,q){f.BasePoint.call(this,W,"projective"),y===null&&q===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new u(y,16),this.z=new u(q,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}R(b,f.BasePoint),c.prototype.decodePoint=function(W,y){return this.point(T.toArray(W,y),1)},c.prototype.point=function(W,y){return new b(this,W,y)},c.prototype.pointFromJSON=function(W){return b.fromJSON(this,W)},b.prototype.precompute=function(){},b.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},b.fromJSON=function(W,y){return new b(W,y[0],y[1]||W.one)},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return this.z.cmpn(0)===0},b.prototype.dbl=function(){var W=this.x.redAdd(this.z),y=W.redSqr(),q=this.x.redSub(this.z),Z=q.redSqr(),$=y.redSub(Z),V=y.redMul(Z),x=$.redMul(Z.redAdd(this.curve.a24.redMul($)));return this.curve.point(V,x)},b.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},b.prototype.diffAdd=function(W,y){var q=this.x.redAdd(this.z),Z=this.x.redSub(this.z),$=W.x.redAdd(W.z),V=W.x.redSub(W.z),x=V.redMul(q),k=$.redMul(Z),g=y.z.redMul(x.redAdd(k).redSqr()),X=y.x.redMul(x.redISub(k).redSqr());return this.curve.point(g,X)},b.prototype.mul=function(W){for(var y=W.clone(),q=this,Z=this.curve.point(null,null),$=this,V=[];y.cmpn(0)!==0;y.iushrn(1))V.push(y.andln(1));for(var x=V.length-1;x>=0;x--)V[x]===0?(q=q.diffAdd(Z,$),Z=Z.dbl()):(Z=q.diffAdd(Z,$),q=q.dbl());return Z},b.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},b.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},b.prototype.eq=function(W){return this.getX().cmp(W.getX())===0},b.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},b.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),Kc=je((r,d)=>{var u=Ja(),R=on(),f=ta(),T=Yo(),c=u.assert;function b(y){this.twisted=(y.a|0)!==1,this.mOneA=this.twisted&&(y.a|0)===-1,this.extended=this.mOneA,T.call(this,"edwards",y),this.a=new R(y.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new R(y.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new R(y.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(y.c|0)===1}f(b,T),d.exports=b,b.prototype._mulA=function(y){return this.mOneA?y.redNeg():this.a.redMul(y)},b.prototype._mulC=function(y){return this.oneC?y:this.c.redMul(y)},b.prototype.jpoint=function(y,q,Z,$){return this.point(y,q,Z,$)},b.prototype.pointFromX=function(y,q){y=new R(y,16),y.red||(y=y.toRed(this.red));var Z=y.redSqr(),$=this.c2.redSub(this.a.redMul(Z)),V=this.one.redSub(this.c2.redMul(this.d).redMul(Z)),x=$.redMul(V.redInvm()),k=x.redSqrt();if(k.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var g=k.fromRed().isOdd();return(q&&!g||!q&&g)&&(k=k.redNeg()),this.point(y,k)},b.prototype.pointFromY=function(y,q){y=new R(y,16),y.red||(y=y.toRed(this.red));var Z=y.redSqr(),$=Z.redSub(this.c2),V=Z.redMul(this.d).redMul(this.c2).redSub(this.a),x=$.redMul(V.redInvm());if(x.cmp(this.zero)===0){if(q)throw new Error("invalid point");return this.point(this.zero,y)}var k=x.redSqrt();if(k.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");return k.fromRed().isOdd()!==q&&(k=k.redNeg()),this.point(k,y)},b.prototype.validate=function(y){if(y.isInfinity())return!0;y.normalize();var q=y.x.redSqr(),Z=y.y.redSqr(),$=q.redMul(this.a).redAdd(Z),V=this.c2.redMul(this.one.redAdd(this.d.redMul(q).redMul(Z)));return $.cmp(V)===0};function W(y,q,Z,$,V){T.BasePoint.call(this,y,"projective"),q===null&&Z===null&&$===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new R(q,16),this.y=new R(Z,16),this.z=$?new R($,16):this.curve.one,this.t=V&&new R(V,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}f(W,T.BasePoint),b.prototype.pointFromJSON=function(y){return W.fromJSON(this,y)},b.prototype.point=function(y,q,Z,$){return new W(this,y,q,Z,$)},W.fromJSON=function(y,q){return new W(y,q[0],q[1],q[2])},W.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},W.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},W.prototype._extDbl=function(){var y=this.x.redSqr(),q=this.y.redSqr(),Z=this.z.redSqr();Z=Z.redIAdd(Z);var $=this.curve._mulA(y),V=this.x.redAdd(this.y).redSqr().redISub(y).redISub(q),x=$.redAdd(q),k=x.redSub(Z),g=$.redSub(q),X=V.redMul(k),E=x.redMul(g),z=V.redMul(g),K=k.redMul(x);return this.curve.point(X,E,K,z)},W.prototype._projDbl=function(){var y=this.x.redAdd(this.y).redSqr(),q=this.x.redSqr(),Z=this.y.redSqr(),$,V,x,k,g,X;if(this.curve.twisted){k=this.curve._mulA(q);var E=k.redAdd(Z);this.zOne?($=y.redSub(q).redSub(Z).redMul(E.redSub(this.curve.two)),V=E.redMul(k.redSub(Z)),x=E.redSqr().redSub(E).redSub(E)):(g=this.z.redSqr(),X=E.redSub(g).redISub(g),$=y.redSub(q).redISub(Z).redMul(X),V=E.redMul(k.redSub(Z)),x=E.redMul(X))}else k=q.redAdd(Z),g=this.curve._mulC(this.z).redSqr(),X=k.redSub(g).redSub(g),$=this.curve._mulC(y.redISub(k)).redMul(X),V=this.curve._mulC(k).redMul(q.redISub(Z)),x=k.redMul(X);return this.curve.point($,V,x)},W.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},W.prototype._extAdd=function(y){var q=this.y.redSub(this.x).redMul(y.y.redSub(y.x)),Z=this.y.redAdd(this.x).redMul(y.y.redAdd(y.x)),$=this.t.redMul(this.curve.dd).redMul(y.t),V=this.z.redMul(y.z.redAdd(y.z)),x=Z.redSub(q),k=V.redSub($),g=V.redAdd($),X=Z.redAdd(q),E=x.redMul(k),z=g.redMul(X),K=x.redMul(X),Y=k.redMul(g);return this.curve.point(E,z,Y,K)},W.prototype._projAdd=function(y){var q=this.z.redMul(y.z),Z=q.redSqr(),$=this.x.redMul(y.x),V=this.y.redMul(y.y),x=this.curve.d.redMul($).redMul(V),k=Z.redSub(x),g=Z.redAdd(x),X=this.x.redAdd(this.y).redMul(y.x.redAdd(y.y)).redISub($).redISub(V),E=q.redMul(k).redMul(X),z,K;return this.curve.twisted?(z=q.redMul(g).redMul(V.redSub(this.curve._mulA($))),K=k.redMul(g)):(z=q.redMul(g).redMul(V.redSub($)),K=this.curve._mulC(k).redMul(g)),this.curve.point(E,z,K)},W.prototype.add=function(y){return this.isInfinity()?y:y.isInfinity()?this:this.curve.extended?this._extAdd(y):this._projAdd(y)},W.prototype.mul=function(y){return this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve._wnafMul(this,y)},W.prototype.mulAdd=function(y,q,Z){return this.curve._wnafMulAdd(1,[this,q],[y,Z],2,!1)},W.prototype.jmulAdd=function(y,q,Z){return this.curve._wnafMulAdd(1,[this,q],[y,Z],2,!0)},W.prototype.normalize=function(){if(this.zOne)return this;var y=this.z.redInvm();return this.x=this.x.redMul(y),this.y=this.y.redMul(y),this.t&&(this.t=this.t.redMul(y)),this.z=this.curve.one,this.zOne=!0,this},W.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},W.prototype.getX=function(){return this.normalize(),this.x.fromRed()},W.prototype.getY=function(){return this.normalize(),this.y.fromRed()},W.prototype.eq=function(y){return this===y||this.getX().cmp(y.getX())===0&&this.getY().cmp(y.getY())===0},W.prototype.eqXToP=function(y){var q=y.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(q)===0)return!0;for(var Z=y.clone(),$=this.curve.redN.redMul(this.z);;){if(Z.iadd(this.curve.n),Z.cmp(this.curve.p)>=0)return!1;if(q.redIAdd($),this.x.cmp(q)===0)return!0}},W.prototype.toP=W.prototype.normalize,W.prototype.mixedAdd=W.prototype.add}),Nl=je((r)=>{var d=r;d.base=Yo(),d.short=Jc(),d.mont=Pc(),d.edwards=Kc()}),Qa=je((r)=>{var d=ja(),u=ta();r.inherits=u;function R(o,i){return(o.charCodeAt(i)&64512)!==55296||i<0||i+1>=o.length?!1:(o.charCodeAt(i+1)&64512)===56320}function f(o,i){if(Array.isArray(o))return o.slice();if(!o)return[];var s=[];if(typeof o=="string")if(i){if(i==="hex")for(o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o),h=0;h<o.length;h+=2)s.push(parseInt(o[h]+o[h+1],16))}else for(var m=0,h=0;h<o.length;h++){var v=o.charCodeAt(h);v<128?s[m++]=v:v<2048?(s[m++]=v>>6|192,s[m++]=v&63|128):R(o,h)?(v=65536+((v&1023)<<10)+(o.charCodeAt(++h)&1023),s[m++]=v>>18|240,s[m++]=v>>12&63|128,s[m++]=v>>6&63|128,s[m++]=v&63|128):(s[m++]=v>>12|224,s[m++]=v>>6&63|128,s[m++]=v&63|128)}else for(h=0;h<o.length;h++)s[h]=o[h]|0;return s}r.toArray=f;function T(o){for(var i="",s=0;s<o.length;s++)i+=W(o[s].toString(16));return i}r.toHex=T;function c(o){var i=o>>>24|o>>>8&65280|o<<8&16711680|(o&255)<<24;return i>>>0}r.htonl=c;function b(o,i){for(var s="",m=0;m<o.length;m++){var h=o[m];i==="little"&&(h=c(h)),s+=y(h.toString(16))}return s}r.toHex32=b;function W(o){return o.length===1?"0"+o:o}r.zero2=W;function y(o){return o.length===7?"0"+o:o.length===6?"00"+o:o.length===5?"000"+o:o.length===4?"0000"+o:o.length===3?"00000"+o:o.length===2?"000000"+o:o.length===1?"0000000"+o:o}r.zero8=y;function q(o,i,s,m){var h=s-i;d(h%4===0);for(var v=new Array(h/4),p=0,a=i;p<v.length;p++,a+=4){var t;m==="big"?t=o[a]<<24|o[a+1]<<16|o[a+2]<<8|o[a+3]:t=o[a+3]<<24|o[a+2]<<16|o[a+1]<<8|o[a],v[p]=t>>>0}return v}r.join32=q;function Z(o,i){for(var s=new Array(o.length*4),m=0,h=0;m<o.length;m++,h+=4){var v=o[m];i==="big"?(s[h]=v>>>24,s[h+1]=v>>>16&255,s[h+2]=v>>>8&255,s[h+3]=v&255):(s[h+3]=v>>>24,s[h+2]=v>>>16&255,s[h+1]=v>>>8&255,s[h]=v&255)}return s}r.split32=Z;function $(o,i){return o>>>i|o<<32-i}r.rotr32=$;function V(o,i){return o<<i|o>>>32-i}r.rotl32=V;function x(o,i){return o+i>>>0}r.sum32=x;function k(o,i,s){return o+i+s>>>0}r.sum32_3=k;function g(o,i,s,m){return o+i+s+m>>>0}r.sum32_4=g;function X(o,i,s,m,h){return o+i+s+m+h>>>0}r.sum32_5=X;function E(o,i,s,m){var h=o[i],v=o[i+1],p=m+v>>>0,a=(p<m?1:0)+s+h;o[i]=a>>>0,o[i+1]=p}r.sum64=E;function z(o,i,s,m){var h=i+m>>>0,v=(h<i?1:0)+o+s;return v>>>0}r.sum64_hi=z;function K(o,i,s,m){var h=i+m;return h>>>0}r.sum64_lo=K;function Y(o,i,s,m,h,v,p,a){var t=0,F=i;F=F+m>>>0,t+=F<i?1:0,F=F+v>>>0,t+=F<v?1:0,F=F+a>>>0,t+=F<a?1:0;var w=o+s+h+p+t;return w>>>0}r.sum64_4_hi=Y;function C(o,i,s,m,h,v,p,a){var t=i+m+v+a;return t>>>0}r.sum64_4_lo=C;function te(o,i,s,m,h,v,p,a,t,F){var w=0,I=i;I=I+m>>>0,w+=I<i?1:0,I=I+v>>>0,w+=I<v?1:0,I=I+a>>>0,w+=I<a?1:0,I=I+F>>>0,w+=I<F?1:0;var he=o+s+h+p+t+w;return he>>>0}r.sum64_5_hi=te;function _e(o,i,s,m,h,v,p,a,t,F){var w=i+m+v+a+F;return w>>>0}r.sum64_5_lo=_e;function $e(o,i,s){var m=i<<32-s|o>>>s;return m>>>0}r.rotr64_hi=$e;function me(o,i,s){var m=o<<32-s|i>>>s;return m>>>0}r.rotr64_lo=me;function Me(o,i,s){return o>>>s}r.shr64_hi=Me;function e(o,i,s){var m=o<<32-s|i>>>s;return m>>>0}r.shr64_lo=e}),po=je((r)=>{var d=Qa(),u=ja();function R(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=R,R.prototype.update=function(f,T){if(f=d.toArray(f,T),this.pending?this.pending=this.pending.concat(f):this.pending=f,this.pendingTotal+=f.length,this.pending.length>=this._delta8){f=this.pending;var c=f.length%this._delta8;this.pending=f.slice(f.length-c,f.length),this.pending.length===0&&(this.pending=null),f=d.join32(f,0,f.length-c,this.endian);for(var b=0;b<f.length;b+=this._delta32)this._update(f,b,b+this._delta32)}return this},R.prototype.digest=function(f){return this.update(this._pad()),u(this.pending===null),this._digest(f)},R.prototype._pad=function(){var f=this.pendingTotal,T=this._delta8,c=T-(f+this.padLength)%T,b=new Array(c+this.padLength);b[0]=128;for(var W=1;W<c;W++)b[W]=0;if(f<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)b[W++]=0;b[W++]=0,b[W++]=0,b[W++]=0,b[W++]=0,b[W++]=f>>>24&255,b[W++]=f>>>16&255,b[W++]=f>>>8&255,b[W++]=f&255}else for(b[W++]=f&255,b[W++]=f>>>8&255,b[W++]=f>>>16&255,b[W++]=f>>>24&255,b[W++]=0,b[W++]=0,b[W++]=0,b[W++]=0,y=8;y<this.padLength;y++)b[W++]=0;return b}}),Rl=je((r)=>{var d=Qa(),u=d.rotr32;function R(Z,$,V,x){if(Z===0)return f($,V,x);if(Z===1||Z===3)return c($,V,x);if(Z===2)return T($,V,x)}r.ft_1=R;function f(Z,$,V){return Z&$^~Z&V}r.ch32=f;function T(Z,$,V){return Z&$^Z&V^$&V}r.maj32=T;function c(Z,$,V){return Z^$^V}r.p32=c;function b(Z){return u(Z,2)^u(Z,13)^u(Z,22)}r.s0_256=b;function W(Z){return u(Z,6)^u(Z,11)^u(Z,25)}r.s1_256=W;function y(Z){return u(Z,7)^u(Z,18)^Z>>>3}r.g0_256=y;function q(Z){return u(Z,17)^u(Z,19)^Z>>>10}r.g1_256=q}),Ic=je((r,d)=>{var u=Qa(),R=po(),f=Rl(),T=u.rotl32,c=u.sum32,b=u.sum32_5,W=f.ft_1,y=R.BlockHash,q=[1518500249,1859775393,2400959708,3395469782];function Z(){if(!(this instanceof Z))return new Z;y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}u.inherits(Z,y),d.exports=Z,Z.blockSize=512,Z.outSize=160,Z.hmacStrength=80,Z.padLength=64,Z.prototype._update=function($,V){for(var x=this.W,k=0;k<16;k++)x[k]=$[V+k];for(;k<x.length;k++)x[k]=T(x[k-3]^x[k-8]^x[k-14]^x[k-16],1);var g=this.h[0],X=this.h[1],E=this.h[2],z=this.h[3],K=this.h[4];for(k=0;k<x.length;k++){var Y=~~(k/20),C=b(T(g,5),W(Y,X,E,z),K,x[k],q[Y]);K=z,z=E,E=T(X,30),X=g,g=C}this.h[0]=c(this.h[0],g),this.h[1]=c(this.h[1],X),this.h[2]=c(this.h[2],E),this.h[3]=c(this.h[3],z),this.h[4]=c(this.h[4],K)},Z.prototype._digest=function($){return $==="hex"?u.toHex32(this.h,"big"):u.split32(this.h,"big")}}),Zl=je((r,d)=>{var u=Qa(),R=po(),f=Rl(),T=ja(),c=u.sum32,b=u.sum32_4,W=u.sum32_5,y=f.ch32,q=f.maj32,Z=f.s0_256,$=f.s1_256,V=f.g0_256,x=f.g1_256,k=R.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function X(){if(!(this instanceof X))return new X;k.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}u.inherits(X,k),d.exports=X,X.blockSize=512,X.outSize=256,X.hmacStrength=192,X.padLength=64,X.prototype._update=function(E,z){for(var K=this.W,Y=0;Y<16;Y++)K[Y]=E[z+Y];for(;Y<K.length;Y++)K[Y]=b(x(K[Y-2]),K[Y-7],V(K[Y-15]),K[Y-16]);var C=this.h[0],te=this.h[1],_e=this.h[2],$e=this.h[3],me=this.h[4],Me=this.h[5],e=this.h[6],o=this.h[7];for(T(this.k.length===K.length),Y=0;Y<K.length;Y++){var i=W(o,$(me),y(me,Me,e),this.k[Y],K[Y]),s=c(Z(C),q(C,te,_e));o=e,e=Me,Me=me,me=c($e,i),$e=_e,_e=te,te=C,C=c(i,s)}this.h[0]=c(this.h[0],C),this.h[1]=c(this.h[1],te),this.h[2]=c(this.h[2],_e),this.h[3]=c(this.h[3],$e),this.h[4]=c(this.h[4],me),this.h[5]=c(this.h[5],Me),this.h[6]=c(this.h[6],e),this.h[7]=c(this.h[7],o)},X.prototype._digest=function(E){return E==="hex"?u.toHex32(this.h,"big"):u.split32(this.h,"big")}}),Gc=je((r,d)=>{var u=Qa(),R=Zl();function f(){if(!(this instanceof f))return new f;R.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}u.inherits(f,R),d.exports=f,f.blockSize=512,f.outSize=224,f.hmacStrength=192,f.padLength=64,f.prototype._digest=function(T){return T==="hex"?u.toHex32(this.h.slice(0,7),"big"):u.split32(this.h.slice(0,7),"big")}}),yl=je((r,d)=>{var u=Qa(),R=po(),f=ja(),T=u.rotr64_hi,c=u.rotr64_lo,b=u.shr64_hi,W=u.shr64_lo,y=u.sum64,q=u.sum64_hi,Z=u.sum64_lo,$=u.sum64_4_hi,V=u.sum64_4_lo,x=u.sum64_5_hi,k=u.sum64_5_lo,g=R.BlockHash,X=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=X,this.W=new Array(160)}u.inherits(E,g),d.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(s,m){for(var h=this.W,v=0;v<32;v++)h[v]=s[m+v];for(;v<h.length;v+=2){var p=o(h[v-4],h[v-3]),a=i(h[v-4],h[v-3]),t=h[v-14],F=h[v-13],w=Me(h[v-30],h[v-29]),I=e(h[v-30],h[v-29]),he=h[v-32],qe=h[v-31];h[v]=$(p,a,t,F,w,I,he,qe),h[v+1]=V(p,a,t,F,w,I,he,qe)}},E.prototype._update=function(s,m){this._prepareBlock(s,m);var h=this.W,v=this.h[0],p=this.h[1],a=this.h[2],t=this.h[3],F=this.h[4],w=this.h[5],I=this.h[6],he=this.h[7],qe=this.h[8],Ze=this.h[9],ue=this.h[10],ie=this.h[11],fe=this.h[12],Ee=this.h[13],xe=this.h[14],ze=this.h[15];f(this.k.length===h.length);for(var D=0;D<h.length;D+=2){var O=xe,ae=ze,We=$e(qe,Ze),ge=me(qe,Ze),Ve=z(qe,Ze,ue,ie,fe,Ee),De=K(qe,Ze,ue,ie,fe,Ee),Oe=this.k[D],Je=this.k[D+1],Qe=h[D],Pe=h[D+1],Fe=x(O,ae,We,ge,Ve,De,Oe,Je,Qe,Pe),pa=k(O,ae,We,ge,Ve,De,Oe,Je,Qe,Pe);O=te(v,p),ae=_e(v,p),We=Y(v,p,a,t,F,w),ge=C(v,p,a,t,F,w);var L=q(O,ae,We,ge),n=Z(O,ae,We,ge);xe=fe,ze=Ee,fe=ue,Ee=ie,ue=qe,ie=Ze,qe=q(I,he,Fe,pa),Ze=Z(he,he,Fe,pa),I=F,he=w,F=a,w=t,a=v,t=p,v=q(Fe,pa,L,n),p=Z(Fe,pa,L,n)}y(this.h,0,v,p),y(this.h,2,a,t),y(this.h,4,F,w),y(this.h,6,I,he),y(this.h,8,qe,Ze),y(this.h,10,ue,ie),y(this.h,12,fe,Ee),y(this.h,14,xe,ze)},E.prototype._digest=function(s){return s==="hex"?u.toHex32(this.h,"big"):u.split32(this.h,"big")};function z(s,m,h,v,p){var a=s&h^~s&p;return a<0&&(a+=4294967296),a}function K(s,m,h,v,p,a){var t=m&v^~m&a;return t<0&&(t+=4294967296),t}function Y(s,m,h,v,p){var a=s&h^s&p^h&p;return a<0&&(a+=4294967296),a}function C(s,m,h,v,p,a){var t=m&v^m&a^v&a;return t<0&&(t+=4294967296),t}function te(s,m){var h=T(s,m,28),v=T(m,s,2),p=T(m,s,7),a=h^v^p;return a<0&&(a+=4294967296),a}function _e(s,m){var h=c(s,m,28),v=c(m,s,2),p=c(m,s,7),a=h^v^p;return a<0&&(a+=4294967296),a}function $e(s,m){var h=T(s,m,14),v=T(s,m,18),p=T(m,s,9),a=h^v^p;return a<0&&(a+=4294967296),a}function me(s,m){var h=c(s,m,14),v=c(s,m,18),p=c(m,s,9),a=h^v^p;return a<0&&(a+=4294967296),a}function Me(s,m){var h=T(s,m,1),v=T(s,m,8),p=b(s,m,7),a=h^v^p;return a<0&&(a+=4294967296),a}function e(s,m){var h=c(s,m,1),v=c(s,m,8),p=W(s,m,7),a=h^v^p;return a<0&&(a+=4294967296),a}function o(s,m){var h=T(s,m,19),v=T(m,s,29),p=b(s,m,6),a=h^v^p;return a<0&&(a+=4294967296),a}function i(s,m){var h=c(s,m,19),v=c(m,s,29),p=W(s,m,6),a=h^v^p;return a<0&&(a+=4294967296),a}}),Dc=je((r,d)=>{var u=Qa(),R=yl();function f(){if(!(this instanceof f))return new f;R.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}u.inherits(f,R),d.exports=f,f.blockSize=1024,f.outSize=384,f.hmacStrength=192,f.padLength=128,f.prototype._digest=function(T){return T==="hex"?u.toHex32(this.h.slice(0,12),"big"):u.split32(this.h.slice(0,12),"big")}}),Hc=je((r)=>{r.sha1=Ic(),r.sha224=Gc(),r.sha256=Zl(),r.sha384=Dc(),r.sha512=yl()}),Yc=je((r)=>{var d=Qa(),u=po(),R=d.rotl32,f=d.sum32,T=d.sum32_3,c=d.sum32_4,b=u.BlockHash;function W(){if(!(this instanceof W))return new W;b.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}d.inherits(W,b),r.ripemd160=W,W.blockSize=512,W.outSize=160,W.hmacStrength=192,W.padLength=64,W.prototype._update=function(g,X){for(var E=this.h[0],z=this.h[1],K=this.h[2],Y=this.h[3],C=this.h[4],te=E,_e=z,$e=K,me=Y,Me=C,e=0;e<80;e++){var o=f(R(c(E,y(e,z,K,Y),g[$[e]+X],q(e)),x[e]),C);E=C,C=Y,Y=R(K,10),K=z,z=o,o=f(R(c(te,y(79-e,_e,$e,me),g[V[e]+X],Z(e)),k[e]),Me),te=Me,Me=me,me=R($e,10),$e=_e,_e=o}o=T(this.h[1],K,me),this.h[1]=T(this.h[2],Y,Me),this.h[2]=T(this.h[3],C,te),this.h[3]=T(this.h[4],E,_e),this.h[4]=T(this.h[0],z,$e),this.h[0]=o},W.prototype._digest=function(g){return g==="hex"?d.toHex32(this.h,"little"):d.split32(this.h,"little")};function y(g,X,E,z){return g<=15?X^E^z:g<=31?X&E|~X&z:g<=47?(X|~E)^z:g<=63?X&z|E&~z:X^(E|~z)}function q(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function Z(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var $=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],V=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),Bc=je((r,d)=>{var u=Qa(),R=ja();function f(T,c,b){if(!(this instanceof f))return new f(T,c,b);this.Hash=T,this.blockSize=T.blockSize/8,this.outSize=T.outSize/8,this.inner=null,this.outer=null,this._init(u.toArray(c,b))}d.exports=f,f.prototype._init=function(T){T.length>this.blockSize&&(T=new this.Hash().update(T).digest()),R(T.length<=this.blockSize);for(var c=T.length;c<this.blockSize;c++)T.push(0);for(c=0;c<T.length;c++)T[c]^=54;for(this.inner=new this.Hash().update(T),c=0;c<T.length;c++)T[c]^=106;this.outer=new this.Hash().update(T)},f.prototype.update=function(T,c){return this.inner.update(T,c),this},f.prototype.digest=function(T){return this.outer.update(this.inner.digest()),this.outer.digest(T)}}),Hs=je((r)=>{var d=r;d.utils=Qa(),d.common=po(),d.sha=Hc(),d.ripemd=Yc(),d.hmac=Bc(),d.sha1=d.sha.sha1,d.sha256=d.sha.sha256,d.sha224=d.sha.sha224,d.sha384=d.sha.sha384,d.sha512=d.sha.sha512,d.ripemd160=d.ripemd.ripemd160}),Cc=je((r,d)=>{d.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),Ys=je((r)=>{var d=r,u=Hs(),R=Nl(),f=Ja(),T=f.assert;function c(y){y.type==="short"?this.curve=new R.short(y):y.type==="edwards"?this.curve=new R.edwards(y):this.curve=new R.mont(y),this.g=this.curve.g,this.n=this.curve.n,this.hash=y.hash,T(this.g.validate(),"Invalid curve"),T(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}d.PresetCurve=c;function b(y,q){Object.defineProperty(d,y,{configurable:!0,enumerable:!0,get:function(){var Z=new c(q);return Object.defineProperty(d,y,{configurable:!0,enumerable:!0,value:Z}),Z}})}b("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),b("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),b("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),b("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),b("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),b("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),b("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var W;try{W=Cc()}catch{W=void 0}b("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",W]})}),Qc=je((r,d)=>{var u=Hs(),R=vl(),f=ja();function T(c){if(!(this instanceof T))return new T(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var b=R.toArray(c.entropy,c.entropyEnc||"hex"),W=R.toArray(c.nonce,c.nonceEnc||"hex"),y=R.toArray(c.pers,c.persEnc||"hex");f(b.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(b,W,y)}d.exports=T,T.prototype._init=function(c,b,W){var y=c.concat(b).concat(W);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var q=0;q<this.V.length;q++)this.K[q]=0,this.V[q]=1;this._update(y),this._reseed=1,this.reseedInterval=281474976710656},T.prototype._hmac=function(){return new u.hmac(this.hash,this.K)},T.prototype._update=function(c){var b=this._hmac().update(this.V).update([0]);c&&(b=b.update(c)),this.K=b.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},T.prototype.reseed=function(c,b,W,y){typeof b!="string"&&(y=W,W=b,b=null),c=R.toArray(c,b),W=R.toArray(W,y),f(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(W||[])),this._reseed=1},T.prototype.generate=function(c,b,W,y){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof b!="string"&&(y=W,W=b,b=null),W&&(W=R.toArray(W,y||"hex"),this._update(W));for(var q=[];q.length<c;)this.V=this._hmac().update(this.V).digest(),q=q.concat(this.V);var Z=q.slice(0,c);return this._update(W),this._reseed++,R.encode(Z,b)}}),Ac=je((r,d)=>{var u=on(),R=Ja(),f=R.assert;function T(c,b){this.ec=c,this.priv=null,this.pub=null,b.priv&&this._importPrivate(b.priv,b.privEnc),b.pub&&this._importPublic(b.pub,b.pubEnc)}d.exports=T,T.fromPublic=function(c,b,W){return b instanceof T?b:new T(c,{pub:b,pubEnc:W})},T.fromPrivate=function(c,b,W){return b instanceof T?b:new T(c,{priv:b,privEnc:W})},T.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},T.prototype.getPublic=function(c,b){return typeof c=="string"&&(b=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),b?this.pub.encode(b,c):this.pub},T.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},T.prototype._importPrivate=function(c,b){this.priv=new u(c,b||16),this.priv=this.priv.umod(this.ec.curve.n)},T.prototype._importPublic=function(c,b){if(c.x||c.y){this.ec.curve.type==="mont"?f(c.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&f(c.x&&c.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(c.x,c.y);return}this.pub=this.ec.curve.decodePoint(c,b)},T.prototype.derive=function(c){return c.validate()||f(c.validate(),"public point not validated"),c.mul(this.priv).getX()},T.prototype.sign=function(c,b,W){return this.ec.sign(c,this,b,W)},T.prototype.verify=function(c,b){return this.ec.verify(c,b,this)},T.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),e0=je((r,d)=>{var u=on(),R=Ja(),f=R.assert;function T(q,Z){if(q instanceof T)return q;this._importDER(q,Z)||(f(q.r&&q.s,"Signature without r or s"),this.r=new u(q.r,16),this.s=new u(q.s,16),q.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=q.recoveryParam)}d.exports=T;function c(){this.place=0}function b(q,Z){var $=q[Z.place++];if(!($&128))return $;var V=$&15;if(V===0||V>4)return!1;for(var x=0,k=0,g=Z.place;k<V;k++,g++)x<<=8,x|=q[g],x>>>=0;return x<=127?!1:(Z.place=g,x)}function W(q){for(var Z=0,$=q.length-1;!q[Z]&&!(q[Z+1]&128)&&Z<$;)Z++;return Z===0?q:q.slice(Z)}T.prototype._importDER=function(q,Z){q=R.toArray(q,Z);var $=new c;if(q[$.place++]!==48)return!1;var V=b(q,$);if(V===!1||V+$.place!==q.length||q[$.place++]!==2)return!1;var x=b(q,$);if(x===!1)return!1;var k=q.slice($.place,x+$.place);if($.place+=x,q[$.place++]!==2)return!1;var g=b(q,$);if(g===!1||q.length!==g+$.place)return!1;var X=q.slice($.place,g+$.place);if(k[0]===0)if(k[1]&128)k=k.slice(1);else return!1;if(X[0]===0)if(X[1]&128)X=X.slice(1);else return!1;return this.r=new u(k),this.s=new u(X),this.recoveryParam=null,!0};function y(q,Z){if(Z<128){q.push(Z);return}var $=1+(Math.log(Z)/Math.LN2>>>3);for(q.push($|128);--$;)q.push(Z>>>($<<3)&255);q.push(Z)}T.prototype.toDER=function(q){var Z=this.r.toArray(),$=this.s.toArray();for(Z[0]&128&&(Z=[0].concat(Z)),$[0]&128&&($=[0].concat($)),Z=W(Z),$=W($);!$[0]&&!($[1]&128);)$=$.slice(1);var V=[2];y(V,Z.length),V=V.concat(Z),V.push(2),y(V,$.length);var x=V.concat($),k=[48];return y(k,x.length),k=k.concat(x),R.encode(k,q)}}),a0=je((r,d)=>{var u=on(),R=Qc(),f=Ja(),T=Ys(),c=Ks(),b=f.assert,W=Ac(),y=e0();function q(Z){if(!(this instanceof q))return new q(Z);typeof Z=="string"&&(b(Object.prototype.hasOwnProperty.call(T,Z),"Unknown curve "+Z),Z=T[Z]),Z instanceof T.PresetCurve&&(Z={curve:Z}),this.curve=Z.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Z.curve.g,this.g.precompute(Z.curve.n.bitLength()+1),this.hash=Z.hash||Z.curve.hash}d.exports=q,q.prototype.keyPair=function(Z){return new W(this,Z)},q.prototype.keyFromPrivate=function(Z,$){return W.fromPrivate(this,Z,$)},q.prototype.keyFromPublic=function(Z,$){return W.fromPublic(this,Z,$)},q.prototype.genKeyPair=function(Z){Z||(Z={});for(var $=new R({hash:this.hash,pers:Z.pers,persEnc:Z.persEnc||"utf8",entropy:Z.entropy||c(this.hash.hmacStrength),entropyEnc:Z.entropy&&Z.entropyEnc||"utf8",nonce:this.n.toArray()}),V=this.n.byteLength(),x=this.n.sub(new u(2));;){var k=new u($.generate(V));if(!(k.cmp(x)>0))return k.iaddn(1),this.keyFromPrivate(k)}},q.prototype._truncateToN=function(Z,$){var V=Z.byteLength()*8-this.n.bitLength();return V>0&&(Z=Z.ushrn(V)),!$&&Z.cmp(this.n)>=0?Z.sub(this.n):Z},q.prototype.sign=function(Z,$,V,x){typeof V=="object"&&(x=V,V=null),x||(x={}),$=this.keyFromPrivate($,V),Z=this._truncateToN(new u(Z,16));for(var k=this.n.byteLength(),g=$.getPrivate().toArray("be",k),X=Z.toArray("be",k),E=new R({hash:this.hash,entropy:g,nonce:X,pers:x.pers,persEnc:x.persEnc||"utf8"}),z=this.n.sub(new u(1)),K=0;;K++){var Y=x.k?x.k(K):new u(E.generate(this.n.byteLength()));if(Y=this._truncateToN(Y,!0),!(Y.cmpn(1)<=0||Y.cmp(z)>=0)){var C=this.g.mul(Y);if(!C.isInfinity()){var te=C.getX(),_e=te.umod(this.n);if(_e.cmpn(0)!==0){var $e=Y.invm(this.n).mul(_e.mul($.getPrivate()).iadd(Z));if($e=$e.umod(this.n),$e.cmpn(0)!==0){var me=(C.getY().isOdd()?1:0)|(te.cmp(_e)!==0?2:0);return x.canonical&&$e.cmp(this.nh)>0&&($e=this.n.sub($e),me^=1),new y({r:_e,s:$e,recoveryParam:me})}}}}}},q.prototype.verify=function(Z,$,V,x){Z=this._truncateToN(new u(Z,16)),V=this.keyFromPublic(V,x),$=new y($,"hex");var{r:k,s:g}=$;if(k.cmpn(1)<0||k.cmp(this.n)>=0||g.cmpn(1)<0||g.cmp(this.n)>=0)return!1;var X=g.invm(this.n),E=X.mul(Z).umod(this.n),z=X.mul(k).umod(this.n),K;return this.curve._maxwellTrick?(K=this.g.jmulAdd(E,V.getPublic(),z),K.isInfinity()?!1:K.eqXToP(k)):(K=this.g.mulAdd(E,V.getPublic(),z),K.isInfinity()?!1:K.getX().umod(this.n).cmp(k)===0)},q.prototype.recoverPubKey=function(Z,$,V,x){b((3&V)===V,"The recovery param is more than two bits"),$=new y($,x);var k=this.n,g=new u(Z),X=$.r,E=$.s,z=V&1,K=V>>1;if(X.cmp(this.curve.p.umod(this.curve.n))>=0&&K)throw new Error("Unable to find sencond key candinate");K?X=this.curve.pointFromX(X.add(this.curve.n),z):X=this.curve.pointFromX(X,z);var Y=$.r.invm(k),C=k.sub(g).mul(Y).umod(k),te=E.mul(Y).umod(k);return this.g.mulAdd(C,X,te)},q.prototype.getKeyRecoveryParam=function(Z,$,V,x){if($=new y($,x),$.recoveryParam!==null)return $.recoveryParam;for(var k=0;k<4;k++){var g;try{g=this.recoverPubKey(Z,$,k)}catch{continue}if(g.eq(V))return k}throw new Error("Unable to find valid recovery factor")}}),n0=je((r,d)=>{var u=Ja(),R=u.assert,f=u.parseBytes,T=u.cachedProperty;function c(b,W){this.eddsa=b,this._secret=f(W.secret),b.isPoint(W.pub)?this._pub=W.pub:this._pubBytes=f(W.pub)}c.fromPublic=function(b,W){return W instanceof c?W:new c(b,{pub:W})},c.fromSecret=function(b,W){return W instanceof c?W:new c(b,{secret:W})},c.prototype.secret=function(){return this._secret},T(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),T(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),T(c,"privBytes",function(){var b=this.eddsa,W=this.hash(),y=b.encodingLength-1,q=W.slice(0,b.encodingLength);return q[0]&=248,q[y]&=127,q[y]|=64,q}),T(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),T(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),T(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(b){return R(this._secret,"KeyPair can only verify"),this.eddsa.sign(b,this)},c.prototype.verify=function(b,W){return this.eddsa.verify(b,W,this)},c.prototype.getSecret=function(b){return R(this._secret,"KeyPair is public only"),u.encode(this.secret(),b)},c.prototype.getPublic=function(b){return u.encode(this.pubBytes(),b)},d.exports=c}),o0=je((r,d)=>{var u=on(),R=Ja(),f=R.assert,T=R.cachedProperty,c=R.parseBytes;function b(W,y){this.eddsa=W,typeof y!="object"&&(y=c(y)),Array.isArray(y)&&(y={R:y.slice(0,W.encodingLength),S:y.slice(W.encodingLength)}),f(y.R&&y.S,"Signature without R or S"),W.isPoint(y.R)&&(this._R=y.R),y.S instanceof u&&(this._S=y.S),this._Rencoded=Array.isArray(y.R)?y.R:y.Rencoded,this._Sencoded=Array.isArray(y.S)?y.S:y.Sencoded}T(b,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),T(b,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),T(b,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),T(b,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),b.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},b.prototype.toHex=function(){return R.encode(this.toBytes(),"hex").toUpperCase()},d.exports=b}),s0=je((r,d)=>{var u=Hs(),R=Ys(),f=Ja(),T=f.assert,c=f.parseBytes,b=n0(),W=o0();function y(q){if(T(q==="ed25519","only tested with ed25519 so far"),!(this instanceof y))return new y(q);q=R[q].curve,this.curve=q,this.g=q.g,this.g.precompute(q.n.bitLength()+1),this.pointClass=q.point().constructor,this.encodingLength=Math.ceil(q.n.bitLength()/8),this.hash=u.sha512}d.exports=y,y.prototype.sign=function(q,Z){q=c(q);var $=this.keyFromSecret(Z),V=this.hashInt($.messagePrefix(),q),x=this.g.mul(V),k=this.encodePoint(x),g=this.hashInt(k,$.pubBytes(),q).mul($.priv()),X=V.add(g).umod(this.curve.n);return this.makeSignature({R:x,S:X,Rencoded:k})},y.prototype.verify=function(q,Z,$){q=c(q),Z=this.makeSignature(Z);var V=this.keyFromPublic($),x=this.hashInt(Z.Rencoded(),V.pubBytes(),q),k=this.g.mul(Z.S()),g=Z.R().add(V.pub().mul(x));return g.eq(k)},y.prototype.hashInt=function(){for(var q=this.hash(),Z=0;Z<arguments.length;Z++)q.update(arguments[Z]);return f.intFromLE(q.digest()).umod(this.curve.n)},y.prototype.keyFromPublic=function(q){return b.fromPublic(this,q)},y.prototype.keyFromSecret=function(q){return b.fromSecret(this,q)},y.prototype.makeSignature=function(q){return q instanceof W?q:new W(this,q)},y.prototype.encodePoint=function(q){var Z=q.getY().toArray("le",this.encodingLength);return Z[this.encodingLength-1]|=q.getX().isOdd()?128:0,Z},y.prototype.decodePoint=function(q){q=f.parseBytes(q);var Z=q.length-1,$=q.slice(0,Z).concat(q[Z]&-129),V=(q[Z]&128)!==0,x=f.intFromLE($);return this.curve.pointFromY(x,V)},y.prototype.encodeInt=function(q){return q.toArray("le",this.encodingLength)},y.prototype.decodeInt=function(q){return f.intFromLE(q)},y.prototype.isPoint=function(q){return q instanceof this.pointClass}}),Bs=je((r)=>{var d=r;d.version=jc().version,d.utils=Ja(),d.rand=Ks(),d.curve=Nl(),d.curves=Ys(),d.ec=a0(),d.eddsa=s0()}),ql=je((r,d)=>{(function(u,R){function f(e,o){if(!e)throw new Error(o||"Assertion failed")}function T(e,o){e.super_=o;var i=function(){};i.prototype=o.prototype,e.prototype=new i,e.prototype.constructor=e}function c(e,o,i){if(c.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((o==="le"||o==="be")&&(i=o,o=10),this._init(e||0,o||10,i||"be"))}typeof u=="object"?u.exports=c:R.BN=c,c.BN=c,c.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=Vn().Buffer}catch{}c.isBN=function(e){return e instanceof c?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===c.wordSize&&Array.isArray(e.words)},c.max=function(e,o){return e.cmp(o)>0?e:o},c.min=function(e,o){return e.cmp(o)<0?e:o},c.prototype._init=function(e,o,i){if(typeof e=="number")return this._initNumber(e,o,i);if(typeof e=="object")return this._initArray(e,o,i);o==="hex"&&(o=16),f(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(o===16?this._parseHex(e,s,i):(this._parseBase(e,o,s),i==="le"&&this._initArray(this.toArray(),o,i)))},c.prototype._initNumber=function(e,o,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(f(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),o,i)},c.prototype._initArray=function(e,o,i){if(f(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,h,v=0;if(i==="be")for(s=e.length-1,m=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);else if(i==="le")for(s=0,m=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);return this.strip()};function W(e,o){var i=e.charCodeAt(o);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function y(e,o,i){var s=W(e,i);return i-1>=o&&(s|=W(e,i-1)<<4),s}c.prototype._parseHex=function(e,o,i){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,h=0,v;if(i==="be")for(s=e.length-1;s>=o;s-=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8;else{var p=e.length-o;for(s=p%2===0?o+1:o;s<e.length;s+=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8}this.strip()};function q(e,o,i,s){for(var m=0,h=Math.min(e.length,i),v=o;v<h;v++){var p=e.charCodeAt(v)-48;m*=s,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}c.prototype._parseBase=function(e,o,i){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=o)s++;s--,m=m/o|0;for(var h=e.length-i,v=h%s,p=Math.min(h,h-v)+i,a=0,t=i;t<p;t+=s)a=q(e,t,t+s,o),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var F=1;for(a=q(e,t,e.length,o),t=0;t<v;t++)F*=o;this.imuln(F),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},c.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},c.prototype.clone=function(){var e=new c(null);return this.copy(e),e},c.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(e,o){e=e||10,o=o|0||1;var i;if(e===16||e==="hex"){i="";for(var s=0,m=0,h=0;h<this.length;h++){var v=this.words[h],p=((v<<s|m)&16777215).toString(16);m=v>>>24-s&16777215,m!==0||h!==this.length-1?i=Z[6-p.length]+p+i:i=p+i,s+=2,s>=26&&(s-=26,h--)}for(m!==0&&(i=m.toString(16)+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(e===(e|0)&&e>=2&&e<=36){var a=$[e],t=V[e];i="";var F=this.clone();for(F.negative=0;!F.isZero();){var w=F.modn(t).toString(e);F=F.idivn(t),F.isZero()?i=w+i:i=Z[a-w.length]+w+i}for(this.isZero()&&(i="0"+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}f(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(e,o){return f(typeof b<"u"),this.toArrayLike(b,e,o)},c.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},c.prototype.toArrayLike=function(e,o,i){var s=this.byteLength(),m=i||Math.max(1,s);f(s<=m,"byte array longer than desired length"),f(m>0,"Requested array length <= 0"),this.strip();var h=o==="le",v=new e(m),p,a,t=this.clone();if(h){for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[a]=p;for(;a<m;a++)v[a]=0}else{for(a=0;a<m-s;a++)v[a]=0;for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[m-a-1]=p}return v},Math.clz32?c.prototype._countBits=function(e){return 32-Math.clz32(e)}:c.prototype._countBits=function(e){var o=e,i=0;return o>=4096&&(i+=13,o>>>=13),o>=64&&(i+=7,o>>>=7),o>=8&&(i+=4,o>>>=4),o>=2&&(i+=2,o>>>=2),i+o},c.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,i=0;return(o&8191)===0&&(i+=13,o>>>=13),(o&127)===0&&(i+=7,o>>>=7),(o&15)===0&&(i+=4,o>>>=4),(o&3)===0&&(i+=2,o>>>=2),(o&1)===0&&i++,i},c.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function x(e){for(var o=new Array(e.bitLength()),i=0;i<o.length;i++){var s=i/26|0,m=i%26;o[i]=(e.words[s]&1<<m)>>>m}return o}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var i=this._zeroBits(this.words[o]);if(e+=i,i!==26)break}return e},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},c.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},c.prototype.ior=function(e){return f((this.negative|e.negative)===0),this.iuor(e)},c.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},c.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},c.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var i=0;i<o.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=o.length,this.strip()},c.prototype.iand=function(e){return f((this.negative|e.negative)===0),this.iuand(e)},c.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},c.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},c.prototype.iuxor=function(e){var o,i;this.length>e.length?(o=this,i=e):(o=e,i=this);for(var s=0;s<i.length;s++)this.words[s]=o.words[s]^i.words[s];if(this!==o)for(;s<o.length;s++)this.words[s]=o.words[s];return this.length=o.length,this.strip()},c.prototype.ixor=function(e){return f((this.negative|e.negative)===0),this.iuxor(e)},c.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},c.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},c.prototype.inotn=function(e){f(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,i=e%26;this._expand(o),i>0&&o--;for(var s=0;s<o;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},c.prototype.notn=function(e){return this.clone().inotn(e)},c.prototype.setn=function(e,o){f(typeof e=="number"&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),o?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},c.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var i,s;this.length>e.length?(i=this,s=e):(i=e,s=this);for(var m=0,h=0;h<s.length;h++)o=(i.words[h]|0)+(s.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;for(;m!==0&&h<i.length;h++)o=(i.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;if(this.length=i.length,m!==0)this.words[this.length]=m,this.length++;else if(i!==this)for(;h<i.length;h++)this.words[h]=i.words[h];return this},c.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},c.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;i>0?(s=this,m=e):(s=e,m=this);for(var h=0,v=0;v<m.length;v++)o=(s.words[v]|0)-(m.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;for(;h!==0&&v<s.length;v++)o=(s.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;if(h===0&&v<s.length&&s!==this)for(;v<s.length;v++)this.words[v]=s.words[v];return this.length=Math.max(this.length,v),s!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(e){return this.clone().isub(e)};function k(e,o,i){i.negative=o.negative^e.negative;var s=e.length+o.length|0;i.length=s,s=s-1|0;var m=e.words[0]|0,h=o.words[0]|0,v=m*h,p=v&67108863,a=v/67108864|0;i.words[0]=p;for(var t=1;t<s;t++){for(var F=a>>>26,w=a&67108863,I=Math.min(t,o.length-1),he=Math.max(0,t-e.length+1);he<=I;he++){var qe=t-he|0;m=e.words[qe]|0,h=o.words[he]|0,v=m*h+w,F+=v/67108864|0,w=v&67108863}i.words[t]=w|0,a=F|0}return a!==0?i.words[t]=a|0:i.length--,i.strip()}var g=function(e,o,i){var s=e.words,m=o.words,h=i.words,v=0,p,a,t,F=s[0]|0,w=F&8191,I=F>>>13,he=s[1]|0,qe=he&8191,Ze=he>>>13,ue=s[2]|0,ie=ue&8191,fe=ue>>>13,Ee=s[3]|0,xe=Ee&8191,ze=Ee>>>13,D=s[4]|0,O=D&8191,ae=D>>>13,We=s[5]|0,ge=We&8191,Ve=We>>>13,De=s[6]|0,Oe=De&8191,Je=De>>>13,Qe=s[7]|0,Pe=Qe&8191,Fe=Qe>>>13,pa=s[8]|0,L=pa&8191,n=pa>>>13,l=s[9]|0,_=l&8191,N=l>>>13,M=m[0]|0,S=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,ee=m[2]|0,H=ee&8191,G=ee>>>13,oe=m[3]|0,Q=oe&8191,le=oe>>>13,Re=m[4]|0,A=Re&8191,ne=Re>>>13,re=m[5]|0,B=re&8191,se=re>>>13,Ne=m[6]|0,pe=Ne&8191,de=Ne>>>13,Se=m[7]|0,ve=Se&8191,ye=Se>>>13,Ue=m[8]|0,Te=Ue&8191,ke=Ue>>>13,Xe=m[9]|0,Le=Xe&8191,we=Xe>>>13;i.negative=e.negative^o.negative,i.length=19,p=Math.imul(w,S),a=Math.imul(w,U),a=a+Math.imul(I,S)|0,t=Math.imul(I,U);var Ie=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,p=Math.imul(qe,S),a=Math.imul(qe,U),a=a+Math.imul(Ze,S)|0,t=Math.imul(Ze,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,t=t+Math.imul(I,J)|0;var Ke=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(ie,S),a=Math.imul(ie,U),a=a+Math.imul(fe,S)|0,t=Math.imul(fe,U),p=p+Math.imul(qe,j)|0,a=a+Math.imul(qe,J)|0,a=a+Math.imul(Ze,j)|0,t=t+Math.imul(Ze,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,t=t+Math.imul(I,G)|0;var Ge=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,p=Math.imul(xe,S),a=Math.imul(xe,U),a=a+Math.imul(ze,S)|0,t=Math.imul(ze,U),p=p+Math.imul(ie,j)|0,a=a+Math.imul(ie,J)|0,a=a+Math.imul(fe,j)|0,t=t+Math.imul(fe,J)|0,p=p+Math.imul(qe,H)|0,a=a+Math.imul(qe,G)|0,a=a+Math.imul(Ze,H)|0,t=t+Math.imul(Ze,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,le)|0,a=a+Math.imul(I,Q)|0,t=t+Math.imul(I,le)|0;var Ce=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,p=Math.imul(O,S),a=Math.imul(O,U),a=a+Math.imul(ae,S)|0,t=Math.imul(ae,U),p=p+Math.imul(xe,j)|0,a=a+Math.imul(xe,J)|0,a=a+Math.imul(ze,j)|0,t=t+Math.imul(ze,J)|0,p=p+Math.imul(ie,H)|0,a=a+Math.imul(ie,G)|0,a=a+Math.imul(fe,H)|0,t=t+Math.imul(fe,G)|0,p=p+Math.imul(qe,Q)|0,a=a+Math.imul(qe,le)|0,a=a+Math.imul(Ze,Q)|0,t=t+Math.imul(Ze,le)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,ne)|0,a=a+Math.imul(I,A)|0,t=t+Math.imul(I,ne)|0;var Ye=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,p=Math.imul(ge,S),a=Math.imul(ge,U),a=a+Math.imul(Ve,S)|0,t=Math.imul(Ve,U),p=p+Math.imul(O,j)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(ae,j)|0,t=t+Math.imul(ae,J)|0,p=p+Math.imul(xe,H)|0,a=a+Math.imul(xe,G)|0,a=a+Math.imul(ze,H)|0,t=t+Math.imul(ze,G)|0,p=p+Math.imul(ie,Q)|0,a=a+Math.imul(ie,le)|0,a=a+Math.imul(fe,Q)|0,t=t+Math.imul(fe,le)|0,p=p+Math.imul(qe,A)|0,a=a+Math.imul(qe,ne)|0,a=a+Math.imul(Ze,A)|0,t=t+Math.imul(Ze,ne)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,se)|0,a=a+Math.imul(I,B)|0,t=t+Math.imul(I,se)|0;var Ae=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,p=Math.imul(Oe,S),a=Math.imul(Oe,U),a=a+Math.imul(Je,S)|0,t=Math.imul(Je,U),p=p+Math.imul(ge,j)|0,a=a+Math.imul(ge,J)|0,a=a+Math.imul(Ve,j)|0,t=t+Math.imul(Ve,J)|0,p=p+Math.imul(O,H)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(ae,H)|0,t=t+Math.imul(ae,G)|0,p=p+Math.imul(xe,Q)|0,a=a+Math.imul(xe,le)|0,a=a+Math.imul(ze,Q)|0,t=t+Math.imul(ze,le)|0,p=p+Math.imul(ie,A)|0,a=a+Math.imul(ie,ne)|0,a=a+Math.imul(fe,A)|0,t=t+Math.imul(fe,ne)|0,p=p+Math.imul(qe,B)|0,a=a+Math.imul(qe,se)|0,a=a+Math.imul(Ze,B)|0,t=t+Math.imul(Ze,se)|0,p=p+Math.imul(w,pe)|0,a=a+Math.imul(w,de)|0,a=a+Math.imul(I,pe)|0,t=t+Math.imul(I,de)|0;var He=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(Pe,S),a=Math.imul(Pe,U),a=a+Math.imul(Fe,S)|0,t=Math.imul(Fe,U),p=p+Math.imul(Oe,j)|0,a=a+Math.imul(Oe,J)|0,a=a+Math.imul(Je,j)|0,t=t+Math.imul(Je,J)|0,p=p+Math.imul(ge,H)|0,a=a+Math.imul(ge,G)|0,a=a+Math.imul(Ve,H)|0,t=t+Math.imul(Ve,G)|0,p=p+Math.imul(O,Q)|0,a=a+Math.imul(O,le)|0,a=a+Math.imul(ae,Q)|0,t=t+Math.imul(ae,le)|0,p=p+Math.imul(xe,A)|0,a=a+Math.imul(xe,ne)|0,a=a+Math.imul(ze,A)|0,t=t+Math.imul(ze,ne)|0,p=p+Math.imul(ie,B)|0,a=a+Math.imul(ie,se)|0,a=a+Math.imul(fe,B)|0,t=t+Math.imul(fe,se)|0,p=p+Math.imul(qe,pe)|0,a=a+Math.imul(qe,de)|0,a=a+Math.imul(Ze,pe)|0,t=t+Math.imul(Ze,de)|0,p=p+Math.imul(w,ve)|0,a=a+Math.imul(w,ye)|0,a=a+Math.imul(I,ve)|0,t=t+Math.imul(I,ye)|0;var ea=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(L,S),a=Math.imul(L,U),a=a+Math.imul(n,S)|0,t=Math.imul(n,U),p=p+Math.imul(Pe,j)|0,a=a+Math.imul(Pe,J)|0,a=a+Math.imul(Fe,j)|0,t=t+Math.imul(Fe,J)|0,p=p+Math.imul(Oe,H)|0,a=a+Math.imul(Oe,G)|0,a=a+Math.imul(Je,H)|0,t=t+Math.imul(Je,G)|0,p=p+Math.imul(ge,Q)|0,a=a+Math.imul(ge,le)|0,a=a+Math.imul(Ve,Q)|0,t=t+Math.imul(Ve,le)|0,p=p+Math.imul(O,A)|0,a=a+Math.imul(O,ne)|0,a=a+Math.imul(ae,A)|0,t=t+Math.imul(ae,ne)|0,p=p+Math.imul(xe,B)|0,a=a+Math.imul(xe,se)|0,a=a+Math.imul(ze,B)|0,t=t+Math.imul(ze,se)|0,p=p+Math.imul(ie,pe)|0,a=a+Math.imul(ie,de)|0,a=a+Math.imul(fe,pe)|0,t=t+Math.imul(fe,de)|0,p=p+Math.imul(qe,ve)|0,a=a+Math.imul(qe,ye)|0,a=a+Math.imul(Ze,ve)|0,t=t+Math.imul(Ze,ye)|0,p=p+Math.imul(w,Te)|0,a=a+Math.imul(w,ke)|0,a=a+Math.imul(I,Te)|0,t=t+Math.imul(I,ke)|0;var Be=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,p=Math.imul(_,S),a=Math.imul(_,U),a=a+Math.imul(N,S)|0,t=Math.imul(N,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(n,j)|0,t=t+Math.imul(n,J)|0,p=p+Math.imul(Pe,H)|0,a=a+Math.imul(Pe,G)|0,a=a+Math.imul(Fe,H)|0,t=t+Math.imul(Fe,G)|0,p=p+Math.imul(Oe,Q)|0,a=a+Math.imul(Oe,le)|0,a=a+Math.imul(Je,Q)|0,t=t+Math.imul(Je,le)|0,p=p+Math.imul(ge,A)|0,a=a+Math.imul(ge,ne)|0,a=a+Math.imul(Ve,A)|0,t=t+Math.imul(Ve,ne)|0,p=p+Math.imul(O,B)|0,a=a+Math.imul(O,se)|0,a=a+Math.imul(ae,B)|0,t=t+Math.imul(ae,se)|0,p=p+Math.imul(xe,pe)|0,a=a+Math.imul(xe,de)|0,a=a+Math.imul(ze,pe)|0,t=t+Math.imul(ze,de)|0,p=p+Math.imul(ie,ve)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(fe,ve)|0,t=t+Math.imul(fe,ye)|0,p=p+Math.imul(qe,Te)|0,a=a+Math.imul(qe,ke)|0,a=a+Math.imul(Ze,Te)|0,t=t+Math.imul(Ze,ke)|0,p=p+Math.imul(w,Le)|0,a=a+Math.imul(w,we)|0,a=a+Math.imul(I,Le)|0,t=t+Math.imul(I,we)|0;var ra=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(_,j),a=Math.imul(_,J),a=a+Math.imul(N,j)|0,t=Math.imul(N,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(n,H)|0,t=t+Math.imul(n,G)|0,p=p+Math.imul(Pe,Q)|0,a=a+Math.imul(Pe,le)|0,a=a+Math.imul(Fe,Q)|0,t=t+Math.imul(Fe,le)|0,p=p+Math.imul(Oe,A)|0,a=a+Math.imul(Oe,ne)|0,a=a+Math.imul(Je,A)|0,t=t+Math.imul(Je,ne)|0,p=p+Math.imul(ge,B)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(Ve,B)|0,t=t+Math.imul(Ve,se)|0,p=p+Math.imul(O,pe)|0,a=a+Math.imul(O,de)|0,a=a+Math.imul(ae,pe)|0,t=t+Math.imul(ae,de)|0,p=p+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(ze,ve)|0,t=t+Math.imul(ze,ye)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(fe,Te)|0,t=t+Math.imul(fe,ke)|0,p=p+Math.imul(qe,Le)|0,a=a+Math.imul(qe,we)|0,a=a+Math.imul(Ze,Le)|0,t=t+Math.imul(Ze,we)|0;var aa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(_,H),a=Math.imul(_,G),a=a+Math.imul(N,H)|0,t=Math.imul(N,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,le)|0,a=a+Math.imul(n,Q)|0,t=t+Math.imul(n,le)|0,p=p+Math.imul(Pe,A)|0,a=a+Math.imul(Pe,ne)|0,a=a+Math.imul(Fe,A)|0,t=t+Math.imul(Fe,ne)|0,p=p+Math.imul(Oe,B)|0,a=a+Math.imul(Oe,se)|0,a=a+Math.imul(Je,B)|0,t=t+Math.imul(Je,se)|0,p=p+Math.imul(ge,pe)|0,a=a+Math.imul(ge,de)|0,a=a+Math.imul(Ve,pe)|0,t=t+Math.imul(Ve,de)|0,p=p+Math.imul(O,ve)|0,a=a+Math.imul(O,ye)|0,a=a+Math.imul(ae,ve)|0,t=t+Math.imul(ae,ye)|0,p=p+Math.imul(xe,Te)|0,a=a+Math.imul(xe,ke)|0,a=a+Math.imul(ze,Te)|0,t=t+Math.imul(ze,ke)|0,p=p+Math.imul(ie,Le)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(fe,Le)|0,t=t+Math.imul(fe,we)|0;var oa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(_,Q),a=Math.imul(_,le),a=a+Math.imul(N,Q)|0,t=Math.imul(N,le),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,ne)|0,a=a+Math.imul(n,A)|0,t=t+Math.imul(n,ne)|0,p=p+Math.imul(Pe,B)|0,a=a+Math.imul(Pe,se)|0,a=a+Math.imul(Fe,B)|0,t=t+Math.imul(Fe,se)|0,p=p+Math.imul(Oe,pe)|0,a=a+Math.imul(Oe,de)|0,a=a+Math.imul(Je,pe)|0,t=t+Math.imul(Je,de)|0,p=p+Math.imul(ge,ve)|0,a=a+Math.imul(ge,ye)|0,a=a+Math.imul(Ve,ve)|0,t=t+Math.imul(Ve,ye)|0,p=p+Math.imul(O,Te)|0,a=a+Math.imul(O,ke)|0,a=a+Math.imul(ae,Te)|0,t=t+Math.imul(ae,ke)|0,p=p+Math.imul(xe,Le)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(ze,Le)|0,t=t+Math.imul(ze,we)|0;var sa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(_,A),a=Math.imul(_,ne),a=a+Math.imul(N,A)|0,t=Math.imul(N,ne),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,se)|0,a=a+Math.imul(n,B)|0,t=t+Math.imul(n,se)|0,p=p+Math.imul(Pe,pe)|0,a=a+Math.imul(Pe,de)|0,a=a+Math.imul(Fe,pe)|0,t=t+Math.imul(Fe,de)|0,p=p+Math.imul(Oe,ve)|0,a=a+Math.imul(Oe,ye)|0,a=a+Math.imul(Je,ve)|0,t=t+Math.imul(Je,ye)|0,p=p+Math.imul(ge,Te)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(Ve,Te)|0,t=t+Math.imul(Ve,ke)|0,p=p+Math.imul(O,Le)|0,a=a+Math.imul(O,we)|0,a=a+Math.imul(ae,Le)|0,t=t+Math.imul(ae,we)|0;var na=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(_,B),a=Math.imul(_,se),a=a+Math.imul(N,B)|0,t=Math.imul(N,se),p=p+Math.imul(L,pe)|0,a=a+Math.imul(L,de)|0,a=a+Math.imul(n,pe)|0,t=t+Math.imul(n,de)|0,p=p+Math.imul(Pe,ve)|0,a=a+Math.imul(Pe,ye)|0,a=a+Math.imul(Fe,ve)|0,t=t+Math.imul(Fe,ye)|0,p=p+Math.imul(Oe,Te)|0,a=a+Math.imul(Oe,ke)|0,a=a+Math.imul(Je,Te)|0,t=t+Math.imul(Je,ke)|0,p=p+Math.imul(ge,Le)|0,a=a+Math.imul(ge,we)|0,a=a+Math.imul(Ve,Le)|0,t=t+Math.imul(Ve,we)|0;var ua=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,p=Math.imul(_,pe),a=Math.imul(_,de),a=a+Math.imul(N,pe)|0,t=Math.imul(N,de),p=p+Math.imul(L,ve)|0,a=a+Math.imul(L,ye)|0,a=a+Math.imul(n,ve)|0,t=t+Math.imul(n,ye)|0,p=p+Math.imul(Pe,Te)|0,a=a+Math.imul(Pe,ke)|0,a=a+Math.imul(Fe,Te)|0,t=t+Math.imul(Fe,ke)|0,p=p+Math.imul(Oe,Le)|0,a=a+Math.imul(Oe,we)|0,a=a+Math.imul(Je,Le)|0,t=t+Math.imul(Je,we)|0;var ma=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(_,ve),a=Math.imul(_,ye),a=a+Math.imul(N,ve)|0,t=Math.imul(N,ye),p=p+Math.imul(L,Te)|0,a=a+Math.imul(L,ke)|0,a=a+Math.imul(n,Te)|0,t=t+Math.imul(n,ke)|0,p=p+Math.imul(Pe,Le)|0,a=a+Math.imul(Pe,we)|0,a=a+Math.imul(Fe,Le)|0,t=t+Math.imul(Fe,we)|0;var _a=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(_,Te),a=Math.imul(_,ke),a=a+Math.imul(N,Te)|0,t=Math.imul(N,ke),p=p+Math.imul(L,Le)|0,a=a+Math.imul(L,we)|0,a=a+Math.imul(n,Le)|0,t=t+Math.imul(n,we)|0;var ia=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(_,Le),a=Math.imul(_,we),a=a+Math.imul(N,Le)|0,t=Math.imul(N,we);var la=(v+p|0)+((a&8191)<<13)|0;return v=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,h[0]=Ie,h[1]=Ke,h[2]=Ge,h[3]=Ce,h[4]=Ye,h[5]=Ae,h[6]=He,h[7]=ea,h[8]=Be,h[9]=ra,h[10]=aa,h[11]=oa,h[12]=sa,h[13]=na,h[14]=ua,h[15]=ma,h[16]=_a,h[17]=ia,h[18]=la,v!==0&&(h[19]=v,i.length++),i};Math.imul||(g=k);function X(e,o,i){i.negative=o.negative^e.negative,i.length=e.length+o.length;for(var s=0,m=0,h=0;h<i.length-1;h++){var v=m;m=0;for(var p=s&67108863,a=Math.min(h,o.length-1),t=Math.max(0,h-e.length+1);t<=a;t++){var F=h-t,w=e.words[F]|0,I=o.words[t]|0,he=w*I,qe=he&67108863;v=v+(he/67108864|0)|0,qe=qe+p|0,p=qe&67108863,v=v+(qe>>>26)|0,m+=v>>>26,v&=67108863}i.words[h]=p,s=v,v=m}return s!==0?i.words[h]=s:i.length--,i.strip()}function E(e,o,i){var s=new z;return s.mulp(e,o,i)}c.prototype.mulTo=function(e,o){var i,s=this.length+e.length;return this.length===10&&e.length===10?i=g(this,e,o):s<63?i=k(this,e,o):s<1024?i=X(this,e,o):i=E(this,e,o),i};function z(e,o){this.x=e,this.y=o}z.prototype.makeRBT=function(e){for(var o=new Array(e),i=c.prototype._countBits(e)-1,s=0;s<e;s++)o[s]=this.revBin(s,i,e);return o},z.prototype.revBin=function(e,o,i){if(e===0||e===i-1)return e;for(var s=0,m=0;m<o;m++)s|=(e&1)<<o-m-1,e>>=1;return s},z.prototype.permute=function(e,o,i,s,m,h){for(var v=0;v<h;v++)s[v]=o[e[v]],m[v]=i[e[v]]},z.prototype.transform=function(e,o,i,s,m,h){this.permute(h,e,o,i,s,m);for(var v=1;v<m;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),t=Math.sin(2*Math.PI/p),F=0;F<m;F+=p)for(var w=a,I=t,he=0;he<v;he++){var qe=i[F+he],Ze=s[F+he],ue=i[F+he+v],ie=s[F+he+v],fe=w*ue-I*ie;ie=w*ie+I*ue,ue=fe,i[F+he]=qe+ue,s[F+he]=Ze+ie,i[F+he+v]=qe-ue,s[F+he+v]=Ze-ie,he!==p&&(fe=a*w-t*I,I=a*I+t*w,w=fe)}},z.prototype.guessLen13b=function(e,o){var i=Math.max(o,e)|1,s=i&1,m=0;for(i=i/2|0;i;i=i>>>1)m++;return 1<<m+1+s},z.prototype.conjugate=function(e,o,i){if(!(i<=1))for(var s=0;s<i/2;s++){var m=e[s];e[s]=e[i-s-1],e[i-s-1]=m,m=o[s],o[s]=-o[i-s-1],o[i-s-1]=-m}},z.prototype.normalize13b=function(e,o){for(var i=0,s=0;s<o/2;s++){var m=Math.round(e[2*s+1]/o)*8192+Math.round(e[2*s]/o)+i;e[s]=m&67108863,m<67108864?i=0:i=m/67108864|0}return e},z.prototype.convert13b=function(e,o,i,s){for(var m=0,h=0;h<o;h++)m=m+(e[h]|0),i[2*h]=m&8191,m=m>>>13,i[2*h+1]=m&8191,m=m>>>13;for(h=2*o;h<s;++h)i[h]=0;f(m===0),f((m&-8192)===0)},z.prototype.stub=function(e){for(var o=new Array(e),i=0;i<e;i++)o[i]=0;return o},z.prototype.mulp=function(e,o,i){var s=2*this.guessLen13b(e.length,o.length),m=this.makeRBT(s),h=this.stub(s),v=new Array(s),p=new Array(s),a=new Array(s),t=new Array(s),F=new Array(s),w=new Array(s),I=i.words;I.length=s,this.convert13b(e.words,e.length,v,s),this.convert13b(o.words,o.length,t,s),this.transform(v,h,p,a,s,m),this.transform(t,h,F,w,s,m);for(var he=0;he<s;he++){var qe=p[he]*F[he]-a[he]*w[he];a[he]=p[he]*w[he]+a[he]*F[he],p[he]=qe}return this.conjugate(p,a,s),this.transform(p,a,I,h,s,m),this.conjugate(I,h,s),this.normalize13b(I,s),i.negative=e.negative^o.negative,i.length=e.length+o.length,i.strip()},c.prototype.mul=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},c.prototype.mulf=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),E(this,e,o)},c.prototype.imul=function(e){return this.clone().mulTo(e,this)},c.prototype.imuln=function(e){f(typeof e=="number"),f(e<67108864);for(var o=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*e,m=(s&67108863)+(o&67108863);o>>=26,o+=s/67108864|0,o+=m>>>26,this.words[i]=m&67108863}return o!==0&&(this.words[i]=o,this.length++),this},c.prototype.muln=function(e){return this.clone().imuln(e)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(e){var o=x(e);if(o.length===0)return new c(1);for(var i=this,s=0;s<o.length&&o[s]===0;s++,i=i.sqr());if(++s<o.length)for(var m=i.sqr();s<o.length;s++,m=m.sqr())o[s]!==0&&(i=i.mul(m));return i},c.prototype.iushln=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=67108863>>>26-o<<26-o,m;if(o!==0){var h=0;for(m=0;m<this.length;m++){var v=this.words[m]&s,p=(this.words[m]|0)-v<<o;this.words[m]=p|h,h=v>>>26-o}h&&(this.words[m]=h,this.length++)}if(i!==0){for(m=this.length-1;m>=0;m--)this.words[m+i]=this.words[m];for(m=0;m<i;m++)this.words[m]=0;this.length+=i}return this.strip()},c.prototype.ishln=function(e){return f(this.negative===0),this.iushln(e)},c.prototype.iushrn=function(e,o,i){f(typeof e=="number"&&e>=0);var s;o?s=(o-o%26)/26:s=0;var m=e%26,h=Math.min((e-m)/26,this.length),v=67108863^67108863>>>m<<m,p=i;if(s-=h,s=Math.max(0,s),p){for(var a=0;a<h;a++)p.words[a]=this.words[a];p.length=h}if(h!==0)if(this.length>h)for(this.length-=h,a=0;a<this.length;a++)this.words[a]=this.words[a+h];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var F=this.words[a]|0;this.words[a]=t<<26-m|F>>>m,t=F&v}return p&&t!==0&&(p.words[p.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(e,o,i){return f(this.negative===0),this.iushrn(e,o,i)},c.prototype.shln=function(e){return this.clone().ishln(e)},c.prototype.ushln=function(e){return this.clone().iushln(e)},c.prototype.shrn=function(e){return this.clone().ishrn(e)},c.prototype.ushrn=function(e){return this.clone().iushrn(e)},c.prototype.testn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return!1;var m=this.words[i];return!!(m&s)},c.prototype.imaskn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(o!==0&&i++,this.length=Math.min(i,this.length),o!==0){var s=67108863^67108863>>>o<<o;this.words[this.length-1]&=s}return this.strip()},c.prototype.maskn=function(e){return this.clone().imaskn(e)},c.prototype.iaddn=function(e){return f(typeof e=="number"),f(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},c.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},c.prototype.isubn=function(e){if(f(typeof e=="number"),f(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},c.prototype.addn=function(e){return this.clone().iaddn(e)},c.prototype.subn=function(e){return this.clone().isubn(e)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(e,o,i){var s=e.length+i,m;this._expand(s);var h,v=0;for(m=0;m<e.length;m++){h=(this.words[m+i]|0)+v;var p=(e.words[m]|0)*o;h-=p&67108863,v=(h>>26)-(p/67108864|0),this.words[m+i]=h&67108863}for(;m<this.length-i;m++)h=(this.words[m+i]|0)+v,v=h>>26,this.words[m+i]=h&67108863;if(v===0)return this.strip();for(f(v===-1),v=0,m=0;m<this.length;m++)h=-(this.words[m]|0)+v,v=h>>26,this.words[m]=h&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(e,o){var i=this.length-e.length,s=this.clone(),m=e,h=m.words[m.length-1]|0,v=this._countBits(h);i=26-v,i!==0&&(m=m.ushln(i),s.iushln(i),h=m.words[m.length-1]|0);var p=s.length-m.length,a;if(o!=="mod"){a=new c(null),a.length=p+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var F=s.clone()._ishlnsubmul(m,1,p);F.negative===0&&(s=F,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(s.words[m.length+w]|0)*67108864+(s.words[m.length+w-1]|0);for(I=Math.min(I/h|0,67108863),s._ishlnsubmul(m,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(m,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),o!=="div"&&i!==0&&s.iushrn(i),{div:a||null,mod:s}},c.prototype.divmod=function(e,o,i){if(f(!e.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var s,m,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,o),o!=="mod"&&(s=h.div.neg()),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.iadd(e)),{div:s,mod:m}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),o),o!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),o),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.isub(e)),{div:h.div,mod:m}):e.length>this.length||this.cmp(e)<0?{div:new c(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new c(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new c(this.modn(e.words[0]))}:this._wordDiv(e,o)},c.prototype.div=function(e){return this.divmod(e,"div",!1).div},c.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},c.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},c.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var i=o.div.negative!==0?o.mod.isub(e):o.mod,s=e.ushrn(1),m=e.andln(1),h=i.cmp(s);return h<0||m===1&&h===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},c.prototype.modn=function(e){f(e<=67108863);for(var o=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(o*i+(this.words[s]|0))%e;return i},c.prototype.idivn=function(e){f(e<=67108863);for(var o=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+o*67108864;this.words[i]=s/e|0,o=s%e}return this.strip()},c.prototype.divn=function(e){return this.clone().idivn(e)},c.prototype.egcd=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=new c(0),v=new c(1),p=0;o.isEven()&&i.isEven();)o.iushrn(1),i.iushrn(1),++p;for(var a=i.clone(),t=o.clone();!o.isZero();){for(var F=0,w=1;(o.words[0]&w)===0&&F<26;++F,w<<=1);if(F>0)for(o.iushrn(F);F-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var I=0,he=1;(i.words[0]&he)===0&&I<26;++I,he<<=1);if(I>0)for(i.iushrn(I);I-- >0;)(h.isOdd()||v.isOdd())&&(h.iadd(a),v.isub(t)),h.iushrn(1),v.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(h),m.isub(v)):(i.isub(o),h.isub(s),v.isub(m))}return{a:h,b:v,gcd:i.iushln(p)}},c.prototype._invmp=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=i.clone();o.cmpn(1)>0&&i.cmpn(1)>0;){for(var v=0,p=1;(o.words[0]&p)===0&&v<26;++v,p<<=1);if(v>0)for(o.iushrn(v);v-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var a=0,t=1;(i.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(i.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(h),m.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(m)):(i.isub(o),m.isub(s))}var F;return o.cmpn(1)===0?F=s:F=m,F.cmpn(0)<0&&F.iadd(e),F},c.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),i=e.clone();o.negative=0,i.negative=0;for(var s=0;o.isEven()&&i.isEven();s++)o.iushrn(1),i.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;i.isEven();)i.iushrn(1);var m=o.cmp(i);if(m<0){var h=o;o=i,i=h}else if(m===0||i.cmpn(1)===0)break;o.isub(i)}while(!0);return i.iushln(s)},c.prototype.invm=function(e){return this.egcd(e).a.umod(e)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(e){return this.words[0]&e},c.prototype.bincn=function(e){f(typeof e=="number");var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var m=s,h=i;m!==0&&h<this.length;h++){var v=this.words[h]|0;v+=m,m=v>>>26,v&=67108863,this.words[h]=v}return m!==0&&(this.words[h]=m,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var i;if(this.length>1)i=1;else{o&&(e=-e),f(e<=67108863,"Number is too big");var s=this.words[0]|0;i=s===e?0:s<e?-1:1}return this.negative!==0?-i|0:i},c.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},c.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,m=e.words[i]|0;if(s!==m){s<m?o=-1:s>m&&(o=1);break}}return o},c.prototype.gtn=function(e){return this.cmpn(e)===1},c.prototype.gt=function(e){return this.cmp(e)===1},c.prototype.gten=function(e){return this.cmpn(e)>=0},c.prototype.gte=function(e){return this.cmp(e)>=0},c.prototype.ltn=function(e){return this.cmpn(e)===-1},c.prototype.lt=function(e){return this.cmp(e)===-1},c.prototype.lten=function(e){return this.cmpn(e)<=0},c.prototype.lte=function(e){return this.cmp(e)<=0},c.prototype.eqn=function(e){return this.cmpn(e)===0},c.prototype.eq=function(e){return this.cmp(e)===0},c.red=function(e){return new me(e)},c.prototype.toRed=function(e){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},c.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(e){return this.red=e,this},c.prototype.forceRed=function(e){return f(!this.red,"Already a number in reduction context"),this._forceRed(e)},c.prototype.redAdd=function(e){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},c.prototype.redIAdd=function(e){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},c.prototype.redSub=function(e){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},c.prototype.redISub=function(e){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},c.prototype.redShl=function(e){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},c.prototype.redMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},c.prototype.redIMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},c.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(e){return f(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(e,o){this.name=e,this.p=new c(o,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var e=new c(null);return e.words=new Array(Math.ceil(this.n/13)),e},Y.prototype.ireduce=function(e){var o=e,i;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),i=o.bitLength();while(i>this.n);var s=i<this.n?-1:o.ucmp(this.p);return s===0?(o.words[0]=0,o.length=1):s>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},Y.prototype.split=function(e,o){e.iushrn(this.n,0,o)},Y.prototype.imulK=function(e){return e.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(e,o){for(var i=4194303,s=Math.min(e.length,9),m=0;m<s;m++)o.words[m]=e.words[m];if(o.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(o.words[o.length++]=h&i,m=10;m<e.length;m++){var v=e.words[m]|0;e.words[m-10]=(v&i)<<4|h>>>22,h=v}h>>>=22,e.words[m-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,i=0;i<e.length;i++){var s=e.words[i]|0;o+=s*977,e.words[i]=o&67108863,o=s*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function te(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(te,Y);function _e(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(_e,Y);function $e(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T($e,Y),$e.prototype.imulK=function(e){for(var o=0,i=0;i<e.length;i++){var s=(e.words[i]|0)*19+o,m=s&67108863;s>>>=26,e.words[i]=m,o=s}return o!==0&&(e.words[e.length++]=o),e},c._prime=function(e){if(K[e])return K[e];var o;if(e==="k256")o=new C;else if(e==="p224")o=new te;else if(e==="p192")o=new _e;else if(e==="p25519")o=new $e;else throw new Error("Unknown prime "+e);return K[e]=o,o};function me(e){if(typeof e=="string"){var o=c._prime(e);this.m=o.p,this.prime=o}else f(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}me.prototype._verify1=function(e){f(e.negative===0,"red works only with positives"),f(e.red,"red works only with red numbers")},me.prototype._verify2=function(e,o){f((e.negative|o.negative)===0,"red works only with positives"),f(e.red&&e.red===o.red,"red works only with red numbers")},me.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},me.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},me.prototype.add=function(e,o){this._verify2(e,o);var i=e.add(o);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},me.prototype.iadd=function(e,o){this._verify2(e,o);var i=e.iadd(o);return i.cmp(this.m)>=0&&i.isub(this.m),i},me.prototype.sub=function(e,o){this._verify2(e,o);var i=e.sub(o);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},me.prototype.isub=function(e,o){this._verify2(e,o);var i=e.isub(o);return i.cmpn(0)<0&&i.iadd(this.m),i},me.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},me.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},me.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},me.prototype.isqr=function(e){return this.imul(e,e.clone())},me.prototype.sqr=function(e){return this.mul(e,e)},me.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(f(o%2===1),o===3){var i=this.m.add(new c(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);f(!s.isZero());var h=new c(1).toRed(this),v=h.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new c(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var t=this.pow(a,s),F=this.pow(e,s.addn(1).iushrn(1)),w=this.pow(e,s),I=m;w.cmp(h)!==0;){for(var he=w,qe=0;he.cmp(h)!==0;qe++)he=he.redSqr();f(qe<I);var Ze=this.pow(t,new c(1).iushln(I-qe-1));F=F.redMul(Ze),t=Ze.redSqr(),w=w.redMul(t),I=qe}return F},me.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},me.prototype.pow=function(e,o){if(o.isZero())return new c(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var i=4,s=new Array(1<<i);s[0]=new c(1).toRed(this),s[1]=e;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],e);var h=s[0],v=0,p=0,a=o.bitLength()%26;for(a===0&&(a=26),m=o.length-1;m>=0;m--){for(var t=o.words[m],F=a-1;F>=0;F--){var w=t>>F&1;if(h!==s[0]&&(h=this.sqr(h)),w===0&&v===0){p=0;continue}v<<=1,v|=w,p++,!(p!==i&&(m!==0||F!==0))&&(h=this.mul(h,s[v]),p=0,v=0)}a=26}return h},me.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},me.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},c.mont=function(e){return new Me(e)};function Me(e){me.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Me,me),Me.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Me.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},Me.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new c(0)._forceRed(this);var i=e.mul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(typeof d>"u"||d,r)}),Cs=je((r,d)=>{var u=Va(),R=u.Buffer,f={},T;for(T in u)!u.hasOwnProperty(T)||T==="SlowBuffer"||T==="Buffer"||(f[T]=u[T]);var c=f.Buffer={};for(T in R)!R.hasOwnProperty(T)||T==="allocUnsafe"||T==="allocUnsafeSlow"||(c[T]=R[T]);if(f.Buffer.prototype=R.prototype,(!c.from||c.from===Uint8Array.from)&&(c.from=function(b,W,y){if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof b);if(b&&typeof b.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);return R(b,W,y)}),c.alloc||(c.alloc=function(b,W,y){if(typeof b!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof b);if(b<0||b>=2147483648)throw new RangeError('The value "'+b+'" is invalid for option "size"');var q=R(b);return!W||W.length===0?q.fill(0):typeof y=="string"?q.fill(W,y):q.fill(W),q}),!f.kStringMaxLength)try{f.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}f.constants||(f.constants={MAX_LENGTH:f.kMaxLength},f.kStringMaxLength&&(f.constants.MAX_STRING_LENGTH=f.kStringMaxLength)),d.exports=f}),Qs=je((r)=>{var d=ta();function u(f){this._reporterState={obj:null,path:[],options:f||{},errors:[]}}r.Reporter=u,u.prototype.isError=function(f){return f instanceof R},u.prototype.save=function(){let f=this._reporterState;return{obj:f.obj,pathLen:f.path.length}},u.prototype.restore=function(f){let T=this._reporterState;T.obj=f.obj,T.path=T.path.slice(0,f.pathLen)},u.prototype.enterKey=function(f){return this._reporterState.path.push(f)},u.prototype.exitKey=function(f){let T=this._reporterState;T.path=T.path.slice(0,f-1)},u.prototype.leaveKey=function(f,T,c){let b=this._reporterState;this.exitKey(f),b.obj!==null&&(b.obj[T]=c)},u.prototype.path=function(){return this._reporterState.path.join("/")},u.prototype.enterObject=function(){let f=this._reporterState,T=f.obj;return f.obj={},T},u.prototype.leaveObject=function(f){let T=this._reporterState,c=T.obj;return T.obj=f,c},u.prototype.error=function(f){let T,c=this._reporterState,b=f instanceof R;if(b?T=f:T=new R(c.path.map(function(W){return"["+JSON.stringify(W)+"]"}).join(""),f.message||f,f.stack),!c.options.partial)throw T;return b||c.errors.push(T),T},u.prototype.wrapResult=function(f){let T=this._reporterState;return T.options.partial?{result:this.isError(f)?null:f,errors:T.errors}:f};function R(f,T){this.path=f,this.rethrow(T)}d(R,Error),R.prototype.rethrow=function(f){if(this.message=f+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,R),!this.stack)try{throw new Error(this.message)}catch(T){this.stack=T.stack}return this}}),_o=je((r)=>{var d=ta(),u=Qs().Reporter,R=Cs().Buffer;function f(c,b){if(u.call(this,b),!R.isBuffer(c)){this.error("Input not Buffer");return}this.base=c,this.offset=0,this.length=c.length}d(f,u),r.DecoderBuffer=f,f.isDecoderBuffer=function(c){return c instanceof f?!0:typeof c=="object"&&R.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},f.prototype.save=function(){return{offset:this.offset,reporter:u.prototype.save.call(this)}},f.prototype.restore=function(c){let b=new f(this.base);return b.offset=c.offset,b.length=this.offset,this.offset=c.offset,u.prototype.restore.call(this,c.reporter),b},f.prototype.isEmpty=function(){return this.offset===this.length},f.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},f.prototype.skip=function(c,b){if(!(this.offset+c<=this.length))return this.error(b||"DecoderBuffer overrun");let W=new f(this.base);return W._reporterState=this._reporterState,W.offset=this.offset,W.length=this.offset+c,this.offset+=c,W},f.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)};function T(c,b){if(Array.isArray(c))this.length=0,this.value=c.map(function(W){return T.isEncoderBuffer(W)||(W=new T(W,b)),this.length+=W.length,W},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return b.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=R.byteLength(c);else if(R.isBuffer(c))this.value=c,this.length=c.length;else return b.error("Unsupported type: "+typeof c)}r.EncoderBuffer=T,T.isEncoderBuffer=function(c){return c instanceof T?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},T.prototype.join=function(c,b){return c||(c=R.alloc(this.length)),b||(b=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(W){W.join(c,b),b+=W.length}):(typeof this.value=="number"?c[b]=this.value:typeof this.value=="string"?c.write(this.value,b):R.isBuffer(this.value)&&this.value.copy(c,b),b+=this.length)),c}}),As=je((r,d)=>{var u=Qs().Reporter,R=_o().EncoderBuffer,f=_o().DecoderBuffer,T=ja(),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],b=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c),W=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function y(Z,$,V){let x={};this._baseState=x,x.name=V,x.enc=Z,x.parent=$||null,x.children=null,x.tag=null,x.args=null,x.reverseArgs=null,x.choice=null,x.optional=!1,x.any=!1,x.obj=!1,x.use=null,x.useDecoder=null,x.key=null,x.default=null,x.explicit=null,x.implicit=null,x.contains=null,x.parent||(x.children=[],this._wrap())}d.exports=y;var q=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];y.prototype.clone=function(){let Z=this._baseState,$={};q.forEach(function(x){$[x]=Z[x]});let V=new this.constructor($.parent);return V._baseState=$,V},y.prototype._wrap=function(){let Z=this._baseState;b.forEach(function($){this[$]=function(){let V=new this.constructor(this);return Z.children.push(V),V[$].apply(V,arguments)}},this)},y.prototype._init=function(Z){let $=this._baseState;T($.parent===null),Z.call(this),$.children=$.children.filter(function(V){return V._baseState.parent===this},this),T.equal($.children.length,1,"Root node can have only one child")},y.prototype._useArgs=function(Z){let $=this._baseState,V=Z.filter(function(x){return x instanceof this.constructor},this);Z=Z.filter(function(x){return!(x instanceof this.constructor)},this),V.length!==0&&(T($.children===null),$.children=V,V.forEach(function(x){x._baseState.parent=this},this)),Z.length!==0&&(T($.args===null),$.args=Z,$.reverseArgs=Z.map(function(x){if(typeof x!="object"||x.constructor!==Object)return x;let k={};return Object.keys(x).forEach(function(g){g==(g|0)&&(g|=0);let X=x[g];k[X]=g}),k}))},W.forEach(function(Z){y.prototype[Z]=function(){let $=this._baseState;throw new Error(Z+" not implemented for encoding: "+$.enc)}}),c.forEach(function(Z){y.prototype[Z]=function(){let $=this._baseState,V=Array.prototype.slice.call(arguments);return T($.tag===null),$.tag=Z,this._useArgs(V),this}}),y.prototype.use=function(Z){T(Z);let $=this._baseState;return T($.use===null),$.use=Z,this},y.prototype.optional=function(){let Z=this._baseState;return Z.optional=!0,this},y.prototype.def=function(Z){let $=this._baseState;return T($.default===null),$.default=Z,$.optional=!0,this},y.prototype.explicit=function(Z){let $=this._baseState;return T($.explicit===null&&$.implicit===null),$.explicit=Z,this},y.prototype.implicit=function(Z){let $=this._baseState;return T($.explicit===null&&$.implicit===null),$.implicit=Z,this},y.prototype.obj=function(){let Z=this._baseState,$=Array.prototype.slice.call(arguments);return Z.obj=!0,$.length!==0&&this._useArgs($),this},y.prototype.key=function(Z){let $=this._baseState;return T($.key===null),$.key=Z,this},y.prototype.any=function(){let Z=this._baseState;return Z.any=!0,this},y.prototype.choice=function(Z){let $=this._baseState;return T($.choice===null),$.choice=Z,this._useArgs(Object.keys(Z).map(function(V){return Z[V]})),this},y.prototype.contains=function(Z){let $=this._baseState;return T($.use===null),$.contains=Z,this},y.prototype._decode=function(Z,$){let V=this._baseState;if(V.parent===null)return Z.wrapResult(V.children[0]._decode(Z,$));let x=V.default,k=!0,g=null;if(V.key!==null&&(g=Z.enterKey(V.key)),V.optional){let E=null;if(V.explicit!==null?E=V.explicit:V.implicit!==null?E=V.implicit:V.tag!==null&&(E=V.tag),E===null&&!V.any){let z=Z.save();try{V.choice===null?this._decodeGeneric(V.tag,Z,$):this._decodeChoice(Z,$),k=!0}catch{k=!1}Z.restore(z)}else if(k=this._peekTag(Z,E,V.any),Z.isError(k))return k}let X;if(V.obj&&k&&(X=Z.enterObject()),k){if(V.explicit!==null){let z=this._decodeTag(Z,V.explicit);if(Z.isError(z))return z;Z=z}let E=Z.offset;if(V.use===null&&V.choice===null){let z;V.any&&(z=Z.save());let K=this._decodeTag(Z,V.implicit!==null?V.implicit:V.tag,V.any);if(Z.isError(K))return K;V.any?x=Z.raw(z):Z=K}if($&&$.track&&V.tag!==null&&$.track(Z.path(),E,Z.length,"tagged"),$&&$.track&&V.tag!==null&&$.track(Z.path(),Z.offset,Z.length,"content"),V.any||(V.choice===null?x=this._decodeGeneric(V.tag,Z,$):x=this._decodeChoice(Z,$)),Z.isError(x))return x;if(!V.any&&V.choice===null&&V.children!==null&&V.children.forEach(function(z){z._decode(Z,$)}),V.contains&&(V.tag==="octstr"||V.tag==="bitstr")){let z=new f(x);x=this._getUse(V.contains,Z._reporterState.obj)._decode(z,$)}}return V.obj&&k&&(x=Z.leaveObject(X)),V.key!==null&&(x!==null||k===!0)?Z.leaveKey(g,V.key,x):g!==null&&Z.exitKey(g),x},y.prototype._decodeGeneric=function(Z,$,V){let x=this._baseState;return Z==="seq"||Z==="set"?null:Z==="seqof"||Z==="setof"?this._decodeList($,Z,x.args[0],V):/str$/.test(Z)?this._decodeStr($,Z,V):Z==="objid"&&x.args?this._decodeObjid($,x.args[0],x.args[1],V):Z==="objid"?this._decodeObjid($,null,null,V):Z==="gentime"||Z==="utctime"?this._decodeTime($,Z,V):Z==="null_"?this._decodeNull($,V):Z==="bool"?this._decodeBool($,V):Z==="objDesc"?this._decodeStr($,Z,V):Z==="int"||Z==="enum"?this._decodeInt($,x.args&&x.args[0],V):x.use!==null?this._getUse(x.use,$._reporterState.obj)._decode($,V):$.error("unknown tag: "+Z)},y.prototype._getUse=function(Z,$){let V=this._baseState;return V.useDecoder=this._use(Z,$),T(V.useDecoder._baseState.parent===null),V.useDecoder=V.useDecoder._baseState.children[0],V.implicit!==V.useDecoder._baseState.implicit&&(V.useDecoder=V.useDecoder.clone(),V.useDecoder._baseState.implicit=V.implicit),V.useDecoder},y.prototype._decodeChoice=function(Z,$){let V=this._baseState,x=null,k=!1;return Object.keys(V.choice).some(function(g){let X=Z.save(),E=V.choice[g];try{let z=E._decode(Z,$);if(Z.isError(z))return!1;x={type:g,value:z},k=!0}catch{return Z.restore(X),!1}return!0},this),k?x:Z.error("Choice not matched")},y.prototype._createEncoderBuffer=function(Z){return new R(Z,this.reporter)},y.prototype._encode=function(Z,$,V){let x=this._baseState;if(x.default!==null&&x.default===Z)return;let k=this._encodeValue(Z,$,V);if(k!==void 0&&!this._skipDefault(k,$,V))return k},y.prototype._encodeValue=function(Z,$,V){let x=this._baseState;if(x.parent===null)return x.children[0]._encode(Z,$||new u);let k=null;if(this.reporter=$,x.optional&&Z===void 0)if(x.default!==null)Z=x.default;else return;let g=null,X=!1;if(x.any)k=this._createEncoderBuffer(Z);else if(x.choice)k=this._encodeChoice(Z,$);else if(x.contains)g=this._getUse(x.contains,V)._encode(Z,$),X=!0;else if(x.children)g=x.children.map(function(E){if(E._baseState.tag==="null_")return E._encode(null,$,Z);if(E._baseState.key===null)return $.error("Child should have a key");let z=$.enterKey(E._baseState.key);if(typeof Z!="object")return $.error("Child expected, but input is not object");let K=E._encode(Z[E._baseState.key],$,Z);return $.leaveKey(z),K},this).filter(function(E){return E}),g=this._createEncoderBuffer(g);else if(x.tag==="seqof"||x.tag==="setof"){if(!(x.args&&x.args.length===1))return $.error("Too many args for : "+x.tag);if(!Array.isArray(Z))return $.error("seqof/setof, but data is not Array");let E=this.clone();E._baseState.implicit=null,g=this._createEncoderBuffer(Z.map(function(z){let K=this._baseState;return this._getUse(K.args[0],Z)._encode(z,$)},E))}else x.use!==null?k=this._getUse(x.use,V)._encode(Z,$):(g=this._encodePrimitive(x.tag,Z),X=!0);if(!x.any&&x.choice===null){let E=x.implicit!==null?x.implicit:x.tag,z=x.implicit===null?"universal":"context";E===null?x.use===null&&$.error("Tag could be omitted only for .use()"):x.use===null&&(k=this._encodeComposite(E,X,z,g))}return x.explicit!==null&&(k=this._encodeComposite(x.explicit,!1,"context",k)),k},y.prototype._encodeChoice=function(Z,$){let V=this._baseState,x=V.choice[Z.type];return x||T(!1,Z.type+" not found in "+JSON.stringify(Object.keys(V.choice))),x._encode(Z.value,$)},y.prototype._encodePrimitive=function(Z,$){let V=this._baseState;if(/str$/.test(Z))return this._encodeStr($,Z);if(Z==="objid"&&V.args)return this._encodeObjid($,V.reverseArgs[0],V.args[1]);if(Z==="objid")return this._encodeObjid($,null,null);if(Z==="gentime"||Z==="utctime")return this._encodeTime($,Z);if(Z==="null_")return this._encodeNull();if(Z==="int"||Z==="enum")return this._encodeInt($,V.args&&V.reverseArgs[0]);if(Z==="bool")return this._encodeBool($);if(Z==="objDesc")return this._encodeStr($,Z);throw new Error("Unsupported tag: "+Z)},y.prototype._isNumstr=function(Z){return/^[0-9 ]*$/.test(Z)},y.prototype._isPrintstr=function(Z){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(Z)}}),er=je((r)=>{function d(u){let R={};return Object.keys(u).forEach(function(f){(f|0)==f&&(f=f|0);let T=u[f];R[T]=f}),R}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=d(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=d(r.tag)}),kl=je((r,d)=>{var u=ta(),R=Cs().Buffer,f=As(),T=er();function c(q){this.enc="der",this.name=q.name,this.entity=q,this.tree=new b,this.tree._init(q.body)}d.exports=c,c.prototype.encode=function(q,Z){return this.tree._encode(q,Z).join()};function b(q){f.call(this,"der",q)}u(b,f),b.prototype._encodeComposite=function(q,Z,$,V){let x=y(q,Z,$,this.reporter);if(V.length<128){let X=R.alloc(2);return X[0]=x,X[1]=V.length,this._createEncoderBuffer([X,V])}let k=1;for(let X=V.length;X>=256;X>>=8)k++;let g=R.alloc(2+k);g[0]=x,g[1]=128|k;for(let X=1+k,E=V.length;E>0;X--,E>>=8)g[X]=E&255;return this._createEncoderBuffer([g,V])},b.prototype._encodeStr=function(q,Z){if(Z==="bitstr")return this._createEncoderBuffer([q.unused|0,q.data]);if(Z==="bmpstr"){let $=R.alloc(q.length*2);for(let V=0;V<q.length;V++)$.writeUInt16BE(q.charCodeAt(V),V*2);return this._createEncoderBuffer($)}else return Z==="numstr"?this._isNumstr(q)?this._createEncoderBuffer(q):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Z==="printstr"?this._isPrintstr(q)?this._createEncoderBuffer(q):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Z)?this._createEncoderBuffer(q):Z==="objDesc"?this._createEncoderBuffer(q):this.reporter.error("Encoding of string type: "+Z+" unsupported")},b.prototype._encodeObjid=function(q,Z,$){if(typeof q=="string"){if(!Z)return this.reporter.error("string objid given, but no values map found");if(!Z.hasOwnProperty(q))return this.reporter.error("objid not found in values map");q=Z[q].split(/[\s.]+/g);for(let g=0;g<q.length;g++)q[g]|=0}else if(Array.isArray(q)){q=q.slice();for(let g=0;g<q.length;g++)q[g]|=0}if(!Array.isArray(q))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(q));if(!$){if(q[1]>=40)return this.reporter.error("Second objid identifier OOB");q.splice(0,2,q[0]*40+q[1])}let V=0;for(let g=0;g<q.length;g++){let X=q[g];for(V++;X>=128;X>>=7)V++}let x=R.alloc(V),k=x.length-1;for(let g=q.length-1;g>=0;g--){let X=q[g];for(x[k--]=X&127;(X>>=7)>0;)x[k--]=128|X&127}return this._createEncoderBuffer(x)};function W(q){return q<10?"0"+q:q}b.prototype._encodeTime=function(q,Z){let $,V=new Date(q);return Z==="gentime"?$=[W(V.getUTCFullYear()),W(V.getUTCMonth()+1),W(V.getUTCDate()),W(V.getUTCHours()),W(V.getUTCMinutes()),W(V.getUTCSeconds()),"Z"].join(""):Z==="utctime"?$=[W(V.getUTCFullYear()%100),W(V.getUTCMonth()+1),W(V.getUTCDate()),W(V.getUTCHours()),W(V.getUTCMinutes()),W(V.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Z+" time is not supported yet"),this._encodeStr($,"octstr")},b.prototype._encodeNull=function(){return this._createEncoderBuffer("")},b.prototype._encodeInt=function(q,Z){if(typeof q=="string"){if(!Z)return this.reporter.error("String int or enum given, but no values map");if(!Z.hasOwnProperty(q))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(q));q=Z[q]}if(typeof q!="number"&&!R.isBuffer(q)){let x=q.toArray();!q.sign&&x[0]&128&&x.unshift(0),q=R.from(x)}if(R.isBuffer(q)){let x=q.length;q.length===0&&x++;let k=R.alloc(x);return q.copy(k),q.length===0&&(k[0]=0),this._createEncoderBuffer(k)}if(q<128)return this._createEncoderBuffer(q);if(q<256)return this._createEncoderBuffer([0,q]);let $=1;for(let x=q;x>=256;x>>=8)$++;let V=new Array($);for(let x=V.length-1;x>=0;x--)V[x]=q&255,q>>=8;return V[0]&128&&V.unshift(0),this._createEncoderBuffer(R.from(V))},b.prototype._encodeBool=function(q){return this._createEncoderBuffer(q?255:0)},b.prototype._use=function(q,Z){return typeof q=="function"&&(q=q(Z)),q._getEncoder("der").tree},b.prototype._skipDefault=function(q,Z,$){let V=this._baseState,x;if(V.default===null)return!1;let k=q.join();if(V.defaultBuffer===void 0&&(V.defaultBuffer=this._encodeValue(V.default,Z,$).join()),k.length!==V.defaultBuffer.length)return!1;for(x=0;x<k.length;x++)if(k[x]!==V.defaultBuffer[x])return!1;return!0};function y(q,Z,$,V){let x;if(q==="seqof"?q="seq":q==="setof"&&(q="set"),T.tagByName.hasOwnProperty(q))x=T.tagByName[q];else if(typeof q=="number"&&(q|0)===q)x=q;else return V.error("Unknown tag: "+q);return x>=31?V.error("Multi-octet tag encoding unsupported"):(Z||(x|=32),x|=T.tagClassByName[$||"universal"]<<6,x)}}),r0=je((r,d)=>{var u=ta(),R=kl();function f(T){R.call(this,T),this.enc="pem"}u(f,R),d.exports=f,f.prototype.encode=function(T,c){let b=R.prototype.encode.call(this,T).toString("base64"),W=["-----BEGIN "+c.label+"-----"];for(let y=0;y<b.length;y+=64)W.push(b.slice(y,y+64));return W.push("-----END "+c.label+"-----"),W.join(`
`)}}),Tl=je((r)=>{var d=r;d.der=kl(),d.pem=r0()}),xl=je((r,d)=>{var u=ta(),R=ql(),f=_o().DecoderBuffer,T=As(),c=er();function b(Z){this.enc="der",this.name=Z.name,this.entity=Z,this.tree=new W,this.tree._init(Z.body)}d.exports=b,b.prototype.decode=function(Z,$){return f.isDecoderBuffer(Z)||(Z=new f(Z,$)),this.tree._decode(Z,$)};function W(Z){T.call(this,"der",Z)}u(W,T),W.prototype._peekTag=function(Z,$,V){if(Z.isEmpty())return!1;let x=Z.save(),k=y(Z,'Failed to peek tag: "'+$+'"');return Z.isError(k)?k:(Z.restore(x),k.tag===$||k.tagStr===$||k.tagStr+"of"===$||V)},W.prototype._decodeTag=function(Z,$,V){let x=y(Z,'Failed to decode tag of "'+$+'"');if(Z.isError(x))return x;let k=q(Z,x.primitive,'Failed to get length of "'+$+'"');if(Z.isError(k))return k;if(!V&&x.tag!==$&&x.tagStr!==$&&x.tagStr+"of"!==$)return Z.error('Failed to match tag: "'+$+'"');if(x.primitive||k!==null)return Z.skip(k,'Failed to match body of: "'+$+'"');let g=Z.save(),X=this._skipUntilEnd(Z,'Failed to skip indefinite length body: "'+this.tag+'"');return Z.isError(X)?X:(k=Z.offset-g.offset,Z.restore(g),Z.skip(k,'Failed to match body of: "'+$+'"'))},W.prototype._skipUntilEnd=function(Z,$){for(;;){let V=y(Z,$);if(Z.isError(V))return V;let x=q(Z,V.primitive,$);if(Z.isError(x))return x;let k;if(V.primitive||x!==null?k=Z.skip(x):k=this._skipUntilEnd(Z,$),Z.isError(k))return k;if(V.tagStr==="end")break}},W.prototype._decodeList=function(Z,$,V,x){let k=[];for(;!Z.isEmpty();){let g=this._peekTag(Z,"end");if(Z.isError(g))return g;let X=V.decode(Z,"der",x);if(Z.isError(X)&&g)break;k.push(X)}return k},W.prototype._decodeStr=function(Z,$){if($==="bitstr"){let V=Z.readUInt8();return Z.isError(V)?V:{unused:V,data:Z.raw()}}else if($==="bmpstr"){let V=Z.raw();if(V.length%2===1)return Z.error("Decoding of string type: bmpstr length mismatch");let x="";for(let k=0;k<V.length/2;k++)x+=String.fromCharCode(V.readUInt16BE(k*2));return x}else if($==="numstr"){let V=Z.raw().toString("ascii");return this._isNumstr(V)?V:Z.error("Decoding of string type: numstr unsupported characters")}else{if($==="octstr")return Z.raw();if($==="objDesc")return Z.raw();if($==="printstr"){let V=Z.raw().toString("ascii");return this._isPrintstr(V)?V:Z.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test($)?Z.raw().toString():Z.error("Decoding of string type: "+$+" unsupported")}},W.prototype._decodeObjid=function(Z,$,V){let x,k=[],g=0,X=0;for(;!Z.isEmpty();)X=Z.readUInt8(),g<<=7,g|=X&127,(X&128)===0&&(k.push(g),g=0);X&128&&k.push(g);let E=k[0]/40|0,z=k[0]%40;if(V?x=k:x=[E,z].concat(k.slice(1)),$){let K=$[x.join(" ")];K===void 0&&(K=$[x.join(".")]),K!==void 0&&(x=K)}return x},W.prototype._decodeTime=function(Z,$){let V=Z.raw().toString(),x,k,g,X,E,z;if($==="gentime")x=V.slice(0,4)|0,k=V.slice(4,6)|0,g=V.slice(6,8)|0,X=V.slice(8,10)|0,E=V.slice(10,12)|0,z=V.slice(12,14)|0;else if($==="utctime")x=V.slice(0,2)|0,k=V.slice(2,4)|0,g=V.slice(4,6)|0,X=V.slice(6,8)|0,E=V.slice(8,10)|0,z=V.slice(10,12)|0,x<70?x=2000+x:x=1900+x;else return Z.error("Decoding "+$+" time is not supported yet");return Date.UTC(x,k-1,g,X,E,z,0)},W.prototype._decodeNull=function(){return null},W.prototype._decodeBool=function(Z){let $=Z.readUInt8();return Z.isError($)?$:$!==0},W.prototype._decodeInt=function(Z,$){let V=Z.raw(),x=new R(V);return $&&(x=$[x.toString(10)]||x),x},W.prototype._use=function(Z,$){return typeof Z=="function"&&(Z=Z($)),Z._getDecoder("der").tree};function y(Z,$){let V=Z.readUInt8($);if(Z.isError(V))return V;let x=c.tagClass[V>>6],k=(V&32)===0;if((V&31)===31){let X=V;for(V=0;(X&128)===128;){if(X=Z.readUInt8($),Z.isError(X))return X;V<<=7,V|=X&127}}else V&=31;let g=c.tag[V];return{cls:x,primitive:k,tag:V,tagStr:g}}function q(Z,$,V){let x=Z.readUInt8(V);if(Z.isError(x))return x;if(!$&&x===128)return null;if((x&128)===0)return x;let k=x&127;if(k>4)return Z.error("length octect is too long");x=0;for(let g=0;g<k;g++){x<<=8;let X=Z.readUInt8(V);if(Z.isError(X))return X;x|=X}return x}}),l0=je((r,d)=>{var u=ta(),R=Cs().Buffer,f=xl();function T(c){f.call(this,c),this.enc="pem"}u(T,f),d.exports=T,T.prototype.decode=function(c,b){let W=c.toString().split(/[\r\n]+/g),y=b.label.toUpperCase(),q=/^-----(BEGIN|END) ([^-]+)-----$/,Z=-1,$=-1;for(let k=0;k<W.length;k++){let g=W[k].match(q);if(g!==null&&g[2]===y)if(Z===-1){if(g[1]!=="BEGIN")break;Z=k}else{if(g[1]!=="END")break;$=k;break}}if(Z===-1||$===-1)throw new Error("PEM section not found for: "+y);let V=W.slice(Z+1,$).join("");V.replace(/[^a-z0-9+/=]+/gi,"");let x=R.from(V,"base64");return f.prototype.decode.call(this,x,b)}}),$l=je((r)=>{var d=r;d.der=xl(),d.pem=l0()}),i0=je((r)=>{var d=Tl(),u=$l(),R=ta(),f=r;f.define=function(c,b){return new T(c,b)};function T(c,b){this.name=c,this.body=b,this.decoders={},this.encoders={}}T.prototype._createNamed=function(c){let b=this.name;function W(y){this._initNamed(y,b)}return R(W,c),W.prototype._initNamed=function(y,q){c.call(this,y,q)},new W(this)},T.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(u[c])),this.decoders[c]},T.prototype.decode=function(c,b,W){return this._getDecoder(b).decode(c,W)},T.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(d[c])),this.encoders[c]},T.prototype.encode=function(c,b,W){return this._getEncoder(b).encode(c,W)}}),c0=je((r)=>{var d=r;d.Reporter=Qs().Reporter,d.DecoderBuffer=_o().DecoderBuffer,d.EncoderBuffer=_o().EncoderBuffer,d.Node=As()}),u0=je((r)=>{var d=r;d._reverse=function(u){let R={};return Object.keys(u).forEach(function(f){(f|0)==f&&(f=f|0);let T=u[f];R[T]=f}),R},d.der=er()}),Ml=je((r)=>{var d=r;d.bignum=ql(),d.define=i0().define,d.base=c0(),d.constants=u0(),d.decoders=$l(),d.encoders=Tl()}),m0=je((r,d)=>{var u=Ml(),R=u.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),f=u.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),T=u.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=u.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(T),this.key("subjectPublicKey").bitstr())}),b=u.define("RelativeDistinguishedName",function(){this.setof(f)}),W=u.define("RDNSequence",function(){this.seqof(b)}),y=u.define("Name",function(){this.choice({rdnSequence:this.use(W)})}),q=u.define("Validity",function(){this.seq().obj(this.key("notBefore").use(R),this.key("notAfter").use(R))}),Z=u.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),$=u.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(T),this.key("issuer").use(y),this.key("validity").use(q),this.key("subject").use(y),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Z).optional())}),V=u.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use($),this.key("signatureAlgorithm").use(T),this.key("signatureValue").bitstr())});d.exports=V}),t0=je((r)=>{var d=Ml();r.certificate=m0();var u=d.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});r.RSAPrivateKey=u;var R=d.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});r.RSAPublicKey=R;var f=d.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(T),this.key("subjectPublicKey").bitstr())});r.PublicKey=f;var T=d.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=d.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(T),this.key("subjectPrivateKey").octstr())});r.PrivateKey=c;var b=d.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});r.EncryptedPrivateKey=b;var W=d.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});r.DSAPrivateKey=W,r.DSAparam=d.define("DSAparam",function(){this.int()});var y=d.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(q),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=y;var q=d.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});r.signature=d.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),p0=je((r,d)=>{d.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),d0=je((r,d)=>{var u=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,R=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,f=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,T=Ho(),c=Ps(),b=fa().Buffer;d.exports=function(W,y){var q=W.toString(),Z=q.match(u),$;if(Z){var V="aes"+Z[1],x=b.from(Z[2],"hex"),k=b.from(Z[3].replace(/[\r\n]/g,""),"base64"),g=T(y,x.slice(0,8),parseInt(Z[1],10)).key,X=[],E=c.createDecipheriv(V,g,x);X.push(E.update(k)),X.push(E.final()),$=b.concat(X)}else{var z=q.match(f);$=b.from(z[2].replace(/[\r\n]/g,""),"base64")}var K=q.match(R)[1];return{tag:K,data:$}}}),Bo=je((r,d)=>{var u=t0(),R=p0(),f=d0(),T=Ps(),c=al(),b=fa().Buffer;d.exports=W;function W(q){var Z;typeof q=="object"&&!b.isBuffer(q)&&(Z=q.passphrase,q=q.key),typeof q=="string"&&(q=b.from(q));var $=f(q,Z),V=$.tag,x=$.data,k,g;switch(V){case"CERTIFICATE":g=u.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=u.PublicKey.decode(x,"der")),k=g.algorithm.algorithm.join("."),k){case"1.2.840.113549.1.1.1":return u.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=u.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+k)}case"ENCRYPTED PRIVATE KEY":x=u.EncryptedPrivateKey.decode(x,"der"),x=y(x,Z);case"PRIVATE KEY":switch(g=u.PrivateKey.decode(x,"der"),k=g.algorithm.algorithm.join("."),k){case"1.2.840.113549.1.1.1":return u.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:u.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=u.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+k)}case"RSA PUBLIC KEY":return u.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return u.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:u.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return x=u.ECPrivateKey.decode(x,"der"),{curve:x.parameters.value,privateKey:x.privateKey};default:throw new Error("unknown key type "+V)}}W.signature=u.signature;function y(q,Z){var $=q.algorithm.decrypt.kde.kdeparams.salt,V=parseInt(q.algorithm.decrypt.kde.kdeparams.iters.toString(),10),x=R[q.algorithm.decrypt.cipher.algo.join(".")],k=q.algorithm.decrypt.cipher.iv,g=q.subjectPrivateKey,X=parseInt(x.split("-")[1],10)/8,E=c.pbkdf2Sync(Z,$,V,X,"sha1"),z=T.createDecipheriv(x,E,k),K=[];return K.push(z.update(g)),K.push(z.final()),b.concat(K)}}),Vl=je((r,d)=>{d.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),_0=je((r,d)=>{var u=fa().Buffer,R=Yr(),f=Ds(),T=Bs().ec,c=Gs(),b=Bo(),W=Vl();function y(E,z,K,Y,C){var te=b(z);if(te.curve){if(Y!=="ecdsa"&&Y!=="ecdsa/rsa")throw new Error("wrong private key type");return q(E,te)}else if(te.type==="dsa"){if(Y!=="dsa")throw new Error("wrong private key type");return Z(E,te,K)}else if(Y!=="rsa"&&Y!=="ecdsa/rsa")throw new Error("wrong private key type");E=u.concat([C,E]);for(var _e=te.modulus.byteLength(),$e=[0,1];E.length+$e.length+1<_e;)$e.push(255);$e.push(0);for(var me=-1;++me<E.length;)$e.push(E[me]);var Me=f($e,te);return Me}function q(E,z){var K=W[z.curve.join(".")];if(!K)throw new Error("unknown curve "+z.curve.join("."));var Y=new T(K),C=Y.keyFromPrivate(z.privateKey),te=C.sign(E);return u.from(te.toDER())}function Z(E,z,K){for(var Y=z.params.priv_key,C=z.params.p,te=z.params.q,_e=z.params.g,$e=new c(0),me,Me=x(E,te).mod(te),e=!1,o=V(Y,te,E,K);e===!1;)me=g(te,o,K),$e=X(_e,me,C,te),e=me.invm(te).imul(Me.add(Y.mul($e))).mod(te),e.cmpn(0)===0&&(e=!1,$e=new c(0));return $($e,e)}function $(E,z){E=E.toArray(),z=z.toArray(),E[0]&128&&(E=[0].concat(E)),z[0]&128&&(z=[0].concat(z));var K=E.length+z.length+4,Y=[48,K,2,E.length];return Y=Y.concat(E,[2,z.length],z),u.from(Y)}function V(E,z,K,Y){if(E=u.from(E.toArray()),E.length<z.byteLength()){var C=u.alloc(z.byteLength()-E.length);E=u.concat([C,E])}var te=K.length,_e=k(K,z),$e=u.alloc(te);$e.fill(1);var me=u.alloc(te);return me=R(Y,me).update($e).update(u.from([0])).update(E).update(_e).digest(),$e=R(Y,me).update($e).digest(),me=R(Y,me).update($e).update(u.from([1])).update(E).update(_e).digest(),$e=R(Y,me).update($e).digest(),{k:me,v:$e}}function x(E,z){var K=new c(E),Y=(E.length<<3)-z.bitLength();return Y>0&&K.ishrn(Y),K}function k(E,z){E=x(E,z),E=E.mod(z);var K=u.from(E.toArray());if(K.length<z.byteLength()){var Y=u.alloc(z.byteLength()-K.length);K=u.concat([Y,K])}return K}function g(E,z,K){var Y,C;do{for(Y=u.alloc(0);Y.length*8<E.bitLength();)z.v=R(K,z.k).update(z.v).digest(),Y=u.concat([Y,z.v]);C=x(Y,E),z.k=R(K,z.k).update(z.v).update(u.from([0])).digest(),z.v=R(K,z.k).update(z.v).digest()}while(C.cmp(E)!==-1);return C}function X(E,z,K,Y){return E.toRed(c.mont(K)).redPow(z).fromRed().mod(Y)}d.exports=y,d.exports.getKey=V,d.exports.makeKey=g}),f0=je((r,d)=>{var u=fa().Buffer,R=Gs(),f=Bs().ec,T=Bo(),c=Vl();function b(Z,$,V,x,k){var g=T(V);if(g.type==="ec"){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");return W(Z,$,g)}else if(g.type==="dsa"){if(x!=="dsa")throw new Error("wrong public key type");return y(Z,$,g)}else if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");$=u.concat([k,$]);for(var X=g.modulus.byteLength(),E=[1],z=0;$.length+E.length+2<X;)E.push(255),z++;E.push(0);for(var K=-1;++K<$.length;)E.push($[K]);E=u.from(E);var Y=R.mont(g.modulus);Z=new R(Z).toRed(Y),Z=Z.redPow(new R(g.publicExponent)),Z=u.from(Z.fromRed().toArray());var C=z<8?1:0;for(X=Math.min(Z.length,E.length),Z.length!==E.length&&(C=1),K=-1;++K<X;)C|=Z[K]^E[K];return C===0}function W(Z,$,V){var x=c[V.data.algorithm.curve.join(".")];if(!x)throw new Error("unknown curve "+V.data.algorithm.curve.join("."));var k=new f(x),g=V.data.subjectPrivateKey.data;return k.verify($,Z,g)}function y(Z,$,V){var x=V.data.p,k=V.data.q,g=V.data.g,X=V.data.pub_key,E=T.signature.decode(Z,"der"),z=E.s,K=E.r;q(z,k),q(K,k);var Y=R.mont(x),C=z.invm(k),te=g.toRed(Y).redPow(new R($).mul(C).mod(k)).fromRed().mul(X.toRed(Y).redPow(K.mul(C).mod(k)).fromRed()).mod(x).mod(k);return te.cmp(K)===0}function q(Z,$){if(Z.cmpn(0)<=0)throw new Error("invalid sig");if(Z.cmp($)>=$)throw new Error("invalid sig")}d.exports=b}),h0=je((r,d)=>{var u=fa().Buffer,R=mo(),f=Ec(),T=ta(),c=_0(),b=f0(),W=Br();Object.keys(W).forEach(function(V){W[V].id=u.from(W[V].id,"hex"),W[V.toLowerCase()]=W[V]});function y(V){f.Writable.call(this);var x=W[V];if(!x)throw new Error("Unknown message digest");this._hashType=x.hash,this._hash=R(x.hash),this._tag=x.id,this._signType=x.sign}T(y,f.Writable),y.prototype._write=function(V,x,k){this._hash.update(V),k()},y.prototype.update=function(V,x){return typeof V=="string"&&(V=u.from(V,x)),this._hash.update(V),this},y.prototype.sign=function(V,x){this.end();var k=this._hash.digest(),g=c(k,V,this._hashType,this._signType,this._tag);return x?g.toString(x):g};function q(V){f.Writable.call(this);var x=W[V];if(!x)throw new Error("Unknown message digest");this._hash=R(x.hash),this._tag=x.id,this._signType=x.sign}T(q,f.Writable),q.prototype._write=function(V,x,k){this._hash.update(V),k()},q.prototype.update=function(V,x){return typeof V=="string"&&(V=u.from(V,x)),this._hash.update(V),this},q.prototype.verify=function(V,x,k){typeof x=="string"&&(x=u.from(x,k)),this.end();var g=this._hash.digest();return b(x,g,V,this._signType,this._tag)};function Z(V){return new y(V)}function $(V){return new q(V)}d.exports={Sign:Z,Verify:$,createSign:Z,createVerify:$}}),b0=je((r,d)=>{(function(u,R){function f(e,o){if(!e)throw new Error(o||"Assertion failed")}function T(e,o){e.super_=o;var i=function(){};i.prototype=o.prototype,e.prototype=new i,e.prototype.constructor=e}function c(e,o,i){if(c.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((o==="le"||o==="be")&&(i=o,o=10),this._init(e||0,o||10,i||"be"))}typeof u=="object"?u.exports=c:R.BN=c,c.BN=c,c.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=Vn().Buffer}catch{}c.isBN=function(e){return e instanceof c?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===c.wordSize&&Array.isArray(e.words)},c.max=function(e,o){return e.cmp(o)>0?e:o},c.min=function(e,o){return e.cmp(o)<0?e:o},c.prototype._init=function(e,o,i){if(typeof e=="number")return this._initNumber(e,o,i);if(typeof e=="object")return this._initArray(e,o,i);o==="hex"&&(o=16),f(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(o===16?this._parseHex(e,s,i):(this._parseBase(e,o,s),i==="le"&&this._initArray(this.toArray(),o,i)))},c.prototype._initNumber=function(e,o,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(f(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),o,i)},c.prototype._initArray=function(e,o,i){if(f(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,h,v=0;if(i==="be")for(s=e.length-1,m=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);else if(i==="le")for(s=0,m=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);return this.strip()};function W(e,o){var i=e.charCodeAt(o);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function y(e,o,i){var s=W(e,i);return i-1>=o&&(s|=W(e,i-1)<<4),s}c.prototype._parseHex=function(e,o,i){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,h=0,v;if(i==="be")for(s=e.length-1;s>=o;s-=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8;else{var p=e.length-o;for(s=p%2===0?o+1:o;s<e.length;s+=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8}this.strip()};function q(e,o,i,s){for(var m=0,h=Math.min(e.length,i),v=o;v<h;v++){var p=e.charCodeAt(v)-48;m*=s,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}c.prototype._parseBase=function(e,o,i){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=o)s++;s--,m=m/o|0;for(var h=e.length-i,v=h%s,p=Math.min(h,h-v)+i,a=0,t=i;t<p;t+=s)a=q(e,t,t+s,o),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var F=1;for(a=q(e,t,e.length,o),t=0;t<v;t++)F*=o;this.imuln(F),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},c.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},c.prototype.clone=function(){var e=new c(null);return this.copy(e),e},c.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(e,o){e=e||10,o=o|0||1;var i;if(e===16||e==="hex"){i="";for(var s=0,m=0,h=0;h<this.length;h++){var v=this.words[h],p=((v<<s|m)&16777215).toString(16);m=v>>>24-s&16777215,m!==0||h!==this.length-1?i=Z[6-p.length]+p+i:i=p+i,s+=2,s>=26&&(s-=26,h--)}for(m!==0&&(i=m.toString(16)+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(e===(e|0)&&e>=2&&e<=36){var a=$[e],t=V[e];i="";var F=this.clone();for(F.negative=0;!F.isZero();){var w=F.modn(t).toString(e);F=F.idivn(t),F.isZero()?i=w+i:i=Z[a-w.length]+w+i}for(this.isZero()&&(i="0"+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}f(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(e,o){return f(typeof b<"u"),this.toArrayLike(b,e,o)},c.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},c.prototype.toArrayLike=function(e,o,i){var s=this.byteLength(),m=i||Math.max(1,s);f(s<=m,"byte array longer than desired length"),f(m>0,"Requested array length <= 0"),this.strip();var h=o==="le",v=new e(m),p,a,t=this.clone();if(h){for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[a]=p;for(;a<m;a++)v[a]=0}else{for(a=0;a<m-s;a++)v[a]=0;for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[m-a-1]=p}return v},Math.clz32?c.prototype._countBits=function(e){return 32-Math.clz32(e)}:c.prototype._countBits=function(e){var o=e,i=0;return o>=4096&&(i+=13,o>>>=13),o>=64&&(i+=7,o>>>=7),o>=8&&(i+=4,o>>>=4),o>=2&&(i+=2,o>>>=2),i+o},c.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,i=0;return(o&8191)===0&&(i+=13,o>>>=13),(o&127)===0&&(i+=7,o>>>=7),(o&15)===0&&(i+=4,o>>>=4),(o&3)===0&&(i+=2,o>>>=2),(o&1)===0&&i++,i},c.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function x(e){for(var o=new Array(e.bitLength()),i=0;i<o.length;i++){var s=i/26|0,m=i%26;o[i]=(e.words[s]&1<<m)>>>m}return o}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var i=this._zeroBits(this.words[o]);if(e+=i,i!==26)break}return e},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},c.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},c.prototype.ior=function(e){return f((this.negative|e.negative)===0),this.iuor(e)},c.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},c.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},c.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var i=0;i<o.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=o.length,this.strip()},c.prototype.iand=function(e){return f((this.negative|e.negative)===0),this.iuand(e)},c.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},c.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},c.prototype.iuxor=function(e){var o,i;this.length>e.length?(o=this,i=e):(o=e,i=this);for(var s=0;s<i.length;s++)this.words[s]=o.words[s]^i.words[s];if(this!==o)for(;s<o.length;s++)this.words[s]=o.words[s];return this.length=o.length,this.strip()},c.prototype.ixor=function(e){return f((this.negative|e.negative)===0),this.iuxor(e)},c.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},c.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},c.prototype.inotn=function(e){f(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,i=e%26;this._expand(o),i>0&&o--;for(var s=0;s<o;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},c.prototype.notn=function(e){return this.clone().inotn(e)},c.prototype.setn=function(e,o){f(typeof e=="number"&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),o?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},c.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var i,s;this.length>e.length?(i=this,s=e):(i=e,s=this);for(var m=0,h=0;h<s.length;h++)o=(i.words[h]|0)+(s.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;for(;m!==0&&h<i.length;h++)o=(i.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;if(this.length=i.length,m!==0)this.words[this.length]=m,this.length++;else if(i!==this)for(;h<i.length;h++)this.words[h]=i.words[h];return this},c.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},c.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;i>0?(s=this,m=e):(s=e,m=this);for(var h=0,v=0;v<m.length;v++)o=(s.words[v]|0)-(m.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;for(;h!==0&&v<s.length;v++)o=(s.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;if(h===0&&v<s.length&&s!==this)for(;v<s.length;v++)this.words[v]=s.words[v];return this.length=Math.max(this.length,v),s!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(e){return this.clone().isub(e)};function k(e,o,i){i.negative=o.negative^e.negative;var s=e.length+o.length|0;i.length=s,s=s-1|0;var m=e.words[0]|0,h=o.words[0]|0,v=m*h,p=v&67108863,a=v/67108864|0;i.words[0]=p;for(var t=1;t<s;t++){for(var F=a>>>26,w=a&67108863,I=Math.min(t,o.length-1),he=Math.max(0,t-e.length+1);he<=I;he++){var qe=t-he|0;m=e.words[qe]|0,h=o.words[he]|0,v=m*h+w,F+=v/67108864|0,w=v&67108863}i.words[t]=w|0,a=F|0}return a!==0?i.words[t]=a|0:i.length--,i.strip()}var g=function(e,o,i){var s=e.words,m=o.words,h=i.words,v=0,p,a,t,F=s[0]|0,w=F&8191,I=F>>>13,he=s[1]|0,qe=he&8191,Ze=he>>>13,ue=s[2]|0,ie=ue&8191,fe=ue>>>13,Ee=s[3]|0,xe=Ee&8191,ze=Ee>>>13,D=s[4]|0,O=D&8191,ae=D>>>13,We=s[5]|0,ge=We&8191,Ve=We>>>13,De=s[6]|0,Oe=De&8191,Je=De>>>13,Qe=s[7]|0,Pe=Qe&8191,Fe=Qe>>>13,pa=s[8]|0,L=pa&8191,n=pa>>>13,l=s[9]|0,_=l&8191,N=l>>>13,M=m[0]|0,S=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,ee=m[2]|0,H=ee&8191,G=ee>>>13,oe=m[3]|0,Q=oe&8191,le=oe>>>13,Re=m[4]|0,A=Re&8191,ne=Re>>>13,re=m[5]|0,B=re&8191,se=re>>>13,Ne=m[6]|0,pe=Ne&8191,de=Ne>>>13,Se=m[7]|0,ve=Se&8191,ye=Se>>>13,Ue=m[8]|0,Te=Ue&8191,ke=Ue>>>13,Xe=m[9]|0,Le=Xe&8191,we=Xe>>>13;i.negative=e.negative^o.negative,i.length=19,p=Math.imul(w,S),a=Math.imul(w,U),a=a+Math.imul(I,S)|0,t=Math.imul(I,U);var Ie=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,p=Math.imul(qe,S),a=Math.imul(qe,U),a=a+Math.imul(Ze,S)|0,t=Math.imul(Ze,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,t=t+Math.imul(I,J)|0;var Ke=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(ie,S),a=Math.imul(ie,U),a=a+Math.imul(fe,S)|0,t=Math.imul(fe,U),p=p+Math.imul(qe,j)|0,a=a+Math.imul(qe,J)|0,a=a+Math.imul(Ze,j)|0,t=t+Math.imul(Ze,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,t=t+Math.imul(I,G)|0;var Ge=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,p=Math.imul(xe,S),a=Math.imul(xe,U),a=a+Math.imul(ze,S)|0,t=Math.imul(ze,U),p=p+Math.imul(ie,j)|0,a=a+Math.imul(ie,J)|0,a=a+Math.imul(fe,j)|0,t=t+Math.imul(fe,J)|0,p=p+Math.imul(qe,H)|0,a=a+Math.imul(qe,G)|0,a=a+Math.imul(Ze,H)|0,t=t+Math.imul(Ze,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,le)|0,a=a+Math.imul(I,Q)|0,t=t+Math.imul(I,le)|0;var Ce=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,p=Math.imul(O,S),a=Math.imul(O,U),a=a+Math.imul(ae,S)|0,t=Math.imul(ae,U),p=p+Math.imul(xe,j)|0,a=a+Math.imul(xe,J)|0,a=a+Math.imul(ze,j)|0,t=t+Math.imul(ze,J)|0,p=p+Math.imul(ie,H)|0,a=a+Math.imul(ie,G)|0,a=a+Math.imul(fe,H)|0,t=t+Math.imul(fe,G)|0,p=p+Math.imul(qe,Q)|0,a=a+Math.imul(qe,le)|0,a=a+Math.imul(Ze,Q)|0,t=t+Math.imul(Ze,le)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,ne)|0,a=a+Math.imul(I,A)|0,t=t+Math.imul(I,ne)|0;var Ye=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,p=Math.imul(ge,S),a=Math.imul(ge,U),a=a+Math.imul(Ve,S)|0,t=Math.imul(Ve,U),p=p+Math.imul(O,j)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(ae,j)|0,t=t+Math.imul(ae,J)|0,p=p+Math.imul(xe,H)|0,a=a+Math.imul(xe,G)|0,a=a+Math.imul(ze,H)|0,t=t+Math.imul(ze,G)|0,p=p+Math.imul(ie,Q)|0,a=a+Math.imul(ie,le)|0,a=a+Math.imul(fe,Q)|0,t=t+Math.imul(fe,le)|0,p=p+Math.imul(qe,A)|0,a=a+Math.imul(qe,ne)|0,a=a+Math.imul(Ze,A)|0,t=t+Math.imul(Ze,ne)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,se)|0,a=a+Math.imul(I,B)|0,t=t+Math.imul(I,se)|0;var Ae=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,p=Math.imul(Oe,S),a=Math.imul(Oe,U),a=a+Math.imul(Je,S)|0,t=Math.imul(Je,U),p=p+Math.imul(ge,j)|0,a=a+Math.imul(ge,J)|0,a=a+Math.imul(Ve,j)|0,t=t+Math.imul(Ve,J)|0,p=p+Math.imul(O,H)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(ae,H)|0,t=t+Math.imul(ae,G)|0,p=p+Math.imul(xe,Q)|0,a=a+Math.imul(xe,le)|0,a=a+Math.imul(ze,Q)|0,t=t+Math.imul(ze,le)|0,p=p+Math.imul(ie,A)|0,a=a+Math.imul(ie,ne)|0,a=a+Math.imul(fe,A)|0,t=t+Math.imul(fe,ne)|0,p=p+Math.imul(qe,B)|0,a=a+Math.imul(qe,se)|0,a=a+Math.imul(Ze,B)|0,t=t+Math.imul(Ze,se)|0,p=p+Math.imul(w,pe)|0,a=a+Math.imul(w,de)|0,a=a+Math.imul(I,pe)|0,t=t+Math.imul(I,de)|0;var He=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(Pe,S),a=Math.imul(Pe,U),a=a+Math.imul(Fe,S)|0,t=Math.imul(Fe,U),p=p+Math.imul(Oe,j)|0,a=a+Math.imul(Oe,J)|0,a=a+Math.imul(Je,j)|0,t=t+Math.imul(Je,J)|0,p=p+Math.imul(ge,H)|0,a=a+Math.imul(ge,G)|0,a=a+Math.imul(Ve,H)|0,t=t+Math.imul(Ve,G)|0,p=p+Math.imul(O,Q)|0,a=a+Math.imul(O,le)|0,a=a+Math.imul(ae,Q)|0,t=t+Math.imul(ae,le)|0,p=p+Math.imul(xe,A)|0,a=a+Math.imul(xe,ne)|0,a=a+Math.imul(ze,A)|0,t=t+Math.imul(ze,ne)|0,p=p+Math.imul(ie,B)|0,a=a+Math.imul(ie,se)|0,a=a+Math.imul(fe,B)|0,t=t+Math.imul(fe,se)|0,p=p+Math.imul(qe,pe)|0,a=a+Math.imul(qe,de)|0,a=a+Math.imul(Ze,pe)|0,t=t+Math.imul(Ze,de)|0,p=p+Math.imul(w,ve)|0,a=a+Math.imul(w,ye)|0,a=a+Math.imul(I,ve)|0,t=t+Math.imul(I,ye)|0;var ea=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(L,S),a=Math.imul(L,U),a=a+Math.imul(n,S)|0,t=Math.imul(n,U),p=p+Math.imul(Pe,j)|0,a=a+Math.imul(Pe,J)|0,a=a+Math.imul(Fe,j)|0,t=t+Math.imul(Fe,J)|0,p=p+Math.imul(Oe,H)|0,a=a+Math.imul(Oe,G)|0,a=a+Math.imul(Je,H)|0,t=t+Math.imul(Je,G)|0,p=p+Math.imul(ge,Q)|0,a=a+Math.imul(ge,le)|0,a=a+Math.imul(Ve,Q)|0,t=t+Math.imul(Ve,le)|0,p=p+Math.imul(O,A)|0,a=a+Math.imul(O,ne)|0,a=a+Math.imul(ae,A)|0,t=t+Math.imul(ae,ne)|0,p=p+Math.imul(xe,B)|0,a=a+Math.imul(xe,se)|0,a=a+Math.imul(ze,B)|0,t=t+Math.imul(ze,se)|0,p=p+Math.imul(ie,pe)|0,a=a+Math.imul(ie,de)|0,a=a+Math.imul(fe,pe)|0,t=t+Math.imul(fe,de)|0,p=p+Math.imul(qe,ve)|0,a=a+Math.imul(qe,ye)|0,a=a+Math.imul(Ze,ve)|0,t=t+Math.imul(Ze,ye)|0,p=p+Math.imul(w,Te)|0,a=a+Math.imul(w,ke)|0,a=a+Math.imul(I,Te)|0,t=t+Math.imul(I,ke)|0;var Be=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,p=Math.imul(_,S),a=Math.imul(_,U),a=a+Math.imul(N,S)|0,t=Math.imul(N,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(n,j)|0,t=t+Math.imul(n,J)|0,p=p+Math.imul(Pe,H)|0,a=a+Math.imul(Pe,G)|0,a=a+Math.imul(Fe,H)|0,t=t+Math.imul(Fe,G)|0,p=p+Math.imul(Oe,Q)|0,a=a+Math.imul(Oe,le)|0,a=a+Math.imul(Je,Q)|0,t=t+Math.imul(Je,le)|0,p=p+Math.imul(ge,A)|0,a=a+Math.imul(ge,ne)|0,a=a+Math.imul(Ve,A)|0,t=t+Math.imul(Ve,ne)|0,p=p+Math.imul(O,B)|0,a=a+Math.imul(O,se)|0,a=a+Math.imul(ae,B)|0,t=t+Math.imul(ae,se)|0,p=p+Math.imul(xe,pe)|0,a=a+Math.imul(xe,de)|0,a=a+Math.imul(ze,pe)|0,t=t+Math.imul(ze,de)|0,p=p+Math.imul(ie,ve)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(fe,ve)|0,t=t+Math.imul(fe,ye)|0,p=p+Math.imul(qe,Te)|0,a=a+Math.imul(qe,ke)|0,a=a+Math.imul(Ze,Te)|0,t=t+Math.imul(Ze,ke)|0,p=p+Math.imul(w,Le)|0,a=a+Math.imul(w,we)|0,a=a+Math.imul(I,Le)|0,t=t+Math.imul(I,we)|0;var ra=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(_,j),a=Math.imul(_,J),a=a+Math.imul(N,j)|0,t=Math.imul(N,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(n,H)|0,t=t+Math.imul(n,G)|0,p=p+Math.imul(Pe,Q)|0,a=a+Math.imul(Pe,le)|0,a=a+Math.imul(Fe,Q)|0,t=t+Math.imul(Fe,le)|0,p=p+Math.imul(Oe,A)|0,a=a+Math.imul(Oe,ne)|0,a=a+Math.imul(Je,A)|0,t=t+Math.imul(Je,ne)|0,p=p+Math.imul(ge,B)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(Ve,B)|0,t=t+Math.imul(Ve,se)|0,p=p+Math.imul(O,pe)|0,a=a+Math.imul(O,de)|0,a=a+Math.imul(ae,pe)|0,t=t+Math.imul(ae,de)|0,p=p+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(ze,ve)|0,t=t+Math.imul(ze,ye)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(fe,Te)|0,t=t+Math.imul(fe,ke)|0,p=p+Math.imul(qe,Le)|0,a=a+Math.imul(qe,we)|0,a=a+Math.imul(Ze,Le)|0,t=t+Math.imul(Ze,we)|0;var aa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(_,H),a=Math.imul(_,G),a=a+Math.imul(N,H)|0,t=Math.imul(N,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,le)|0,a=a+Math.imul(n,Q)|0,t=t+Math.imul(n,le)|0,p=p+Math.imul(Pe,A)|0,a=a+Math.imul(Pe,ne)|0,a=a+Math.imul(Fe,A)|0,t=t+Math.imul(Fe,ne)|0,p=p+Math.imul(Oe,B)|0,a=a+Math.imul(Oe,se)|0,a=a+Math.imul(Je,B)|0,t=t+Math.imul(Je,se)|0,p=p+Math.imul(ge,pe)|0,a=a+Math.imul(ge,de)|0,a=a+Math.imul(Ve,pe)|0,t=t+Math.imul(Ve,de)|0,p=p+Math.imul(O,ve)|0,a=a+Math.imul(O,ye)|0,a=a+Math.imul(ae,ve)|0,t=t+Math.imul(ae,ye)|0,p=p+Math.imul(xe,Te)|0,a=a+Math.imul(xe,ke)|0,a=a+Math.imul(ze,Te)|0,t=t+Math.imul(ze,ke)|0,p=p+Math.imul(ie,Le)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(fe,Le)|0,t=t+Math.imul(fe,we)|0;var oa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(_,Q),a=Math.imul(_,le),a=a+Math.imul(N,Q)|0,t=Math.imul(N,le),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,ne)|0,a=a+Math.imul(n,A)|0,t=t+Math.imul(n,ne)|0,p=p+Math.imul(Pe,B)|0,a=a+Math.imul(Pe,se)|0,a=a+Math.imul(Fe,B)|0,t=t+Math.imul(Fe,se)|0,p=p+Math.imul(Oe,pe)|0,a=a+Math.imul(Oe,de)|0,a=a+Math.imul(Je,pe)|0,t=t+Math.imul(Je,de)|0,p=p+Math.imul(ge,ve)|0,a=a+Math.imul(ge,ye)|0,a=a+Math.imul(Ve,ve)|0,t=t+Math.imul(Ve,ye)|0,p=p+Math.imul(O,Te)|0,a=a+Math.imul(O,ke)|0,a=a+Math.imul(ae,Te)|0,t=t+Math.imul(ae,ke)|0,p=p+Math.imul(xe,Le)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(ze,Le)|0,t=t+Math.imul(ze,we)|0;var sa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(_,A),a=Math.imul(_,ne),a=a+Math.imul(N,A)|0,t=Math.imul(N,ne),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,se)|0,a=a+Math.imul(n,B)|0,t=t+Math.imul(n,se)|0,p=p+Math.imul(Pe,pe)|0,a=a+Math.imul(Pe,de)|0,a=a+Math.imul(Fe,pe)|0,t=t+Math.imul(Fe,de)|0,p=p+Math.imul(Oe,ve)|0,a=a+Math.imul(Oe,ye)|0,a=a+Math.imul(Je,ve)|0,t=t+Math.imul(Je,ye)|0,p=p+Math.imul(ge,Te)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(Ve,Te)|0,t=t+Math.imul(Ve,ke)|0,p=p+Math.imul(O,Le)|0,a=a+Math.imul(O,we)|0,a=a+Math.imul(ae,Le)|0,t=t+Math.imul(ae,we)|0;var na=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(_,B),a=Math.imul(_,se),a=a+Math.imul(N,B)|0,t=Math.imul(N,se),p=p+Math.imul(L,pe)|0,a=a+Math.imul(L,de)|0,a=a+Math.imul(n,pe)|0,t=t+Math.imul(n,de)|0,p=p+Math.imul(Pe,ve)|0,a=a+Math.imul(Pe,ye)|0,a=a+Math.imul(Fe,ve)|0,t=t+Math.imul(Fe,ye)|0,p=p+Math.imul(Oe,Te)|0,a=a+Math.imul(Oe,ke)|0,a=a+Math.imul(Je,Te)|0,t=t+Math.imul(Je,ke)|0,p=p+Math.imul(ge,Le)|0,a=a+Math.imul(ge,we)|0,a=a+Math.imul(Ve,Le)|0,t=t+Math.imul(Ve,we)|0;var ua=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,p=Math.imul(_,pe),a=Math.imul(_,de),a=a+Math.imul(N,pe)|0,t=Math.imul(N,de),p=p+Math.imul(L,ve)|0,a=a+Math.imul(L,ye)|0,a=a+Math.imul(n,ve)|0,t=t+Math.imul(n,ye)|0,p=p+Math.imul(Pe,Te)|0,a=a+Math.imul(Pe,ke)|0,a=a+Math.imul(Fe,Te)|0,t=t+Math.imul(Fe,ke)|0,p=p+Math.imul(Oe,Le)|0,a=a+Math.imul(Oe,we)|0,a=a+Math.imul(Je,Le)|0,t=t+Math.imul(Je,we)|0;var ma=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(_,ve),a=Math.imul(_,ye),a=a+Math.imul(N,ve)|0,t=Math.imul(N,ye),p=p+Math.imul(L,Te)|0,a=a+Math.imul(L,ke)|0,a=a+Math.imul(n,Te)|0,t=t+Math.imul(n,ke)|0,p=p+Math.imul(Pe,Le)|0,a=a+Math.imul(Pe,we)|0,a=a+Math.imul(Fe,Le)|0,t=t+Math.imul(Fe,we)|0;var _a=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(_,Te),a=Math.imul(_,ke),a=a+Math.imul(N,Te)|0,t=Math.imul(N,ke),p=p+Math.imul(L,Le)|0,a=a+Math.imul(L,we)|0,a=a+Math.imul(n,Le)|0,t=t+Math.imul(n,we)|0;var ia=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(_,Le),a=Math.imul(_,we),a=a+Math.imul(N,Le)|0,t=Math.imul(N,we);var la=(v+p|0)+((a&8191)<<13)|0;return v=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,h[0]=Ie,h[1]=Ke,h[2]=Ge,h[3]=Ce,h[4]=Ye,h[5]=Ae,h[6]=He,h[7]=ea,h[8]=Be,h[9]=ra,h[10]=aa,h[11]=oa,h[12]=sa,h[13]=na,h[14]=ua,h[15]=ma,h[16]=_a,h[17]=ia,h[18]=la,v!==0&&(h[19]=v,i.length++),i};Math.imul||(g=k);function X(e,o,i){i.negative=o.negative^e.negative,i.length=e.length+o.length;for(var s=0,m=0,h=0;h<i.length-1;h++){var v=m;m=0;for(var p=s&67108863,a=Math.min(h,o.length-1),t=Math.max(0,h-e.length+1);t<=a;t++){var F=h-t,w=e.words[F]|0,I=o.words[t]|0,he=w*I,qe=he&67108863;v=v+(he/67108864|0)|0,qe=qe+p|0,p=qe&67108863,v=v+(qe>>>26)|0,m+=v>>>26,v&=67108863}i.words[h]=p,s=v,v=m}return s!==0?i.words[h]=s:i.length--,i.strip()}function E(e,o,i){var s=new z;return s.mulp(e,o,i)}c.prototype.mulTo=function(e,o){var i,s=this.length+e.length;return this.length===10&&e.length===10?i=g(this,e,o):s<63?i=k(this,e,o):s<1024?i=X(this,e,o):i=E(this,e,o),i};function z(e,o){this.x=e,this.y=o}z.prototype.makeRBT=function(e){for(var o=new Array(e),i=c.prototype._countBits(e)-1,s=0;s<e;s++)o[s]=this.revBin(s,i,e);return o},z.prototype.revBin=function(e,o,i){if(e===0||e===i-1)return e;for(var s=0,m=0;m<o;m++)s|=(e&1)<<o-m-1,e>>=1;return s},z.prototype.permute=function(e,o,i,s,m,h){for(var v=0;v<h;v++)s[v]=o[e[v]],m[v]=i[e[v]]},z.prototype.transform=function(e,o,i,s,m,h){this.permute(h,e,o,i,s,m);for(var v=1;v<m;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),t=Math.sin(2*Math.PI/p),F=0;F<m;F+=p)for(var w=a,I=t,he=0;he<v;he++){var qe=i[F+he],Ze=s[F+he],ue=i[F+he+v],ie=s[F+he+v],fe=w*ue-I*ie;ie=w*ie+I*ue,ue=fe,i[F+he]=qe+ue,s[F+he]=Ze+ie,i[F+he+v]=qe-ue,s[F+he+v]=Ze-ie,he!==p&&(fe=a*w-t*I,I=a*I+t*w,w=fe)}},z.prototype.guessLen13b=function(e,o){var i=Math.max(o,e)|1,s=i&1,m=0;for(i=i/2|0;i;i=i>>>1)m++;return 1<<m+1+s},z.prototype.conjugate=function(e,o,i){if(!(i<=1))for(var s=0;s<i/2;s++){var m=e[s];e[s]=e[i-s-1],e[i-s-1]=m,m=o[s],o[s]=-o[i-s-1],o[i-s-1]=-m}},z.prototype.normalize13b=function(e,o){for(var i=0,s=0;s<o/2;s++){var m=Math.round(e[2*s+1]/o)*8192+Math.round(e[2*s]/o)+i;e[s]=m&67108863,m<67108864?i=0:i=m/67108864|0}return e},z.prototype.convert13b=function(e,o,i,s){for(var m=0,h=0;h<o;h++)m=m+(e[h]|0),i[2*h]=m&8191,m=m>>>13,i[2*h+1]=m&8191,m=m>>>13;for(h=2*o;h<s;++h)i[h]=0;f(m===0),f((m&-8192)===0)},z.prototype.stub=function(e){for(var o=new Array(e),i=0;i<e;i++)o[i]=0;return o},z.prototype.mulp=function(e,o,i){var s=2*this.guessLen13b(e.length,o.length),m=this.makeRBT(s),h=this.stub(s),v=new Array(s),p=new Array(s),a=new Array(s),t=new Array(s),F=new Array(s),w=new Array(s),I=i.words;I.length=s,this.convert13b(e.words,e.length,v,s),this.convert13b(o.words,o.length,t,s),this.transform(v,h,p,a,s,m),this.transform(t,h,F,w,s,m);for(var he=0;he<s;he++){var qe=p[he]*F[he]-a[he]*w[he];a[he]=p[he]*w[he]+a[he]*F[he],p[he]=qe}return this.conjugate(p,a,s),this.transform(p,a,I,h,s,m),this.conjugate(I,h,s),this.normalize13b(I,s),i.negative=e.negative^o.negative,i.length=e.length+o.length,i.strip()},c.prototype.mul=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},c.prototype.mulf=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),E(this,e,o)},c.prototype.imul=function(e){return this.clone().mulTo(e,this)},c.prototype.imuln=function(e){f(typeof e=="number"),f(e<67108864);for(var o=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*e,m=(s&67108863)+(o&67108863);o>>=26,o+=s/67108864|0,o+=m>>>26,this.words[i]=m&67108863}return o!==0&&(this.words[i]=o,this.length++),this},c.prototype.muln=function(e){return this.clone().imuln(e)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(e){var o=x(e);if(o.length===0)return new c(1);for(var i=this,s=0;s<o.length&&o[s]===0;s++,i=i.sqr());if(++s<o.length)for(var m=i.sqr();s<o.length;s++,m=m.sqr())o[s]!==0&&(i=i.mul(m));return i},c.prototype.iushln=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=67108863>>>26-o<<26-o,m;if(o!==0){var h=0;for(m=0;m<this.length;m++){var v=this.words[m]&s,p=(this.words[m]|0)-v<<o;this.words[m]=p|h,h=v>>>26-o}h&&(this.words[m]=h,this.length++)}if(i!==0){for(m=this.length-1;m>=0;m--)this.words[m+i]=this.words[m];for(m=0;m<i;m++)this.words[m]=0;this.length+=i}return this.strip()},c.prototype.ishln=function(e){return f(this.negative===0),this.iushln(e)},c.prototype.iushrn=function(e,o,i){f(typeof e=="number"&&e>=0);var s;o?s=(o-o%26)/26:s=0;var m=e%26,h=Math.min((e-m)/26,this.length),v=67108863^67108863>>>m<<m,p=i;if(s-=h,s=Math.max(0,s),p){for(var a=0;a<h;a++)p.words[a]=this.words[a];p.length=h}if(h!==0)if(this.length>h)for(this.length-=h,a=0;a<this.length;a++)this.words[a]=this.words[a+h];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var F=this.words[a]|0;this.words[a]=t<<26-m|F>>>m,t=F&v}return p&&t!==0&&(p.words[p.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(e,o,i){return f(this.negative===0),this.iushrn(e,o,i)},c.prototype.shln=function(e){return this.clone().ishln(e)},c.prototype.ushln=function(e){return this.clone().iushln(e)},c.prototype.shrn=function(e){return this.clone().ishrn(e)},c.prototype.ushrn=function(e){return this.clone().iushrn(e)},c.prototype.testn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return!1;var m=this.words[i];return!!(m&s)},c.prototype.imaskn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(o!==0&&i++,this.length=Math.min(i,this.length),o!==0){var s=67108863^67108863>>>o<<o;this.words[this.length-1]&=s}return this.strip()},c.prototype.maskn=function(e){return this.clone().imaskn(e)},c.prototype.iaddn=function(e){return f(typeof e=="number"),f(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},c.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},c.prototype.isubn=function(e){if(f(typeof e=="number"),f(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},c.prototype.addn=function(e){return this.clone().iaddn(e)},c.prototype.subn=function(e){return this.clone().isubn(e)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(e,o,i){var s=e.length+i,m;this._expand(s);var h,v=0;for(m=0;m<e.length;m++){h=(this.words[m+i]|0)+v;var p=(e.words[m]|0)*o;h-=p&67108863,v=(h>>26)-(p/67108864|0),this.words[m+i]=h&67108863}for(;m<this.length-i;m++)h=(this.words[m+i]|0)+v,v=h>>26,this.words[m+i]=h&67108863;if(v===0)return this.strip();for(f(v===-1),v=0,m=0;m<this.length;m++)h=-(this.words[m]|0)+v,v=h>>26,this.words[m]=h&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(e,o){var i=this.length-e.length,s=this.clone(),m=e,h=m.words[m.length-1]|0,v=this._countBits(h);i=26-v,i!==0&&(m=m.ushln(i),s.iushln(i),h=m.words[m.length-1]|0);var p=s.length-m.length,a;if(o!=="mod"){a=new c(null),a.length=p+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var F=s.clone()._ishlnsubmul(m,1,p);F.negative===0&&(s=F,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(s.words[m.length+w]|0)*67108864+(s.words[m.length+w-1]|0);for(I=Math.min(I/h|0,67108863),s._ishlnsubmul(m,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(m,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),o!=="div"&&i!==0&&s.iushrn(i),{div:a||null,mod:s}},c.prototype.divmod=function(e,o,i){if(f(!e.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var s,m,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,o),o!=="mod"&&(s=h.div.neg()),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.iadd(e)),{div:s,mod:m}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),o),o!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),o),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.isub(e)),{div:h.div,mod:m}):e.length>this.length||this.cmp(e)<0?{div:new c(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new c(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new c(this.modn(e.words[0]))}:this._wordDiv(e,o)},c.prototype.div=function(e){return this.divmod(e,"div",!1).div},c.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},c.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},c.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var i=o.div.negative!==0?o.mod.isub(e):o.mod,s=e.ushrn(1),m=e.andln(1),h=i.cmp(s);return h<0||m===1&&h===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},c.prototype.modn=function(e){f(e<=67108863);for(var o=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(o*i+(this.words[s]|0))%e;return i},c.prototype.idivn=function(e){f(e<=67108863);for(var o=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+o*67108864;this.words[i]=s/e|0,o=s%e}return this.strip()},c.prototype.divn=function(e){return this.clone().idivn(e)},c.prototype.egcd=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=new c(0),v=new c(1),p=0;o.isEven()&&i.isEven();)o.iushrn(1),i.iushrn(1),++p;for(var a=i.clone(),t=o.clone();!o.isZero();){for(var F=0,w=1;(o.words[0]&w)===0&&F<26;++F,w<<=1);if(F>0)for(o.iushrn(F);F-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var I=0,he=1;(i.words[0]&he)===0&&I<26;++I,he<<=1);if(I>0)for(i.iushrn(I);I-- >0;)(h.isOdd()||v.isOdd())&&(h.iadd(a),v.isub(t)),h.iushrn(1),v.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(h),m.isub(v)):(i.isub(o),h.isub(s),v.isub(m))}return{a:h,b:v,gcd:i.iushln(p)}},c.prototype._invmp=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=i.clone();o.cmpn(1)>0&&i.cmpn(1)>0;){for(var v=0,p=1;(o.words[0]&p)===0&&v<26;++v,p<<=1);if(v>0)for(o.iushrn(v);v-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var a=0,t=1;(i.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(i.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(h),m.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(m)):(i.isub(o),m.isub(s))}var F;return o.cmpn(1)===0?F=s:F=m,F.cmpn(0)<0&&F.iadd(e),F},c.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),i=e.clone();o.negative=0,i.negative=0;for(var s=0;o.isEven()&&i.isEven();s++)o.iushrn(1),i.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;i.isEven();)i.iushrn(1);var m=o.cmp(i);if(m<0){var h=o;o=i,i=h}else if(m===0||i.cmpn(1)===0)break;o.isub(i)}while(!0);return i.iushln(s)},c.prototype.invm=function(e){return this.egcd(e).a.umod(e)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(e){return this.words[0]&e},c.prototype.bincn=function(e){f(typeof e=="number");var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var m=s,h=i;m!==0&&h<this.length;h++){var v=this.words[h]|0;v+=m,m=v>>>26,v&=67108863,this.words[h]=v}return m!==0&&(this.words[h]=m,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var i;if(this.length>1)i=1;else{o&&(e=-e),f(e<=67108863,"Number is too big");var s=this.words[0]|0;i=s===e?0:s<e?-1:1}return this.negative!==0?-i|0:i},c.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},c.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,m=e.words[i]|0;if(s!==m){s<m?o=-1:s>m&&(o=1);break}}return o},c.prototype.gtn=function(e){return this.cmpn(e)===1},c.prototype.gt=function(e){return this.cmp(e)===1},c.prototype.gten=function(e){return this.cmpn(e)>=0},c.prototype.gte=function(e){return this.cmp(e)>=0},c.prototype.ltn=function(e){return this.cmpn(e)===-1},c.prototype.lt=function(e){return this.cmp(e)===-1},c.prototype.lten=function(e){return this.cmpn(e)<=0},c.prototype.lte=function(e){return this.cmp(e)<=0},c.prototype.eqn=function(e){return this.cmpn(e)===0},c.prototype.eq=function(e){return this.cmp(e)===0},c.red=function(e){return new me(e)},c.prototype.toRed=function(e){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},c.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(e){return this.red=e,this},c.prototype.forceRed=function(e){return f(!this.red,"Already a number in reduction context"),this._forceRed(e)},c.prototype.redAdd=function(e){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},c.prototype.redIAdd=function(e){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},c.prototype.redSub=function(e){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},c.prototype.redISub=function(e){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},c.prototype.redShl=function(e){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},c.prototype.redMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},c.prototype.redIMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},c.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(e){return f(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(e,o){this.name=e,this.p=new c(o,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var e=new c(null);return e.words=new Array(Math.ceil(this.n/13)),e},Y.prototype.ireduce=function(e){var o=e,i;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),i=o.bitLength();while(i>this.n);var s=i<this.n?-1:o.ucmp(this.p);return s===0?(o.words[0]=0,o.length=1):s>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},Y.prototype.split=function(e,o){e.iushrn(this.n,0,o)},Y.prototype.imulK=function(e){return e.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(e,o){for(var i=4194303,s=Math.min(e.length,9),m=0;m<s;m++)o.words[m]=e.words[m];if(o.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(o.words[o.length++]=h&i,m=10;m<e.length;m++){var v=e.words[m]|0;e.words[m-10]=(v&i)<<4|h>>>22,h=v}h>>>=22,e.words[m-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,i=0;i<e.length;i++){var s=e.words[i]|0;o+=s*977,e.words[i]=o&67108863,o=s*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function te(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(te,Y);function _e(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(_e,Y);function $e(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T($e,Y),$e.prototype.imulK=function(e){for(var o=0,i=0;i<e.length;i++){var s=(e.words[i]|0)*19+o,m=s&67108863;s>>>=26,e.words[i]=m,o=s}return o!==0&&(e.words[e.length++]=o),e},c._prime=function(e){if(K[e])return K[e];var o;if(e==="k256")o=new C;else if(e==="p224")o=new te;else if(e==="p192")o=new _e;else if(e==="p25519")o=new $e;else throw new Error("Unknown prime "+e);return K[e]=o,o};function me(e){if(typeof e=="string"){var o=c._prime(e);this.m=o.p,this.prime=o}else f(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}me.prototype._verify1=function(e){f(e.negative===0,"red works only with positives"),f(e.red,"red works only with red numbers")},me.prototype._verify2=function(e,o){f((e.negative|o.negative)===0,"red works only with positives"),f(e.red&&e.red===o.red,"red works only with red numbers")},me.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},me.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},me.prototype.add=function(e,o){this._verify2(e,o);var i=e.add(o);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},me.prototype.iadd=function(e,o){this._verify2(e,o);var i=e.iadd(o);return i.cmp(this.m)>=0&&i.isub(this.m),i},me.prototype.sub=function(e,o){this._verify2(e,o);var i=e.sub(o);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},me.prototype.isub=function(e,o){this._verify2(e,o);var i=e.isub(o);return i.cmpn(0)<0&&i.iadd(this.m),i},me.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},me.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},me.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},me.prototype.isqr=function(e){return this.imul(e,e.clone())},me.prototype.sqr=function(e){return this.mul(e,e)},me.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(f(o%2===1),o===3){var i=this.m.add(new c(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);f(!s.isZero());var h=new c(1).toRed(this),v=h.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new c(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var t=this.pow(a,s),F=this.pow(e,s.addn(1).iushrn(1)),w=this.pow(e,s),I=m;w.cmp(h)!==0;){for(var he=w,qe=0;he.cmp(h)!==0;qe++)he=he.redSqr();f(qe<I);var Ze=this.pow(t,new c(1).iushln(I-qe-1));F=F.redMul(Ze),t=Ze.redSqr(),w=w.redMul(t),I=qe}return F},me.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},me.prototype.pow=function(e,o){if(o.isZero())return new c(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var i=4,s=new Array(1<<i);s[0]=new c(1).toRed(this),s[1]=e;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],e);var h=s[0],v=0,p=0,a=o.bitLength()%26;for(a===0&&(a=26),m=o.length-1;m>=0;m--){for(var t=o.words[m],F=a-1;F>=0;F--){var w=t>>F&1;if(h!==s[0]&&(h=this.sqr(h)),w===0&&v===0){p=0;continue}v<<=1,v|=w,p++,!(p!==i&&(m!==0||F!==0))&&(h=this.mul(h,s[v]),p=0,v=0)}a=26}return h},me.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},me.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},c.mont=function(e){return new Me(e)};function Me(e){me.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Me,me),Me.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Me.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},Me.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new c(0)._forceRed(this);var i=e.mul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(typeof d>"u"||d,r)}),v0=je((r,d)=>{var u=Bs(),R=b0();d.exports=function(b){return new T(b)};var f={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};f.p224=f.secp224r1,f.p256=f.secp256r1=f.prime256v1,f.p192=f.secp192r1=f.prime192v1,f.p384=f.secp384r1,f.p521=f.secp521r1;function T(b){this.curveType=f[b],this.curveType||(this.curveType={name:b}),this.curve=new u.ec(this.curveType.name),this.keys=void 0}T.prototype.generateKeys=function(b,W){return this.keys=this.curve.genKeyPair(),this.getPublicKey(b,W)},T.prototype.computeSecret=function(b,W,y){W=W||"utf8",Buffer.isBuffer(b)||(b=new Buffer(b,W));var q=this.curve.keyFromPublic(b).getPublic(),Z=q.mul(this.keys.getPrivate()).getX();return c(Z,y,this.curveType.byteLength)},T.prototype.getPublicKey=function(b,W){var y=this.keys.getPublic(W==="compressed",!0);return W==="hybrid"&&(y[y.length-1]%2?y[0]=7:y[0]=6),c(y,b)},T.prototype.getPrivateKey=function(b){return c(this.keys.getPrivate(),b)},T.prototype.setPublicKey=function(b,W){return W=W||"utf8",Buffer.isBuffer(b)||(b=new Buffer(b,W)),this.keys._importPublic(b),this},T.prototype.setPrivateKey=function(b,W){W=W||"utf8",Buffer.isBuffer(b)||(b=new Buffer(b,W));var y=new R(b);return y=y.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(y),this};function c(b,W,y){Array.isArray(b)||(b=b.toArray());var q=new Buffer(b);if(y&&q.length<y){var Z=new Buffer(y-q.length);Z.fill(0),q=Buffer.concat([Z,q])}return W?q.toString(W):q}}),Ll=je((r,d)=>{var u=mo(),R=fa().Buffer;d.exports=function(T,c){for(var b=R.alloc(0),W=0,y;b.length<c;)y=f(W++),b=R.concat([b,u("sha1").update(T).update(y).digest()]);return b.slice(0,c)};function f(T){var c=R.allocUnsafe(4);return c.writeUInt32BE(T,0),c}}),Wl=je((r,d)=>{d.exports=function(u,R){for(var f=u.length,T=-1;++T<f;)u[T]^=R[T];return u}}),ar=je((r,d)=>{(function(u,R){function f(e,o){if(!e)throw new Error(o||"Assertion failed")}function T(e,o){e.super_=o;var i=function(){};i.prototype=o.prototype,e.prototype=new i,e.prototype.constructor=e}function c(e,o,i){if(c.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((o==="le"||o==="be")&&(i=o,o=10),this._init(e||0,o||10,i||"be"))}typeof u=="object"?u.exports=c:R.BN=c,c.BN=c,c.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=Vn().Buffer}catch{}c.isBN=function(e){return e instanceof c?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===c.wordSize&&Array.isArray(e.words)},c.max=function(e,o){return e.cmp(o)>0?e:o},c.min=function(e,o){return e.cmp(o)<0?e:o},c.prototype._init=function(e,o,i){if(typeof e=="number")return this._initNumber(e,o,i);if(typeof e=="object")return this._initArray(e,o,i);o==="hex"&&(o=16),f(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var s=0;e[0]==="-"&&(s++,this.negative=1),s<e.length&&(o===16?this._parseHex(e,s,i):(this._parseBase(e,o,s),i==="le"&&this._initArray(this.toArray(),o,i)))},c.prototype._initNumber=function(e,o,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(f(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),o,i)},c.prototype._initArray=function(e,o,i){if(f(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,h,v=0;if(i==="be")for(s=e.length-1,m=0;s>=0;s-=3)h=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);else if(i==="le")for(s=0,m=0;s<e.length;s+=3)h=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[m]|=h<<v&67108863,this.words[m+1]=h>>>26-v&67108863,v+=24,v>=26&&(v-=26,m++);return this.strip()};function W(e,o){var i=e.charCodeAt(o);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function y(e,o,i){var s=W(e,i);return i-1>=o&&(s|=W(e,i-1)<<4),s}c.prototype._parseHex=function(e,o,i){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,h=0,v;if(i==="be")for(s=e.length-1;s>=o;s-=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8;else{var p=e.length-o;for(s=p%2===0?o+1:o;s<e.length;s+=2)v=y(e,o,s)<<m,this.words[h]|=v&67108863,m>=18?(m-=18,h+=1,this.words[h]|=v>>>26):m+=8}this.strip()};function q(e,o,i,s){for(var m=0,h=Math.min(e.length,i),v=o;v<h;v++){var p=e.charCodeAt(v)-48;m*=s,p>=49?m+=p-49+10:p>=17?m+=p-17+10:m+=p}return m}c.prototype._parseBase=function(e,o,i){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=o)s++;s--,m=m/o|0;for(var h=e.length-i,v=h%s,p=Math.min(h,h-v)+i,a=0,t=i;t<p;t+=s)a=q(e,t,t+s,o),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(v!==0){var F=1;for(a=q(e,t,e.length,o),t=0;t<v;t++)F*=o;this.imuln(F),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},c.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},c.prototype.clone=function(){var e=new c(null);return this.copy(e),e},c.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(e,o){e=e||10,o=o|0||1;var i;if(e===16||e==="hex"){i="";for(var s=0,m=0,h=0;h<this.length;h++){var v=this.words[h],p=((v<<s|m)&16777215).toString(16);m=v>>>24-s&16777215,m!==0||h!==this.length-1?i=Z[6-p.length]+p+i:i=p+i,s+=2,s>=26&&(s-=26,h--)}for(m!==0&&(i=m.toString(16)+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(e===(e|0)&&e>=2&&e<=36){var a=$[e],t=V[e];i="";var F=this.clone();for(F.negative=0;!F.isZero();){var w=F.modn(t).toString(e);F=F.idivn(t),F.isZero()?i=w+i:i=Z[a-w.length]+w+i}for(this.isZero()&&(i="0"+i);i.length%o!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}f(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(e,o){return f(typeof b<"u"),this.toArrayLike(b,e,o)},c.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},c.prototype.toArrayLike=function(e,o,i){var s=this.byteLength(),m=i||Math.max(1,s);f(s<=m,"byte array longer than desired length"),f(m>0,"Requested array length <= 0"),this.strip();var h=o==="le",v=new e(m),p,a,t=this.clone();if(h){for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[a]=p;for(;a<m;a++)v[a]=0}else{for(a=0;a<m-s;a++)v[a]=0;for(a=0;!t.isZero();a++)p=t.andln(255),t.iushrn(8),v[m-a-1]=p}return v},Math.clz32?c.prototype._countBits=function(e){return 32-Math.clz32(e)}:c.prototype._countBits=function(e){var o=e,i=0;return o>=4096&&(i+=13,o>>>=13),o>=64&&(i+=7,o>>>=7),o>=8&&(i+=4,o>>>=4),o>=2&&(i+=2,o>>>=2),i+o},c.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,i=0;return(o&8191)===0&&(i+=13,o>>>=13),(o&127)===0&&(i+=7,o>>>=7),(o&15)===0&&(i+=4,o>>>=4),(o&3)===0&&(i+=2,o>>>=2),(o&1)===0&&i++,i},c.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function x(e){for(var o=new Array(e.bitLength()),i=0;i<o.length;i++){var s=i/26|0,m=i%26;o[i]=(e.words[s]&1<<m)>>>m}return o}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var i=this._zeroBits(this.words[o]);if(e+=i,i!==26)break}return e},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},c.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},c.prototype.ior=function(e){return f((this.negative|e.negative)===0),this.iuor(e)},c.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},c.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},c.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var i=0;i<o.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=o.length,this.strip()},c.prototype.iand=function(e){return f((this.negative|e.negative)===0),this.iuand(e)},c.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},c.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},c.prototype.iuxor=function(e){var o,i;this.length>e.length?(o=this,i=e):(o=e,i=this);for(var s=0;s<i.length;s++)this.words[s]=o.words[s]^i.words[s];if(this!==o)for(;s<o.length;s++)this.words[s]=o.words[s];return this.length=o.length,this.strip()},c.prototype.ixor=function(e){return f((this.negative|e.negative)===0),this.iuxor(e)},c.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},c.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},c.prototype.inotn=function(e){f(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,i=e%26;this._expand(o),i>0&&o--;for(var s=0;s<o;s++)this.words[s]=~this.words[s]&67108863;return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},c.prototype.notn=function(e){return this.clone().inotn(e)},c.prototype.setn=function(e,o){f(typeof e=="number"&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),o?this.words[i]=this.words[i]|1<<s:this.words[i]=this.words[i]&~(1<<s),this.strip()},c.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var i,s;this.length>e.length?(i=this,s=e):(i=e,s=this);for(var m=0,h=0;h<s.length;h++)o=(i.words[h]|0)+(s.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;for(;m!==0&&h<i.length;h++)o=(i.words[h]|0)+m,this.words[h]=o&67108863,m=o>>>26;if(this.length=i.length,m!==0)this.words[this.length]=m,this.length++;else if(i!==this)for(;h<i.length;h++)this.words[h]=i.words[h];return this},c.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},c.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;i>0?(s=this,m=e):(s=e,m=this);for(var h=0,v=0;v<m.length;v++)o=(s.words[v]|0)-(m.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;for(;h!==0&&v<s.length;v++)o=(s.words[v]|0)+h,h=o>>26,this.words[v]=o&67108863;if(h===0&&v<s.length&&s!==this)for(;v<s.length;v++)this.words[v]=s.words[v];return this.length=Math.max(this.length,v),s!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(e){return this.clone().isub(e)};function k(e,o,i){i.negative=o.negative^e.negative;var s=e.length+o.length|0;i.length=s,s=s-1|0;var m=e.words[0]|0,h=o.words[0]|0,v=m*h,p=v&67108863,a=v/67108864|0;i.words[0]=p;for(var t=1;t<s;t++){for(var F=a>>>26,w=a&67108863,I=Math.min(t,o.length-1),he=Math.max(0,t-e.length+1);he<=I;he++){var qe=t-he|0;m=e.words[qe]|0,h=o.words[he]|0,v=m*h+w,F+=v/67108864|0,w=v&67108863}i.words[t]=w|0,a=F|0}return a!==0?i.words[t]=a|0:i.length--,i.strip()}var g=function(e,o,i){var s=e.words,m=o.words,h=i.words,v=0,p,a,t,F=s[0]|0,w=F&8191,I=F>>>13,he=s[1]|0,qe=he&8191,Ze=he>>>13,ue=s[2]|0,ie=ue&8191,fe=ue>>>13,Ee=s[3]|0,xe=Ee&8191,ze=Ee>>>13,D=s[4]|0,O=D&8191,ae=D>>>13,We=s[5]|0,ge=We&8191,Ve=We>>>13,De=s[6]|0,Oe=De&8191,Je=De>>>13,Qe=s[7]|0,Pe=Qe&8191,Fe=Qe>>>13,pa=s[8]|0,L=pa&8191,n=pa>>>13,l=s[9]|0,_=l&8191,N=l>>>13,M=m[0]|0,S=M&8191,U=M>>>13,P=m[1]|0,j=P&8191,J=P>>>13,ee=m[2]|0,H=ee&8191,G=ee>>>13,oe=m[3]|0,Q=oe&8191,le=oe>>>13,Re=m[4]|0,A=Re&8191,ne=Re>>>13,re=m[5]|0,B=re&8191,se=re>>>13,Ne=m[6]|0,pe=Ne&8191,de=Ne>>>13,Se=m[7]|0,ve=Se&8191,ye=Se>>>13,Ue=m[8]|0,Te=Ue&8191,ke=Ue>>>13,Xe=m[9]|0,Le=Xe&8191,we=Xe>>>13;i.negative=e.negative^o.negative,i.length=19,p=Math.imul(w,S),a=Math.imul(w,U),a=a+Math.imul(I,S)|0,t=Math.imul(I,U);var Ie=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,p=Math.imul(qe,S),a=Math.imul(qe,U),a=a+Math.imul(Ze,S)|0,t=Math.imul(Ze,U),p=p+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,t=t+Math.imul(I,J)|0;var Ke=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(ie,S),a=Math.imul(ie,U),a=a+Math.imul(fe,S)|0,t=Math.imul(fe,U),p=p+Math.imul(qe,j)|0,a=a+Math.imul(qe,J)|0,a=a+Math.imul(Ze,j)|0,t=t+Math.imul(Ze,J)|0,p=p+Math.imul(w,H)|0,a=a+Math.imul(w,G)|0,a=a+Math.imul(I,H)|0,t=t+Math.imul(I,G)|0;var Ge=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,p=Math.imul(xe,S),a=Math.imul(xe,U),a=a+Math.imul(ze,S)|0,t=Math.imul(ze,U),p=p+Math.imul(ie,j)|0,a=a+Math.imul(ie,J)|0,a=a+Math.imul(fe,j)|0,t=t+Math.imul(fe,J)|0,p=p+Math.imul(qe,H)|0,a=a+Math.imul(qe,G)|0,a=a+Math.imul(Ze,H)|0,t=t+Math.imul(Ze,G)|0,p=p+Math.imul(w,Q)|0,a=a+Math.imul(w,le)|0,a=a+Math.imul(I,Q)|0,t=t+Math.imul(I,le)|0;var Ce=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,p=Math.imul(O,S),a=Math.imul(O,U),a=a+Math.imul(ae,S)|0,t=Math.imul(ae,U),p=p+Math.imul(xe,j)|0,a=a+Math.imul(xe,J)|0,a=a+Math.imul(ze,j)|0,t=t+Math.imul(ze,J)|0,p=p+Math.imul(ie,H)|0,a=a+Math.imul(ie,G)|0,a=a+Math.imul(fe,H)|0,t=t+Math.imul(fe,G)|0,p=p+Math.imul(qe,Q)|0,a=a+Math.imul(qe,le)|0,a=a+Math.imul(Ze,Q)|0,t=t+Math.imul(Ze,le)|0,p=p+Math.imul(w,A)|0,a=a+Math.imul(w,ne)|0,a=a+Math.imul(I,A)|0,t=t+Math.imul(I,ne)|0;var Ye=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,p=Math.imul(ge,S),a=Math.imul(ge,U),a=a+Math.imul(Ve,S)|0,t=Math.imul(Ve,U),p=p+Math.imul(O,j)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(ae,j)|0,t=t+Math.imul(ae,J)|0,p=p+Math.imul(xe,H)|0,a=a+Math.imul(xe,G)|0,a=a+Math.imul(ze,H)|0,t=t+Math.imul(ze,G)|0,p=p+Math.imul(ie,Q)|0,a=a+Math.imul(ie,le)|0,a=a+Math.imul(fe,Q)|0,t=t+Math.imul(fe,le)|0,p=p+Math.imul(qe,A)|0,a=a+Math.imul(qe,ne)|0,a=a+Math.imul(Ze,A)|0,t=t+Math.imul(Ze,ne)|0,p=p+Math.imul(w,B)|0,a=a+Math.imul(w,se)|0,a=a+Math.imul(I,B)|0,t=t+Math.imul(I,se)|0;var Ae=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,p=Math.imul(Oe,S),a=Math.imul(Oe,U),a=a+Math.imul(Je,S)|0,t=Math.imul(Je,U),p=p+Math.imul(ge,j)|0,a=a+Math.imul(ge,J)|0,a=a+Math.imul(Ve,j)|0,t=t+Math.imul(Ve,J)|0,p=p+Math.imul(O,H)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(ae,H)|0,t=t+Math.imul(ae,G)|0,p=p+Math.imul(xe,Q)|0,a=a+Math.imul(xe,le)|0,a=a+Math.imul(ze,Q)|0,t=t+Math.imul(ze,le)|0,p=p+Math.imul(ie,A)|0,a=a+Math.imul(ie,ne)|0,a=a+Math.imul(fe,A)|0,t=t+Math.imul(fe,ne)|0,p=p+Math.imul(qe,B)|0,a=a+Math.imul(qe,se)|0,a=a+Math.imul(Ze,B)|0,t=t+Math.imul(Ze,se)|0,p=p+Math.imul(w,pe)|0,a=a+Math.imul(w,de)|0,a=a+Math.imul(I,pe)|0,t=t+Math.imul(I,de)|0;var He=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(Pe,S),a=Math.imul(Pe,U),a=a+Math.imul(Fe,S)|0,t=Math.imul(Fe,U),p=p+Math.imul(Oe,j)|0,a=a+Math.imul(Oe,J)|0,a=a+Math.imul(Je,j)|0,t=t+Math.imul(Je,J)|0,p=p+Math.imul(ge,H)|0,a=a+Math.imul(ge,G)|0,a=a+Math.imul(Ve,H)|0,t=t+Math.imul(Ve,G)|0,p=p+Math.imul(O,Q)|0,a=a+Math.imul(O,le)|0,a=a+Math.imul(ae,Q)|0,t=t+Math.imul(ae,le)|0,p=p+Math.imul(xe,A)|0,a=a+Math.imul(xe,ne)|0,a=a+Math.imul(ze,A)|0,t=t+Math.imul(ze,ne)|0,p=p+Math.imul(ie,B)|0,a=a+Math.imul(ie,se)|0,a=a+Math.imul(fe,B)|0,t=t+Math.imul(fe,se)|0,p=p+Math.imul(qe,pe)|0,a=a+Math.imul(qe,de)|0,a=a+Math.imul(Ze,pe)|0,t=t+Math.imul(Ze,de)|0,p=p+Math.imul(w,ve)|0,a=a+Math.imul(w,ye)|0,a=a+Math.imul(I,ve)|0,t=t+Math.imul(I,ye)|0;var ea=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,p=Math.imul(L,S),a=Math.imul(L,U),a=a+Math.imul(n,S)|0,t=Math.imul(n,U),p=p+Math.imul(Pe,j)|0,a=a+Math.imul(Pe,J)|0,a=a+Math.imul(Fe,j)|0,t=t+Math.imul(Fe,J)|0,p=p+Math.imul(Oe,H)|0,a=a+Math.imul(Oe,G)|0,a=a+Math.imul(Je,H)|0,t=t+Math.imul(Je,G)|0,p=p+Math.imul(ge,Q)|0,a=a+Math.imul(ge,le)|0,a=a+Math.imul(Ve,Q)|0,t=t+Math.imul(Ve,le)|0,p=p+Math.imul(O,A)|0,a=a+Math.imul(O,ne)|0,a=a+Math.imul(ae,A)|0,t=t+Math.imul(ae,ne)|0,p=p+Math.imul(xe,B)|0,a=a+Math.imul(xe,se)|0,a=a+Math.imul(ze,B)|0,t=t+Math.imul(ze,se)|0,p=p+Math.imul(ie,pe)|0,a=a+Math.imul(ie,de)|0,a=a+Math.imul(fe,pe)|0,t=t+Math.imul(fe,de)|0,p=p+Math.imul(qe,ve)|0,a=a+Math.imul(qe,ye)|0,a=a+Math.imul(Ze,ve)|0,t=t+Math.imul(Ze,ye)|0,p=p+Math.imul(w,Te)|0,a=a+Math.imul(w,ke)|0,a=a+Math.imul(I,Te)|0,t=t+Math.imul(I,ke)|0;var Be=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,p=Math.imul(_,S),a=Math.imul(_,U),a=a+Math.imul(N,S)|0,t=Math.imul(N,U),p=p+Math.imul(L,j)|0,a=a+Math.imul(L,J)|0,a=a+Math.imul(n,j)|0,t=t+Math.imul(n,J)|0,p=p+Math.imul(Pe,H)|0,a=a+Math.imul(Pe,G)|0,a=a+Math.imul(Fe,H)|0,t=t+Math.imul(Fe,G)|0,p=p+Math.imul(Oe,Q)|0,a=a+Math.imul(Oe,le)|0,a=a+Math.imul(Je,Q)|0,t=t+Math.imul(Je,le)|0,p=p+Math.imul(ge,A)|0,a=a+Math.imul(ge,ne)|0,a=a+Math.imul(Ve,A)|0,t=t+Math.imul(Ve,ne)|0,p=p+Math.imul(O,B)|0,a=a+Math.imul(O,se)|0,a=a+Math.imul(ae,B)|0,t=t+Math.imul(ae,se)|0,p=p+Math.imul(xe,pe)|0,a=a+Math.imul(xe,de)|0,a=a+Math.imul(ze,pe)|0,t=t+Math.imul(ze,de)|0,p=p+Math.imul(ie,ve)|0,a=a+Math.imul(ie,ye)|0,a=a+Math.imul(fe,ve)|0,t=t+Math.imul(fe,ye)|0,p=p+Math.imul(qe,Te)|0,a=a+Math.imul(qe,ke)|0,a=a+Math.imul(Ze,Te)|0,t=t+Math.imul(Ze,ke)|0,p=p+Math.imul(w,Le)|0,a=a+Math.imul(w,we)|0,a=a+Math.imul(I,Le)|0,t=t+Math.imul(I,we)|0;var ra=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,p=Math.imul(_,j),a=Math.imul(_,J),a=a+Math.imul(N,j)|0,t=Math.imul(N,J),p=p+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,a=a+Math.imul(n,H)|0,t=t+Math.imul(n,G)|0,p=p+Math.imul(Pe,Q)|0,a=a+Math.imul(Pe,le)|0,a=a+Math.imul(Fe,Q)|0,t=t+Math.imul(Fe,le)|0,p=p+Math.imul(Oe,A)|0,a=a+Math.imul(Oe,ne)|0,a=a+Math.imul(Je,A)|0,t=t+Math.imul(Je,ne)|0,p=p+Math.imul(ge,B)|0,a=a+Math.imul(ge,se)|0,a=a+Math.imul(Ve,B)|0,t=t+Math.imul(Ve,se)|0,p=p+Math.imul(O,pe)|0,a=a+Math.imul(O,de)|0,a=a+Math.imul(ae,pe)|0,t=t+Math.imul(ae,de)|0,p=p+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(ze,ve)|0,t=t+Math.imul(ze,ye)|0,p=p+Math.imul(ie,Te)|0,a=a+Math.imul(ie,ke)|0,a=a+Math.imul(fe,Te)|0,t=t+Math.imul(fe,ke)|0,p=p+Math.imul(qe,Le)|0,a=a+Math.imul(qe,we)|0,a=a+Math.imul(Ze,Le)|0,t=t+Math.imul(Ze,we)|0;var aa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,p=Math.imul(_,H),a=Math.imul(_,G),a=a+Math.imul(N,H)|0,t=Math.imul(N,G),p=p+Math.imul(L,Q)|0,a=a+Math.imul(L,le)|0,a=a+Math.imul(n,Q)|0,t=t+Math.imul(n,le)|0,p=p+Math.imul(Pe,A)|0,a=a+Math.imul(Pe,ne)|0,a=a+Math.imul(Fe,A)|0,t=t+Math.imul(Fe,ne)|0,p=p+Math.imul(Oe,B)|0,a=a+Math.imul(Oe,se)|0,a=a+Math.imul(Je,B)|0,t=t+Math.imul(Je,se)|0,p=p+Math.imul(ge,pe)|0,a=a+Math.imul(ge,de)|0,a=a+Math.imul(Ve,pe)|0,t=t+Math.imul(Ve,de)|0,p=p+Math.imul(O,ve)|0,a=a+Math.imul(O,ye)|0,a=a+Math.imul(ae,ve)|0,t=t+Math.imul(ae,ye)|0,p=p+Math.imul(xe,Te)|0,a=a+Math.imul(xe,ke)|0,a=a+Math.imul(ze,Te)|0,t=t+Math.imul(ze,ke)|0,p=p+Math.imul(ie,Le)|0,a=a+Math.imul(ie,we)|0,a=a+Math.imul(fe,Le)|0,t=t+Math.imul(fe,we)|0;var oa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,p=Math.imul(_,Q),a=Math.imul(_,le),a=a+Math.imul(N,Q)|0,t=Math.imul(N,le),p=p+Math.imul(L,A)|0,a=a+Math.imul(L,ne)|0,a=a+Math.imul(n,A)|0,t=t+Math.imul(n,ne)|0,p=p+Math.imul(Pe,B)|0,a=a+Math.imul(Pe,se)|0,a=a+Math.imul(Fe,B)|0,t=t+Math.imul(Fe,se)|0,p=p+Math.imul(Oe,pe)|0,a=a+Math.imul(Oe,de)|0,a=a+Math.imul(Je,pe)|0,t=t+Math.imul(Je,de)|0,p=p+Math.imul(ge,ve)|0,a=a+Math.imul(ge,ye)|0,a=a+Math.imul(Ve,ve)|0,t=t+Math.imul(Ve,ye)|0,p=p+Math.imul(O,Te)|0,a=a+Math.imul(O,ke)|0,a=a+Math.imul(ae,Te)|0,t=t+Math.imul(ae,ke)|0,p=p+Math.imul(xe,Le)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(ze,Le)|0,t=t+Math.imul(ze,we)|0;var sa=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,p=Math.imul(_,A),a=Math.imul(_,ne),a=a+Math.imul(N,A)|0,t=Math.imul(N,ne),p=p+Math.imul(L,B)|0,a=a+Math.imul(L,se)|0,a=a+Math.imul(n,B)|0,t=t+Math.imul(n,se)|0,p=p+Math.imul(Pe,pe)|0,a=a+Math.imul(Pe,de)|0,a=a+Math.imul(Fe,pe)|0,t=t+Math.imul(Fe,de)|0,p=p+Math.imul(Oe,ve)|0,a=a+Math.imul(Oe,ye)|0,a=a+Math.imul(Je,ve)|0,t=t+Math.imul(Je,ye)|0,p=p+Math.imul(ge,Te)|0,a=a+Math.imul(ge,ke)|0,a=a+Math.imul(Ve,Te)|0,t=t+Math.imul(Ve,ke)|0,p=p+Math.imul(O,Le)|0,a=a+Math.imul(O,we)|0,a=a+Math.imul(ae,Le)|0,t=t+Math.imul(ae,we)|0;var na=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,p=Math.imul(_,B),a=Math.imul(_,se),a=a+Math.imul(N,B)|0,t=Math.imul(N,se),p=p+Math.imul(L,pe)|0,a=a+Math.imul(L,de)|0,a=a+Math.imul(n,pe)|0,t=t+Math.imul(n,de)|0,p=p+Math.imul(Pe,ve)|0,a=a+Math.imul(Pe,ye)|0,a=a+Math.imul(Fe,ve)|0,t=t+Math.imul(Fe,ye)|0,p=p+Math.imul(Oe,Te)|0,a=a+Math.imul(Oe,ke)|0,a=a+Math.imul(Je,Te)|0,t=t+Math.imul(Je,ke)|0,p=p+Math.imul(ge,Le)|0,a=a+Math.imul(ge,we)|0,a=a+Math.imul(Ve,Le)|0,t=t+Math.imul(Ve,we)|0;var ua=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,p=Math.imul(_,pe),a=Math.imul(_,de),a=a+Math.imul(N,pe)|0,t=Math.imul(N,de),p=p+Math.imul(L,ve)|0,a=a+Math.imul(L,ye)|0,a=a+Math.imul(n,ve)|0,t=t+Math.imul(n,ye)|0,p=p+Math.imul(Pe,Te)|0,a=a+Math.imul(Pe,ke)|0,a=a+Math.imul(Fe,Te)|0,t=t+Math.imul(Fe,ke)|0,p=p+Math.imul(Oe,Le)|0,a=a+Math.imul(Oe,we)|0,a=a+Math.imul(Je,Le)|0,t=t+Math.imul(Je,we)|0;var ma=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,p=Math.imul(_,ve),a=Math.imul(_,ye),a=a+Math.imul(N,ve)|0,t=Math.imul(N,ye),p=p+Math.imul(L,Te)|0,a=a+Math.imul(L,ke)|0,a=a+Math.imul(n,Te)|0,t=t+Math.imul(n,ke)|0,p=p+Math.imul(Pe,Le)|0,a=a+Math.imul(Pe,we)|0,a=a+Math.imul(Fe,Le)|0,t=t+Math.imul(Fe,we)|0;var _a=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,p=Math.imul(_,Te),a=Math.imul(_,ke),a=a+Math.imul(N,Te)|0,t=Math.imul(N,ke),p=p+Math.imul(L,Le)|0,a=a+Math.imul(L,we)|0,a=a+Math.imul(n,Le)|0,t=t+Math.imul(n,we)|0;var ia=(v+p|0)+((a&8191)<<13)|0;v=(t+(a>>>13)|0)+(ia>>>26)|0,ia&=67108863,p=Math.imul(_,Le),a=Math.imul(_,we),a=a+Math.imul(N,Le)|0,t=Math.imul(N,we);var la=(v+p|0)+((a&8191)<<13)|0;return v=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,h[0]=Ie,h[1]=Ke,h[2]=Ge,h[3]=Ce,h[4]=Ye,h[5]=Ae,h[6]=He,h[7]=ea,h[8]=Be,h[9]=ra,h[10]=aa,h[11]=oa,h[12]=sa,h[13]=na,h[14]=ua,h[15]=ma,h[16]=_a,h[17]=ia,h[18]=la,v!==0&&(h[19]=v,i.length++),i};Math.imul||(g=k);function X(e,o,i){i.negative=o.negative^e.negative,i.length=e.length+o.length;for(var s=0,m=0,h=0;h<i.length-1;h++){var v=m;m=0;for(var p=s&67108863,a=Math.min(h,o.length-1),t=Math.max(0,h-e.length+1);t<=a;t++){var F=h-t,w=e.words[F]|0,I=o.words[t]|0,he=w*I,qe=he&67108863;v=v+(he/67108864|0)|0,qe=qe+p|0,p=qe&67108863,v=v+(qe>>>26)|0,m+=v>>>26,v&=67108863}i.words[h]=p,s=v,v=m}return s!==0?i.words[h]=s:i.length--,i.strip()}function E(e,o,i){var s=new z;return s.mulp(e,o,i)}c.prototype.mulTo=function(e,o){var i,s=this.length+e.length;return this.length===10&&e.length===10?i=g(this,e,o):s<63?i=k(this,e,o):s<1024?i=X(this,e,o):i=E(this,e,o),i};function z(e,o){this.x=e,this.y=o}z.prototype.makeRBT=function(e){for(var o=new Array(e),i=c.prototype._countBits(e)-1,s=0;s<e;s++)o[s]=this.revBin(s,i,e);return o},z.prototype.revBin=function(e,o,i){if(e===0||e===i-1)return e;for(var s=0,m=0;m<o;m++)s|=(e&1)<<o-m-1,e>>=1;return s},z.prototype.permute=function(e,o,i,s,m,h){for(var v=0;v<h;v++)s[v]=o[e[v]],m[v]=i[e[v]]},z.prototype.transform=function(e,o,i,s,m,h){this.permute(h,e,o,i,s,m);for(var v=1;v<m;v<<=1)for(var p=v<<1,a=Math.cos(2*Math.PI/p),t=Math.sin(2*Math.PI/p),F=0;F<m;F+=p)for(var w=a,I=t,he=0;he<v;he++){var qe=i[F+he],Ze=s[F+he],ue=i[F+he+v],ie=s[F+he+v],fe=w*ue-I*ie;ie=w*ie+I*ue,ue=fe,i[F+he]=qe+ue,s[F+he]=Ze+ie,i[F+he+v]=qe-ue,s[F+he+v]=Ze-ie,he!==p&&(fe=a*w-t*I,I=a*I+t*w,w=fe)}},z.prototype.guessLen13b=function(e,o){var i=Math.max(o,e)|1,s=i&1,m=0;for(i=i/2|0;i;i=i>>>1)m++;return 1<<m+1+s},z.prototype.conjugate=function(e,o,i){if(!(i<=1))for(var s=0;s<i/2;s++){var m=e[s];e[s]=e[i-s-1],e[i-s-1]=m,m=o[s],o[s]=-o[i-s-1],o[i-s-1]=-m}},z.prototype.normalize13b=function(e,o){for(var i=0,s=0;s<o/2;s++){var m=Math.round(e[2*s+1]/o)*8192+Math.round(e[2*s]/o)+i;e[s]=m&67108863,m<67108864?i=0:i=m/67108864|0}return e},z.prototype.convert13b=function(e,o,i,s){for(var m=0,h=0;h<o;h++)m=m+(e[h]|0),i[2*h]=m&8191,m=m>>>13,i[2*h+1]=m&8191,m=m>>>13;for(h=2*o;h<s;++h)i[h]=0;f(m===0),f((m&-8192)===0)},z.prototype.stub=function(e){for(var o=new Array(e),i=0;i<e;i++)o[i]=0;return o},z.prototype.mulp=function(e,o,i){var s=2*this.guessLen13b(e.length,o.length),m=this.makeRBT(s),h=this.stub(s),v=new Array(s),p=new Array(s),a=new Array(s),t=new Array(s),F=new Array(s),w=new Array(s),I=i.words;I.length=s,this.convert13b(e.words,e.length,v,s),this.convert13b(o.words,o.length,t,s),this.transform(v,h,p,a,s,m),this.transform(t,h,F,w,s,m);for(var he=0;he<s;he++){var qe=p[he]*F[he]-a[he]*w[he];a[he]=p[he]*w[he]+a[he]*F[he],p[he]=qe}return this.conjugate(p,a,s),this.transform(p,a,I,h,s,m),this.conjugate(I,h,s),this.normalize13b(I,s),i.negative=e.negative^o.negative,i.length=e.length+o.length,i.strip()},c.prototype.mul=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},c.prototype.mulf=function(e){var o=new c(null);return o.words=new Array(this.length+e.length),E(this,e,o)},c.prototype.imul=function(e){return this.clone().mulTo(e,this)},c.prototype.imuln=function(e){f(typeof e=="number"),f(e<67108864);for(var o=0,i=0;i<this.length;i++){var s=(this.words[i]|0)*e,m=(s&67108863)+(o&67108863);o>>=26,o+=s/67108864|0,o+=m>>>26,this.words[i]=m&67108863}return o!==0&&(this.words[i]=o,this.length++),this},c.prototype.muln=function(e){return this.clone().imuln(e)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(e){var o=x(e);if(o.length===0)return new c(1);for(var i=this,s=0;s<o.length&&o[s]===0;s++,i=i.sqr());if(++s<o.length)for(var m=i.sqr();s<o.length;s++,m=m.sqr())o[s]!==0&&(i=i.mul(m));return i},c.prototype.iushln=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=67108863>>>26-o<<26-o,m;if(o!==0){var h=0;for(m=0;m<this.length;m++){var v=this.words[m]&s,p=(this.words[m]|0)-v<<o;this.words[m]=p|h,h=v>>>26-o}h&&(this.words[m]=h,this.length++)}if(i!==0){for(m=this.length-1;m>=0;m--)this.words[m+i]=this.words[m];for(m=0;m<i;m++)this.words[m]=0;this.length+=i}return this.strip()},c.prototype.ishln=function(e){return f(this.negative===0),this.iushln(e)},c.prototype.iushrn=function(e,o,i){f(typeof e=="number"&&e>=0);var s;o?s=(o-o%26)/26:s=0;var m=e%26,h=Math.min((e-m)/26,this.length),v=67108863^67108863>>>m<<m,p=i;if(s-=h,s=Math.max(0,s),p){for(var a=0;a<h;a++)p.words[a]=this.words[a];p.length=h}if(h!==0)if(this.length>h)for(this.length-=h,a=0;a<this.length;a++)this.words[a]=this.words[a+h];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var F=this.words[a]|0;this.words[a]=t<<26-m|F>>>m,t=F&v}return p&&t!==0&&(p.words[p.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(e,o,i){return f(this.negative===0),this.iushrn(e,o,i)},c.prototype.shln=function(e){return this.clone().ishln(e)},c.prototype.ushln=function(e){return this.clone().iushln(e)},c.prototype.shrn=function(e){return this.clone().ishrn(e)},c.prototype.ushrn=function(e){return this.clone().iushrn(e)},c.prototype.testn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return!1;var m=this.words[i];return!!(m&s)},c.prototype.imaskn=function(e){f(typeof e=="number"&&e>=0);var o=e%26,i=(e-o)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(o!==0&&i++,this.length=Math.min(i,this.length),o!==0){var s=67108863^67108863>>>o<<o;this.words[this.length-1]&=s}return this.strip()},c.prototype.maskn=function(e){return this.clone().imaskn(e)},c.prototype.iaddn=function(e){return f(typeof e=="number"),f(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},c.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},c.prototype.isubn=function(e){if(f(typeof e=="number"),f(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},c.prototype.addn=function(e){return this.clone().iaddn(e)},c.prototype.subn=function(e){return this.clone().isubn(e)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(e,o,i){var s=e.length+i,m;this._expand(s);var h,v=0;for(m=0;m<e.length;m++){h=(this.words[m+i]|0)+v;var p=(e.words[m]|0)*o;h-=p&67108863,v=(h>>26)-(p/67108864|0),this.words[m+i]=h&67108863}for(;m<this.length-i;m++)h=(this.words[m+i]|0)+v,v=h>>26,this.words[m+i]=h&67108863;if(v===0)return this.strip();for(f(v===-1),v=0,m=0;m<this.length;m++)h=-(this.words[m]|0)+v,v=h>>26,this.words[m]=h&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(e,o){var i=this.length-e.length,s=this.clone(),m=e,h=m.words[m.length-1]|0,v=this._countBits(h);i=26-v,i!==0&&(m=m.ushln(i),s.iushln(i),h=m.words[m.length-1]|0);var p=s.length-m.length,a;if(o!=="mod"){a=new c(null),a.length=p+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var F=s.clone()._ishlnsubmul(m,1,p);F.negative===0&&(s=F,a&&(a.words[p]=1));for(var w=p-1;w>=0;w--){var I=(s.words[m.length+w]|0)*67108864+(s.words[m.length+w-1]|0);for(I=Math.min(I/h|0,67108863),s._ishlnsubmul(m,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(m,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),o!=="div"&&i!==0&&s.iushrn(i),{div:a||null,mod:s}},c.prototype.divmod=function(e,o,i){if(f(!e.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var s,m,h;return this.negative!==0&&e.negative===0?(h=this.neg().divmod(e,o),o!=="mod"&&(s=h.div.neg()),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.iadd(e)),{div:s,mod:m}):this.negative===0&&e.negative!==0?(h=this.divmod(e.neg(),o),o!=="mod"&&(s=h.div.neg()),{div:s,mod:h.mod}):(this.negative&e.negative)!==0?(h=this.neg().divmod(e.neg(),o),o!=="div"&&(m=h.mod.neg(),i&&m.negative!==0&&m.isub(e)),{div:h.div,mod:m}):e.length>this.length||this.cmp(e)<0?{div:new c(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new c(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new c(this.modn(e.words[0]))}:this._wordDiv(e,o)},c.prototype.div=function(e){return this.divmod(e,"div",!1).div},c.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},c.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},c.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var i=o.div.negative!==0?o.mod.isub(e):o.mod,s=e.ushrn(1),m=e.andln(1),h=i.cmp(s);return h<0||m===1&&h===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},c.prototype.modn=function(e){f(e<=67108863);for(var o=67108864%e,i=0,s=this.length-1;s>=0;s--)i=(o*i+(this.words[s]|0))%e;return i},c.prototype.idivn=function(e){f(e<=67108863);for(var o=0,i=this.length-1;i>=0;i--){var s=(this.words[i]|0)+o*67108864;this.words[i]=s/e|0,o=s%e}return this.strip()},c.prototype.divn=function(e){return this.clone().idivn(e)},c.prototype.egcd=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=new c(0),v=new c(1),p=0;o.isEven()&&i.isEven();)o.iushrn(1),i.iushrn(1),++p;for(var a=i.clone(),t=o.clone();!o.isZero();){for(var F=0,w=1;(o.words[0]&w)===0&&F<26;++F,w<<=1);if(F>0)for(o.iushrn(F);F-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var I=0,he=1;(i.words[0]&he)===0&&I<26;++I,he<<=1);if(I>0)for(i.iushrn(I);I-- >0;)(h.isOdd()||v.isOdd())&&(h.iadd(a),v.isub(t)),h.iushrn(1),v.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(h),m.isub(v)):(i.isub(o),h.isub(s),v.isub(m))}return{a:h,b:v,gcd:i.iushln(p)}},c.prototype._invmp=function(e){f(e.negative===0),f(!e.isZero());var o=this,i=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var s=new c(1),m=new c(0),h=i.clone();o.cmpn(1)>0&&i.cmpn(1)>0;){for(var v=0,p=1;(o.words[0]&p)===0&&v<26;++v,p<<=1);if(v>0)for(o.iushrn(v);v-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var a=0,t=1;(i.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(i.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(h),m.iushrn(1);o.cmp(i)>=0?(o.isub(i),s.isub(m)):(i.isub(o),m.isub(s))}var F;return o.cmpn(1)===0?F=s:F=m,F.cmpn(0)<0&&F.iadd(e),F},c.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),i=e.clone();o.negative=0,i.negative=0;for(var s=0;o.isEven()&&i.isEven();s++)o.iushrn(1),i.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;i.isEven();)i.iushrn(1);var m=o.cmp(i);if(m<0){var h=o;o=i,i=h}else if(m===0||i.cmpn(1)===0)break;o.isub(i)}while(!0);return i.iushln(s)},c.prototype.invm=function(e){return this.egcd(e).a.umod(e)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(e){return this.words[0]&e},c.prototype.bincn=function(e){f(typeof e=="number");var o=e%26,i=(e-o)/26,s=1<<o;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var m=s,h=i;m!==0&&h<this.length;h++){var v=this.words[h]|0;v+=m,m=v>>>26,v&=67108863,this.words[h]=v}return m!==0&&(this.words[h]=m,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var i;if(this.length>1)i=1;else{o&&(e=-e),f(e<=67108863,"Number is too big");var s=this.words[0]|0;i=s===e?0:s<e?-1:1}return this.negative!==0?-i|0:i},c.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},c.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,i=this.length-1;i>=0;i--){var s=this.words[i]|0,m=e.words[i]|0;if(s!==m){s<m?o=-1:s>m&&(o=1);break}}return o},c.prototype.gtn=function(e){return this.cmpn(e)===1},c.prototype.gt=function(e){return this.cmp(e)===1},c.prototype.gten=function(e){return this.cmpn(e)>=0},c.prototype.gte=function(e){return this.cmp(e)>=0},c.prototype.ltn=function(e){return this.cmpn(e)===-1},c.prototype.lt=function(e){return this.cmp(e)===-1},c.prototype.lten=function(e){return this.cmpn(e)<=0},c.prototype.lte=function(e){return this.cmp(e)<=0},c.prototype.eqn=function(e){return this.cmpn(e)===0},c.prototype.eq=function(e){return this.cmp(e)===0},c.red=function(e){return new me(e)},c.prototype.toRed=function(e){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},c.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(e){return this.red=e,this},c.prototype.forceRed=function(e){return f(!this.red,"Already a number in reduction context"),this._forceRed(e)},c.prototype.redAdd=function(e){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},c.prototype.redIAdd=function(e){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},c.prototype.redSub=function(e){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},c.prototype.redISub=function(e){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},c.prototype.redShl=function(e){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},c.prototype.redMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},c.prototype.redIMul=function(e){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},c.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(e){return f(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(e,o){this.name=e,this.p=new c(o,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var e=new c(null);return e.words=new Array(Math.ceil(this.n/13)),e},Y.prototype.ireduce=function(e){var o=e,i;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),i=o.bitLength();while(i>this.n);var s=i<this.n?-1:o.ucmp(this.p);return s===0?(o.words[0]=0,o.length=1):s>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},Y.prototype.split=function(e,o){e.iushrn(this.n,0,o)},Y.prototype.imulK=function(e){return e.imul(this.k)};function C(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}T(C,Y),C.prototype.split=function(e,o){for(var i=4194303,s=Math.min(e.length,9),m=0;m<s;m++)o.words[m]=e.words[m];if(o.length=s,e.length<=9){e.words[0]=0,e.length=1;return}var h=e.words[9];for(o.words[o.length++]=h&i,m=10;m<e.length;m++){var v=e.words[m]|0;e.words[m-10]=(v&i)<<4|h>>>22,h=v}h>>>=22,e.words[m-10]=h,h===0&&e.length>10?e.length-=10:e.length-=9},C.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,i=0;i<e.length;i++){var s=e.words[i]|0;o+=s*977,e.words[i]=o&67108863,o=s*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function te(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}T(te,Y);function _e(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}T(_e,Y);function $e(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}T($e,Y),$e.prototype.imulK=function(e){for(var o=0,i=0;i<e.length;i++){var s=(e.words[i]|0)*19+o,m=s&67108863;s>>>=26,e.words[i]=m,o=s}return o!==0&&(e.words[e.length++]=o),e},c._prime=function(e){if(K[e])return K[e];var o;if(e==="k256")o=new C;else if(e==="p224")o=new te;else if(e==="p192")o=new _e;else if(e==="p25519")o=new $e;else throw new Error("Unknown prime "+e);return K[e]=o,o};function me(e){if(typeof e=="string"){var o=c._prime(e);this.m=o.p,this.prime=o}else f(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}me.prototype._verify1=function(e){f(e.negative===0,"red works only with positives"),f(e.red,"red works only with red numbers")},me.prototype._verify2=function(e,o){f((e.negative|o.negative)===0,"red works only with positives"),f(e.red&&e.red===o.red,"red works only with red numbers")},me.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},me.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},me.prototype.add=function(e,o){this._verify2(e,o);var i=e.add(o);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},me.prototype.iadd=function(e,o){this._verify2(e,o);var i=e.iadd(o);return i.cmp(this.m)>=0&&i.isub(this.m),i},me.prototype.sub=function(e,o){this._verify2(e,o);var i=e.sub(o);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},me.prototype.isub=function(e,o){this._verify2(e,o);var i=e.isub(o);return i.cmpn(0)<0&&i.iadd(this.m),i},me.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},me.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},me.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},me.prototype.isqr=function(e){return this.imul(e,e.clone())},me.prototype.sqr=function(e){return this.mul(e,e)},me.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(f(o%2===1),o===3){var i=this.m.add(new c(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);f(!s.isZero());var h=new c(1).toRed(this),v=h.redNeg(),p=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new c(2*a*a).toRed(this);this.pow(a,p).cmp(v)!==0;)a.redIAdd(v);for(var t=this.pow(a,s),F=this.pow(e,s.addn(1).iushrn(1)),w=this.pow(e,s),I=m;w.cmp(h)!==0;){for(var he=w,qe=0;he.cmp(h)!==0;qe++)he=he.redSqr();f(qe<I);var Ze=this.pow(t,new c(1).iushln(I-qe-1));F=F.redMul(Ze),t=Ze.redSqr(),w=w.redMul(t),I=qe}return F},me.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},me.prototype.pow=function(e,o){if(o.isZero())return new c(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var i=4,s=new Array(1<<i);s[0]=new c(1).toRed(this),s[1]=e;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],e);var h=s[0],v=0,p=0,a=o.bitLength()%26;for(a===0&&(a=26),m=o.length-1;m>=0;m--){for(var t=o.words[m],F=a-1;F>=0;F--){var w=t>>F&1;if(h!==s[0]&&(h=this.sqr(h)),w===0&&v===0){p=0;continue}v<<=1,v|=w,p++,!(p!==i&&(m!==0||F!==0))&&(h=this.mul(h,s[v]),p=0,v=0)}a=26}return h},me.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},me.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},c.mont=function(e){return new Me(e)};function Me(e){me.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T(Me,me),Me.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Me.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},Me.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new c(0)._forceRed(this);var i=e.mul(o),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=i.isub(s).iushrn(this.shift),h=m;return m.cmp(this.m)>=0?h=m.isub(this.m):m.cmpn(0)<0&&(h=m.iadd(this.m)),h._forceRed(this)},Me.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(typeof d>"u"||d,r)}),wl=je((r,d)=>{var u=ar(),R=fa().Buffer;function f(T,c){return R.from(T.toRed(u.mont(c.modulus)).redPow(new u(c.publicExponent)).fromRed().toArray())}d.exports=f}),N0=je((r,d)=>{var u=Bo(),R=Kn(),f=mo(),T=Ll(),c=Wl(),b=ar(),W=wl(),y=Ds(),q=fa().Buffer;d.exports=function(x,k,g){var X;x.padding?X=x.padding:g?X=1:X=4;var E=u(x),z;if(X===4)z=Z(E,k);else if(X===1)z=$(E,k,g);else if(X===3){if(z=new b(k),z.cmp(E.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return g?y(z,E):W(z,E)};function Z(x,k){var g=x.modulus.byteLength(),X=k.length,E=f("sha1").update(q.alloc(0)).digest(),z=E.length,K=2*z;if(X>g-K-2)throw new Error("message too long");var Y=q.alloc(g-X-K-2),C=g-z-1,te=R(z),_e=c(q.concat([E,Y,q.alloc(1,1),k],C),T(te,C)),$e=c(te,T(_e,z));return new b(q.concat([q.alloc(1),$e,_e],g))}function $(x,k,g){var X=k.length,E=x.modulus.byteLength();if(X>E-11)throw new Error("message too long");var z;return g?z=q.alloc(E-X-3,255):z=V(E-X-3),new b(q.concat([q.from([0,g?1:2]),z,q.alloc(1),k],E))}function V(x){for(var k=q.allocUnsafe(x),g=0,X=R(x*2),E=0,z;g<x;)E===X.length&&(X=R(x*2),E=0),z=X[E++],z&&(k[g++]=z);return k}}),R0=je((r,d)=>{var u=Bo(),R=Ll(),f=Wl(),T=ar(),c=Ds(),b=mo(),W=wl(),y=fa().Buffer;d.exports=function(V,x,k){var g;V.padding?g=V.padding:k?g=1:g=4;var X=u(V),E=X.modulus.byteLength();if(x.length>E||new T(x).cmp(X.modulus)>=0)throw new Error("decryption error");var z;k?z=W(new T(x),X):z=c(x,X);var K=y.alloc(E-z.length);if(z=y.concat([K,z],E),g===4)return q(X,z);if(g===1)return Z(X,z,k);if(g===3)return z;throw new Error("unknown padding")};function q(V,x){var k=V.modulus.byteLength(),g=b("sha1").update(y.alloc(0)).digest(),X=g.length;if(x[0]!==0)throw new Error("decryption error");var E=x.slice(1,X+1),z=x.slice(X+1),K=f(E,R(z,X)),Y=f(z,R(K,k-X-1));if($(g,Y.slice(0,X)))throw new Error("decryption error");for(var C=X;Y[C]===0;)C++;if(Y[C++]!==1)throw new Error("decryption error");return Y.slice(C)}function Z(V,x,k){for(var g=x.slice(0,2),X=2,E=0;x[X++]!==0;)if(X>=x.length){E++;break}var z=x.slice(2,X-1);if((g.toString("hex")!=="0002"&&!k||g.toString("hex")!=="0001"&&k)&&E++,z.length<8&&E++,E)throw new Error("decryption error");return x.slice(X)}function $(V,x){V=y.from(V),x=y.from(x);var k=0,g=V.length;V.length!==x.length&&(k++,g=Math.min(V.length,x.length));for(var X=-1;++X<g;)k+=V[X]^x[X];return k}}),Z0=je((r)=>{r.publicEncrypt=N0(),r.privateDecrypt=R0(),r.privateEncrypt=function(d,u){return r.publicEncrypt(d,u,!0)},r.publicDecrypt=function(d,u){return r.privateDecrypt(d,u,!0)}}),y0=je((r)=>{function d(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=fa(),R=Kn(),f=u.Buffer,T=u.kMaxLength,c=global.crypto||global.msCrypto,b=Math.pow(2,32)-1;function W(V,x){if(typeof V!="number"||V!==V)throw new TypeError("offset must be a number");if(V>b||V<0)throw new TypeError("offset must be a uint32");if(V>T||V>x)throw new RangeError("offset out of range")}function y(V,x,k){if(typeof V!="number"||V!==V)throw new TypeError("size must be a number");if(V>b||V<0)throw new TypeError("size must be a uint32");if(V+x>k||V>T)throw new RangeError("buffer too small")}c&&c.getRandomValues?(r.randomFill=q,r.randomFillSync=$):(r.randomFill=d,r.randomFillSync=d);function q(V,x,k,g){if(!f.isBuffer(V)&&!(V instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof x=="function")g=x,x=0,k=V.length;else if(typeof k=="function")g=k,k=V.length-x;else if(typeof g!="function")throw new TypeError('"cb" argument must be a function');return W(x,V.length),y(k,x,V.length),Z(V,x,k,g)}function Z(V,x,k,g){var X=V.buffer,E=new Uint8Array(X,x,k);if(c.getRandomValues(E),g){process.nextTick(function(){g(null,V)});return}return V;var z}function $(V,x,k){if(typeof x>"u"&&(x=0),!f.isBuffer(V)&&!(V instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return W(x,V.length),k===void 0&&(k=V.length-x),y(k,x,V.length),Z(V,x,k)}}),Sl=je((r)=>{r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=Kn(),r.createHash=r.Hash=mo(),r.createHmac=r.Hmac=Yr();var d=dc(),u=Object.keys(d),R=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(u);r.getHashes=function(){return R};var f=al();r.pbkdf2=f.pbkdf2,r.pbkdf2Sync=f.pbkdf2Sync;var T=Vc();r.Cipher=T.Cipher,r.createCipher=T.createCipher,r.Cipheriv=T.Cipheriv,r.createCipheriv=T.createCipheriv,r.Decipher=T.Decipher,r.createDecipher=T.createDecipher,r.Decipheriv=T.Decipheriv,r.createDecipheriv=T.createDecipheriv,r.getCiphers=T.getCiphers,r.listCiphers=T.listCiphers;var c=gc();r.DiffieHellmanGroup=c.DiffieHellmanGroup,r.createDiffieHellmanGroup=c.createDiffieHellmanGroup,r.getDiffieHellman=c.getDiffieHellman,r.createDiffieHellman=c.createDiffieHellman,r.DiffieHellman=c.DiffieHellman;var b=h0();r.createSign=b.createSign,r.Sign=b.Sign,r.createVerify=b.createVerify,r.Verify=b.Verify,r.createECDH=v0();var W=Z0();r.publicEncrypt=W.publicEncrypt,r.privateEncrypt=W.privateEncrypt,r.publicDecrypt=W.publicDecrypt,r.privateDecrypt=W.privateDecrypt;var y=y0();r.randomFill=y.randomFill,r.randomFillSync=y.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),gl={},jo(gl,{DEFAULT_ENCODING:()=>Cn,default:()=>Al,getCurves:()=>ir,getRandomValues:()=>cr,randomUUID:()=>ur,scrypt:()=>Ao,scryptSync:()=>Qo,timingSafeEqual:()=>bo,webcrypto:()=>mr}),Vs(gl,kn(Sl())),q0=kn(Sl()),Cn="buffer",cr=(r)=>crypto.getRandomValues(r),ur=()=>crypto.randomUUID(),k0=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],bo="timingSafeEqual"in crypto?(r,d)=>{let{byteLength:u}=r,{byteLength:R}=d;if(typeof u!="number"||typeof R!="number")throw new TypeError("Input must be an array buffer view");if(u!==R)throw new RangeError("Input buffers must have the same length");return crypto.timingSafeEqual(r,d)}:void 0,Qo="scryptSync"in crypto?(r,d,u,R)=>{let f=crypto.scryptSync(r,d,u,R);return Cn!=="buffer"?new Buffer(f).toString(Cn):new Buffer(f)}:void 0,Ao="scryptSync"in crypto?function(r,d,u,R,f){if(typeof R=="function"&&(f=R,R=void 0),typeof f!="function"){var T=new TypeError("callback must be a function");throw T.code="ERR_INVALID_CALLBACK",T}try{let c=crypto.scryptSync(r,d,u,R);process.nextTick(f,null,Cn!=="buffer"?new Buffer(c).toString(Cn):new Buffer(c))}catch(c){throw c}}:void 0,bo&&(Object.defineProperty(bo,"name",{value:"::bunternal::"}),Object.defineProperty(Ao,"name",{value:"::bunternal::"}),Object.defineProperty(Qo,"name",{value:"::bunternal::"})),mr=crypto,Al={...q0,getRandomValues:cr,randomUUID:ur,timingSafeEqual:bo,scryptSync:Qo,scrypt:Ao,webcrypto:mr,getCurves:ir};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */}),b1=fr((r,d)=>{(function(u,R){if(typeof r==="object")d.exports=r=R();else if(typeof define==="function"&&define.amd)define([],R);else u.CryptoJS=R()})(r,function(){var u=u||function(R,f){var T;if(typeof window!=="undefined"&&window.crypto)T=window.crypto;if(typeof self!=="undefined"&&self.crypto)T=self.crypto;if(typeof globalThis!=="undefined"&&globalThis.crypto)T=globalThis.crypto;if(!T&&typeof window!=="undefined"&&window.msCrypto)T=window.msCrypto;if(!T&&typeof global!=="undefined"&&global.crypto)T=global.crypto;if(!T&&typeof V6==="function")try{T=(L6(),f1(h1))}catch(z){}var c=function(){if(T){if(typeof T.getRandomValues==="function")try{return T.getRandomValues(new Uint32Array(1))[0]}catch(z){}if(typeof T.randomBytes==="function")try{return T.randomBytes(4).readInt32LE()}catch(z){}}throw new Error("Native crypto module could not be used to get secure random number.")},b=Object.create||function(){function z(){}return function(K){var Y;return z.prototype=K,Y=new z,z.prototype=null,Y}}(),W={},y=W.lib={},q=y.Base=function(){return{extend:function(z){var K=b(this);if(z)K.mixIn(z);if(!K.hasOwnProperty("init")||this.init===K.init)K.init=function(){K.$super.init.apply(this,arguments)};return K.init.prototype=K,K.$super=this,K},create:function(){var z=this.extend();return z.init.apply(z,arguments),z},init:function(){},mixIn:function(z){for(var K in z)if(z.hasOwnProperty(K))this[K]=z[K];if(z.hasOwnProperty("toString"))this.toString=z.toString},clone:function(){return this.init.prototype.extend(this)}}}(),Z=y.WordArray=q.extend({init:function(z,K){if(z=this.words=z||[],K!=f)this.sigBytes=K;else this.sigBytes=z.length*4},toString:function(z){return(z||V).stringify(this)},concat:function(z){var K=this.words,Y=z.words,C=this.sigBytes,te=z.sigBytes;if(this.clamp(),C%4)for(var _e=0;_e<te;_e++){var $e=Y[_e>>>2]>>>24-_e%4*8&255;K[C+_e>>>2]|=$e<<24-(C+_e)%4*8}else for(var me=0;me<te;me+=4)K[C+me>>>2]=Y[me>>>2];return this.sigBytes+=te,this},clamp:function(){var z=this.words,K=this.sigBytes;z[K>>>2]&=4294967295<<32-K%4*8,z.length=R.ceil(K/4)},clone:function(){var z=q.clone.call(this);return z.words=this.words.slice(0),z},random:function(z){var K=[];for(var Y=0;Y<z;Y+=4)K.push(c());return new Z.init(K,z)}}),$=W.enc={},V=$.Hex={stringify:function(z){var{words:K,sigBytes:Y}=z,C=[];for(var te=0;te<Y;te++){var _e=K[te>>>2]>>>24-te%4*8&255;C.push((_e>>>4).toString(16)),C.push((_e&15).toString(16))}return C.join("")},parse:function(z){var K=z.length,Y=[];for(var C=0;C<K;C+=2)Y[C>>>3]|=parseInt(z.substr(C,2),16)<<24-C%8*4;return new Z.init(Y,K/2)}},x=$.Latin1={stringify:function(z){var{words:K,sigBytes:Y}=z,C=[];for(var te=0;te<Y;te++){var _e=K[te>>>2]>>>24-te%4*8&255;C.push(String.fromCharCode(_e))}return C.join("")},parse:function(z){var K=z.length,Y=[];for(var C=0;C<K;C++)Y[C>>>2]|=(z.charCodeAt(C)&255)<<24-C%4*8;return new Z.init(Y,K)}},k=$.Utf8={stringify:function(z){try{return decodeURIComponent(escape(x.stringify(z)))}catch(K){throw new Error("Malformed UTF-8 data")}},parse:function(z){return x.parse(unescape(encodeURIComponent(z)))}},g=y.BufferedBlockAlgorithm=q.extend({reset:function(){this._data=new Z.init,this._nDataBytes=0},_append:function(z){if(typeof z=="string")z=k.parse(z);this._data.concat(z),this._nDataBytes+=z.sigBytes},_process:function(z){var K,Y=this._data,C=Y.words,te=Y.sigBytes,_e=this.blockSize,$e=_e*4,me=te/$e;if(z)me=R.ceil(me);else me=R.max((me|0)-this._minBufferSize,0);var Me=me*_e,e=R.min(Me*4,te);if(Me){for(var o=0;o<Me;o+=_e)this._doProcessBlock(C,o);K=C.splice(0,Me),Y.sigBytes-=e}return new Z.init(K,e)},clone:function(){var z=q.clone.call(this);return z._data=this._data.clone(),z},_minBufferSize:0}),X=y.Hasher=g.extend({cfg:q.extend(),init:function(z){this.cfg=this.cfg.extend(z),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(z){return this._append(z),this._process(),this},finalize:function(z){if(z)this._append(z);var K=this._doFinalize();return K},blockSize:16,_createHelper:function(z){return function(K,Y){return new z.init(Y).finalize(K)}},_createHmacHelper:function(z){return function(K,Y){return new E.HMAC.init(z,Y).finalize(K)}}}),E=W.algo={};return W}(Math);return u})}),W6=fr((r,d)=>{(function(u,R){if(typeof r==="object")d.exports=r=R(b1());else if(typeof define==="function"&&define.amd)define(["./core"],R);else R(u.CryptoJS)})(r,function(u){return function(R){var f=u,T=f.lib,c=T.WordArray,b=T.Hasher,W=f.algo,y=[];(function(){for(var k=0;k<64;k++)y[k]=R.abs(R.sin(k+1))*4294967296|0})();var q=W.MD5=b.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(k,g){for(var X=0;X<16;X++){var E=g+X,z=k[E];k[E]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}var K=this._hash.words,Y=k[g+0],C=k[g+1],te=k[g+2],_e=k[g+3],$e=k[g+4],me=k[g+5],Me=k[g+6],e=k[g+7],o=k[g+8],i=k[g+9],s=k[g+10],m=k[g+11],h=k[g+12],v=k[g+13],p=k[g+14],a=k[g+15],t=K[0],F=K[1],w=K[2],I=K[3];t=Z(t,F,w,I,Y,7,y[0]),I=Z(I,t,F,w,C,12,y[1]),w=Z(w,I,t,F,te,17,y[2]),F=Z(F,w,I,t,_e,22,y[3]),t=Z(t,F,w,I,$e,7,y[4]),I=Z(I,t,F,w,me,12,y[5]),w=Z(w,I,t,F,Me,17,y[6]),F=Z(F,w,I,t,e,22,y[7]),t=Z(t,F,w,I,o,7,y[8]),I=Z(I,t,F,w,i,12,y[9]),w=Z(w,I,t,F,s,17,y[10]),F=Z(F,w,I,t,m,22,y[11]),t=Z(t,F,w,I,h,7,y[12]),I=Z(I,t,F,w,v,12,y[13]),w=Z(w,I,t,F,p,17,y[14]),F=Z(F,w,I,t,a,22,y[15]),t=$(t,F,w,I,C,5,y[16]),I=$(I,t,F,w,Me,9,y[17]),w=$(w,I,t,F,m,14,y[18]),F=$(F,w,I,t,Y,20,y[19]),t=$(t,F,w,I,me,5,y[20]),I=$(I,t,F,w,s,9,y[21]),w=$(w,I,t,F,a,14,y[22]),F=$(F,w,I,t,$e,20,y[23]),t=$(t,F,w,I,i,5,y[24]),I=$(I,t,F,w,p,9,y[25]),w=$(w,I,t,F,_e,14,y[26]),F=$(F,w,I,t,o,20,y[27]),t=$(t,F,w,I,v,5,y[28]),I=$(I,t,F,w,te,9,y[29]),w=$(w,I,t,F,e,14,y[30]),F=$(F,w,I,t,h,20,y[31]),t=V(t,F,w,I,me,4,y[32]),I=V(I,t,F,w,o,11,y[33]),w=V(w,I,t,F,m,16,y[34]),F=V(F,w,I,t,p,23,y[35]),t=V(t,F,w,I,C,4,y[36]),I=V(I,t,F,w,$e,11,y[37]),w=V(w,I,t,F,e,16,y[38]),F=V(F,w,I,t,s,23,y[39]),t=V(t,F,w,I,v,4,y[40]),I=V(I,t,F,w,Y,11,y[41]),w=V(w,I,t,F,_e,16,y[42]),F=V(F,w,I,t,Me,23,y[43]),t=V(t,F,w,I,i,4,y[44]),I=V(I,t,F,w,h,11,y[45]),w=V(w,I,t,F,a,16,y[46]),F=V(F,w,I,t,te,23,y[47]),t=x(t,F,w,I,Y,6,y[48]),I=x(I,t,F,w,e,10,y[49]),w=x(w,I,t,F,p,15,y[50]),F=x(F,w,I,t,me,21,y[51]),t=x(t,F,w,I,h,6,y[52]),I=x(I,t,F,w,_e,10,y[53]),w=x(w,I,t,F,s,15,y[54]),F=x(F,w,I,t,C,21,y[55]),t=x(t,F,w,I,o,6,y[56]),I=x(I,t,F,w,a,10,y[57]),w=x(w,I,t,F,Me,15,y[58]),F=x(F,w,I,t,v,21,y[59]),t=x(t,F,w,I,$e,6,y[60]),I=x(I,t,F,w,m,10,y[61]),w=x(w,I,t,F,te,15,y[62]),F=x(F,w,I,t,i,21,y[63]),K[0]=K[0]+t|0,K[1]=K[1]+F|0,K[2]=K[2]+w|0,K[3]=K[3]+I|0},_doFinalize:function(){var k=this._data,g=k.words,X=this._nDataBytes*8,E=k.sigBytes*8;g[E>>>5]|=128<<24-E%32;var z=R.floor(X/4294967296),K=X;g[(E+64>>>9<<4)+15]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,g[(E+64>>>9<<4)+14]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360,k.sigBytes=(g.length+1)*4,this._process();var Y=this._hash,C=Y.words;for(var te=0;te<4;te++){var _e=C[te];C[te]=(_e<<8|_e>>>24)&16711935|(_e<<24|_e>>>8)&4278255360}return Y},clone:function(){var k=b.clone.call(this);return k._hash=this._hash.clone(),k}});function Z(k,g,X,E,z,K,Y){var C=k+(g&X|~g&E)+z+Y;return(C<<K|C>>>32-K)+g}function $(k,g,X,E,z,K,Y){var C=k+(g&E|X&~E)+z+Y;return(C<<K|C>>>32-K)+g}function V(k,g,X,E,z,K,Y){var C=k+(g^X^E)+z+Y;return(C<<K|C>>>32-K)+g}function x(k,g,X,E,z,K,Y){var C=k+(X^(g|~E))+z+Y;return(C<<K|C>>>32-K)+g}f.MD5=b._createHelper(q),f.HmacMD5=b._createHmacHelper(q)}(Math),u.MD5})}),w6=fr((r,d)=>{(function(u,R){if(typeof r==="object")d.exports=r=R(b1());else if(typeof define==="function"&&define.amd)define(["./core"],R);else R(u.CryptoJS)})(r,function(u){return u.enc.Latin1})}),S6=fr((r,d)=>{d.exports=function u(R){return atob(R)}});class zn{getEraseSize(r,d){return d}}var Fn=$a(()=>{}),vo,g6=$a(()=>{vo={entry:1074521560,text:"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",text_start:1074520064,data:"GOv8P9jnC0Bx6AtA8+wLQO3oC0CP6AtA7egLQEnpC0AG6gtAeOoLQCHqC0CB5wtAo+kLQPjpC0Bn6QtAmuoLQI7pC0Ca6gtAXegLQLPoC0Dt6AtASekLQHfoC0BM6wtAs+wLQKXmC0DX7AtApeYLQKXmC0Cl5gtApeYLQKXmC0Cl5gtApeYLQKXmC0Dz6gtApeYLQM3rC0Cz7AtA",data_start:1073605544}}),z6={};un(z6,{ESP32ROM:()=>mi});class mi extends zn{constructor(){super(...arguments);this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=vo.text_start,this.ENTRY=vo.entry,this.DATA_START=vo.data_start,this.ROM_DATA=vo.data,this.ROM_TEXT=vo.text}async readEfuse(r,d){const u=this.EFUSE_RD_REG_BASE+4*d;return r.debug("Read efuse "+u),await r.readReg(u)}async getPkgVersion(r){const d=await this.readEfuse(r,3);let u=d>>9&7;return u+=(d>>2&1)<<3,u}async getChipRevision(r){const d=await this.readEfuse(r,3),u=await this.readEfuse(r,5),R=await r.readReg(this.DR_REG_SYSCON_BASE+124),f=d>>15&1,T=u>>20&1,c=R>>31&1;if(f!=0)if(T!=0)if(c!=0)return 3;else return 2;else return 1;return 0}async getChipDescription(r){const d=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"];let u="";const R=await this.getPkgVersion(r),f=await this.getChipRevision(r),T=f==3;if((await this.readEfuse(r,3)&1)!=0)d[0]="ESP32-S0WDQ6",d[1]="ESP32-S0WD";if(T)d[5]="ESP32-PICO-V3";if(R>=0&&R<=6)u=d[R];else u="Unknown ESP32";if(T&&(R===0||R===1))u+="-V3";return u+" (revision "+f+")"}async getChipFeatures(r){const d=["Wi-Fi"],u=await this.readEfuse(r,3);if((u&2)===0)d.push(" BT");if((u&1)!==0)d.push(" Single Core");else d.push(" Dual Core");if((u&8192)!==0)if((u&4096)!==0)d.push(" 160MHz");else d.push(" 240MHz");const R=await this.getPkgVersion(r);if([2,4,5,6].indexOf(R)!==-1)d.push(" Embedded Flash");if(R===6)d.push(" Embedded PSRAM");if((await this.readEfuse(r,4)>>8&31)!==0)d.push(" VRef calibration in efuse");if((u>>14&1)!==0)d.push(" BLK3 partially reserved");const f=await this.readEfuse(r,6)&3,T=["None","3/4","Repeat (UNSUPPORTED)","Invalid"];return d.push(" Coding Scheme "+T[f]),d}async getCrystalFreq(r){const d=await r.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,u=r.transport.baudrate*d/1e6/this.XTAL_CLK_DIVIDER;let R;if(u>33)R=40;else R=26;if(Math.abs(R-u)>1)r.info("WARNING: Unsupported crystal in use");return R}_d2h(r){const d=(+r).toString(16);return d.length===1?"0"+d:d}async readMac(r){let d=await this.readEfuse(r,1);d=d>>>0;let u=await this.readEfuse(r,2);u=u>>>0;const R=new Uint8Array(6);return R[0]=u>>8&255,R[1]=u&255,R[2]=d>>24&255,R[3]=d>>16&255,R[4]=d>>8&255,R[5]=d&255,this._d2h(R[0])+":"+this._d2h(R[1])+":"+this._d2h(R[2])+":"+this._d2h(R[3])+":"+this._d2h(R[4])+":"+this._d2h(R[5])}}var F6=$a(()=>{Fn(),g6()}),No,O6=$a(()=>{No={entry:1077413532,text:"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",text_start:1077411840,data:"IGvIP3YKOEDGCjhAHgs4QMILOEAuDDhA3As4QEIJOEB+CzhAvgs4QDILOEDyCDhAZgs4QPIIOEBQCjhAlgo4QMYKOEAeCzhAYgo4QKYJOEDWCThAXgo4QIAOOEDGCjhARg04QDgOOEAyCDhAYA44QDIIOEAyCDhAMgg4QDIIOEAyCDhAMgg4QDIIOEAyCDhA4gw4QDIIOEBkDThAOA44QA==",data_start:1070164912}}),X6={};un(X6,{ESP32C3ROM:()=>ti});class ti extends zn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=No.text_start,this.ENTRY=No.entry,this.DATA_START=No.data_start,this.ROM_DATA=No.data,this.ROM_TEXT=No.text}async getPkgVersion(r){const d=this.EFUSE_BASE+68+12;return await r.readReg(d)>>21&7}async getChipRevision(r){const d=this.EFUSE_BASE+68+12;return(await r.readReg(d)&1835008)>>18}async getChipDescription(r){let d;if(await this.getPkgVersion(r)===0)d="ESP32-C3";else d="unknown ESP32-C3";const u=await this.getChipRevision(r);return d+=" (revision "+u+")",d}async getChipFeatures(r){return["Wi-Fi"]}async getCrystalFreq(r){return 40}_d2h(r){const d=(+r).toString(16);return d.length===1?"0"+d:d}async readMac(r){let d=await r.readReg(this.MAC_EFUSE_REG);d=d>>>0;let u=await r.readReg(this.MAC_EFUSE_REG+4);u=u>>>0&65535;const R=new Uint8Array(6);return R[0]=u>>8&255,R[1]=u&255,R[2]=d>>24&255,R[3]=d>>16&255,R[4]=d>>8&255,R[5]=d&255,this._d2h(R[0])+":"+this._d2h(R[1])+":"+this._d2h(R[2])+":"+this._d2h(R[3])+":"+this._d2h(R[4])+":"+this._d2h(R[5])}getEraseSize(r,d){return d}}var U6=$a(()=>{Fn(),O6()}),Ro,E6=$a(()=>{Ro={entry:1077413304,text:"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",text_start:1077411840,data:"DEDKP+AIOEAsCThAhAk4QFIKOEC+CjhAbAo4QKgHOEAOCjhATgo4QJgJOEBYBzhAzAk4QFgHOEC6CDhA/gg4QCwJOECECThAzAg4QBIIOEBCCDhAyAg4QBYNOEAsCThA1gs4QMoMOECkBjhA9Aw4QKQGOECkBjhApAY4QKQGOECkBjhApAY4QKQGOECkBjhAcgs4QKQGOEDyCzhAygw4QA==",data_start:1070295976,bss_start:1070219264}}),j6={};un(j6,{ESP32C2ROM:()=>v1});class v1 extends ti{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C2",this.IMAGE_CHIP_ID=12,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+64,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.XTAL_CLK_DIVIDER=1,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=Ro.text_start,this.ENTRY=Ro.entry,this.DATA_START=Ro.data_start,this.ROM_DATA=Ro.data,this.ROM_TEXT=Ro.text}async getPkgVersion(r){const d=this.EFUSE_BASE+64+4;return await r.readReg(d)>>22&7}async getChipRevision(r){const d=this.EFUSE_BASE+64+4;return(await r.readReg(d)&3145728)>>20}async getChipDescription(r){let d;const u=await this.getPkgVersion(r);if(u===0||u===1)d="ESP32-C2";else d="unknown ESP32-C2";const R=await this.getChipRevision(r);return d+=" (revision "+R+")",d}async getChipFeatures(r){return["Wi-Fi","BLE"]}async getCrystalFreq(r){const d=await r.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,u=r.transport.baudrate*d/1e6/this.XTAL_CLK_DIVIDER;let R;if(u>33)R=40;else R=26;if(Math.abs(R-u)>1)r.info("WARNING: Unsupported crystal in use");return R}async changeBaudRate(r){if(await this.getCrystalFreq(r)===26)r.changeBaud()}_d2h(r){const d=(+r).toString(16);return d.length===1?"0"+d:d}async readMac(r){let d=await r.readReg(this.MAC_EFUSE_REG);d=d>>>0;let u=await r.readReg(this.MAC_EFUSE_REG+4);u=u>>>0&65535;const R=new Uint8Array(6);return R[0]=u>>8&255,R[1]=u&255,R[2]=d>>24&255,R[3]=d>>16&255,R[4]=d>>8&255,R[5]=d&255,this._d2h(R[0])+":"+this._d2h(R[1])+":"+this._d2h(R[2])+":"+this._d2h(R[3])+":"+this._d2h(R[4])+":"+this._d2h(R[5])}getEraseSize(r,d){return d}}var K9=$a(()=>{U6(),E6()}),Zo,J6=$a(()=>{Zo={entry:1082132112,text:"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",text_start:1082130432,data:"HCuEQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQEwOgECSCoBAEg2AQAQOgED+B4BALA6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBABA6AQA==",data_start:1082469292}}),P6={};un(P6,{ESP32C6ROM:()=>N1});class N1 extends zn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C6",this.IMAGE_CHIP_ID=13,this.EFUSE_BASE=1611335680,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=Zo.text_start,this.ENTRY=Zo.entry,this.DATA_START=Zo.data_start,this.ROM_DATA=Zo.data,this.ROM_TEXT=Zo.text}async getPkgVersion(r){const d=this.EFUSE_BASE+68+12;return await r.readReg(d)>>21&7}async getChipRevision(r){const d=this.EFUSE_BASE+68+12;return(await r.readReg(d)&1835008)>>18}async getChipDescription(r){let d;if(await this.getPkgVersion(r)===0)d="ESP32-C6";else d="unknown ESP32-C6";const u=await this.getChipRevision(r);return d+=" (revision "+u+")",d}async getChipFeatures(r){return["Wi-Fi"]}async getCrystalFreq(r){return 40}_d2h(r){const d=(+r).toString(16);return d.length===1?"0"+d:d}async readMac(r){let d=await r.readReg(this.MAC_EFUSE_REG);d=d>>>0;let u=await r.readReg(this.MAC_EFUSE_REG+4);u=u>>>0&65535;const R=new Uint8Array(6);return R[0]=u>>8&255,R[1]=u&255,R[2]=d>>24&255,R[3]=d>>16&255,R[4]=d>>8&255,R[5]=d&255,this._d2h(R[0])+":"+this._d2h(R[1])+":"+this._d2h(R[2])+":"+this._d2h(R[3])+":"+this._d2h(R[4])+":"+this._d2h(R[5])}getEraseSize(r,d){return d}}var I9=$a(()=>{Fn(),J6()}),yo,K6=$a(()=>{yo={entry:1082132112,text:"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",text_start:1082130432,data:"EACDQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQFIOgECSCoBAEg2AQAoOgED+B4BAMg6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBACg6AQA==",data_start:1082403756}}),I6={};un(I6,{ESP32H2ROM:()=>R1});class R1 extends zn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-H2",this.IMAGE_CHIP_ID=16,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=yo.text_start,this.ENTRY=yo.entry,this.DATA_START=yo.data_start,this.ROM_DATA=yo.data,this.ROM_TEXT=yo.text}async getChipDescription(r){return this.CHIP_NAME}async getChipFeatures(r){return["BLE","IEEE802.15.4"]}async getCrystalFreq(r){return 32}_d2h(r){const d=(+r).toString(16);return d.length===1?"0"+d:d}async postConnect(r){const d=await r.readReg(this.UARTDEV_BUF_NO)&255;if(r.debug("In _post_connect "+d),d==this.UARTDEV_BUF_NO_USB)r.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(r){let d=await r.readReg(this.MAC_EFUSE_REG);d=d>>>0;let u=await r.readReg(this.MAC_EFUSE_REG+4);u=u>>>0&65535;const R=new Uint8Array(6);return R[0]=u>>8&255,R[1]=u&255,R[2]=d>>24&255,R[3]=d>>16&255,R[4]=d>>8&255,R[5]=d&255,this._d2h(R[0])+":"+this._d2h(R[1])+":"+this._d2h(R[2])+":"+this._d2h(R[3])+":"+this._d2h(R[4])+":"+this._d2h(R[5])}getEraseSize(r,d){return d}}var G9=$a(()=>{Fn(),K6()}),qo,G6=$a(()=>{qo={entry:1077381696,text:"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",text_start:1077379072,data:"ZCvKP8qNN0CvjjdAcJM3QDqPN0DPjjdAOo83QJmPN0BmkDdA2ZA3QIGQN0BVjTdA/I83QFiQN0C8jzdA+5A3QOaPN0D7kDdAnY43QPqON0A6jzdAmY83QLWON0CWjTdAvJE3QDaTN0ByjDdAVpM3QHKMN0ByjDdAcow3QHKMN0ByjDdAcow3QHKMN0ByjDdAVpE3QHKMN0BRkjdANpM3QAQInwAAAAAAAAAYAQQIBQAAAAAAAAAIAQQIBgAAAAAAAAAAAQQIIQAAAAAAIAAAEQQI3AAAAAAAIAAAEQQIDAAAAAAAIAAAAQQIEgAAAAAAIAAAESAoDAAQAQAA",data_start:1070279668}}),D6={};un(D6,{ESP32S3ROM:()=>Z1});class Z1 extends zn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=qo.text_start,this.ENTRY=qo.entry,this.DATA_START=qo.data_start,this.ROM_DATA=qo.data,this.ROM_TEXT=qo.text}async getChipDescription(r){return"ESP32-S3"}async getChipFeatures(r){return["Wi-Fi","BLE"]}async getCrystalFreq(r){return 40}_d2h(r){const d=(+r).toString(16);return d.length===1?"0"+d:d}async postConnect(r){const d=await r.readReg(this.UARTDEV_BUF_NO)&255;if(r.debug("In _post_connect "+d),d==this.UARTDEV_BUF_NO_USB)r.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(r){let d=await r.readReg(this.MAC_EFUSE_REG);d=d>>>0;let u=await r.readReg(this.MAC_EFUSE_REG+4);u=u>>>0&65535;const R=new Uint8Array(6);return R[0]=u>>8&255,R[1]=u&255,R[2]=d>>24&255,R[3]=d>>16&255,R[4]=d>>8&255,R[5]=d&255,this._d2h(R[0])+":"+this._d2h(R[1])+":"+this._d2h(R[2])+":"+this._d2h(R[3])+":"+this._d2h(R[4])+":"+this._d2h(R[5])}getEraseSize(r,d){return d}}var D9=$a(()=>{Fn(),G6()}),ko,H6=$a(()=>{ko={entry:1073907696,text:"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",text_start:1073905664,data:"ZCv9PzaLAkDBiwJAhpACQEqMAkDjiwJASowCQKmMAkByjQJA5Y0CQI2NAkDAigJAC40CQGSNAkDMjAJACI4CQPaMAkAIjgJAr4sCQA6MAkBKjAJAqYwCQMeLAkACiwJAx44CQD2QAkDYiQJAZZACQNiJAkDYiQJA2IkCQNiJAkDYiQJA2IkCQNiJAkDYiQJAZI4CQNiJAkBZjwJAPZACQA==",data_start:1073622012}}),Y6={};un(Y6,{ESP32S2ROM:()=>y1});class y1 extends zn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=ko.text_start,this.ENTRY=ko.entry,this.DATA_START=ko.data_start,this.ROM_DATA=ko.data,this.ROM_TEXT=ko.text}async getPkgVersion(r){const d=this.EFUSE_BASE+68+12;return await r.readReg(d)>>21&15}async getChipDescription(r){const d=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],u=await this.getPkgVersion(r);if(u>=0&&u<=2)return d[u];else return"unknown ESP32-S2"}async getChipFeatures(r){const d=["Wi-Fi"],u=await this.getPkgVersion(r);if(u==1)d.push("Embedded 2MB Flash");else if(u==2)d.push("Embedded 4MB Flash");const R=4,f=this.EFUSE_BASE+92+4*R;if((await r.readReg(f)>>4&7)==1)d.push("ADC and temperature sensor calibration in BLK2 of efuse");return d}async getCrystalFreq(r){return 40}_d2h(r){const d=(+r).toString(16);return d.length===1?"0"+d:d}async readMac(r){let d=await r.readReg(this.MAC_EFUSE_REG);d=d>>>0;let u=await r.readReg(this.MAC_EFUSE_REG+4);u=u>>>0&65535;const R=new Uint8Array(6);return R[0]=u>>8&255,R[1]=u&255,R[2]=d>>24&255,R[3]=d>>16&255,R[4]=d>>8&255,R[5]=d&255,this._d2h(R[0])+":"+this._d2h(R[1])+":"+this._d2h(R[2])+":"+this._d2h(R[3])+":"+this._d2h(R[4])+":"+this._d2h(R[5])}getEraseSize(r,d){return d}}var H9=$a(()=>{Fn(),H6()}),To,B6=$a(()=>{To={entry:1074843652,text:"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",text_start:1074843648,data:"CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",data_start:1073720488}}),C6={};un(C6,{ESP8266ROM:()=>q1});class q1 extends zn{constructor(){super(...arguments);this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=To.text_start,this.ENTRY=To.entry,this.DATA_START=To.data_start,this.ROM_DATA=To.data,this.ROM_TEXT=To.text,this.getChipFeatures=async(r)=>{const d=["WiFi"];if(await this.getChipDescription(r)=="ESP8285")d.push("Embedded Flash");return d}}async readEfuse(r,d){const u=this.EFUSE_RD_REG_BASE+4*d;return r.debug("Read efuse "+u),await r.readReg(u)}async getChipDescription(r){const d=await this.readEfuse(r,2);return(await this.readEfuse(r,0)&16|d&65536)!=0?"ESP8285":"ESP8266EX"}async getCrystalFreq(r){const d=await r.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,u=r.transport.baudrate*d/1e6/this.XTAL_CLK_DIVIDER;let R;if(u>33)R=40;else R=26;if(Math.abs(R-u)>1)r.info("WARNING: Detected crystal freq "+u+"MHz is quite different to normalized freq "+R+"MHz. Unsupported crystal in use?");return R}_d2h(r){const d=(+r).toString(16);return d.length===1?"0"+d:d}async readMac(r){let d=await this.readEfuse(r,0);d=d>>>0;let u=await this.readEfuse(r,1);u=u>>>0;let R=await this.readEfuse(r,3);R=R>>>0;const f=new Uint8Array(6);if(R!=0)f[0]=R>>16&255,f[1]=R>>8&255,f[2]=R&255;else if((u>>16&255)==0)f[0]=24,f[1]=254,f[2]=52;else if((u>>16&255)==1)f[0]=172,f[1]=208,f[2]=116;else r.error("Unknown OUI");return f[3]=u>>8&255,f[4]=u&255,f[5]=d>>24&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}getEraseSize(r,d){return d}}var Y9=$a(()=>{Fn(),B6()}),xo,Q6=$a(()=>{xo={entry:1341195918,text:"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",text_start:1341194240,data:"EAD1TwYK8U9WCvFPrgrxT4QL8U/wC/FPngvxT9QI8U9AC/FPgAvxT8IK8U+ECPFP9grxT4QI8U/gCfFPJgrxT1YK8U+uCvFP8gnxTzgJ8U9oCfFP7gnxT0AO8U9WCvFPCA3xTwAO8U/EB/FPJA7xT8QH8U/EB/FPxAfxT8QH8U/EB/FPxAfxT8QH8U/EB/FPpAzxT8QH8U8mDfFPAA7xTw==",data_start:1341533100,bss_start:1341456384}}),A6={};un(A6,{ESP32P4ROM:()=>k1});class k1 extends mi{constructor(){super(...arguments);this.CHIP_NAME="ESP32-P4",this.IMAGE_CHIP_ID=18,this.IROM_MAP_START=1073741824,this.IROM_MAP_END=1275068416,this.DROM_MAP_START=1073741824,this.DROM_MAP_END=1275068416,this.BOOTLOADER_FLASH_OFFSET=8192,this.CHIP_DETECT_MAGIC_VALUE=[0,182303440],this.UART_DATE_REG_ADDR=1343004812,this.EFUSE_BASE=1343410176,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.SPI_REG_BASE=1342754816,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.PURPOSE_VAL_XTS_AES256_KEY_1=2,this.PURPOSE_VAL_XTS_AES256_KEY_2=3,this.PURPOSE_VAL_XTS_AES128_KEY=4,this.SUPPORTS_ENCRYPTED_FLASH=!0,this.FLASH_ENCRYPTED_WRITE_ALIGN=16,this.MEMORY_MAP=[[0,65536,"PADDING"],[1073741824,1275068416,"DROM"],[1341128704,1341784064,"DRAM"],[1341128704,1341784064,"BYTE_ACCESSIBLE"],[1337982976,1338114048,"DROM_MASK"],[1337982976,1338114048,"IROM_MASK"],[1073741824,1275068416,"IROM"],[1341128704,1341784064,"IRAM"],[1343258624,1343291392,"RTC_IRAM"],[1343258624,1343291392,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=1026592404,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"},this.TEXT_START=xo.text_start,this.ENTRY=xo.entry,this.DATA_START=xo.data_start,this.ROM_DATA=xo.data,this.ROM_TEXT=xo.text}async getPkgVersion(r){const d=this.EFUSE_BLOCK1_ADDR+8;return await r.readReg(d)>>27&7}async getMinorChipVersion(r){const d=this.EFUSE_BLOCK1_ADDR+8;return await r.readReg(d)>>0&15}async getMajorChipVersion(r){const d=this.EFUSE_BLOCK1_ADDR+8;return await r.readReg(d)>>4&3}async getChipDescription(r){const d=await this.getPkgVersion(r)===0?"ESP32-P4":"unknown ESP32-P4",u=await this.getMajorChipVersion(r),R=await this.getMinorChipVersion(r);return`${d} (revision v${u}.${R})`}async getChipFeatures(r){return["High-Performance MCU"]}async getCrystalFreq(r){return 40}async getFlashVoltage(r){return}async overrideVddsdio(r){r.debug("VDD_SDIO overrides are not supported for ESP32-P4")}async readMac(r){let d=await r.readReg(this.MAC_EFUSE_REG);d=d>>>0;let u=await r.readReg(this.MAC_EFUSE_REG+4);u=u>>>0&65535;const R=new Uint8Array(6);return R[0]=u>>8&255,R[1]=u&255,R[2]=d>>24&255,R[3]=d>>16&255,R[4]=d>>8&255,R[5]=d&255,this._d2h(R[0])+":"+this._d2h(R[1])+":"+this._d2h(R[2])+":"+this._d2h(R[3])+":"+this._d2h(R[4])+":"+this._d2h(R[5])}async getFlashCryptConfig(r){return}async getSecureBootEnabled(r){return await r.readReg(this.EFUSE_SECURE_BOOT_EN_REG)&this.EFUSE_SECURE_BOOT_EN_MASK}async getKeyBlockPurpose(r,d){if(d<0||d>this.EFUSE_MAX_KEY){r.debug(`Valid key block numbers must be in range 0-${this.EFUSE_MAX_KEY}`);return}const u=[[this.EFUSE_PURPOSE_KEY0_REG,this.EFUSE_PURPOSE_KEY0_SHIFT],[this.EFUSE_PURPOSE_KEY1_REG,this.EFUSE_PURPOSE_KEY1_SHIFT],[this.EFUSE_PURPOSE_KEY2_REG,this.EFUSE_PURPOSE_KEY2_SHIFT],[this.EFUSE_PURPOSE_KEY3_REG,this.EFUSE_PURPOSE_KEY3_SHIFT],[this.EFUSE_PURPOSE_KEY4_REG,this.EFUSE_PURPOSE_KEY4_SHIFT],[this.EFUSE_PURPOSE_KEY5_REG,this.EFUSE_PURPOSE_KEY5_SHIFT]],[R,f]=u[d];return await r.readReg(R)>>f&15}async isFlashEncryptionKeyValid(r){const d=[];for(let f=0;f<=this.EFUSE_MAX_KEY;f++){const T=await this.getKeyBlockPurpose(r,f);d.push(T)}if(typeof d.find((f)=>f===this.PURPOSE_VAL_XTS_AES128_KEY)!==void 0)return!0;const u=d.find((f)=>f===this.PURPOSE_VAL_XTS_AES256_KEY_1),R=d.find((f)=>f===this.PURPOSE_VAL_XTS_AES256_KEY_2);if(typeof u!==void 0&&typeof R!==void 0)return!0;return!1}}var B9=$a(()=>{F6(),Q6()}),T0=function(r){return r.replaceAll("\r\n","\n")},x0=function(r){return r.slice(2,-3)},a8="\x01",$0="\x02",Fl="\x03",Ol="\x04",M0=512,Xl=80,n8=1152000;class T1{constructor(){this.serial=null,this._connected=!1,this._encoder=new TextEncoder,this._decoder=new TextDecoder}requestPort(r=[]){return navigator.serial.requestPort({filters:r}).then((d)=>{if(d._serial){this.serial=d._serial,this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1);return}this.serial=new e8(d),this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1)})}connect(r={}){return new Promise((d,u)=>{if(this.serial)this.serial.open({baudRate:n8,...r}).then(()=>d()).catch((R)=>{if(R.name==="InvalidStateError")this._connected=!0,d();u(R)});else u(new Error("No device specified"))})}get connected(){return this._connected}disconnect(){return this.serial.close()}get deviceInfo(){return this.serial.getInfo()}readUntil(r,d){return new Promise((u)=>{let R="";const f=async(T)=>{if(T){if(R+=this._decoder.decode(T),d)d(T)}if(R.indexOf(r)!==-1)this.serial.off("data",f),u(R)};this.serial.on("data",f)})}writeAndReadUntil(r,d,u){return new Promise(async(R)=>{if(d)this.readUntil(d,u).then(R);for(let f=0;f<r.length;f+=M0)await this.serial.write(r.slice(f,f+M0)),await zl(10);if(!d)R()})}async getPrompt(){return await zl(150),await this.stop(),await zl(150),await this.writeAndReadUntil(`\r${Fl}${$0}`,"\r\n>>>")}async enterRawRepl(){return await this.writeAndReadUntil(a8,"raw REPL; CTRL-B to exit")}async exitRawRepl(){return await this.writeAndReadUntil($0,"\r\n>>>")}async execRaw(r,d){return await this.writeAndReadUntil(r),await this.writeAndReadUntil(Ol,`${Ol}>`,d)}async execFile(r,d){if(d=d||function(){},r){await this.enterRawRepl();const u=await this.execRaw(r,d);return await this.exitRawRepl(),u}return Promise.reject()}async run(r,d){return d=d||function(){},new Promise(async(u,R)=>{if(this.rejectRun)this.rejectRun(new Error("re-run")),this.rejectRun=null;this.rejectRun=R;try{await this.enterRawRepl();const f=await this.execRaw(r||"#",d);return await this.exitRawRepl(),u(f)}catch(f){R(f),this.rejectRun=null}})}async eval(r){await this.serial.write(r)}async stop(){if(this.rejectRun)this.rejectRun(new Error("pre stop")),this.rejectRun=null;await this.serial.write(Fl)}async reset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.serial.write(Fl),await this.serial.write(Ol)}async hardReset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.enterRawRepl(),this.execRaw("import machine\nmachine.reset()")}async exists(r){r=r||"";let d="";d+="try:\n",d+=`  f = open('${r}', 'r')\n`,d+="  print(1)\n",d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const u=await this.execRaw(d);return await this.exitRawRepl(),u[2]=="1"}async listdir(r){r=r||"";let d="";d+="import os\n",d+="try:\n",d+=`  print(os.listdir('${r}'))\n`,d+="except OSError:\n",d+="  print([])\n",await this.enterRawRepl();let u=await this.execRaw(d);return await this.exitRawRepl(),u=x0(u),u=u.replace(/'/g,'"'),JSON.parse(u)}async mkdir(r){if(r){await this.enterRawRepl();const d=await this.execRaw(`import os\nos.mkdir('${r}')`);return await this.exitRawRepl(),d}return Promise.reject(new Error("Path to file was not specified"))}async rmdir(r){if(r){let d="";d+="import os\n",d+="try:\n",d+=`  os.rmdir("${r}")\n`,d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const u=await this.execRaw(d);return await this.exitRawRepl(),u}return Promise.reject(new Error("Path to file was not specified"))}async remove(r){if(r){let d="";d+="import os\n",d+="try:\n",d+=`  os.remove("${r}")\n`,d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const u=await this.execRaw(d);return this.exitRawRepl(),u}return Promise.reject(new Error("Path to file was not specified"))}async rename(r,d){if(r&&d){await this.enterRawRepl();const u=await this.execRaw(`import os\nos.rename('${r}', '${d}')`);return this.exitRawRepl(),u}return Promise.reject(new Error("Path to file was not specified"))}async cat(r){if(r){await this.enterRawRepl();let d=await this.execRaw(`with open('${r}','r') as f:\n while 1:\n  b=f.read(256)\n  if not b:break\n  print(b,end='')`);return await this.exitRawRepl(),d=x0(d),T0(d)}return Promise.reject(new Error("Path to file was not specified"))}async checkHash(r,d){if(r){let u="";u+="import os\n",u+="import hashlib\n",u+="import binascii\n",u+="hash = hashlib.sha256()\n",u+=`with open('${r}', 'rb') as f:\n`,u+="  while True:\n",u+=`    c = f.read(${Xl})\n`,u+="    if not c: break\n",u+="    hash.update(c)\n",u+="print(binascii.hexlify(hash.digest()).decode())\n",await this.enterRawRepl();let R=await this.execRaw(u);return await this.exitRawRepl(),R=R.slice(2,R.indexOf("\n")-1),d===R}return Promise.reject(new Error("Path to file was not specified"))}async put(r,d,u){if(!d){Promise.reject(new Error("Must specify content and destination path"));return}let R;if(typeof r==="string")R=this._encoder.encode(T0(r));else if(r instanceof ArrayBuffer)R=new Uint8Array(r);else if(r instanceof Uint8Array)R=r;else Promise.reject(new Error(`${r} must string, Uint8Array or ArrayBuffer`));if(u=u||function(){},await this.exists(d)){const b=await crypto.subtle.digest("SHA-256",R),W=Array.from(new Uint8Array(b)).map((y)=>y.toString(16).padStart(2,"0")).join("");if(await this.checkHash(d,W)){u(100);return}}const f=Array.from(R).map((b)=>b.toString(16).padStart(2,"0"));let T="";T+=await this.enterRawRepl();let c=d.split("/");if(c.pop(),c.length>0){T+=await this.execRaw("import os");const b=[];c.reduce((W,y)=>{if(y===""||W!==""&&W.at(-1)!=="/")W+="/";if(W+=y,W!=="/")b.push(W);return W},"");for(let W of b)T+=await this.execRaw(`os.mkdir('${W}')`)}T+=await this.execRaw(`f=open('${d}','w')\nw=f.write`);for(let b=0;b<f.length;b+=Xl){const W=f.slice(b,b+Xl).map((y)=>`\\x${y}`);T+=await this.execRaw(`w(b"${W.join("")}")`),u(parseInt(b/f.length*100))}return T+=await this.execRaw("f.close()"),T+=await this.exitRawRepl(),u(100),T}}var x1=async(r,d)=>{const u=new T1;await u.requestPort(r),await u.connect(),await u.stop(),d(u);const R=()=>setTimeout(()=>{if(u.connected)R();else d(null)},1000);return R(),u};var $1=async(r,d)=>{await r.stop(),await r.enterRawRepl(),await r.execRaw(`from ${d} import display`),await r.execRaw("import popui.screen.download as download_screen"),await r.execRaw("download_screen.render(display)"),await r.exitRawRepl()},M1=async(r,d)=>{await r.stop(),await r.enterRawRepl(),await r.execRaw("import device.config as config");for(let[u,R]of Object.entries(d))if(typeof R==="number"&&R%1===0)await r.execRaw(`config.set_int("${u}", ${R})`);else if(typeof R==="boolean")await r.execRaw(`config.set_bool("${u}", ${R?"True":"False"})`);else await r.execRaw(`config.set_str("${u}", "${R}")`);await r.execRaw("config.save()"),await r.exitRawRepl()},V1=async(r,d)=>{await r.stop();let u=0;for(let f of d)u+=f.content?.length??f.data?.length??0;await r.enterRawRepl();const R=await r.execRaw(`from device.flash import check_flash_free\nprint(check_flash_free(${u}))\n`);return await r.exitRawRepl(),R.slice(2,-3).trim()==="True"},L1=async(r,d,u)=>{await r.stop();const R=d.length;let f=0;const T=(c)=>{u(((f+1/R*(c/100))*100).toFixed(1))};for(let c of d){let{id:b,content:W}=c;if(c.type){if(c.type==="text/x-python"&&!b.endsWith(".py"))b+=".py";else if(c.type.startsWith("image/")&&!W)W=await o8(c.type,c.data)}await r.put(W||"",b,T),f+=1/R}u(100)},Q9=ui(W6(),1),A9=ui(w6(),1);var Lo=function(r){let d=r.length;while(--d>=0)r[d]=0},Ul=function(r,d,u,R,f){this.static_tree=r,this.extra_bits=d,this.extra_base=u,this.elems=R,this.max_length=f,this.has_stree=r&&r.length},El=function(r,d){this.dyn_tree=r,this.max_code=0,this.stat_desc=d},sn=function(r,d,u,R,f){this.good_length=r,this.max_lazy=d,this.nice_length=u,this.max_chain=R,this.func=f},s8=function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=br,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(em*2),this.dyn_dtree=new Uint16Array((2*Q8+1)*2),this.bl_tree=new Uint16Array((2*A8+1)*2),Ln(this.dyn_ltree),Ln(this.dyn_dtree),Ln(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(am+1),this.heap=new Uint16Array(2*oi+1),Ln(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*oi+1),Ln(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0},r8=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},pi=function(r){this.options=vr.assign({level:zm,method:Om,chunkSize:16384,windowBits:15,memLevel:8,strategy:Fm},r||{});let d=this.options;if(d.raw&&d.windowBits>0)d.windowBits=-d.windowBits;else if(d.gzip&&d.windowBits>0&&d.windowBits<16)d.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Q1,this.strm.avail_out=0;let u=os.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(u!==dr)throw new Error(ts[u]);if(d.header)os.deflateSetHeader(this.strm,d.header);if(d.dictionary){let R;if(typeof d.dictionary==="string")R=ds.string2buf(d.dictionary);else if(A1.call(d.dictionary)==="[object ArrayBuffer]")R=new Uint8Array(d.dictionary);else R=d.dictionary;if(u=os.deflateSetDictionary(this.strm,R),u!==dr)throw new Error(ts[u]);this._dict_set=!0}};var l8=function(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},i8=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},di=function(r){this.options=vr.assign({chunkSize:65536,windowBits:15,to:""},r||{});const d=this.options;if(d.raw&&d.windowBits>=0&&d.windowBits<16){if(d.windowBits=-d.windowBits,d.windowBits===0)d.windowBits=-15}if(d.windowBits>=0&&d.windowBits<16&&!(r&&r.windowBits))d.windowBits+=32;if(d.windowBits>15&&d.windowBits<48){if((d.windowBits&15)===0)d.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Q1,this.strm.avail_out=0;let u=hn.inflateInit2(this.strm,d.windowBits);if(u!==_s)throw new Error(ts[u]);if(this.header=new ht,hn.inflateGetHeader(this.strm,this.header),d.dictionary){if(typeof d.dictionary==="string")d.dictionary=ds.string2buf(d.dictionary);else if(tu.call(d.dictionary)==="[object ArrayBuffer]")d.dictionary=new Uint8Array(d.dictionary);if(d.raw){if(u=hn.inflateSetDictionary(this.strm,d.dictionary),u!==_s)throw new Error(ts[u])}}};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var c8=0,W1=1,u8=2,m8=3,t8=258,_i=29,fs=256,ls=fs+1+_i,$o=30,fi=19,w1=2*ls+1,Qn=15,jl=16,p8=7,hi=256,S1=16,g1=17,z1=18,ei=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),tr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),d8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),F1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_8=512,fn=new Array((ls+2)*2);Lo(fn);var ns=new Array($o*2);Lo(ns);var is=new Array(_8);Lo(is);var cs=new Array(t8-m8+1);Lo(cs);var bi=new Array(_i);Lo(bi);var pr=new Array($o);Lo(pr);var O1,X1,U1,E1=(r)=>{return r<256?is[r]:is[256+(r>>>7)]},us=(r,d)=>{r.pending_buf[r.pending++]=d&255,r.pending_buf[r.pending++]=d>>>8&255},Xa=(r,d,u)=>{if(r.bi_valid>jl-u)r.bi_buf|=d<<r.bi_valid&65535,us(r,r.bi_buf),r.bi_buf=d>>jl-r.bi_valid,r.bi_valid+=u-jl;else r.bi_buf|=d<<r.bi_valid&65535,r.bi_valid+=u},rn=(r,d,u)=>{Xa(r,u[d*2],u[d*2+1])},j1=(r,d)=>{let u=0;do u|=r&1,r>>>=1,u<<=1;while(--d>0);return u>>>1},f8=(r)=>{if(r.bi_valid===16)us(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0;else if(r.bi_valid>=8)r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8},h8=(r,d)=>{const{dyn_tree:u,max_code:R}=d,f=d.stat_desc.static_tree,T=d.stat_desc.has_stree,c=d.stat_desc.extra_bits,b=d.stat_desc.extra_base,W=d.stat_desc.max_length;let y,q,Z,$,V,x,k=0;for($=0;$<=Qn;$++)r.bl_count[$]=0;u[r.heap[r.heap_max]*2+1]=0;for(y=r.heap_max+1;y<w1;y++){if(q=r.heap[y],$=u[u[q*2+1]*2+1]+1,$>W)$=W,k++;if(u[q*2+1]=$,q>R)continue;if(r.bl_count[$]++,V=0,q>=b)V=c[q-b];if(x=u[q*2],r.opt_len+=x*($+V),T)r.static_len+=x*(f[q*2+1]+V)}if(k===0)return;do{$=W-1;while(r.bl_count[$]===0)$--;r.bl_count[$]--,r.bl_count[$+1]+=2,r.bl_count[W]--,k-=2}while(k>0);for($=W;$!==0;$--){q=r.bl_count[$];while(q!==0){if(Z=r.heap[--y],Z>R)continue;if(u[Z*2+1]!==$)r.opt_len+=($-u[Z*2+1])*u[Z*2],u[Z*2+1]=$;q--}}},J1=(r,d,u)=>{const R=new Array(Qn+1);let f=0,T,c;for(T=1;T<=Qn;T++)f=f+u[T-1]<<1,R[T]=f;for(c=0;c<=d;c++){let b=r[c*2+1];if(b===0)continue;r[c*2]=j1(R[b]++,b)}},b8=()=>{let r,d,u,R,f;const T=new Array(Qn+1);u=0;for(R=0;R<_i-1;R++){bi[R]=u;for(r=0;r<1<<ei[R];r++)cs[u++]=R}cs[u-1]=R,f=0;for(R=0;R<16;R++){pr[R]=f;for(r=0;r<1<<tr[R];r++)is[f++]=R}f>>=7;for(;R<$o;R++){pr[R]=f<<7;for(r=0;r<1<<tr[R]-7;r++)is[256+f++]=R}for(d=0;d<=Qn;d++)T[d]=0;r=0;while(r<=143)fn[r*2+1]=8,r++,T[8]++;while(r<=255)fn[r*2+1]=9,r++,T[9]++;while(r<=279)fn[r*2+1]=7,r++,T[7]++;while(r<=287)fn[r*2+1]=8,r++,T[8]++;J1(fn,ls+1,T);for(r=0;r<$o;r++)ns[r*2+1]=5,ns[r*2]=j1(r,5);O1=new Ul(fn,ei,fs+1,ls,Qn),X1=new Ul(ns,tr,0,$o,Qn),U1=new Ul(new Array(0),d8,0,fi,p8)},P1=(r)=>{let d;for(d=0;d<ls;d++)r.dyn_ltree[d*2]=0;for(d=0;d<$o;d++)r.dyn_dtree[d*2]=0;for(d=0;d<fi;d++)r.bl_tree[d*2]=0;r.dyn_ltree[hi*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},K1=(r)=>{if(r.bi_valid>8)us(r,r.bi_buf);else if(r.bi_valid>0)r.pending_buf[r.pending++]=r.bi_buf;r.bi_buf=0,r.bi_valid=0},V0=(r,d,u,R)=>{const f=d*2,T=u*2;return r[f]<r[T]||r[f]===r[T]&&R[d]<=R[u]},Jl=(r,d,u)=>{const R=r.heap[u];let f=u<<1;while(f<=r.heap_len){if(f<r.heap_len&&V0(d,r.heap[f+1],r.heap[f],r.depth))f++;if(V0(d,R,r.heap[f],r.depth))break;r.heap[u]=r.heap[f],u=f,f<<=1}r.heap[u]=R},L0=(r,d,u)=>{let R,f,T=0,c,b;if(r.sym_next!==0)do if(R=r.pending_buf[r.sym_buf+T++]&255,R+=(r.pending_buf[r.sym_buf+T++]&255)<<8,f=r.pending_buf[r.sym_buf+T++],R===0)rn(r,f,d);else{if(c=cs[f],rn(r,c+fs+1,d),b=ei[c],b!==0)f-=bi[c],Xa(r,f,b);if(R--,c=E1(R),rn(r,c,u),b=tr[c],b!==0)R-=pr[c],Xa(r,R,b)}while(T<r.sym_next);rn(r,hi,d)},ai=(r,d)=>{const u=d.dyn_tree,R=d.stat_desc.static_tree,f=d.stat_desc.has_stree,T=d.stat_desc.elems;let c,b,W=-1,y;r.heap_len=0,r.heap_max=w1;for(c=0;c<T;c++)if(u[c*2]!==0)r.heap[++r.heap_len]=W=c,r.depth[c]=0;else u[c*2+1]=0;while(r.heap_len<2)if(y=r.heap[++r.heap_len]=W<2?++W:0,u[y*2]=1,r.depth[y]=0,r.opt_len--,f)r.static_len-=R[y*2+1];d.max_code=W;for(c=r.heap_len>>1;c>=1;c--)Jl(r,u,c);y=T;do c=r.heap[1],r.heap[1]=r.heap[r.heap_len--],Jl(r,u,1),b=r.heap[1],r.heap[--r.heap_max]=c,r.heap[--r.heap_max]=b,u[y*2]=u[c*2]+u[b*2],r.depth[y]=(r.depth[c]>=r.depth[b]?r.depth[c]:r.depth[b])+1,u[c*2+1]=u[b*2+1]=y,r.heap[1]=y++,Jl(r,u,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],h8(r,d),J1(u,W,r.bl_count)},W0=(r,d,u)=>{let R,f=-1,T,c=d[1],b=0,W=7,y=4;if(c===0)W=138,y=3;d[(u+1)*2+1]=65535;for(R=0;R<=u;R++){if(T=c,c=d[(R+1)*2+1],++b<W&&T===c)continue;else if(b<y)r.bl_tree[T*2]+=b;else if(T!==0){if(T!==f)r.bl_tree[T*2]++;r.bl_tree[S1*2]++}else if(b<=10)r.bl_tree[g1*2]++;else r.bl_tree[z1*2]++;if(b=0,f=T,c===0)W=138,y=3;else if(T===c)W=6,y=3;else W=7,y=4}},w0=(r,d,u)=>{let R,f=-1,T,c=d[1],b=0,W=7,y=4;if(c===0)W=138,y=3;for(R=0;R<=u;R++){if(T=c,c=d[(R+1)*2+1],++b<W&&T===c)continue;else if(b<y)do rn(r,T,r.bl_tree);while(--b!==0);else if(T!==0){if(T!==f)rn(r,T,r.bl_tree),b--;rn(r,S1,r.bl_tree),Xa(r,b-3,2)}else if(b<=10)rn(r,g1,r.bl_tree),Xa(r,b-3,3);else rn(r,z1,r.bl_tree),Xa(r,b-11,7);if(b=0,f=T,c===0)W=138,y=3;else if(T===c)W=6,y=3;else W=7,y=4}},v8=(r)=>{let d;W0(r,r.dyn_ltree,r.l_desc.max_code),W0(r,r.dyn_dtree,r.d_desc.max_code),ai(r,r.bl_desc);for(d=fi-1;d>=3;d--)if(r.bl_tree[F1[d]*2+1]!==0)break;return r.opt_len+=3*(d+1)+5+5+4,d},N8=(r,d,u,R)=>{let f;Xa(r,d-257,5),Xa(r,u-1,5),Xa(r,R-4,4);for(f=0;f<R;f++)Xa(r,r.bl_tree[F1[f]*2+1],3);w0(r,r.dyn_ltree,d-1),w0(r,r.dyn_dtree,u-1)},R8=(r)=>{let d=4093624447,u;for(u=0;u<=31;u++,d>>>=1)if(d&1&&r.dyn_ltree[u*2]!==0)return 0;if(r.dyn_ltree[18]!==0||r.dyn_ltree[20]!==0||r.dyn_ltree[26]!==0)return 1;for(u=32;u<fs;u++)if(r.dyn_ltree[u*2]!==0)return 1;return 0},S0=!1,Z8=(r)=>{if(!S0)b8(),S0=!0;r.l_desc=new El(r.dyn_ltree,O1),r.d_desc=new El(r.dyn_dtree,X1),r.bl_desc=new El(r.bl_tree,U1),r.bi_buf=0,r.bi_valid=0,P1(r)},I1=(r,d,u,R)=>{if(Xa(r,(c8<<1)+(R?1:0),3),K1(r),us(r,u),us(r,~u),u)r.pending_buf.set(r.window.subarray(d,d+u),r.pending);r.pending+=u},y8=(r)=>{Xa(r,W1<<1,3),rn(r,hi,fn),f8(r)},q8=(r,d,u,R)=>{let f,T,c=0;if(r.level>0){if(r.strm.data_type===2)r.strm.data_type=R8(r);if(ai(r,r.l_desc),ai(r,r.d_desc),c=v8(r),f=r.opt_len+3+7>>>3,T=r.static_len+3+7>>>3,T<=f)f=T}else f=T=u+5;if(u+4<=f&&d!==-1)I1(r,d,u,R);else if(r.strategy===4||T===f)Xa(r,(W1<<1)+(R?1:0),3),L0(r,fn,ns);else Xa(r,(u8<<1)+(R?1:0),3),N8(r,r.l_desc.max_code+1,r.d_desc.max_code+1,c+1),L0(r,r.dyn_ltree,r.dyn_dtree);if(P1(r),R)K1(r)},k8=(r,d,u)=>{if(r.pending_buf[r.sym_buf+r.sym_next++]=d,r.pending_buf[r.sym_buf+r.sym_next++]=d>>8,r.pending_buf[r.sym_buf+r.sym_next++]=u,d===0)r.dyn_ltree[u*2]++;else r.matches++,d--,r.dyn_ltree[(cs[u]+fs+1)*2]++,r.dyn_dtree[E1(d)*2]++;return r.sym_next===r.sym_end},T8=Z8,x8=I1,$8=q8,M8=k8,V8=y8,L8={_tr_init:T8,_tr_stored_block:x8,_tr_flush_block:$8,_tr_tally:M8,_tr_align:V8},W8=(r,d,u,R)=>{let f=r&65535|0,T=r>>>16&65535|0,c=0;while(u!==0){c=u>2000?2000:u,u-=c;do f=f+d[R++]|0,T=T+f|0;while(--c);f%=65521,T%=65521}return f|T<<16|0},ms=W8,w8=()=>{let r,d=[];for(var u=0;u<256;u++){r=u;for(var R=0;R<8;R++)r=r&1?3988292384^r>>>1:r>>>1;d[u]=r}return d},S8=new Uint32Array(w8()),g8=(r,d,u,R)=>{const f=S8,T=R+u;r^=-1;for(let c=R;c<T;c++)r=r>>>8^f[(r^d[c])&255];return r^-1},Ma=g8,ts={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:z8,_tr_stored_block:ni,_tr_flush_block:F8,_tr_tally:wn,_tr_align:O8}=L8,{Z_NO_FLUSH:Sn,Z_PARTIAL_FLUSH:X8,Z_FULL_FLUSH:U8,Z_FINISH:Da,Z_BLOCK:g0,Z_OK:La,Z_STREAM_END:z0,Z_STREAM_ERROR:ln,Z_DATA_ERROR:E8,Z_BUF_ERROR:Pl,Z_DEFAULT_COMPRESSION:j8,Z_FILTERED:J8,Z_HUFFMAN_ONLY:nr,Z_RLE:P8,Z_FIXED:K8,Z_DEFAULT_STRATEGY:I8,Z_UNKNOWN:G8,Z_DEFLATED:br}=hr,D8=9,H8=15,Y8=8,B8=29,C8=256,oi=C8+1+B8,Q8=30,A8=19,em=2*oi+1,am=15,ha=3,Wn=258,cn=Wn+ha+1,nm=32,Mo=42,vi=57,si=69,ri=73,li=91,ii=103,An=113,es=666,Sa=1,Wo=2,ao=3,wo=4,om=3,eo=(r,d)=>{return r.msg=ts[d],d},F0=(r)=>{return r*2-(r>4?9:0)},Ln=(r)=>{let d=r.length;while(--d>=0)r[d]=0},sm=(r)=>{let d,u,R,f=r.w_size;d=r.hash_size,R=d;do u=r.head[--R],r.head[R]=u>=f?u-f:0;while(--d);d=f,R=d;do u=r.prev[--R],r.prev[R]=u>=f?u-f:0;while(--d)},rm=(r,d,u)=>(d<<r.hash_shift^u)&r.hash_mask,gn=rm,Pa=(r)=>{const d=r.state;let u=d.pending;if(u>r.avail_out)u=r.avail_out;if(u===0)return;if(r.output.set(d.pending_buf.subarray(d.pending_out,d.pending_out+u),r.next_out),r.next_out+=u,d.pending_out+=u,r.total_out+=u,r.avail_out-=u,d.pending-=u,d.pending===0)d.pending_out=0},Ka=(r,d)=>{F8(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,d),r.block_start=r.strstart,Pa(r.strm)},ba=(r,d)=>{r.pending_buf[r.pending++]=d},Co=(r,d)=>{r.pending_buf[r.pending++]=d>>>8&255,r.pending_buf[r.pending++]=d&255},ci=(r,d,u,R)=>{let f=r.avail_in;if(f>R)f=R;if(f===0)return 0;if(r.avail_in-=f,d.set(r.input.subarray(r.next_in,r.next_in+f),u),r.state.wrap===1)r.adler=ms(r.adler,d,f,u);else if(r.state.wrap===2)r.adler=Ma(r.adler,d,f,u);return r.next_in+=f,r.total_in+=f,f},G1=(r,d)=>{let{max_chain_length:u,strstart:R}=r,f,T,c=r.prev_length,b=r.nice_match;const W=r.strstart>r.w_size-cn?r.strstart-(r.w_size-cn):0,y=r.window,q=r.w_mask,Z=r.prev,$=r.strstart+Wn;let V=y[R+c-1],x=y[R+c];if(r.prev_length>=r.good_match)u>>=2;if(b>r.lookahead)b=r.lookahead;do{if(f=d,y[f+c]!==x||y[f+c-1]!==V||y[f]!==y[R]||y[++f]!==y[R+1])continue;R+=2,f++;do;while(y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&R<$);if(T=Wn-($-R),R=$-Wn,T>c){if(r.match_start=d,c=T,T>=b)break;V=y[R+c-1],x=y[R+c]}}while((d=Z[d&q])>W&&--u!==0);if(c<=r.lookahead)return c;return r.lookahead},Vo=(r)=>{const d=r.w_size;let u,R,f;do{if(R=r.window_size-r.lookahead-r.strstart,r.strstart>=d+(d-cn)){if(r.window.set(r.window.subarray(d,d+d-R),0),r.match_start-=d,r.strstart-=d,r.block_start-=d,r.insert>r.strstart)r.insert=r.strstart;sm(r),R+=d}if(r.strm.avail_in===0)break;if(u=ci(r.strm,r.window,r.strstart+r.lookahead,R),r.lookahead+=u,r.lookahead+r.insert>=ha){f=r.strstart-r.insert,r.ins_h=r.window[f],r.ins_h=gn(r,r.ins_h,r.window[f+1]);while(r.insert)if(r.ins_h=gn(r,r.ins_h,r.window[f+ha-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++,r.insert--,r.lookahead+r.insert<ha)break}}while(r.lookahead<cn&&r.strm.avail_in!==0)},D1=(r,d)=>{let u=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,R,f,T,c=0,b=r.strm.avail_in;do{if(R=65535,T=r.bi_valid+42>>3,r.strm.avail_out<T)break;if(T=r.strm.avail_out-T,f=r.strstart-r.block_start,R>f+r.strm.avail_in)R=f+r.strm.avail_in;if(R>T)R=T;if(R<u&&(R===0&&d!==Da||d===Sn||R!==f+r.strm.avail_in))break;if(c=d===Da&&R===f+r.strm.avail_in?1:0,ni(r,0,0,c),r.pending_buf[r.pending-4]=R,r.pending_buf[r.pending-3]=R>>8,r.pending_buf[r.pending-2]=~R,r.pending_buf[r.pending-1]=~R>>8,Pa(r.strm),f){if(f>R)f=R;r.strm.output.set(r.window.subarray(r.block_start,r.block_start+f),r.strm.next_out),r.strm.next_out+=f,r.strm.avail_out-=f,r.strm.total_out+=f,r.block_start+=f,R-=f}if(R)ci(r.strm,r.strm.output,r.strm.next_out,R),r.strm.next_out+=R,r.strm.avail_out-=R,r.strm.total_out+=R}while(c===0);if(b-=r.strm.avail_in,b){if(b>=r.w_size)r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart;else{if(r.window_size-r.strstart<=b){if(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2)r.matches++;if(r.insert>r.strstart)r.insert=r.strstart}r.window.set(r.strm.input.subarray(r.strm.next_in-b,r.strm.next_in),r.strstart),r.strstart+=b,r.insert+=b>r.w_size-r.insert?r.w_size-r.insert:b}r.block_start=r.strstart}if(r.high_water<r.strstart)r.high_water=r.strstart;if(c)return wo;if(d!==Sn&&d!==Da&&r.strm.avail_in===0&&r.strstart===r.block_start)return Wo;if(T=r.window_size-r.strstart,r.strm.avail_in>T&&r.block_start>=r.w_size){if(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2)r.matches++;if(T+=r.w_size,r.insert>r.strstart)r.insert=r.strstart}if(T>r.strm.avail_in)T=r.strm.avail_in;if(T)ci(r.strm,r.window,r.strstart,T),r.strstart+=T,r.insert+=T>r.w_size-r.insert?r.w_size-r.insert:T;if(r.high_water<r.strstart)r.high_water=r.strstart;if(T=r.bi_valid+42>>3,T=r.pending_buf_size-T>65535?65535:r.pending_buf_size-T,u=T>r.w_size?r.w_size:T,f=r.strstart-r.block_start,f>=u||(f||d===Da)&&d!==Sn&&r.strm.avail_in===0&&f<=T)R=f>T?T:f,c=d===Da&&r.strm.avail_in===0&&R===f?1:0,ni(r,r.block_start,R,c),r.block_start+=R,Pa(r.strm);return c?ao:Sa},Kl=(r,d)=>{let u,R;for(;;){if(r.lookahead<cn){if(Vo(r),r.lookahead<cn&&d===Sn)return Sa;if(r.lookahead===0)break}if(u=0,r.lookahead>=ha)r.ins_h=gn(r,r.ins_h,r.window[r.strstart+ha-1]),u=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;if(u!==0&&r.strstart-u<=r.w_size-cn)r.match_length=G1(r,u);if(r.match_length>=ha)if(R=wn(r,r.strstart-r.match_start,r.match_length-ha),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=ha){r.match_length--;do r.strstart++,r.ins_h=gn(r,r.ins_h,r.window[r.strstart+ha-1]),u=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=gn(r,r.ins_h,r.window[r.strstart+1]);else R=wn(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(R){if(Ka(r,!1),r.strm.avail_out===0)return Sa}}if(r.insert=r.strstart<ha-1?r.strstart:ha-1,d===Da){if(Ka(r,!0),r.strm.avail_out===0)return ao;return wo}if(r.sym_next){if(Ka(r,!1),r.strm.avail_out===0)return Sa}return Wo},fo=(r,d)=>{let u,R,f;for(;;){if(r.lookahead<cn){if(Vo(r),r.lookahead<cn&&d===Sn)return Sa;if(r.lookahead===0)break}if(u=0,r.lookahead>=ha)r.ins_h=gn(r,r.ins_h,r.window[r.strstart+ha-1]),u=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;if(r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=ha-1,u!==0&&r.prev_length<r.max_lazy_match&&r.strstart-u<=r.w_size-cn){if(r.match_length=G1(r,u),r.match_length<=5&&(r.strategy===J8||r.match_length===ha&&r.strstart-r.match_start>4096))r.match_length=ha-1}if(r.prev_length>=ha&&r.match_length<=r.prev_length){f=r.strstart+r.lookahead-ha,R=wn(r,r.strstart-1-r.prev_match,r.prev_length-ha),r.lookahead-=r.prev_length-1,r.prev_length-=2;do if(++r.strstart<=f)r.ins_h=gn(r,r.ins_h,r.window[r.strstart+ha-1]),u=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.prev_length!==0);if(r.match_available=0,r.match_length=ha-1,r.strstart++,R){if(Ka(r,!1),r.strm.avail_out===0)return Sa}}else if(r.match_available){if(R=wn(r,0,r.window[r.strstart-1]),R)Ka(r,!1);if(r.strstart++,r.lookahead--,r.strm.avail_out===0)return Sa}else r.match_available=1,r.strstart++,r.lookahead--}if(r.match_available)R=wn(r,0,r.window[r.strstart-1]),r.match_available=0;if(r.insert=r.strstart<ha-1?r.strstart:ha-1,d===Da){if(Ka(r,!0),r.strm.avail_out===0)return ao;return wo}if(r.sym_next){if(Ka(r,!1),r.strm.avail_out===0)return Sa}return Wo},lm=(r,d)=>{let u,R,f,T;const c=r.window;for(;;){if(r.lookahead<=Wn){if(Vo(r),r.lookahead<=Wn&&d===Sn)return Sa;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=ha&&r.strstart>0){if(f=r.strstart-1,R=c[f],R===c[++f]&&R===c[++f]&&R===c[++f]){T=r.strstart+Wn;do;while(R===c[++f]&&R===c[++f]&&R===c[++f]&&R===c[++f]&&R===c[++f]&&R===c[++f]&&R===c[++f]&&R===c[++f]&&f<T);if(r.match_length=Wn-(T-f),r.match_length>r.lookahead)r.match_length=r.lookahead}}if(r.match_length>=ha)u=wn(r,1,r.match_length-ha),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0;else u=wn(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(u){if(Ka(r,!1),r.strm.avail_out===0)return Sa}}if(r.insert=0,d===Da){if(Ka(r,!0),r.strm.avail_out===0)return ao;return wo}if(r.sym_next){if(Ka(r,!1),r.strm.avail_out===0)return Sa}return Wo},im=(r,d)=>{let u;for(;;){if(r.lookahead===0){if(Vo(r),r.lookahead===0){if(d===Sn)return Sa;break}}if(r.match_length=0,u=wn(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,u){if(Ka(r,!1),r.strm.avail_out===0)return Sa}}if(r.insert=0,d===Da){if(Ka(r,!0),r.strm.avail_out===0)return ao;return wo}if(r.sym_next){if(Ka(r,!1),r.strm.avail_out===0)return Sa}return Wo},as=[new sn(0,0,0,0,D1),new sn(4,4,8,4,Kl),new sn(4,5,16,8,Kl),new sn(4,6,32,32,Kl),new sn(4,4,16,16,fo),new sn(8,16,32,32,fo),new sn(8,16,128,128,fo),new sn(8,32,128,256,fo),new sn(32,128,258,1024,fo),new sn(32,258,258,4096,fo)],cm=(r)=>{r.window_size=2*r.w_size,Ln(r.head),r.max_lazy_match=as[r.level].max_lazy,r.good_match=as[r.level].good_length,r.nice_match=as[r.level].nice_length,r.max_chain_length=as[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=ha-1,r.match_available=0,r.ins_h=0},hs=(r)=>{if(!r)return 1;const d=r.state;if(!d||d.strm!==r||d.status!==Mo&&d.status!==vi&&d.status!==si&&d.status!==ri&&d.status!==li&&d.status!==ii&&d.status!==An&&d.status!==es)return 1;return 0},H1=(r)=>{if(hs(r))return eo(r,ln);r.total_in=r.total_out=0,r.data_type=G8;const d=r.state;if(d.pending=0,d.pending_out=0,d.wrap<0)d.wrap=-d.wrap;return d.status=d.wrap===2?vi:d.wrap?Mo:An,r.adler=d.wrap===2?0:1,d.last_flush=-2,z8(d),La},Y1=(r)=>{const d=H1(r);if(d===La)cm(r.state);return d},um=(r,d)=>{if(hs(r)||r.state.wrap!==2)return ln;return r.state.gzhead=d,La},B1=(r,d,u,R,f,T)=>{if(!r)return ln;let c=1;if(d===j8)d=6;if(R<0)c=0,R=-R;else if(R>15)c=2,R-=16;if(f<1||f>D8||u!==br||R<8||R>15||d<0||d>9||T<0||T>K8||R===8&&c!==1)return eo(r,ln);if(R===8)R=9;const b=new s8;return r.state=b,b.strm=r,b.status=Mo,b.wrap=c,b.gzhead=null,b.w_bits=R,b.w_size=1<<b.w_bits,b.w_mask=b.w_size-1,b.hash_bits=f+7,b.hash_size=1<<b.hash_bits,b.hash_mask=b.hash_size-1,b.hash_shift=~~((b.hash_bits+ha-1)/ha),b.window=new Uint8Array(b.w_size*2),b.head=new Uint16Array(b.hash_size),b.prev=new Uint16Array(b.w_size),b.lit_bufsize=1<<f+6,b.pending_buf_size=b.lit_bufsize*4,b.pending_buf=new Uint8Array(b.pending_buf_size),b.sym_buf=b.lit_bufsize,b.sym_end=(b.lit_bufsize-1)*3,b.level=d,b.strategy=T,b.method=u,Y1(r)},mm=(r,d)=>{return B1(r,d,br,H8,Y8,I8)},tm=(r,d)=>{if(hs(r)||d>g0||d<0)return r?eo(r,ln):ln;const u=r.state;if(!r.output||r.avail_in!==0&&!r.input||u.status===es&&d!==Da)return eo(r,r.avail_out===0?Pl:ln);const R=u.last_flush;if(u.last_flush=d,u.pending!==0){if(Pa(r),r.avail_out===0)return u.last_flush=-1,La}else if(r.avail_in===0&&F0(d)<=F0(R)&&d!==Da)return eo(r,Pl);if(u.status===es&&r.avail_in!==0)return eo(r,Pl);if(u.status===Mo&&u.wrap===0)u.status=An;if(u.status===Mo){let f=br+(u.w_bits-8<<4)<<8,T=-1;if(u.strategy>=nr||u.level<2)T=0;else if(u.level<6)T=1;else if(u.level===6)T=2;else T=3;if(f|=T<<6,u.strstart!==0)f|=nm;if(f+=31-f%31,Co(u,f),u.strstart!==0)Co(u,r.adler>>>16),Co(u,r.adler&65535);if(r.adler=1,u.status=An,Pa(r),u.pending!==0)return u.last_flush=-1,La}if(u.status===vi)if(r.adler=0,ba(u,31),ba(u,139),ba(u,8),!u.gzhead){if(ba(u,0),ba(u,0),ba(u,0),ba(u,0),ba(u,0),ba(u,u.level===9?2:u.strategy>=nr||u.level<2?4:0),ba(u,om),u.status=An,Pa(r),u.pending!==0)return u.last_flush=-1,La}else{if(ba(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(!u.gzhead.extra?0:4)+(!u.gzhead.name?0:8)+(!u.gzhead.comment?0:16)),ba(u,u.gzhead.time&255),ba(u,u.gzhead.time>>8&255),ba(u,u.gzhead.time>>16&255),ba(u,u.gzhead.time>>24&255),ba(u,u.level===9?2:u.strategy>=nr||u.level<2?4:0),ba(u,u.gzhead.os&255),u.gzhead.extra&&u.gzhead.extra.length)ba(u,u.gzhead.extra.length&255),ba(u,u.gzhead.extra.length>>8&255);if(u.gzhead.hcrc)r.adler=Ma(r.adler,u.pending_buf,u.pending,0);u.gzindex=0,u.status=si}if(u.status===si){if(u.gzhead.extra){let f=u.pending,T=(u.gzhead.extra.length&65535)-u.gzindex;while(u.pending+T>u.pending_buf_size){let b=u.pending_buf_size-u.pending;if(u.pending_buf.set(u.gzhead.extra.subarray(u.gzindex,u.gzindex+b),u.pending),u.pending=u.pending_buf_size,u.gzhead.hcrc&&u.pending>f)r.adler=Ma(r.adler,u.pending_buf,u.pending-f,f);if(u.gzindex+=b,Pa(r),u.pending!==0)return u.last_flush=-1,La;f=0,T-=b}let c=new Uint8Array(u.gzhead.extra);if(u.pending_buf.set(c.subarray(u.gzindex,u.gzindex+T),u.pending),u.pending+=T,u.gzhead.hcrc&&u.pending>f)r.adler=Ma(r.adler,u.pending_buf,u.pending-f,f);u.gzindex=0}u.status=ri}if(u.status===ri){if(u.gzhead.name){let f=u.pending,T;do{if(u.pending===u.pending_buf_size){if(u.gzhead.hcrc&&u.pending>f)r.adler=Ma(r.adler,u.pending_buf,u.pending-f,f);if(Pa(r),u.pending!==0)return u.last_flush=-1,La;f=0}if(u.gzindex<u.gzhead.name.length)T=u.gzhead.name.charCodeAt(u.gzindex++)&255;else T=0;ba(u,T)}while(T!==0);if(u.gzhead.hcrc&&u.pending>f)r.adler=Ma(r.adler,u.pending_buf,u.pending-f,f);u.gzindex=0}u.status=li}if(u.status===li){if(u.gzhead.comment){let f=u.pending,T;do{if(u.pending===u.pending_buf_size){if(u.gzhead.hcrc&&u.pending>f)r.adler=Ma(r.adler,u.pending_buf,u.pending-f,f);if(Pa(r),u.pending!==0)return u.last_flush=-1,La;f=0}if(u.gzindex<u.gzhead.comment.length)T=u.gzhead.comment.charCodeAt(u.gzindex++)&255;else T=0;ba(u,T)}while(T!==0);if(u.gzhead.hcrc&&u.pending>f)r.adler=Ma(r.adler,u.pending_buf,u.pending-f,f)}u.status=ii}if(u.status===ii){if(u.gzhead.hcrc){if(u.pending+2>u.pending_buf_size){if(Pa(r),u.pending!==0)return u.last_flush=-1,La}ba(u,r.adler&255),ba(u,r.adler>>8&255),r.adler=0}if(u.status=An,Pa(r),u.pending!==0)return u.last_flush=-1,La}if(r.avail_in!==0||u.lookahead!==0||d!==Sn&&u.status!==es){let f=u.level===0?D1(u,d):u.strategy===nr?im(u,d):u.strategy===P8?lm(u,d):as[u.level].func(u,d);if(f===ao||f===wo)u.status=es;if(f===Sa||f===ao){if(r.avail_out===0)u.last_flush=-1;return La}if(f===Wo){if(d===X8)O8(u);else if(d!==g0){if(ni(u,0,0,!1),d===U8){if(Ln(u.head),u.lookahead===0)u.strstart=0,u.block_start=0,u.insert=0}}if(Pa(r),r.avail_out===0)return u.last_flush=-1,La}}if(d!==Da)return La;if(u.wrap<=0)return z0;if(u.wrap===2)ba(u,r.adler&255),ba(u,r.adler>>8&255),ba(u,r.adler>>16&255),ba(u,r.adler>>24&255),ba(u,r.total_in&255),ba(u,r.total_in>>8&255),ba(u,r.total_in>>16&255),ba(u,r.total_in>>24&255);else Co(u,r.adler>>>16),Co(u,r.adler&65535);if(Pa(r),u.wrap>0)u.wrap=-u.wrap;return u.pending!==0?La:z0},pm=(r)=>{if(hs(r))return ln;const d=r.state.status;return r.state=null,d===An?eo(r,E8):La},dm=(r,d)=>{let u=d.length;if(hs(r))return ln;const R=r.state,f=R.wrap;if(f===2||f===1&&R.status!==Mo||R.lookahead)return ln;if(f===1)r.adler=ms(r.adler,d,u,0);if(R.wrap=0,u>=R.w_size){if(f===0)Ln(R.head),R.strstart=0,R.block_start=0,R.insert=0;let W=new Uint8Array(R.w_size);W.set(d.subarray(u-R.w_size,u),0),d=W,u=R.w_size}const{avail_in:T,next_in:c,input:b}=r;r.avail_in=u,r.next_in=0,r.input=d,Vo(R);while(R.lookahead>=ha){let W=R.strstart,y=R.lookahead-(ha-1);do R.ins_h=gn(R,R.ins_h,R.window[W+ha-1]),R.prev[W&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=W,W++;while(--y);R.strstart=W,R.lookahead=ha-1,Vo(R)}return R.strstart+=R.lookahead,R.block_start=R.strstart,R.insert=R.lookahead,R.lookahead=0,R.match_length=R.prev_length=ha-1,R.match_available=0,r.next_in=c,r.input=b,r.avail_in=T,R.wrap=f,La},_m=mm,fm=B1,hm=Y1,bm=H1,vm=um,Nm=tm,Rm=pm,Zm=dm,ym="pako deflate (from Nodeca project)",os={deflateInit:_m,deflateInit2:fm,deflateReset:hm,deflateResetKeep:bm,deflateSetHeader:vm,deflate:Nm,deflateEnd:Rm,deflateSetDictionary:Zm,deflateInfo:ym},qm=(r,d)=>{return Object.prototype.hasOwnProperty.call(r,d)},km=function(r){const d=Array.prototype.slice.call(arguments,1);while(d.length){const u=d.shift();if(!u)continue;if(typeof u!=="object")throw new TypeError(u+"must be non-object");for(let R in u)if(qm(u,R))r[R]=u[R]}return r},Tm=(r)=>{let d=0;for(let R=0,f=r.length;R<f;R++)d+=r[R].length;const u=new Uint8Array(d);for(let R=0,f=0,T=r.length;R<T;R++){let c=r[R];u.set(c,f),f+=c.length}return u},vr={assign:km,flattenChunks:Tm},C1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){C1=!1}var ps=new Uint8Array(256);for(let r=0;r<256;r++)ps[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;ps[254]=ps[254]=1;var xm=(r)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return(new TextEncoder()).encode(r);let d,u,R,f,T,c=r.length,b=0;for(f=0;f<c;f++){if(u=r.charCodeAt(f),(u&64512)===55296&&f+1<c){if(R=r.charCodeAt(f+1),(R&64512)===56320)u=65536+(u-55296<<10)+(R-56320),f++}b+=u<128?1:u<2048?2:u<65536?3:4}d=new Uint8Array(b);for(T=0,f=0;T<b;f++){if(u=r.charCodeAt(f),(u&64512)===55296&&f+1<c){if(R=r.charCodeAt(f+1),(R&64512)===56320)u=65536+(u-55296<<10)+(R-56320),f++}if(u<128)d[T++]=u;else if(u<2048)d[T++]=192|u>>>6,d[T++]=128|u&63;else if(u<65536)d[T++]=224|u>>>12,d[T++]=128|u>>>6&63,d[T++]=128|u&63;else d[T++]=240|u>>>18,d[T++]=128|u>>>12&63,d[T++]=128|u>>>6&63,d[T++]=128|u&63}return d},$m=(r,d)=>{if(d<65534){if(r.subarray&&C1)return String.fromCharCode.apply(null,r.length===d?r:r.subarray(0,d))}let u="";for(let R=0;R<d;R++)u+=String.fromCharCode(r[R]);return u},Mm=(r,d)=>{const u=d||r.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return(new TextDecoder()).decode(r.subarray(0,d));let R,f;const T=new Array(u*2);for(f=0,R=0;R<u;){let c=r[R++];if(c<128){T[f++]=c;continue}let b=ps[c];if(b>4){T[f++]=65533,R+=b-1;continue}c&=b===2?31:b===3?15:7;while(b>1&&R<u)c=c<<6|r[R++]&63,b--;if(b>1){T[f++]=65533;continue}if(c<65536)T[f++]=c;else c-=65536,T[f++]=55296|c>>10&1023,T[f++]=56320|c&1023}return $m(T,f)},Vm=(r,d)=>{if(d=d||r.length,d>r.length)d=r.length;let u=d-1;while(u>=0&&(r[u]&192)===128)u--;if(u<0)return d;if(u===0)return d;return u+ps[r[u]]>d?u:d},ds={string2buf:xm,buf2string:Mm,utf8border:Vm},Q1=r8,A1=Object.prototype.toString,{Z_NO_FLUSH:Lm,Z_SYNC_FLUSH:Wm,Z_FULL_FLUSH:wm,Z_FINISH:Sm,Z_OK:dr,Z_STREAM_END:gm,Z_DEFAULT_COMPRESSION:zm,Z_DEFAULT_STRATEGY:Fm,Z_DEFLATED:Om}=hr;pi.prototype.push=function(r,d){const u=this.strm,R=this.options.chunkSize;let f,T;if(this.ended)return!1;if(d===~~d)T=d;else T=d===!0?Sm:Lm;if(typeof r==="string")u.input=ds.string2buf(r);else if(A1.call(r)==="[object ArrayBuffer]")u.input=new Uint8Array(r);else u.input=r;u.next_in=0,u.avail_in=u.input.length;for(;;){if(u.avail_out===0)u.output=new Uint8Array(R),u.next_out=0,u.avail_out=R;if((T===Wm||T===wm)&&u.avail_out<=6){this.onData(u.output.subarray(0,u.next_out)),u.avail_out=0;continue}if(f=os.deflate(u,T),f===gm){if(u.next_out>0)this.onData(u.output.subarray(0,u.next_out));return f=os.deflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===dr}if(u.avail_out===0){this.onData(u.output);continue}if(T>0&&u.next_out>0){this.onData(u.output.subarray(0,u.next_out)),u.avail_out=0;continue}if(u.avail_in===0)break}return!0};pi.prototype.onData=function(r){this.chunks.push(r)};pi.prototype.onEnd=function(r){if(r===dr)this.result=vr.flattenChunks(this.chunks);this.chunks=[],this.err=r,this.msg=this.strm.msg};var or=16209,Xm=16191,Um=function r(d,u){let R,f,T,c,b,W,y,q,Z,$,V,x,k,g,X,E,z,K,Y,C,te,_e,$e,me;const Me=d.state;R=d.next_in,$e=d.input,f=R+(d.avail_in-5),T=d.next_out,me=d.output,c=T-(u-d.avail_out),b=T+(d.avail_out-257),W=Me.dmax,y=Me.wsize,q=Me.whave,Z=Me.wnext,$=Me.window,V=Me.hold,x=Me.bits,k=Me.lencode,g=Me.distcode,X=(1<<Me.lenbits)-1,E=(1<<Me.distbits)-1;e:do{if(x<15)V+=$e[R++]<<x,x+=8,V+=$e[R++]<<x,x+=8;z=k[V&X];a:for(;;){if(K=z>>>24,V>>>=K,x-=K,K=z>>>16&255,K===0)me[T++]=z&65535;else if(K&16){if(Y=z&65535,K&=15,K){if(x<K)V+=$e[R++]<<x,x+=8;Y+=V&(1<<K)-1,V>>>=K,x-=K}if(x<15)V+=$e[R++]<<x,x+=8,V+=$e[R++]<<x,x+=8;z=g[V&E];n:for(;;){if(K=z>>>24,V>>>=K,x-=K,K=z>>>16&255,K&16){if(C=z&65535,K&=15,x<K){if(V+=$e[R++]<<x,x+=8,x<K)V+=$e[R++]<<x,x+=8}if(C+=V&(1<<K)-1,C>W){d.msg="invalid distance too far back",Me.mode=or;break e}if(V>>>=K,x-=K,K=T-c,C>K){if(K=C-K,K>q){if(Me.sane){d.msg="invalid distance too far back",Me.mode=or;break e}}if(te=0,_e=$,Z===0){if(te+=y-K,K<Y){Y-=K;do me[T++]=$[te++];while(--K);te=T-C,_e=me}}else if(Z<K){if(te+=y+Z-K,K-=Z,K<Y){Y-=K;do me[T++]=$[te++];while(--K);if(te=0,Z<Y){K=Z,Y-=K;do me[T++]=$[te++];while(--K);te=T-C,_e=me}}}else if(te+=Z-K,K<Y){Y-=K;do me[T++]=$[te++];while(--K);te=T-C,_e=me}while(Y>2)me[T++]=_e[te++],me[T++]=_e[te++],me[T++]=_e[te++],Y-=3;if(Y){if(me[T++]=_e[te++],Y>1)me[T++]=_e[te++]}}else{te=T-C;do me[T++]=me[te++],me[T++]=me[te++],me[T++]=me[te++],Y-=3;while(Y>2);if(Y){if(me[T++]=me[te++],Y>1)me[T++]=me[te++]}}}else if((K&64)===0){z=g[(z&65535)+(V&(1<<K)-1)];continue n}else{d.msg="invalid distance code",Me.mode=or;break e}break}}else if((K&64)===0){z=k[(z&65535)+(V&(1<<K)-1)];continue a}else if(K&32){Me.mode=Xm;break e}else{d.msg="invalid literal/length code",Me.mode=or;break e}break}}while(R<f&&T<b);Y=x>>3,R-=Y,x-=Y<<3,V&=(1<<x)-1,d.next_in=R,d.next_out=T,d.avail_in=R<f?5+(f-R):5-(R-f),d.avail_out=T<b?257+(b-T):257-(T-b),Me.hold=V,Me.bits=x;return},ho=15,O0=852,X0=592,U0=0,Il=1,E0=2,Em=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jm=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Jm=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Pm=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Km=(r,d,u,R,f,T,c,b)=>{const W=b.bits;let y=0,q=0,Z=0,$=0,V=0,x=0,k=0,g=0,X=0,E=0,z,K,Y,C,te,_e=null,$e;const me=new Uint16Array(ho+1),Me=new Uint16Array(ho+1);let e=null,o,i,s;for(y=0;y<=ho;y++)me[y]=0;for(q=0;q<R;q++)me[d[u+q]]++;V=W;for($=ho;$>=1;$--)if(me[$]!==0)break;if(V>$)V=$;if($===0)return f[T++]=20971520,f[T++]=20971520,b.bits=1,0;for(Z=1;Z<$;Z++)if(me[Z]!==0)break;if(V<Z)V=Z;g=1;for(y=1;y<=ho;y++)if(g<<=1,g-=me[y],g<0)return-1;if(g>0&&(r===U0||$!==1))return-1;Me[1]=0;for(y=1;y<ho;y++)Me[y+1]=Me[y]+me[y];for(q=0;q<R;q++)if(d[u+q]!==0)c[Me[d[u+q]]++]=q;if(r===U0)_e=e=c,$e=20;else if(r===Il)_e=Em,e=jm,$e=257;else _e=Jm,e=Pm,$e=0;if(E=0,q=0,y=Z,te=T,x=V,k=0,Y=-1,X=1<<V,C=X-1,r===Il&&X>O0||r===E0&&X>X0)return 1;for(;;){if(o=y-k,c[q]+1<$e)i=0,s=c[q];else if(c[q]>=$e)i=e[c[q]-$e],s=_e[c[q]-$e];else i=96,s=0;z=1<<y-k,K=1<<x,Z=K;do K-=z,f[te+(E>>k)+K]=o<<24|i<<16|s|0;while(K!==0);z=1<<y-1;while(E&z)z>>=1;if(z!==0)E&=z-1,E+=z;else E=0;if(q++,--me[y]===0){if(y===$)break;y=d[u+c[q]]}if(y>V&&(E&C)!==Y){if(k===0)k=V;te+=Z,x=y-k,g=1<<x;while(x+k<$){if(g-=me[x+k],g<=0)break;x++,g<<=1}if(X+=1<<x,r===Il&&X>O0||r===E0&&X>X0)return 1;Y=E&C,f[Y]=V<<24|x<<16|te-T|0}}if(E!==0)f[te+E]=y-k<<24|4194304|0;return b.bits=V,0},ss=Km,Im=0,eu=1,au=2,{Z_FINISH:j0,Z_BLOCK:Gm,Z_TREES:sr,Z_OK:no,Z_STREAM_END:Dm,Z_NEED_DICT:Hm,Z_STREAM_ERROR:Ha,Z_DATA_ERROR:nu,Z_MEM_ERROR:ou,Z_BUF_ERROR:Ym,Z_DEFLATED:J0}=hr,Nr=16180,P0=16181,K0=16182,I0=16183,G0=16184,D0=16185,H0=16186,Y0=16187,B0=16188,C0=16189,_r=16190,_n=16191,Gl=16192,Q0=16193,Dl=16194,A0=16195,e1=16196,a1=16197,n1=16198,rr=16199,lr=16200,o1=16201,s1=16202,r1=16203,l1=16204,i1=16205,Hl=16206,c1=16207,u1=16208,Za=16209,su=16210,ru=16211,Bm=852,Cm=592,Qm=15,Am=Qm,m1=(r)=>{return(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24)},oo=(r)=>{if(!r)return 1;const d=r.state;if(!d||d.strm!==r||d.mode<Nr||d.mode>ru)return 1;return 0},lu=(r)=>{if(oo(r))return Ha;const d=r.state;if(r.total_in=r.total_out=d.total=0,r.msg="",d.wrap)r.adler=d.wrap&1;return d.mode=Nr,d.last=0,d.havedict=0,d.flags=-1,d.dmax=32768,d.head=null,d.hold=0,d.bits=0,d.lencode=d.lendyn=new Int32Array(Bm),d.distcode=d.distdyn=new Int32Array(Cm),d.sane=1,d.back=-1,no},iu=(r)=>{if(oo(r))return Ha;const d=r.state;return d.wsize=0,d.whave=0,d.wnext=0,lu(r)},cu=(r,d)=>{let u;if(oo(r))return Ha;const R=r.state;if(d<0)u=0,d=-d;else if(u=(d>>4)+5,d<48)d&=15;if(d&&(d<8||d>15))return Ha;if(R.window!==null&&R.wbits!==d)R.window=null;return R.wrap=u,R.wbits=d,iu(r)},uu=(r,d)=>{if(!r)return Ha;const u=new l8;r.state=u,u.strm=r,u.window=null,u.mode=Nr;const R=cu(r,d);if(R!==no)r.state=null;return R},et=(r)=>{return uu(r,Am)},t1=!0,Yl,Bl,at=(r)=>{if(t1){Yl=new Int32Array(512),Bl=new Int32Array(32);let d=0;while(d<144)r.lens[d++]=8;while(d<256)r.lens[d++]=9;while(d<280)r.lens[d++]=7;while(d<288)r.lens[d++]=8;ss(eu,r.lens,0,288,Yl,0,r.work,{bits:9}),d=0;while(d<32)r.lens[d++]=5;ss(au,r.lens,0,32,Bl,0,r.work,{bits:5}),t1=!1}r.lencode=Yl,r.lenbits=9,r.distcode=Bl,r.distbits=5},mu=(r,d,u,R)=>{let f;const T=r.state;if(T.window===null)T.wsize=1<<T.wbits,T.wnext=0,T.whave=0,T.window=new Uint8Array(T.wsize);if(R>=T.wsize)T.window.set(d.subarray(u-T.wsize,u),0),T.wnext=0,T.whave=T.wsize;else{if(f=T.wsize-T.wnext,f>R)f=R;if(T.window.set(d.subarray(u-R,u-R+f),T.wnext),R-=f,R)T.window.set(d.subarray(u-R,u),0),T.wnext=R,T.whave=T.wsize;else{if(T.wnext+=f,T.wnext===T.wsize)T.wnext=0;if(T.whave<T.wsize)T.whave+=f}}return 0},nt=(r,d)=>{let u,R,f,T,c,b,W,y,q,Z,$,V,x,k,g=0,X,E,z,K,Y,C,te,_e;const $e=new Uint8Array(4);let me,Me;const e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oo(r)||!r.output||!r.input&&r.avail_in!==0)return Ha;if(u=r.state,u.mode===_n)u.mode=Gl;c=r.next_out,f=r.output,W=r.avail_out,T=r.next_in,R=r.input,b=r.avail_in,y=u.hold,q=u.bits,Z=b,$=W,_e=no;e:for(;;)switch(u.mode){case Nr:if(u.wrap===0){u.mode=Gl;break}while(q<16){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(u.wrap&2&&y===35615){if(u.wbits===0)u.wbits=15;u.check=0,$e[0]=y&255,$e[1]=y>>>8&255,u.check=Ma(u.check,$e,2,0),y=0,q=0,u.mode=P0;break}if(u.head)u.head.done=!1;if(!(u.wrap&1)||(((y&255)<<8)+(y>>8))%31){r.msg="incorrect header check",u.mode=Za;break}if((y&15)!==J0){r.msg="unknown compression method",u.mode=Za;break}if(y>>>=4,q-=4,te=(y&15)+8,u.wbits===0)u.wbits=te;if(te>15||te>u.wbits){r.msg="invalid window size",u.mode=Za;break}u.dmax=1<<u.wbits,u.flags=0,r.adler=u.check=1,u.mode=y&512?C0:_n,y=0,q=0;break;case P0:while(q<16){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(u.flags=y,(u.flags&255)!==J0){r.msg="unknown compression method",u.mode=Za;break}if(u.flags&57344){r.msg="unknown header flags set",u.mode=Za;break}if(u.head)u.head.text=y>>8&1;if(u.flags&512&&u.wrap&4)$e[0]=y&255,$e[1]=y>>>8&255,u.check=Ma(u.check,$e,2,0);y=0,q=0,u.mode=K0;case K0:while(q<32){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(u.head)u.head.time=y;if(u.flags&512&&u.wrap&4)$e[0]=y&255,$e[1]=y>>>8&255,$e[2]=y>>>16&255,$e[3]=y>>>24&255,u.check=Ma(u.check,$e,4,0);y=0,q=0,u.mode=I0;case I0:while(q<16){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(u.head)u.head.xflags=y&255,u.head.os=y>>8;if(u.flags&512&&u.wrap&4)$e[0]=y&255,$e[1]=y>>>8&255,u.check=Ma(u.check,$e,2,0);y=0,q=0,u.mode=G0;case G0:if(u.flags&1024){while(q<16){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(u.length=y,u.head)u.head.extra_len=y;if(u.flags&512&&u.wrap&4)$e[0]=y&255,$e[1]=y>>>8&255,u.check=Ma(u.check,$e,2,0);y=0,q=0}else if(u.head)u.head.extra=null;u.mode=D0;case D0:if(u.flags&1024){if(V=u.length,V>b)V=b;if(V){if(u.head){if(te=u.head.extra_len-u.length,!u.head.extra)u.head.extra=new Uint8Array(u.head.extra_len);u.head.extra.set(R.subarray(T,T+V),te)}if(u.flags&512&&u.wrap&4)u.check=Ma(u.check,R,V,T);b-=V,T+=V,u.length-=V}if(u.length)break e}u.length=0,u.mode=H0;case H0:if(u.flags&2048){if(b===0)break e;V=0;do if(te=R[T+V++],u.head&&te&&u.length<65536)u.head.name+=String.fromCharCode(te);while(te&&V<b);if(u.flags&512&&u.wrap&4)u.check=Ma(u.check,R,V,T);if(b-=V,T+=V,te)break e}else if(u.head)u.head.name=null;u.length=0,u.mode=Y0;case Y0:if(u.flags&4096){if(b===0)break e;V=0;do if(te=R[T+V++],u.head&&te&&u.length<65536)u.head.comment+=String.fromCharCode(te);while(te&&V<b);if(u.flags&512&&u.wrap&4)u.check=Ma(u.check,R,V,T);if(b-=V,T+=V,te)break e}else if(u.head)u.head.comment=null;u.mode=B0;case B0:if(u.flags&512){while(q<16){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(u.wrap&4&&y!==(u.check&65535)){r.msg="header crc mismatch",u.mode=Za;break}y=0,q=0}if(u.head)u.head.hcrc=u.flags>>9&1,u.head.done=!0;r.adler=u.check=0,u.mode=_n;break;case C0:while(q<32){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}r.adler=u.check=m1(y),y=0,q=0,u.mode=_r;case _r:if(u.havedict===0)return r.next_out=c,r.avail_out=W,r.next_in=T,r.avail_in=b,u.hold=y,u.bits=q,Hm;r.adler=u.check=1,u.mode=_n;case _n:if(d===Gm||d===sr)break e;case Gl:if(u.last){y>>>=q&7,q-=q&7,u.mode=Hl;break}while(q<3){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}switch(u.last=y&1,y>>>=1,q-=1,y&3){case 0:u.mode=Q0;break;case 1:if(at(u),u.mode=rr,d===sr){y>>>=2,q-=2;break e}break;case 2:u.mode=e1;break;case 3:r.msg="invalid block type",u.mode=Za}y>>>=2,q-=2;break;case Q0:y>>>=q&7,q-=q&7;while(q<32){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if((y&65535)!==(y>>>16^65535)){r.msg="invalid stored block lengths",u.mode=Za;break}if(u.length=y&65535,y=0,q=0,u.mode=Dl,d===sr)break e;case Dl:u.mode=A0;case A0:if(V=u.length,V){if(V>b)V=b;if(V>W)V=W;if(V===0)break e;f.set(R.subarray(T,T+V),c),b-=V,T+=V,W-=V,c+=V,u.length-=V;break}u.mode=_n;break;case e1:while(q<14){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(u.nlen=(y&31)+257,y>>>=5,q-=5,u.ndist=(y&31)+1,y>>>=5,q-=5,u.ncode=(y&15)+4,y>>>=4,q-=4,u.nlen>286||u.ndist>30){r.msg="too many length or distance symbols",u.mode=Za;break}u.have=0,u.mode=a1;case a1:while(u.have<u.ncode){while(q<3){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}u.lens[e[u.have++]]=y&7,y>>>=3,q-=3}while(u.have<19)u.lens[e[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,me={bits:u.lenbits},_e=ss(Im,u.lens,0,19,u.lencode,0,u.work,me),u.lenbits=me.bits,_e){r.msg="invalid code lengths set",u.mode=Za;break}u.have=0,u.mode=n1;case n1:while(u.have<u.nlen+u.ndist){for(;;){if(g=u.lencode[y&(1<<u.lenbits)-1],X=g>>>24,E=g>>>16&255,z=g&65535,X<=q)break;if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(z<16)y>>>=X,q-=X,u.lens[u.have++]=z;else{if(z===16){Me=X+2;while(q<Me){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(y>>>=X,q-=X,u.have===0){r.msg="invalid bit length repeat",u.mode=Za;break}te=u.lens[u.have-1],V=3+(y&3),y>>>=2,q-=2}else if(z===17){Me=X+3;while(q<Me){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}y>>>=X,q-=X,te=0,V=3+(y&7),y>>>=3,q-=3}else{Me=X+7;while(q<Me){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}y>>>=X,q-=X,te=0,V=11+(y&127),y>>>=7,q-=7}if(u.have+V>u.nlen+u.ndist){r.msg="invalid bit length repeat",u.mode=Za;break}while(V--)u.lens[u.have++]=te}}if(u.mode===Za)break;if(u.lens[256]===0){r.msg="invalid code -- missing end-of-block",u.mode=Za;break}if(u.lenbits=9,me={bits:u.lenbits},_e=ss(eu,u.lens,0,u.nlen,u.lencode,0,u.work,me),u.lenbits=me.bits,_e){r.msg="invalid literal/lengths set",u.mode=Za;break}if(u.distbits=6,u.distcode=u.distdyn,me={bits:u.distbits},_e=ss(au,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,me),u.distbits=me.bits,_e){r.msg="invalid distances set",u.mode=Za;break}if(u.mode=rr,d===sr)break e;case rr:u.mode=lr;case lr:if(b>=6&&W>=258){if(r.next_out=c,r.avail_out=W,r.next_in=T,r.avail_in=b,u.hold=y,u.bits=q,Um(r,$),c=r.next_out,f=r.output,W=r.avail_out,T=r.next_in,R=r.input,b=r.avail_in,y=u.hold,q=u.bits,u.mode===_n)u.back=-1;break}u.back=0;for(;;){if(g=u.lencode[y&(1<<u.lenbits)-1],X=g>>>24,E=g>>>16&255,z=g&65535,X<=q)break;if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(E&&(E&240)===0){K=X,Y=E,C=z;for(;;){if(g=u.lencode[C+((y&(1<<K+Y)-1)>>K)],X=g>>>24,E=g>>>16&255,z=g&65535,K+X<=q)break;if(b===0)break e;b--,y+=R[T++]<<q,q+=8}y>>>=K,q-=K,u.back+=K}if(y>>>=X,q-=X,u.back+=X,u.length=z,E===0){u.mode=i1;break}if(E&32){u.back=-1,u.mode=_n;break}if(E&64){r.msg="invalid literal/length code",u.mode=Za;break}u.extra=E&15,u.mode=o1;case o1:if(u.extra){Me=u.extra;while(q<Me){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}u.length+=y&(1<<u.extra)-1,y>>>=u.extra,q-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=s1;case s1:for(;;){if(g=u.distcode[y&(1<<u.distbits)-1],X=g>>>24,E=g>>>16&255,z=g&65535,X<=q)break;if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if((E&240)===0){K=X,Y=E,C=z;for(;;){if(g=u.distcode[C+((y&(1<<K+Y)-1)>>K)],X=g>>>24,E=g>>>16&255,z=g&65535,K+X<=q)break;if(b===0)break e;b--,y+=R[T++]<<q,q+=8}y>>>=K,q-=K,u.back+=K}if(y>>>=X,q-=X,u.back+=X,E&64){r.msg="invalid distance code",u.mode=Za;break}u.offset=z,u.extra=E&15,u.mode=r1;case r1:if(u.extra){Me=u.extra;while(q<Me){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}u.offset+=y&(1<<u.extra)-1,y>>>=u.extra,q-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){r.msg="invalid distance too far back",u.mode=Za;break}u.mode=l1;case l1:if(W===0)break e;if(V=$-W,u.offset>V){if(V=u.offset-V,V>u.whave){if(u.sane){r.msg="invalid distance too far back",u.mode=Za;break}}if(V>u.wnext)V-=u.wnext,x=u.wsize-V;else x=u.wnext-V;if(V>u.length)V=u.length;k=u.window}else k=f,x=c-u.offset,V=u.length;if(V>W)V=W;W-=V,u.length-=V;do f[c++]=k[x++];while(--V);if(u.length===0)u.mode=lr;break;case i1:if(W===0)break e;f[c++]=u.length,W--,u.mode=lr;break;case Hl:if(u.wrap){while(q<32){if(b===0)break e;b--,y|=R[T++]<<q,q+=8}if($-=W,r.total_out+=$,u.total+=$,u.wrap&4&&$)r.adler=u.check=u.flags?Ma(u.check,f,$,c-$):ms(u.check,f,$,c-$);if($=W,u.wrap&4&&(u.flags?y:m1(y))!==u.check){r.msg="incorrect data check",u.mode=Za;break}y=0,q=0}u.mode=c1;case c1:if(u.wrap&&u.flags){while(q<32){if(b===0)break e;b--,y+=R[T++]<<q,q+=8}if(u.wrap&4&&y!==(u.total&4294967295)){r.msg="incorrect length check",u.mode=Za;break}y=0,q=0}u.mode=u1;case u1:_e=Dm;break e;case Za:_e=nu;break e;case su:return ou;case ru:default:return Ha}if(r.next_out=c,r.avail_out=W,r.next_in=T,r.avail_in=b,u.hold=y,u.bits=q,u.wsize||$!==r.avail_out&&u.mode<Za&&(u.mode<Hl||d!==j0)){if(mu(r,r.output,r.next_out,$-r.avail_out));}if(Z-=r.avail_in,$-=r.avail_out,r.total_in+=Z,r.total_out+=$,u.total+=$,u.wrap&4&&$)r.adler=u.check=u.flags?Ma(u.check,f,$,r.next_out-$):ms(u.check,f,$,r.next_out-$);if(r.data_type=u.bits+(u.last?64:0)+(u.mode===_n?128:0)+(u.mode===rr||u.mode===Dl?256:0),(Z===0&&$===0||d===j0)&&_e===no)_e=Ym;return _e},ot=(r)=>{if(oo(r))return Ha;let d=r.state;if(d.window)d.window=null;return r.state=null,no},st=(r,d)=>{if(oo(r))return Ha;const u=r.state;if((u.wrap&2)===0)return Ha;return u.head=d,d.done=!1,no},rt=(r,d)=>{const u=d.length;let R,f,T;if(oo(r))return Ha;if(R=r.state,R.wrap!==0&&R.mode!==_r)return Ha;if(R.mode===_r){if(f=1,f=ms(f,d,u,0),f!==R.check)return nu}if(T=mu(r,d,u,u),T)return R.mode=su,ou;return R.havedict=1,no},lt=iu,it=cu,ct=lu,ut=et,mt=uu,tt=nt,pt=ot,dt=st,_t=rt,ft="pako inflate (from Nodeca project)",hn={inflateReset:lt,inflateReset2:it,inflateResetKeep:ct,inflateInit:ut,inflateInit2:mt,inflate:tt,inflateEnd:pt,inflateGetHeader:dt,inflateSetDictionary:_t,inflateInfo:ft},ht=i8,tu=Object.prototype.toString,{Z_NO_FLUSH:bt,Z_FINISH:vt,Z_OK:_s,Z_STREAM_END:Cl,Z_NEED_DICT:Ql,Z_STREAM_ERROR:Nt,Z_DATA_ERROR:p1,Z_MEM_ERROR:Rt}=hr;di.prototype.push=function(r,d){const u=this.strm,R=this.options.chunkSize,f=this.options.dictionary;let T,c,b;if(this.ended)return!1;if(d===~~d)c=d;else c=d===!0?vt:bt;if(tu.call(r)==="[object ArrayBuffer]")u.input=new Uint8Array(r);else u.input=r;u.next_in=0,u.avail_in=u.input.length;for(;;){if(u.avail_out===0)u.output=new Uint8Array(R),u.next_out=0,u.avail_out=R;if(T=hn.inflate(u,c),T===Ql&&f){if(T=hn.inflateSetDictionary(u,f),T===_s)T=hn.inflate(u,c);else if(T===p1)T=Ql}while(u.avail_in>0&&T===Cl&&u.state.wrap>0&&r[u.next_in]!==0)hn.inflateReset(u),T=hn.inflate(u,c);switch(T){case Nt:case p1:case Ql:case Rt:return this.onEnd(T),this.ended=!0,!1}if(b=u.avail_out,u.next_out){if(u.avail_out===0||T===Cl)if(this.options.to==="string"){let W=ds.utf8border(u.output,u.next_out),y=u.next_out-W,q=ds.buf2string(u.output,W);if(u.next_out=y,u.avail_out=R-y,y)u.output.set(u.output.subarray(W,W+y),0);this.onData(q)}else this.onData(u.output.length===u.next_out?u.output:u.output.subarray(0,u.next_out))}if(T===_s&&b===0)continue;if(T===Cl)return T=hn.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,!0;if(u.avail_in===0)break}return!0};di.prototype.onData=function(r){this.chunks.push(r)};di.prototype.onEnd=function(r){if(r===_s)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=vr.flattenChunks(this.chunks);this.chunks=[],this.err=r,this.msg=this.strm.msg};var e5=ui(S6(),1);Fn();import{jsx as vn,jsxs as Gt,Fragment as Dt} from"preact/jsx-runtime";var Ht=function({itemClassName:r,deviceName:d,deviceFilters:u,downloadScreen:R,onDownload:f,children:T}){const{maybeLocaleText:c}=Ut(),{createAlert:b,removeAlert:W,createPrompt:y}=Et(),{key:q,name:Z,fileList:$,assetList:V,device:x,setDevice:k}=jt(),g=(z)=>{if(!Nn)Nn=`download.${Date.now()}`;if(z<100)b({id:Nn,icon:vn(Jt,{level:"success"}),message:vn(So,{id:"blocks.alert.downloading",defaultMessage:"Downloading...{progress}%",progress:z})});else b({id:Nn,icon:null,message:vn(So,{id:"blocks.alert.downloadCompleted",defaultMessage:"Download completed."})}),setTimeout(X,1000)},X=()=>{W(Nn),Nn=null},E=()=>{b({message:vn(So,{id:"blocks.alert.connectionError",defaultMessage:"Connection error."})},1000)};if(Nn&&!x)E(),X();return Gt(Dt,{children:[vn(Pt,{children:vn(Kt,{disabled:Nn,className:r,label:vn(So,{id:"blocks.menu.device.download",defaultMessage:"Download program"}),onClick:async()=>{if(Nn)return;try{const z=x||await x1(u||It,k);if(R)await $1(z,R);let K=f?f(Z,$,V):[].concat(V);if(K=K.map((Y)=>({...Y,id:Y.id[0]!=="_"?`proj${q}/${Y.id}`:Y.id})),g(0),await V1(z,K))await L1(z,K,g),await M1(z,{"latest-project":q});else y({title:vn(So,{id:"blocks.menu.device.name",defaultMessage:"device"}),label:vn(So,{id:"blocks.alert.flashOutSpace",defaultMessage:"The flash is running out of space."})}),X();z.hardReset()}catch(z){console.log(z),E(),X()}}})}),T]})};import{jsx as go} from"preact/jsx-runtime";var Vu=function({deviceName:r,deviceFilters:d,createProject:u,openProject:R,saveProject:f,downloadProjectToDevice:T,showDownloadScreen:c}){return[{icon:Yt,label:go(Ni,{id:"blocks.menu.file",defaultMessage:"File"}),Menu:({itemClassName:b,children:W})=>go(St,{itemClassName:b,onNew:u,onOpen:R,onSave:f,children:W})},{icon:Bt,label:go(Ni,{id:"blocks.menu.edit",defaultMessage:"Edit"}),Menu:({itemClassName:b,children:W})=>go(Xt,{itemClassName:b,children:W})},{icon:Ct,label:go(Ni,{id:"blocks.menu.device",defaultMessage:"Device"}),Menu:({itemClassName:b,children:W})=>go(Ht,{deviceName:r,itemClassName:b,deviceFilters:d,downloadScreen:c,onDownload:T,children:W})}]};import{ScratchBlocks as Ia} from"@blockcode/blocks-editor";import{ScratchBlocks as ya} from"@blockcode/blocks-editor";import{ScratchBlocks as Lu} from"@blockcode/blocks-editor";import{useEffect as e4,useState as Zr} from"preact/hooks";import{useLocale as a4,useLayout as n4,useEditor as vu} from"@blockcode/core";import{classNames as o4} from"@blockcode/ui";import{BlocksEditor as s4,ScratchBlocks as ga,makeToolboxXML as r4} from"@blockcode/blocks-editor";import{ScratchBlocks as Nu,blockSeparator as l4} from"@blockcode/blocks-editor";var t4=function(r,d,u,R){const{id:f}=r,T=u(r.name);let c=`<category name="${Xn(T)}" id="${Xn(f)}"`;if(c+=` colour="${Xn(r.themeColor||Ru)}"`,c+=` secondaryColour="${Xn(r.inputColor||Zu)}"`,r.connectionConfig)c+=' showStatusButton="true"';if(r.iconURI)c+=` iconURI="${Xn(r.iconURI)}"`;return c+=">",r.blocks.forEach((b)=>{if(b==="---"){c+=`${l4}`;return}if(b.button){c+=`<button text="${u(b.text)}" callbackKey="${b.button}"></button>`;const $=Nu.getMainWorkspace();if($){const V=$.getFlyout();if(V){const x=V.getWorkspace();if(x)x.registerButtonCallback(b.button,R(b.onClick))}}return}if(d&&b.useStage===!1)return;if(!d&&b.useSprite===!1)return;const W=`${f}_${b.id.toLowerCase()}`,y={message0:u(b.text),category:f,outputShape:u4,colour:r.themeColor||Ru,colourSecondary:r.inputColor||Zu,colourTertiary:r.otherColor||m4};let q=1;if(r.iconURI)y.message0=`%1 %2 ${y.message0}`,y.args0=[{type:"field_image",src:r.iconURI,width:40,height:40},{type:"field_vertical_separator"}],y.extensions=["scratch_extension"],q+=2;if(b.hat)y.nextStatement=null;else if(b.output){if(b.output==="boolean")y.output="Boolean",y.outputShape=i4;else y.output="String",y.outputShape=c4;y.checkboxInFlyout=b.monitoring!==!1}else y.previousStatement=null,y.nextStatement=null;let Z=`<block type="${Xn(W)}">`;if(b.inputs)y.checkboxInFlyout=!1,y.args0=[].concat(y.args0||[],Object.entries(b.inputs).map(([$,V])=>{const x={name:$,type:"input_value"};if(V.menu)x.type="field_dropdown",x.options=V.menu.map(([k,g])=>[u(k),g]);else if(V.type==="boolean")x.check="Boolean";else{if(Z+=`<value name="${Xn($)}">`,yu[V.type]){if(Z+=`<shadow type="${yu[V.type]}">`,V.default&&qu[V.type])Z+=`<field name="${qu[V.type]}">${Xn(u(V.default))}</field>`;Z+="</shadow>"}Z+="</value>"}return y.message0=y.message0.replace(`[${$}]`,`%${q++}`),x}));if(Nu.Blocks[W]={init(){this.jsonInit(y)}},b.python)be[W]=b.python.bind(be);else be[W]=()=>"";Z+="</block>",c+=Z}),c+="</category>",c};import{useRef as p4,useEffect as d4,useState as ku} from"preact/hooks";import{classNames as _4,Text as zo,Button as Tu,Modal as f4,BufferedInput as h4} from"@blockcode/ui";var Wu=function(r){const d=globalThis.document,u=d.createElement("style");u.appendChild(d.createTextNode(r)),d.head.append(u)};import{jsx as za,jsxs as vs} from"preact/jsx-runtime";var b4=function({title:r,label:d,defaultValue:u,enableLocalVariable:R,showListMessage:f,showVariableOptions:T,showCloudOption:c,onClose:b,onSubmit:W}){const y=p4(null),[q,Z]=ku(u),[$,V]=ku({scope:"global",isCloud:!1}),x=()=>{W(q,$)},k=(g)=>{if(g.key==="Escape")b();if(g.key==="Enter")W(y.current.base.value,$)};return d4(()=>{if(y.current)y.current.base.focus(),window.addEventListener("keydown",k);return()=>{window.removeEventListener("keydown",k)}},[y]),za(f4,{title:r,className:mn.promptModal,onClose:b,children:vs("div",{className:mn.promptContent,children:[za("div",{className:mn.label,children:d}),za(h4,{autoFocus:!0,forceFocus:!0,ref:y,className:mn.variableNameTextInput,defaultValue:q,onSubmit:Z}),T&&za("div",{children:R?vs("div",{className:mn.options,children:[vs("label",{children:[za("input",{checked:$.scope==="global",name:"variableScopeOption",type:"radio",value:"global",onChange:()=>V({...$,scope:"global"})}),za(zo,{id:"blocks.dataPrompt.forAllTargets",defaultMessage:"For all targets"})]}),vs("label",{children:[za("input",{checked:$.scope==="local",name:"variableScopeOption",type:"radio",value:"local",onChange:()=>V({...$,scope:"local"})}),za(zo,{id:"blocks.dataPrompt.forThisTarget",defaultMessage:"For this target only"})]})]}):za("div",{className:mn.infoMessage,children:f?za(zo,{id:"blocks.dataPrompt.listAvailableToAllTargets",defaultMessage:"This list will be available to all targets."}):za(zo,{id:"blocks.dataPrompt.availableToAllTargets",defaultMessage:"This variable will be available to all targets."})})}),vs("div",{className:mn.buttonRow,children:[za(Tu,{className:mn.button,onClick:b,children:za(zo,{id:"blocks.dataPrompt.cancel",defaultMessage:"Cancel"})}),za(Tu,{className:_4(mn.button,mn.okButton),onClick:x,children:za(zo,{id:"blocks.dataPrompt.ok",defaultMessage:"OK"})})]})]})})};import{useEffect as v4,useState as xu} from"preact/hooks";import{useLocale as N4,useLayout as R4,useEditor as Z4} from"@blockcode/core";import{Library as y4} from"@blockcode/ui";import{jsx as k4} from"preact/jsx-runtime";var x4=function({deviceId:r,onSelect:d,onClose:u,onFilter:R}){const[f,T]=xu([]),[c,b]=xu(!1),{language:W,getText:y}=N4(),{createAlert:q,removeAlert:Z}=R4(),{addAsset:$}=Z4(),V=(x)=>{const k=x.tags||[];let g=["blocks",["dupont","data"],["3v3","5v"]];if(R)g=R(k);if(Array.isArray(g))return g.every((X)=>{if(Array.isArray(X))return X.some((E)=>k.includes(E));return k.includes(X)});return g};return v4(()=>{T4.then((x)=>{T(x.filter(V).map((k)=>Object.assign({...k,featured:!0,disabled:k.disabled||k.preview,onSelect:async()=>{q("importing",{id:k.id});let{default:g}=await import(`@blockcode/extension-${k.id}/blocks`);if(typeof g==="function")g=g(r);if(g.id=k.id,g.files)for(let X of g.files){const E=`extensions/${k.id.replace(/[^a-z\d]/gi,"_")}/${X.name}`,z=await fetch(X.uri).then((K)=>K.text());$({...X,id:E,content:z})}d(g),Z(k.id),u()}},k.translations&&k.translations[W]?{name:k.translations[W].name||k.name,description:k.translations[W].description||k.description,collaborator:k.translations[W].collaborator||k.collaborator}:{}))),b(!1)})},[]),k4(y4,{filterable:!0,loading:c,items:f,filterPlaceholder:y("gui.library.search","Search"),title:y("blocks.extensions.addExtension","Add Extension"),emptyText:y("blocks.extensions.empty","No extension!"),onClose:u})};import{jsx as Fo,jsxs as $u,Fragment as M4} from"preact/jsx-runtime";var L4=function({toolbox:r,messages:d,enableMultiTargets:u,enableLocalVariable:R,disableGenerator:f,disableExtension:T,deviceId:c,onChange:b,onExtensionsFilter:W,onLoadExtension:y}){const{addLocaleData:q,getText:Z,maybeLocaleText:$}=a4(),{splash:V,createPrompt:x,createAlert:k,removeAlert:g,setSplash:X}=n4(),{editor:E,fileList:z,selectedFileId:K,openFile:Y,modifyFile:C,addAsset:te,setModified:_e}=vu(),[$e,me]=Zr(),[Me,e]=Zr(!1),[o,i]=Zr(!1),[s,m]=Zr(!1);if(V){if(V===!0&&s===!1)tn.clear(),m(V4(c,E.extensions,q,te,y).then(()=>setTimeout(()=>m(!0),100)));if(s===!0){let Ze=!0;if(z.length>1){for(let ue=0;ue>-z.length;ue--)if(!z.at(ue).content){Ze=!1,setTimeout(()=>{const ie=(ue+z.length)%z.length;Y(z[ie].id)},100);break}}if(Ze)setTimeout(()=>{X(!1),_e(!1),m(!1)},100)}}d={EVENT_WHENPROGRAMSTART:Z("blocks.event.programStart","when program start"),CONTROL_STOP_OTHER:Z("blocks.control.stopOther","other scripts"),...d||[]},e4(()=>{ga.prompt=(Ze,ue,ie,fe,Ee)=>{const xe={callback:ie,message:Ze,defaultValue:ue};xe.title=fe?fe:ga.Msg.VARIABLE_MODAL_TITLE,xe.varType=typeof Ee==="string"?Ee:ga.SCALAR_VARIABLE_TYPE,xe.showVariableOptions=u&&Ee!==ga.BROADCAST_MESSAGE_VARIABLE_TYPE&&xe.title!==ga.Msg.RENAME_VARIABLE_MODAL_TITLE&&xe.title!==ga.Msg.RENAME_LIST_MODAL_TITLE,xe.showCloudOption=Ee===ga.SCALAR_VARIABLE_TYPE&&this.props.canUseCloud,e(xe)},ga.FlyoutExtensionCategoryHeader.getExtensionState=(Ze)=>{if(tn.has(Ze)){const ue=tn.get(Ze);if(ue.connectionConfig?.items.every((ie)=>localStorage.getItem(`${ue.id}.connection.${ie.id}`)))return ga.StatusButtonState.READY}return ga.StatusButtonState.NOT_READY},ga.statusButtonCallback=(Ze)=>{if(!tn.has(Ze))return;const ue=tn.get(Ze),{connectionConfig:ie}=ue;if(!ie)return;x({title:ue.name,label:ie.title,inputMode:ie.items.map((fe)=>({name:fe.id,placeholder:fe.text,defaultValue:localStorage.getItem(`${ue.id}.connection.${fe.id}`)})),content:ie.description,onSubmit:(fe)=>{if(Object.entries(fe).forEach(([Ee,xe])=>{localStorage.setItem(`${ue.id}.connection.${Ee}`,`${xe}`)}),$e)ga.refreshStatusButtons($e)}})}},[$e]);let h;if($e)h=$e.getAllVariables().filter((Ze)=>{if(Ze.isLocal)return!1;if(Ze.type===ga.BROADCAST_MESSAGE_VARIABLE_TYPE){if(Ze.name===ga.Msg.DEFAULT_BROADCAST_MESSAGE_NAME)return!1;const ue=Ze.id_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ie=new RegExp(`<field name="BROADCAST_OPTION" id="${ue}"[^>]+>[^<]+</field>`,"g");for(let fe of z)if(ie.test(fe.xml))return!0;return!1}return!0});let v=r||r4();const p=K===z[0].id,a=(Ze)=>Ze.bind(null,{context:vu(),createPrompt:x,createAlert:k,removeAlert:g});tn.forEach((Ze)=>{v+=t4(Ze,p,$,a)});const t=(Ze,ue)=>{let ie;if(!f)ie=be.workspaceToCode(ue);if(C({xml:Ze,content:ie}),b)b(Ze,ue)},F=(Ze,ue)=>{Me.callback(Ze,[],ue),e(!1)},w=()=>e(!1),I=()=>i(!0),he=()=>i(!1),qe=(Ze)=>{if(!tn.has(Ze.id)){if(q(Ze.translations),y)y({...Ze,blocks:Ze.blocks.filter(wu)});tn.set(Ze.id,Ze)}setTimeout(()=>{$e.toolbox_.setSelectedCategoryById(Ze.id)},100)};return $u(M4,{children:[$u("div",{className:qi.editorWrapper,children:[Fo(s4,{toolbox:v,messages:d,globalVariables:h,onWorkspaceCreated:me,onChange:K!==null?t:null}),T?null:Fo("div",{className:o4("scratchCategoryMenu",qi.extensionButton),children:Fo("button",{className:qi.addButton,title:Z("blocks.extensions.addExtension","Add Extension"),onClick:I,children:Fo("img",{src:$4,title:"Add Extension"})})}),Me&&Fo(b4,{title:Me.title,label:Me.message,defaultValue:Me.defaultValue,enableLocalVariable:R,showListMessage:Me.varType===ga.LIST_VARIABLE_TYPE,showVariableOptions:Me.showVariableOptions,showCloudOption:Me.showCloudOption,onClose:w,onSubmit:F}),o&&Fo(x4,{deviceId:c,onFilter:W,onSelect:qe,onClose:he})]}),!1]})};import{jsx as Su} from"preact/jsx-runtime";var Zt=Object.create,{defineProperty:pu,getPrototypeOf:yt,getOwnPropertyNames:qt}=Object,kt=Object.prototype.hasOwnProperty,Tt=(r,d,u)=>{u=r!=null?Zt(yt(r)):{};const R=d||!r||!r.__esModule?pu(u,"default",{value:r,enumerable:!0}):u;for(let f of qt(r))if(!kt.call(R,f))pu(R,f,{get:()=>r[f],enumerable:!0});return R},xt=(r,d)=>()=>(d||r((d={exports:{}}).exports,d),d.exports),$t=xt((r)=>{(function(){var d=typeof r!="undefined"&&r||typeof define!="undefined"&&{}||this||window;if(typeof define!=="undefined")define("save-svg-as-png",[],function(){return d});d.default=d;var u="http://www.w3.org/2000/xmlns/",R="http://www.w3.org/1999/xhtml",f="http://www.w3.org/2000/svg",T='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',c=/url\(["']?(.+?)["']?\)/,b={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},W=function Me(e){return e instanceof HTMLElement||e instanceof SVGElement},y=function Me(e){if(!W(e))throw new Error("an HTMLElement or SVGElement is required; got "+e)},q=function Me(e){return new Promise(function(o,i){if(W(e))o(e);else i(new Error("an HTMLElement or SVGElement is required; got "+e))})},Z=function Me(e){return e&&e.lastIndexOf("http",0)===0&&e.lastIndexOf(window.location.host)===-1},$=function Me(e){var o=Object.keys(b).filter(function(i){return e.indexOf("."+i)>0}).map(function(i){return b[i]});if(o)return o[0];return console.error("Unknown font format for "+e+". Fonts may not be working correctly."),"application/octet-stream"},V=function Me(e){var o="",i=new Uint8Array(e);for(var s=0;s<i.byteLength;s++)o+=String.fromCharCode(i[s]);return window.btoa(o)},x=function Me(e,o,i){var s=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[i]||o.getAttribute(i)!==null&&!o.getAttribute(i).match(/%$/)&&parseInt(o.getAttribute(i))||e.getBoundingClientRect()[i]||parseInt(o.style[i])||parseInt(window.getComputedStyle(e).getPropertyValue(i));return typeof s==="undefined"||s===null||isNaN(parseFloat(s))?0:s},k=function Me(e,o,i,s){if(e.tagName==="svg")return{width:i||x(e,o,"width"),height:s||x(e,o,"height")};else if(e.getBBox){var m=e.getBBox(),h=m.x,v=m.y,p=m.width,a=m.height;return{width:h+p,height:v+a}}},g=function Me(e){return decodeURIComponent(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(o,i){var s=String.fromCharCode("0x"+i);return s==="%"?"%25":s}))},X=function Me(e){var o=window.atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(o.length),m=new Uint8Array(s);for(var h=0;h<o.length;h++)m[h]=o.charCodeAt(h);return new Blob([s],{type:i})},E=function Me(e,o){if(!o)return;try{return e.querySelector(o)||e.parentNode&&e.parentNode.querySelector(o)}catch(i){console.warn('Invalid CSS selector "'+o+'"',i)}},z=function Me(e,o){var i=e.cssText.match(c),s=i&&i[1]||"";if(!s||s.match(/^data:/)||s==="about:blank")return;var m=s.startsWith("../")?o+"/../"+s:s.startsWith("./")?o+"/."+s:s;return{text:e.cssText,format:$(m),url:m}},K=function Me(e){return Promise.all(Array.from(e.querySelectorAll("image")).map(function(o){var i=o.getAttributeNS("http://www.w3.org/1999/xlink","href")||o.getAttribute("href");if(!i)return Promise.resolve(null);if(Z(i))i+=(i.indexOf("?")===-1?"?":"&")+"t="+(new Date()).valueOf();return new Promise(function(s,m){var h=document.createElement("canvas"),v=new Image;v.crossOrigin="anonymous",v.src=i,v.onerror=function(){return m(new Error("Could not load "+i))},v.onload=function(){h.width=v.width,h.height=v.height,h.getContext("2d").drawImage(v,0,0),o.setAttributeNS("http://www.w3.org/1999/xlink","href",h.toDataURL("image/png")),s(!0)}})}))},Y={},C=function Me(e){return Promise.all(e.map(function(o){return new Promise(function(i,s){if(Y[o.url])return i(Y[o.url]);var m=new XMLHttpRequest;m.addEventListener("load",function(){var h=V(m.response),v=o.text.replace(c,'url("data:'+o.format+";base64,"+h+'")')+"\n";Y[o.url]=v,i(v)}),m.addEventListener("error",function(h){console.warn("Failed to load font from: "+o.url,h),Y[o.url]=null,i(null)}),m.addEventListener("abort",function(h){console.warn("Aborted loading font from: "+o.url,h),i(null)}),m.open("GET",o.url),m.responseType="arraybuffer",m.send()})})).then(function(o){return o.filter(function(i){return i}).join("")})},te=null,_e=function Me(){if(te)return te;return te=Array.from(document.styleSheets).map(function(e){try{return{rules:e.cssRules,href:e.href}}catch(o){return console.warn("Stylesheet could not be loaded: "+e.href,o),{}}})},$e=function Me(e,o){var i=o||{},s=i.selectorRemap,m=i.modifyStyle,h=i.modifyCss,v=i.fonts,p=i.excludeUnusedCss,a=h||function(I,he){var qe=s?s(I):I,Ze=m?m(he):he;return qe+"{"+Ze+"}\n"},t=[],F=typeof v==="undefined",w=v||[];return _e().forEach(function(I){var{rules:he,href:qe}=I;if(!he)return;Array.from(he).forEach(function(Ze){if(typeof Ze.style!="undefined"){if(E(e,Ze.selectorText))t.push(a(Ze.selectorText,Ze.style.cssText));else if(F&&Ze.cssText.match(/^@font-face/)){var ue=z(Ze,qe);if(ue)w.push(ue)}else if(!p)t.push(Ze.cssText)}})}),C(w).then(function(I){return t.join("\n")+I})},me=function Me(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};d.prepareSvg=function(Me,e,o){y(Me);var i=e||{},s=i.left,m=s===void 0?0:s,h=i.top,v=h===void 0?0:h,p=i.width,a=i.height,t=i.scale,F=t===void 0?1:t,w=i.responsive,I=w===void 0?!1:w,he=i.excludeCss,qe=he===void 0?!1:he;return K(Me).then(function(){var Ze=Me.cloneNode(!0);Ze.style.backgroundColor=(e||{}).backgroundColor||Me.style.backgroundColor;var ue=k(Me,Ze,p,a),ie=ue.width,fe=ue.height;if(Me.tagName!=="svg")if(Me.getBBox){if(Ze.getAttribute("transform")!=null)Ze.setAttribute("transform",Ze.getAttribute("transform").replace(/translate\(.*?\)/,""));var Ee=document.createElementNS("http://www.w3.org/2000/svg","svg");Ee.appendChild(Ze),Ze=Ee}else{console.error("Attempted to render non-SVG element",Me);return}if(Ze.setAttribute("version","1.1"),Ze.setAttribute("viewBox",[m,v,ie,fe].join(" ")),!Ze.getAttribute("xmlns"))Ze.setAttributeNS(u,"xmlns",f);if(!Ze.getAttribute("xmlns:xlink"))Ze.setAttributeNS(u,"xmlns:xlink","http://www.w3.org/1999/xlink");if(I)Ze.removeAttribute("width"),Ze.removeAttribute("height"),Ze.setAttribute("preserveAspectRatio","xMinYMin meet");else Ze.setAttribute("width",ie*F),Ze.setAttribute("height",fe*F);if(Array.from(Ze.querySelectorAll("foreignObject > *")).forEach(function(D){D.setAttributeNS(u,"xmlns",D.tagName==="svg"?f:R)}),qe){var xe=document.createElement("div");xe.appendChild(Ze);var ze=xe.innerHTML;if(typeof o==="function")o(ze,ie,fe);else return{src:ze,width:ie,height:fe}}else return $e(Me,e).then(function(D){var O=document.createElement("style");O.setAttribute("type","text/css"),O.innerHTML="<![CDATA[\n"+D+"\n]]>";var ae=document.createElement("defs");ae.appendChild(O),Ze.insertBefore(ae,Ze.firstChild);var We=document.createElement("div");We.appendChild(Ze);var ge=We.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof o==="function")o(ge,ie,fe);else return{src:ge,width:ie,height:fe}})})},d.svgAsDataUri=function(Me,e,o){return y(Me),d.prepareSvg(Me,e).then(function(i){var{src:s,width:m,height:h}=i,v="data:image/svg+xml;base64,"+window.btoa(g(T+s));if(typeof o==="function")o(v,m,h);return v})},d.svgAsPngUri=function(Me,e,o){y(Me);var i=e||{},s=i.encoderType,m=s===void 0?"image/png":s,h=i.encoderOptions,v=h===void 0?0.8:h,p=i.canvg,a=function t(F){var{src:w,width:I,height:he}=F,qe=document.createElement("canvas"),Ze=qe.getContext("2d"),ue=window.devicePixelRatio||1;if(qe.width=I*ue,qe.height=he*ue,qe.style.width=qe.width+"px",qe.style.height=qe.height+"px",Ze.setTransform(ue,0,0,ue,0,0),p)p(qe,w);else Ze.drawImage(w,0,0);var ie=void 0;try{ie=qe.toDataURL(m,v)}catch(fe){if(typeof SecurityError!=="undefined"&&fe instanceof SecurityError||fe.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw fe}if(typeof o==="function")o(ie,qe.width,qe.height);return Promise.resolve(ie)};if(p)return d.prepareSvg(Me,e).then(a);else return d.svgAsDataUri(Me,e).then(function(t){return new Promise(function(F,w){var I=new Image;I.onload=function(){return F(a({src:I,width:I.width,height:I.height}))},I.onerror=function(){w("There was an error loading the data URI as an image on the following SVG\n"+window.atob(t.slice(26))+"Open the following link to see browser\'s diagnosis\n"+t)},I.src=t})})},d.download=function(Me,e,o){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(X(e),Me);else{var i=document.createElement("a");if("download"in i){i.download=Me,i.style.display="none",document.body.appendChild(i);try{var s=X(e),m=URL.createObjectURL(s);i.href=m,i.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(m)})}}catch(h){console.error(h),console.warn("Error while getting object URL. Falling back to string URL."),i.href=e}i.click(),document.body.removeChild(i)}else if(o&&o.popup)o.popup.document.title=Me,o.popup.location.replace(e)}},d.saveSvg=function(Me,e,o){var i=me();return q(Me).then(function(s){return d.svgAsDataUri(s,o||{})}).then(function(s){return d.download(e,s,i)})},d.saveSvgAsPng=function(Me,e,o){var i=me();return q(Me).then(function(s){return d.svgAsPngUri(s,o||{})}).then(function(s){return d.download(e,s,i)})}})()}),Mt=Tt($t(),1),Zi=/Mac/i.test(navigator.platform||navigator.userAgent),bu=/Mac/i.test(navigator.platform||navigator.userAgent),It=[{usbVendorId:12346},{usbVendorId:11914}],Nn=null,Yt="./assets/icon-file-1def53419f4ad0ae.svg",Bt="./assets/icon-edit-2b1e47b495524ed2.svg",Ct="./assets/icon-device-c2fafab2eaccf043.svg",Qt=`code_${Date.now().toString(36)}`,M5=`
from popsicle.blocks import *
import ${Qt}
run()
`;var be=new Ia.Generator("Python");be.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip");be.ORDER_ATOMIC=0;be.ORDER_COLLECTION=1;be.ORDER_STRING_CONVERSION=1;be.ORDER_MEMBER=2.1;be.ORDER_FUNCTION_CALL=2.2;be.ORDER_EXPONENTIATION=3;be.ORDER_UNARY_SIGN=4;be.ORDER_BITWISE_NOT=4;be.ORDER_MULTIPLICATIVE=5;be.ORDER_ADDITIVE=6;be.ORDER_BITWISE_SHIFT=7;be.ORDER_BITWISE_AND=8;be.ORDER_BITWISE_XOR=9;be.ORDER_BITWISE_OR=10;be.ORDER_RELATIONAL=11;be.ORDER_LOGICAL_NOT=12;be.ORDER_LOGICAL_AND=13;be.ORDER_LOGICAL_OR=14;be.ORDER_CONDITIONAL=15;be.ORDER_LAMBDA=16;be.ORDER_NONE=99;be.ORDER_OVERRIDES=[[be.ORDER_FUNCTION_CALL,be.ORDER_MEMBER],[be.ORDER_FUNCTION_CALL,be.ORDER_FUNCTION_CALL],[be.ORDER_MEMBER,be.ORDER_MEMBER],[be.ORDER_MEMBER,be.ORDER_FUNCTION_CALL],[be.ORDER_LOGICAL_NOT,be.ORDER_LOGICAL_NOT],[be.ORDER_LOGICAL_AND,be.ORDER_LOGICAL_AND],[be.ORDER_LOGICAL_OR,be.ORDER_LOGICAL_OR]];be.init=(r)=>{if(be.PASS=be.INDENT+"pass\n",be.definitions_=Object.create(null),be.functionNames_=Object.create(null),!be.variableDB_)be.variableDB_=new Ia.Names(be.RESERVED_WORDS_);else be.variableDB_.reset();be.variableDB_.setVariableMap(r.getVariableMap());const d=[],u=r.getAllVariables();for(let f=0;f<u.length;f++){if(u[f].type===Ia.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;let T=be.variableDB_.getName(u[f].getId(),Ia.Variables.NAME_TYPE),c="";if(u[f].type===Ia.LIST_VARIABLE_TYPE)T=`${T}_${Ia.LIST_VARIABLE_TYPE}`,c="[]";d.push(`${T} = ${c}`)}const R=Ia.Variables.allDeveloperVariables(r);for(let f=0;f<R.length;f++){let T=be.variableDB_.getName(R[f],Ia.Names.DEVELOPER_VARIABLE_TYPE),c="";if(u[f].type===Ia.LIST_VARIABLE_TYPE)T=`${T}_${Ia.LIST_VARIABLE_TYPE}`,c="[]";d.push(`${T} = ${c}`)}if(d.length)be.definitions_.variables=d.join("\n");be.definitions_.import_blocks="from blocks import *"};be.finish=(r)=>{const d=[],u=[];for(let R in be.definitions_){const f=be.definitions_[R];if(f.match(/^(from\s+\S+\s+)?import\s+\S+/))d.push(f);else u.push(f)}return delete be.definitions_,delete be.functionNames_,be.variableDB_.reset(),(d.join("\n")+"\n\n"+u.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+r};be.scrubNakedValue=(r)=>{return r+"\n"};be.quote_=(r)=>{let d='"';if(r.indexOf('"')!==-1)if(r.indexOf("'")===-1)d="'";else r=r.replace(/"/g,'\\"');return d+r+d};be.scrub_=(r,d)=>{let u="";if(!r.outputConnection?.targetConnection){let R=r.getCommentText();if(R=Ia.utils.wrap(R,be.COMMENT_WRAP-3),R)if(r.getProcedureDef)u+='"""'+R+'\n"""\n';else u+=be.prefixLines(R+"\n","# ");for(let f=0;f<r.inputList.length;f++)if(r.inputList[f].type==Ia.INPUT_VALUE){const T=r.inputList[f].connection.targetBlock();if(T){const c=be.allNestedComments(T);if(c)u+=be.prefixLines(c,"# ")}}}if(r.startHat_){const R=r.nextConnection&&r.nextConnection.targetBlock();let f=be.blockToCode(R);if(f)f=be.prefixLines(f,be.INDENT),d=d.replace(`\n${be.PASS}`,`\n${f}`);return u+d}if(r.parentBlock_){const R=r.nextConnection&&r.nextConnection.targetBlock(),f=be.blockToCode(R);return u+d+f}};be.getAdjustedInt=(r,d,u,R)=>{let f=u||0;if(r.workspace.options.oneBasedIndex)f--;const T=r.workspace.options.oneBasedIndex?"1":"0",c=f?be.ORDER_ADDITIVE:be.ORDER_NONE;let b=be.valueToCode(r,d,c)||T;if(Ia.isNumber(b)){if(b=parseInt(b,10)+f,R)b=-b}else{if(f>0)b="int("+b+" + "+f+")";else if(f<0)b="int("+b+" - "+-f+")";else b="int("+b+")";if(R)b="-"+b}return b};be.hatToCode=(r="",...d)=>{if(!be.functionNames_[r])be.functionNames_[r]=0;be.functionNames_[r]+=1;const u=`${r}_${be.functionNames_[r]}`;return be.HAT_FUNCTION_PLACEHOLDER=u,`async def ${u}(${d.join(", ")}):\n  this_func = ${u}\n${be.PASS}\n`};var At=(r)=>{const d=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;r=r.replace(d,(R,f,T,c)=>f+f+T+T+c+c);const u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return u?{r:parseInt(u[1],16),g:parseInt(u[2],16),b:parseInt(u[3],16)}:null};be.colour_picker=(r)=>{const{r:d,g:u,b:R}=At(r.getFieldValue("COLOUR"));return[`(${d}, ${u}, ${R})`,be.ORDER_ATOMIC]};var Ns="  await runtime.next_frame()\n";be.control_wait=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);const u=be.valueToCode(r,"DURATION",be.ORDER_NONE)||0;return d+=`await runtime.wait_for(num(${u}))\n`,d};be.control_repeat=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);let u=be.statementToCode(r,"SUBSTACK")||be.PASS;if(be.STATEMENT_SUFFIX)u=be.prefixLines(be.injectId(be.STATEMENT_SUFFIX,r),be.INDENT)+u;const R=be.valueToCode(r,"TIMES",be.ORDER_NONE)||10;return d+=`for _ in range(num(${R})):\n${u}${Ns}`,d};be.control_forever=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);let u=be.statementToCode(r,"SUBSTACK")||be.PASS;if(be.STATEMENT_SUFFIX)u=be.prefixLines(be.injectId(be.STATEMENT_SUFFIX,r),be.INDENT)+u;return d+=`while True:\n${u}${Ns}`,d};be.control_if=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);let u=be.statementToCode(r,"SUBSTACK")||be.PASS;if(be.STATEMENT_SUFFIX)u=be.prefixLines(be.injectId(be.STATEMENT_SUFFIX,r),be.INDENT)+u;const R=be.valueToCode(r,"CONDITION",be.ORDER_NONE)||"False";if(d+=`if ${R}:\n${u}`,r.getInput("SUBSTACK2")){if(u=be.statementToCode(r,"SUBSTACK2")||be.PASS,be.STATEMENT_SUFFIX)u=be.prefixLines(be.injectId(be.STATEMENT_SUFFIX,r),be.INDENT)+u;d+=`else:\n${u}`}return d};be.control_if_else=be.control_if;be.control_wait_until=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);const u=be.valueToCode(r,"CONDITION",be.ORDER_NONE)||"False";return d+=`while not ${u}:\n${Ns}`,d};be.control_repeat_until=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);let u=be.statementToCode(r,"SUBSTACK")||be.PASS;if(be.STATEMENT_SUFFIX)u=be.prefixLines(be.injectId(be.STATEMENT_SUFFIX,r),be.INDENT)+u;const R=be.valueToCode(r,"CONDITION",be.ORDER_NONE)||"False";return d+=`while not ${R}:\n${u}${Ns}`,d};be.control_while=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);let u=be.statementToCode(r,"SUBSTACK")||be.PASS;if(be.STATEMENT_SUFFIX)u=be.prefixLines(be.injectId(be.STATEMENT_SUFFIX,r),be.INDENT)+u;const R=be.valueToCode(r,"CONDITION",be.ORDER_NONE)||"False";return d+=`while ${R}:\n${u}${Ns}`,d};be.control_stop=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);switch(r.getFieldValue("STOP_OPTION")){case"all":d+="runtime.stop()\n";break;case"this script":d+="return\n";break;case"other scripts in sprite":d+="runtime.stop_tasks(this_func)\n";break}return d};be.data_variable=(r)=>{return[be.variableDB_.getName(r.getFieldValue("VARIABLE"),ya.Variables.NAME_TYPE),be.ORDER_ATOMIC]};be.data_setvariableto=(r)=>{let d="";if(javascriptGenerator.STATEMENT_PREFIX)d+=javascriptGenerator.injectId(javascriptGenerator.STATEMENT_PREFIX,r);const u=be.variableDB_.getName(r.getFieldValue("VARIABLE"),ya.Variables.NAME_TYPE),R=be.valueToCode(r,"VALUE",be.ORDER_NONE)||'""';return d+=`${u} = ${R}\n`,d};be.data_changevariableby=(r)=>{let d="";if(javascriptGenerator.STATEMENT_PREFIX)d+=javascriptGenerator.injectId(javascriptGenerator.STATEMENT_PREFIX,r);const u=be.variableDB_.getName(r.getFieldValue("VARIABLE"),ya.Variables.NAME_TYPE),R=be.valueToCode(r,"VALUE",be.ORDER_NONE)||0;return d+=`${u} = num(${u}) + num(${R})\n`,d};be.data_listcontents=(r)=>{return[be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE,be.ORDER_ATOMIC]};be.data_addtolist=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);const u=be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE,R=be.valueToCode(r,"ITEM",be.ORDER_NONE)||'""';return d+=`${u}.append(${R})\n`,d};be.data_deleteoflist=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);const u=be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE,R=be.valueToCode(r,"INDEX",be.ORDER_NONE)||1;return d+=`${u}.remove(runtime.index(${R}, len(${u})))\n`,d};be.data_deletealloflist=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);const u=be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE;return d+=`${u} = []\n`,d};be.data_insertatlist=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);const u=be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE,R=be.valueToCode(r,"INDEX",be.ORDER_NONE)||1,f=be.valueToCode(r,"ITEM",be.ORDER_NONE)||'""';return d+=`${u}.insert(runtime.index(${R}, len(${u})), ${f})\n`,d};be.data_replaceitemoflist=(r)=>{let d="";if(be.STATEMENT_PREFIX)d+=be.injectId(be.STATEMENT_PREFIX,r);const u=be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE,R=be.valueToCode(r,"INDEX",be.ORDER_NONE)||1,f=be.valueToCode(r,"ITEM",be.ORDER_NONE)||'""';return d+=`${u}[runtime.index(${R}, len(${u}))] = ${f}\n`,d};be.data_itemoflist=(r)=>{const d=be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE,u=be.valueToCode(r,"INDEX",be.ORDER_NONE)||1;return[`${d}[runtime.index(${u}, len(${d}))]`,be.ORDER_CONDITIONAL]};be.data_itemnumoflist=(r)=>{const d=be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE,u=be.valueToCode(r,"ITEM",be.ORDER_NONE)||0;return[`(${d}.index(${u}) + 1)`,be.ORDER_NONE]};be.data_lengthoflist=(r)=>{return[`len(${be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE})`,be.ORDER_FUNCTION_CALL]};be.data_listcontainsitem=(r)=>{const d=be.variableDB_.getName(r.getFieldValue("LIST"),ya.Variables.NAME_TYPE)+"_"+ya.LIST_VARIABLE_TYPE,u=be.valueToCode(r,"ITEM",be.ORDER_NONE)||0;return[`bool(${d}.count(${u}))`,be.ORDER_FUNCTION_CALL]};be.event_whenflagclicked=()=>{return`${be.hatToCode("start")}runtime.when_start(${be.HAT_FUNCTION_PLACEHOLDER})\n`};be.event_whengreaterthan=(r)=>{const d=r.getFieldValue("WHENGREATERTHANMENU"),u=be.valueToCode(r,"VALUE",be.ORDER_NONE)||0;return`${be.hatToCode("greaterthen")}runtime.when_greaterthen("${d}", num(${u}), ${be.HAT_FUNCTION_PLACEHOLDER})\n`};be.event_whenbroadcastreceived=(r)=>{const d=be.variableDB_.getName(r.getFieldValue("BROADCAST_OPTION"),Lu.Variables.NAME_TYPE);return`${be.hatToCode("broadcastreceived")}runtime.when_broadcastreceived("${d}", ${be.HAT_FUNCTION_PLACEHOLDER})\n`};be.event_broadcast_menu=(r)=>{return[be.variableDB_.getName(r.getFieldValue("BROADCAST_OPTION"),Lu.Variables.NAME_TYPE),be.ORDER_ATOMIC]};be.event_broadcast=(r)=>{return`runtime.broadcast("${be.valueToCode(r,"BROADCAST_INPUT",be.ORDER_NONE)||'"message1"'}")\n`};be.event_broadcastandwait=(r)=>{return`await runtime.broadcast("${be.valueToCode(r,"BROADCAST_INPUT",be.ORDER_NONE)||'"message1"'}", waiting=True)\n`};be.addReservedWords("math,random,Number");be.math_number=(r)=>{let d=parseFloat(r.getFieldValue("NUM")),u;if(d===1/0)d='float("inf")',u=be.ORDER_FUNCTION_CALL;else if(d===-1/0)d='-float("inf")',u=be.ORDER_UNARY_SIGN;else if(Number.isNaN(d))d='float("nan")',u=be.ORDER_UNARY_SIGN;else u=d<0?be.ORDER_UNARY_SIGN:be.ORDER_ATOMIC;return[d,u]};be.math_integer=(r)=>{const d=parseInt(r.getFieldValue("NUM")),u=d<0?be.ORDER_UNARY_SIGN:be.ORDER_ATOMIC;return[d,u]};be.math_whole_number=(r)=>{return[Math.abs(parseInt(r.getFieldValue("NUM"))),be.ORDER_ATOMIC]};be.math_positive_number=(r)=>{let d=parseFloat(r.getFieldValue("NUM")),u;if(d===1/0)d='float("inf")',u=be.ORDER_FUNCTION_CALL;else if(d===-1/0)d='-float("inf")',u=be.ORDER_FUNCTION_CALL;else if(Number.isNaN(d))d='float("nan")',u=be.ORDER_FUNCTION_CALL;else d=d<0?0:d,u=be.ORDER_ATOMIC;return[d,u]};be.math_angle=(r)=>{let d=parseFloat(r.getFieldValue("NUM")),u;if(d==1/0)d='float("inf")',u=be.ORDER_FUNCTION_CALL;else if(d==-1/0)d='-float("inf")',u=be.ORDER_UNARY_SIGN;else d=d%360,d=d<0?d+360:d,u=be.ORDER_ATOMIC;return[d,u]};be.operator_add=(r)=>{const d=be.valueToCode(r,"NUM1",be.ORDER_NONE)||0,u=be.valueToCode(r,"NUM2",be.ORDER_NONE)||0;return[`(num(${d}) + num(${u}))`,be.ORDER_SUBTRACTION]};be.operator_subtract=(r)=>{const d=be.valueToCode(r,"NUM1",be.ORDER_NONE)||0,u=be.valueToCode(r,"NUM2",be.ORDER_NONE)||0;return[`(num(${d}) - num(${u}))`,be.ORDER_SUBTRACTION]};be.operator_multiply=(r)=>{const d=be.valueToCode(r,"NUM1",be.ORDER_NONE)||0,u=be.valueToCode(r,"NUM2",be.ORDER_NONE)||0;return[`(num(${d}) * num(${u}))`,be.ORDER_SUBTRACTION]};be.operator_divide=(r)=>{const d=be.valueToCode(r,"NUM1",be.ORDER_NONE)||0,u=be.valueToCode(r,"NUM2",be.ORDER_NONE)||0;return[`(num(${d}) / num(${u}))`,be.ORDER_SUBTRACTION]};be.operator_random=(r)=>{const d=be.valueToCode(r,"FROM",be.ORDER_NONE)||0,u=be.valueToCode(r,"TO",be.ORDER_NONE)||0;return[`runtime.random(${d}, ${u})`,be.ORDER_FUNCTION_CALL]};be.operator_gt=(r)=>{const d=be.valueToCode(r,"OPERAND1",be.ORDER_NONE)||0,u=be.valueToCode(r,"OPERAND2",be.ORDER_NONE)||0;return[`(num(${d}) > num(${u}))`,be.ORDER_RELATIONAL]};be.operator_lt=(r)=>{const d=be.valueToCode(r,"OPERAND1",be.ORDER_NONE)||0,u=be.valueToCode(r,"OPERAND2",be.ORDER_NONE)||0;return[`(num(${d}) < num(${u}))`,be.ORDER_RELATIONAL]};be.operator_equals=(r)=>{const d=be.valueToCode(r,"OPERAND1",be.ORDER_NONE)||0,u=be.valueToCode(r,"OPERAND2",be.ORDER_NONE)||0;return[`equals(${d}, ${u})`,be.ORDER_FUNCTION_CALL]};be.operator_and=(r)=>{const d=be.valueToCode(r,"OPERAND1",be.ORDER_NONE)||"False",u=be.valueToCode(r,"OPERAND2",be.ORDER_NONE)||"False";return[`(${d} and ${u})`,be.ORDER_LOGICAL_AND]};be.operator_or=(r)=>{const d=be.valueToCode(r,"OPERAND1",be.ORDER_NONE)||"False",u=be.valueToCode(r,"OPERAND2",be.ORDER_NONE)||"False";return[`(${d} or ${u})`,be.ORDER_LOGICAL_OR]};be.operator_not=(r)=>{return[`(not ${be.valueToCode(r,"OPERAND",be.ORDER_NONE)||"False"})`,be.ORDER_LOGICAL_NOT]};be.operator_join=(r)=>{const d=be.valueToCode(r,"STRING1",be.ORDER_NONE)||'""',u=be.valueToCode(r,"STRING2",be.ORDER_NONE)||'""';return[`(str(${d}) + str(${u}))`,be.ORDER_ATOMIC]};be.operator_letter_of=(r)=>{const d=be.valueToCode(r,"LETTER",be.ORDER_NONE)||0;return[`(str(${be.valueToCode(r,"STRING",be.ORDER_NONE)||'""'})[num(${d}) - 1] || "")`,be.ORDER_MEMBER]};be.operator_length=(r)=>{return[`len(str(${be.valueToCode(r,"STRING",be.ORDER_NONE)||'""'}))`,be.ORDER_FUNCTION_CALL]};be.operator_contains=(r)=>{const d=be.valueToCode(r,"STRING1",be.ORDER_NONE)||'""',u=be.valueToCode(r,"STRING2",be.ORDER_NONE)||'""';return[`(str(${d}).count(str(${u})) > 0)`,be.ORDER_FUNCTION_CALL]};be.operator_mod=(r)=>{const d=be.valueToCode(r,"NUM1",be.ORDER_NONE)||0,u=be.valueToCode(r,"NUM2",be.ORDER_NONE)||0;return[`(num(${d}) % num(${u}))`,be.ORDER_MODULUS]};be.operator_round=(r)=>{return be.definitions_.import_math="import math",[`math.round(num(${be.valueToCode(r,"NUM",be.ORDER_NONE)||0}))`,be.ORDER_FUNCTION_CALL]};be.operator_mathop=(r)=>{be.definitions_.import_math="import math";const d=be.valueToCode(r,"NUM",be.ORDER_NONE)||0,u=r.getFieldValue("OPERATOR");let R="";if(u==="ceiling")R+=`math.ceil(num(${d}))`;else if(u==="sin"||u==="cos"||u==="tan")R+=`math.${u}(math.radians(num(${d})))`;else if(u==="asin"||u==="acos"||u==="atan")R+=`math.degrees(math.${u}(num(${d})))`;else if(u==="ln")R+=`(math.log(num(${d}))`;else if(u==="log")R+=`(math.log10(num(${d}))`;else if(u==="e ^")R+=`math.exp(num(${d}))`;else if(u==="10 ^")R+=`math.pow(10, num(${d}))`;else R+=`math.${u}(num(${d}))`;return[R,be.ORDER_FUNCTION_CALL]};be.procedures_definition=(r)=>{};be.procedures_call=(r)=>{};be.procedures_prototype=(r)=>{};be.procedures_declaration=(r)=>{};be.argument_reporter_boolean=(r)=>{};be.argument_reporter_string_number=(r)=>{};be.argument_editor_boolean=(r)=>{};be.argument_editor_string_number=(r)=>{};be.sensing_timer=()=>{return["runtime.time",be.ORDER_MEMBER]};be.sensing_resettimer=()=>{return"runtime.reset_timer()\n"};be.text=(r)=>{const d=r.getFieldValue("TEXT");return[d.length===0||isNaN(d)?be.quote_(d):+d,be.ORDER_ATOMIC]};var i4=1,c4=2,u4=3,Ru="#0FBD8C",Zu="#0DA57A",m4="#0B8E69",Xn=(r)=>{if(typeof r!=="string")if(Array.isArray(r))r=String(r);else return r;return r.replace(/[<>&'"]/g,(d)=>{switch(d){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})},yu={number:"math_number",angle:"math_angle",text:"text",string:"text",color:"colour_picker",matrix:"matrix",note:"note"},qu={number:"NUM",angle:"NUM",text:"TEXT",string:"TEXT",matrix:"MATRIX",note:"NOTE"};Wu("._5SVWFW_prompt-modal{width:360px}._5SVWFW_prompt-content{background:var(--ui-white);padding:1.5rem 2.25rem}._5SVWFW_prompt-content input[type=checkbox],._5SVWFW_prompt-content input[type=radio]{margin:3px}._5SVWFW_label{margin:0 0 .75rem;font-weight:500}._5SVWFW_variable-name-text-input{border:1px solid var(--ui-black-transparent);color:var(--text-primary-transparent);border-radius:5px;width:100%;height:3rem;margin-bottom:1.5rem;padding:0 1rem;font-size:.875rem}._5SVWFW_info-message{text-align:center;margin-bottom:1.5rem;font-size:.875rem;font-weight:400}._5SVWFW_options{justify-content:space-between;margin-bottom:1.5rem;font-weight:400;display:flex}._5SVWFW_button-row{text-align:right;font-weight:bolder}._5SVWFW_button{padding:.75rem 1rem;font-size:.85rem;font-weight:600}._5SVWFW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:var(--ui-white);margin-left:var(--space)}");var mn={variableNameTextInput:"_5SVWFW_variable-name-text-input",label:"_5SVWFW_label",promptContent:"_5SVWFW_prompt-content",infoMessage:"_5SVWFW_info-message",promptModal:"_5SVWFW_prompt-modal",buttonRow:"_5SVWFW_button-row",options:"_5SVWFW_options",button:"_5SVWFW_button",okButton:"_5SVWFW_ok-button"},q4=["nes","translate","color-sensor","servo","time","pen","brain","request","text","broadcast"].map(async(r)=>{const{default:d}=await import(`@blockcode/extension-${r}`);return d.id=r,d}),T4=Promise.all(q4);Wu(".cujmXa_editor-wrapper{border-radius:inherit;width:100%;height:100%;position:relative}.cujmXa_extension-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);border:1px solid var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;border-top:0;height:3.25rem;position:absolute;bottom:-1px;left:-1px}.cujmXa_extension-button:before{--fade-out-distance:15px;content:\"\";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.cujmXa_add-button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.cujmXa_add-button img{width:1.75rem;height:1.75rem}.cujmXa_debug-box{z-index:var(--z-index-monitor);border:1px solid var(--ui-tertiary);border-radius:var(--space)var(--space)0 0;opacity:.8;font-size:var(--standard-font-size);background:#fff;border-bottom:0;width:600px;height:300px;position:absolute;bottom:0;left:50vw;overflow:auto;transform:translate(-50%)}.cujmXa_debug-box pre{margin:calc(var(--space)/2)}");var qi={extensionButton:"cujmXa_extension-button",debugBox:"cujmXa_debug-box",editorWrapper:"cujmXa_editor-wrapper",addButton:"cujmXa_add-button"},$4="./assets/icon-extension-5ec2ee35b87b4126.svg",tn=new Map,wu=(r)=>typeof r!=="string"&&!r.button,V4=async(r,d,u,R,f)=>{if(d){for(let T of d)if(!tn.has(T)){let{default:c}=await import(`@blockcode/extension-${T}/blocks`);if(typeof c==="function")c=c(r);if(c.id=T,c.files)for(let b of c.files){const W=`extensions/${T}/${b.name}`,y=await fetch(b.uri).then((q)=>q.text());R({...b,id:W,content:y})}if(u(c.translations),f)f({...c,blocks:c.blocks.filter(wu)});tn.set(T,c)}}},W4="./assets/icon-blocks-d7e4a3a3eb74d0fb.svg",w4={"blocks.menu.file":"File","blocks.menu.file.newProject":"New","blocks.menu.file.openProject":"Open","blocks.menu.file.saveProject":"Save","blocks.menu.file.uploadProject":"Load from your computer","blocks.menu.file.downloadProject":"Save to your computer","blocks.menu.edit":"Edit","blocks.menu.edit.undo":"Undo","blocks.menu.edit.redo":"Redo","blocks.menu.device":"Device","blocks.menu.device.name":"device","blocks.menu.device.connect":"Connect to your {name}","blocks.menu.device.disconnect":"Disconnect this {name}","blocks.menu.device.download":"Download program","blocks.menu.device.turnOnAutoDownload":"Turn on Auto Download","blocks.menu.device.turnOffAutoDownload":"Turn off Auto Download","blocks.alert.downloading":"Downloading...{progress}%","blocks.alert.downloadCompleted":"Download completed.","blocks.alert.connectionError":"Connection error.","blocks.alert.flashOutSpace":"The flash is running out of space.","blocks.codeTab":"Code","blocks.monitorPane.title":"Monitor","blocks.downloadToDevice":"Download","blocks.extensions.addExtension":"Add Extension","blocks.extensions.empty":"No extension!","blocks.dataPrompt.forAllTargets":"For all targets","blocks.dataPrompt.forThisTarget":"For this target only","blocks.dataPrompt.availableToAllTargets":"This variable will be available to all targets.","blocks.dataPrompt.listAvailableToAllTargets":"This list will be available to all targets.","blocks.dataPrompt.cancel":"Cancel","blocks.dataPrompt.ok":"OK","blocks.event.programStart":"when program start","blocks.control.stopOther":"other scripts"},S4={"blocks.menu.file":"\u6587\u4EF6","blocks.menu.file.newProject":"\u65B0\u4F5C\u54C1","blocks.menu.file.openProject":"\u6253\u5F00","blocks.menu.file.saveProject":"\u4FDD\u5B58","blocks.menu.file.uploadProject":"\u4ECE\u7535\u8111\u4E2D\u6253\u5F00","blocks.menu.file.downloadProject":"\u4FDD\u5B58\u5230\u7535\u8111","blocks.menu.edit":"\u7F16\u8F91","blocks.menu.edit.undo":"\u64A4\u9500","blocks.menu.edit.redo":"\u6062\u590D","blocks.menu.device":"\u8BBE\u5907","blocks.menu.device.name":"\u8BBE\u5907","blocks.menu.device.connect":"\u8FDE\u63A5{name}","blocks.menu.device.disconnect":"\u65AD\u5F00{name}\u8FDE\u63A5","blocks.menu.device.download":"\u4E0B\u8F7D\u7A0B\u5E8F","blocks.menu.device.turnOnAutoDownload":"\u6253\u5F00\u81EA\u52A8\u4E0B\u8F7D","blocks.menu.device.turnOffAutoDownload":"\u5173\u95ED\u81EA\u52A8\u4E0B\u8F7D","blocks.alert.downloading":"\u6B63\u5728\u4E0B\u8F7D\u2026{progress}%","blocks.alert.downloadCompleted":"\u4E0B\u8F7D\u5B8C\u6210\u3002","blocks.alert.connectionError":"\u8FDE\u63A5\u9519\u8BEF\u3002","blocks.alert.flashOutSpace":"\u8BBE\u5907\u7A7A\u95F4\u4E0D\u8DB3\u3002","blocks.codeTab":"\u4EE3\u7801","blocks.monitorPane.title":"\u76D1\u89C6\u5668","blocks.downloadToDevice":"\u4E0B\u8F7D","blocks.extensions.addExtension":"\u6DFB\u52A0\u6269\u5C55","blocks.extensions.empty":"\u6CA1\u6709\u6269\u5C55\uFF01","blocks.dataPrompt.forAllTargets":"\u9002\u7528\u4E8E\u5168\u5C40","blocks.dataPrompt.forThisTarget":"\u4EC5\u9002\u7528\u4E8E\u5F53\u524D","blocks.dataPrompt.availableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u53D8\u91CF\u3002","blocks.dataPrompt.listAvailableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u5217\u8868\u3002","blocks.dataPrompt.cancel":"\u53D6\u6D88","blocks.dataPrompt.ok":"\u786E\u5B9A","blocks.event.programStart":"\u5F53\u7A0B\u5E8F\u5F00\u59CB\u8FD0\u884C","blocks.control.stopOther":"\u5176\u4ED6\u811A\u672C"},gu={en:w4,"zh-Hans":S4},yr={icon:W4,label:Su(Mu,{id:"blocks.codeTab",defaultMessage:"Code"}),Content:L4},G5={label:Su(Mu,{id:"blocks.monitorPane.title",defaultMessage:"Monitor"}),Content:null};import{useLocale as e9} from"@blockcode/core";import{ScratchBlocks as dp,makeToolboxXML as B4,blockSeparator as pn,categorySeparator as Mi} from"@blockcode/blocks-editor";import{ScratchBlocks as qr} from"@blockcode/blocks-editor";qr.Blocks.event_whenflagclicked={init(){this.jsonInit({message0:qr.Msg.EVENT_WHENFLAGCLICKED,args0:[{type:"field_image",src:qr.mainWorkspace.options.pathToMedia+"green-flag.svg",width:24,height:24,alt:"flag"}],category:qr.Categories.event,extensions:["colours_event","shape_hat"]})}};import{ScratchBlocks as Fa} from"@blockcode/blocks-editor";Fa.Blocks.motion_attack={init(){this.jsonInit({message0:Fa.Msg.MOTION_ATTACK,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"DISTANCE"}],category:Fa.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Fa.Blocks.motion_move={init(){this.jsonInit({message0:Fa.Msg.MOTION_MOVE,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"SPEED"}],category:Fa.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Fa.Blocks.motion_setspeed={init(){this.jsonInit({message0:Fa.Msg.MOTION_SETSPEED,args0:[{type:"input_value",name:"SPEED"}],category:Fa.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Fa.Blocks.motion_stop={init(){this.jsonInit({message0:Fa.Msg.MOTION_STOP,category:Fa.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Fa.Blocks.motion_speed={init(){this.jsonInit({message0:Fa.Msg.MOTION_SPEED,category:Fa.Categories.motion,checkboxInFlyout:!0,extensions:["colours_motion","output_number"]})}};import{ScratchBlocks as Ba} from"@blockcode/blocks-editor";Ba.Blocks.sensing_scanwidth={init(){this.jsonInit({message0:Ba.Msg.SENSING_SCANWIDTH,args0:[{type:"input_value",name:"WIDTH"}],category:Ba.Categories.sensing,extensions:["colours_sensing","shape_statement"]})}};Ba.Blocks.sensing_scan={init(){this.jsonInit({message0:Ba.Msg.SENSING_SCAN,args0:[{type:"input_value",name:"DIRECTION"}],category:Ba.Categories.sensing,extensions:["colours_sensing","output_boolean"]})}};Ba.Blocks.sensing_scandistance={init(){this.jsonInit({message0:Ba.Msg.SENSING_DISTANCE,args0:[{type:"input_value",name:"DIRECTION"}],category:Ba.Categories.sensing,extensions:["colours_sensing","output_number"]})}};Ba.Blocks.sensing_health={init(){this.jsonInit({message0:Ba.Msg.SENSING_HEALTH,category:Ba.Categories.sensing,checkboxInFlyout:!0,extensions:["colours_sensing","output_number"]})}};import{useRef as E4,useEffect as j4} from"preact/hooks";import{useEditor as J4} from"@blockcode/core";import{ScratchBlocks as Ua} from"@blockcode/blocks-editor";import{ScratchBlocks as Ga} from"@blockcode/blocks-editor";import{ScratchBlocks as qa} from"@blockcode/blocks-editor";import{ScratchBlocks as Uu} from"@blockcode/blocks-editor";var Eu=function({width:r,height:d,onSetup:u,...R}){const f=E4(null),{fileList:T,selectedFileId:c,modifyFile:b}=J4(),W=T.find((y)=>y.id===c);if(f.script=W.script,f.xml=W.xml,f.current){const y=Ua.getMainWorkspace();if(y&&y!==f.workspace)f.workspace=y,y.addChangeListener((q)=>{if(y.isDragging())return;if(!I4.has(q.type))return;const Z=Ua.Xml.workspaceToDom(y),$=Ua.Xml.domToText(Z).replace(/<variable type="broadcast_msg"[^>]+>[^<]+<\/variable>/gi,"");if(!f.script||f.xml!==$){const V=ce.workspaceToCode(y);if(f.script!==V)b({script:V})}})}return j4(()=>{if(f.current){if(ki.default.setup(f.current),u)u(f.current)}return()=>{ki.default.project.clear(),ki.default.project.remove()}},[f]),K4("canvas",{id:"blockcode-blocks-player",ref:f,style:{width:r,height:d},...R})};import{jsx as K4} from"preact/jsx-runtime";var g4=Object.create,{defineProperty:zu,getPrototypeOf:z4,getOwnPropertyNames:F4}=Object,O4=Object.prototype.hasOwnProperty,Ti=(r,d,u)=>{u=r!=null?g4(z4(r)):{};const R=d||!r||!r.__esModule?zu(u,"default",{value:r,enumerable:!0}):u;for(let f of F4(r))if(!O4.call(R,f))zu(R,f,{get:()=>r[f],enumerable:!0});return R},X4=(r,d)=>()=>(d||r((d={exports:{}}).exports,d),d.exports),C5=((r)=>typeof Oa!=="undefined"?Oa:typeof Proxy!=="undefined"?new Proxy(r,{get:(d,u)=>(typeof Oa!=="undefined"?Oa:d)[u]}):r)(function(r){if(typeof Oa!=="undefined")return Oa.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')}),xi=X4((r,d)=>{/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */var u=function(R,f){R=R||(()=>({}));var{window:T,document:c}=R,b=new function(){var n=/^(statics|enumerable|beans|preserve)$/,l=[],_=l.slice,N=Object.create,M=Object.getOwnPropertyDescriptor,S=Object.defineProperty,U=l.forEach||function(G,oe){for(var Q=0,le=this.length;Q<le;Q++)G.call(oe,this[Q],Q,this)},P=function(G,oe){for(var Q in this)if(this.hasOwnProperty(Q))G.call(oe,this[Q],Q,this)},j=Object.assign||function(G){for(var oe=1,Q=arguments.length;oe<Q;oe++){var le=arguments[oe];for(var Re in le)if(le.hasOwnProperty(Re))G[Re]=le[Re]}return G},J=function(G,oe,Q){if(G){var le=M(G,"length");(le&&typeof le.value==="number"?U:P).call(G,oe,Q=Q||G)}return Q};function ee(G,oe,Q,le,Re){var A={};function ne(pe,de){if(de=de||(de=M(oe,pe))&&(de.get?de:de.value),typeof de==="string"&&de[0]==="#")de=G[de.substring(1)]||de;var Se=typeof de==="function",ve=de,ye=Re||Se&&!de.base?de&&de.get?pe in G:G[pe]:null,Ue;if(!Re||!ye){if(Se&&ye)de.base=ye;if(Se&&le!==!1&&(Ue=pe.match(/^([gs]et|is)(([A-Z])(.*))$/)))A[Ue[3].toLowerCase()+Ue[4]]=Ue[2];if(!ve||Se||!ve.get||typeof ve.get!=="function"||!H.isPlainObject(ve))ve={value:ve,writable:!0};if((M(G,pe)||{configurable:!0}).configurable)ve.configurable=!0,ve.enumerable=Q!=null?Q:!Ue;S(G,pe,ve)}}if(oe){for(var re in oe)if(oe.hasOwnProperty(re)&&!n.test(re))ne(re);for(var re in A){var B=A[re],se=G["set"+B],Ne=G["get"+B]||se&&G["is"+B];if(Ne&&(le===!0||Ne.length===0))ne(re,{get:Ne,set:se})}}return G}function H(){for(var G=0,oe=arguments.length;G<oe;G++){var Q=arguments[G];if(Q)j(this,Q)}return this}return ee(H,{inject:function(G){if(G){var oe=G.statics===!0?G:G.statics,Q=G.beans,le=G.preserve;if(oe!==G)ee(this.prototype,G,G.enumerable,Q,le);ee(this,oe,null,Q,le)}for(var Re=1,A=arguments.length;Re<A;Re++)this.inject(arguments[Re]);return this},extend:function(){var G=this,oe,Q;for(var le=0,Re,A=arguments.length;le<A&&!(oe&&Q);le++)Re=arguments[le],oe=oe||Re.initialize,Q=Q||Re.prototype;if(oe=oe||function(){G.apply(this,arguments)},Q=oe.prototype=Q||N(this.prototype),S(Q,"constructor",{value:oe,writable:!0,configurable:!0}),ee(oe,this),arguments.length)this.inject.apply(oe,arguments);return oe.base=G,oe}}).inject({enumerable:!1,initialize:H,set:H,inject:function(){for(var G=0,oe=arguments.length;G<oe;G++){var Q=arguments[G];if(Q)ee(this,Q,Q.enumerable,Q.beans,Q.preserve)}return this},extend:function(){var G=N(this);return G.inject.apply(G,arguments)},each:function(G,oe){return J(this,G,oe)},clone:function(){return new this.constructor(this)},statics:{set:j,each:J,create:N,define:S,describe:M,clone:function(G){return j(new G.constructor,G)},isPlainObject:function(G){var oe=G!=null&&G.constructor;return oe&&(oe===Object||oe===H||oe.name==="Object")},pick:function(G,oe){return G!==f?G:oe},slice:function(G,oe,Q){return _.call(G,oe,Q)}}})};if(typeof d!=="undefined")d.exports=b;b.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+b.each(this,function(n,l){if(!/^_/.test(l)){var _=typeof n;this.push(l+": "+(_==="number"?$.instance.number(n):_==="string"?"'"+n+"'":n))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(n){return b.importJSON(n,this)},exportJSON:function(n){return b.exportJSON(this,n)},toJSON:function(){return b.serialize(this)},set:function(n,l){if(n)b.filter(this,n,l,this._prioritize);return this}},{beans:!1,statics:{exports:{},extend:function n(){var l=n.base.apply(this,arguments),_=l.prototype._class;if(_&&!b.exports[_])b.exports[_]=l;return l},equals:function(n,l){if(n===l)return!0;if(n&&n.equals)return n.equals(l);if(l&&l.equals)return l.equals(n);if(n&&l&&typeof n==="object"&&typeof l==="object"){if(Array.isArray(n)&&Array.isArray(l)){var _=n.length;if(_!==l.length)return!1;while(_--)if(!b.equals(n[_],l[_]))return!1}else{var N=Object.keys(n),_=N.length;if(_!==Object.keys(l).length)return!1;while(_--){var M=N[_];if(!(l.hasOwnProperty(M)&&b.equals(n[M],l[M])))return!1}}return!0}return!1},read:function(n,l,_,N){if(this===b){var M=this.peek(n,l);return n.__index++,M}var S=this.prototype,U=S._readIndex,P=l||U&&n.__index||0,j=n.length,J=n[P];if(N=N||j-P,J instanceof this||_&&_.readNull&&J==null&&N<=1){if(U)n.__index=P+1;return J&&_&&_.clone?J.clone():J}if(J=b.create(S),U)J.__read=!0;if(J=J.initialize.apply(J,P>0||P+N<j?b.slice(n,P,P+N):n)||J,U){n.__index=P+J.__read;var ee=J.__filtered;if(ee)n.__filtered=ee,J.__filtered=f;J.__read=f}return J},peek:function(n,l){return n[n.__index=l||n.__index||0]},remain:function(n){return n.length-(n.__index||0)},readList:function(n,l,_,N){var M=[],S,U=l||0,P=N?U+N:n.length;for(var j=U;j<P;j++)M.push(Array.isArray(S=n[j])?this.read(S,0,_):this.read(n,j,_,1));return M},readNamed:function(n,l,_,N,M){var S=this.getNamed(n,l),U=S!==f;if(U){var P=n.__filtered;if(!P){var j=this.getSource(n);P=n.__filtered=b.create(j),P.__unfiltered=j}P[l]=f}return this.read(U?[S]:n,_,N,M)},readSupported:function(n,l){var _=this.getSource(n),N=this,M=!1;if(_)Object.keys(_).forEach(function(S){if(S in l){var U=N.readNamed(n,S);if(U!==f)l[S]=U;M=!0}});return M},getSource:function(n){var l=n.__source;if(l===f){var _=n.length===1&&n[0];l=n.__source=_&&b.isPlainObject(_)?_:null}return l},getNamed:function(n,l){var _=this.getSource(n);if(_)return l?_[l]:n.__filtered||_},hasNamed:function(n,l){return!!this.getNamed(n,l)},filter:function(n,l,_,N){var M;function S(ee){if(!(_&&(ee in _))&&!(M&&(ee in M))){var H=l[ee];if(H!==f)n[ee]=H}}if(N){var U={};for(var P=0,j,J=N.length;P<J;P++)if((j=N[P])in l)S(j),U[j]=!0;M=U}return Object.keys(l.__unfiltered||l).forEach(S),n},isPlainValue:function(n,l){return b.isPlainObject(n)||Array.isArray(n)||l&&typeof n==="string"},serialize:function(n,l,_,N){l=l||{};var M=!N,S;if(M)l.formatter=new $(l.precision),N={length:0,definitions:{},references:{},add:function(H,G){var oe="#"+H._id,Q=this.references[oe];if(!Q){this.length++;var le=G.call(H),Re=H._class;if(Re&&le[0]!==Re)le.unshift(Re);this.definitions[oe]=le,Q=this.references[oe]=[oe]}return Q}};if(n&&n._serialize){S=n._serialize(l,N);var U=n._class;if(U&&!n._compactSerialize&&(M||!_)&&S[0]!==U)S.unshift(U)}else if(Array.isArray(n)){S=[];for(var P=0,j=n.length;P<j;P++)S[P]=b.serialize(n[P],l,_,N)}else if(b.isPlainObject(n)){S={};var J=Object.keys(n);for(var P=0,j=J.length;P<j;P++){var ee=J[P];S[ee]=b.serialize(n[ee],l,_,N)}}else if(typeof n==="number")S=l.formatter.number(n,l.precision);else S=n;return M&&N.length>0?[["dictionary",N.definitions],S]:S},deserialize:function(n,l,_,N,M){var S=n,U=!_,P=U&&n&&n.length&&n[0][0]==="dictionary";if(_=_||{},Array.isArray(n)){var j=n[0],J=j==="dictionary";if(n.length==1&&/^#/.test(j))return _.dictionary[j];j=b.exports[j],S=[];for(var ee=j?1:0,H=n.length;ee<H;ee++)S.push(b.deserialize(n[ee],l,_,J,P));if(j){var G=S;if(l)S=l(j,G,U||M);else S=new j(G)}}else if(b.isPlainObject(n)){if(S={},N)_.dictionary=S;for(var oe in n)S[oe]=b.deserialize(n[oe],l,_)}return P?S[1]:S},exportJSON:function(n,l){var _=b.serialize(n,l);return l&&l.asString==!1?_:JSON.stringify(_)},importJSON:function(n,l){return b.deserialize(typeof n==="string"?JSON.parse(n):n,function(_,N,M){var S=M&&l&&l.constructor===_,U=S?l:b.create(_.prototype);if(N.length===1&&U instanceof _e&&(S||!(U instanceof me))){var P=N[0];if(b.isPlainObject(P)){if(P.insert=!1,S)N=N.concat([_e.INSERT])}}if((S?U.set:_).apply(U,N),S)l=null;return U})},push:function(n,l){var _=l.length;if(_<4096)n.push.apply(n,l);else{var N=n.length;n.length+=_;for(var M=0;M<_;M++)n[N+M]=l[M]}return n},splice:function(n,l,_,N){var M=l&&l.length,S=_===f;if(_=S?n.length:_,_>n.length)_=n.length;for(var U=0;U<M;U++)l[U]._index=_+U;if(S)return b.push(n,l),[];else{var P=[_,N];if(l)b.push(P,l);var j=n.splice.apply(n,P);for(var U=0,J=j.length;U<J;U++)j[U]._index=f;for(var U=_+M,J=n.length;U<J;U++)n[U]._index=U;return j}},capitalize:function(n){return n.replace(/\b[a-z]/g,function(l){return l.toUpperCase()})},camelize:function(n){return n.replace(/-(.)/g,function(l,_){return _.toUpperCase()})},hyphenate:function(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var W={on:function(n,l){if(typeof n!=="string")b.each(n,function(S,U){this.on(U,S)},this);else{var _=this._eventTypes,N=_&&_[n],M=this._callbacks=this._callbacks||{};if(M=M[n]=M[n]||[],M.indexOf(l)===-1){if(M.push(l),N&&N.install&&M.length===1)N.install.call(this,n)}}return this},off:function(n,l){if(typeof n!=="string"){b.each(n,function(U,P){this.off(P,U)},this);return}var _=this._eventTypes,N=_&&_[n],M=this._callbacks&&this._callbacks[n],S;if(M){if(!l||(S=M.indexOf(l))!==-1&&M.length===1){if(N&&N.uninstall)N.uninstall.call(this,n);delete this._callbacks[n]}else if(S!==-1)M.splice(S,1)}return this},once:function(n,l){return this.on(n,function _(){l.apply(this,arguments),this.off(n,_)})},emit:function(n,l){var _=this._callbacks&&this._callbacks[n];if(!_)return!1;var N=b.slice(arguments,1),M=l&&l.target&&!l.currentTarget;if(_=_.slice(),M)l.currentTarget=this;for(var S=0,U=_.length;S<U;S++)if(_[S].apply(this,N)==!1){if(l&&l.stop)l.stop();break}if(M)delete l.currentTarget;return!0},responds:function(n){return!!(this._callbacks&&this._callbacks[n])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(n){var l=this._eventTypes,_=this._callbacks,N=n?"install":"uninstall";if(l){for(var M in _)if(_[M].length>0){var S=l[M],U=S&&S[N];if(U)U.call(this,M)}}},statics:{inject:function n(l){var _=l._events;if(_){var N={};b.each(_,function(M,S){var U=typeof M==="string",P=U?M:S,j=b.capitalize(P),J=P.substring(2).toLowerCase();N[J]=U?{}:M,P="_"+P,l["get"+j]=function(){return this[P]},l["set"+j]=function(ee){var H=this[P];if(H)this.off(J,H);if(ee)this.on(J,ee);this[P]=ee}}),l._eventTypes=N}return n.base.apply(this,arguments)}}},y=b.extend({_class:"PaperScope",initialize:function n(){L=this,this.settings=new b({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=n._id++,n._scopes[this._id]=this;var l=n.prototype;if(!this.support){var _=Qe.getContext(1,1)||{};l.support={nativeDash:"setLineDash"in _||"mozDash"in _,nativeBlendModes:Pe.nativeModes},Qe.release(_)}if(!this.agent){var N=R.navigator.userAgent.toLowerCase(),M=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(N)||[])[0],S=M==="darwin"?"mac":M,U=l.agent=l.browser={platform:S};if(S)U[S]=!0;if(N.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(P,j,J,ee,H){if(!U.chrome){var G=j==="opera"?ee:/^(node|trident)$/.test(j)?H:J;U.version=G,U.versionNumber=parseFloat(G),j={trident:"msie",jsdom:"node"}[j]||j,U.name=j,U[j]=!0}}),U.chrome)delete U.webkit;if(U.atom)delete U.chrome}},version:"0.12.17",getView:function(){var n=this.project;return n&&n._view},getPaper:function(){return this},execute:function(n,l){},install:function(n){var l=this;b.each(["project","view","tool"],function(N){b.define(n,N,{configurable:!0,get:function(){return l[N]}})});for(var _ in this)if(!/^_/.test(_)&&this[_])n[_]=this[_]},setup:function(n){return L=this,this.project=new te(n),this},createCanvas:function(n,l){return Qe.getCanvas(n,l)},activate:function(){L=this},clear:function(){var n=this.projects,l=this.tools;for(var _=n.length-1;_>=0;_--)n[_].remove();for(var _=l.length-1;_>=0;_--)l[_].remove()},remove:function(){this.clear(),delete y._scopes[this._id]},statics:new function(){function n(l){return l+="Attribute",function(_,N){return _[l](N)||_[l]("data-paper-"+N)}}return{_scopes:{},_id:0,get:function(l){return this._scopes[l]||null},getAttribute:n("get"),hasAttribute:n("has")}}}),q=b.extend(W,{initialize:function(n){if(this._scope=L,this._index=this._scope[this._list].push(this)-1,n||!this._scope[this._reference])this.activate()},activate:function(){if(!this._scope)return!1;var n=this._scope[this._reference];if(n&&n!==this)n.emit("deactivate");return this._scope[this._reference]=this,this.emit("activate",n),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){if(this._index==null)return!1;if(b.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this)this._scope[this._reference]=null;return this._scope=null,!0},getView:function(){return this._scope.getView()}}),Z={findItemBoundsCollisions:function(n,l,_){function N(U){var P=new Array(U.length);for(var j=0;j<U.length;j++){var J=U[j].getBounds();P[j]=[J.left,J.top,J.right,J.bottom]}return P}var M=N(n),S=!l||l===n?M:N(l);return this.findBoundsCollisions(M,S,_||0)},findCurveBoundsCollisions:function(n,l,_,N){function M(G){var{min:oe,max:Q}=Math,le=new Array(G.length);for(var Re=0;Re<G.length;Re++){var A=G[Re];le[Re]=[oe(A[0],A[2],A[4],A[6]),oe(A[1],A[3],A[5],A[7]),Q(A[0],A[2],A[4],A[6]),Q(A[1],A[3],A[5],A[7])]}return le}var S=M(n),U=!l||l===n?S:M(l);if(N){var P=this.findBoundsCollisions(S,U,_||0,!1,!0),j=this.findBoundsCollisions(S,U,_||0,!0,!0),J=[];for(var ee=0,H=P.length;ee<H;ee++)J[ee]={hor:P[ee],ver:j[ee]};return J}return this.findBoundsCollisions(S,U,_||0)},findBoundsCollisions:function(n,l,_,N,M){var S=!l||n===l,U=S?n:n.concat(l),P=n.length,j=U.length;function J(Ke,Ge,Ce){var Ye=0,Ae=Ke.length;while(Ye<Ae){var He=Ae+Ye>>>1;if(U[Ke[He]][Ge]<Ce)Ye=He+1;else Ae=He}return Ye-1}var ee=N?1:0,H=ee+2,G=N?0:1,oe=G+2,Q=new Array(j);for(var le=0;le<j;le++)Q[le]=le;Q.sort(function(Ke,Ge){return U[Ke][ee]-U[Ge][ee]});var Re=[],A=new Array(P);for(var le=0;le<j;le++){var ne=Q[le],re=U[ne],B=S?ne:ne-P,se=ne<P,Ne=S||!se,pe=se?[]:null;if(Re.length){var de=J(Re,H,re[ee]-_)+1;if(Re.splice(0,de),S&&M){pe=pe.concat(Re);for(var Se=0;Se<Re.length;Se++){var ve=Re[Se];A[ve].push(B)}}else{var ye=re[oe],Ue=re[G];for(var Se=0;Se<Re.length;Se++){var ve=Re[Se],Te=U[ve],ke=ve<P,Xe=S||ve>=P;if(M||(se&&Xe||Ne&&ke)&&(ye>=Te[G]-_&&Ue<=Te[oe]+_)){if(se&&Xe)pe.push(S?ve:ve-P);if(Ne&&ke)A[ve].push(B)}}}}if(se){if(n===l)pe.push(ne);A[ne]=pe}if(Re.length){var Le=re[H],we=J(Re,H,Le);Re.splice(we+1,0,ne)}else Re.push(ne)}for(var le=0;le<A.length;le++){var Ie=A[le];if(Ie)Ie.sort(function(Ge,Ce){return Ge-Ce})}return A}},$=b.extend({initialize:function(n){this.precision=b.pick(n,5),this.multiplier=Math.pow(10,this.precision)},number:function(n){return this.precision<16?Math.round(n*this.multiplier)/this.multiplier:n},pair:function(n,l,_){return this.number(n)+(_||",")+this.number(l)},point:function(n,l){return this.number(n.x)+(l||",")+this.number(n.y)},size:function(n,l){return this.number(n.width)+(l||",")+this.number(n.height)},rectangle:function(n,l){return this.point(n,l)+(l||",")+this.size(n,l)}});$.instance=new $;var V=new function(){var n=[[0.5773502691896257],[0,0.7745966692414834],[0.33998104358485626,0.8611363115940526],[0,0.5384693101056831,0.906179845938664],[0.2386191860831969,0.6612093864662645,0.932469514203152],[0,0.4058451513773972,0.7415311855993945,0.9491079123427585],[0.1834346424956498,0.525532409916329,0.7966664774136267,0.9602898564975363],[0,0.3242534234038089,0.6133714327005904,0.8360311073266358,0.9681602395076261],[0.14887433898163122,0.4333953941292472,0.6794095682990244,0.8650633666889845,0.9739065285171717],[0,0.26954315595234496,0.5190961292068118,0.7301520055740494,0.8870625997680953,0.978228658146057],[0.1252334085114689,0.3678314989981802,0.5873179542866175,0.7699026741943047,0.9041172563704749,0.9815606342467192],[0,0.2304583159551348,0.44849275103644687,0.6423493394403402,0.8015780907333099,0.9175983992229779,0.9841830547185881],[0.10805494870734367,0.31911236892788974,0.5152486363581541,0.6872929048116855,0.827201315069765,0.9284348836635735,0.9862838086968123],[0,0.20119409399743451,0.3941513470775634,0.5709721726085388,0.7244177313601701,0.8482065834104272,0.937273392400706,0.9879925180204854],[0.09501250983763744,0.2816035507792589,0.45801677765722737,0.6178762444026438,0.755404408355003,0.8656312023878318,0.9445750230732326,0.9894009349916499]],l=[[1],[0.8888888888888888,0.5555555555555556],[0.6521451548625461,0.34785484513745385],[0.5688888888888889,0.47862867049936647,0.23692688505618908],[0.46791393457269104,0.3607615730481386,0.17132449237917036],[0.4179591836734694,0.3818300505051189,0.27970539148927664,0.1294849661688697],[0.362683783378362,0.31370664587788727,0.22238103445337448,0.10122853629037626],[0.3302393550012598,0.31234707704000286,0.26061069640293544,0.1806481606948574,0.08127438836157441],[0.29552422471475287,0.26926671930999635,0.21908636251598204,0.1494513491505806,0.06667134430868814],[0.2729250867779006,0.26280454451024665,0.23319376459199048,0.18629021092773426,0.1255803694649046,0.05566856711617366],[0.24914704581340277,0.2334925365383548,0.20316742672306592,0.16007832854334622,0.10693932599531843,0.04717533638651183],[0.2325515532308739,0.22628318026289723,0.2078160475368885,0.17814598076194574,0.13887351021978725,0.09212149983772845,0.04048400476531588],[0.2152638534631578,0.2051984637212956,0.18553839747793782,0.15720316715819355,0.12151857068790319,0.08015808715976021,0.03511946033175186],[0.2025782419255613,0.19843148532711158,0.1861610000155622,0.16626920581699392,0.13957067792615432,0.10715922046717194,0.07036604748810812,0.03075324199611727],[0.1894506104550685,0.18260341504492358,0.16915651939500254,0.14959598881657674,0.12462897125553388,0.09515851168249279,0.062253523938647894,0.027152459411754096]],_=Math.abs,N=Math.sqrt,M=Math.pow,S=Math.log2||function(H){return Math.log(H)*Math.LOG2E},U=0.000000000001,P=0.000000000000000112;function j(H,G,oe){return H<G?G:H>oe?oe:H}function J(H,G,oe){function Q(de){var Se=de*134217729,ve=de-Se,ye=ve+Se,Ue=de-ye;return[ye,Ue]}var le=G*G-H*oe,Re=G*G+H*oe;if(_(le)*3<Re){var A=Q(H),ne=Q(G),re=Q(oe),B=G*G,se=ne[0]*ne[0]-B+2*ne[0]*ne[1]+ne[1]*ne[1],Ne=H*oe,pe=A[0]*re[0]-Ne+A[0]*re[1]+A[1]*re[0]+A[1]*re[1];le=B-Ne+(se-pe)}return le}function ee(){var H=Math.max.apply(Math,arguments);return H&&(H<0.00000001||H>1e8)?M(2,-Math.round(S(H))):0}return{EPSILON:U,MACHINE_EPSILON:P,CURVETIME_EPSILON:0.00000001,GEOMETRIC_EPSILON:0.0000001,TRIGONOMETRIC_EPSILON:0.00000001,ANGULAR_EPSILON:0.00001,KAPPA:4*(N(2)-1)/3,isZero:function(H){return H>=-U&&H<=U},isMachineZero:function(H){return H>=-P&&H<=P},clamp:j,integrate:function(H,G,oe,Q){var le=n[Q-2],Re=l[Q-2],A=(oe-G)*0.5,ne=A+G,re=0,B=Q+1>>1,se=Q&1?Re[re++]*H(ne):0;while(re<B){var Ne=A*le[re];se+=Re[re++]*(H(ne+Ne)+H(ne-Ne))}return A*se},findRoot:function(H,G,oe,Q,le,Re,A){for(var ne=0;ne<Re;ne++){var re=H(oe),B=re/G(oe),se=oe-B;if(_(B)<A){oe=se;break}if(re>0)le=oe,oe=se<=Q?(Q+le)*0.5:se;else Q=oe,oe=se>=le?(Q+le)*0.5:se}return j(oe,Q,le)},solveQuadratic:function(H,G,oe,Q,le,Re){var A,ne=1/0;if(_(H)<U){if(_(G)<U)return _(oe)<U?-1:0;A=-oe/G}else{G*=-0.5;var re=J(H,G,oe);if(re&&_(re)<P){var B=ee(_(H),_(G),_(oe));if(B)H*=B,G*=B,oe*=B,re=J(H,G,oe)}if(re>=-P){var se=re<0?0:N(re),Ne=G+(G<0?-se:se);if(Ne===0)A=oe/H,ne=-A;else A=Ne/H,ne=oe/Ne}}var pe=0,de=le==null,Se=le-U,ve=Re+U;if(isFinite(A)&&(de||A>Se&&A<ve))Q[pe++]=de?A:j(A,le,Re);if(ne!==A&&isFinite(ne)&&(de||ne>Se&&ne<ve))Q[pe++]=de?ne:j(ne,le,Re);return pe},solveCubic:function(H,G,oe,Q,le,Re,A){var ne=ee(_(H),_(G),_(oe),_(Q)),re,B,se,Ne,pe;if(ne)H*=ne,G*=ne,oe*=ne,Q*=ne;function de(we){re=we;var Ie=H*re;B=Ie+G,se=B*re+oe,Ne=(Ie+B)*re+se,pe=se*re+Q}if(_(H)<U)H=G,B=oe,se=Q,re=1/0;else if(_(Q)<U)B=G,se=oe,re=0;else{de(-(G/H)/3);var Se=pe/H,ve=M(_(Se),0.3333333333333333),ye=Se<0?-1:1,Ue=-Ne/H,Te=Ue>0?1.324717957244746*Math.max(ve,N(Ue)):ve,ke=re-ye*Te;if(ke!==re){do de(ke),ke=Ne===0?re:re-pe/Ne/(1+P);while(ye*ke>ye*re);if(_(H)*re*re>_(Q/re))se=-Q/re,B=(se-oe)/re}}var Xe=V.solveQuadratic(H,B,se,le,Re,A),Le=Re==null;if(isFinite(re)&&(Xe===0||Xe>0&&re!==le[0]&&re!==le[1])&&(Le||re>Re-U&&re<A+U))le[Xe++]=Le?re:j(re,Re,A);return Xe}}},x={_id:1,_pools:{},get:function(n){if(n){var l=this._pools[n];if(!l)l=this._pools[n]={_id:1};return l._id++}else return this._id++}},k=b.extend({_class:"Point",_readIndex:!0,initialize:function n(l,_){var N=typeof l,M=this.__read,S=0;if(N==="number"){var U=typeof _==="number";if(this._set(l,U?_:l),M)S=U?2:1}else if(N==="undefined"||l===null){if(this._set(0,0),M)S=l===null?1:0}else{var P=N==="string"?l.split(/[\s,]+/)||[]:l;if(S=1,Array.isArray(P))this._set(+P[0],+(P.length>1?P[1]:P[0]));else if("x"in P)this._set(P.x||0,P.y||0);else if("width"in P)this._set(P.width||0,P.height||0);else if("angle"in P)this._set(P.length||0,0),this.setAngle(P.angle||0);else this._set(0,0),S=0}if(M)this.__read=S;return this},set:"#initialize",_set:function(n,l){return this.x=n,this.y=l,this},equals:function(n){return this===n||n&&(this.x===n.x&&this.y===n.y||Array.isArray(n)&&this.x===n[0]&&this.y===n[1])||!1},clone:function(){return new k(this.x,this.y)},toString:function(){var n=$.instance;return"{ x: "+n.number(this.x)+", y: "+n.number(this.y)+" }"},_serialize:function(n){var l=n.formatter;return[l.number(this.x),l.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(n){if(this.isZero()){var l=this._angle||0;this._set(Math.cos(l)*n,Math.sin(l)*n)}else{var _=n/this.getLength();if(V.isZero(_))this.getAngle();this._set(this.x*_,this.y*_)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(n){this.setAngleInRadians.call(this,n*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(!arguments.length)return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);else{var n=k.read(arguments),l=this.getLength()*n.getLength();if(V.isZero(l))return NaN;else{var _=this.dot(n)/l;return Math.acos(_<-1?-1:_>1?1:_)}}},setAngleInRadians:function(n){if(this._angle=n,!this.isZero()){var l=this.getLength();this._set(Math.cos(n)*l,Math.sin(n)*l)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var n=k.read(arguments);return Math.atan2(this.cross(n),this.dot(n))*180/Math.PI},getDistance:function(){var n=arguments,l=k.read(n),_=l.x-this.x,N=l.y-this.y,M=_*_+N*N,S=b.read(n);return S?M:Math.sqrt(M)},normalize:function(n){if(n===f)n=1;var l=this.getLength(),_=l!==0?n/l:0,N=new k(this.x*_,this.y*_);if(_>=0)N._angle=this._angle;return N},rotate:function(n,l){if(n===0)return this.clone();n=n*Math.PI/180;var _=l?this.subtract(l):this,N=Math.sin(n),M=Math.cos(n);return _=new k(_.x*M-_.y*N,_.x*N+_.y*M),l?_.add(l):_},transform:function(n){return n?n._transformPoint(this):this},add:function(){var n=k.read(arguments);return new k(this.x+n.x,this.y+n.y)},subtract:function(){var n=k.read(arguments);return new k(this.x-n.x,this.y-n.y)},multiply:function(){var n=k.read(arguments);return new k(this.x*n.x,this.y*n.y)},divide:function(){var n=k.read(arguments);return new k(this.x/n.x,this.y/n.y)},modulo:function(){var n=k.read(arguments);return new k(this.x%n.x,this.y%n.y)},negate:function(){return new k(-this.x,-this.y)},isInside:function(){return z.read(arguments).contains(this)},isClose:function(){var n=arguments,l=k.read(n),_=b.read(n);return this.getDistance(l)<=_},isCollinear:function(){var n=k.read(arguments);return k.isCollinear(this.x,this.y,n.x,n.y)},isColinear:"#isCollinear",isOrthogonal:function(){var n=k.read(arguments);return k.isOrthogonal(this.x,this.y,n.x,n.y)},isZero:function(){var n=V.isZero;return n(this.x)&&n(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(n){return this.x*(n>1&&n<4?-1:1)>=0&&this.y*(n>2?-1:1)>=0},dot:function(){var n=k.read(arguments);return this.x*n.x+this.y*n.y},cross:function(){var n=k.read(arguments);return this.x*n.y-this.y*n.x},project:function(){var n=k.read(arguments),l=n.isZero()?0:this.dot(n)/n.dot(n);return new k(n.x*l,n.y*l)},statics:{min:function(){var n=arguments,l=k.read(n),_=k.read(n);return new k(Math.min(l.x,_.x),Math.min(l.y,_.y))},max:function(){var n=arguments,l=k.read(n),_=k.read(n);return new k(Math.max(l.x,_.x),Math.max(l.y,_.y))},random:function(){return new k(Math.random(),Math.random())},isCollinear:function(n,l,_,N){return Math.abs(n*N-l*_)<=Math.sqrt((n*n+l*l)*(_*_+N*N))*0.00000001},isOrthogonal:function(n,l,_,N){return Math.abs(n*_+l*N)<=Math.sqrt((n*n+l*l)*(_*_+N*N))*0.00000001}}},b.each(["round","ceil","floor","abs"],function(n){var l=Math[n];this[n]=function(){return new k(l(this.x),l(this.y))}},{})),g=k.extend({initialize:function n(l,_,N,M){this._x=l,this._y=_,this._owner=N,this._setter=M},_set:function(n,l,_){if(this._x=n,this._y=l,!_)this._owner[this._setter](this);return this},getX:function(){return this._x},setX:function(n){this._x=n,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(n){this._y=n,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(n){this._owner._changeSelection(this._getSelection(),n)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),X=b.extend({_class:"Size",_readIndex:!0,initialize:function n(l,_){var N=typeof l,M=this.__read,S=0;if(N==="number"){var U=typeof _==="number";if(this._set(l,U?_:l),M)S=U?2:1}else if(N==="undefined"||l===null){if(this._set(0,0),M)S=l===null?1:0}else{var P=N==="string"?l.split(/[\s,]+/)||[]:l;if(S=1,Array.isArray(P))this._set(+P[0],+(P.length>1?P[1]:P[0]));else if("width"in P)this._set(P.width||0,P.height||0);else if("x"in P)this._set(P.x||0,P.y||0);else this._set(0,0),S=0}if(M)this.__read=S;return this},set:"#initialize",_set:function(n,l){return this.width=n,this.height=l,this},equals:function(n){return n===this||n&&(this.width===n.width&&this.height===n.height||Array.isArray(n)&&this.width===n[0]&&this.height===n[1])||!1},clone:function(){return new X(this.width,this.height)},toString:function(){var n=$.instance;return"{ width: "+n.number(this.width)+", height: "+n.number(this.height)+" }"},_serialize:function(n){var l=n.formatter;return[l.number(this.width),l.number(this.height)]},add:function(){var n=X.read(arguments);return new X(this.width+n.width,this.height+n.height)},subtract:function(){var n=X.read(arguments);return new X(this.width-n.width,this.height-n.height)},multiply:function(){var n=X.read(arguments);return new X(this.width*n.width,this.height*n.height)},divide:function(){var n=X.read(arguments);return new X(this.width/n.width,this.height/n.height)},modulo:function(){var n=X.read(arguments);return new X(this.width%n.width,this.height%n.height)},negate:function(){return new X(-this.width,-this.height)},isZero:function(){var n=V.isZero;return n(this.width)&&n(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(n,l){return new X(Math.min(n.width,l.width),Math.min(n.height,l.height))},max:function(n,l){return new X(Math.max(n.width,l.width),Math.max(n.height,l.height))},random:function(){return new X(Math.random(),Math.random())}}},b.each(["round","ceil","floor","abs"],function(n){var l=Math[n];this[n]=function(){return new X(l(this.width),l(this.height))}},{})),E=X.extend({initialize:function n(l,_,N,M){this._width=l,this._height=_,this._owner=N,this._setter=M},_set:function(n,l,_){if(this._width=n,this._height=l,!_)this._owner[this._setter](this);return this},getWidth:function(){return this._width},setWidth:function(n){this._width=n,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(n){this._height=n,this._owner[this._setter](this)}}),z=b.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function n(l,_,N,M){var S=arguments,U=typeof l,P;if(U==="number")this._set(l,_,N,M),P=4;else if(U==="undefined"||l===null)this._set(0,0,0,0),P=l===null?1:0;else if(S.length===1){if(Array.isArray(l))this._set.apply(this,l),P=1;else if(l.x!==f||l.width!==f)this._set(l.x||0,l.y||0,l.width||0,l.height||0),P=1;else if(l.from===f&&l.to===f){if(this._set(0,0,0,0),b.readSupported(S,this))P=1}}if(P===f){var j=k.readNamed(S,"from"),J=b.peek(S),ee=j.x,H=j.y,G,oe;if(J&&J.x!==f||b.hasNamed(S,"to")){var Q=k.readNamed(S,"to");if(G=Q.x-ee,oe=Q.y-H,G<0)ee=Q.x,G=-G;if(oe<0)H=Q.y,oe=-oe}else{var le=X.read(S);G=le.width,oe=le.height}this._set(ee,H,G,oe),P=S.__index}var Re=S.__filtered;if(Re)this.__filtered=Re;if(this.__read)this.__read=P;return this},set:"#initialize",_set:function(n,l,_,N){return this.x=n,this.y=l,this.width=_,this.height=N,this},clone:function(){return new z(this.x,this.y,this.width,this.height)},equals:function(n){var l=b.isPlainValue(n)?z.read(arguments):n;return l===this||l&&this.x===l.x&&this.y===l.y&&this.width===l.width&&this.height===l.height||!1},toString:function(){var n=$.instance;return"{ x: "+n.number(this.x)+", y: "+n.number(this.y)+", width: "+n.number(this.width)+", height: "+n.number(this.height)+" }"},_serialize:function(n){var l=n.formatter;return[l.number(this.x),l.number(this.y),l.number(this.width),l.number(this.height)]},getPoint:function(n){var l=n?k:g;return new l(this.x,this.y,this,"setPoint")},setPoint:function(){var n=k.read(arguments);this.x=n.x,this.y=n.y},getSize:function(n){var l=n?X:E;return new l(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var n=X.read(arguments),l=this._sx,_=this._sy,N=n.width,M=n.height;if(l)this.x+=(this.width-N)*l;if(_)this.y+=(this.height-M)*_;this.width=N,this.height=M,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(n){if(!this._fw){var l=n-this.x;this.width-=this._sx===0.5?l*2:l}this.x=n,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(n){if(!this._fh){var l=n-this.y;this.height-=this._sy===0.5?l*2:l}this.y=n,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(n){if(!this._fw){var l=n-this.x;this.width=this._sx===0.5?l*2:l}this.x=n-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(n){if(!this._fh){var l=n-this.y;this.height=this._sy===0.5?l*2:l}this.y=n-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(n){if(this._fw||this._sx===0.5)this.x=n-this.width/2;else{if(this._sx)this.x+=(n-this.x)*2*this._sx;this.width=(n-this.x)*2}this._sx=0.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(n){if(this._fh||this._sy===0.5)this.y=n-this.height/2;else{if(this._sy)this.y+=(n-this.y)*2*this._sy;this.height=(n-this.y)*2}this._sy=0.5,this._fh=0},getCenter:function(n){var l=n?k:g;return new l(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var n=k.read(arguments);return this.setCenterX(n.x),this.setCenterY(n.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(n){return n&&n.width!==f||(Array.isArray(n)?n:arguments).length===4?this._containsRectangle(z.read(arguments)):this._containsPoint(k.read(arguments))},_containsPoint:function(n){var{x:l,y:_}=n;return l>=this.x&&_>=this.y&&l<=this.x+this.width&&_<=this.y+this.height},_containsRectangle:function(n){var{x:l,y:_}=n;return l>=this.x&&_>=this.y&&l+n.width<=this.x+this.width&&_+n.height<=this.y+this.height},intersects:function(){var n=z.read(arguments),l=b.read(arguments)||0;return n.x+n.width>this.x-l&&n.y+n.height>this.y-l&&n.x<this.x+this.width+l&&n.y<this.y+this.height+l},intersect:function(){var n=z.read(arguments),l=Math.max(this.x,n.x),_=Math.max(this.y,n.y),N=Math.min(this.x+this.width,n.x+n.width),M=Math.min(this.y+this.height,n.y+n.height);return new z(l,_,N-l,M-_)},unite:function(){var n=z.read(arguments),l=Math.min(this.x,n.x),_=Math.min(this.y,n.y),N=Math.max(this.x+this.width,n.x+n.width),M=Math.max(this.y+this.height,n.y+n.height);return new z(l,_,N-l,M-_)},include:function(){var n=k.read(arguments),l=Math.min(this.x,n.x),_=Math.min(this.y,n.y),N=Math.max(this.x+this.width,n.x),M=Math.max(this.y+this.height,n.y);return new z(l,_,N-l,M-_)},expand:function(){var n=X.read(arguments),l=n.width,_=n.height;return new z(this.x-l/2,this.y-_/2,this.width+l,this.height+_)},scale:function(n,l){return this.expand(this.width*n-this.width,this.height*(l===f?n:l)-this.height)}},b.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(n,l){var _=n.join(""),N=/^[RL]/.test(_);if(l>=4)n[1]+=N?"Y":"X";var M=n[N?0:1],S=n[N?1:0],U="get"+M,P="get"+S,j="set"+M,J="set"+S,ee="get"+_,H="set"+_;this[ee]=function(G){var oe=G?k:g;return new oe(this[U](),this[P](),this,H)},this[H]=function(){var G=k.read(arguments);this[j](G.x),this[J](G.y)}},{beans:!0})),K=z.extend({initialize:function n(l,_,N,M,S,U){this._set(l,_,N,M,!0),this._owner=S,this._setter=U},_set:function(n,l,_,N,M){if(this._x=n,this._y=l,this._width=_,this._height=N,!M)this._owner[this._setter](this);return this}},new function(){var n=z.prototype;return b.each(["x","y","width","height"],function(l){var _=b.capitalize(l),N="_"+l;this["get"+_]=function(){return this[N]},this["set"+_]=function(M){if(this[N]=M,!this._dontNotify)this._owner[this._setter](this)}},b.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(l){var _="set"+l;this[_]=function(){this._dontNotify=!0,n[_].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(l){var _=this._owner;if(_._changeSelection)_._changeSelection(2,l)}}))}),Y=b.extend({_class:"Matrix",initialize:function n(l,_){var N=arguments,M=N.length,S=!0;if(M>=6)this._set.apply(this,N);else if(M===1||M===2)if(l instanceof n)this._set(l._a,l._b,l._c,l._d,l._tx,l._ty,_);else if(Array.isArray(l))this._set.apply(this,_?l.concat([_]):l);else S=!1;else if(!M)this.reset();else S=!1;if(!S)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(n,l,_,N,M,S,U){if(this._a=n,this._b=l,this._c=_,this._d=N,this._tx=M,this._ty=S,!U)this._changed();return this},_serialize:function(n,l){return b.serialize(this.getValues(),n,!0,l)},_changed:function(){var n=this._owner;if(n)if(n._applyMatrix)n.transform(null,!0);else n._changed(25)},clone:function(){return new Y(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(n){return n===this||n&&this._a===n._a&&this._b===n._b&&this._c===n._c&&this._d===n._d&&this._tx===n._tx&&this._ty===n._ty},toString:function(){var n=$.instance;return"[["+[n.number(this._a),n.number(this._c),n.number(this._tx)].join(", ")+"], ["+[n.number(this._b),n.number(this._d),n.number(this._ty)].join(", ")+"]]"},reset:function(n){if(this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,!n)this._changed();return this},apply:function(n,l){var _=this._owner;if(_)return _.transform(null,b.pick(n,!0),l),this.isIdentity();return!1},translate:function(){var n=k.read(arguments),l=n.x,_=n.y;return this._tx+=l*this._a+_*this._c,this._ty+=l*this._b+_*this._d,this._changed(),this},scale:function(){var n=arguments,l=k.read(n),_=k.read(n,0,{readNull:!0});if(_)this.translate(_);if(this._a*=l.x,this._b*=l.x,this._c*=l.y,this._d*=l.y,_)this.translate(_.negate());return this._changed(),this},rotate:function(n){n*=Math.PI/180;var l=k.read(arguments,1),_=l.x,N=l.y,M=Math.cos(n),S=Math.sin(n),U=_-_*M+N*S,P=N-_*S-N*M,j=this._a,J=this._b,ee=this._c,H=this._d;return this._a=M*j+S*ee,this._b=M*J+S*H,this._c=-S*j+M*ee,this._d=-S*J+M*H,this._tx+=U*j+P*ee,this._ty+=U*J+P*H,this._changed(),this},shear:function(){var n=arguments,l=k.read(n),_=k.read(n,0,{readNull:!0});if(_)this.translate(_);var N=this._a,M=this._b;if(this._a+=l.y*this._c,this._b+=l.y*this._d,this._c+=l.x*N,this._d+=l.x*M,_)this.translate(_.negate());return this._changed(),this},skew:function(){var n=arguments,l=k.read(n),_=k.read(n,0,{readNull:!0}),N=Math.PI/180,M=new k(Math.tan(l.x*N),Math.tan(l.y*N));return this.shear(M,_)},append:function(n,l){if(n){var _=this._a,N=this._b,M=this._c,S=this._d,U=n._a,P=n._c,j=n._b,J=n._d,ee=n._tx,H=n._ty;if(this._a=U*_+j*M,this._c=P*_+J*M,this._b=U*N+j*S,this._d=P*N+J*S,this._tx+=ee*_+H*M,this._ty+=ee*N+H*S,!l)this._changed()}return this},prepend:function(n,l){if(n){var _=this._a,N=this._b,M=this._c,S=this._d,U=this._tx,P=this._ty,j=n._a,J=n._c,ee=n._b,H=n._d,G=n._tx,oe=n._ty;if(this._a=j*_+J*N,this._c=j*M+J*S,this._b=ee*_+H*N,this._d=ee*M+H*S,this._tx=j*U+J*P+G,this._ty=ee*U+H*P+oe,!l)this._changed()}return this},appended:function(n){return this.clone().append(n)},prepended:function(n){return this.clone().prepend(n)},invert:function(){var n=this._a,l=this._b,_=this._c,N=this._d,M=this._tx,S=this._ty,U=n*N-l*_,P=null;if(U&&!isNaN(U)&&isFinite(M)&&isFinite(S))this._a=N/U,this._b=-l/U,this._c=-_/U,this._d=n/U,this._tx=(_*S-N*M)/U,this._ty=(l*M-n*S)/U,P=this;return P},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Y(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var n=this._a*this._d-this._c*this._b;return n&&!isNaN(n)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(n,l,_){return arguments.length<3?this._transformPoint(k.read(arguments)):this._transformCoordinates(n,l,_)},_transformPoint:function(n,l,_){var{x:N,y:M}=n;if(!l)l=new k;return l._set(N*this._a+M*this._c+this._tx,N*this._b+M*this._d+this._ty,_)},_transformCoordinates:function(n,l,_){for(var N=0,M=2*_;N<M;N+=2){var S=n[N],U=n[N+1];l[N]=S*this._a+U*this._c+this._tx,l[N+1]=S*this._b+U*this._d+this._ty}return l},_transformCorners:function(n){var{x:l,y:_}=n,N=l+n.width,M=_+n.height,S=[l,_,N,_,N,M,l,M];return this._transformCoordinates(S,S,4)},_transformBounds:function(n,l,_){var N=this._transformCorners(n),M=N.slice(0,2),S=M.slice();for(var U=2;U<8;U++){var P=N[U],j=U&1;if(P<M[j])M[j]=P;else if(P>S[j])S[j]=P}if(!l)l=new z;return l._set(M[0],M[1],S[0]-M[0],S[1]-M[1],_)},inverseTransform:function(){return this._inverseTransform(k.read(arguments))},_inverseTransform:function(n,l,_){var N=this._a,M=this._b,S=this._c,U=this._d,P=this._tx,j=this._ty,J=N*U-M*S,ee=null;if(J&&!isNaN(J)&&isFinite(P)&&isFinite(j)){var H=n.x-this._tx,G=n.y-this._ty;if(!l)l=new k;ee=l._set((H*U-G*S)/J,(G*N-H*M)/J,_)}return ee},decompose:function(){var n=this._a,l=this._b,_=this._c,N=this._d,M=n*N-l*_,S=Math.sqrt,U=Math.atan2,P=180/Math.PI,j,J,ee;if(n!==0||l!==0){var H=S(n*n+l*l);j=Math.acos(n/H)*(l>0?1:-1),J=[H,M/H],ee=[U(n*_+l*N,H*H),0]}else if(_!==0||N!==0){var G=S(_*_+N*N);j=Math.asin(_/G)*(N>0?1:-1),J=[M/G,G],ee=[0,U(n*_+l*N,G*G)]}else j=0,ee=J=[0,0];return{translation:this.getTranslation(),rotation:j*P,scaling:new k(J),skewing:new k(ee[0]*P,ee[1]*P)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new k(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(n){if(!this.isIdentity())n.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},b.each(["a","b","c","d","tx","ty"],function(n){var l=b.capitalize(n),_="_"+n;this["get"+l]=function(){return this[_]},this["set"+l]=function(N){this[_]=N,this._changed()}},{})),C=b.extend({_class:"Line",initialize:function n(l,_,N,M,S){var U=!1;if(arguments.length>=4)this._px=l,this._py=_,this._vx=N,this._vy=M,U=S;else this._px=l.x,this._py=l.y,this._vx=_.x,this._vy=_.y,U=N;if(!U)this._vx-=this._px,this._vy-=this._py},getPoint:function(){return new k(this._px,this._py)},getVector:function(){return new k(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(n,l){return C.intersect(this._px,this._py,this._vx,this._vy,n._px,n._py,n._vx,n._vy,!0,l)},getSide:function(n,l){return C.getSide(this._px,this._py,this._vx,this._vy,n.x,n.y,!0,l)},getDistance:function(n){return Math.abs(this.getSignedDistance(n))},getSignedDistance:function(n){return C.getSignedDistance(this._px,this._py,this._vx,this._vy,n.x,n.y,!0)},isCollinear:function(n){return k.isCollinear(this._vx,this._vy,n._vx,n._vy)},isOrthogonal:function(n){return k.isOrthogonal(this._vx,this._vy,n._vx,n._vy)},statics:{intersect:function(n,l,_,N,M,S,U,P,j,J){if(!j)_-=n,N-=l,U-=M,P-=S;var ee=_*P-N*U;if(!V.isMachineZero(ee)){var H=n-M,G=l-S,oe=(U*G-P*H)/ee,Q=(_*G-N*H)/ee,le=0.000000000001,Re=-le,A=1+le;if(J||Re<oe&&oe<A&&Re<Q&&Q<A){if(!J)oe=oe<=0?0:oe>=1?1:oe;return new k(n+oe*_,l+oe*N)}}},getSide:function(n,l,_,N,M,S,U,P){if(!U)_-=n,N-=l;var j=M-n,J=S-l,ee=j*N-J*_;if(!P&&V.isMachineZero(ee)){if(ee=(j*_+j*_)/(_*_+N*N),ee>=0&&ee<=1)ee=0}return ee<0?-1:ee>0?1:0},getSignedDistance:function(n,l,_,N,M,S,U){if(!U)_-=n,N-=l;return _===0?N>0?M-n:n-M:N===0?_<0?S-l:l-S:((M-n)*N-(S-l)*_)/(N>_?N*Math.sqrt(1+_*_/(N*N)):_*Math.sqrt(1+N*N/(_*_)))},getDistance:function(n,l,_,N,M,S,U){return Math.abs(C.getSignedDistance(n,l,_,N,M,S,U))}}}),te=q.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function n(l){q.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new fe(null,null,this),this._view=ze.create(this,l||Qe.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(n,l){return b.serialize(this._children,n,!0,l)},_changed:function(n,l){if(n&1){var _=this._view;if(_){if(_._needsUpdate=!0,!_._requested&&_._autoUpdate)_.requestUpdate()}}var N=this._changes;if(N&&l){var M=this._changesById,S=l._id,U=M[S];if(U)U.flags|=n;else N.push(M[S]={item:l,flags:n})}},clear:function(){var n=this._children;for(var l=n.length-1;l>=0;l--)n[l].remove()},isEmpty:function(){return!this._children.length},remove:function n(){if(!n.base.call(this))return!1;if(this._view)this._view.remove();return!0},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(n){this._currentStyle.set(n)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new me({project:this,insert:!0})},getSymbolDefinitions:function(){var n=[],l={};return this.getItems({class:o,match:function(_){var N=_._definition,M=N._id;if(!l[M])l[M]=!0,n.push(N);return!1}}),n},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var n=this._selectionItems,l=[];for(var _ in n){var N=n[_],M=N._selection;if(M&1&&N.isInserted())l.push(N);else if(!M)this._updateSelection(N)}return l},_updateSelection:function(n){var l=n._id,_=this._selectionItems;if(n._selection){if(_[l]!==n)this._selectionCount++,_[l]=n}else if(_[l]===n)this._selectionCount--,delete _[l]},selectAll:function(){var n=this._children;for(var l=0,_=n.length;l<_;l++)n[l].setFullySelected(!0)},deselectAll:function(){var n=this._selectionItems;for(var l in n)n[l].setFullySelected(!1)},addLayer:function(n){return this.insertLayer(f,n)},insertLayer:function(n,l){if(l instanceof me){l._remove(!1,!0),b.splice(this._children,[l],n,0),l._setProject(this,!0);var _=l._name;if(_)l.setName(_);if(this._changes)l._changed(5);if(!this._activeLayer)this._activeLayer=l}else l=null;return l},_insertItem:function(n,l,_){if(l=this.insertLayer(n,l)||(this._activeLayer||this._insertItem(f,new me(_e.NO_INSERT),!0)).insertChild(n,l),_&&l.activate)l.activate();return l},getItems:function(n){return _e._getItems(this,n)},getItem:function(n){return _e._getItems(this,n,null,null,!0)[0]||null},importJSON:function(n){this.activate();var l=this._activeLayer;return b.importJSON(n,l&&l.isEmpty()&&l)},removeOn:function(n){var l=this._removeSets;if(l){if(n==="mouseup")l.mousedrag=null;var _=l[n];if(_){for(var N in _){var M=_[N];for(var S in l){var U=l[S];if(U&&U!=_)delete U[M._id]}M.remove()}l[n]=null}}},draw:function(n,l,_){this._updateVersion++,n.save(),l.applyToContext(n);var N=this._children,M=new b({offset:new k(0,0),pixelRatio:_,viewMatrix:l.isIdentity()?null:l,matrices:[new Y],updateMatrix:!0});for(var S=0,U=N.length;S<U;S++)N[S].draw(n,M);if(n.restore(),this._selectionCount>0){n.save(),n.strokeWidth=1;var P=this._selectionItems,j=this._scope.settings.handleSize,J=this._updateVersion;for(var ee in P)P[ee]._drawSelection(n,l,j,P,J);n.restore()}}}),_e=b.extend(W,{statics:{extend:function n(l){if(l._serializeFields)l._serializeFields=b.set({},this.prototype._serializeFields,l._serializeFields);return n.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Y,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var n=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return b.each(n,function(l){this._events[l]={install:function(_){this.getView()._countItemEvent(_,1)},uninstall:function(_){this.getView()._countItemEvent(_,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:n}})},{initialize:function n(){},_initialize:function(n,l){var _=n&&b.isPlainObject(n),N=_&&n.internal===!0,M=this._matrix=new Y,S=_&&n.project||L.project,U=L.settings;if(this._id=N?null:x.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&U.applyMatrix,l)M.translate(l);if(M._owner=this,this._style=new fe(S._currentStyle,this,S),N||_&&n.insert==!1||!U.insertItems&&!(_&&n.insert==!0))this._setProject(S);else(_&&n.parent||S)._insertItem(f,this,!0);if(_&&n!==_e.NO_INSERT&&n!==_e.INSERT)this.set(n,{internal:!0,insert:!0,project:!0,parent:!0});return _},_serialize:function(n,l){var _={},N=this;function M(S){for(var U in S){var P=N[U];if(!b.equals(P,U==="leading"?S.fontSize*1.2:S[U]))_[U]=b.serialize(P,n,U!=="data",l)}}if(M(this._serializeFields),!(this instanceof $e))M(this._style._defaults);return[this._class,_]},_changed:function(n){var l=this._symbol,_=this._parent||l,N=this._project;if(n&8)this._bounds=this._position=this._decomposed=f;if(n&16)this._globalMatrix=f;if(_&&n&72)_e._clearBoundsCache(_);if(n&2)_e._clearBoundsCache(this);if(N)N._changed(n,this);if(l)l._changed(n)},getId:function(){return this._id},getName:function(){return this._name},setName:function(n){if(this._name)this._removeNamed();if(n===+n+"")throw new Error("Names consisting only of numbers are not supported.");var l=this._getOwner();if(n&&l){var{_children:_,_namedChildren:N}=l;if((N[n]=N[n]||[]).push(this),!(n in _))_[n]=this}this._name=n||f,this._changed(256)},getStyle:function(){return this._style},setStyle:function(n){this.getStyle().set(n)}},b.each(["locked","visible","blendMode","opacity","guide"],function(n){var l=b.capitalize(n),_="_"+n,N={locked:256,visible:265};this["get"+l]=function(){return this[_]},this["set"+l]=function(M){if(M!=this[_])this[_]=M,this._changed(N[n]||257)}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(n){if(n!==this._selection){this._selection=n;var l=this._project;if(l)l._updateSelection(this),this._changed(257)}},_changeSelection:function(n,l){var _=this._selection;this.setSelection(l?_|n:_&~n)},isSelected:function(){if(this._selectChildren){var n=this._children;for(var l=0,_=n.length;l<_;l++)if(n[l].isSelected())return!0}return!!(this._selection&1)},setSelected:function(n){if(this._selectChildren){var l=this._children;for(var _=0,N=l.length;_<N;_++)l[_].setSelected(n)}this._changeSelection(1,n)},isFullySelected:function(){var n=this._children,l=!!(this._selection&1);if(n&&l){for(var _=0,N=n.length;_<N;_++)if(!n[_].isFullySelected())return!1;return!0}return l},setFullySelected:function(n){var l=this._children;if(l)for(var _=0,N=l.length;_<N;_++)l[_].setFullySelected(n);this._changeSelection(1,n)},isClipMask:function(){return this._clipMask},setClipMask:function(n){if(this._clipMask!=(n=!!n)){if(this._clipMask=n,n)this.setFillColor(null),this.setStrokeColor(null);if(this._changed(257),this._parent)this._parent._changed(2048)}},getData:function(){if(!this._data)this._data={};return this._data},setData:function(n){this._data=n},getPosition:function(n){var l=n?k:g,_=this._position||(this._position=this._getPositionFromBounds());return new l(_.x,_.y,this,"setPosition")},setPosition:function(){this.translate(k.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(n){return this._pivot?this._matrix._transformPoint(this._pivot):(n||this.getBounds()).getCenter(!0)},getPivot:function(){var n=this._pivot;return n?new g(n.x,n.y,this,"setPivot"):null},setPivot:function(){this._pivot=k.read(arguments,0,{clone:!0,readNull:!0}),this._position=f}},b.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(n,l){this[l]=function(_){return this.getBounds(_,n)}},{beans:!0,getBounds:function(n,l){var _=l||n instanceof Y,N=b.set({},_?l:n,this._boundsOptions);if(!N.stroke||this.getStrokeScaling())N.cacheItem=this;var M=this._getCachedBounds(_&&n,N).rect;return!arguments.length?new K(M.x,M.y,M.width,M.height,this,"setBounds"):M},setBounds:function(){var n=z.read(arguments),l=this.getBounds(),_=this._matrix,N=new Y,M=n.getCenter();if(N.translate(M),n.width!=l.width||n.height!=l.height){if(!_.isInvertible())_.set(_._backup||new Y().translate(_.getTranslation())),l=this.getBounds();N.scale(l.width!==0?n.width/l.width:0,l.height!==0?n.height/l.height:0)}M=l.getCenter(),N.translate(-M.x,-M.y),this.transform(N)},_getBounds:function(n,l){var _=this._children;if(!_||!_.length)return new z;return _e._updateBoundsCache(this,l.cacheItem),_e._getBounds(_,n,l)},_getBoundsCacheKey:function(n,l){return[n.stroke?1:0,n.handle?1:0,l?1:0].join("")},_getCachedBounds:function(n,l,_){n=n&&n._orNullIfIdentity();var N=l.internal&&!_,M=l.cacheItem,S=N?null:this._matrix._orNullIfIdentity(),U=M&&(!n||n.equals(S))&&this._getBoundsCacheKey(l,N),P=this._bounds;if(_e._updateBoundsCache(this._parent||this._symbol,M),U&&P&&U in P){var j=P[U];return{rect:j.rect.clone(),nonscaling:j.nonscaling}}var J=this._getBounds(n||S,l),ee=J.rect||J,H=this._style,G=J.nonscaling||H.hasStroke()&&!H.getStrokeScaling();if(U){if(!P)this._bounds=P={};var j=P[U]={rect:ee.clone(),nonscaling:G,internal:N}}return{rect:ee,nonscaling:G}},_getStrokeMatrix:function(n,l){var _=this.getStrokeScaling()?null:l&&l.internal?this:this._parent||this._symbol&&this._symbol._item,N=_?_.getViewMatrix().invert():n;return N&&N._shiftless()},statics:{_updateBoundsCache:function(n,l){if(n&&l){var _=l._id,N=n._boundsCache=n._boundsCache||{ids:{},list:[]};if(!N.ids[_])N.list.push(l),N.ids[_]=l}},_clearBoundsCache:function(n){var l=n._boundsCache;if(l){n._bounds=n._position=n._boundsCache=f;for(var _=0,N=l.list,M=N.length;_<M;_++){var S=N[_];if(S!==n){if(S._bounds=S._position=f,S._boundsCache)_e._clearBoundsCache(S)}}}},_getBounds:function(n,l,_){var N=1/0,M=-N,S=N,U=M,P=!1;_=_||{};for(var j=0,J=n.length;j<J;j++){var ee=n[j];if(ee._visible&&!ee.isEmpty(!0)){var H=ee._getCachedBounds(l&&l.appended(ee._matrix),_,!0),G=H.rect;if(N=Math.min(G.x,N),S=Math.min(G.y,S),M=Math.max(G.x+G.width,M),U=Math.max(G.y+G.height,U),H.nonscaling)P=!0}}return{rect:isFinite(N)?new z(N,S,M-N,U-S):new z,nonscaling:P}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var n=this._decompose();return n?n.rotation:0},setRotation:function(n){var l=this.getRotation();if(l!=null&&n!=null){var _=this._decomposed;if(this.rotate(n-l),_)_.rotation=n,this._decomposed=_}},getScaling:function(){var n=this._decompose(),l=n&&n.scaling;return new g(l?l.x:1,l?l.y:1,this,"setScaling")},setScaling:function(){var n=this.getScaling(),l=k.read(arguments,0,{clone:!0,readNull:!0});if(n&&l&&!n.equals(l)){var _=this.getRotation(),N=this._decomposed,M=new Y,S=V.isZero;if(S(n.x)||S(n.y)){if(M.translate(N.translation),_)M.rotate(_);M.scale(l.x,l.y),this._matrix.set(M)}else{var U=this.getPosition(!0);if(M.translate(U),_)M.rotate(_);if(M.scale(l.x/n.x,l.y/n.y),_)M.rotate(-_);M.translate(U.negate()),this.transform(M)}if(N)N.scaling=l,this._decomposed=N}},getMatrix:function(){return this._matrix},setMatrix:function(){var n=this._matrix;n.set.apply(n,arguments)},getGlobalMatrix:function(n){var l=this._globalMatrix;if(l){var _=this._parent,N=[];while(_){if(!_._globalMatrix){l=null;for(var M=0,S=N.length;M<S;M++)N[M]._globalMatrix=null;break}N.push(_),_=_._parent}}if(!l){l=this._globalMatrix=this._matrix.clone();var _=this._parent;if(_)l.prepend(_.getGlobalMatrix(!0))}return n?l:l.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(n){if(this._applyMatrix=this._canApplyMatrix&&!!n)this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(n,l){if(this._project!==n){if(this._project)this._installEvents(!1);this._project=n;var _=this._children;for(var N=0,M=_&&_.length;N<M;N++)_[N]._setProject(n);l=!0}if(l)this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function n(l){n.base.call(this,l);var _=this._children;for(var N=0,M=_&&_.length;N<M;N++)_[N]._installEvents(l)},getLayer:function(){var n=this;while(n=n._parent)if(n instanceof me)return n;return null},getParent:function(){return this._parent},setParent:function(n){return n.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(n){this.removeChildren(),this.addChildren(n)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var n=this._getOwner();return n&&n._children[this._index+1]||null},getPreviousSibling:function(){var n=this._getOwner();return n&&n._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(n){return n===this||n&&this._class===n._class&&this._style.equals(n._style)&&this._matrix.equals(n._matrix)&&this._locked===n._locked&&this._visible===n._visible&&this._blendMode===n._blendMode&&this._opacity===n._opacity&&this._clipMask===n._clipMask&&this._guide===n._guide&&this._equals(n)||!1},_equals:function(n){return b.equals(this._children,n._children)},clone:function(n){var l=new this.constructor(_e.NO_INSERT),_=this._children,N=b.pick(n?n.insert:f,n===f||n===!0),M=b.pick(n?n.deep:f,!0);if(_)l.copyAttributes(this);if(!_||M)l.copyContent(this);if(!_)l.copyAttributes(this);if(N)l.insertAbove(this);var S=this._name,U=this._parent;if(S&&U){var _=U._children,P=S,j=1;while(_[S])S=P+" "+j++;if(S!==P)l.setName(S)}return l},copyContent:function(n){var l=n._children;for(var _=0,N=l&&l.length;_<N;_++)this.addChild(l[_].clone(!1),!0)},copyAttributes:function(n,l){this.setStyle(n._style);var _=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"];for(var N=0,M=_.length;N<M;N++){var S=_[N];if(n.hasOwnProperty(S))this[S]=n[S]}if(!l)this._matrix.set(n._matrix,!0);this.setApplyMatrix(n._applyMatrix),this.setPivot(n._pivot),this.setSelection(n._selection);var{_data:U,_name:P}=n;if(this._data=U?b.clone(U):null,P)this.setName(P)},rasterize:function(n,l){var _,N,M;if(b.isPlainObject(n))_=n.resolution,N=n.insert,M=n.raster;else _=n,N=l;if(!M)M=new e(_e.NO_INSERT);var S=this.getStrokeBounds(),U=(_||this.getView().getResolution())/72,P=S.getTopLeft().floor(),j=S.getBottomRight().ceil(),J=new X(j.subtract(P)),ee=J.multiply(U);if(M.setSize(ee,!0),!ee.isZero()){var H=M.getContext(!0),G=new Y().scale(U).translate(P.negate());H.save(),G.applyToContext(H),this.draw(H,new b({matrices:[G]})),H.restore()}if(M._matrix.set(new Y().translate(P.add(J.divide(2))).scale(1/U)),N===f||N)M.insertAbove(this);return M},contains:function(){var n=this._matrix;return n.isInvertible()&&!!this._contains(n._inverseTransform(k.read(arguments)))},_contains:function(n){var l=this._children;if(l){for(var _=l.length-1;_>=0;_--)if(l[_].contains(n))return!0;return!1}return n.isInside(this.getInternalBounds())},isInside:function(){return z.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new t.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(n,l){if(!(n instanceof _e))return!1;return this._asPathItem().getIntersections(n._asPathItem(),null,l,!0).length>0}},new function(){function n(){var N=arguments;return this._hitTest(k.read(N),s.getOptions(N))}function l(){var N=arguments,M=k.read(N),S=s.getOptions(N),U=[];return this._hitTest(M,new b({all:U},S)),U}function _(N,M,S,U){var P=this._children;if(P)for(var j=P.length-1;j>=0;j--){var J=P[j],ee=J!==U&&J._hitTest(N,M,S);if(ee&&!M.all)return ee}return null}return te.inject({hitTest:n,hitTestAll:l,_hitTest:_}),{hitTest:n,hitTestAll:l,_hitTestChildren:_}},{_hitTest:function(n,l,_){if(this._locked||!this._visible||this._guide&&!l.guides||this.isEmpty())return null;var N=this._matrix,M=_?_.appended(N):this.getGlobalMatrix().prepend(this.getView()._matrix),S=Math.max(l.tolerance,0.000000000001),U=l._tolerancePadding=new X(t._getStrokePadding(S,N._shiftless().invert()));if(n=N._inverseTransform(n),!n||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(U.multiply(2))._containsPoint(n))return null;var P=!(l.guides&&!this._guide||l.selected&&!this.isSelected()||l.type&&l.type!==b.hyphenate(this._class)||l.class&&!(this instanceof l.class)),j=l.match,J=this,ee,H;function G(re){if(re&&j&&!j(re))re=null;if(re&&l.all)l.all.push(re);return re}function oe(re,B){var se=B?ee["get"+B]():J.getPosition();if(n.subtract(se).divide(U).length<=1)return new s(re,J,{name:B?b.hyphenate(B):re,point:se})}var{position:Q,center:le,bounds:Re}=l;if(P&&this._parent&&(Q||le||Re)){if(le||Re)ee=this.getInternalBounds();if(H=Q&&oe("position")||le&&oe("center","Center"),!H&&Re){var A=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"];for(var ne=0;ne<8&&!H;ne++)H=oe("bounds",A[ne])}H=G(H)}if(!H)H=this._hitTestChildren(n,l,M)||P&&G(this._hitTestSelf(n,l,M,this.getStrokeScaling()?null:M._shiftless().invert()))||null;if(H&&H.point)H.point=N.transform(H.point);return H},_hitTestSelf:function(n,l){if(l.fill&&this.hasFill()&&this._contains(n))return new s("fill",this)},matches:function(n,l){function _(U,P){for(var j in U)if(U.hasOwnProperty(j)){var J=U[j],ee=P[j];if(b.isPlainObject(J)&&b.isPlainObject(ee)){if(!_(J,ee))return!1}else if(!b.equals(J,ee))return!1}return!0}var N=typeof n;if(N==="object"){for(var M in n)if(n.hasOwnProperty(M)&&!this.matches(M,n[M]))return!1;return!0}else if(N==="function")return n(this);else if(n==="match")return l(this);else{var S=/^(empty|editable)$/.test(n)?this["is"+b.capitalize(n)]():n==="type"?b.hyphenate(this._class):this[n];if(n==="class"){if(typeof l==="function")return this instanceof l;S=this._class}if(typeof l==="function")return!!l(S);else if(l){if(l.test)return l.test(S);else if(b.isPlainObject(l))return _(l,S)}return b.equals(S,l)}},getItems:function(n){return _e._getItems(this,n,this._matrix)},getItem:function(n){return _e._getItems(this,n,this._matrix,null,!0)[0]||null},statics:{_getItems:function n(l,_,N,M,S){if(!M){var U=typeof _==="object"&&_,P=U&&U.overlapping,j=U&&U.inside,J=P||j,G=J&&z.read([J]);if(M={items:[],recursive:U&&U.recursive!==!1,inside:!!j,overlapping:!!P,rect:G,path:P&&new t.Rectangle({rectangle:G,insert:!1})},U)_=b.filter({},_,{recursive:!0,inside:!0,overlapping:!0})}var ee=l._children,H=M.items,G=M.rect;N=G&&(N||new Y);for(var oe=0,Q=ee&&ee.length;oe<Q;oe++){var le=ee[oe],Re=N&&N.appended(le._matrix),A=!0;if(G){var J=le.getBounds(Re);if(!G.intersects(J))continue;if(!(G.contains(J)||M.overlapping&&(J.contains(G)||M.path.intersects(le,Re))))A=!1}if(A&&le.matches(_)){if(H.push(le),S)break}if(M.recursive!==!1)n(le,_,Re,M,S);if(S&&H.length>0)break}return H}}},{importJSON:function(n){var l=b.importJSON(n,this);return l!==this?this.addChild(l):l},addChild:function(n){return this.insertChild(f,n)},insertChild:function(n,l){var _=l?this.insertChildren(n,[l]):null;return _&&_[0]},addChildren:function(n){return this.insertChildren(this._children.length,n)},insertChildren:function(n,l){var _=this._children;if(_&&l&&l.length>0){l=b.slice(l);var N={};for(var M=l.length-1;M>=0;M--){var S=l[M],U=S&&S._id;if(!S||N[U])l.splice(M,1);else S._remove(!1,!0),N[U]=!0}b.splice(_,l,n,0);var P=this._project,j=P._changes;for(var M=0,J=l.length;M<J;M++){var S=l[M],ee=S._name;if(S._parent=this,S._setProject(P,!0),ee)S.setName(ee);if(j)S._changed(5)}this._changed(11)}else l=null;return l},_insertItem:"#insertChild",_insertAt:function(n,l){var _=n&&n._getOwner(),N=n!==this&&_?this:null;if(N)N._remove(!1,!0),_._insertItem(n._index+l,N);return N},insertAbove:function(n){return this._insertAt(n,1)},insertBelow:function(n){return this._insertAt(n,0)},sendToBack:function(){var n=this._getOwner();return n?n._insertItem(0,this):null},bringToFront:function(){var n=this._getOwner();return n?n._insertItem(f,this):null},appendTop:"#addChild",appendBottom:function(n){return this.insertChild(0,n)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(n){return n._insertItem(f,this)},copyTo:function(n){return this.clone(!1).addTo(n)},reduce:function(n){var l=this._children;if(l&&l.length===1){var _=l[0].reduce(n);if(this._parent)_.insertAbove(this),this.remove();else _.remove();return _}return this},_removeNamed:function(){var n=this._getOwner();if(n){var{_children:l,_namedChildren:_}=n,N=this._name,M=_[N],S=M?M.indexOf(this):-1;if(S!==-1){if(l[N]==this)delete l[N];if(M.splice(S,1),M.length)l[N]=M[0];else delete _[N]}}},_remove:function(n,l){var _=this._getOwner(),N=this._project,M=this._index;if(this._style)this._style._dispose();if(_){if(this._name)this._removeNamed();if(M!=null){if(N._activeLayer===this)N._activeLayer=this.getNextSibling()||this.getPreviousSibling();b.splice(_._children,null,M,1)}if(this._installEvents(!1),n&&N._changes)this._changed(5);if(l)_._changed(11,this);return this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(n){var l=n&&n.insertBelow(this);if(l)this.remove();return l},removeChildren:function(n,l){if(!this._children)return null;n=n||0,l=b.pick(l,this._children.length);var _=b.splice(this._children,null,n,l-n);for(var N=_.length-1;N>=0;N--)_[N]._remove(!0,!1);if(_.length>0)this._changed(11);return _},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var n=0,l=this._children.length;n<l;n++)this._children[n]._index=n;this._changed(11)}},isEmpty:function(n){var l=this._children,_=l?l.length:0;if(n){for(var N=0;N<_;N++)if(!l[N].isEmpty(n))return!1;return!0}return!_},isEditable:function(){var n=this;while(n){if(!n._visible||n._locked)return!1;n=n._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(n){function l(U){var P=[];do P.unshift(U);while(U=U._parent);return P}var _=l(this),N=l(n);for(var M=0,S=Math.min(_.length,N.length);M<S;M++)if(_[M]!=N[M])return _[M]._index<N[M]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(n){return this._getOrder(n)===-1},isBelow:function(n){return this._getOrder(n)===1},isParent:function(n){return this._parent===n},isChild:function(n){return n&&n._parent===this},isDescendant:function(n){var l=this;while(l=l._parent)if(l===n)return!0;return!1},isAncestor:function(n){return n?n.isDescendant(this):!1},isSibling:function(n){return this._parent===n._parent},isGroupedWith:function(n){var l=this._parent;while(l){if(l._parent&&/^(Group|Layer|CompoundPath)$/.test(l._class)&&n.isDescendant(l))return!0;l=l._parent}return!1}},b.each(["rotate","scale","shear","skew"],function(n){var l=n==="rotate";this[n]=function(){var _=arguments,N=(l?b:k).read(_),M=k.read(_,0,{readNull:!0});return this.transform(new Y()[n](N,M||this.getPosition(!0)))}},{translate:function(){var n=new Y;return this.transform(n.translate.apply(n,arguments))},transform:function(n,l,_){var N=this._matrix,M=n&&!n.isIdentity(),S=_&&this._canApplyMatrix||this._applyMatrix&&(M||!N.isIdentity()||l&&this._children);if(!M&&!S)return this;if(M){if(!n.isInvertible()&&N.isInvertible())N._backup=N.getValues();N.prepend(n,!0);var U=this._style,P=U.getFillColor(!0),j=U.getStrokeColor(!0);if(P)P.transform(n);if(j)j.transform(n)}if(S&&(S=this._transformContent(N,l,_))){var J=this._pivot;if(J)N._transformPoint(J,J,!0);if(N.reset(!0),_&&this._canApplyMatrix)this._applyMatrix=!0}var ee=this._bounds,H=this._position;if(M||S)this._changed(25);var G=M&&ee&&n.decompose();if(G&&G.skewing.isZero()&&G.rotation%90===0){for(var oe in ee){var Q=ee[oe];if(Q.nonscaling)delete ee[oe];else if(S||!Q.internal){var le=Q.rect;n._transformBounds(le,le)}}this._bounds=ee;var Re=ee[this._getBoundsCacheKey(this._boundsOptions||{})];if(Re)this._position=this._getPositionFromBounds(Re.rect)}else if(M&&H&&this._pivot)this._position=n._transformPoint(H,H);return this},_transformContent:function(n,l,_){var N=this._children;if(N){for(var M=0,S=N.length;M<S;M++)N[M].transform(n,l,_);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(k.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(k.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(k.read(arguments))},localToParent:function(){return this._matrix._transformPoint(k.read(arguments))},fitBounds:function(n,l){n=z.read(arguments);var _=this.getBounds(),N=_.height/_.width,M=n.height/n.width,S=(l?N>M:N<M)?n.width/_.width:n.height/_.height,U=new z(new k,new X(_.width*S,_.height*S));U.setCenter(n.getCenter()),this.setBounds(U)}}),{_setStyles:function(n,l,_){var N=this._style,M=this._matrix;if(N.hasFill())n.fillStyle=N.getFillColor().toCanvasStyle(n,M);if(N.hasStroke()){n.strokeStyle=N.getStrokeColor().toCanvasStyle(n,M),n.lineWidth=N.getStrokeWidth();var S=N.getStrokeJoin(),U=N.getStrokeCap(),P=N.getMiterLimit();if(S)n.lineJoin=S;if(U)n.lineCap=U;if(P)n.miterLimit=P;if(L.support.nativeDash){var j=N.getDashArray(),J=N.getDashOffset();if(j&&j.length)if("setLineDash"in n)n.setLineDash(j),n.lineDashOffset=J;else n.mozDash=j,n.mozDashOffset=J}}if(N.hasShadow()){var ee=l.pixelRatio||1,H=_._shiftless().prepend(new Y().scale(ee,ee)),G=H.transform(new k(N.getShadowBlur(),0)),oe=H.transform(this.getShadowOffset());n.shadowColor=N.getShadowColor().toCanvasStyle(n),n.shadowBlur=G.getLength(),n.shadowOffsetX=oe.x,n.shadowOffsetY=oe.y}},draw:function(n,l,_){var N=this._updateVersion=this._project._updateVersion;if(!this._visible||this._opacity===0)return;var{matrices:M,viewMatrix:S}=l,U=this._matrix,P=M[M.length-1].appended(U);if(!P.isInvertible())return;if(S=S?S.appended(P):P,M.push(P),l.updateMatrix)this._globalMatrix=P;var j=this._blendMode,J=V.clamp(this._opacity,0,1),ee=j==="normal",H=Pe.nativeModes[j],G=ee&&J===1||l.dontStart||l.clip||(H||ee&&J<1)&&this._canComposite(),oe=l.pixelRatio||1,Q,le,Re;if(!G){var A=this.getStrokeBounds(S);if(!A.width||!A.height){M.pop();return}if(Re=l.offset,le=l.offset=A.getTopLeft().floor(),Q=n,n=Qe.getContext(A.getSize().ceil().add(1).multiply(oe)),oe!==1)n.scale(oe,oe)}n.save();var ne=_?_.appended(U):this._canScaleStroke&&!this.getStrokeScaling(!0)&&S,re=!G&&l.clipItem,B=!ne||re;if(G){if(n.globalAlpha=J,H)n.globalCompositeOperation=j}else if(B)n.translate(-le.x,-le.y);if(B)(G?U:S).applyToContext(n);if(re)l.clipItem.draw(n,l.extend({clip:!0}));if(ne){n.setTransform(oe,0,0,oe,0,0);var se=l.offset;if(se)n.translate(-se.x,-se.y)}if(this._draw(n,l,S,ne),n.restore(),M.pop(),l.clip&&!l.dontFinish)n.clip(this.getFillRule());if(!G)Pe.process(j,n,Q,J,le.subtract(Re).multiply(oe)),Qe.release(n),l.offset=Re},_isUpdated:function(n){var l=this._parent;if(l instanceof F)return l._isUpdated(n);var _=this._updateVersion===n;if(!_&&l&&l._visible&&l._isUpdated(n))this._updateVersion=n,_=!0;return _},_drawSelection:function(n,l,_,N,M){var S=this._selection,U=S&1,P=S&2||U&&this._selectBounds,j=S&4;if(!this._drawSelected)U=!1;if((U||P||j)&&this._isUpdated(M)){var J,ee=this.getSelectedColor(!0)||(J=this.getLayer())&&J.getSelectedColor(!0),H=l.appended(this.getGlobalMatrix(!0)),G=_/2;if(n.strokeStyle=n.fillStyle=ee?ee.toCanvasStyle(n):"#009dec",U)this._drawSelected(n,H,N);if(j){var oe=this.getPosition(!0),Q=this._parent,le=Q?Q.localToGlobal(oe):oe,Re=le.x,A=le.y;n.beginPath(),n.arc(Re,A,G,0,Math.PI*2,!0),n.stroke();var ne=[[0,-1],[1,0],[0,1],[-1,0]],re=G,B=_+1;for(var se=0;se<4;se++){var Ne=ne[se],pe=Ne[0],de=Ne[1];n.moveTo(Re+pe*re,A+de*re),n.lineTo(Re+pe*B,A+de*B),n.stroke()}}if(P){var Se=H._transformCorners(this.getInternalBounds());n.beginPath();for(var se=0;se<8;se++)n[!se?"moveTo":"lineTo"](Se[se],Se[++se]);n.closePath(),n.stroke();for(var se=0;se<8;se++)n.fillRect(Se[se]-G,Se[++se]-G,_,_)}}},_canComposite:function(){return!1}},b.each(["down","drag","up","move"],function(n){this["removeOn"+b.capitalize(n)]=function(){var l={};return l[n]=!0,this.removeOn(l)}},{removeOn:function(n){for(var l in n)if(n[l]){var _="mouse"+l,N=this._project,M=N._removeSets=N._removeSets||{};M[_]=M[_]||{},M[_][this._id]=this}return this}}),{tween:function(n,l,_){if(!_){if(_=l,l=n,n=null,!_)_=l,l=null}var N=_&&_.easing,M=_&&_.start,S=_!=null&&(typeof _==="number"?_:_.duration),U=new Oe(this,n,l,S,N,M);function P(j){if(U._handleFrame(j.time*1000),!U.running)this.off("frame",P)}if(S)this.on("frame",P);return U},tweenTo:function(n,l){return this.tween(null,n,l)},tweenFrom:function(n,l){return this.tween(n,null,l)}}),$e=_e.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function n(l){if(this._children=[],this._namedChildren={},!this._initialize(l))this.addChildren(Array.isArray(l)?l:arguments)},_changed:function n(l){if(n.base.call(this,l),l&2050)this._clipItem=f},_getClipItem:function(){var n=this._clipItem;if(n===f){n=null;var l=this._children;for(var _=0,N=l.length;_<N;_++)if(l[_]._clipMask){n=l[_];break}this._clipItem=n}return n},isClipped:function(){return!!this._getClipItem()},setClipped:function(n){var l=this.getFirstChild();if(l)l.setClipMask(n)},_getBounds:function n(l,_){var N=this._getClipItem();return N?N._getCachedBounds(N._matrix.prepended(l),b.set({},_,{stroke:!1})):n.base.call(this,l,_)},_hitTestChildren:function n(l,_,N){var M=this._getClipItem();return(!M||M.contains(l))&&n.base.call(this,l,_,N,M)},_draw:function(n,l){var _=l.clip,N=!_&&this._getClipItem();if(l=l.extend({clipItem:N,clip:!1}),_)n.beginPath(),l.dontStart=l.dontFinish=!0;else if(N)N.draw(n,l.extend({clip:!0}));var M=this._children;for(var S=0,U=M.length;S<U;S++){var P=M[S];if(P!==N)P.draw(n,l)}}}),me=$e.extend({_class:"Layer",initialize:function n(){$e.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function n(){return this._parent?n.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Me=_e.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function n(l,_){this._initialize(l,_)},_equals:function(n){return this._type===n._type&&this._size.equals(n._size)&&b.equals(this._radius,n._radius)},copyContent:function(n){this.setType(n._type),this.setSize(n._size),this.setRadius(n._radius)},getType:function(){return this._type},setType:function(n){this._type=n},getShape:"#getType",setShape:"#setType",getSize:function(){var n=this._size;return new E(n.width,n.height,this,"setSize")},setSize:function(){var n=X.read(arguments);if(!this._size)this._size=n.clone();else if(!this._size.equals(n)){var l=this._type,_=n.width,N=n.height;if(l==="rectangle")this._radius.set(X.min(this._radius,n.divide(2).abs()));else if(l==="circle")_=N=(_+N)/2,this._radius=_/2;else if(l==="ellipse")this._radius._set(_/2,N/2);this._size._set(_,N),this._changed(9)}},getRadius:function(){var n=this._radius;return this._type==="circle"?n:new E(n.width,n.height,this,"setRadius")},setRadius:function(n){var l=this._type;if(l==="circle"){if(n===this._radius)return;var _=n*2;this._radius=n,this._size._set(_,_)}else if(n=X.read(arguments),!this._radius)this._radius=n.clone();else{if(this._radius.equals(n))return;if(this._radius.set(n),l==="rectangle"){var _=X.max(this._size,n.multiply(2));this._size.set(_)}else if(l==="ellipse")this._size._set(n.width*2,n.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(n){var l=new t[b.capitalize(this._type)]({center:new k,size:this._size,radius:this._radius,insert:!1});if(l.copyAttributes(this),L.settings.applyMatrix)l.setApplyMatrix(!0);if(n===f||n)l.insertAbove(this);return l},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(n,l,_,N){var M=this._style,S=M.hasFill(),U=M.hasStroke(),P=l.dontFinish||l.clip,j=!N;if(S||U||P){var J=this._type,ee=this._radius,H=J==="circle";if(!l.dontStart)n.beginPath();if(j&&H)n.arc(0,0,ee,0,Math.PI*2,!0);else{var G=H?ee:ee.width,oe=H?ee:ee.height,Q=this._size,le=Q.width,Re=Q.height;if(j&&J==="rectangle"&&G===0&&oe===0)n.rect(-le/2,-Re/2,le,Re);else{var A=le/2,ne=Re/2,re=0.44771525016920644,B=G*re,se=oe*re,Ne=[-A,-ne+oe,-A,-ne+se,-A+B,-ne,-A+G,-ne,A-G,-ne,A-B,-ne,A,-ne+se,A,-ne+oe,A,ne-oe,A,ne-se,A-B,ne,A-G,ne,-A+G,ne,-A+B,ne,-A,ne-se,-A,ne-oe];if(N)N.transform(Ne,Ne,32);if(n.moveTo(Ne[0],Ne[1]),n.bezierCurveTo(Ne[2],Ne[3],Ne[4],Ne[5],Ne[6],Ne[7]),A!==G)n.lineTo(Ne[8],Ne[9]);if(n.bezierCurveTo(Ne[10],Ne[11],Ne[12],Ne[13],Ne[14],Ne[15]),ne!==oe)n.lineTo(Ne[16],Ne[17]);if(n.bezierCurveTo(Ne[18],Ne[19],Ne[20],Ne[21],Ne[22],Ne[23]),A!==G)n.lineTo(Ne[24],Ne[25]);n.bezierCurveTo(Ne[26],Ne[27],Ne[28],Ne[29],Ne[30],Ne[31])}}n.closePath()}if(!P&&(S||U)){if(this._setStyles(n,l,_),S)n.fill(M.getFillRule()),n.shadowColor="rgba(0,0,0,0)";if(U)n.stroke()}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(n,l){var _=new z(this._size).setCenter(0,0),N=this._style,M=l.stroke&&N.hasStroke()&&N.getStrokeWidth();if(n)_=n._transformBounds(_);return M?_.expand(t._getStrokePadding(M,this._getStrokeMatrix(n,l))):_}},new function(){function n(_,N,M){var S=_._radius;if(!S.isZero()){var U=_._size.divide(2);for(var P=1;P<=4;P++){var j=new k(P>1&&P<4?-1:1,P>2?-1:1),J=j.multiply(U),ee=J.subtract(j.multiply(S)),H=new z(M?J.add(j.multiply(M)):J,ee);if(H.contains(N))return{point:ee,quadrant:P}}}}function l(_,N,M,S){var U=_.divide(N);return(!S||U.isInQuadrant(S))&&U.subtract(U.normalize()).multiply(N).divide(M).length<=1}return{_contains:function _(N){if(this._type==="rectangle"){var M=n(this,N);return M?N.subtract(M.point).divide(this._radius).getLength()<=1:_.base.call(this,N)}else return N.divide(this.size).getLength()<=0.5},_hitTestSelf:function _(N,M,S,U){var P=!1,j=this._style,J=M.stroke&&j.hasStroke(),ee=M.fill&&j.hasFill();if(J||ee){var H=this._type,G=this._radius,oe=J?j.getStrokeWidth()/2:0,Q=M._tolerancePadding.add(t._getStrokePadding(oe,!j.getStrokeScaling()&&U));if(H==="rectangle"){var le=Q.multiply(2),Re=n(this,N,le);if(Re)P=l(N.subtract(Re.point),G,Q,Re.quadrant);else{var A=new z(this._size).setCenter(0,0),ne=A.expand(le),re=A.expand(le.negate());P=ne._containsPoint(N)&&!re._containsPoint(N)}}else P=l(N,G,Q)}return P?new s(J?"stroke":"fill",this):_.base.apply(this,arguments)}}},{statics:new function(){function n(l,_,N,M,S){var U=b.create(Me.prototype);return U._type=l,U._size=N,U._radius=M,U._initialize(b.getNamed(S),_),U}return{Circle:function(){var l=arguments,_=k.readNamed(l,"center"),N=b.readNamed(l,"radius");return n("circle",_,new X(N*2),N,l)},Rectangle:function(){var l=arguments,_=z.readNamed(l,"rectangle"),N=X.min(X.readNamed(l,"radius"),_.getSize(!0).divide(2));return n("rectangle",_.getCenter(!0),_.getSize(!0),N,l)},Ellipse:function(){var l=arguments,_=Me._readEllipse(l),N=_.radius;return n("ellipse",_.center,N.multiply(2),N,l)},_readEllipse:function(l){var _,N;if(b.hasNamed(l,"radius"))_=k.readNamed(l,"center"),N=X.readNamed(l,"radius");else{var M=z.readNamed(l,"rectangle");_=M.getCenter(!0),N=M.getSize(!0).divide(2)}return{center:_,radius:N}}}}}),e=_e.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function n(l,_){if(!this._initialize(l,_!==f&&k.read(arguments))){var N,M=typeof l,S=M==="string"?c.getElementById(l):M==="object"?l:null;if(S&&S!==_e.NO_INSERT){if(S.getContext||S.naturalHeight!=null)N=S;else if(S){var U=X.read(arguments);if(!U.isZero())N=Qe.getCanvas(U)}}if(N)this.setImage(N);else this.setSource(l)}if(!this._size)this._size=new X,this._loaded=!1},_equals:function(n){return this.getSource()===n.getSource()},copyContent:function(n){var{_image:l,_canvas:_}=n;if(l)this._setImage(l);else if(_){var N=Qe.getCanvas(n._size);N.getContext("2d").drawImage(_,0,0),this._setImage(N)}this._crossOrigin=n._crossOrigin},getSize:function(){var n=this._size;return new E(n?n.width:0,n?n.height:0,this,"setSize")},setSize:function(n,l){var _=X.read(arguments);if(!_.equals(this._size))if(_.width>0&&_.height>0){var N=!l&&this.getElement();if(this._setImage(Qe.getCanvas(_)),N)this.getContext(!0).drawImage(N,0,0,_.width,_.height)}else{if(this._canvas)Qe.release(this._canvas);this._size=_.clone()}else if(l)this.clear()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(n){this.setSize(n,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(n){this.setSize(this.getWidth(),n)},getLoaded:function(){return this._loaded},isEmpty:function(){var n=this._size;return!n||n.width===0&&n.height===0},getResolution:function(){var n=this._matrix,l=new k(0,0).transform(n),_=new k(1,0).transform(n).subtract(l),N=new k(0,1).transform(n).subtract(l);return new X(72/_.getLength(),72/N.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(n){var l=this;function _(N){var M=l.getView(),S=N&&N.type||"load";if(M&&l.responds(S))L=M._scope,l.emit(S,new O(N))}if(this._setImage(n),this._loaded)setTimeout(_,0);else if(n)xe.add(n,{load:function(N){l._setImage(n),_(N)},error:_})},_setImage:function(n){if(this._canvas)Qe.release(this._canvas);if(n&&n.getContext)this._image=null,this._canvas=n,this._loaded=!0;else this._image=n,this._canvas=null,this._loaded=!!(n&&n.src&&n.complete);this._size=new X(n?n.naturalWidth||n.width:0,n?n.naturalHeight||n.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var n=Qe.getContext(this._size);try{if(this._image)n.drawImage(this._image,0,0);this._canvas=n.canvas}catch(l){Qe.release(n)}}return this._canvas},setCanvas:"#setImage",getContext:function(n){if(!this._context)this._context=this.getCanvas().getContext("2d");if(n)this._image=null,this._changed(1025);return this._context},setContext:function(n){this._context=n},getSource:function(){var n=this._image;return n&&n.src||this.toDataURL()},setSource:function(n){var l=new R.Image,_=this._crossOrigin;if(_)l.crossOrigin=_;if(n)l.src=n;this.setImage(l)},getCrossOrigin:function(){var n=this._image;return n&&n.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(n){this._crossOrigin=n;var l=this._image;if(l)l.crossOrigin=n},getSmoothing:function(){return this._smoothing},setSmoothing:function(n){this._smoothing=typeof n==="string"?n:n?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var n=z.read(arguments),l=Qe.getContext(n.getSize());return l.drawImage(this.getCanvas(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),l.canvas},getSubRaster:function(){var n=z.read(arguments),l=new e(_e.NO_INSERT);return l._setImage(this.getSubCanvas(n)),l.translate(n.getCenter().subtract(this.getSize().divide(2))),l._matrix.prepend(this._matrix),l.insertAbove(this),l},toDataURL:function(){var n=this._image,l=n&&n.src;if(/^data:/.test(l))return l;var _=this.getCanvas();return _?_.toDataURL.apply(_,arguments):null},drawImage:function(n){var l=k.read(arguments,1);this.getContext(!0).drawImage(n,l.x,l.y)},getAverageColor:function(n){var l,_;if(!n)l=this.getBounds();else if(n instanceof a)_=n,l=n.getBounds();else if(typeof n==="object"){if("width"in n)l=new z(n);else if("x"in n)l=new z(n.x-0.5,n.y-0.5,1,1)}if(!l)return null;var N=32,M=Math.min(l.width,N),S=Math.min(l.height,N),U=e._sampleContext;if(!U)U=e._sampleContext=Qe.getContext(new X(N));else U.clearRect(0,0,N+1,N+1);U.save();var P=new Y().scale(M/l.width,S/l.height).translate(-l.x,-l.y);if(P.applyToContext(U),_)_.draw(U,new b({clip:!0,matrices:[P]}));this._matrix.applyToContext(U);var j=this.getElement(),J=this._size;if(j)U.drawImage(j,-J.width/2,-J.height/2);U.restore();var ee=U.getImageData(0.5,0.5,Math.ceil(M),Math.ceil(S)).data,H=[0,0,0],G=0;for(var oe=0,Q=ee.length;oe<Q;oe+=4){var le=ee[oe+3];G+=le,le/=255,H[0]+=ee[oe]*le,H[1]+=ee[oe+1]*le,H[2]+=ee[oe+2]*le}for(var oe=0;oe<3;oe++)H[oe]/=G;return G?Ze.read(H):null},getPixel:function(){var n=k.read(arguments),l=this.getContext().getImageData(n.x,n.y,1,1).data;return new Ze("rgb",[l[0]/255,l[1]/255,l[2]/255],l[3]/255)},setPixel:function(){var n=arguments,l=k.read(n),_=Ze.read(n),N=_._convert("rgb"),M=_._alpha,S=this.getContext(!0),U=S.createImageData(1,1),P=U.data;P[0]=N[0]*255,P[1]=N[1]*255,P[2]=N[2]*255,P[3]=M!=null?M*255:255,S.putImageData(U,l.x,l.y)},clear:function(){var n=this._size;this.getContext(!0).clearRect(0,0,n.width+1,n.height+1)},createImageData:function(){var n=X.read(arguments);return this.getContext().createImageData(n.width,n.height)},getImageData:function(){var n=z.read(arguments);if(n.isEmpty())n=new z(this._size);return this.getContext().getImageData(n.x,n.y,n.width,n.height)},putImageData:function(n){var l=k.read(arguments,1);this.getContext(!0).putImageData(n,l.x,l.y)},setImageData:function(n){this.setSize(n),this.getContext(!0).putImageData(n,0,0)},_getBounds:function(n,l){var _=new z(this._size).setCenter(0,0);return n?n._transformBounds(_):_},_hitTestSelf:function(n){if(this._contains(n)){var l=this;return new s("pixel",l,{offset:n.add(l._size.divide(2)).round(),color:{get:function(){return l.getPixel(this.offset)}}})}},_draw:function(n,l,_){var N=this.getElement();if(N&&N.width>0&&N.height>0){n.globalAlpha=V.clamp(this._opacity,0,1),this._setStyles(n,l,_);var M=this._smoothing,S=M==="off";Ee.setPrefixed(n,S?"imageSmoothingEnabled":"imageSmoothingQuality",S?!1:M),n.drawImage(N,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),o=_e.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function n(l,_){if(!this._initialize(l,_!==f&&k.read(arguments,1)))this.setDefinition(l instanceof i?l:new i(l))},_equals:function(n){return this._definition===n._definition},copyContent:function(n){this.setDefinition(n._definition)},getDefinition:function(){return this._definition},setDefinition:function(n){this._definition=n,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(n,l){var _=this._definition._item;return _._getCachedBounds(_._matrix.prepended(n),l)},_hitTestSelf:function(n,l,_){var N=l.extend({all:!1}),M=this._definition._item._hitTest(n,N,_);if(M)M.item=this;return M},_draw:function(n,l){this._definition._item.draw(n,l)}}),i=b.extend({_class:"SymbolDefinition",initialize:function n(l,_){if(this._id=x.get(),this.project=L.project,l)this.setItem(l,_)},_serialize:function(n,l){return l.add(this,function(){return b.serialize([this._class,this._item],n,!1,l)})},_changed:function(n){if(n&8)_e._clearBoundsCache(this);if(n&1)this.project._changed(n)},getItem:function(){return this._item},setItem:function(n,l){if(n._symbol)n=n.clone();if(this._item)this._item._symbol=null;if(this._item=n,n.remove(),n.setSelected(!1),!l)n.setPosition(new k);n._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(n){return new o(this,n)},clone:function(){return new i(this._item.clone(!1))},equals:function(n){return n===this||n&&this._item.equals(n._item)||!1}}),s=b.extend({_class:"HitResult",initialize:function n(l,_,N){if(this.type=l,this.item=_,N)this.inject(N)},statics:{getOptions:function(n){var l=n&&b.read(n);return new b({type:null,tolerance:L.settings.hitTolerance,fill:!l,stroke:!l,segments:!l,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},l)}}}),m=b.extend({_class:"Segment",beans:!0,_selection:0,initialize:function n(l,_,N,M,S,U){var P=arguments.length,j,J,ee,H;if(P>0)if(l==null||typeof l==="object")if(P===1&&l&&"point"in l)j=l.point,J=l.handleIn,ee=l.handleOut,H=l.selection;else j=l,J=_,ee=N,H=M;else j=[l,_],J=N!==f?[N,M]:null,ee=S!==f?[S,U]:null;if(new h(j,this,"_point"),new h(J,this,"_handleIn"),new h(ee,this,"_handleOut"),H)this.setSelection(H)},_serialize:function(n,l){var _=this._point,N=this._selection,M=N||this.hasHandles()?[_,this._handleIn,this._handleOut]:_;if(N)M.push(N);return b.serialize(M,n,!0,l)},_changed:function(n){var l=this._path;if(!l)return;var _=l._curves,N=this._index,M;if(_){if((!n||n===this._point||n===this._handleIn)&&(M=N>0?_[N-1]:l._closed?_[_.length-1]:null))M._changed();if((!n||n===this._point||n===this._handleOut)&&(M=_[N]))M._changed()}l._changed(41)},getPoint:function(){return this._point},setPoint:function(){this._point.set(k.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(k.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(k.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var n=this._handleIn,l=this._handleOut;return!n.isZero()&&!l.isZero()&&n.isCollinear(l)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(n){var l=this._selection,_=this._path;if(this._selection=n=n||0,_&&n!==l)_._updateSelection(this,l,n),_._changed(257)},_changeSelection:function(n,l){var _=this._selection;this.setSelection(l?_|n:_&~n)},isSelected:function(){return!!(this._selection&7)},setSelected:function(n){this._changeSelection(7,n)},getIndex:function(){return this._index!==f?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var n=this._path,l=this._index;if(n){if(l>0&&!n._closed&&l===n._segments.length-1)l--;return n.getCurves()[l]||null}return null},getLocation:function(){var n=this.getCurve();return n?new p(n,this===n._segment1?0:1):null},getNext:function(){var n=this._path&&this._path._segments;return n&&(n[this._index+1]||this._path._closed&&n[0])||null},smooth:function(n,l,_){var N=n||{},M=N.type,S=N.factor,U=this.getPrevious(),P=this.getNext(),j=(U||this)._point,J=this._point,ee=(P||this)._point,H=j.getDistance(J),G=J.getDistance(ee);if(!M||M==="catmull-rom"){var oe=S===f?0.5:S,Q=Math.pow(H,oe),le=Q*Q,Re=Math.pow(G,oe),A=Re*Re;if(!l&&U){var ne=2*A+3*Re*Q+le,re=3*Re*(Re+Q);this.setHandleIn(re!==0?new k((A*j._x+ne*J._x-le*ee._x)/re-J._x,(A*j._y+ne*J._y-le*ee._y)/re-J._y):new k)}if(!_&&P){var ne=2*le+3*Q*Re+A,re=3*Q*(Q+Re);this.setHandleOut(re!==0?new k((le*ee._x+ne*J._x-A*j._x)/re-J._x,(le*ee._y+ne*J._y-A*j._y)/re-J._y):new k)}}else if(M==="geometric"){if(U&&P){var B=j.subtract(ee),se=S===f?0.4:S,Ne=se*H/(H+G);if(!l)this.setHandleIn(B.multiply(Ne));if(!_)this.setHandleOut(B.multiply(Ne-se))}}else throw new Error("Smoothing method \'"+M+"\' not supported.")},getPrevious:function(){var n=this._path&&this._path._segments;return n&&(n[this._index-1]||this._path._closed&&n[n.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var n=this._path;return n&&this._index===n._segments.length-1||!1},reverse:function(){var n=this._handleIn,l=this._handleOut,_=n.clone();n.set(l),l.set(_)},reversed:function(){return new m(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new m(this._point,this._handleIn,this._handleOut)},equals:function(n){return n===this||n&&this._class===n._class&&this._point.equals(n._point)&&this._handleIn.equals(n._handleIn)&&this._handleOut.equals(n._handleOut)||!1},toString:function(){var n=["point: "+this._point];if(!this._handleIn.isZero())n.push("handleIn: "+this._handleIn);if(!this._handleOut.isZero())n.push("handleOut: "+this._handleOut);return"{ "+n.join(", ")+" }"},transform:function(n){this._transformCoordinates(n,new Array(6),!0),this._changed()},interpolate:function(n,l,_){var N=1-_,M=_,S=n._point,U=l._point,P=n._handleIn,j=l._handleIn,J=l._handleOut,ee=n._handleOut;this._point._set(N*S._x+M*U._x,N*S._y+M*U._y,!0),this._handleIn._set(N*P._x+M*j._x,N*P._y+M*j._y,!0),this._handleOut._set(N*ee._x+M*J._x,N*ee._y+M*J._y,!0),this._changed()},_transformCoordinates:function(n,l,_){var N=this._point,M=!_||!this._handleIn.isZero()?this._handleIn:null,S=!_||!this._handleOut.isZero()?this._handleOut:null,U=N._x,P=N._y,j=2;if(l[0]=U,l[1]=P,M)l[j++]=M._x+U,l[j++]=M._y+P;if(S)l[j++]=S._x+U,l[j++]=S._y+P;if(n)if(n._transformCoordinates(l,l,j/2),U=l[0],P=l[1],_){if(N._x=U,N._y=P,j=2,M)M._x=l[j++]-U,M._y=l[j++]-P;if(S)S._x=l[j++]-U,S._y=l[j++]-P}else{if(!M)l[j++]=U,l[j++]=P;if(!S)l[j++]=U,l[j++]=P}return l}}),h=k.extend({initialize:function n(l,_,N){var M,S,U;if(!l)M=S=0;else if((M=l[0])!==f)S=l[1];else{var P=l;if((M=P.x)===f)P=k.read(arguments),M=P.x;S=P.y,U=P.selected}if(this._x=M,this._y=S,this._owner=_,_[N]=this,U)this.setSelected(!0)},_set:function(n,l){return this._x=n,this._y=l,this._owner._changed(this),this},getX:function(){return this._x},setX:function(n){this._x=n,this._owner._changed(this)},getY:function(){return this._y},setY:function(n){this._y=n,this._owner._changed(this)},isZero:function(){var n=V.isZero;return n(this._x)&&n(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(n){this._owner._changeSelection(this._getSelection(),n)},_getSelection:function(){var n=this._owner;return this===n._point?1:this===n._handleIn?2:this===n._handleOut?4:0}}),v=b.extend({_class:"Curve",beans:!0,initialize:function n(l,_,N,M,S,U,P,j){var J=arguments.length,ee,H,G,oe,Q,le;if(J===3)this._path=l,ee=_,H=N;else if(!J)ee=new m,H=new m;else if(J===1){if("segment1"in l)ee=new m(l.segment1),H=new m(l.segment2);else if("point1"in l)G=l.point1,Q=l.handle1,le=l.handle2,oe=l.point2;else if(Array.isArray(l))G=[l[0],l[1]],oe=[l[6],l[7]],Q=[l[2]-l[0],l[3]-l[1]],le=[l[4]-l[6],l[5]-l[7]]}else if(J===2)ee=new m(l),H=new m(_);else if(J===4)G=l,Q=_,le=N,oe=M;else if(J===8)G=[l,_],oe=[P,j],Q=[N-l,M-_],le=[S-P,U-j];this._segment1=ee||new m(G,null,Q),this._segment2=H||new m(oe,le,null)},_serialize:function(n,l){return b.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],n,!0,l)},_changed:function(){this._length=this._bounds=f},clone:function(){return new v(this._segment1,this._segment2)},toString:function(){var n=["point1: "+this._segment1._point];if(!this._segment1._handleOut.isZero())n.push("handle1: "+this._segment1._handleOut);if(!this._segment2._handleIn.isZero())n.push("handle2: "+this._segment2._handleIn);return n.push("point2: "+this._segment2._point),"{ "+n.join(", ")+" }"},classify:function(){return v.classify(this.getValues())},remove:function(){var n=!1;if(this._path){var l=this._segment2,_=l._handleOut;if(n=l.remove(),n)this._segment1._handleOut.set(_)}return n},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(k.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(k.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(k.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(k.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var n=this._path&&this._path._curves;return n&&(n[this._segment1._index+1]||this._path._closed&&n[0])||null},getPrevious:function(){var n=this._path&&this._path._curves;return n&&(n[this._segment1._index-1]||this._path._closed&&n[n.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var n=this._path;return n&&this._segment1._index===n._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(n){this.getPoint1().setSelected(n),this.getHandle1().setSelected(n),this.getHandle2().setSelected(n),this.getPoint2().setSelected(n)},getValues:function(n){return v.getValues(this._segment1,this._segment2,n)},getPoints:function(){var n=this.getValues(),l=[];for(var _=0;_<8;_+=2)l.push(new k(n[_],n[_+1]));return l}},{getLength:function(){if(this._length==null)this._length=v.getLength(this.getValues(),0,1);return this._length},getArea:function(){return v.getArea(this.getValues())},getLine:function(){return new C(this._segment1._point,this._segment2._point)},getPart:function(n,l){return new v(v.getPart(this.getValues(),n,l))},getPartLength:function(n,l){return v.getLength(this.getValues(),n,l)},divideAt:function(n){return this.divideAtTime(n&&n.curve===this?n.time:this.getTimeAt(n))},divideAtTime:function(n,l){var _=0.00000001,N=1-_,M=null;if(n>=_&&n<=N){var S=v.subdivide(this.getValues(),n),U=S[0],P=S[1],j=l||this.hasHandles(),J=this._segment1,ee=this._segment2,H=this._path;if(j)J._handleOut._set(U[2]-U[0],U[3]-U[1]),ee._handleIn._set(P[4]-P[6],P[5]-P[7]);var G=U[6],oe=U[7],Q=new m(new k(G,oe),j&&new k(U[4]-G,U[5]-oe),j&&new k(P[2]-G,P[3]-oe));if(H)H.insert(J._index+1,Q),M=this.getNext();else this._segment2=Q,this._changed(),M=new v(Q,ee)}return M},splitAt:function(n){var l=this._path;return l?l.splitAt(n):null},splitAtTime:function(n){return this.splitAt(this.getLocationAtTime(n))},divide:function(n,l){return this.divideAtTime(n===f?0.5:l?n:this.getTimeAt(n))},split:function(n,l){return this.splitAtTime(n===f?0.5:l?n:this.getTimeAt(n))},reversed:function(){return new v(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(n,l,_,N){var{_point:M,_handleOut:S}=n,U=l._handleIn,P=l._point,j=M.x,J=M.y,ee=P.x,H=P.y,G=N?[j,J,j,J,ee,H,ee,H]:[j,J,j+S._x,J+S._y,ee+U._x,H+U._y,ee,H];if(_)_._transformCoordinates(G,G,4);return G},subdivide:function(n,l){var _=n[0],N=n[1],M=n[2],S=n[3],U=n[4],P=n[5],j=n[6],J=n[7];if(l===f)l=0.5;var ee=1-l,H=ee*_+l*M,G=ee*N+l*S,oe=ee*M+l*U,Q=ee*S+l*P,le=ee*U+l*j,Re=ee*P+l*J,A=ee*H+l*oe,ne=ee*G+l*Q,re=ee*oe+l*le,B=ee*Q+l*Re,se=ee*A+l*re,Ne=ee*ne+l*B;return[[_,N,H,G,A,ne,se,Ne],[se,Ne,re,B,le,Re,j,J]]},getMonoCurves:function(n,l){var _=[],N=l?0:1,M=n[N+0],S=n[N+2],U=n[N+4],P=n[N+6];if(M>=S===S>=U&&S>=U===U>=P||v.isStraight(n))_.push(n);else{var j=3*(S-U)-M+P,J=2*(M+U)-4*S,ee=S-M,H=0.00000001,G=1-H,oe=[],Q=V.solveQuadratic(j,J,ee,oe,H,G);if(!Q)_.push(n);else{oe.sort();var le=oe[0],Re=v.subdivide(n,le);if(_.push(Re[0]),Q>1)le=(oe[1]-le)/(1-le),Re=v.subdivide(Re[1],le),_.push(Re[0]);_.push(Re[1])}}return _},solveCubic:function(n,l,_,N,M,S){var U=n[l],P=n[l+2],j=n[l+4],J=n[l+6],ee=0;if(!(U<_&&J<_&&P<_&&j<_||U>_&&J>_&&P>_&&j>_)){var H=3*(P-U),G=3*(j-P)-H,oe=J-U-H-G;ee=V.solveCubic(oe,G,H,U-_,N,M,S)}return ee},getTimeOf:function(n,l){var _=new k(n[0],n[1]),N=new k(n[6],n[7]),M=0.000000000001,S=0.0000001,U=l.isClose(_,M)?0:l.isClose(N,M)?1:null;if(U===null){var P=[l.x,l.y],j=[];for(var J=0;J<2;J++){var ee=v.solveCubic(n,J,P[J],j,0,1);for(var H=0;H<ee;H++){var G=j[H];if(l.isClose(v.getPoint(n,G),S))return G}}}return l.isClose(_,S)?0:l.isClose(N,S)?1:null},getNearestTime:function(n,l){if(v.isStraight(n)){var _=n[0],N=n[1],M=n[6],S=n[7],U=M-_,P=S-N,j=U*U+P*P;if(j===0)return 0;var J=((l.x-_)*U+(l.y-N)*P)/j;return J<0.000000000001?0:J>0.999999999999?1:v.getTimeOf(n,new k(_+J*U,N+J*P))}var ee=100,H=1/0,G=0;function oe(Re){if(Re>=0&&Re<=1){var A=l.getDistance(v.getPoint(n,Re),!0);if(A<H)return H=A,G=Re,!0}}for(var Q=0;Q<=ee;Q++)oe(Q/ee);var le=1/(ee*2);while(le>0.00000001)if(!oe(G-le)&&!oe(G+le))le/=2;return G},getPart:function(n,l,_){var N=l>_;if(N){var M=l;l=_,_=M}if(l>0)n=v.subdivide(n,l)[1];if(_<1)n=v.subdivide(n,(_-l)/(1-l))[0];return N?[n[6],n[7],n[4],n[5],n[2],n[3],n[0],n[1]]:n},isFlatEnough:function(n,l){var _=n[0],N=n[1],M=n[2],S=n[3],U=n[4],P=n[5],j=n[6],J=n[7],ee=3*M-2*_-j,H=3*S-2*N-J,G=3*U-2*j-_,oe=3*P-2*J-N;return Math.max(ee*ee,G*G)+Math.max(H*H,oe*oe)<=16*l*l},getArea:function(n){var l=n[0],_=n[1],N=n[2],M=n[3],S=n[4],U=n[5],P=n[6],j=n[7];return 3*((j-_)*(N+S)-(P-l)*(M+U)+M*(l-S)-N*(_-U)+j*(S+l/3)-P*(U+_/3))/20},getBounds:function(n){var l=n.slice(0,2),_=l.slice(),N=[0,0];for(var M=0;M<2;M++)v._addBounds(n[M],n[M+2],n[M+4],n[M+6],M,0,l,_,N);return new z(l[0],l[1],_[0]-l[0],_[1]-l[1])},_addBounds:function(n,l,_,N,M,S,U,P,j){function J(se,Ne){var pe=se-Ne,de=se+Ne;if(pe<U[M])U[M]=pe;if(de>P[M])P[M]=de}S/=2;var ee=U[M]+S,H=P[M]-S;if(n<ee||l<ee||_<ee||N<ee||n>H||l>H||_>H||N>H)if(l<n!=l<N&&_<n!=_<N)J(n,0),J(N,0);else{var G=3*(l-_)-n+N,oe=2*(n+_)-4*l,Q=l-n,le=V.solveQuadratic(G,oe,Q,j),Re=0.00000001,A=1-Re;J(N,0);for(var ne=0;ne<le;ne++){var re=j[ne],B=1-re;if(Re<=re&&re<=A)J(B*B*B*n+3*B*B*re*l+3*B*re*re*_+re*re*re*N,S)}}}}},b.each(["getBounds","getStrokeBounds","getHandleBounds"],function(n){this[n]=function(){if(!this._bounds)this._bounds={};var l=this._bounds[n];if(!l)l=this._bounds[n]=t[n]([this._segment1,this._segment2],!1,this._path);return l.clone()}},{}),b.each({isStraight:function(n,l,_,N){if(l.isZero()&&_.isZero())return!0;else{var M=N.subtract(n);if(M.isZero())return!1;else if(M.isCollinear(l)&&M.isCollinear(_)){var S=new C(n,N),U=0.0000001;if(S.getDistance(n.add(l))<U&&S.getDistance(N.add(_))<U){var P=M.dot(M),j=M.dot(l)/P,J=M.dot(_)/P;return j>=0&&j<=1&&J<=0&&J>=-1}}}return!1},isLinear:function(n,l,_,N){var M=N.subtract(n).divide(3);return l.equals(M)&&_.negate().equals(M)}},function(n,l){this[l]=function(_){var N=this._segment1,M=this._segment2;return n(N._point,N._handleOut,M._handleIn,M._point,_)},this.statics[l]=function(_,N){var M=_[0],S=_[1],U=_[6],P=_[7];return n(new k(M,S),new k(_[2]-M,_[3]-S),new k(_[4]-U,_[5]-P),new k(U,P),N)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(n){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(n||0)},isCollinear:function(n){return n&&this.isStraight()&&n.isStraight()&&this.getLine().isCollinear(n.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).y)<0.00000001},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).x)<0.00000001}}),{beans:!1,getLocationAt:function(n,l){return this.getLocationAtTime(l?n:this.getTimeAt(n))},getLocationAtTime:function(n){return n!=null&&n>=0&&n<=1?new p(this,n):null},getTimeAt:function(n,l){return v.getTimeAt(this.getValues(),n,l)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var n=k.read(arguments);return n.isZero()?[]:v.getTimesWithTangent(this.getValues(),n)},getOffsetAtTime:function(n){return this.getPartLength(0,n)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(k.read(arguments)))},getOffsetOf:function(){var n=this.getLocationOf.apply(this,arguments);return n?n.getOffset():null},getTimeOf:function(){return v.getTimeOf(this.getValues(),k.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var n=k.read(arguments),l=this.getValues(),_=v.getNearestTime(l,n),N=v.getPoint(l,_);return new p(this,_,N,null,n.getDistance(N))},getNearestPoint:function(){var n=this.getNearestLocation.apply(this,arguments);return n?n.getPoint():n}},new function(){var n=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return b.each(n,function(l){this[l+"At"]=function(_,N){var M=this.getValues();return v[l](M,N?_:v.getTimeAt(M,_))},this[l+"AtTime"]=function(_){return v[l](this.getValues(),_)}},{statics:{_evaluateMethods:n}})},new function(){function n(N){var M=N[0],S=N[1],U=N[2],P=N[3],j=N[4],J=N[5],ee=N[6],H=N[7],G=9*(U-j)+3*(ee-M),oe=6*(M+j)-12*U,Q=3*(U-M),le=9*(P-J)+3*(H-S),Re=6*(S+J)-12*P,A=3*(P-S);return function(ne){var re=(G*ne+oe)*ne+Q,B=(le*ne+Re)*ne+A;return Math.sqrt(re*re+B*B)}}function l(N,M){return Math.max(2,Math.min(16,Math.ceil(Math.abs(M-N)*32)))}function _(N,M,S,U){if(M==null||M<0||M>1)return null;var P=N[0],j=N[1],J=N[2],ee=N[3],H=N[4],G=N[5],oe=N[6],Q=N[7],le=V.isZero;if(le(J-P)&&le(ee-j))J=P,ee=j;if(le(H-oe)&&le(G-Q))H=oe,G=Q;var Re=3*(J-P),A=3*(H-J)-Re,ne=oe-P-Re-A,re=3*(ee-j),B=3*(G-ee)-re,se=Q-j-re-B,Ne,pe;if(S===0)Ne=M===0?P:M===1?oe:((ne*M+A)*M+Re)*M+P,pe=M===0?j:M===1?Q:((se*M+B)*M+re)*M+j;else{var de=0.00000001,Se=1-de;if(M<de)Ne=Re,pe=re;else if(M>Se)Ne=3*(oe-H),pe=3*(Q-G);else Ne=(3*ne*M+2*A)*M+Re,pe=(3*se*M+2*B)*M+re;if(U){if(Ne===0&&pe===0&&(M<de||M>Se))Ne=H-J,pe=G-ee;var ve=Math.sqrt(Ne*Ne+pe*pe);if(ve)Ne/=ve,pe/=ve}if(S===3){var H=6*ne*M+2*A,G=6*se*M+2*B,ye=Math.pow(Ne*Ne+pe*pe,1.5);Ne=ye!==0?(Ne*G-pe*H)/ye:0,pe=0}}return S===2?new k(pe,-Ne):new k(Ne,pe)}return{statics:{classify:function(N){var M=N[0],S=N[1],U=N[2],P=N[3],j=N[4],J=N[5],ee=N[6],H=N[7],G=M*(H-J)+S*(j-ee)+ee*J-H*j,oe=U*(S-H)+P*(ee-M)+M*H-S*ee,Q=j*(P-S)+J*(M-U)+U*S-P*M,le=3*Q,Re=le-oe,A=Re-oe+G,ne=Math.sqrt(A*A+Re*Re+le*le),re=ne!==0?1/ne:0,B=V.isZero,se="serpentine";A*=re,Re*=re,le*=re;function Ne(ve,ye,Ue){var Te=ye!==f,ke=Te&&ye>0&&ye<1,Xe=Te&&Ue>0&&Ue<1;if(Te&&(!(ke||Xe)||ve==="loop"&&!(ke&&Xe)))ve="arch",ke=Xe=!1;return{type:ve,roots:ke||Xe?ke&&Xe?ye<Ue?[ye,Ue]:[Ue,ye]:[ke?ye:Ue]:null}}if(B(A))return B(Re)?Ne(B(le)?"line":"quadratic"):Ne(se,le/(3*Re));var pe=3*Re*Re-4*A*le;if(B(pe))return Ne("cusp",Re/(2*A));var de=pe>0?Math.sqrt(pe/3):Math.sqrt(-pe),Se=2*A;return Ne(pe>0?se:"loop",(Re+de)/Se,(Re-de)/Se)},getLength:function(N,M,S,U){if(M===f)M=0;if(S===f)S=1;if(v.isStraight(N)){var P=N;if(S<1)P=v.subdivide(P,S)[0],M/=S;if(M>0)P=v.subdivide(P,M)[1];var j=P[6]-P[0],J=P[7]-P[1];return Math.sqrt(j*j+J*J)}return V.integrate(U||n(N),M,S,l(M,S))},getTimeAt:function(N,M,S){if(S===f)S=M<0?1:0;if(M===0)return S;var U=Math.abs,P=0.000000000001,j=M>0,J=j?S:0,ee=j?1:S,H=n(N),G=v.getLength(N,J,ee,H),oe=U(M)-G;if(U(oe)<P)return j?ee:J;else if(oe>P)return null;var Q=M/G,le=0;function Re(A){return le+=V.integrate(H,S,A,l(S,A)),S=A,le-M}return V.findRoot(Re,H,S+Q,J,ee,32,0.000000000001)},getPoint:function(N,M){return _(N,M,0,!1)},getTangent:function(N,M){return _(N,M,1,!0)},getWeightedTangent:function(N,M){return _(N,M,1,!1)},getNormal:function(N,M){return _(N,M,2,!0)},getWeightedNormal:function(N,M){return _(N,M,2,!1)},getCurvature:function(N,M){return _(N,M,3,!1).x},getPeaks:function(N){var M=N[0],S=N[1],U=N[2],P=N[3],j=N[4],J=N[5],ee=N[6],H=N[7],G=-M+3*U-3*j+ee,oe=3*M-6*U+3*j,Q=-3*M+3*U,le=-S+3*P-3*J+H,Re=3*S-6*P+3*J,A=-3*S+3*P,ne=0.00000001,re=1-ne,B=[];return V.solveCubic(9*(G*G+le*le),9*(G*oe+Re*le),2*(oe*oe+Re*Re)+3*(Q*G+A*le),Q*oe+Re*A,B,ne,re),B.sort()}}}},new function(){function n(oe,Q,le,Re,A,ne,re){var B=!re&&le.getPrevious()===A,se=!re&&le!==A&&le.getNext()===A,Ne=0.00000001,pe=1-Ne;if(Re!==null&&Re>=(B?Ne:0)&&Re<=(se?pe:1)){if(ne!==null&&ne>=(se?Ne:0)&&ne<=(B?pe:1)){var de=new p(le,Re,null,re),Se=new p(A,ne,null,re);if(de._intersection=Se,Se._intersection=de,!Q||Q(de))p.insert(oe,de,!0)}}}function l(oe,Q,le,Re,A,ne,re,B,se,Ne,pe,de,Se){if(++se>=4096||++B>=40)return se;var ve=0.000000001,ye=Q[0],Ue=Q[1],Te=Q[6],ke=Q[7],Xe=C.getSignedDistance,Le=Xe(ye,Ue,Te,ke,Q[2],Q[3]),we=Xe(ye,Ue,Te,ke,Q[4],Q[5]),Ie=Le*we>0?0.75:0.4444444444444444,Ke=Ie*Math.min(0,Le,we),Ge=Ie*Math.max(0,Le,we),Ce=Xe(ye,Ue,Te,ke,oe[0],oe[1]),Ye=Xe(ye,Ue,Te,ke,oe[2],oe[3]),Ae=Xe(ye,Ue,Te,ke,oe[4],oe[5]),He=Xe(ye,Ue,Te,ke,oe[6],oe[7]),ea=_(Ce,Ye,Ae,He),Be=ea[0],ra=ea[1],aa,oa;if(Le===0&&we===0&&Ce===0&&Ye===0&&Ae===0&&He===0||(aa=N(Be,ra,Ke,Ge))==null||(oa=N(Be.reverse(),ra.reverse(),Ke,Ge))==null)return se;var sa=Ne+(pe-Ne)*aa,na=Ne+(pe-Ne)*oa;if(Math.max(Se-de,na-sa)<ve){var ua=(sa+na)/2,ma=(de+Se)/2;n(A,ne,re?Re:le,re?ma:ua,re?le:Re,re?ua:ma)}else{oe=v.getPart(oe,aa,oa);var _a=Se-de;if(oa-aa>0.8)if(na-sa>_a){var ia=v.subdivide(oe,0.5),ua=(sa+na)/2;se=l(Q,ia[0],Re,le,A,ne,!re,B,se,de,Se,sa,ua),se=l(Q,ia[1],Re,le,A,ne,!re,B,se,de,Se,ua,na)}else{var ia=v.subdivide(Q,0.5),ma=(de+Se)/2;se=l(ia[0],oe,Re,le,A,ne,!re,B,se,de,ma,sa,na),se=l(ia[1],oe,Re,le,A,ne,!re,B,se,ma,Se,sa,na)}else if(_a===0||_a>=ve)se=l(Q,oe,Re,le,A,ne,!re,B,se,de,Se,sa,na);else se=l(oe,Q,le,Re,A,ne,re,B,se,sa,na,de,Se)}return se}function _(oe,Q,le,Re){var A=[0,oe],ne=[0.3333333333333333,Q],re=[0.6666666666666666,le],B=[1,Re],se=Q-(2*oe+Re)/3,Ne=le-(oe+2*Re)/3,pe;if(se*Ne<0)pe=[[A,ne,B],[A,re,B]];else{var de=se/Ne;pe=[de>=2?[A,ne,B]:de<=0.5?[A,re,B]:[A,ne,re,B],[A,B]]}return(se||Ne)<0?pe.reverse():pe}function N(oe,Q,le,Re){if(oe[0][1]<le)return M(oe,!0,le);else if(Q[0][1]>Re)return M(Q,!1,Re);else return oe[0][0]}function M(oe,Q,le){var Re=oe[0][0],A=oe[0][1];for(var ne=1,re=oe.length;ne<re;ne++){var B=oe[ne][0],se=oe[ne][1];if(Q?se>=le:se<=le)return se===le?B:Re+(le-A)*(B-Re)/(se-A);Re=B,A=se}return null}function S(oe,Q,le,Re,A){var ne=V.isZero;if(ne(Re)&&ne(A)){var re=v.getTimeOf(oe,new k(Q,le));return re===null?[]:[re]}var B=Math.atan2(-A,Re),se=Math.sin(B),Ne=Math.cos(B),pe=[],de=[];for(var Se=0;Se<8;Se+=2){var ve=oe[Se]-Q,ye=oe[Se+1]-le;pe.push(ve*Ne-ye*se,ve*se+ye*Ne)}return v.solveCubic(pe,1,0,de,0,1),de}function U(oe,Q,le,Re,A,ne,re){var B=Q[0],se=Q[1],Ne=Q[6],pe=Q[7],de=S(oe,B,se,Ne-B,pe-se);for(var Se=0,ve=de.length;Se<ve;Se++){var ye=de[Se],Ue=v.getPoint(oe,ye),Te=v.getTimeOf(Q,Ue);if(Te!==null)n(A,ne,re?Re:le,re?Te:ye,re?le:Re,re?ye:Te)}}function P(oe,Q,le,Re,A,ne){var re=C.intersect(oe[0],oe[1],oe[6],oe[7],Q[0],Q[1],Q[6],Q[7]);if(re)n(A,ne,le,v.getTimeOf(oe,re),Re,v.getTimeOf(Q,re))}function j(oe,Q,le,Re,A,ne){var re=0.000000000001,B=Math.min,se=Math.max;if(se(oe[0],oe[2],oe[4],oe[6])+re>B(Q[0],Q[2],Q[4],Q[6])&&B(oe[0],oe[2],oe[4],oe[6])-re<se(Q[0],Q[2],Q[4],Q[6])&&se(oe[1],oe[3],oe[5],oe[7])+re>B(Q[1],Q[3],Q[5],Q[7])&&B(oe[1],oe[3],oe[5],oe[7])-re<se(Q[1],Q[3],Q[5],Q[7])){var Ne=H(oe,Q);if(Ne)for(var pe=0;pe<2;pe++){var de=Ne[pe];n(A,ne,le,de[0],Re,de[1],!0)}else{var Se=v.isStraight(oe),ve=v.isStraight(Q),ye=Se&&ve,Ue=Se&&!ve,Te=A.length;if((ye?P:Se||ve?U:l)(Ue?Q:oe,Ue?oe:Q,Ue?Re:le,Ue?le:Re,A,ne,Ue,0,0,0,1,0,1),!ye||A.length===Te)for(var pe=0;pe<4;pe++){var ke=pe>>1,Xe=pe&1,Le=ke*6,we=Xe*6,Ie=new k(oe[Le],oe[Le+1]),Ke=new k(Q[we],Q[we+1]);if(Ie.isClose(Ke,re))n(A,ne,le,ke,Re,Xe)}}}return A}function J(oe,Q,le,Re){var A=v.classify(oe);if(A.type==="loop"){var ne=A.roots;n(le,Re,Q,ne[0],Q,ne[1])}return le}function ee(oe,Q,le,Re,A,ne){var re=0.0000001,B=!Q;if(B)Q=oe;var se=oe.length,Ne=Q.length,pe=new Array(se),de=B?pe:new Array(Ne),Se=[];for(var ve=0;ve<se;ve++)pe[ve]=oe[ve].getValues(Re);if(!B)for(var ve=0;ve<Ne;ve++)de[ve]=Q[ve].getValues(A);var ye=Z.findCurveBoundsCollisions(pe,de,re);for(var Ue=0;Ue<se;Ue++){var Te=oe[Ue],ke=pe[Ue];if(B)J(ke,Te,Se,le);var Xe=ye[Ue];if(Xe)for(var Le=0;Le<Xe.length;Le++){if(ne&&Se.length)return Se;var we=Xe[Le];if(!B||we>Ue){var Ie=Q[we],Ke=de[we];j(ke,Ke,Te,Ie,Se,le)}}}return Se}function H(oe,Q){function le(He){var ea=He[6]-He[0],Be=He[7]-He[1];return ea*ea+Be*Be}var Re=Math.abs,A=C.getDistance,ne=0.00000001,re=0.0000001,B=v.isStraight(oe),se=v.isStraight(Q),Ne=B&&se,pe=le(oe)<le(Q),de=pe?Q:oe,Se=pe?oe:Q,ve=de[0],ye=de[1],Ue=de[6]-ve,Te=de[7]-ye;if(A(ve,ye,Ue,Te,Se[0],Se[1],!0)<re&&A(ve,ye,Ue,Te,Se[6],Se[7],!0)<re){if(!Ne&&A(ve,ye,Ue,Te,de[2],de[3],!0)<re&&A(ve,ye,Ue,Te,de[4],de[5],!0)<re&&A(ve,ye,Ue,Te,Se[2],Se[3],!0)<re&&A(ve,ye,Ue,Te,Se[4],Se[5],!0)<re)B=se=Ne=!0}else if(Ne)return null;if(B^se)return null;var ke=[oe,Q],Xe=[];for(var Le=0;Le<4&&Xe.length<2;Le++){var we=Le&1,Ie=we^1,Ke=Le>>1,Ge=v.getTimeOf(ke[we],new k(ke[Ie][Ke?6:0],ke[Ie][Ke?7:1]));if(Ge!=null){var Ce=we?[Ke,Ge]:[Ge,Ke];if(!Xe.length||Re(Ce[0]-Xe[0][0])>ne&&Re(Ce[1]-Xe[0][1])>ne)Xe.push(Ce)}if(Le>2&&!Xe.length)break}if(Xe.length!==2)Xe=null;else if(!Ne){var Ye=v.getPart(oe,Xe[0][0],Xe[1][0]),Ae=v.getPart(Q,Xe[0][1],Xe[1][1]);if(Re(Ae[2]-Ye[2])>re||Re(Ae[3]-Ye[3])>re||Re(Ae[4]-Ye[4])>re||Re(Ae[5]-Ye[5])>re)Xe=null}return Xe}function G(oe,Q){var le=oe[0],Re=oe[1],A=oe[2],ne=oe[3],re=oe[4],B=oe[5],se=oe[6],Ne=oe[7],pe=Q.normalize(),de=pe.x,Se=pe.y,ve=3*se-9*re+9*A-3*le,ye=3*Ne-9*B+9*ne-3*Re,Ue=6*re-12*A+6*le,Te=6*B-12*ne+6*Re,ke=3*A-3*le,Xe=3*ne-3*Re,Le=2*ve*Se-2*ye*de,we=[];if(Math.abs(Le)<V.CURVETIME_EPSILON){var Ie=ve*Xe-ye*ke,Le=ve*Te-ye*Ue;if(Le!=0){var Ke=-Ie/Le;if(Ke>=0&&Ke<=1)we.push(Ke)}}else{var Ge=(Ue*Ue-4*ve*ke)*Se*Se+(-2*Ue*Te+4*ye*ke+4*ve*Xe)*de*Se+(Te*Te-4*ye*Xe)*de*de,Ce=Ue*Se-Te*de;if(Ge>=0&&Le!=0){var Ye=Math.sqrt(Ge),Ae=-(Ce+Ye)/Le,He=(-Ce+Ye)/Le;if(Ae>=0&&Ae<=1)we.push(Ae);if(He>=0&&He<=1)we.push(He)}}return we}return{getIntersections:function(oe){var Q=this.getValues(),le=oe&&oe!==this&&oe.getValues();return le?j(Q,le,this,oe,[]):J(Q,this,[])},statics:{getOverlaps:H,getIntersections:ee,getCurveLineIntersections:S,getTimesWithTangent:G}}}),p=b.extend({_class:"CurveLocation",initialize:function n(l,_,N,M,S){if(_>=0.99999999){var U=l.getNext();if(U)_=0,l=U}this._setCurve(l),this._time=_,this._point=N||l.getPointAtTime(_),this._overlap=M,this._distance=S,this._intersection=this._next=this._previous=null},_setPath:function(n){this._path=n,this._version=n?n._version:0},_setCurve:function(n){this._setPath(n._path),this._curve=n,this._segment=null,this._segment1=n._segment1,this._segment2=n._segment2},_setSegment:function(n){var l=n.getCurve();if(l)this._setCurve(l);else this._setPath(n._path),this._segment1=n,this._segment2=null;this._segment=n,this._time=n===this._segment1?0:1,this._point=n._point.clone()},getSegment:function(){var n=this._segment;if(!n){var l=this.getCurve(),_=this.getTime();if(_===0)n=l._segment1;else if(_===1)n=l._segment2;else if(_!=null)n=l.getPartLength(0,_)<l.getPartLength(_,1)?l._segment1:l._segment2;this._segment=n}return n},getCurve:function(){var n=this._path,l=this;if(n&&n._version!==this._version)this._time=this._offset=this._curveOffset=this._curve=null;function _(N){var M=N&&N.getCurve();if(M&&(l._time=M.getTimeOf(l._point))!=null)return l._setCurve(M),M}return this._curve||_(this._segment)||_(this._segment1)||_(this._segment2.getPrevious())},getPath:function(){var n=this.getCurve();return n&&n._path},getIndex:function(){var n=this.getCurve();return n&&n.getIndex()},getTime:function(){var n=this.getCurve(),l=this._time;return n&&l==null?this._time=n.getTimeOf(this._point):l},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var n=this._offset;if(n==null){n=0;var l=this.getPath(),_=this.getIndex();if(l&&_!=null){var N=l.getCurves();for(var M=0;M<_;M++)n+=N[M].getLength()}this._offset=n+=this.getCurveOffset()}return n},getCurveOffset:function(){var n=this._curveOffset;if(n==null){var l=this.getCurve(),_=this.getTime();this._curveOffset=n=_!=null&&l&&l.getPartLength(0,_)}return n},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var n=this.getCurve(),l=n&&n.divideAtTime(this.getTime());if(l)this._setSegment(l._segment1);return l},split:function(){var n=this.getCurve(),l=n._path,_=n&&n.splitAtTime(this.getTime());if(_)this._setSegment(l.getLastSegment());return _},equals:function(n,l){var _=this===n;if(!_&&n instanceof p){var N=this.getCurve(),M=n.getCurve(),S=N._path,U=M._path;if(S===U){var P=Math.abs,j=0.0000001,J=P(this.getOffset()-n.getOffset()),ee=!l&&this._intersection,H=!l&&n._intersection;_=(J<j||S&&P(S.getLength()-J)<j)&&(!ee&&!H||ee&&H&&ee.equals(H,!0))}}return _},toString:function(){var n=[],l=this.getPoint(),_=$.instance;if(l)n.push("point: "+l);var N=this.getIndex();if(N!=null)n.push("index: "+N);var M=this.getTime();if(M!=null)n.push("time: "+_.number(M));if(this._distance!=null)n.push("distance: "+_.number(this._distance));return"{ "+n.join(", ")+" }"},isTouching:function(){var n=this._intersection;if(n&&this.getTangent().isCollinear(n.getTangent())){var l=this.getCurve(),_=n.getCurve();return!(l.isStraight()&&_.isStraight()&&l.getLine().intersect(_.getLine()))}return!1},isCrossing:function(){var n=this._intersection;if(!n)return!1;var l=this.getTime(),_=n.getTime(),N=0.00000001,M=1-N,S=l>=N&&l<=M,U=_>=N&&_<=M;if(S&&U)return!this.isTouching();var P=this.getCurve(),j=P&&l<N?P.getPrevious():P,J=n.getCurve(),ee=J&&_<N?J.getPrevious():J;if(l>M)P=P.getNext();if(_>M)J=J.getNext();if(!j||!P||!ee||!J)return!1;var H=[];function G(de,Se){var ve=de.getValues(),ye=v.classify(ve).roots||v.getPeaks(ve),Ue=ye.length,Te=v.getLength(ve,Se&&Ue?ye[Ue-1]:0,!Se&&Ue?ye[0]:1);H.push(Ue?Te:Te/32)}function oe(de,Se,ve){return Se<ve?de>Se&&de<ve:de>Se||de<ve}if(!S)G(j,!0),G(P,!1);if(!U)G(ee,!0),G(J,!1);var Q=this.getPoint(),le=Math.min.apply(Math,H),Re=S?P.getTangentAtTime(l):P.getPointAt(le).subtract(Q),A=S?Re.negate():j.getPointAt(-le).subtract(Q),ne=U?J.getTangentAtTime(_):J.getPointAt(le).subtract(Q),re=U?ne.negate():ee.getPointAt(-le).subtract(Q),B=A.getAngle(),se=Re.getAngle(),Ne=re.getAngle(),pe=ne.getAngle();return!!(S?oe(B,Ne,pe)^oe(se,Ne,pe)&&oe(B,pe,Ne)^oe(se,pe,Ne):oe(Ne,B,se)^oe(pe,B,se)&&oe(Ne,se,B)^oe(pe,se,B))},hasOverlap:function(){return!!this._overlap}},b.each(v._evaluateMethods,function(n){var l=n+"At";this[n]=function(){var _=this.getCurve(),N=this.getTime();return N!=null&&_&&_[l](N,!0)}},{preserve:!0}),new function(){function n(l,_,N){var M=l.length,S=0,U=M-1;function P(Q,le){for(var Re=Q+le;Re>=-1&&Re<=M;Re+=le){var A=l[(Re%M+M)%M];if(!_.getPoint().isClose(A.getPoint(),0.0000001))break;if(_.equals(A))return A}return null}while(S<=U){var j=S+U>>>1,J=l[j],ee;if(N&&(ee=_.equals(J)?J:P(j,-1)||P(j,1))){if(_._overlap)ee._overlap=ee._intersection._overlap=!0;return ee}var H=_.getPath(),G=J.getPath(),oe=H!==G?H._id-G._id:_.getIndex()+_.getTime()-(J.getIndex()+J.getTime());if(oe<0)U=j-1;else S=j+1}return l.splice(S,0,_),_}return{statics:{insert:n,expand:function(l){var _=l.slice();for(var N=l.length-1;N>=0;N--)n(_,l[N]._intersection,!1);return _}}}}),a=_e.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function n(){},statics:{create:function(n){var l,_,N;if(b.isPlainObject(n))_=n.segments,l=n.pathData;else if(Array.isArray(n))_=n;else if(typeof n==="string")l=n;if(_){var M=_[0];N=M&&Array.isArray(M[0])}else if(l)N=(l.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(l);var S=N?F:t;return new S(n)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(n){if(this.isClockwise()!=(n=!!n))this.reverse()},setPathData:function(n){var l=n&&n.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),_,N=!1,M,S,U=new k,P=new k;function j(re,B){var se=+_[re];if(N)se+=U[B];return se}function J(re){return new k(j(re,"x"),j(re+1,"y"))}this.clear();for(var ee=0,H=l&&l.length;ee<H;ee++){var G=l[ee],oe=G[0],Q=oe.toLowerCase();_=G.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var le=_&&_.length;if(N=oe===Q,M==="z"&&!/[mz]/.test(Q))this.moveTo(U);switch(Q){case"m":case"l":var Re=Q==="m";for(var A=0;A<le;A+=2)if(this[Re?"moveTo":"lineTo"](U=J(A)),Re)P=U,Re=!1;S=U;break;case"h":case"v":var ne=Q==="h"?"x":"y";U=U.clone();for(var A=0;A<le;A++)U[ne]=j(A,ne),this.lineTo(U);S=U;break;case"c":for(var A=0;A<le;A+=6)this.cubicCurveTo(J(A),S=J(A+2),U=J(A+4));break;case"s":for(var A=0;A<le;A+=4)this.cubicCurveTo(/[cs]/.test(M)?U.multiply(2).subtract(S):U,S=J(A),U=J(A+2)),M=Q;break;case"q":for(var A=0;A<le;A+=4)this.quadraticCurveTo(S=J(A),U=J(A+2));break;case"t":for(var A=0;A<le;A+=2)this.quadraticCurveTo(S=/[qt]/.test(M)?U.multiply(2).subtract(S):U,U=J(A)),M=Q;break;case"a":for(var A=0;A<le;A+=7)this.arcTo(U=J(A+5),new X(+_[A],+_[A+1]),+_[A+2],+_[A+4],+_[A+3]);break;case"z":this.closePath(0.000000000001),U=P;break}M=Q}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(n){var l=n.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(n):{};return l.onPath||!!(this.getFillRule()==="evenodd"?l.windingL&1||l.windingR&1:l.winding)},getIntersections:function(n,l,_,N){var M=this===n||!n,S=this._matrix._orNullIfIdentity(),U=M?S:(_||n._matrix)._orNullIfIdentity();return M||this.getBounds(S).intersects(n.getBounds(U),0.000000000001)?v.getIntersections(this.getCurves(),!M&&n.getCurves(),l,S,U,N):[]},getCrossings:function(n){return this.getIntersections(n,function(l){return l.isCrossing()})},getNearestLocation:function(){var n=k.read(arguments),l=this.getCurves(),_=1/0,N=null;for(var M=0,S=l.length;M<S;M++){var U=l[M].getNearestLocation(n);if(U._distance<_)_=U._distance,N=U}return N},getNearestPoint:function(){var n=this.getNearestLocation.apply(this,arguments);return n?n.getPoint():n},interpolate:function(n,l,_){var N=!this._children,M=N?"_segments":"_children",S=n[M],U=l[M],P=this[M];if(!S||!U||S.length!==U.length)throw new Error("Invalid operands in interpolate() call: "+n+", "+l);var j=P.length,J=U.length;if(j<J){var ee=N?m:t;for(var H=j;H<J;H++)this.add(new ee)}else if(j>J)this[N?"removeSegments":"removeChildren"](J,j);for(var H=0;H<J;H++)P[H].interpolate(S[H],U[H],_);if(N)this.setClosed(n._closed),this._changed(9)},compare:function(n){var l=!1;if(n){var _=this._children||[this],N=n._children?n._children.slice():[n],M=_.length,S=N.length,U=[],P=0;l=!0;var j=Z.findItemBoundsCollisions(_,N,V.GEOMETRIC_EPSILON);for(var J=M-1;J>=0&&l;J--){var ee=_[J];l=!1;var H=j[J];if(H){for(var G=H.length-1;G>=0&&!l;G--)if(ee.compare(N[H[G]])){if(!U[H[G]])U[H[G]]=!0,P++;l=!0}}}l=l&&P===S}return l}}),t=a.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function n(l){this._closed=!1,this._segments=[],this._version=0;var _=arguments,N=Array.isArray(l)?typeof l[0]==="object"?l:_:l&&(l.size===f&&(l.x!==f||l.point!==f))?_:null;if(N&&N.length>0)this.setSegments(N);else if(this._curves=f,this._segmentSelection=0,!N&&typeof l==="string")this.setPathData(l),l=null;this._initialize(!N&&l)},_equals:function(n){return this._closed===n._closed&&b.equals(this._segments,n._segments)},copyContent:function(n){this.setSegments(n._segments),this._closed=n._closed},_changed:function n(l){if(n.base.call(this,l),l&8){if(this._length=this._area=f,l&32)this._version++;else if(this._curves)for(var _=0,N=this._curves.length;_<N;_++)this._curves[_]._changed()}else if(l&64)this._bounds=f},getStyle:function(){var n=this._parent;return(n instanceof F?n:this)._style},getSegments:function(){return this._segments},setSegments:function(n){var l=this.isFullySelected(),_=n&&n.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=f,_){var N=n[_-1];if(typeof N==="boolean")this.setClosed(N),_--;this._add(m.readList(n,0,{},_))}if(l)this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var n=this._curves,l=this._segments;if(!n){var _=this._countCurves();n=this._curves=new Array(_);for(var N=0;N<_;N++)n[N]=new v(this,l[N],l[N+1]||l[0])}return n},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var n=this.getCurves();return n[n.length-1]},isClosed:function(){return this._closed},setClosed:function(n){if(this._closed!=(n=!!n)){if(this._closed=n,this._curves){var l=this._curves.length=this._countCurves();if(n)this._curves[l-1]=new v(this,this._segments[l-1],this._segments[0])}this._changed(41)}}},{beans:!0,getPathData:function(n,l){var _=this._segments,N=_.length,M=new $(l),S=new Array(6),U=!0,P,j,J,ee,H,G,oe,Q,le=[];function Re(ne,re){if(ne._transformCoordinates(n,S),P=S[0],j=S[1],U)le.push("M"+M.pair(P,j)),U=!1;else if(H=S[2],G=S[3],H===P&&G===j&&oe===J&&Q===ee){if(!re){var B=P-J,se=j-ee;le.push(B===0?"v"+M.number(se):se===0?"h"+M.number(B):"l"+M.pair(B,se))}}else le.push("c"+M.pair(oe-J,Q-ee)+" "+M.pair(H-J,G-ee)+" "+M.pair(P-J,j-ee));J=P,ee=j,oe=S[4],Q=S[5]}if(!N)return"";for(var A=0;A<N;A++)Re(_[A]);if(this._closed&&N>0)Re(_[0],!0),le.push("z");return le.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(n){var l=this._segments,_=new Array(6);for(var N=0,M=l.length;N<M;N++)l[N]._transformCoordinates(n,_,!0);return!0},_add:function(n,U){var _=this._segments,N=this._curves,M=n.length,S=U==null,U=S?_.length:U;for(var P=0;P<M;P++){var j=n[P];if(j._path)j=n[P]=j.clone();if(j._path=this,j._index=U+P,j._selection)this._updateSelection(j,0,j._selection)}if(S)b.push(_,n);else{_.splice.apply(_,[U,0].concat(n));for(var P=U+M,J=_.length;P<J;P++)_[P]._index=P}if(N){var ee=this._countCurves(),H=U>0&&U+M-1===ee?U-1:U,G=H,oe=Math.min(H+M,ee);if(n._curves)N.splice.apply(N,[H,0].concat(n._curves)),G+=n._curves.length;for(var P=G;P<oe;P++)N.splice(P,0,new v(this,null,null));this._adjustCurves(H,oe)}return this._changed(41),n},_adjustCurves:function(n,l){var _=this._segments,N=this._curves,M;for(var S=n;S<l;S++)M=N[S],M._path=this,M._segment1=_[S],M._segment2=_[S+1]||_[0],M._changed();if(M=N[this._closed&&!n?_.length-1:n-1])M._segment2=_[n]||_[0],M._changed();if(M=N[l])M._segment1=_[l],M._changed()},_countCurves:function(){var n=this._segments.length;return!this._closed&&n>0?n-1:n},add:function(n){var l=arguments;return l.length>1&&typeof n!=="number"?this._add(m.readList(l)):this._add([m.read(l)])[0]},insert:function(n,l){var _=arguments;return _.length>2&&typeof l!=="number"?this._add(m.readList(_,1),n):this._add([m.read(_,1)],n)[0]},addSegment:function(){return this._add([m.read(arguments)])[0]},insertSegment:function(n){return this._add([m.read(arguments,1)],n)[0]},addSegments:function(n){return this._add(m.readList(n))},insertSegments:function(n,l){return this._add(m.readList(l),n)},removeSegment:function(n){return this.removeSegments(n,n+1)[0]||null},removeSegments:function(n,l,_){n=n||0,l=b.pick(l,this._segments.length);var N=this._segments,M=this._curves,S=N.length,U=N.splice(n,l-n),P=U.length;if(!P)return U;for(var j=0;j<P;j++){var J=U[j];if(J._selection)this._updateSelection(J,J._selection,0);J._index=J._path=null}for(var j=n,ee=N.length;j<ee;j++)N[j]._index=j;if(M){var H=n>0&&l===S+(this._closed?1:0)?n-1:n,M=M.splice(H,P);for(var j=M.length-1;j>=0;j--)M[j]._path=null;if(_)U._curves=M.slice(1);this._adjustCurves(H,H)}return this._changed(41),U},clear:"#removeSegments",hasHandles:function(){var n=this._segments;for(var l=0,_=n.length;l<_;l++)if(n[l].hasHandles())return!0;return!1},clearHandles:function(){var n=this._segments;for(var l=0,_=n.length;l<_;l++)n[l].clearHandles()},getLength:function(){if(this._length==null){var n=this.getCurves(),l=0;for(var _=0,N=n.length;_<N;_++)l+=n[_].getLength();this._length=l}return this._length},getArea:function(){var n=this._area;if(n==null){var l=this._segments,_=this._closed;n=0;for(var N=0,M=l.length;N<M;N++){var S=N+1===M;n+=v.getArea(v.getValues(l[N],l[S?0:N+1],null,S&&!_))}this._area=n}return n},isFullySelected:function(){var n=this._segments.length;return this.isSelected()&&n>0&&this._segmentSelection===n*7},setFullySelected:function(n){if(n)this._selectSegments(!0);this.setSelected(n)},setSelection:function n(l){if(!(l&1))this._selectSegments(!1);n.base.call(this,l)},_selectSegments:function(n){var l=this._segments,_=l.length,N=n?7:0;this._segmentSelection=N*_;for(var M=0;M<_;M++)l[M]._selection=N},_updateSelection:function(n,l,_){n._selection=_;var N=this._segmentSelection+=_-l;if(N>0)this.setSelected(!0)},divideAt:function(n){var l=this.getLocationAt(n),_;return l&&(_=l.getCurve().divideAt(l.getCurveOffset()))?_._segment1:null},splitAt:function(n){var l=this.getLocationAt(n),_=l&&l.index,N=l&&l.time,M=0.00000001,S=1-M;if(N>S)_++,N=0;var U=this.getCurves();if(_>=0&&_<U.length){if(N>=M)U[_++].divideAtTime(N);var P=this.removeSegments(_,this._segments.length,!0),j;if(this._closed)this.setClosed(!1),j=this;else j=new t(_e.NO_INSERT),j.insertAbove(this),j.copyAttributes(this);return j._add(P,0),this.addSegment(P[0]),j}return null},split:function(n,l){var _,N=l===f?n:(_=this.getCurves()[n])&&_.getLocationAtTime(l);return N!=null?this.splitAt(N):null},join:function(n,l){var _=l||0;if(n&&n!==this){var N=n._segments,M=this.getLastSegment(),S=n.getLastSegment();if(!S)return this;if(M&&M._point.isClose(S._point,_))n.reverse();var U=n.getFirstSegment();if(M&&M._point.isClose(U._point,_))M.setHandleOut(U._handleOut),this._add(N.slice(1));else{var P=this.getFirstSegment();if(P&&P._point.isClose(U._point,_))n.reverse();if(S=n.getLastSegment(),P&&P._point.isClose(S._point,_))P.setHandleIn(S._handleIn),this._add(N.slice(0,N.length-1),0);else this._add(N.slice())}if(n._closed)this._add([N[0]]);n.remove()}var j=this.getFirstSegment(),J=this.getLastSegment();if(j!==J&&j._point.isClose(J._point,_))j.setHandleIn(J._handleIn),J.remove(),this.setClosed(!0);return this},reduce:function(n){var l=this.getCurves(),_=n&&n.simplify,N=_?0.0000001:0;for(var M=l.length-1;M>=0;M--){var S=l[M];if(!S.hasHandles()&&(!S.hasLength(N)||_&&S.isCollinear(S.getNext())))S.remove()}return this},reverse:function(){this._segments.reverse();for(var n=0,l=this._segments.length;n<l;n++){var _=this._segments[n],N=_._handleIn;_._handleIn=_._handleOut,_._handleOut=N,_._index=n}this._curves=null,this._changed(9)},flatten:function(n){var l=new w(this,n||0.25,256,!0),_=l.parts,N=_.length,M=[];for(var S=0;S<N;S++)M.push(new m(_[S].curve.slice(0,2)));if(!this._closed&&N>0)M.push(new m(_[N-1].curve.slice(6)));this.setSegments(M)},simplify:function(n){var l=new I(this).fit(n||2.5);if(l)this.setSegments(l);return!!l},smooth:function(n){var l=this,_=n||{},N=_.type||"asymmetric",M=this._segments,S=M.length,U=this._closed;function P(Be,ra){var aa=Be&&Be.index;if(aa!=null){var oa=Be.path;if(oa&&oa!==l)throw new Error(Be._class+" "+aa+" of "+oa+" is not part of "+l);if(ra&&Be instanceof v)aa++}else aa=typeof Be==="number"?Be:ra;return Math.min(aa<0&&U?aa%S:aa<0?aa+S:aa,S-1)}var j=U&&_.from===f&&_.to===f,J=P(_.from,0),ee=P(_.to,S-1);if(J>ee)if(U)J-=S;else{var H=J;J=ee,ee=H}if(/^(?:asymmetric|continuous)$/.test(N)){var G=N==="asymmetric",oe=Math.min,Q=ee-J+1,le=Q-1,Re=j?oe(Q,4):1,A=Re,ne=Re,re=[];if(!U)A=oe(1,J),ne=oe(1,S-ee-1);if(le+=A+ne,le<=1)return;for(var B=0,se=J-A;B<=le;B++,se++)re[B]=M[(se<0?se+S:se)%S]._point;var Ne=re[0]._x+2*re[1]._x,pe=re[0]._y+2*re[1]._y,de=2,Se=le-1,ve=[Ne],ye=[pe],Ue=[de],Te=[],ke=[];for(var B=1;B<le;B++){var Xe=B<Se,Le=Xe?1:G?1:2,we=Xe?4:G?2:7,Ie=Xe?4:G?3:8,Ke=Xe?2:G?0:1,Ge=Le/de;de=Ue[B]=we-Ge,Ne=ve[B]=Ie*re[B]._x+Ke*re[B+1]._x-Ge*Ne,pe=ye[B]=Ie*re[B]._y+Ke*re[B+1]._y-Ge*pe}Te[Se]=ve[Se]/Ue[Se],ke[Se]=ye[Se]/Ue[Se];for(var B=le-2;B>=0;B--)Te[B]=(ve[B]-Te[B+1])/Ue[B],ke[B]=(ye[B]-ke[B+1])/Ue[B];Te[le]=(3*re[le]._x-Te[Se])/2,ke[le]=(3*re[le]._y-ke[Se])/2;for(var B=A,Ce=le-ne,se=J;B<=Ce;B++,se++){var Ye=M[se<0?se+S:se],Ae=Ye._point,He=Te[B]-Ae._x,ea=ke[B]-Ae._y;if(j||B<Ce)Ye.setHandleOut(He,ea);if(j||B>A)Ye.setHandleIn(-He,-ea)}}else for(var B=J;B<=ee;B++)M[B<0?B+S:B].smooth(_,!j&&B===J,!j&&B===ee)},toShape:function(n){if(!this._closed)return null;var l=this._segments,_,N,M,S;function U(G,oe){var Q=l[G],le=Q.getNext(),Re=l[oe],A=Re.getNext();return Q._handleOut.isZero()&&le._handleIn.isZero()&&Re._handleOut.isZero()&&A._handleIn.isZero()&&le._point.subtract(Q._point).isCollinear(A._point.subtract(Re._point))}function P(G){var oe=l[G],Q=oe.getPrevious(),le=oe.getNext();return Q._handleOut.isZero()&&oe._handleIn.isZero()&&oe._handleOut.isZero()&&le._handleIn.isZero()&&oe._point.subtract(Q._point).isOrthogonal(le._point.subtract(oe._point))}function j(G){var oe=l[G],Q=oe.getNext(),le=oe._handleOut,Re=Q._handleIn,A=0.5522847498307936;if(le.isOrthogonal(Re)){var ne=oe._point,re=Q._point,B=new C(ne,le,!0).intersect(new C(re,Re,!0),!0);return B&&V.isZero(le.getLength()/B.subtract(ne).getLength()-A)&&V.isZero(Re.getLength()/B.subtract(re).getLength()-A)}return!1}function J(G,oe){return l[G]._point.getDistance(l[oe]._point)}if(!this.hasHandles()&&l.length===4&&U(0,2)&&U(1,3)&&P(1))_=Me.Rectangle,N=new X(J(0,3),J(0,1)),S=l[1]._point.add(l[2]._point).divide(2);else if(l.length===8&&j(0)&&j(2)&&j(4)&&j(6)&&U(1,5)&&U(3,7))_=Me.Rectangle,N=new X(J(1,6),J(0,3)),M=N.subtract(new X(J(0,7),J(1,2))).divide(2),S=l[3]._point.add(l[4]._point).divide(2);else if(l.length===4&&j(0)&&j(1)&&j(2)&&j(3)){if(V.isZero(J(0,2)-J(1,3)))_=Me.Circle,M=J(0,2)/2;else _=Me.Ellipse,M=new X(J(2,0)/2,J(3,1)/2);S=l[1]._point}if(_){var ee=this.getPosition(!0),H=new _({center:ee,size:N,radius:M,insert:!1});if(H.copyAttributes(this,!0),H._matrix.prepend(this._matrix),H.rotate(S.subtract(ee).getAngle()+90),n===f||n)H.insertAbove(this);return H}return null},toPath:"#clone",compare:function n(l){if(!l||l instanceof F)return n.base.call(this,l);var _=this.getCurves(),N=l.getCurves(),M=_.length,S=N.length;if(!M||!S)return M==S;var U=_[0].getValues(),P=[],j=0,J,ee=0,H;for(var G=0;G<S;G++){var Re=N[G].getValues();P.push(Re);var oe=v.getOverlaps(U,Re);if(oe){J=!G&&oe[0][0]>0?S-1:G,H=oe[0][1];break}}var Q=Math.abs,le=0.00000001,Re=P[J],A;while(U&&Re){var oe=v.getOverlaps(U,Re);if(oe){var ne=oe[0][0];if(Q(ne-ee)<le){if(ee=oe[1][0],ee===1)U=++j<M?_[j].getValues():null,ee=0;var re=oe[0][1];if(Q(re-H)<le){if(!A)A=[J,re];if(H=oe[1][1],H===1){if(++J>=S)J=0;Re=P[J]||N[J].getValues(),H=0}if(!U)return A[0]===J&&A[1]===H;continue}}}break}return!1},_hitTestSelf:function(n,l,_,N){var M=this,S=this.getStyle(),U=this._segments,P=U.length,j=this._closed,J=l._tolerancePadding,ee=J,H,G,oe,Q,le,Re,A=l.stroke&&S.hasStroke(),ne=l.fill&&S.hasFill(),re=l.curves,B=A?S.getStrokeWidth()/2:ne&&l.tolerance>0||re?0:null;if(B!==null)if(B>0)H=S.getStrokeJoin(),G=S.getStrokeCap(),oe=S.getMiterLimit(),ee=ee.add(t._getStrokePadding(B,N));else H=G="round";function se(Te,ke){return n.subtract(Te).divide(ke).length<=1}function Ne(Te,ke,Xe){if(!l.selected||ke.isSelected()){var Le=Te._point;if(ke!==Le)ke=ke.add(Le);if(se(ke,ee))return new s(Xe,M,{segment:Te,point:ke})}}function pe(Te,ke){return(ke||l.segments)&&Ne(Te,Te._point,"segment")||!ke&&l.handles&&(Ne(Te,Te._handleIn,"handle-in")||Ne(Te,Te._handleOut,"handle-out"))}function de(Te){Q.add(Te)}function Se(Te){var ke=j||Te._index>0&&Te._index<P-1;if((ke?H:G)==="round")return se(Te._point,ee);else{if(Q=new t({internal:!0,closed:!0}),ke){if(!Te.isSmooth())t._addBevelJoin(Te,H,B,oe,null,N,de,!0)}else if(G==="square")t._addSquareCap(Te,G,B,null,N,de,!0);if(!Q.isEmpty()){var Xe;return Q.contains(n)||(Xe=Q.getNearestLocation(n))&&se(Xe.getPoint(),J)}}}if(l.ends&&!l.segments&&!j){if(Re=pe(U[0],!0)||pe(U[P-1],!0))return Re}else if(l.segments||l.handles){for(var ve=0;ve<P;ve++)if(Re=pe(U[ve]))return Re}if(B!==null){if(le=this.getNearestLocation(n),le){var ye=le.getTime();if(ye===0||ye===1&&P>1){if(!Se(le.getSegment()))le=null}else if(!se(le.getPoint(),ee))le=null}if(!le&&H==="miter"&&P>1)for(var ve=0;ve<P;ve++){var Ue=U[ve];if(n.getDistance(Ue._point)<=oe*B&&Se(Ue)){le=Ue.getLocation();break}}}return!le&&ne&&this._contains(n)||le&&!A&&!re?new s("fill",this):le?new s(A?"stroke":"curve",this,{location:le,point:le.getPoint()}):null}},b.each(v._evaluateMethods,function(n){this[n+"At"]=function(l){var _=this.getLocationAt(l);return _&&_[n]()}},{beans:!1,getLocationOf:function(){var n=k.read(arguments),l=this.getCurves();for(var _=0,N=l.length;_<N;_++){var M=l[_].getLocationOf(n);if(M)return M}return null},getOffsetOf:function(){var n=this.getLocationOf.apply(this,arguments);return n?n.getOffset():null},getLocationAt:function(n){if(typeof n==="number"){var l=this.getCurves(),_=0;for(var N=0,M=l.length;N<M;N++){var S=_,U=l[N];if(_+=U.getLength(),_>n)return U.getLocationAt(n-S)}if(l.length>0&&n<=this.getLength())return new p(l[l.length-1],1)}else if(n&&n.getPath&&n.getPath()===this)return n;return null},getOffsetsWithTangent:function(){var n=k.read(arguments);if(n.isZero())return[];var l=[],_=0,N=this.getCurves();for(var M=0,S=N.length;M<S;M++){var U=N[M],P=U.getTimesWithTangent(n);for(var j=0,J=P.length;j<J;j++){var ee=_+U.getOffsetAtTime(P[j]);if(l.indexOf(ee)<0)l.push(ee)}_+=U.length}return l}}),new function(){function n(_,N,M,S){if(S<=0)return;var U=S/2,P=S-2,j=U-1,J=new Array(6),ee,H;function G(ne){var re=J[ne],B=J[ne+1];if(ee!=re||H!=B)_.beginPath(),_.moveTo(ee,H),_.lineTo(re,B),_.stroke(),_.beginPath(),_.arc(re,B,U,0,Math.PI*2,!0),_.fill()}for(var oe=0,Q=N.length;oe<Q;oe++){var le=N[oe],Re=le._selection;if(le._transformCoordinates(M,J),ee=J[0],H=J[1],Re&2)G(2);if(Re&4)G(4);if(_.fillRect(ee-U,H-U,S,S),P>0&&!(Re&1)){var A=_.fillStyle;_.fillStyle="#ffffff",_.fillRect(ee-j,H-j,P,P),_.fillStyle=A}}}function l(_,N,M){var S=N._segments,U=S.length,P=new Array(6),j=!0,J,ee,H,G,oe,Q,le,Re;function A(re){if(M)re._transformCoordinates(M,P),J=P[0],ee=P[1];else{var B=re._point;J=B._x,ee=B._y}if(j)_.moveTo(J,ee),j=!1;else{if(M)oe=P[2],Q=P[3];else{var se=re._handleIn;oe=J+se._x,Q=ee+se._y}if(oe===J&&Q===ee&&le===H&&Re===G)_.lineTo(J,ee);else _.bezierCurveTo(le,Re,oe,Q,J,ee)}if(H=J,G=ee,M)le=P[4],Re=P[5];else{var se=re._handleOut;le=H+se._x,Re=G+se._y}}for(var ne=0;ne<U;ne++)A(S[ne]);if(N._closed&&U>0)A(S[0])}return{_draw:function(_,N,M,S){var U=N.dontStart,P=N.dontFinish||N.clip,j=this.getStyle(),J=j.hasFill(),ee=j.hasStroke(),H=j.getDashArray(),G=!L.support.nativeDash&&ee&&H&&H.length;if(!U)_.beginPath();if(J||ee&&!G||P){if(l(_,this,S),this._closed)_.closePath()}function oe(re){return H[(re%G+G)%G]}if(!P&&(J||ee)){if(this._setStyles(_,N,M),J)_.fill(j.getFillRule()),_.shadowColor="rgba(0,0,0,0)";if(ee){if(G){if(!U)_.beginPath();var Q=new w(this,0.25,32,!1,S),le=Q.length,Re=-j.getDashOffset(),A,ne=0;while(Re>0)Re-=oe(ne--)+oe(ne--);while(Re<le){if(A=Re+oe(ne++),Re>0||A>0)Q.drawPart(_,Math.max(Re,0),Math.max(A,0));Re=A+oe(ne++)}}_.stroke()}}},_drawSelected:function(_,N){_.beginPath(),l(_,this,N),_.stroke(),n(_,this._segments,N,L.settings.handleSize)}}},new function(){function n(l){var _=l._segments;if(!_.length)throw new Error("Use a moveTo() command first");return _[_.length-1]}return{moveTo:function(){var l=this._segments;if(l.length===1)this.removeSegment(0);if(!l.length)this._add([new m(k.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new m(k.read(arguments))])},cubicCurveTo:function(){var l=arguments,_=k.read(l),N=k.read(l),M=k.read(l),S=n(this);S.setHandleOut(_.subtract(S._point)),this._add([new m(M,N.subtract(M))])},quadraticCurveTo:function(){var l=arguments,_=k.read(l),N=k.read(l),M=n(this)._point;this.cubicCurveTo(_.add(M.subtract(_).multiply(0.3333333333333333)),_.add(N.subtract(_).multiply(0.3333333333333333)),N)},curveTo:function(){var l=arguments,_=k.read(l),N=k.read(l),M=b.pick(b.read(l),0.5),S=1-M,U=n(this)._point,P=_.subtract(U.multiply(S*S)).subtract(N.multiply(M*M)).divide(2*M*S);if(P.isNaN())throw new Error("Cannot put a curve through points with parameter = "+M);this.quadraticCurveTo(P,N)},arcTo:function(){var l=arguments,_=Math.abs,N=Math.sqrt,M=n(this),S=M._point,U=k.read(l),Q,P=b.peek(l),j=b.pick(P,!0),J,ee,H,G;if(typeof j==="boolean")var oe=S.add(U).divide(2),Q=oe.add(oe.subtract(S).rotate(j?-90:90));else if(b.remain(l)<=2)Q=U,U=k.read(l);else if(!S.equals(U)){var le=X.read(l),Re=V.isZero;if(Re(le.width)||Re(le.height))return this.lineTo(U);var A=b.read(l),j=!!b.read(l),ne=!!b.read(l),oe=S.add(U).divide(2),re=S.subtract(oe).rotate(-A),B=re.x,se=re.y,Ne=_(le.width),pe=_(le.height),de=Ne*Ne,Se=pe*pe,ve=B*B,ye=se*se,Ue=N(ve/de+ye/Se);if(Ue>1)Ne*=Ue,pe*=Ue,de=Ne*Ne,Se=pe*pe;if(Ue=(de*Se-de*ye-Se*ve)/(de*ye+Se*ve),_(Ue)<0.000000000001)Ue=0;if(Ue<0)throw new Error("Cannot create an arc with the given arguments");if(J=new k(Ne*se/pe,-pe*B/Ne).multiply((ne===j?-1:1)*N(Ue)).rotate(A).add(oe),G=new Y().translate(J).rotate(A).scale(Ne,pe),H=G._inverseTransform(S),ee=H.getDirectedAngle(G._inverseTransform(U)),!j&&ee>0)ee-=360;else if(j&&ee<0)ee+=360}if(Q){var Te=new C(S.add(Q).divide(2),Q.subtract(S).rotate(90),!0),ke=new C(Q.add(U).divide(2),U.subtract(Q).rotate(90),!0),Xe=new C(S,U),Le=Xe.getSide(Q);if(J=Te.intersect(ke,!0),!J){if(!Le)return this.lineTo(U);throw new Error("Cannot create an arc with the given arguments")}H=S.subtract(J),ee=H.getDirectedAngle(U.subtract(J));var we=Xe.getSide(J,!0);if(we===0)ee=Le*_(ee);else if(Le===we)ee+=ee<0?360:-360}if(ee){var Ie=0.00001,Ke=_(ee),Ge=Ke>=360?4:Math.ceil((Ke-Ie)/90),Ce=ee/Ge,Ye=Ce*Math.PI/360,Ae=1.3333333333333333*Math.sin(Ye)/(1+Math.cos(Ye)),He=[];for(var ea=0;ea<=Ge;ea++){var re=U,Be=null;if(ea<Ge)if(Be=H.rotate(90).multiply(Ae),G)re=G._transformPoint(H),Be=G._transformPoint(H.add(Be)).subtract(re);else re=J.add(H);if(!ea)M.setHandleOut(Be);else{var ra=H.rotate(-90).multiply(Ae);if(G)ra=G._transformPoint(H.add(ra)).subtract(re);He.push(new m(re,ra,Be))}H=H.rotate(Ce)}this._add(He)}},lineBy:function(){var l=k.read(arguments),_=n(this)._point;this.lineTo(_.add(l))},curveBy:function(){var l=arguments,_=k.read(l),N=k.read(l),M=b.read(l),S=n(this)._point;this.curveTo(S.add(_),S.add(N),M)},cubicCurveBy:function(){var l=arguments,_=k.read(l),N=k.read(l),M=k.read(l),S=n(this)._point;this.cubicCurveTo(S.add(_),S.add(N),S.add(M))},quadraticCurveBy:function(){var l=arguments,_=k.read(l),N=k.read(l),M=n(this)._point;this.quadraticCurveTo(M.add(_),M.add(N))},arcBy:function(){var l=arguments,_=n(this)._point,N=_.add(k.read(l)),M=b.pick(b.peek(l),!0);if(typeof M==="boolean")this.arcTo(N,M);else this.arcTo(N,_.add(k.read(l)))},closePath:function(l){this.setClosed(!0),this.join(this,l)}}},{_getBounds:function(n,l){var _=l.handle?"getHandleBounds":l.stroke?"getStrokeBounds":"getBounds";return t[_](this._segments,this._closed,this,n,l)},statics:{getBounds:function(n,l,_,N,M,S){var U=n[0];if(!U)return new z;var P=new Array(6),j=U._transformCoordinates(N,new Array(6)),J=j.slice(0,2),ee=J.slice(),H=new Array(2);function G(le){le._transformCoordinates(N,P);for(var Re=0;Re<2;Re++)v._addBounds(j[Re],j[Re+4],P[Re+2],P[Re],Re,S?S[Re]:0,J,ee,H);var A=j;j=P,P=A}for(var oe=1,Q=n.length;oe<Q;oe++)G(n[oe]);if(l)G(U);return new z(J[0],J[1],ee[0]-J[0],ee[1]-J[1])},getStrokeBounds:function(n,l,_,N,M){var S=_.getStyle(),U=S.hasStroke(),P=S.getStrokeWidth(),j=U&&_._getStrokeMatrix(N,M),J=U&&t._getStrokePadding(P,j),ee=t.getBounds(n,l,_,N,M,J);if(!U)return ee;var H=P/2,G=S.getStrokeJoin(),oe=S.getStrokeCap(),Q=S.getMiterLimit(),le=new z(new X(J));function Re(Ne){ee=ee.include(Ne)}function A(Ne){ee=ee.unite(le.setCenter(Ne._point.transform(N)))}function ne(Ne,pe){if(pe==="round"||Ne.isSmooth())A(Ne);else t._addBevelJoin(Ne,pe,H,Q,N,j,Re)}function re(Ne,pe){if(pe==="round")A(Ne);else t._addSquareCap(Ne,pe,H,N,j,Re)}var B=n.length-(l?0:1);if(B>0){for(var se=1;se<B;se++)ne(n[se],G);if(l)ne(n[0],G);else re(n[0],oe),re(n[n.length-1],oe)}return ee},_getStrokePadding:function(n,l){if(!l)return[n,n];var _=new k(n,0).transform(l),N=new k(0,n).transform(l),M=_.getAngleInRadians(),S=_.getLength(),U=N.getLength(),P=Math.sin(M),j=Math.cos(M),J=Math.tan(M),ee=Math.atan2(U*J,S),H=Math.atan2(U,J*S);return[Math.abs(S*Math.cos(ee)*j+U*Math.sin(ee)*P),Math.abs(U*Math.sin(H)*j+S*Math.cos(H)*P)]},_addBevelJoin:function(n,l,_,N,M,S,U,P){var j=n.getCurve(),J=j.getPrevious(),ee=j.getPoint1().transform(M),H=J.getNormalAtTime(1).multiply(_).transform(S),G=j.getNormalAtTime(0).multiply(_).transform(S),oe=H.getDirectedAngle(G);if(oe<0||oe>=180)H=H.negate(),G=G.negate();if(P)U(ee);if(U(ee.add(H)),l==="miter"){var Q=new C(ee.add(H),new k(-H.y,H.x),!0).intersect(new C(ee.add(G),new k(-G.y,G.x),!0),!0);if(Q&&ee.getDistance(Q)<=N*_)U(Q)}U(ee.add(G))},_addSquareCap:function(n,l,_,N,M,S,U){var P=n._point.transform(N),j=n.getLocation(),J=j.getNormal().multiply(j.getTime()===0?_:-_).transform(M);if(l==="square"){if(U)S(P.subtract(J)),S(P.add(J));P=P.add(J.rotate(-90))}S(P.add(J)),S(P.subtract(J))},getHandleBounds:function(n,l,_,N,M){var S=_.getStyle(),U=M.stroke&&S.hasStroke(),P,j;if(U){var J=_._getStrokeMatrix(N,M),ee=S.getStrokeWidth()/2,H=ee;if(S.getStrokeJoin()==="miter")H=ee*S.getMiterLimit();if(S.getStrokeCap()==="square")H=Math.max(H,ee*Math.SQRT2);P=t._getStrokePadding(ee,J),j=t._getStrokePadding(H,J)}var G=new Array(6),oe=1/0,Q=-oe,le=oe,Re=Q;for(var A=0,ne=n.length;A<ne;A++){var re=n[A];re._transformCoordinates(N,G);for(var B=0;B<6;B+=2){var se=!B?j:P,Ne=se?se[0]:0,pe=se?se[1]:0,de=G[B],Se=G[B+1],ve=de-Ne,ye=de+Ne,Ue=Se-pe,Te=Se+pe;if(ve<oe)oe=ve;if(ye>Q)Q=ye;if(Ue<le)le=Ue;if(Te>Re)Re=Te}}return new z(oe,le,Q-oe,Re-le)}}});t.inject({statics:new function(){var n=0.5522847498307936,l=[new m([-1,0],[0,n],[0,-n]),new m([0,-1],[-n,0],[n,0]),new m([1,0],[0,-n],[0,n]),new m([0,1],[n,0],[-n,0])];function _(M,S,U){var P=b.getNamed(U),j=new t(P&&(P.insert==!0?_e.INSERT:P.insert==!1?_e.NO_INSERT:null));return j._add(M),j._closed=S,j.set(P,_e.INSERT)}function N(M,S,U){var P=new Array(4);for(var j=0;j<4;j++){var J=l[j];P[j]=new m(J._point.multiply(S).add(M),J._handleIn.multiply(S),J._handleOut.multiply(S))}return _(P,!0,U)}return{Line:function(){var M=arguments;return _([new m(k.readNamed(M,"from")),new m(k.readNamed(M,"to"))],!1,M)},Circle:function(){var M=arguments,S=k.readNamed(M,"center"),U=b.readNamed(M,"radius");return N(S,new X(U),M)},Rectangle:function(){var M=arguments,S=z.readNamed(M,"rectangle"),U=X.readNamed(M,"radius",0,{readNull:!0}),P=S.getBottomLeft(!0),j=S.getTopLeft(!0),J=S.getTopRight(!0),ee=S.getBottomRight(!0),H;if(!U||U.isZero())H=[new m(P),new m(j),new m(J),new m(ee)];else{U=X.min(U,S.getSize(!0).divide(2));var{width:G,height:oe}=U,Q=G*n,le=oe*n;H=[new m(P.add(G,0),null,[-Q,0]),new m(P.subtract(0,oe),[0,le]),new m(j.add(0,oe),null,[0,-le]),new m(j.add(G,0),[-Q,0],null),new m(J.subtract(G,0),null,[Q,0]),new m(J.add(0,oe),[0,-le],null),new m(ee.subtract(0,oe),null,[0,le]),new m(ee.subtract(G,0),[Q,0])]}return _(H,!0,M)},RoundRectangle:"#Rectangle",Ellipse:function(){var M=arguments,S=Me._readEllipse(M);return N(S.center,S.radius,M)},Oval:"#Ellipse",Arc:function(){var M=arguments,S=k.readNamed(M,"from"),U=k.readNamed(M,"through"),P=k.readNamed(M,"to"),j=b.getNamed(M),J=new t(j&&j.insert==!1&&_e.NO_INSERT);return J.moveTo(S),J.arcTo(U,P),J.set(j)},RegularPolygon:function(){var M=arguments,S=k.readNamed(M,"center"),U=b.readNamed(M,"sides"),P=b.readNamed(M,"radius"),j=360/U,J=U%3===0,ee=new k(0,J?-P:P),H=J?-1:0.5,G=new Array(U);for(var oe=0;oe<U;oe++)G[oe]=new m(S.add(ee.rotate((oe+H)*j)));return _(G,!0,M)},Star:function(){var M=arguments,S=k.readNamed(M,"center"),U=b.readNamed(M,"points")*2,P=b.readNamed(M,"radius1"),j=b.readNamed(M,"radius2"),J=360/U,ee=new k(0,-1),H=new Array(U);for(var G=0;G<U;G++)H[G]=new m(S.add(ee.rotate(J*G).multiply(G%2?j:P)));return _(H,!0,M)}}}});var F=a.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function n(l){if(this._children=[],this._namedChildren={},!this._initialize(l))if(typeof l==="string")this.setPathData(l);else this.addChildren(Array.isArray(l)?l:arguments)},insertChildren:function n(l,_){var N=_,M=N[0];if(M&&typeof M[0]==="number")N=[N];for(var S=_.length-1;S>=0;S--){var U=N[S];if(N===_&&!(U instanceof t))N=b.slice(N);if(Array.isArray(U))N[S]=new t({segments:U,insert:!1});else if(U instanceof F)N.splice.apply(N,[S,1].concat(U.removeChildren())),U.remove()}return n.base.call(this,l,N)},reduce:function n(l){var _=this._children;for(var N=_.length-1;N>=0;N--){var M=_[N].reduce(l);if(M.isEmpty())M.remove()}if(!_.length){var M=new t(_e.NO_INSERT);return M.copyAttributes(this),M.insertAbove(this),this.remove(),M}return n.base.call(this)},isClosed:function(){var n=this._children;for(var l=0,_=n.length;l<_;l++)if(!n[l]._closed)return!1;return!0},setClosed:function(n){var l=this._children;for(var _=0,N=l.length;_<N;_++)l[_].setClosed(n)},getFirstSegment:function(){var n=this.getFirstChild();return n&&n.getFirstSegment()},getLastSegment:function(){var n=this.getLastChild();return n&&n.getLastSegment()},getCurves:function(){var n=this._children,l=[];for(var _=0,N=n.length;_<N;_++)b.push(l,n[_].getCurves());return l},getFirstCurve:function(){var n=this.getFirstChild();return n&&n.getFirstCurve()},getLastCurve:function(){var n=this.getLastChild();return n&&n.getLastCurve()},getArea:function(){var n=this._children,l=0;for(var _=0,N=n.length;_<N;_++)l+=n[_].getArea();return l},getLength:function(){var n=this._children,l=0;for(var _=0,N=n.length;_<N;_++)l+=n[_].getLength();return l},getPathData:function(n,l){var _=this._children,N=[];for(var M=0,S=_.length;M<S;M++){var U=_[M],P=U._matrix;N.push(U.getPathData(n&&!P.isIdentity()?n.appended(P):n,l))}return N.join("")},_hitTestChildren:function n(l,_,N){return n.base.call(this,l,_.class===t||_.type==="path"?_:b.set({},_,{fill:!1}),N)},_draw:function(n,l,_,N){var M=this._children;if(!M.length)return;l=l.extend({dontStart:!0,dontFinish:!0}),n.beginPath();for(var S=0,U=M.length;S<U;S++)M[S].draw(n,l,N);if(!l.clip){this._setStyles(n,l,_);var P=this._style;if(P.hasFill())n.fill(P.getFillRule()),n.shadowColor="rgba(0,0,0,0)";if(P.hasStroke())n.stroke()}},_drawSelected:function(n,l,_){var N=this._children;for(var M=0,S=N.length;M<S;M++){var U=N[M],P=U._matrix;if(!_[U._id])U._drawSelected(n,P.isIdentity()?l:l.appended(P))}}},new function(){function n(l,_){var N=l._children;if(_&&!N.length)throw new Error("Use a moveTo() command first");return N[N.length-1]}return b.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(l){this[l]=function(){var _=n(this,!0);_[l].apply(_,arguments)}},{moveTo:function(){var l=n(this),_=l&&l.isEmpty()?l:new t(_e.NO_INSERT);if(_!==l)this.addChild(_);_.moveTo.apply(_,arguments)},moveBy:function(){var l=n(this,!0),_=l&&l.getLastSegment(),N=k.read(arguments);this.moveTo(_?N.add(_._point):N)},closePath:function(l){n(this,!0).closePath(l)}})},b.each(["reverse","flatten","simplify","smooth"],function(n){this[n]=function(l){var _=this._children,N;for(var M=0,S=_.length;M<S;M++)N=_[M][n](l)||N;return N}},{}));a.inject(new function(){var{min:n,max:l,abs:_}=Math,N={unite:{"1":!0,"2":!0},intersect:{"2":!0},subtract:{"1":!0},exclude:{"1":!0,"-1":!0}};function M(A){return A._children||[A]}function S(A,ne){var re=A.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(ne){var B=M(re);for(var se=0,Ne=B.length;se<Ne;se++){var A=B[se];if(!A._closed&&!A.isEmpty())A.closePath(0.000000000001),A.getFirstSegment().setHandleIn(0,0),A.getLastSegment().setHandleOut(0,0)}re=re.resolveCrossings().reorient(re.getFillRule()==="nonzero",!0)}return re}function U(A,ne,re,B,se){var Ne=new F(_e.NO_INSERT);if(Ne.addChildren(A,!0),Ne=Ne.reduce({simplify:ne}),!(se&&se.insert==!1))Ne.insertAbove(B&&re.isSibling(B)&&re.getIndex()<B.getIndex()?B:re);return Ne.copyAttributes(re,!0),Ne}function P(A){return A.hasOverlap()||A.isCrossing()}function j(A,ne,re,B){if(B&&(B.trace==!1||B.stroke)&&/^(subtract|intersect)$/.test(re))return J(A,ne,re);var se=S(A,!0),Ne=ne&&A!==ne&&S(ne,!0),pe=N[re];if(pe[re]=!0,Ne&&(pe.subtract||pe.exclude)^(Ne.isClockwise()^se.isClockwise()))Ne.reverse();var de=oe(p.expand(se.getIntersections(Ne,P))),Se=M(se),ve=Ne&&M(Ne),ye=[],Ue=[],Te;function ke(Be){for(var ra=0,aa=Be.length;ra<aa;ra++){var oa=Be[ra];b.push(ye,oa._segments),b.push(Ue,oa.getCurves()),oa._overlapsOnly=!0}}function Xe(Be){var ra=[];for(var aa=0,oa=Be&&Be.length;aa<oa;aa++)ra.push(Ue[Be[aa]]);return ra}if(de.length){if(ke(Se),ve)ke(ve);var Le=new Array(Ue.length);for(var we=0,Ie=Ue.length;we<Ie;we++)Le[we]=Ue[we].getValues();var Ke=Z.findCurveBoundsCollisions(Le,Le,0,!0),Ge={};for(var we=0;we<Ue.length;we++){var Ce=Ue[we],Ye=Ce._path._id,Ae=Ge[Ye]=Ge[Ye]||{};Ae[Ce.getIndex()]={hor:Xe(Ke[we].hor),ver:Xe(Ke[we].ver)}}for(var we=0,Ie=de.length;we<Ie;we++)le(de[we]._segment,se,Ne,Ge,pe);for(var we=0,Ie=ye.length;we<Ie;we++){var He=ye[we],ea=He._intersection;if(!He._winding)le(He,se,Ne,Ge,pe);if(!(ea&&ea._overlap))He._path._overlapsOnly=!1}Te=Re(ye,pe)}else Te=G(ve?Se.concat(ve):Se.slice(),function(Be){return!!pe[Be]});return U(Te,!0,A,ne,B)}function J(A,ne,re){var B=S(A),se=S(ne),Ne=B.getIntersections(se,P),pe=re==="subtract",de=re==="divide",Se={},ve=[];function ye(ke){if(!Se[ke._id]&&(de||se.contains(ke.getPointAt(ke.getLength()/2))^pe))return ve.unshift(ke),Se[ke._id]=!0}for(var Ue=Ne.length-1;Ue>=0;Ue--){var Te=Ne[Ue].split();if(Te){if(ye(Te))Te.getFirstSegment().setHandleIn(0,0);B.getLastSegment().setHandleOut(0,0)}}return ye(B),U(ve,!1,A,ne)}function ee(A,ne){var re=A;while(re){if(re===ne)return;re=re._previous}while(A._next&&A._next!==ne)A=A._next;if(!A._next){while(ne._previous)ne=ne._previous;A._next=ne,ne._previous=A}}function H(A){for(var ne=A.length-1;ne>=0;ne--)A[ne].clearHandles()}function G(A,ne,re){var B=A&&A.length;if(B){var se=b.each(A,function(Ke,Ge){this[Ke._id]={container:null,winding:Ke.isClockwise()?1:-1,index:Ge}},{}),Ne=A.slice().sort(function(Ke,Ge){return _(Ge.getArea())-_(Ke.getArea())}),pe=Ne[0],de=Z.findItemBoundsCollisions(Ne,null,V.GEOMETRIC_EPSILON);if(re==null)re=pe.isClockwise();for(var Se=0;Se<B;Se++){var ve=Ne[Se],ye=se[ve._id],Ue=0,Te=de[Se];if(Te){var ke=null;for(var Xe=Te.length-1;Xe>=0;Xe--)if(Te[Xe]<Se){ke=ke||ve.getInteriorPoint();var Le=Ne[Te[Xe]];if(Le.contains(ke)){var we=se[Le._id];Ue=we.winding,ye.winding+=Ue,ye.container=we.exclude?we.container:Le;break}}}if(ne(ye.winding)===ne(Ue))ye.exclude=!0,A[ye.index]=null;else{var Ie=ye.container;ve.setClockwise(Ie?!Ie.isClockwise():re)}}}return A}function oe(A,ne,re){var B=ne&&[],se=0.00000001,Ne=1-se,pe=!1,de=re||[],Se=re&&{},ve,ye,Ue;function Te(ra){return ra._path._id+"."+ra._segment1._index}for(var ke=(re&&re.length)-1;ke>=0;ke--){var Xe=re[ke];if(Xe._path)Se[Te(Xe)]=!0}for(var ke=A.length-1;ke>=0;ke--){var Le=A[ke],we=Le._time,Ie=we,Ke=ne&&!ne(Le),Xe=Le._curve,Ge;if(Xe){if(Xe!==ye)pe=!Xe.hasHandles()||Se&&Se[Te(Xe)],ve=[],Ue=null,ye=Xe;else if(Ue>=se)we/=Ue}if(Ke){if(ve)ve.push(Le);continue}else if(ne)B.unshift(Le);if(Ue=Ie,we<se)Ge=Xe._segment1;else if(we>Ne)Ge=Xe._segment2;else{var Ce=Xe.divideAtTime(we,!0);if(pe)de.push(Xe,Ce);Ge=Ce._segment1;for(var Ye=ve.length-1;Ye>=0;Ye--){var Ae=ve[Ye];Ae._time=(Ae._time-we)/(1-we)}}Le._setSegment(Ge);var He=Ge._intersection,ea=Le._intersection;if(He){ee(He,ea);var Be=He;while(Be)ee(Be._intersection,He),Be=Be._next}else Ge._intersection=ea}if(!re)H(de);return B||A}function Q(A,ne,re,B,se){var Ne=Array.isArray(ne)?ne:ne[re?"hor":"ver"],pe=re?1:0,de=pe^1,Se=[A.x,A.y],ve=Se[pe],ye=Se[de],Ue=0.000000001,Te=0.000001,ke=ve-Ue,Xe=ve+Ue,Le=0,we=0,Ie=0,Ke=0,Ge=!1,Ce=!1,Ye=1,Ae=[],He,ea;function Be(la){var ka=la[de+0],Wa=la[de+6];if(ye<n(ka,Wa)||ye>l(ka,Wa))return;var Ta=la[pe+0],yn=la[pe+2],Uo=la[pe+4],qn=la[pe+6];if(ka===Wa){if(Ta<Xe&&qn>ke||qn<Xe&&Ta>ke)Ge=!0;return}var Jn=ye===ka?0:ye===Wa?1:ke>l(Ta,yn,Uo,qn)||Xe<n(Ta,yn,Uo,qn)?1:v.solveCubic(la,de,ye,Ae,0,1)>0?Ae[0]:1,Ca=Jn===0?Ta:Jn===1?qn:v.getPoint(la,Jn)[re?"y":"x"],Aa=ka>Wa?1:-1,$s=He[de]>He[de+6]?1:-1,Pn=He[pe+6];if(ye!==ka){if(Ca<ke)Ie+=Aa;else if(Ca>Xe)Ke+=Aa;else Ge=!0;if(Ca>ve-Te&&Ca<ve+Te)Ye/=2}else{if(Aa!==$s){if(Ta<ke)Ie+=Aa;else if(Ta>Xe)Ke+=Aa}else if(Ta!=Pn){if(Pn<Xe&&Ca>Xe)Ke+=Aa,Ge=!0;else if(Pn>ke&&Ca<ke)Ie+=Aa,Ge=!0}Ye/=4}return He=la,!se&&Ca>ke&&Ca<Xe&&v.getTangent(la,Jn)[re?"x":"y"]===0&&Q(A,ne,!re,B,!0)}function ra(la){var ka=la[de+0],Wa=la[de+2],Ta=la[de+4],yn=la[de+6];if(ye<=l(ka,Wa,Ta,yn)&&ye>=n(ka,Wa,Ta,yn)){var Uo=la[pe+0],qn=la[pe+2],Jn=la[pe+4],Ca=la[pe+6],Aa=ke>l(Uo,qn,Jn,Ca)||Xe<n(Uo,qn,Jn,Ca)?[la]:v.getMonoCurves(la,re),$s;for(var Pn=0,q6=Aa.length;Pn<q6;Pn++)if($s=Be(Aa[Pn]))return $s}}for(var aa=0,oa=Ne.length;aa<oa;aa++){var sa=Ne[aa],na=sa._path,ua=sa.getValues(),ma;if(!aa||Ne[aa-1]._path!==na){if(He=null,!na._closed){if(ea=v.getValues(na.getLastCurve().getSegment2(),sa.getSegment1(),null,!B),ea[de]!==ea[de+6])He=ea}if(!He){He=ua;var _a=na.getLastCurve();while(_a&&_a!==sa){var ia=_a.getValues();if(ia[de]!==ia[de+6]){He=ia;break}_a=_a.getPrevious()}}}if(ma=ra(ua))return ma;if(aa+1===oa||Ne[aa+1]._path!==na){if(ea&&(ma=ra(ea)))return ma;if(Ge&&!Ie&&!Ke)Ie=Ke=na.isClockwise(B)^re?1:-1;if(Le+=Ie,we+=Ke,Ie=Ke=0,Ge)Ce=!0,Ge=!1;ea=null}}return Le=_(Le),we=_(we),{winding:l(Le,we),windingL:Le,windingR:we,quality:Ye,onPath:Ce}}function le(A,ne,re,B,se){var Ne=[],pe=A,de=0,Ue;do{var Se=A.getCurve();if(Se){var ve=Se.getLength();Ne.push({segment:A,curve:Se,length:ve}),de+=ve}A=A.getNext()}while(A&&!A._intersection&&A!==pe);var ye=[0.5,0.25,0.75],Ue={winding:0,quality:-1},Te=0.001,ke=1-Te;for(var Xe=0;Xe<ye.length&&Ue.quality<0.5;Xe++){var ve=de*ye[Xe];for(var Le=0,we=Ne.length;Le<we;Le++){var Ie=Ne[Le],Ke=Ie.length;if(ve<=Ke){var Se=Ie.curve,Ge=Se._path,Ce=Ge._parent,Ye=Ce instanceof F?Ce:Ge,Ae=V.clamp(Se.getTimeAt(ve),Te,ke),He=Se.getPointAtTime(Ae),ea=_(Se.getTangentAtTime(Ae).y)<Math.SQRT1_2,Be=null;if(se.subtract&&re){var ra=Ye===ne?re:ne,aa=ra._getWinding(He,ea,!0);if(Ye===ne&&aa.winding||Ye===re&&!aa.winding)if(aa.quality<1)continue;else Be={winding:0,quality:1}}if(Be=Be||Q(He,B[Ge._id][Se.getIndex()],ea,!0),Be.quality>Ue.quality)Ue=Be;break}ve-=Ke}}for(var Le=Ne.length-1;Le>=0;Le--)Ne[Le].segment._winding=Ue}function Re(A,ne){var re=[],B;function se(oa){var sa;return!!(oa&&!oa._visited&&(!ne||ne[(sa=oa._winding||{}).winding]&&!(ne.unite&&sa.winding===2&&sa.windingL&&sa.windingR)))}function Ne(oa){if(oa){for(var sa=0,na=B.length;sa<na;sa++)if(oa===B[sa])return!0}return!1}function pe(oa){var sa=oa._segments;for(var na=0,ua=sa.length;na<ua;na++)sa[na]._visited=!0}function de(oa,sa){var na=oa._intersection,ua=na,ma=[];if(sa)B=[oa];function _a(ia,la){while(ia&&ia!==la){var ka=ia._segment,Wa=ka&&ka._path;if(Wa){var Ta=ka.getNext()||Wa.getFirstSegment(),yn=Ta._intersection;if(ka!==oa&&(Ne(ka)||Ne(Ta)||Ta&&(se(ka)&&(se(Ta)||yn&&se(yn._segment)))))ma.push(ka);if(sa)B.push(ka)}ia=ia._next}}if(na){_a(na);while(na&&na._previous)na=na._previous;_a(na,ua)}return ma}A.sort(function(oa,sa){var na=oa._intersection,ua=sa._intersection,ma=!!(na&&na._overlap),_a=!!(ua&&ua._overlap),ia=oa._path,la=sa._path;return ma^_a?ma?1:-1:!na^!ua?na?1:-1:ia!==la?ia._id-la._id:oa._index-sa._index});for(var Se=0,ve=A.length;Se<ve;Se++){var ye=A[Se],Ue=se(ye),Te=null,ke=!1,Xe=!0,Le=[],we,Ie,Ke;if(Ue&&ye._path._overlapsOnly){var Ge=ye._path,Ce=ye._intersection._segment._path;if(Ge.compare(Ce)){if(Ge.getArea())re.push(Ge.clone(!1));pe(Ge),pe(Ce),Ue=!1}}while(Ue){var Ye=!Te,Ae=de(ye,Ye),He=Ae.shift(),ke=!Ye&&(Ne(ye)||Ne(He)),ea=!ke&&He;if(Ye)Te=new t(_e.NO_INSERT),we=null;if(ke){if(ye.isFirst()||ye.isLast())Xe=ye._path._closed;ye._visited=!0;break}if(ea&&we)Le.push(we),we=null;if(!we){if(ea)Ae.push(ye);we={start:Te._segments.length,crossings:Ae,visited:Ie=[],handleIn:Ke}}if(ea)ye=He;if(!se(ye)){Te.removeSegments(we.start);for(var Be=0,ra=Ie.length;Be<ra;Be++)Ie[Be]._visited=!1;Ie.length=0;do if(ye=we&&we.crossings.shift(),!ye||!ye._path){if(ye=null,we=Le.pop(),we)Ie=we.visited,Ke=we.handleIn}while(we&&!se(ye));if(!ye)break}var aa=ye.getNext();Te.add(new m(ye._point,Ke,aa&&ye._handleOut)),ye._visited=!0,Ie.push(ye),ye=aa||ye._path.getFirstSegment(),Ke=aa&&aa._handleIn}if(ke){if(Xe)Te.getFirstSegment().setHandleIn(Ke),Te.setClosed(Xe);if(Te.getArea()!==0)re.push(Te)}}return re}return{_getWinding:function(A,ne,re){return Q(A,this.getCurves(),ne,re)},unite:function(A,ne){return j(this,A,"unite",ne)},intersect:function(A,ne){return j(this,A,"intersect",ne)},subtract:function(A,ne){return j(this,A,"subtract",ne)},exclude:function(A,ne){return j(this,A,"exclude",ne)},divide:function(A,ne){return ne&&(ne.trace==!1||ne.stroke)?J(this,A,"divide"):U([this.subtract(A,ne),this.intersect(A,ne)],!0,this,A,ne)},resolveCrossings:function(){var A=this._children,ne=A||[this];function re(we,Ie){var Ke=we&&we._intersection;return Ke&&Ke._overlap&&Ke._path===Ie}var B=!1,se=!1,Ne=this.getIntersections(null,function(we){return we.hasOverlap()&&(B=!0)||we.isCrossing()&&(se=!0)}),pe=B&&se&&[];if(Ne=p.expand(Ne),B){var de=oe(Ne,function(we){return we.hasOverlap()},pe);for(var Se=de.length-1;Se>=0;Se--){var ve=de[Se],ye=ve._path,Ue=ve._segment,Te=Ue.getPrevious(),ke=Ue.getNext();if(re(Te,ye)&&re(ke,ye)){if(Ue.remove(),Te._handleOut._set(0,0),ke._handleIn._set(0,0),Te!==Ue&&!Te.getCurve().hasLength())ke._handleIn.set(Te._handleIn),Te.remove()}}}if(se){if(oe(Ne,B&&function(we){var Ie=we.getCurve(),Ke=we.getSegment(),Ge=we._intersection,Ce=Ge._curve,Ye=Ge._segment;if(Ie&&Ce&&Ie._path&&Ce._path)return!0;if(Ke)Ke._intersection=null;if(Ye)Ye._intersection=null},pe),pe)H(pe);ne=Re(b.each(ne,function(we){b.push(this,we._segments)},[]))}var Xe=ne.length,Le;if(Xe>1&&A){if(ne!==A)this.setChildren(ne);Le=this}else if(Xe===1&&!A){if(ne[0]!==this)this.setSegments(ne[0].removeSegments());Le=this}if(!Le)Le=new F(_e.NO_INSERT),Le.addChildren(ne),Le=Le.reduce(),Le.copyAttributes(this),this.replaceWith(Le);return Le},reorient:function(A,ne){var re=this._children;if(re&&re.length)this.setChildren(G(this.removeChildren(),function(B){return!!(A?B:B&1)},ne));else if(ne!==f)this.setClockwise(ne);return this},getInteriorPoint:function(){var A=this.getBounds(),ne=A.getCenter(!0);if(!this.contains(ne)){var re=this.getCurves(),B=ne.y,se=[],Ne=[];for(var pe=0,de=re.length;pe<de;pe++){var Se=re[pe].getValues(),ve=Se[1],ye=Se[3],Ue=Se[5],Te=Se[7];if(B>=n(ve,ye,Ue,Te)&&B<=l(ve,ye,Ue,Te)){var ke=v.getMonoCurves(Se);for(var Xe=0,Le=ke.length;Xe<Le;Xe++){var we=ke[Xe],Ie=we[1],Ke=we[7];if(Ie!==Ke&&(B>=Ie&&B<=Ke||B>=Ke&&B<=Ie)){var Ge=B===Ie?we[0]:B===Ke?we[6]:v.solveCubic(we,1,B,Ne,0,1)===1?v.getPoint(we,Ne[0]).x:(we[0]+we[6])/2;se.push(Ge)}}}}if(se.length>1)se.sort(function(Ce,Ye){return Ce-Ye}),ne.x=(se[0]+se[1])/2}return ne}}});var w=b.extend({_class:"PathFlattener",initialize:function(n,l,_,N,M){var S=[],U=[],P=0,j=1/(_||32),J=n._segments,ee=J[0],H;function G(Re,A){var ne=v.getValues(Re,A,M);S.push(ne),oe(ne,Re._index,0,1)}function oe(Re,A,ne,re){if(re-ne>j&&!(N&&v.isStraight(Re))&&!v.isFlatEnough(Re,l||0.25)){var B=v.subdivide(Re,0.5),se=(ne+re)/2;oe(B[0],A,ne,se),oe(B[1],A,se,re)}else{var Ne=Re[6]-Re[0],pe=Re[7]-Re[1],de=Math.sqrt(Ne*Ne+pe*pe);if(de>0)P+=de,U.push({offset:P,curve:Re,index:A,time:re})}}for(var Q=1,le=J.length;Q<le;Q++)H=J[Q],G(ee,H),ee=H;if(n._closed)G(H||ee,J[0]);this.curves=S,this.parts=U,this.length=P,this.index=0},_get:function(n){var l=this.parts,_=l.length,N,M,S=this.index;for(;;)if(M=S,!S||l[--S].offset<n)break;for(;M<_;M++){var U=l[M];if(U.offset>=n){this.index=M;var P=l[M-1],j=P&&P.index===U.index?P.time:0,J=P?P.offset:0;return{index:U.index,time:j+(U.time-j)*(n-J)/(U.offset-J)}}}return{index:l[_-1].index,time:1}},drawPart:function(n,l,_){var N=this._get(l),M=this._get(_);for(var S=N.index,U=M.index;S<=U;S++){var P=v.getPart(this.curves[S],S===N.index?N.time:0,S===M.index?M.time:1);if(S===N.index)n.moveTo(P[0],P[1]);n.bezierCurveTo.apply(n,P.slice(2))}}},b.each(v._evaluateMethods,function(n){this[n+"At"]=function(l){var _=this._get(l);return v[n](this.curves[_.index],_.time)}},{})),I=b.extend({initialize:function(n){var l=this.points=[],_=n._segments,N=n._closed;for(var M=0,S,U=_.length;M<U;M++){var P=_[M].point;if(!S||!S.equals(P))l.push(S=P.clone())}if(N)l.unshift(l[l.length-1]),l.push(l[1]);this.closed=N},fit:function(n){var l=this.points,_=l.length,N=null;if(_>0){if(N=[new m(l[0])],_>1){if(this.fitCubic(N,n,0,_-1,l[1].subtract(l[0]),l[_-2].subtract(l[_-1])),this.closed)N.shift(),N.pop()}}return N},fitCubic:function(n,l,_,N,M,S){var U=this.points;if(N-_===1){var P=U[_],j=U[N],J=P.getDistance(j)/3;this.addCurve(n,[P,P.add(M.normalize(J)),j.add(S.normalize(J)),j]);return}var ee=this.chordLengthParameterize(_,N),H=Math.max(l,l*l),G,oe=!0;for(var Q=0;Q<=4;Q++){var le=this.generateBezier(_,N,ee,M,S),Re=this.findMaxError(_,N,le,ee);if(Re.error<l&&oe){this.addCurve(n,le);return}if(G=Re.index,Re.error>=H)break;oe=this.reparameterize(_,N,ee,le),H=Re.error}var A=U[G-1].subtract(U[G+1]);this.fitCubic(n,l,_,G,M,A),this.fitCubic(n,l,G,N,A.negate(),S)},addCurve:function(n,l){var _=n[n.length-1];_.setHandleOut(l[1].subtract(l[0])),n.push(new m(l[3],l[2].subtract(l[3])))},generateBezier:function(n,l,_,N,M){var S=0.000000000001,U=Math.abs,P=this.points,j=P[n],J=P[l],ee=[[0,0],[0,0]],H=[0,0];for(var G=0,oe=l-n+1;G<oe;G++){var Q=_[G],le=1-Q,Re=3*Q*le,A=le*le*le,ne=Re*le,re=Re*Q,B=Q*Q*Q,se=N.normalize(ne),Ne=M.normalize(re),pe=P[n+G].subtract(j.multiply(A+ne)).subtract(J.multiply(re+B));ee[0][0]+=se.dot(se),ee[0][1]+=se.dot(Ne),ee[1][0]=ee[0][1],ee[1][1]+=Ne.dot(Ne),H[0]+=se.dot(pe),H[1]+=Ne.dot(pe)}var de=ee[0][0]*ee[1][1]-ee[1][0]*ee[0][1],Se,ve;if(U(de)>S){var ye=ee[0][0]*H[1]-ee[1][0]*H[0],Ue=H[0]*ee[1][1]-H[1]*ee[0][1];Se=Ue/de,ve=ye/de}else{var Te=ee[0][0]+ee[0][1],ke=ee[1][0]+ee[1][1];Se=ve=U(Te)>S?H[0]/Te:U(ke)>S?H[1]/ke:0}var Xe=J.getDistance(j),Le=S*Xe,we,Ie;if(Se<Le||ve<Le)Se=ve=Xe/3;else{var Ke=J.subtract(j);if(we=N.normalize(Se),Ie=M.normalize(ve),we.dot(Ke)-Ie.dot(Ke)>Xe*Xe)Se=ve=Xe/3,we=Ie=null}return[j,j.add(we||N.normalize(Se)),J.add(Ie||M.normalize(ve)),J]},reparameterize:function(n,l,_,N){for(var M=n;M<=l;M++)_[M-n]=this.findRoot(N,this.points[M],_[M-n]);for(var M=1,S=_.length;M<S;M++)if(_[M]<=_[M-1])return!1;return!0},findRoot:function(n,l,_){var N=[],M=[];for(var S=0;S<=2;S++)N[S]=n[S+1].subtract(n[S]).multiply(3);for(var S=0;S<=1;S++)M[S]=N[S+1].subtract(N[S]).multiply(2);var U=this.evaluate(3,n,_),P=this.evaluate(2,N,_),j=this.evaluate(1,M,_),J=U.subtract(l),ee=P.dot(P)+J.dot(j);return V.isMachineZero(ee)?_:_-J.dot(P)/ee},evaluate:function(n,l,_){var N=l.slice();for(var M=1;M<=n;M++)for(var S=0;S<=n-M;S++)N[S]=N[S].multiply(1-_).add(N[S+1].multiply(_));return N[0]},chordLengthParameterize:function(n,l){var _=[0];for(var N=n+1;N<=l;N++)_[N-n]=_[N-n-1]+this.points[N].getDistance(this.points[N-1]);for(var N=1,M=l-n;N<=M;N++)_[N]/=_[M];return _},findMaxError:function(n,l,_,N){var M=Math.floor((l-n+1)/2),S=0;for(var U=n+1;U<l;U++){var P=this.evaluate(3,_,N[U-n]),j=P.subtract(this.points[U]),J=j.x*j.x+j.y*j.y;if(J>=S)S=J,M=U}return{error:S,index:M}}}),he=_e.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function n(l){this._content="",this._lines=[];var _=l&&b.isPlainObject(l)&&l.x===f&&l.y===f;this._initialize(_&&l,!_&&k.read(arguments))},_equals:function(n){return this._content===n._content},copyContent:function(n){this.setContent(n._content)},getContent:function(){return this._content},setContent:function(n){this._content=""+n,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),qe=he.extend({_class:"PointText",initialize:function n(){he.apply(this,arguments)},getPoint:function(){var n=this._matrix.getTranslation();return new g(n.x,n.y,this,"setPoint")},setPoint:function(){var n=k.read(arguments);this.translate(n.subtract(this._matrix.getTranslation()))},_draw:function(n,l,_){if(!this._content)return;this._setStyles(n,l,_);var N=this._lines,M=this._style,S=M.hasFill(),U=M.hasStroke(),P=M.getLeading(),j=n.shadowColor;n.font=M.getFontStyle(),n.textAlign=M.getJustification();for(var J=0,ee=N.length;J<ee;J++){n.shadowColor=j;var H=N[J];if(S)n.fillText(H,0,0),n.shadowColor="rgba(0,0,0,0)";if(U)n.strokeText(H,0,0);n.translate(0,P)}},_getBounds:function(n,l){var _=this._style,N=this._lines,M=N.length,S=_.getJustification(),U=_.getLeading(),P=this.getView().getTextWidth(_.getFontStyle(),N),j=0;if(S!=="left")j-=P/(S==="center"?2:1);var J=new z(j,M?-0.75*U:0,P,M*U);return n?n._transformBounds(J,J):J}}),Ze=b.extend(new function(){var n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},l={},_={transparent:[0,0,0,0]},N;function M(P){var j=P.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||P.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),J="rgb",ee;if(j){var H=j[4]?4:3;ee=new Array(H);for(var G=0;G<H;G++){var oe=j[G+1];ee[G]=parseInt(oe.length==1?oe+oe:oe,16)/255}}else if(j=P.match(/^(rgb|hsl)a?\((.*)\)$/)){J=j[1],ee=j[2].trim().split(/[,\s]+/g);var Q=J==="hsl";for(var G=0,le=Math.min(ee.length,4);G<le;G++){var Re=ee[G],oe=parseFloat(Re);if(Q){if(G===0){var A=Re.match(/([a-z]*)$/)[1];oe*={turn:360,rad:180/Math.PI,grad:0.9}[A]||1}else if(G<3)oe/=100}else if(G<3)oe/=/%$/.test(Re)?100:255;ee[G]=oe}}else{var ne=_[P];if(!ne)if(T){if(!N)N=Qe.getContext(1,1,{willReadFrequently:!0}),N.globalCompositeOperation="copy";N.fillStyle="rgba(0,0,0,0)",N.fillStyle=P,N.fillRect(0,0,1,1);var re=N.getImageData(0,0,1,1).data;ne=_[P]=[re[0]/255,re[1]/255,re[2]/255]}else ne=[0,0,0];ee=ne.slice()}return[J,ee]}var S=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],U={"rgb-hsb":function(P,j,J){var ee=Math.max(P,j,J),H=Math.min(P,j,J),G=ee-H,oe=G===0?0:(ee==P?(j-J)/G+(j<J?6:0):ee==j?(J-P)/G+2:(P-j)/G+4)*60;return[oe,ee===0?0:G/ee,ee]},"hsb-rgb":function(P,j,J){P=(P/60%6+6)%6;var H=Math.floor(P),ee=P-H,H=S[H],G=[J,J*(1-j),J*(1-j*ee),J*(1-j*(1-ee))];return[G[H[0]],G[H[1]],G[H[2]]]},"rgb-hsl":function(P,j,J){var ee=Math.max(P,j,J),H=Math.min(P,j,J),G=ee-H,oe=G===0,Q=oe?0:(ee==P?(j-J)/G+(j<J?6:0):ee==j?(J-P)/G+2:(P-j)/G+4)*60,le=(ee+H)/2,Re=oe?0:le<0.5?G/(ee+H):G/(2-ee-H);return[Q,Re,le]},"hsl-rgb":function(P,j,J){if(P=(P/360%1+1)%1,j===0)return[J,J,J];var ee=[P+0.3333333333333333,P,P-0.3333333333333333],H=J<0.5?J*(1+j):J+j-J*j,G=2*J-H,oe=[];for(var Q=0;Q<3;Q++){var le=ee[Q];if(le<0)le+=1;if(le>1)le-=1;oe[Q]=6*le<1?G+(H-G)*6*le:2*le<1?H:3*le<2?G+(H-G)*(0.6666666666666666-le)*6:G}return oe},"rgb-gray":function(P,j,J){return[P*0.2989+j*0.587+J*0.114]},"gray-rgb":function(P){return[P,P,P]},"gray-hsb":function(P){return[0,0,P]},"gray-hsl":function(P){return[0,0,P]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return b.each(n,function(P,j){l[j]=[],b.each(P,function(J,ee){var H=b.capitalize(J),G=/^(hue|saturation)$/.test(J),oe=l[j][ee]=j==="gradient"?J==="gradient"?function(Q){var le=this._components[0];if(Q=ue.read(Array.isArray(Q)?Q:arguments,0,{readNull:!0}),le!==Q){if(le)le._removeOwner(this);if(Q)Q._addOwner(this)}return Q}:function(){return k.read(arguments,0,{readNull:J==="highlight",clone:!0})}:function(Q){return Q==null||isNaN(Q)?0:+Q};this["get"+H]=function(){return this._type===j||G&&/^hs[bl]$/.test(this._type)?this._components[ee]:this._convert(j)[ee]},this["set"+H]=function(Q){if(this._type!==j&&!(G&&/^hs[bl]$/.test(this._type)))this._components=this._convert(j),this._properties=n[j],this._type=j;this._components[ee]=oe.call(this,Q),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function P(j){var J=arguments,ee=this.__read,H=0,G,oe,Q,le;if(Array.isArray(j))J=j,j=J[0];var Re=j!=null&&typeof j;if(Re==="string"&&j in n)if(G=j,j=J[1],Array.isArray(j))oe=j,Q=J[2];else{if(ee)H=1;J=b.slice(J,1),Re=typeof j}if(!oe){if(le=Re==="number"?J:Re==="object"&&j.length!=null?j:null,le){if(!G)G=le.length>=3?"rgb":"gray";var A=n[G].length;if(Q=le[A],ee)H+=le===arguments?A+(Q!=null?1:0):1;if(le.length>A)le=b.slice(le,0,A)}else if(Re==="string"){var ne=M(j);if(G=ne[0],oe=ne[1],oe.length===4)Q=oe[3],oe.length--}else if(Re==="object")if(j.constructor===P){if(G=j._type,oe=j._components.slice(),Q=j._alpha,G==="gradient")for(var re=1,B=oe.length;re<B;re++){var se=oe[re];if(se)oe[re]=se.clone()}}else if(j.constructor===ue)G="gradient",le=J;else{G="hue"in j?"lightness"in j?"hsl":"hsb":("gradient"in j)||("stops"in j)||("radial"in j)?"gradient":("gray"in j)?"gray":"rgb";var Ne=n[G],pe=l[G];this._components=oe=[];for(var re=0,B=Ne.length;re<B;re++){var de=j[Ne[re]];if(de==null&&!re&&G==="gradient"&&"stops"in j)de={stops:j.stops,radial:j.radial};if(de=pe[re].call(this,de),de!=null)oe[re]=de}Q=j.alpha}if(ee&&G)H=1}if(this._type=G||"rgb",!oe){this._components=oe=[];var pe=l[this._type];for(var re=0,B=pe.length;re<B;re++){var de=pe[re].call(this,le&&le[re]);if(de!=null)oe[re]=de}}if(this._components=oe,this._properties=n[this._type],this._alpha=Q,ee)this.__read=H;return this},set:"#initialize",_serialize:function(P,j){var J=this.getComponents();return b.serialize(/^(gray|rgb)$/.test(this._type)?J:[this._type].concat(J),P,!0,j)},_changed:function(){if(this._canvasStyle=null,this._owner)if(this._setter)this._owner[this._setter](this);else this._owner._changed(129)},_convert:function(P){var j;return this._type===P?this._components.slice():(j=U[this._type+"-"+P])?j.apply(this,this._components):U["rgb-"+P].apply(this,U[this._type+"-rgb"].apply(this,this._components))},convert:function(P){return new Ze(P,this._convert(P),this._alpha)},getType:function(){return this._type},setType:function(P){this._components=this._convert(P),this._properties=n[P],this._type=P},getComponents:function(){var P=this._components.slice();if(this._alpha!=null)P.push(this._alpha);return P},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(P){this._alpha=P==null?null:Math.min(Math.max(P,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(P){var j=b.isPlainValue(P,!0)?Ze.read(arguments):P;return j===this||j&&this._class===j._class&&this._type===j._type&&this.getAlpha()===j.getAlpha()&&b.equals(this._components,j._components)||!1},toString:function(){var P=this._properties,j=[],J=this._type==="gradient",ee=$.instance;for(var H=0,G=P.length;H<G;H++){var oe=this._components[H];if(oe!=null)j.push(P[H]+": "+(J?oe:ee.number(oe)))}if(this._alpha!=null)j.push("alpha: "+ee.number(this._alpha));return"{ "+j.join(", ")+" }"},toCSS:function(P){var j=this._convert("rgb"),J=P||this._alpha==null?1:this._alpha;function ee(H){return Math.round((H<0?0:H>1?1:H)*255)}if(j=[ee(j[0]),ee(j[1]),ee(j[2])],J<1)j.push(J<0?0:J);return P?"#"+(16777216+(j[0]<<16)+(j[1]<<8)+j[2]).toString(16).slice(1):(j.length==4?"rgba(":"rgb(")+j.join(",")+")"},toCanvasStyle:function(P,j){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var J=this._components,ee=J[0],H=ee._stops,G=J[1],oe=J[2],Q=J[3],le=j&&j.inverted(),Re;if(le){if(G=le._transformPoint(G),oe=le._transformPoint(oe),Q)Q=le._transformPoint(Q)}if(ee._radial){var A=oe.getDistance(G);if(Q){var ne=Q.subtract(G);if(ne.getLength()>A)Q=G.add(ne.normalize(A-0.1))}var re=Q||G;Re=P.createRadialGradient(re.x,re.y,0,G.x,G.y,A)}else Re=P.createLinearGradient(G.x,G.y,oe.x,oe.y);for(var B=0,se=H.length;B<se;B++){var Ne=H[B],pe=Ne._offset;Re.addColorStop(pe==null?B/(se-1):pe,Ne._color.toCanvasStyle())}return this._canvasStyle=Re},transform:function(P){if(this._type==="gradient"){var j=this._components;for(var J=1,ee=j.length;J<ee;J++){var H=j[J];P._transformPoint(H,H,!0)}this._changed()}},statics:{_types:n,random:function(){var P=Math.random;return new Ze(P(),P(),P())},_setOwner:function(P,j,J){if(P){if(P._owner&&j&&P._owner!==j)P=P.clone();if(!P._owner^!j)P._owner=j||null,P._setter=J||null}return P}}})},new function(){var n={add:function(l,_){return l+_},subtract:function(l,_){return l-_},multiply:function(l,_){return l*_},divide:function(l,_){return l/_}};return b.each(n,function(l,_){this[_]=function(N){N=Ze.read(arguments);var M=this._type,S=this._components,U=N._convert(M);for(var P=0,j=S.length;P<j;P++)U[P]=l(S[P],U[P]);return new Ze(M,U,this._alpha!=null?l(this._alpha,N.getAlpha()):null)}},{})}),ue=b.extend({_class:"Gradient",initialize:function n(l,_){if(this._id=x.get(),l&&b.isPlainObject(l))this.set(l),l=_=null;if(this._stops==null)this.setStops(l||["white","black"]);if(this._radial==null)this.setRadial(typeof _==="string"&&_==="radial"||_||!1)},_serialize:function(n,l){return l.add(this,function(){return b.serialize([this._stops,this._radial],n,!0,l)})},_changed:function(){for(var n=0,l=this._owners&&this._owners.length;n<l;n++)this._owners[n]._changed()},_addOwner:function(n){if(!this._owners)this._owners=[];this._owners.push(n)},_removeOwner:function(n){var l=this._owners?this._owners.indexOf(n):-1;if(l!=-1){if(this._owners.splice(l,1),!this._owners.length)this._owners=f}},clone:function(){var n=[];for(var l=0,_=this._stops.length;l<_;l++)n[l]=this._stops[l].clone();return new ue(n,this._radial)},getStops:function(){return this._stops},setStops:function(n){if(n.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var l=this._stops;if(l)for(var _=0,N=l.length;_<N;_++)l[_]._owner=f;l=this._stops=ie.readList(n,0,{clone:!0});for(var _=0,N=l.length;_<N;_++)l[_]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(n){this._radial=n,this._changed()},equals:function(n){if(n===this)return!0;if(n&&this._class===n._class){var l=this._stops,_=n._stops,N=l.length;if(N===_.length){for(var M=0;M<N;M++)if(!l[M].equals(_[M]))return!1;return!0}}return!1}}),ie=b.extend({_class:"GradientStop",initialize:function n(l,_){var N=l,M=_;if(typeof l==="object"&&_===f){if(Array.isArray(l)&&typeof l[0]!=="number")N=l[0],M=l[1];else if("color"in l||"offset"in l||"rampPoint"in l)N=l.color,M=l.offset||l.rampPoint||0}this.setColor(N),this.setOffset(M)},clone:function(){return new ie(this._color.clone(),this._offset)},_serialize:function(n,l){var _=this._color,N=this._offset;return b.serialize(N==null?[_]:[_,N],n,!0,l)},_changed:function(){if(this._owner)this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(n){this._offset=n,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ze._setOwner(this._color,null),this._color=Ze._setOwner(Ze.read(arguments,0),this,"setColor"),this._changed()},equals:function(n){return n===this||n&&this._class===n._class&&this._color.equals(n._color)&&this._offset==n._offset||!1}}),fe=b.extend(new function(){var n={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new k,selectedColor:null},l=b.set({},n,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),_=b.set({},l,{fillColor:new Ze}),N={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},M={beans:!0},S={_class:"Style",beans:!0,initialize:function U(P,j,J){if(this._values={},this._owner=j,this._project=j&&j._project||J||L.project,this._defaults=!j||j instanceof $e?l:j instanceof he?_:n,P)this.set(P)}};return b.each(l,function(U,P){var j=/Color$/.test(P),J=P==="shadowOffset",ee=b.capitalize(P),H=N[P],G="set"+ee,oe="get"+ee;S[G]=function(Q){var le=this._owner,Re=le&&le._children,A=Re&&Re.length>0&&!(le instanceof F);if(A)for(var ne=0,re=Re.length;ne<re;ne++)Re[ne]._style[G](Q);if((P==="selectedColor"||!A)&&P in this._defaults){var B=this._values[P];if(B!==Q){if(j){if(B)Ze._setOwner(B,null),B._canvasStyle=null;if(Q&&Q.constructor===Ze)Q=Ze._setOwner(Q,le,A&&G)}if(this._values[P]=Q,le)le._changed(H||129)}}},S[oe]=function(Q){var le=this._owner,Re=le&&le._children,A=Re&&Re.length>0&&!(le instanceof F),ne;if(A&&!Q)for(var re=0,B=Re.length;re<B;re++){var se=Re[re]._style[oe]();if(!re)ne=se;else if(!b.equals(ne,se))return f}else if(P in this._defaults){var ne=this._values[P];if(ne===f){if(ne=this._defaults[P],ne&&ne.clone)ne=ne.clone()}else{var Ne=j?Ze:J?k:null;if(Ne&&!(ne&&ne.constructor===Ne))this._values[P]=ne=Ne.read([ne],0,{readNull:!0,clone:!0})}}if(ne&&j)ne=Ze._setOwner(ne,le,A&&G);return ne},M[oe]=function(Q){return this._style[oe](Q)},M[G]=function(Q){this._style[G](Q)}}),b.each({Font:"FontFamily",WindingRule:"FillRule"},function(U,P){var j="get"+P,J="set"+P;S[j]=M[j]="#get"+U,S[J]=M[J]="#set"+U}),_e.inject(M),S},{set:function(n){var l=n instanceof fe,_=l?n._values:n;if(_){for(var N in _)if(N in this._defaults){var M=_[N];this[N]=M&&l&&M.clone?M.clone():M}}},equals:function(n){function l(_,N,M){var S=_._values,U=N._values,P=N._defaults;for(var j in S){var J=S[j],ee=U[j];if(!(M&&(j in U))&&!b.equals(J,ee===f?P[j]:ee))return!1}return!0}return n===this||n&&this._class===n._class&&l(this,n)&&l(n,this,!0)||!1},_dispose:function(){var n=this.getFillColor();if(n)n._canvasStyle=null;if(n=this.getStrokeColor(),n)n._canvasStyle=null;if(n=this.getShadowColor(),n)n._canvasStyle=null},hasFill:function(){var n=this.getFillColor();return!!n&&n.alpha>0},hasStroke:function(){var n=this.getStrokeColor();return!!n&&n.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var n=this.getShadowColor();return!!n&&n.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var n=this.getFontSize();return this.getFontWeight()+" "+n+(/[a-z]/i.test(n+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function n(){var l=n.base.call(this),_=this.getFontSize();if(/pt|em|%|px/.test(_))_=this.getView().getPixelSize(_);return l!=null?l:_*1.2}}),Ee=new function(){function n(l,_,N,M){var S=["","webkit","moz","Moz","ms","o"],U=_[0].toUpperCase()+_.substring(1);for(var P=0;P<6;P++){var j=S[P],J=j?j+U:_;if(J in l){if(N)l[J]=M;else return l[J];break}}}return{getStyles:function(l){var _=l&&l.nodeType!==9?l.ownerDocument:l,N=_&&_.defaultView;return N&&N.getComputedStyle(l,"")},getBounds:function(l,_){var N=l.ownerDocument,M=N.body,S=N.documentElement,U;try{U=l.getBoundingClientRect()}catch(ee){U={left:0,top:0,width:0,height:0}}var P=U.left-(S.clientLeft||M.clientLeft||0),j=U.top-(S.clientTop||M.clientTop||0);if(!_){var J=N.defaultView;P+=J.pageXOffset||S.scrollLeft||M.scrollLeft,j+=J.pageYOffset||S.scrollTop||M.scrollTop}return new z(P,j,U.width,U.height)},getViewportBounds:function(l){var _=l.ownerDocument,N=_.defaultView,M=_.documentElement;return new z(0,0,N.innerWidth||M.clientWidth,N.innerHeight||M.clientHeight)},getOffset:function(l,_){return Ee.getBounds(l,_).getPoint()},getSize:function(l){return Ee.getBounds(l,!0).getSize()},isInvisible:function(l){return Ee.getSize(l).equals(new X(0,0))},isInView:function(l){return!Ee.isInvisible(l)&&Ee.getViewportBounds(l).intersects(Ee.getBounds(l,!0))},isInserted:function(l){return c.body.contains(l)},getPrefixed:function(l,_){return l&&n(l,_)},setPrefixed:function(l,_,N){if(typeof _==="object")for(var M in _)n(l,M,!0,_[M]);else n(l,_,!0,N)}}},xe={add:function(n,l){if(n)for(var _ in l){var N=l[_],M=_.split(/[\s,]+/g);for(var S=0,U=M.length;S<U;S++){var P=M[S],j=n===c&&(P==="touchstart"||P==="touchmove")?{passive:!1}:!1;n.addEventListener(P,N,j)}}},remove:function(n,l){if(n)for(var _ in l){var N=l[_],M=_.split(/[\s,]+/g);for(var S=0,U=M.length;S<U;S++)n.removeEventListener(M[S],N,!1)}},getPoint:function(n){var l=n.targetTouches?n.targetTouches.length?n.targetTouches[0]:n.changedTouches[0]:n;return new k(l.pageX||l.clientX+c.documentElement.scrollLeft,l.pageY||l.clientY+c.documentElement.scrollTop)},getTarget:function(n){return n.target||n.srcElement},getRelatedTarget:function(n){return n.relatedTarget||n.toElement},getOffset:function(n,l){return xe.getPoint(n).subtract(Ee.getOffset(l||xe.getTarget(n)))}};xe.requestAnimationFrame=new function(){var n=Ee.getPrefixed(T,"requestAnimationFrame"),l=!1,_=[],N;function M(){var S=_;_=[];for(var U=0,P=S.length;U<P;U++)S[U]();if(l=n&&_.length,l)n(M)}return function(S){if(_.push(S),n){if(!l)n(M),l=!0}else if(!N)N=setInterval(M,16.666666666666668)}};var ze=b.extend(W,{_class:"View",initialize:function n(l,_){function N(H){return _[H]||parseInt(_.getAttribute(H),10)}function M(){var H=Ee.getSize(_);return H.isNaN()||H.isZero()?new X(N("width"),N("height")):H}var S;if(T&&_){if(this._id=_.getAttribute("id"),this._id==null)_.setAttribute("id",this._id="paper-view-"+n._id++);xe.add(_,this._viewEvents);var U="none";if(Ee.setPrefixed(_.style,{userDrag:U,userSelect:U,touchCallout:U,contentZooming:U,tapHighlightColor:"rgba(0,0,0,0)"}),y.hasAttribute(_,"resize")){var P=this;xe.add(T,this._windowEvents={resize:function(){P.setViewSize(M())}})}if(S=M(),y.hasAttribute(_,"stats")&&typeof Stats!=="undefined"){this._stats=new Stats;var j=this._stats.domElement,J=j.style,ee=Ee.getOffset(_);J.position="absolute",J.left=ee.x+"px",J.top=ee.y+"px",c.body.appendChild(j)}}else S=new X(_),_=null;if(this._project=l,this._scope=l._scope,this._element=_,!this._pixelRatio)this._pixelRatio=T&&T.devicePixelRatio||1;if(this._setElementSize(S.width,S.height),this._viewSize=S,n._views.push(this),n._viewsById[this._id]=this,(this._matrix=new Y)._owner=this,!n._focused)n._focused=this;this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!L.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;if(ze._focused===this)ze._focused=null;ze._views.splice(ze._views.indexOf(this),1),delete ze._viewsById[this._id];var n=this._project;if(n._view===this)n._view=null;return xe.remove(this._element,this._viewEvents),xe.remove(T,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:b.each(_e._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(n){this[n]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(n){if(this._autoUpdate=n,n)this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var n=this;xe.requestAnimationFrame(function(){if(n._requested=!1,n._animate){n.requestUpdate();var l=n._element;if((!Ee.getPrefixed(c,"hidden")||y.getAttribute(l,"keepalive")==="true")&&Ee.isInView(l))n._handleFrame()}if(n._autoUpdate)n.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){L=this._scope;var n=Date.now()/1000,l=this._last?n-this._last:0;if(this._last=n,this.emit("frame",new b({delta:l,time:this._time+=l,count:this._count++})),this._stats)this._stats.update()},_animateItem:function(n,l){var _=this._frameItems;if(l){if(_[n._id]={item:n,time:0,count:0},++this._frameItemCount===1)this.on("frame",this._handleFrameItems)}else if(delete _[n._id],--this._frameItemCount===0)this.off("frame",this._handleFrameItems)},_handleFrameItems:function(n){for(var l in this._frameItems){var _=this._frameItems[l];_.item.emit("frame",new b(n,{time:_.time+=n.delta,count:_.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=f},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var n=this._viewSize;return new E(n.width,n.height,this,"setViewSize")},setViewSize:function(){var n=X.read(arguments),l=n.subtract(this._viewSize);if(l.isZero())return;if(this._setElementSize(n.width,n.height),this._viewSize.set(n),this._changed(),this.emit("resize",{size:n,delta:l}),this._autoUpdate)this.update()},_setElementSize:function(n,l){var _=this._element;if(_){if(_.width!==n)_.width=n;if(_.height!==l)_.height=l}},getBounds:function(){if(!this._bounds)this._bounds=this._matrix.inverted()._transformBounds(new z(new k,this._viewSize));return this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ee.isInView(this._element)},isInserted:function(){return Ee.isInserted(this._element)},getPixelSize:function(n){var l=this._element,_;if(l){var N=l.parentNode,M=c.createElement("div");M.style.fontSize=n,N.appendChild(M),_=parseFloat(Ee.getStyles(M).fontSize),N.removeChild(M)}else _=parseFloat(_);return _},getTextWidth:function(n,l){return 0}},b.each(["rotate","scale","shear","skew"],function(n){var l=n==="rotate";this[n]=function(){var _=arguments,N=(l?b:k).read(_),M=k.read(_,0,{readNull:!0});return this.transform(new Y()[n](N,M||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var n=new Y;return this.transform(n.translate.apply(n,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var n=k.read(arguments);this.translate(this.getCenter().subtract(n))},getZoom:function(){var n=this._decompose().scaling;return(n.x+n.y)/2},setZoom:function(n){this.transform(new Y().scale(n/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(n){var l=this.getRotation();if(l!=null&&n!=null)this.rotate(n-l)},getScaling:function(){var n=this._decompose().scaling;return new g(n.x,n.y,this,"setScaling")},setScaling:function(){var n=this.getScaling(),l=k.read(arguments,0,{clone:!0,readNull:!0});if(n&&l)this.scale(l.x/n.x,l.y/n.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var n=this._matrix;n.set.apply(n,arguments)},transform:function(n){this._matrix.append(n)},scrollBy:function(){this.translate(k.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(k.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(k.read(arguments))},getEventPoint:function(n){return this.viewToProject(xe.getOffset(n,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(n,l){if(c&&typeof l==="string")l=c.getElementById(l);var _=T?D:ze;return new _(n,l)}}},new function(){if(!T)return;var n,l,_=!1,N=!1;function M(Te){var ke=xe.getTarget(Te);return ke.getAttribute&&ze._viewsById[ke.getAttribute("id")]}function S(){var Te=ze._focused;if(!Te||!Te.isVisible()){for(var ke=0,Xe=ze._views.length;ke<Xe;ke++)if((Te=ze._views[ke]).isVisible()){ze._focused=l=Te;break}}}function U(Te,ke,Xe){Te._handleMouseEvent("mousemove",ke,Xe)}var P=T.navigator,j,J,ee;if(P.pointerEnabled||P.msPointerEnabled)j="pointerdown MSPointerDown",J="pointermove MSPointerMove",ee="pointerup pointercancel MSPointerUp MSPointerCancel";else if(j="touchstart",J="touchmove",ee="touchend touchcancel",!(("ontouchstart"in T)&&P.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)))j+=" mousedown",J+=" mousemove",ee+=" mouseup";var H={},G={mouseout:function(Te){var ke=ze._focused,Xe=xe.getRelatedTarget(Te);if(ke&&(!Xe||Xe.nodeName==="HTML")){var Le=xe.getOffset(Te,ke._element),we=Le.x,Ie=Math.abs,Ke=Ie(we),Ge=33554432,Ce=Ke-Ge;Le.x=Ie(Ce)<Ke?Ce*(we<0?-1:1):we,U(ke,Te,ke.viewToProject(Le))}},scroll:S};H[j]=function(Te){var ke=ze._focused=M(Te);if(!_)_=!0,ke._handleMouseEvent("mousedown",Te)},G[J]=function(Te){var ke=ze._focused;if(!N){var Xe=M(Te);if(Xe){if(ke!==Xe){if(ke)U(ke,Te);if(!n)n=ke;ke=ze._focused=l=Xe}}else if(l&&l===ke){if(n&&!n.isInserted())n=null;ke=ze._focused=n,n=null,S()}}if(ke)U(ke,Te)},G[j]=function(){N=!0},G[ee]=function(Te){var ke=ze._focused;if(ke&&_)ke._handleMouseEvent("mouseup",Te);N=_=!1},xe.add(c,G),xe.add(T,{load:S});var oe=!1,Q=!1,le={doubleclick:"click",mousedrag:"mousemove"},Re=!1,A,ne,re,B,se,Ne,pe,de,Se;function ve(Te,ke,Xe,Le,we,Ie,Ke){var Ge=!1,Ce;function Ye(Ae,He){if(Ae.responds(He)){if(!Ce)Ce=new ge(He,Le,we,ke||Ae,Ie?we.subtract(Ie):null);if(Ae.emit(He,Ce)){if(oe=!0,Ce.prevented)Q=!0;if(Ce.stopped)return Ge=!0}}else{var ea=le[He];if(ea)return Ye(Ae,ea)}}while(Te&&Te!==Ke){if(Ye(Te,Xe))break;Te=Te._parent}return Ge}function ye(Te,ke,Xe,Le,we,Ie){return Te._project.removeOn(Xe),Q=oe=!1,Ne&&ve(Ne,null,Xe,Le,we,Ie)||ke&&ke!==Ne&&!ke.isDescendant(Ne)&&ve(ke,null,Xe==="mousedrag"?"mousemove":Xe,Le,we,Ie,Ne)||ve(Te,Ne||ke||Te,Xe,Le,we,Ie)}var Ue={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:H,_handleMouseEvent:function(Te,ke,Xe){var Le=this._itemEvents,we=Le.native[Te],Ie=Te==="mousemove",Ke=this._scope.tool,Ge=this;function Ce(aa){return Le.virtual[aa]||Ge.responds(aa)||Ke&&Ke.responds(aa)}if(Ie&&_&&Ce("mousedrag"))Te="mousedrag";if(!Xe)Xe=this.getEventPoint(ke);var Ye=this.getBounds().contains(Xe),Ae=we&&Ye&&Ge._project.hitTest(Xe,{tolerance:0,fill:!0,stroke:!0}),He=Ae&&Ae.item||null,ea=!1,Be={};if(Be[Te.substr(5)]=!0,we&&He!==se){if(se)ve(se,null,"mouseleave",ke,Xe);if(He)ve(He,null,"mouseenter",ke,Xe);se=He}if(Re^Ye)ve(this,null,Ye?"mouseenter":"mouseleave",ke,Xe),A=Ye?this:null,ea=!0;if((Ye||Be.drag)&&!Xe.equals(re))ye(this,He,Ie?Te:"mousemove",ke,Xe,re),ea=!0;if(Re=Ye,Be.down&&Ye||Be.up&&ne){if(ye(this,He,Te,ke,Xe,ne),Be.down){if(Se=He===pe&&Date.now()-de<300,B=pe=He,!Q&&He){var ra=He;while(ra&&!ra.responds("mousedrag"))ra=ra._parent;if(ra)Ne=He}ne=Xe}else if(Be.up){if(!Q&&He===B)de=Date.now(),ye(this,He,Se?"doubleclick":"click",ke,Xe,ne),Se=!1;B=Ne=null}Re=!1,ea=!0}if(re=Xe,ea&&Ke)oe=Ke._handleMouseEvent(Te,ke,Xe,Be)||oe;if(ke.cancelable!==!1&&(oe&&!Be.move||Be.down&&Ce("mouseup")))ke.preventDefault()},_handleKeyEvent:function(Te,ke,Xe,Le){var we=this._scope,Ie=we.tool,Ke;function Ge(Ce){if(Ce.responds(Te))L=we,Ce.emit(Te,Ke=Ke||new ae(Te,ke,Xe,Le))}if(this.isVisible()){if(Ge(this),Ie&&Ie.responds(Te))Ge(Ie)}},_countItemEvent:function(Te,ke){var Xe=this._itemEvents,Le=Xe.native,we=Xe.virtual;for(var Ie in Ue)Le[Ie]=(Le[Ie]||0)+(Ue[Ie][Te]||0)*ke;we[Te]=(we[Te]||0)+ke},statics:{updateFocus:S,_resetState:function(){_=N=oe=Re=!1,n=l=A=ne=re=B=se=Ne=pe=de=Se=null}}}}),D=ze.extend({_class:"CanvasView",initialize:function n(l,_){if(!(_ instanceof T.HTMLCanvasElement)){var N=X.read(arguments,1);if(N.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+b.slice(arguments,1));_=Qe.getCanvas(N)}var M=this._context=_.getContext("2d");if(M.save(),this._pixelRatio=1,!/^off|false$/.test(y.getAttribute(_,"hidpi"))){var S=T.devicePixelRatio||1,U=Ee.getPrefixed(M,"backingStorePixelRatio")||1;this._pixelRatio=S/U}ze.call(this,l,_),this._needsUpdate=!0},remove:function n(){return this._context.restore(),n.base.call(this)},_setElementSize:function n(l,_){var N=this._pixelRatio;if(n.base.call(this,l*N,_*N),N!==1){var M=this._element,S=this._context;if(!y.hasAttribute(M,"resize")){var U=M.style;U.width=l+"px",U.height=_+"px"}S.restore(),S.save(),S.scale(N,N)}},getContext:function(){return this._context},getPixelSize:function n(l){var _=L.agent,N;if(_&&_.firefox)N=n.base.call(this,l);else{var M=this._context,S=M.font;M.font=l+" serif",N=parseFloat(M.font),M.font=S}return N},getTextWidth:function(n,l){var _=this._context,N=_.font,M=0;_.font=n;for(var S=0,U=l.length;S<U;S++)M=Math.max(M,_.measureText(l[S]).width);return _.font=N,M},update:function(){if(!this._needsUpdate)return!1;var n=this._project,l=this._context,_=this._viewSize;if(l.clearRect(0,0,_.width+1,_.height+1),n)n.draw(l,this._matrix,this._pixelRatio);return this._needsUpdate=!1,!0}}),O=b.extend({_class:"Event",initialize:function n(l){this.event=l,this.type=l&&l.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return We.modifiers}}),ae=O.extend({_class:"KeyEvent",initialize:function n(l,_,N,M){this.type=l,this.event=_,this.key=N,this.character=M},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),We=new function(){var n={"\t":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},l={tab:"\t",space:" ",enter:"\r"},_={},N={},M,S,U=new b({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var J=L&&L.agent;return J&&J.mac?this.meta:this.control}}});function P(J){var ee=J.key||J.keyIdentifier;return ee=/^U\+/.test(ee)?String.fromCharCode(parseInt(ee.substr(2),16)):/^Arrow[A-Z]/.test(ee)?ee.substr(5):ee==="Unidentified"||ee===f?String.fromCharCode(J.keyCode):ee,n[ee]||(ee.length>1?b.hyphenate(ee):ee.toLowerCase())}function j(J,ee,H,G){var oe=J?"keydown":"keyup",Q=ze._focused,le;if(_[ee]=J,J)N[ee]=H;else delete N[ee];if(ee.length>1&&(le=b.camelize(ee))in U){U[le]=J;var Re=L&&L.agent;if(le==="meta"&&Re&&Re.mac)if(J)M={};else{for(var A in M)if(A in N)j(!1,A,M[A],G);M=null}}else if(J&&M)M[ee]=H;if(Q)Q._handleKeyEvent(J?"keydown":"keyup",G,ee,H)}return xe.add(c,{keydown:function(J){var ee=P(J),H=L&&L.agent;if(ee.length>1||H&&(H.chrome&&(J.altKey||H.mac&&J.metaKey||!H.mac&&J.ctrlKey)))j(!0,ee,l[ee]||(ee.length>1?"":ee),J);else S=ee},keypress:function(J){if(S){var ee=P(J),H=J.charCode,G=H>=32?String.fromCharCode(H):ee.length>1?"":ee;if(ee!==S)ee=G.toLowerCase();j(!0,ee,G,J),S=null}},keyup:function(J){var ee=P(J);if(ee in N)j(!1,ee,N[ee],J)}}),xe.add(T,{blur:function(J){for(var ee in N)j(!1,ee,N[ee],J)}}),{modifiers:U,isDown:function(J){return!!_[J]}}},ge=O.extend({_class:"MouseEvent",initialize:function n(l,_,N,M,S){this.type=l,this.event=_,this.point=N,this.target=M,this.delta=S},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ve=O.extend({_class:"ToolEvent",_item:null,initialize:function n(l,_,N){this.tool=l,this.type=_,this.event=N},_choosePoint:function(n,l){return n?n:l?l.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(n){this._point=n},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(n){this._lastPoint=n},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(n){this._downPoint=n},getMiddlePoint:function(){if(!this._middlePoint&&this.tool._lastPoint)return this.tool._point.add(this.tool._lastPoint).divide(2);return this._middlePoint},setMiddlePoint:function(n){this._middlePoint=n},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(n){this._delta=n},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(n){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=n},getItem:function(){if(!this._item){var n=this.tool._scope.project.hitTest(this.getPoint());if(n){var l=n.item,_=l._parent;while(/^(Group|CompoundPath)$/.test(_._class))l=_,_=_._parent;this._item=l}}return this._item},setItem:function(n){this._item=n},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),De=q.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function n(l){q.call(this),this._moveCount=-1,this._downCount=-1,this.set(l)},getMinDistance:function(){return this._minDistance},setMinDistance:function(n){if(this._minDistance=n,n!=null&&this._maxDistance!=null&&n>this._maxDistance)this._maxDistance=n},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(n){if(this._maxDistance=n,this._minDistance!=null&&n!=null&&n<this._minDistance)this._minDistance=n},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(n){this._minDistance=this._maxDistance=n},_handleMouseEvent:function(n,l,_,N){if(L=this._scope,N.drag&&!this.responds(n))n="mousemove";var M=N.move||N.drag,S=this.responds(n),U=this.minDistance,P=this.maxDistance,j=!1,J=this;function ee(G,oe){var Q=_,le=M?J._point:J._downPoint||Q;if(M){if(J._moveCount>=0&&Q.equals(le))return!1;if(le&&(G!=null||oe!=null)){var Re=Q.subtract(le),A=Re.getLength();if(A<(G||0))return!1;if(oe)Q=le.add(Re.normalize(Math.min(A,oe)))}J._moveCount++}if(J._point=Q,J._lastPoint=le||Q,N.down)J._moveCount=-1,J._downPoint=Q,J._downCount++;return!0}function H(){if(S)j=J.emit(n,new Ve(J,n,l))||j}if(N.down)ee(),H();else if(N.up)ee(null,P),H();else if(S)while(ee(U,P))H();return j}}),Oe=b.extend(W,{_class:"Tween",statics:{easings:new b({linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<0.5?2*n*n:-1+2*(2-n)*n},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<0.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<0.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<0.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}})},initialize:function n(l,_,N,M,S,U){this.object=l;var P=typeof S,j=P==="function";this.type=j?P:P==="string"?S:"linear",this.easing=j?S:n.easings[this.type],this.duration=M,this.running=!1,this._then=null,this._startTime=null;var J=_||N;if(this._keys=J?Object.keys(J):[],this._parsedKeys=this._parseKeys(this._keys),this._from=J&&this._getState(_),this._to=J&&this._getState(N),U!==!1)this.start()},then:function(n){return this._then=n,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(n){if(this.running){if(n>=1)n=1,this.running=!1;var l=this.easing(n),_=this._keys,N=function(ee){return typeof ee==="function"?ee(l,n):ee};for(var M=0,S=_&&_.length;M<S;M++){var U=_[M],P=N(this._from[U]),j=N(this._to[U]),J=P&&j&&P.__add&&j.__add?j.__subtract(P).__multiply(l).__add(P):(j-P)*l+P;this._setProperty(this._parsedKeys[U],J)}if(this.responds("update"))this.emit("update",new b({progress:n,factor:l}));if(!this.running&&this._then)this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(n){var l=this._startTime,_=l?(n-l)/this.duration:0;if(!l)this._startTime=n;this.update(_)},_getState:function(n){var l=this._keys,_={};for(var N=0,M=l.length;N<M;N++){var S=l[N],U=this._parsedKeys[S],P=this._getProperty(U),j;if(n){var J=this._resolveValue(P,n[S]);this._setProperty(U,J),j=this._getProperty(U),j=j&&j.clone?j.clone():j,this._setProperty(U,P)}else j=P&&P.clone?P.clone():P;_[S]=j}return _},_resolveValue:function(n,l){if(l){if(Array.isArray(l)&&l.length===2){var _=l[0];return _&&_.match&&_.match(/^[+\-\*\/]=/)?this._calculate(n,_[0],l[1]):l}else if(typeof l==="string"){var N=l.match(/^[+\-*/]=(.*)/);if(N){var M=JSON.parse(N[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(n,l[0],M)}}}return l},_calculate:function(n,l,_){return L.PaperScript.calculateBinary(n,l,_)},_parseKeys:function(n){var l={};for(var _=0,N=n.length;_<N;_++){var M=n[_],S=M.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");l[M]=S.split("/")}return l},_getProperty:function(n,l){var _=this.object;for(var N=0,M=n.length-(l||0);N<M&&_;N++)_=_[n[N]];return _},_setProperty:function(n,l){var _=this._getProperty(n,1);if(_)_[n[n.length-1]]=l}}),Je={request:function(n){var l=new R.XMLHttpRequest;if(l.open((n.method||"get").toUpperCase(),n.url,b.pick(n.async,!0)),n.mimeType)l.overrideMimeType(n.mimeType);return l.onload=function(){var _=l.status;if(_===0||_===200){if(n.onLoad)n.onLoad.call(l,l.responseText)}else l.onerror()},l.onerror=function(){var _=l.status,N='Could not load "'+n.url+'" (Status: '+_+")";if(n.onError)n.onError(N,_);else throw new Error(N)},l.send(null)}},Qe=b.exports.CanvasProvider={canvases:[],getCanvas:function(n,l,_){if(!T)return null;var N,M=!0;if(typeof n==="object")l=n.height,n=n.width;if(this.canvases.length)N=this.canvases.pop();else N=c.createElement("canvas"),M=!1;var S=N.getContext("2d",_||{});if(!S)throw new Error("Canvas "+N+" is unable to provide a 2D context.");if(N.width===n&&N.height===l){if(M)S.clearRect(0,0,n+1,l+1)}else N.width=n,N.height=l;return S.save(),N},getContext:function(n,l,_){var N=this.getCanvas(n,l,_);return N?N.getContext("2d",_||{}):null},release:function(n){var l=n&&n.canvas?n.canvas:n;if(l&&l.getContext)l.getContext("2d").restore(),this.canvases.push(l)}},Pe=new function(){var{min:n,max:l,abs:_}=Math,N,M,S,U,P,j,J,ee,H,G,oe;function Q(se,Ne,pe){return 0.2989*se+0.587*Ne+0.114*pe}function le(se,Ne,pe,ve){var Se=ve-Q(se,Ne,pe);H=se+Se,G=Ne+Se,oe=pe+Se;var ve=Q(H,G,oe),ye=n(H,G,oe),Ue=l(H,G,oe);if(ye<0){var Te=ve-ye;H=ve+(H-ve)*ve/Te,G=ve+(G-ve)*ve/Te,oe=ve+(oe-ve)*ve/Te}if(Ue>255){var ke=255-ve,Xe=Ue-ve;H=ve+(H-ve)*ke/Xe,G=ve+(G-ve)*ke/Xe,oe=ve+(oe-ve)*ke/Xe}}function Re(se,Ne,pe){return l(se,Ne,pe)-n(se,Ne,pe)}function A(se,Ne,pe,de){var Se=[se,Ne,pe],ve=l(se,Ne,pe),ye=n(se,Ne,pe),Ue;if(ye=ye===se?0:ye===Ne?1:2,ve=ve===se?0:ve===Ne?1:2,Ue=n(ye,ve)===0?l(ye,ve)===1?2:1:0,Se[ve]>Se[ye])Se[Ue]=(Se[Ue]-Se[ye])*de/(Se[ve]-Se[ye]),Se[ve]=de;else Se[Ue]=Se[ve]=0;Se[ye]=0,H=Se[0],G=Se[1],oe=Se[2]}var ne={multiply:function(){H=P*N/255,G=j*M/255,oe=J*S/255},screen:function(){H=P+N-P*N/255,G=j+M-j*M/255,oe=J+S-J*S/255},overlay:function(){H=P<128?2*P*N/255:255-2*(255-P)*(255-N)/255,G=j<128?2*j*M/255:255-2*(255-j)*(255-M)/255,oe=J<128?2*J*S/255:255-2*(255-J)*(255-S)/255},"soft-light":function(){var se=N*P/255;H=se+P*(255-(255-P)*(255-N)/255-se)/255,se=M*j/255,G=se+j*(255-(255-j)*(255-M)/255-se)/255,se=S*J/255,oe=se+J*(255-(255-J)*(255-S)/255-se)/255},"hard-light":function(){H=N<128?2*N*P/255:255-2*(255-N)*(255-P)/255,G=M<128?2*M*j/255:255-2*(255-M)*(255-j)/255,oe=S<128?2*S*J/255:255-2*(255-S)*(255-J)/255},"color-dodge":function(){H=P===0?0:N===255?255:n(255,255*P/(255-N)),G=j===0?0:M===255?255:n(255,255*j/(255-M)),oe=J===0?0:S===255?255:n(255,255*J/(255-S))},"color-burn":function(){H=P===255?255:N===0?0:l(0,255-(255-P)*255/N),G=j===255?255:M===0?0:l(0,255-(255-j)*255/M),oe=J===255?255:S===0?0:l(0,255-(255-J)*255/S)},darken:function(){H=P<N?P:N,G=j<M?j:M,oe=J<S?J:S},lighten:function(){H=P>N?P:N,G=j>M?j:M,oe=J>S?J:S},difference:function(){if(H=P-N,H<0)H=-H;if(G=j-M,G<0)G=-G;if(oe=J-S,oe<0)oe=-oe},exclusion:function(){H=P+N*(255-P-P)/255,G=j+M*(255-j-j)/255,oe=J+S*(255-J-J)/255},hue:function(){A(N,M,S,Re(P,j,J)),le(H,G,oe,Q(P,j,J))},saturation:function(){A(P,j,J,Re(N,M,S)),le(H,G,oe,Q(P,j,J))},luminosity:function(){le(P,j,J,Q(N,M,S))},color:function(){le(N,M,S,Q(P,j,J))},add:function(){H=n(P+N,255),G=n(j+M,255),oe=n(J+S,255)},subtract:function(){H=l(P-N,0),G=l(j-M,0),oe=l(J-S,0)},average:function(){H=(P+N)/2,G=(j+M)/2,oe=(J+S)/2},negation:function(){H=255-_(255-N-P),G=255-_(255-M-j),oe=255-_(255-S-J)}},re=this.nativeModes=b.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(se){this[se]=!0},{}),B=Qe.getContext(1,1,{willReadFrequently:!0});if(B)b.each(ne,function(se,Ne){var pe=Ne==="darken",de=!1;B.save();try{if(B.fillStyle=pe?"#300":"#a00",B.fillRect(0,0,1,1),B.globalCompositeOperation=Ne,B.globalCompositeOperation===Ne)B.fillStyle=pe?"#a00":"#300",B.fillRect(0,0,1,1),de=B.getImageData(0,0,1,1).data[0]!==pe?170:51}catch(Se){}B.restore(),re[Ne]=de}),Qe.release(B);this.process=function(se,Ne,pe,de,Se){var ve=Ne.canvas,ye=se==="normal";if(ye||re[se]){if(pe.save(),pe.setTransform(1,0,0,1,0,0),pe.globalAlpha=de,!ye)pe.globalCompositeOperation=se;pe.drawImage(ve,Se.x,Se.y),pe.restore()}else{var Ue=ne[se];if(!Ue)return;var Te=pe.getImageData(Se.x,Se.y,ve.width,ve.height),ke=Te.data,Xe=Ne.getImageData(0,0,ve.width,ve.height).data;for(var Le=0,we=ke.length;Le<we;Le+=4){N=Xe[Le],P=ke[Le],M=Xe[Le+1],j=ke[Le+1],S=Xe[Le+2],J=ke[Le+2],U=Xe[Le+3],ee=ke[Le+3],Ue();var Ie=U*de/255,Ke=1-Ie;ke[Le]=Ie*H+Ke*P,ke[Le+1]=Ie*G+Ke*j,ke[Le+2]=Ie*oe+Ke*J,ke[Le+3]=U*de+Ke*ee}pe.putImageData(Te,Se.x,Se.y)}}},Fe=new function(){var n="http://www.w3.org/2000/svg",l="http://www.w3.org/2000/xmlns",_="http://www.w3.org/1999/xlink",N={href:_,xlink:l,xmlns:l+"/","xmlns:xlink":l+"/"};function M(P,j,J){return U(c.createElementNS(n,P),j,J)}function S(P,j){var J=N[j],ee=J?P.getAttributeNS(J,j):P.getAttribute(j);return ee==="null"?null:ee}function U(P,j,J){for(var ee in j){var H=j[ee],G=N[ee];if(typeof H==="number"&&J)H=J.number(H);if(G)P.setAttributeNS(G,ee,H);else P.setAttribute(ee,H)}return P}return{svg:n,xmlns:l,xlink:_,create:M,get:S,set:U}},pa=b.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(n,l){return!l&&(n instanceof a||n instanceof Me||n instanceof he)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(n,l){var _=b.capitalize(l),N=n[2];this[l]={type:n[1],property:l,attribute:n[0],toSVG:N,fromSVG:N&&b.each(N,function(M,S){this[M]=S},{}),exportFilter:n[3],get:"get"+_,set:"set"+_}},{});new function(){var n;function l(ne,re,B){var se=new b,Ne=ne.getTranslation();if(re){var pe;if(ne.isInvertible())ne=ne._shiftless(),pe=ne._inverseTransform(Ne),Ne=null;else pe=new k;se[B?"cx":"x"]=pe.x,se[B?"cy":"y"]=pe.y}if(!ne.isIdentity()){var de=ne.decompose();if(de){var Se=[],ve=de.rotation,ye=de.scaling,Ue=de.skewing;if(Ne&&!Ne.isZero())Se.push("translate("+n.point(Ne)+")");if(ve)Se.push("rotate("+n.number(ve)+")");if(!V.isZero(ye.x-1)||!V.isZero(ye.y-1))Se.push("scale("+n.point(ye)+")");if(Ue.x)Se.push("skewX("+n.number(Ue.x)+")");if(Ue.y)Se.push("skewY("+n.number(Ue.y)+")");se.transform=Se.join(" ")}else se.transform="matrix("+ne.getValues().join(",")+")"}return se}function _(ne,re){var B=l(ne._matrix),se=ne._children,Ne=Fe.create("g",B,n);for(var pe=0,de=se.length;pe<de;pe++){var Se=se[pe],ve=Re(Se,re);if(ve)if(Se.isClipMask()){var ye=Fe.create("clipPath");ye.appendChild(ve),Q(Se,ye,"clip"),Fe.set(Ne,{"clip-path":"url(#"+ye.id+")"})}else Ne.appendChild(ve)}return Ne}function N(ne,re){var B=l(ne._matrix,!0),se=ne.getSize(),Ne=ne.getImage();return B.x-=se.width/2,B.y-=se.height/2,B.width=se.width,B.height=se.height,B.href=re.embedImages==!1&&Ne&&Ne.src||ne.toDataURL(),Fe.create("image",B,n)}function M(ne,re){var B=re.matchShapes;if(B){var se=ne.toShape(!1);if(se)return S(se,re)}var Ne=ne._segments,pe=Ne.length,de,Se=l(ne._matrix);if(B&&pe>=2&&!ne.hasHandles())if(pe>2){de=ne._closed?"polygon":"polyline";var ve=[];for(var ye=0;ye<pe;ye++)ve.push(n.point(Ne[ye]._point));Se.points=ve.join(" ")}else{de="line";var Ue=Ne[0]._point,Te=Ne[1]._point;Se.set({x1:Ue.x,y1:Ue.y,x2:Te.x,y2:Te.y})}else de="path",Se.d=ne.getPathData(null,re.precision);return Fe.create(de,Se,n)}function S(ne){var{_type:re,_radius:B}=ne,se=l(ne._matrix,!0,re!=="rectangle");if(re==="rectangle"){re="rect";var Ne=ne._size,pe=Ne.width,de=Ne.height;if(se.x-=pe/2,se.y-=de/2,se.width=pe,se.height=de,B.isZero())B=null}if(B)if(re==="circle")se.r=B;else se.rx=B.width,se.ry=B.height;return Fe.create(re,se,n)}function U(ne,re){var B=l(ne._matrix),se=ne.getPathData(null,re.precision);if(se)B.d=se;return Fe.create("path",B,n)}function P(ne,re){var B=l(ne._matrix,!0),se=ne._definition,Ne=oe(se,"symbol"),pe=se._item,de=pe.getStrokeBounds();if(!Ne)Ne=Fe.create("symbol",{viewBox:n.rectangle(de)}),Ne.appendChild(Re(pe,re)),Q(se,Ne,"symbol");return B.href="#"+Ne.id,B.x+=de.x,B.y+=de.y,B.width=de.width,B.height=de.height,B.overflow="visible",Fe.create("use",B,n)}function j(ne){var re=oe(ne,"color");if(!re){var B=ne.getGradient(),se=B._radial,Ne=ne.getOrigin(),pe=ne.getDestination(),de;if(se){de={cx:Ne.x,cy:Ne.y,r:Ne.getDistance(pe)};var Se=ne.getHighlight();if(Se)de.fx=Se.x,de.fy=Se.y}else de={x1:Ne.x,y1:Ne.y,x2:pe.x,y2:pe.y};de.gradientUnits="userSpaceOnUse",re=Fe.create((se?"radial":"linear")+"Gradient",de,n);var ve=B._stops;for(var ye=0,Ue=ve.length;ye<Ue;ye++){var Te=ve[ye],ke=Te._color,Xe=ke.getAlpha(),Le=Te._offset;if(de={offset:Le==null?ye/(Ue-1):Le},ke)de["stop-color"]=ke.toCSS(!0);if(Xe<1)de["stop-opacity"]=Xe;re.appendChild(Fe.create("stop",de,n))}Q(ne,re,"color")}return"url(#"+re.id+")"}function J(ne){var re=Fe.create("text",l(ne._matrix,!0),n);return re.textContent=ne._content,re}var ee={Group:_,Layer:_,Raster:N,Path:M,Shape:S,CompoundPath:U,SymbolItem:P,PointText:J};function H(ne,re,B){var se={},Ne=!B&&ne.getParent(),pe=[];if(ne._name!=null)se.id=ne._name;if(b.each(pa,function(de){var{get:Se,type:ve}=de,ye=ne[Se]();if(de.exportFilter?de.exportFilter(ne,ye):!Ne||!b.equals(Ne[Se](),ye)){if(ve==="color"&&ye!=null){var Ue=ye.getAlpha();if(Ue<1)se[de.attribute+"-opacity"]=Ue}if(ve==="style")pe.push(de.attribute+": "+ye);else se[de.attribute]=ye==null?"none":ve==="color"?ye.gradient?j(ye,ne):ye.toCSS(!0):ve==="array"?ye.join(","):ve==="lookup"?de.toSVG[ye]:ye}}),pe.length)se.style=pe.join(";");if(se.opacity===1)delete se.opacity;if(!ne._visible)se.visibility="hidden";return Fe.set(re,se,n)}var G;function oe(ne,re){if(!G)G={ids:{},svgs:{}};return ne&&G.svgs[re+"-"+(ne._id||ne.__id||(ne.__id=x.get("svg")))]}function Q(ne,re,B){if(!G)oe();var se=G.ids[B]=(G.ids[B]||0)+1;re.id=B+"-"+se,G.svgs[B+"-"+(ne._id||ne.__id)]=re}function le(ne,re){var B=ne,se=null;if(G){B=ne.nodeName.toLowerCase()==="svg"&&ne;for(var Ne in G.svgs){if(!se){if(!B)B=Fe.create("svg"),B.appendChild(ne);se=B.insertBefore(Fe.create("defs"),B.firstChild)}se.appendChild(G.svgs[Ne])}G=null}return re.asString?new R.XMLSerializer().serializeToString(B):B}function Re(ne,re,B){var se=ee[ne._class],Ne=se&&se(ne,re);if(Ne){var pe=re.onExport;if(pe)Ne=pe(ne,Ne,re)||Ne;var de=JSON.stringify(ne._data);if(de&&de!=="{}"&&de!=="null")Ne.setAttribute("data-paper-data",de)}return Ne&&H(ne,Ne,B)}function A(ne){if(!ne)ne={};return n=new $(ne.precision),ne}_e.inject({exportSVG:function(ne){return ne=A(ne),le(Re(this,ne,!0),ne)}}),te.inject({exportSVG:function(ne){ne=A(ne);var re=this._children,B=this.getView(),se=b.pick(ne.bounds,"view"),Ne=ne.matrix||se==="view"&&B._matrix,pe=Ne&&Y.read([Ne]),de=se==="view"?new z([0,0],B.getViewSize()):se==="content"?_e._getBounds(re,pe,{stroke:!0}).rect:z.read([se],0,{readNull:!0}),Se={version:"1.1",xmlns:Fe.svg,"xmlns:xlink":Fe.xlink};if(de){if(Se.width=de.width,Se.height=de.height,de.x||de.x===0||de.y||de.y===0)Se.viewBox=n.rectangle(de)}var ve=Fe.create("svg",Se,n),ye=ve;if(pe&&!pe.isIdentity())ye=ve.appendChild(Fe.create("g",l(pe),n));for(var Ue=0,Te=re.length;Ue<Te;Ue++)ye.appendChild(Re(re[Ue],ne,!0));return le(ve,ne)}})},new function(){var n={},l;function _(re,B,se,Ne,pe,de){var Se=Fe.get(re,B)||de,ve=Se==null?Ne?null:se?"":0:se?Se:parseFloat(Se);return/%\s*$/.test(Se)?ve/100*(pe?1:l[/x|^width/.test(B)?"width":"height"]):ve}function N(re,B,se,Ne,pe,de,Se){return B=_(re,B||"x",!1,Ne,pe,de),se=_(re,se||"y",!1,Ne,pe,Se),Ne&&(B==null||se==null)?null:new k(B,se)}function M(re,B,se,Ne,pe){return B=_(re,B||"width",!1,Ne,pe),se=_(re,se||"height",!1,Ne,pe),Ne&&(B==null||se==null)?null:new X(B,se)}function S(re,B,se){return re==="none"?null:B==="number"?parseFloat(re):B==="array"?re?re.split(/[\s,]+/g).map(parseFloat):[]:B==="color"?Re(re)||re:B==="lookup"?se[re]:re}function U(re,B,se,Ne){var pe=re.childNodes,de=B==="clippath",Se=B==="defs",ve=new $e,ye=ve._project,Ue=ye._currentStyle,Te=[];if(!de&&!Se)ve=le(ve,re,Ne),ye._currentStyle=ve._style.clone();if(Ne){var ke=re.querySelectorAll("defs");for(var Xe=0,Le=ke.length;Xe<Le;Xe++)A(ke[Xe],se,!1)}for(var Xe=0,Le=pe.length;Xe<Le;Xe++){var we=pe[Xe],Ie;if(we.nodeType===1&&!/^defs$/i.test(we.nodeName)&&(Ie=A(we,se,!1))&&!(Ie instanceof i))Te.push(Ie)}if(ve.addChildren(Te),de)ve=le(ve.reduce(),re,Ne);if(ye._currentStyle=Ue,de||Se)ve.remove(),ve=null;return ve}function P(re,B){var se=re.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),Ne=[];for(var pe=0,de=se.length;pe<de;pe+=2)Ne.push(new k(parseFloat(se[pe]),parseFloat(se[pe+1])));var Se=new t(Ne);if(B==="polygon")Se.closePath();return Se}function j(re){return a.create(re.getAttribute("d"))}function J(re,B){var se=(_(re,"href",!0)||"").substring(1),Ne=B==="radialgradient",pe;if(se){if(pe=n[se].getGradient(),pe._radial^Ne)pe=pe.clone(),pe._radial=Ne}else{var de=re.childNodes,Se=[];for(var ve=0,ye=de.length;ve<ye;ve++){var Ue=de[ve];if(Ue.nodeType===1)Se.push(le(new ie,Ue))}pe=new ue(Se,Ne)}var Te,ke,Xe,Le=_(re,"gradientUnits",!0)!=="userSpaceOnUse";if(Ne)Te=N(re,"cx","cy",!1,Le,"50%","50%"),ke=Te.add(_(re,"r",!1,!1,Le,"50%"),0),Xe=N(re,"fx","fy",!0,Le);else Te=N(re,"x1","y1",!1,Le,"0%","0%"),ke=N(re,"x2","y2",!1,Le,"100%","0%");var we=le(new Ze(pe,Te,ke,Xe),re);return we._scaleToBounds=Le,null}var ee={"#document":function(re,B,se,Ne){var pe=re.childNodes;for(var de=0,Se=pe.length;de<Se;de++){var ve=pe[de];if(ve.nodeType===1)return A(ve,se,Ne)}},g:U,svg:U,clippath:U,polygon:P,polyline:P,path:j,lineargradient:J,radialgradient:J,image:function(re){var B=new e(_(re,"href",!0));return B.on("load",function(){var se=M(re);this.setSize(se);var Ne=N(re).add(se.divide(2));this._matrix.append(new Y().translate(Ne))}),B},symbol:function(re,B,se,Ne){return new i(U(re,B,se,Ne),!0)},defs:U,use:function(re){var B=(_(re,"href",!0)||"").substring(1),se=n[B],Ne=N(re);return se?se instanceof i?se.place(Ne):se.clone().translate(Ne):null},circle:function(re){return new Me.Circle(N(re,"cx","cy"),_(re,"r"))},ellipse:function(re){return new Me.Ellipse({center:N(re,"cx","cy"),radius:M(re,"rx","ry")})},rect:function(re){return new Me.Rectangle(new z(N(re),M(re)),M(re,"rx","ry"))},line:function(re){return new t.Line(N(re,"x1","y1"),N(re,"x2","y2"))},text:function(re){var B=new qe(N(re).add(N(re,"dx","dy")));return B.setContent(re.textContent.trim()||""),B},switch:U};function H(re,B,se,Ne){if(re.transform){var pe=(Ne.getAttribute(se)||"").split(/\)\s*/g),de=new Y;for(var Se=0,ve=pe.length;Se<ve;Se++){var ye=pe[Se];if(!ye)break;var Ue=ye.split(/\(\s*/),Te=Ue[0],ke=Ue[1].split(/[\s,]+/g);for(var Xe=0,Le=ke.length;Xe<Le;Xe++)ke[Xe]=parseFloat(ke[Xe]);switch(Te){case"matrix":de.append(new Y(ke[0],ke[1],ke[2],ke[3],ke[4],ke[5]));break;case"rotate":de.rotate(ke[0],ke[1]||0,ke[2]||0);break;case"translate":de.translate(ke[0],ke[1]||0);break;case"scale":de.scale(ke);break;case"skewX":de.skew(ke[0],0);break;case"skewY":de.skew(0,ke[0]);break}}re.transform(de)}}function G(re,B,se){var Ne=se==="fill-opacity"?"getFillColor":"getStrokeColor",pe=re[Ne]&&re[Ne]();if(pe)pe.setAlpha(parseFloat(B))}var oe=b.set(b.each(pa,function(re){this[re.attribute]=function(B,se){if(B[re.set]){if(B[re.set](S(se,re.type,re.fromSVG)),re.type==="color"){var Ne=B[re.get]();if(Ne){if(Ne._scaleToBounds){var pe=B.getBounds();Ne.transform(new Y().translate(pe.getPoint()).scale(pe.getSize()))}}}}}},{}),{id:function(re,B){if(n[B]=re,re.setName)re.setName(B)},"clip-path":function(re,B){var se=Re(B);if(se)if(se=se.clone(),se.setClipMask(!0),re instanceof $e)re.insertChild(0,se);else return new $e(se,re)},gradientTransform:H,transform:H,"fill-opacity":G,"stroke-opacity":G,visibility:function(re,B){if(re.setVisible)re.setVisible(B==="visible")},display:function(re,B){if(re.setVisible)re.setVisible(B!==null)},"stop-color":function(re,B){if(re.setColor)re.setColor(B)},"stop-opacity":function(re,B){if(re._color)re._color.setAlpha(parseFloat(B))},offset:function(re,B){if(re.setOffset){var se=B.match(/(.*)%$/);re.setOffset(se?se[1]/100:parseFloat(B))}},viewBox:function(re,B,se,Ne,pe){var de=new z(S(B,"array")),Se=M(Ne,null,null,!0),ve,ye;if(re instanceof $e){var Ue=Se?Se.divide(de.getSize()):1,ye=new Y().scale(Ue).translate(de.getPoint().negate());ve=re}else if(re instanceof i){if(Se)de.setSize(Se);ve=re._item}if(ve){if(Q(Ne,"overflow",pe)!=="visible"){var Te=new Me.Rectangle(de);Te.setClipMask(!0),ve.addChild(Te)}if(ye)ve.transform(ye)}}});function Q(re,B,se){var Ne=re.attributes[B],pe=Ne&&Ne.value;if(!pe&&re.style){var de=b.camelize(B);if(pe=re.style[de],!pe&&se.node[de]!==se.parent[de])pe=se.node[de]}return!pe?f:pe==="none"?null:pe}function le(re,B,se){var Ne=B.parentNode,pe={node:Ee.getStyles(B)||{},parent:!se&&!/^defs$/i.test(Ne.tagName)&&Ee.getStyles(Ne)||{}};return b.each(oe,function(de,Se){var ve=Q(B,Se,pe);re=ve!==f&&de(re,ve,Se,B,pe)||re}),re}function Re(re){var B=re&&re.match(/\((?:["'#]*)([^"')]+)/),se=B&&B[1],Ne=se&&n[T?se.replace(T.location.href.split("#")[0]+"#",""):se];if(Ne&&Ne._scaleToBounds)Ne=Ne.clone(),Ne._scaleToBounds=!0;return Ne}function A(re,B,se){var Ne=re.nodeName.toLowerCase(),pe=Ne!=="#document",de=c.body,Se,ve,ye;if(se&&pe)l=L.getView().getSize(),l=M(re,null,null,!0)||l,Se=Fe.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),ve=re.parentNode,ye=re.nextSibling,Se.appendChild(re),de.appendChild(Se);var Ue=L.settings,Te=Ue.applyMatrix,ke=Ue.insertItems;Ue.applyMatrix=!1,Ue.insertItems=!1;var Xe=ee[Ne],Le=Xe&&Xe(re,Ne,B,se)||null;if(Ue.insertItems=ke,Ue.applyMatrix=Te,Le){if(pe&&!(Le instanceof $e))Le=le(Le,re,se);var we=B.onImport,Ie=pe&&re.getAttribute("data-paper-data");if(we)Le=we(re,Le,B)||Le;if(B.expandShapes&&Le instanceof Me)Le.remove(),Le=Le.toPath();if(Ie)Le._data=JSON.parse(Ie)}if(Se){if(de.removeChild(Se),ve)if(ye)ve.insertBefore(re,ye);else ve.appendChild(re)}if(se){if(n={},Le&&b.pick(B.applyMatrix,Te))Le.matrix.apply(!0,!0)}return Le}function ne(re,B,se){if(!re)return null;B=typeof B==="function"?{onLoad:B}:B||{};var Ne=L,pe=null;function de(Ue){try{var Te=typeof Ue==="object"?Ue:new R.DOMParser().parseFromString(Ue.trim(),"image/svg+xml");if(!Te.nodeName)throw Te=null,new Error("Unsupported SVG source: "+re);if(L=Ne,pe=A(Te,B,!0),!B||B.insert!==!1)se._insertItem(f,pe);var ke=B.onLoad;if(ke)ke(pe,Ue)}catch(Xe){Se(Xe)}}function Se(Ue,Te){var ke=B.onError;if(ke)ke(Ue,Te);else throw new Error(Ue)}if(typeof re==="string"&&!/^[\s\S]*</.test(re)){var ve=c.getElementById(re);if(ve)de(ve);else Je.request({url:re,async:!0,onLoad:de,onError:Se})}else if(typeof File!=="undefined"&&re instanceof File){var ye=new FileReader;return ye.onload=function(){de(ye.result)},ye.onerror=function(){Se(ye.error)},ye.readAsText(re)}else de(re);return pe}_e.inject({importSVG:function(re,B){return ne(re,B,this)}}),te.inject({importSVG:function(re,B){return this.activate(),ne(re,B,this)}})};var L=new(y.inject(b.exports,{Base:b,Numerical:V,Key:We,DomEvent:xe,DomElement:Ee,document:c,window:T,Symbol:i,PlacedSymbol:o}));if(L.agent.node)(()=>({}))(L);if(typeof define==="function"&&define.amd)define("paper",L);else if(typeof d==="object"&&d)d.exports=L;return L}.call(r,typeof self==="object"?self:null)}),U4=Ti(xi(),1),ki=Ti(xi(),1),ce=new Ga.Generator("JavaScript");ce.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","));ce.ORDER_ATOMIC=0;ce.ORDER_NEW=1.1;ce.ORDER_MEMBER=1.2;ce.ORDER_FUNCTION_CALL=2;ce.ORDER_INCREMENT=3;ce.ORDER_DECREMENT=3;ce.ORDER_BITWISE_NOT=4.1;ce.ORDER_UNARY_PLUS=4.2;ce.ORDER_UNARY_NEGATION=4.3;ce.ORDER_LOGICAL_NOT=4.4;ce.ORDER_TYPEOF=4.5;ce.ORDER_VOID=4.6;ce.ORDER_DELETE=4.7;ce.ORDER_DIVISION=5.1;ce.ORDER_MULTIPLICATION=5.2;ce.ORDER_MODULUS=5.3;ce.ORDER_SUBTRACTION=6.1;ce.ORDER_ADDITION=6.2;ce.ORDER_BITWISE_SHIFT=7;ce.ORDER_RELATIONAL=8;ce.ORDER_IN=8;ce.ORDER_INSTANCEOF=8;ce.ORDER_EQUALITY=9;ce.ORDER_BITWISE_AND=10;ce.ORDER_BITWISE_XOR=11;ce.ORDER_BITWISE_OR=12;ce.ORDER_LOGICAL_AND=13;ce.ORDER_LOGICAL_OR=14;ce.ORDER_CONDITIONAL=15;ce.ORDER_ASSIGNMENT=16;ce.ORDER_COMMA=17;ce.ORDER_NONE=99;ce.ORDER_OVERRIDES=[[ce.ORDER_FUNCTION_CALL,ce.ORDER_MEMBER],[ce.ORDER_FUNCTION_CALL,ce.ORDER_FUNCTION_CALL],[ce.ORDER_MEMBER,ce.ORDER_MEMBER],[ce.ORDER_MEMBER,ce.ORDER_FUNCTION_CALL],[ce.ORDER_LOGICAL_NOT,ce.ORDER_LOGICAL_NOT],[ce.ORDER_MULTIPLICATION,ce.ORDER_MULTIPLICATION],[ce.ORDER_ADDITION,ce.ORDER_ADDITION],[ce.ORDER_LOGICAL_AND,ce.ORDER_LOGICAL_AND],[ce.ORDER_LOGICAL_OR,ce.ORDER_LOGICAL_OR]];ce.init=function(r){if(ce.definitions_=Object.create(null),ce.functionNames_=Object.create(null),!ce.variableDB_)ce.variableDB_=new Ga.Names(ce.RESERVED_WORDS_);else ce.variableDB_.reset();ce.variableDB_.setVariableMap(r.getVariableMap());var d=[],u=r.getAllVariables();for(var R=0;R<u.length;R++){if(u[R].type===Ga.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;const T=ce.variableDB_.getName(u[R].getId(),Ga.Variables.NAME_TYPE);if(u[R].type===Ga.LIST_VARIABLE_TYPE)d.push(`let ${T}${Ga.LIST_VARIABLE_TYPE} = [];`);else d.push(`let ${T} = 0;`)}var f=Ga.Variables.allDeveloperVariables(r);for(var R=0;R<f.length;R++){const c=ce.variableDB_.getName(f[R],Ga.Names.DEVELOPER_VARIABLE_TYPE);if(u[R].type===Ga.LIST_VARIABLE_TYPE)d.push(`let ${c}${Ga.LIST_VARIABLE_TYPE} = [];`);else d.push(`let ${c} = 0;`)}if(d.length)ce.definitions_.variables=d.join("\n")};ce.finish=function(r){var d=[];for(var u in ce.definitions_)d.push(ce.definitions_[u]);return delete ce.definitions_,delete ce.functionNames_,ce.variableDB_.reset(),d.join("\n\n")+"\n\n\n"+r};ce.scrubNakedValue=function(r){return r+";\n"};ce.quote_=function(r){return"'"+r+"'"};ce.HAT_CODE="/* HatCode */";ce.scrub_=function(r,d){var u="";if(!r.outputConnection?.targetConnection){var R=r.getCommentText();if(R=Ga.utils.wrap(R,ce.COMMENT_WRAP-3),R)if(r.getProcedureDef)u+="/**\n"+ce.prefixLines(R+"\n"," * ")+" */\n";else u+=ce.prefixLines(R+"\n","// ");for(var f=0;f<r.inputList.length;f++)if(r.inputList[f].type==Ga.INPUT_VALUE){var T=r.inputList[f].connection.targetBlock();if(T){var R=ce.allNestedComments(T);if(R)u+=ce.prefixLines(R,"// ")}}}if(r.startHat_){const c=r.nextConnection&&r.nextConnection.targetBlock();let b=ce.blockToCode(c);if(b)b=ce.prefixLines(b,ce.INDENT),d=d.replace(ce.HAT_CODE,b);return u+d}if(r.parentBlock_){const c=r.nextConnection&&r.nextConnection.targetBlock(),b=ce.blockToCode(c);return u+d+b}return""};ce.getAdjusted=function(r,d,u,R,f){var T=u||0,c=f||ce.ORDER_NONE;if(r.workspace.options.oneBasedIndex)T--;var b=r.workspace.options.oneBasedIndex?"1":"0";if(T>0)var W=ce.valueToCode(r,d,ce.ORDER_ADDITION)||b;else if(T<0)var W=ce.valueToCode(r,d,ce.ORDER_SUBTRACTION)||b;else if(R)var W=ce.valueToCode(r,d,ce.ORDER_UNARY_NEGATION)||b;else var W=ce.valueToCode(r,d,c)||b;if(Ga.isNumber(W)){if(W=parseFloat(W)+T,R)W=-W}else{if(T>0){W=W+" + "+T;var y=ce.ORDER_ADDITION}else if(T<0){W=W+" - "+-T;var y=ce.ORDER_SUBTRACTION}if(R){if(T)W="-("+W+")";else W="-"+W;var y=ce.ORDER_UNARY_NEGATION}if(y=Math.floor(y),c=Math.floor(c),y&&c>=y)W="("+W+")"}return W};ce.colour_picker=(r)=>{return[ce.quote_(r.getFieldValue("COLOUR")),ce.ORDER_ATOMIC]};var ro="if (abort || !runtime.running) break;\n",Rs=`  await runtime.nextFrame();\n  ${ro}`;ce.control_wait=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"DURATION",ce.ORDER_NONE)||0;return d+=`await runtime.sleep(runtime.number(${u}));\n${ro}`,d};ce.control_repeat=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);let u=ce.statementToCode(r,"SUBSTACK")||"";if(ce.STATEMENT_SUFFIX)u=ce.prefixLines(ce.injectId(ce.STATEMENT_SUFFIX,r),ce.INDENT)+u;const R=ce.valueToCode(r,"TIMES",ce.ORDER_NONE)||0;return d+=`for (let _ = 0; _ < runtime.number(${R}); _++) {\n${u}${Rs}}\n${ro}`,d};ce.control_forever=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);let u=ce.statementToCode(r,"SUBSTACK")||"";if(ce.STATEMENT_SUFFIX)u=ce.prefixLines(ce.injectId(ce.STATEMENT_SUFFIX,r),ce.INDENT)+u;return d+=`while (true) {\n${u}${Rs}}\n${ro}`,d};ce.control_if=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);let u=ce.statementToCode(r,"SUBSTACK")||"";if(ce.STATEMENT_SUFFIX)u=ce.prefixLines(ce.injectId(ce.STATEMENT_SUFFIX,r),ce.INDENT)+u;const R=ce.valueToCode(r,"CONDITION",ce.ORDER_NONE)||"false";if(d+=`if (${R}) {\n${u}}\n`,r.getInput("SUBSTACK2")){if(u=ce.statementToCode(r,"SUBSTACK2")||"",ce.STATEMENT_SUFFIX)u=ce.prefixLines(ce.injectId(ce.STATEMENT_SUFFIX,r),ce.INDENT)+u;d+=`else {\n${u}}\n`}return d};ce.control_if_else=ce.control_if;ce.control_wait_until=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"CONDITION",ce.ORDER_NONE)||"false";return d+=`while (!(${u})) {\n${Rs}}\n${ro}`,d};ce.control_repeat_until=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);let u=ce.statementToCode(r,"SUBSTACK")||"";if(ce.STATEMENT_SUFFIX)u=ce.prefixLines(ce.injectId(ce.STATEMENT_SUFFIX,r),ce.INDENT)+u;const R=ce.valueToCode(r,"CONDITION",ce.ORDER_NONE)||"false";return d+=`while (!(${R})) {\n${u}${Rs}}\n${ro}`,d};ce.control_while=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);let u=ce.statementToCode(r,"SUBSTACK")||"";if(ce.STATEMENT_SUFFIX)u=ce.prefixLines(ce.injectId(ce.STATEMENT_SUFFIX,r),ce.INDENT)+u;const R=ce.valueToCode(r,"CONDITION",ce.ORDER_NONE)||"false";return d+=`while (${R}) {\n${u}${Rs}}\n${ro}`,d};ce.control_stop=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);switch(r.getFieldValue("STOP_OPTION")){case"all":d+="runtime.stop();\n";break;case"this script":d+="return done();\n";break;case"other scripts in sprite":d+="abort = true;\n";break}return d};ce.data_variable=(r)=>{return[ce.variableDB_.getName(r.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),ce.ORDER_CONDITIONAL]};ce.data_setvariableto=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.variableDB_.getName(r.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),R=ce.valueToCode(r,"VALUE",ce.ORDER_NONE)||'""';return d+=`${u} = ${R};\n`,d};ce.data_changevariableby=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.variableDB_.getName(r.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),R=ce.valueToCode(r,"VALUE",ce.ORDER_NONE)||0;return d+=`${u} = runtime.number(${u}) + runtime.number(${R});\n`,d};ce.data_listcontents=(r)=>{return[ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,ce.ORDER_ATOMIC]};ce.data_addtolist=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,R=ce.valueToCode(r,"ITEM",ce.ORDER_NONE)||'""';return d+=`${u}.push(${R});\n`,d};ce.data_deleteoflist=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,R=ce.valueToCode(r,"INDEX",ce.ORDER_NONE)||1;return d+=`${u}.splice(runtime.index(${R}, ${u}.length), 1);\n`,d};ce.data_deletealloflist=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE;return d+=`${u}.length = 0;\n`,d};ce.data_insertatlist=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,R=ce.valueToCode(r,"INDEX",ce.ORDER_NONE)||1,f=ce.valueToCode(r,"ITEM",ce.ORDER_NONE)||'""';return d+=`${u}.splice(runtime.index(${R}, ${u}.length), 0, ${f});\n`,d};ce.data_replaceitemoflist=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,R=ce.valueToCode(r,"INDEX",ce.ORDER_NONE)||1,f=ce.valueToCode(r,"ITEM",ce.ORDER_NONE)||'""';return d+=`${u}.splice(runtime.index(${R}, ${u}.length), 1, ${f});\n`,d};ce.data_itemoflist=(r)=>{const d=ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,u=ce.valueToCode(r,"INDEX",ce.ORDER_NONE)||1;return[`(${d}[runtime.index(${u}, ${d}.length)] || '""')`,ce.ORDER_CONDITIONAL]};ce.data_itemnumoflist=(r)=>{const d=ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,u=ce.valueToCode(r,"ITEM",ce.ORDER_NONE)||'""';return[`(${d}.indexOf(${u}) + 1)`,ce.ORDER_NONE]};ce.data_lengthoflist=(r)=>{return[`${ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE}.length`,ce.ORDER_MEMBER]};ce.data_listcontainsitem=(r)=>{const d=ce.variableDB_.getName(r.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+qa.LIST_VARIABLE_TYPE,u=ce.valueToCode(r,"ITEM",ce.ORDER_NONE)||'""';return[`${d}.includes(${u})`,ce.ORDER_FUNCTION_CALL]};var P4="if (abort || !runtime.running) break;\n",$i=`async (done) => {\ndo {\n${ce.HAT_CODE}} while (false);\ndone();\n}`;ce.event_whenflagclicked=()=>{return`runtime.when('start', ${$i});\n`};ce.event_whengreaterthan=(r)=>{const d=r.getFieldValue("WHENGREATERTHANMENU"),u=ce.valueToCode(r,"VALUE",ce.ORDER_NONE)||10;return`runtime.whenGreaterThen('${d}', runtime.number(${u}), ${$i});\n`};ce.event_whenbroadcastreceived=(r)=>{return`runtime.when('message:${ce.variableDB_.getName(r.getFieldValue("BROADCAST_OPTION"),Uu.Variables.NAME_TYPE)}', ${$i});\n`};ce.event_broadcast_menu=(r)=>{return[ce.variableDB_.getName(r.getFieldValue("BROADCAST_OPTION"),Uu.Variables.NAME_TYPE),ce.ORDER_ATOMIC]};ce.event_broadcast=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"BROADCAST_INPUT",ce.ORDER_NONE)||"message1";return d+=`runtime.fire('message:${u}')\n`,d};ce.event_broadcastandwait=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"BROADCAST_INPUT",ce.ORDER_NONE)||"message1";return d+=`await runtime.fire('message:${u}')\n${P4}`,d};ce.math_number=(r)=>{let d=parseFloat(r.getFieldValue("NUM")),u;if(d===1/0)d="Infinity",u=ce.ORDER_FUNCTION_CALL;else if(d===-1/0)d="-Infinity",u=ce.ORDER_UNARY_SIGN;else if(Number.isNaN(d))d="NaN",u=ce.ORDER_UNARY_SIGN;else u=d<0?ce.ORDER_UNARY_SIGN:ce.ORDER_ATOMIC;return[d,u]};ce.math_integer=(r)=>{const d=parseInt(r.getFieldValue("NUM")),u=d<0?ce.ORDER_UNARY_SIGN:ce.ORDER_ATOMIC;return[d,u]};ce.math_whole_number=(r)=>{return[Math.abs(parseInt(r.getFieldValue("NUM"))),ce.ORDER_ATOMIC]};ce.math_positive_number=(r)=>{let d=parseFloat(r.getFieldValue("NUM")),u;if(d===1/0)d="Infinity",u=ce.ORDER_FUNCTION_CALL;else if(d===-1/0)d="-Infinity",u=ce.ORDER_FUNCTION_CALL;else if(Number.isNaN(d))d="NaN",u=ce.ORDER_FUNCTION_CALL;else d=d<0?0:d,u=ce.ORDER_ATOMIC;return[d,u]};ce.math_angle=(r)=>{let d=parseFloat(r.getFieldValue("NUM")),u;if(d==1/0)d="Infinity",u=ce.ORDER_FUNCTION_CALL;else if(d==-1/0)d="-Infinity",u=ce.ORDER_UNARY_SIGN;else d=d%360,d=d<0?d+360:d,u=ce.ORDER_ATOMIC;return[d,u]};ce.operator_add=(r)=>{const d=ce.valueToCode(r,"NUM1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"NUM2",ce.ORDER_NONE)||0;return[`(runtime.number(${d}) + runtime.number(${u}))`,ce.ORDER_SUBTRACTION]};ce.operator_subtract=(r)=>{const d=ce.valueToCode(r,"NUM1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"NUM2",ce.ORDER_NONE)||0;return[`(runtime.number(${d}) - runtime.number(${u}))`,ce.ORDER_ADDITION]};ce.operator_multiply=(r)=>{const d=ce.valueToCode(r,"NUM1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"NUM2",ce.ORDER_NONE)||0;return[`(runtime.number(${d}) * runtime.number(${u}))`,ce.ORDER_MULTIPLICATION]};ce.operator_divide=(r)=>{const d=ce.valueToCode(r,"NUM1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"NUM2",ce.ORDER_NONE)||0;return[`(runtime.number(${d}) / runtime.number(${u}))`,ce.ORDER_DIVISION]};ce.operator_random=(r)=>{const d=ce.valueToCode(r,"FROM",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"TO",ce.ORDER_NONE)||0;return[`runtime.random(${d}, ${u})`,ce.ORDER_FUNCTION_CALL]};ce.operator_gt=(r)=>{const d=ce.valueToCode(r,"OPERAND1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"OPERAND2",ce.ORDER_NONE)||0;return[`(runtime.number(${d}) > runtime.number(${u}))`,ce.ORDER_RELATIONAL]};ce.operator_lt=(r)=>{const d=ce.valueToCode(r,"OPERAND1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"OPERAND2",ce.ORDER_NONE)||0;return[`(runtime.number(${d}) < runtime.number(${u}))`,ce.ORDER_RELATIONAL]};ce.operator_equals=(r)=>{const d=ce.valueToCode(r,"OPERAND1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"OPERAND2",ce.ORDER_NONE)||0;return[`(${d} == ${u})`,ce.ORDER_RELATIONAL]};ce.operator_and=(r)=>{const d=ce.valueToCode(r,"OPERAND1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"OPERAND2",ce.ORDER_NONE)||0;return[`(${d} && ${u})`,ce.ORDER_LOGICAL_AND]};ce.operator_or=(r)=>{const d=ce.valueToCode(r,"OPERAND1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"OPERAND2",ce.ORDER_NONE)||0;return[`(${d} || ${u})`,ce.ORDER_LOGICAL_OR]};ce.operator_not=(r)=>{return[`!(${ce.valueToCode(r,"OPERAND",ce.ORDER_NONE)||0})`,ce.ORDER_LOGICAL_NOT]};ce.operator_join=(r)=>{const d=ce.valueToCode(r,"STRING1",ce.ORDER_NONE)||'""',u=ce.valueToCode(r,"STRING2",ce.ORDER_NONE)||'""';return[`(String(${d}) + String(${u}))`,ce.ORDER_ATOMIC]};ce.operator_letter_of=(r)=>{const d=ce.valueToCode(r,"LETTER",ce.ORDER_NONE)||0;return[`(String(${ce.valueToCode(r,"STRING",ce.ORDER_NONE)||'""'}).at(${d} - 1) || '')`,ce.ORDER_ATOMIC]};ce.operator_length=(r)=>{return[`String(${ce.valueToCode(r,"STRING",ce.ORDER_NONE)||'""'}).length`,ce.ORDER_MEMBER]};ce.operator_contains=(r)=>{const d=ce.valueToCode(r,"STRING1",ce.ORDER_NONE)||'""',u=ce.valueToCode(r,"STRING2",ce.ORDER_NONE)||'""';return[`String(${d}).includes(String(${u}))`,ce.ORDER_FUNCTION_CALL]};ce.operator_mod=(r)=>{const d=ce.valueToCode(r,"NUM1",ce.ORDER_NONE)||0,u=ce.valueToCode(r,"NUM2",ce.ORDER_NONE)||0;return[`(runtime.number(${d}) % runtime.number(${u}))`,ce.ORDER_MODULUS]};ce.operator_round=(r)=>{return[`Math.round(${ce.valueToCode(r,"NUM",ce.ORDER_NONE)||0})`,ce.ORDER_FUNCTION_CALL]};ce.operator_mathop=(r)=>{const d=ce.valueToCode(r,"NUM",ce.ORDER_NONE)||0,u=r.getFieldValue("OPERATOR");let R="";if(u==="ceiling")R+=`Math.ceil(runtime.number(${d}))`;else if(u==="sin"||u==="cos"||u==="tan")R+=`Math.${u}(Math.PI * runtime.number(${d}) / 180)`;else if(u==="asin"||u==="acos"||u==="atan")R+=`(Math.${u}(runtime.number(${d})) * 180 / Math.PI)`;else if(u==="ln")R+=`Math.log(runtime.number(${d}))`;else if(u==="log")R+=`Math.log10(runtime.number(${d}))`;else if(u==="e ^")R+=`Math.exp(runtime.number(${d}))`;else if(u==="10 ^")R+=`Math.pow(10, runtime.number(${d}))`;else R+=`Math.${u}(runtime.number(${d}))`;return[R,ce.ORDER_FUNCTION_CALL]};ce.procedures_definition=(r)=>{};ce.procedures_call=(r)=>{};ce.procedures_prototype=(r)=>{};ce.procedures_declaration=(r)=>{};ce.argument_reporter_boolean=(r)=>{};ce.argument_reporter_string_number=(r)=>{};ce.argument_editor_boolean=(r)=>{};ce.argument_editor_string_number=(r)=>{};ce.sensing_timer=(r)=>{return["runtime.time",ce.ORDER_FUNCTION_CALL]};ce.sensing_resettimer=(r)=>{return"runtime.resetTimer()\n"};ce.text=(r)=>{const d=r.getFieldValue("TEXT");return[d.length===0||isNaN(d)?ce.quote_(d):+d,ce.ORDER_ATOMIC]};var I4=new Set([Ua.Events.BLOCK_CHANGE,Ua.Events.BLOCK_CREATE,Ua.Events.BLOCK_DELETE,Ua.Events.BLOCK_MOVE,Ua.Events.COMMENT_CHANGE,Ua.Events.COMMENT_CREATE,Ua.Events.COMMENT_DELETE,Ua.Events.COMMENT_MOVE,Ua.Events.VAR_CREATE,Ua.Events.VAR_DELETE,Ua.Events.VAR_RENAME]),G4=function(r){console&&console.warn&&console.warn(r)},Na=function(){Na.init.call(this)},Tr=function(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)},ju=function(r){return r._maxListeners===void 0?Na.defaultMaxListeners:r._maxListeners},Ju=function(r,d,u,R){var f,T,c;if(Tr(u),T=r._events,T===void 0?(T=r._events=Object.create(null),r._eventsCount=0):(T.newListener!==void 0&&(r.emit("newListener",d,u.listener?u.listener:u),T=r._events),c=T[d]),c===void 0)c=T[d]=u,++r._eventsCount;else if(typeof c=="function"?c=T[d]=R?[u,c]:[c,u]:R?c.unshift(u):c.push(u),f=ju(r),f>0&&c.length>f&&!c.warned){c.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=r,b.type=d,b.count=c.length,G4(b)}return r},D4=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)},Pu=function(r,d,u){var R={fired:!1,wrapFn:void 0,target:r,type:d,listener:u},f=D4.bind(R);return f.listener=u,R.wrapFn=f,f},Ku=function(r,d,u){var R=r._events;if(R===void 0)return[];var f=R[d];return f===void 0?[]:typeof f=="function"?u?[f.listener||f]:[f]:u?Y4(f):Gu(f,f.length)},Iu=function(r){var d=this._events;if(d!==void 0){var u=d[r];if(typeof u=="function")return 1;if(u!==void 0)return u.length}return 0},Gu=function(r,d){for(var u=new Array(d),R=0;R<d;++R)u[R]=r[R];return u},H4=function(r,d){for(;d+1<r.length;d++)r[d]=r[d+1];r.pop()},Y4=function(r){for(var d=new Array(r.length),u=0;u<d.length;++u)d[u]=r[u].listener||r[u];return d},Oo=typeof Reflect=="object"?Reflect:null,Fu=Oo&&typeof Oo.apply=="function"?Oo.apply:function(r,d,u){return Function.prototype.apply.call(r,d,u)},kr;Oo&&typeof Oo.ownKeys=="function"?kr=Oo.ownKeys:Object.getOwnPropertySymbols?kr=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:kr=function(r){return Object.getOwnPropertyNames(r)};var Du=Number.isNaN||function(r){return r!==r};Na.EventEmitter=Na;Na.prototype._events=void 0;Na.prototype._eventsCount=0;Na.prototype._maxListeners=void 0;var Ou=10;Object.defineProperty(Na,"defaultMaxListeners",{enumerable:!0,get:function(){return Ou},set:function(r){if(typeof r!="number"||r<0||Du(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Ou=r}});Na.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Na.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Du(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};Na.prototype.getMaxListeners=function(){return ju(this)};Na.prototype.emit=function(r){for(var d=[],u=1;u<arguments.length;u++)d.push(arguments[u]);var R=r==="error",f=this._events;if(f!==void 0)R=R&&f.error===void 0;else if(!R)return!1;if(R){var T;if(d.length>0&&(T=d[0]),T instanceof Error)throw T;var c=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw c.context=T,c}var b=f[r];if(b===void 0)return!1;if(typeof b=="function")Fu(b,this,d);else for(var W=b.length,y=Gu(b,W),u=0;u<W;++u)Fu(y[u],this,d);return!0};Na.prototype.addListener=function(r,d){return Ju(this,r,d,!1)};Na.prototype.on=Na.prototype.addListener;Na.prototype.prependListener=function(r,d){return Ju(this,r,d,!0)};Na.prototype.once=function(r,d){return Tr(d),this.on(r,Pu(this,r,d)),this};Na.prototype.prependOnceListener=function(r,d){return Tr(d),this.prependListener(r,Pu(this,r,d)),this};Na.prototype.removeListener=function(r,d){var u,R,f,T,c;if(Tr(d),R=this._events,R===void 0)return this;if(u=R[r],u===void 0)return this;if(u===d||u.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete R[r],R.removeListener&&this.emit("removeListener",r,u.listener||d));else if(typeof u!="function"){for(f=-1,T=u.length-1;T>=0;T--)if(u[T]===d||u[T].listener===d){c=u[T].listener,f=T;break}if(f<0)return this;f===0?u.shift():H4(u,f),u.length===1&&(R[r]=u[0]),R.removeListener!==void 0&&this.emit("removeListener",r,c||d)}return this};Na.prototype.off=Na.prototype.removeListener;Na.prototype.removeAllListeners=function(r){var d,u,R;if(u=this._events,u===void 0)return this;if(u.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):u[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete u[r]),this;if(arguments.length===0){var f=Object.keys(u),T;for(R=0;R<f.length;++R)T=f[R],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=u[r],typeof d=="function")this.removeListener(r,d);else if(d!==void 0)for(R=d.length-1;R>=0;R--)this.removeListener(r,d[R]);return this};Na.prototype.listeners=function(r){return Ku(this,r,!0)};Na.prototype.rawListeners=function(r){return Ku(this,r,!1)};Na.listenerCount=function(r,d){return typeof r.listenerCount=="function"?r.listenerCount(d):Iu.call(r,d)};Na.prototype.listenerCount=Iu;Na.prototype.eventNames=function(){return this._eventsCount>0?kr(this._events):[]};var rp=Na.prototype,Xu=Ti(xi(),1);class xr extends Na{static DEFAULT_FPS=24;constructor(r,d=xr.DEFAULT_FPS){super();this._fps=d,this._frame_sec=1/d,this._running=!1,this._requestStop=r,this._timer=0,this._timers=[],this._data={},this._greaterThen={},this._eventsHappening={}}launch(r){new Function("runtime",r)(this)}get core(){return Xu.default}get data(){return this._data}get running(){return this._running}get time(){return(Date.now()-this._timer)/1000}resetTimer(){this._timer=Date.now()}when(r,d){this._eventsHappening[r]=this._eventsHappening[r]||[],this._eventsHappening[r].push(!1);const u=this._eventsHappening[r].length-1;this.on(`${r}_${u}`,d)}whenGreaterThen(r,d,u){const R=`${r}>${d}`;this._greaterThen[R]=!1,this.when(`greaterthen:${R}`,u)}emit(...r){return new Promise((d)=>{if(this.running)super.emit(...r,d)})}fire(r,...d){if(this.emit(r,...d),this._eventsHappening[r]=this._eventsHappening[r]||[],this._eventsHappening[r].length>0)return Promise.race(this._eventsHappening[r].map(async(u,R)=>{if(!u)this._eventsHappening[r][R]=!0,await this.emit(`${r}_${R}`,...d),this._eventsHappening[r][R]=!1}));return Promise.resolve()}_handleFrameForGreaterThen(r){const d=Object.keys(this._greaterThen);for(let u of d){const[R,f]=u.split(">");if(R==="TIMER"){const T=this.time>parseFloat(f);if(T&&!this._greaterThen[u])this.fire(`greaterthen:${u}`);this._greaterThen[u]=T}}r()}async _handleStart(){while(this.running){if(!Xu.default.project){this.stop();break}await this.nextFrame(),this.fire("frame")}}start(){this._running=!0,this.on("frame",this._handleFrameForGreaterThen.bind(this)),this.on("start",this._handleStart.bind(this)),this.fire("start"),this.resetTimer()}async stop(){this.emit("stop"),await this.nextFrame(),this._running=!1,await this.nextFrame(),this._timers.forEach(clearTimeout),this._timers.length=0,this._requestStop()}sleep(r){return new Promise((d)=>this._timers.push(setTimeout(d,r*1000)))}nextFrame(){return this.sleep(this._frame_sec)}random(r=1,d=10){const u=Math.ceil(Math.min(r,d)),R=Math.floor(Math.max(r,d));return Math.floor(Math.random()*(R-u+1))+u}number(r,d=0){return isNaN(r)?d:+r}index(r,d){let u=this.number(r)-1;return u%=d,u+=d,u%d}clamp(r,d,u){return Math.min(Math.max(r,d),u)}}var ca=U4.default;var Zs="if (abort || !runtime.running) break;\n";ce.motion_attack=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"DIRECTION",ce.ORDER_NONE)||0,R=ce.valueToCode(r,"DISTANCE",ce.ORDER_NONE)||100;return d+=`await tank.util.attack(${u}, ${R});\n${Zs}`,d};ce.motion_move=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"DIRECTION",ce.ORDER_NONE)||0,R=ce.valueToCode(r,"SPEED",ce.ORDER_NONE)||100;return d+=`await tank.util.move(${u}, ${R});\n${Zs}`,d};ce.motion_turnright=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"DEGREES",ce.ORDER_NONE)||0;return d+=`await tank.util.turnRight(${u});\n${Zs}`,d};ce.motion_turnleft=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"DEGREES",ce.ORDER_NONE)||0;return d+=`await tank.util.turnLeft(${u});\n${Zs}`,d};ce.motion_pointindirection=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"DIRECTION",ce.ORDER_NONE)||0;return d+=`await tank.util.setDirection(+${u});\n${Zs}`,d};ce.motion_setspeed=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"SPEED",ce.ORDER_NONE)||0;return d+=`tank.util.speed = ${u};\n`,d};ce.motion_stop=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);return d+="tank.util.speed = 0;\n",d};ce.motion_xposition=(r)=>{return["tank.util.x",ce.ORDER_ATOMIC]};ce.motion_yposition=(r)=>{return["tank.util.y",ce.ORDER_ATOMIC]};ce.motion_speed=(r)=>{return["tank.util.currentSpeed",ce.ORDER_ATOMIC]};ce.motion_direction=(r)=>{return["tank.util.direction",ce.ORDER_ATOMIC]};ce.sensing_scanwidth=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"WIDTH",ce.ORDER_NONE)||5;return d+=`tank.util.scanWidth = ${u};\n`,d};ce.sensing_scan=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"DIRECTION",ce.ORDER_NONE)||0;return d+=`(await tank.util.scan(${u}) !== Infinity)`,[d,ce.ORDER_EQUALITY]};ce.sensing_scandistance=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);const u=ce.valueToCode(r,"DIRECTION",ce.ORDER_NONE)||0;return d+=`(await tank.util.scan(${u}))`,[d,ce.ORDER_FUNCTION_CALL]};ce.sensing_health=(r)=>{let d="";if(ce.STATEMENT_PREFIX)d+=ce.injectId(ce.STATEMENT_PREFIX,r);return d+="tank.util.health",[d,ce.ORDER_FUNCTION_CALL]};var C4=()=>`
  <category name="%{BKY_CATEGORY_MOTION}" id="motion" colour="#4C97FF" secondaryColour="#3373CC">
    <block type="motion_attack">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="DISTANCE">
        <shadow type="math_number">
          <field name="NUM">200</field>
        </shadow>
      </value>
    </block>
    <block type="motion_move">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">100</field>
        </shadow>
      </value>
    </block>
    ${pn}
    <block type="motion_turnright">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_turnleft">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_pointindirection">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${pn}
    <block type="motion_setspeed">
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">50</field>
        </shadow>
      </value>
    </block>
    <block type="motion_stop"/>
    ${pn}
    <block type="motion_speed"/>
    <block type="motion_direction"/>
    ${Mi}
  </category>
`,Q4=()=>`
  <category name="%{BKY_CATEGORY_SENSING}" id="sensing" colour="#4CBFE6" secondaryColour="#2E8EB8">
    <block type="sensing_scanwidth">
      <value name="WIDTH">
        <shadow type="math_number">
          <field name="NUM">5</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scan">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scandistance">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${pn}
    <block type="sensing_health"/>
    ${pn}
    <block id="timer" type="sensing_timer"/>
    <block type="sensing_resettimer"/>
    ${Mi}
  </category>
`,A4=()=>`
  <category name="%{BKY_CATEGORY_OPERATORS}" id="operators" colour="#40BF4A" secondaryColour="#389438">
    <block type="operator_add">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_subtract">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_multiply">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_divide">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${pn}
    <block type="operator_random">
      <value name="FROM">
        <shadow type="math_number">
          <field name="NUM">1</field>
        </shadow>
      </value>
      <value name="TO">
        <shadow type="math_number">
          <field name="NUM">10</field>
        </shadow>
      </value>
    </block>
    ${pn}
    <block type="operator_gt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_lt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_equals">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    ${pn}
    <block type="operator_and"/>
    <block type="operator_or"/>
    <block type="operator_not"/>
    ${pn}
    <block type="operator_mod">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_round">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${pn}
    <block type="operator_mathop">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${Mi}
  </category>
`;function Vi(){return B4([{id:"motion",xml:C4()},{id:"sensing",xml:Q4()},{id:"operators",xml:A4()}])}import{jsx as n9} from"preact/jsx-runtime";var a9=yr.Content;function Li(){const{getText:r}=e9(),d={MOTION_ATTACK:r("tankwar.blocks.motion_attack","fire in direction %1 at %2 steps"),MOTION_MOVE:r("tankwar.blocks.motion_move","forward in direction %1 at %2 % speed"),MOTION_SETSPEED:r("tankwar.blocks.motion_setspeed","set speed to %1 %"),MOTION_STOP:r("tankwar.blocks.motion_stop","stop"),MOTION_SPEED:r("tankwar.blocks.motion_speed","speed"),SENSING_SCANWIDTH:r("tankwar.blocks.sensing_scanwidth","set scan width to %1"),SENSING_SCAN:r("tankwar.blocks.sensing_scan","scan for enemy in direction %1?"),SENSING_DISTANCE:r("tankwar.blocks.sensing_distance","measure distance of enemy in direction %1"),SENSING_HEALTH:r("tankwar.blocks.sensing_health","health")},u=Vi();return n9(a9,{disableGenerator:!0,disableExtension:!0,messages:d,toolbox:u})}import{useState as Vr} from"preact/hooks";import{classNames as W9} from"@blockcode/ui";import{useState as t6} from"preact/hooks";import{useEditor as T9} from"@blockcode/core";var Hu="./assets/background-81dedab007c311a5.png";function Xo(r){return new Promise((d)=>{const u=new Image;u.src=r,u.addEventListener("load",()=>d(u))})}var Yu="./assets/tank_1-5797dcf7b198a48d.png";var Bu="./assets/turret_1-26017ccc46b87689.png";var Cu="./assets/tank_2-337708f7538d8787.png";var Qu="./assets/turret_2-5c4bb2c458561ace.png";var Au="./assets/tank_3-1d999a2c9dacc246.png";var e6="./assets/turret_3-956bfba650c81c57.png";var a6="./assets/tank_4-f93afcfd2c3d1734.png";var n6="./assets/turret_4-d6c2200ed4ca50b0.png";var o6="./assets/broken-2d9779d033bbcdb5.png";var s6="./assets/bullet-80854a0e7090b0fc.png";var r6="./assets/boom1-65b37ddc26db4cbd.png";var l6="./assets/boom2-82ff355a8e0177ba.png";var i6="./assets/boom3-703bd7bb6580e4d9.png";var b9=20,v9=4,N9=40,$r=500,R9=70,Z9=400,ys=10,Wi=50,wi=1000,c6=(r,d)=>Math.sqrt((r.x-d.x)**2+(r.y-d.y)**2),Un=(r)=>isNaN(r)?0:+r,qs=(r,d,u)=>Math.min(Math.max(r,d),u),ks=(r)=>r*Math.PI/180,En=(r)=>parseInt((r%360+360)%360),u6=(r,d)=>En(r)===En(d);class Ra{static PLACE={LEFT:{get position(){return new ca.Point(ca.view.center.x-300,ca.view.center.y)},rotation:90},RIGHT:{get position(){return new ca.Point(ca.view.center.x+300,ca.view.center.y)},rotation:-90},LEFT_TOP:{get position(){return new ca.Point(ca.view.center.x-300,ca.view.center.y-300)},rotation:135},RIGHT_TOP:{get position(){return new ca.Point(ca.view.center.x+300,ca.view.center.y-300)},rotation:-135},LEFT_BOTTOM:{get position(){return new ca.Point(ca.view.center.x-300,ca.view.center.y+300)},rotation:45},RIGHT_BOTTOM:{get position(){return new ca.Point(ca.view.center.x+300,ca.view.center.y+300)},rotation:-45}};static STYLE={PLAYER:{tank:Yu,turret:Bu},ENEMY_A:{tank:Cu,turret:Qu},ENEMY_B:{tank:Au,turret:e6},ENEMY_C:{tank:a6,turret:n6}};constructor(r,d=Ra.STYLE.PLAYER,u=Ra.PLACE.LEFT){this.raster=new ca.Raster({name:r,scaling:0.2,source:d.tank,position:u.position,rotation:u.rotation,visible:d===Ra.STYLE.PLAYER}),this.turretRaster=new ca.Raster({scaling:0.2,source:d.turret,position:u.position,rotation:u.rotation,visible:d===Ra.STYLE.PLAYER}),this.raster.util=this,this.turretRaster.owner=this,this._hidden=!0,this._lastScanDistance=0,this._imageCache={},this._timers=[],this.reset()}sleep(r){return new Promise((d)=>this._timers.push(setTimeout(d,r)))}reset(){if(this._speed=0,this._currentSpeed=0,this._health=100,this._scanWidth=v9,this._turretReady=null,this._scanShape)this._scanShape.remove(),this._scanShape=null;if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;if(this._collideTester)this._collideTester.remove(),this._collideTester=null;clearTimeout(this._turretReady),this._timers.forEach(clearTimeout),this._timers.length=0}bringToFront(){this.raster.bringToFront(),this.turretRaster.bringToFront()}get running(){return this._running}set running(r){if(this.reset(),this._running=r,r){const d=this.raster.scaling.x*this.raster.width-5;this._collideTester=new ca.Path.Rectangle({point:[this.raster.position.x-d/2,this.raster.position.y-5],size:[d,10],applyMatrix:!1})}}get bullseye(){if(!this._bullseye)this._bullseye=Math.min(this.raster.width,this.raster.height)*this.raster.scaling.x/4;return this._bullseye}get enemies(){if(!this._enemies)this._enemies=["red","yellow","green","player"].filter((r)=>r!==this.raster.name).map((r)=>ca.project.activeLayer.children[r]);return this._enemies}set place(r){if(this.running)return;this.raster.position=this.turretRaster.position=r.position,this.raster.rotation=this.turretRaster.rotation=r.rotation,this.hidden=!1}get hidden(){return this._hidden}set hidden(r){this._hidden=r,this.raster.visible=this.turretRaster.visible=!r}async _turn(r,d){if(!u6(r.rotation,d)){let u=En(d)-En(r.rotation);if(u>180)u-=360;if(u<-180)u+=360;await r.tween({rotation:r.rotation+u},wi*(Math.abs(u)/360))}}async attack(r,d){if(!this.running)return;if(this._bulletRaster||this.death)return;r=Math.round(Un(r)),d=Un(d)-Wi,clearTimeout(this._turretReady),this._turretReady=null,await this._turn(this.turretRaster,r);const u=En(r),R=ks(90-u);if(!this._imageCache.buttet)this._imageCache.buttet=await Xo(s6);if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;this._bulletRaster=new ca.Raster({image:this._imageCache.buttet,position:new ca.Point(this.raster.position.x+Wi*Math.cos(R),this.raster.position.y-Wi*Math.sin(R)),rotation:this.raster.rotation,scaling:this.raster.scaling}),d=qs(d,R9,Z9);const f=d/2,T=ys/d/2;let c=ys*Math.cos(R),b=ys*Math.sin(R);while(d>0){if(await this.sleep(15),d<ys)c=d*Math.cos(R),b=d*Math.sin(R);if(d-=ys,this._bulletRaster.position.x+=c,this._bulletRaster.position.y-=b,this._bulletRaster.scaling.x+=d>f?T:-T,this._bulletRaster.scaling.y=this._bulletRaster.scaling.x,this._bulletRaster.scaling.x<this.raster.scaling.x)this._bulletRaster.scaling=this.raster.scaling}this._boom(this._bulletRaster.position),this._collide(this._bulletRaster,(W)=>{if(c6(W.position,this._bulletRaster.position)<W.util.bullseye)W.util.hurt(10);else W.util.hurt(5)}),this._bulletRaster.remove(),this._bulletRaster=null,this._turretReady=setTimeout(()=>{this._turn(this.turretRaster,this.raster.rotation),this._turretReady=null},1000)}async _boom(r){if(!this.running)return;if(!this._imageCache.booms)this._imageCache.booms=[await Xo(r6),await Xo(l6),await Xo(i6)];if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;this._boomRaster=new ca.Raster({image:this._imageCache.booms[0],position:r}),await this.sleep(30),this._boomRaster.image=this._imageCache.booms[1],await this.sleep(50),this._boomRaster.image=this._imageCache.booms[2],await this.sleep(90),this._boomRaster.remove(),this._boomRaster=null}_intersectsOrContains(r,d){return r.intersects(d)||d.contains(r.position)}_collide(r,d){if(this.running&&!this.death)this.enemies.forEach((u)=>{if(u.util.death||u.util.hidden)return;if(this._intersectsOrContains(r,u))d(u)})}async move(r,d){if(!this.running)return;if(this.death)return;await this.setDirection(r),this.speed=Un(d)}drive(){if(!this.running)return;if(this.speed===0)return;if(this.hidden||this.death)return;let r=this.speed;const d=ks(90-this.direction),u=this.raster.scaling.y*this.raster.height;this._collideTester.rotation=this.raster.rotation,this._collideTester.position.x=this.raster.position.x+(u/2+5)*Math.cos(d),this._collideTester.position.y=this.raster.position.y-(u/2+5)*Math.sin(d),this.enemies.forEach((R)=>{if(R.util.hidden)return;if(this._intersectsOrContains(this.raster,R)&&this._intersectsOrContains(this._collideTester,R))r=0}),this._currentSpeed=r,r/=b9,this.raster.position.x+=r*Math.cos(d),this.raster.position.y-=r*Math.sin(d),this.turretRaster.position=this.raster.position}get x(){return this.raster.position.x-ca.view.center.x}get y(){return ca.view.center.y-this.raster.position.y}get currentSpeed(){return qs(this._currentSpeed,-100,100)}get speed(){return qs(this._speed,-100,100)}set speed(r){if(!this.running)return;this._speed=qs(r,-100,100)}get speedVelocity(){const r=En(this.speed<0?180+this.direction:this.direction),d=ks(90-r),u=Math.abs(this.speed);return new ca.Point(u*Math.cos(d),u*Math.sin(d))}get direction(){let r=this.raster.rotation%360;if(r>180)r-=360;if(r<=-180)r+=360;return r}async setDirection(r){if(!this.running)return;if(r=Math.round(Un(r)),!this._turretReady)this._turn(this.turretRaster,r);await this._turn(this.raster,r)}turnRight(r){let d=this.raster.rotation;return d+=Un(r),this.setDirection(d)}turnLeft(r){return this.turnRight(-Un(r))}hurt(r){if(!this.running)return;if(this._health-=Math.abs(r),this.death)this.raster.visible=this.turretRaster.visible=!1,new ca.Raster({source:o6,scaling:this.raster.scaling,position:this.raster.position,rotation:this.raster.rotation}).insertAbove(ca.project.activeLayer.children.background)}get health(){if(this._health<0)return 0;return this._health}get death(){return this.health<=0}get scanWidth(){return this._scanWidth}set scanWidth(r){r=Un(r),this._scanWidth=qs(r,1,N9)}async scan(r){if(!this.running)return 1/0;if(this._scanShape||this.death)return 1/0;if(r=Un(r),!u6(this._lastScanDistance,r)){let q=En(r)-En(this._lastScanDistance);if(q>180)q-=360;if(q<-180)q+=360;await this.sleep(wi*(Math.abs(q)/360)),this._lastScanDistance=r}const d=ks(90-(r-this.scanWidth/2)),u=$r*Math.cos(d),R=$r*Math.sin(d),f=new ca.Point(this.raster.position.x+u,this.raster.position.y-R),T=ks(90-(r+this.scanWidth/2)),c=$r*Math.cos(T),b=$r*Math.sin(T),W=new ca.Point(this.raster.position.x+c,this.raster.position.y-b);if(this._scanShape)this._scanShape.remove(),this._scanShape=null;this._scanShape=new ca.Path({segments:[this.raster.position,f,W],closed:!0,fillColor:{gradient:{stops:[["rgb(255 0 0 0.4)",0],["rgb(255 0 0 0)",0.7]],radial:!0},origin:this.raster.position,destination:f}}),await this.sleep(wi*(this.scanWidth/360));let y=1/0;return this._collide(this._scanShape,(q)=>{const Z=c6(this.raster.position,q.position);if(Z<y)y=Z}),this._scanShape.remove(),this._scanShape=null,y}}class Mr extends xr{get player(){return ca.project.activeLayer.children.player}get redTank(){return ca.project.activeLayer.children.red}get yellowTank(){return ca.project.activeLayer.children.yellow}get greenTank(){return ca.project.activeLayer.children.green}start(){this.player.util.running=!0,this.redTank.util.running=!0,this.yellowTank.util.running=!0,this.greenTank.util.running=!0,super.start()}stop(){return this.player.util.running=!1,this.redTank.util.running=!1,this.yellowTank.util.running=!1,this.greenTank.util.running=!1,super.stop()}}var m6=(r="",d=[])=>`
${d.join("\n")}

((tank) => {
let abort = false;
${r||""}
})(runtime.player);

runtime.on('frame', () => {
  runtime.player.util.drive();
  runtime.redTank.util.drive();
  runtime.yellowTank.util.drive();
  runtime.greenTank.util.drive();
});

runtime.player.util.bringToFront();
runtime.start();
`;var Ts={};T6(Ts,{simple:()=>y9,senior:()=>k9,medium:()=>q9});var y9=(r,d)=>`
((tank) => {
  let abort = false;

  runtime.when('start', async function (done) {
    await tank.util.turnRight(45);
    tank.util.speed = 100;
    await runtime.sleep(2.5);
    tank.util.speed = 0;
    await tank.util.turnLeft(90);
    runtime.fire('@ai_simple_${r}_${d}_message_1');
    while (true) {
      tank.util.speed = 100;
      await runtime.sleep(5.5);
      tank.util.speed = 0;
      await tank.util.turnLeft(180);
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });

  runtime.when('@ai_simple_${r}_${d}_message_1', async function anonymous(done) {
    while (true) {
      if ((await tank.util.scan(0) !== Infinity)) {
        await tank.util.attack(0, (await tank.util.scan(0)));
      }
      if ((await tank.util.scan(45) !== Infinity)) {
        await tank.util.attack(45, (await tank.util.scan(45)));
      }
      if ((await tank.util.scan(90) !== Infinity)) {
        await tank.util.attack(90, (await tank.util.scan(90)));
      }
      if ((await tank.util.scan(135) !== Infinity)) {
        await tank.util.attack(135, (await tank.util.scan(135)));
      }
      if ((await tank.util.scan(180) !== Infinity)) {
        await tank.util.attack(180, (await tank.util.scan(180)));
      }
      if ((await tank.util.scan(225) !== Infinity)) {
        await tank.util.attack(225, (await tank.util.scan(225)));
      }
      if ((await tank.util.scan(270) !== Infinity)) {
        await tank.util.attack(270, (await tank.util.scan(270)));
      }
      if ((await tank.util.scan(315) !== Infinity)) {
        await tank.util.attack(315, (await tank.util.scan(315)));
      }
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });


})(runtime.${r}Tank);
`,q9=(r,d)=>`
((tank) => {
  let abort = false;

  let _health_ = 0;
  let _angle_ = 0;

  runtime.when('start', async function anonymous() {
    _angle_ = runtime.random(1, 360);
    runtime.fire('@ai_medium_${r}_${d}_start')
  });

  runtime.when('start', async function anonymous() {
    while (true) {
      _health_ = tank.util.health;
      while (!((tank.util.health < _health_))) {
        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      abort = false;
      tank.util.move(runtime.random(1, 360), 100);
      await runtime.sleep(1);
      tank.util.speed = 0;
      runtime.fire('@ai_medium_${r}_${d}_start')
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
  });

  runtime.when('@ai_medium_${r}_${d}_start', async function anonymous(done) {
    while (true) {
      while (!((await tank.util.scan(_angle_) !== Infinity))) {
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      while (((await tank.util.scan(_angle_) !== Infinity) && ((await tank.util.scan(_angle_)) > '400'))) {
        tank.util.move(_angle_, 100);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      tank.util.speed = 0;
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done()
  });


})(runtime.${r}Tank);
`,k9=(r,d)=>`
((tank) => {
  let abort = false;

  let _angle_ = 0;
  let _health_ = 0;


  runtime.when('start', async function anonymous() {
    if (((tank.util.y < '5') && (tank.util.y > '-5'))) {
      await tank.util.turnLeft(104);
    }
    else {
      await tank.util.turnLeft(180);
    }
    tank.util.speed = 100;
    while (!(((Math.abs(tank.util.x) > '400') && (Math.abs(tank.util.y) > '400')))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${r}_${d}_start')
  });

  runtime.when('@ai_senior_${r}_${d}_start', async function anonymous(done) {
    if ((tank.util.x < '0')) {
      if ((tank.util.y < '0')) {
        _angle_ = '45';
      }
      else {
        _angle_ = '135';
      }
    }
    else {
      if ((tank.util.y < '0')) {
        _angle_ = '-45';
      }
      else {
        _angle_ = '-135';
      }
    }
    await tank.util.setDirection(_angle_);
    runtime.fire('@ai_senior_${r}_${d}_watch_health');
    _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-60);
    for (let _ = 0; _ < 78; _++) {
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${r}_${d}_next_place');
    done();
  });

  runtime.when('@ai_senior_${r}_${d}_next_place', async function anonymous(done) {
    abort = false;
    if ((runtime.random(1, 3) == '1')) {
      await tank.util.turnLeft(45);
    }
    else {
      await tank.util.turnRight(45);
    }
    tank.util.speed = 100;
    await runtime.sleep(1);
    if (((tank.util.direction > '-5') && (tank.util.direction < '5'))) {
      while (!((tank.util.y > '400'))) {

      if (abort || !runtime.running) {
        break;
      };
        await runtime.nextFrame();
      }
    }
    else {
      if (((tank.util.direction > '85') && (tank.util.direction < '95'))) {
        while (!((tank.util.x > '400'))) {

        if (abort || !runtime.running) {
          break;
        };
          await runtime.nextFrame();
        }
      }
      else {
        if (((tank.util.direction > '-95') && (tank.util.direction < '-85'))) {
          while (!((tank.util.x < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
        else {
          while (!((tank.util.y < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
      }
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${r}_${d}_start')
    done()
  });

  runtime.when('@ai_senior_${r}_${d}_watch_health', async function anonymous(done) {
    _health_ = tank.util.health;
    while (!((tank.util.health < _health_))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${r}_${d}_next_place')
    done()
  });


})(runtime.${r}Tank);
`;function p6({playing:r,enemies:d,enemiesAI:u,onRequestStop:R,onChangeHealth:f}){const[T,c]=t6(null),[b,W]=t6(!1),{fileList:y}=T9(),q=y[0];if(T){const $=ca.project.activeLayer.children;if(r){if(!b){const V=[];if(d>0)V.push(Ts[u.red]("red",Date.now().toString(36)));if(d>1)V.push(Ts[u.yellow]("yellow",Date.now().toString(36)));if(d>2)V.push(Ts[u.green]("green",Date.now().toString(36)));const x=new Mr(R);x.launch(m6(q.script,V)),x.on("frame",()=>{f({player:$.player.util.health,red:$.red.util.health,yellow:$.yellow.util.health,green:$.green.util.health})}),W(x)}}else if(b)b.stop().then(()=>{f({player:100,red:100,yellow:100,green:100}),ca.project.activeLayer.children.forEach((V)=>{if(V.name==="background")return;if(V.util instanceof Ra||V.owner instanceof Ra)return;V.remove()}),W(!1)});else{if($.player.util.place=Ra.PLACE.LEFT_TOP,d>0)$.red.util.place=Ra.PLACE.RIGHT_BOTTOM;else $.red.util.hidden=!0;if(d>2)$.yellow.util.place=Ra.PLACE.RIGHT_TOP,$.green.util.place=Ra.PLACE.LEFT_BOTTOM;else $.yellow.util.hidden=!0,$.green.util.hidden=!0;ca.project.activeLayer.children.forEach((V)=>{if(V.name==="background")return;if(V.util instanceof Ra||V.owner instanceof Ra)return;V.remove()})}}return x9(Eu,{width:"480px",height:"480px",onSetup:($)=>{c($),ca.view.zoom=0.5,new ca.Raster({name:"background",source:Hu,position:ca.view.center}),new Ra("player",Ra.STYLE.PLAYER,Ra.PLACE.LEFT),new Ra("red",Ra.STYLE.ENEMY_A,Ra.PLACE.RIGHT),new Ra("yellow",Ra.STYLE.ENEMY_B,Ra.PLACE.RIGHT_BOTTOM),new Ra("green",Ra.STYLE.ENEMY_C,Ra.PLACE.LEFT_BOTTOM)}})}import{jsx as x9} from"preact/jsx-runtime";import{useLocale as V9} from"@blockcode/core";import{classNames as f6} from"@blockcode/ui";function Rn(r){const d=globalThis.document,u=d.createElement("style");u.appendChild(d.createTextNode(r)),d.head.append(u)}Rn("._1mbyQG_toolbar-wrapper{height:var(--tool-bar-height);padding:var(--space)0;flex-shrink:0;justify-content:space-between;align-items:center;display:flex}._1mbyQG_green-flag,._1mbyQG_stop-all{user-select:none;cursor:pointer;border:0;border-radius:.25rem;width:2rem;height:2rem;padding:.375rem}._1mbyQG_green-flag:hover,._1mbyQG_stop-all:hover{background:var(--motion-light-transparent)}._1mbyQG_green-flag._1mbyQG_actived{background:var(--motion-transparent)}._1mbyQG_stop-all{opacity:.5}._1mbyQG_stop-all._1mbyQG_actived{opacity:1}._1mbyQG_green-flag._1mbyQG_disabled,._1mbyQG_stop-all._1mbyQG_disabled{opacity:.5}._1mbyQG_toolbar-button{width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}._1mbyQG_space{margin-left:.2rem}._1mbyQG_toolbar-buttons-group{display:flex}._1mbyQG_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}._1mbyQG_group-button{border-left:none;border-radius:0}._1mbyQG_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}");var lo={groupButtonLast:"_1mbyQG_group-button-last",groupButtonFirst:"_1mbyQG_group-button-first",actived:"_1mbyQG_actived",toolbarWrapper:"_1mbyQG_toolbar-wrapper",groupButton:"_1mbyQG_group-button",toolbarButtonsGroup:"_1mbyQG_toolbar-buttons-group",stopAll:"_1mbyQG_stop-all",space:"_1mbyQG_space",toolbarButton:"_1mbyQG_toolbar-button",disabled:"_1mbyQG_disabled",greenFlag:"_1mbyQG_green-flag"};var d6="./assets/icon-green-flag-8eb2c7e7b0a15fba.svg";var _6="./assets/icon-stop-all-21d83d10e3dd785f.svg";import{jsx as Si,jsxs as L9} from"preact/jsx-runtime";function gi({playing:r,onPlay:d,onStop:u}){const{getText:R}=V9();return Si("div",{className:lo.toolbarWrapper,children:L9("div",{className:lo.toolbarButtonsGroup,children:[Si("img",{className:f6(lo.greenFlag,{[lo.actived]:r}),src:d6,title:R("tankwar.player.greenFlag","Go"),onClick:d}),Si("img",{className:f6(lo.stopAll,{[lo.actived]:r}),src:_6,title:R("tankwar.player.stopAll","Stop"),onClick:u})]})})}Rn(".b0DZEW_stage-wrapper{position:relative}.b0DZEW_stage{border:1px solid var(--ui-black-transparent);border-radius:var(--space);background:var(--ui-white);width:482px;height:482px;position:relative;overflow:hidden}");var zi={stage:"b0DZEW_stage",stageWrapper:"b0DZEW_stage-wrapper"};import{jsx as Fi,jsxs as w9} from"preact/jsx-runtime";function Oi({playing:r,enemies:d,enemiesAI:u,onChangePlaying:R,onChangeHealth:f}){const T=()=>R(!0),c=()=>R(!1);return w9("div",{className:zi.stageWrapper,children:[Fi(gi,{playing:r,onPlay:T,onStop:c}),Fi("div",{className:W9(zi.stage),children:Fi(p6,{playing:r,enemies:d,enemiesAI:u,onRequestStop:c,onChangeHealth:f})})]})}import{useLocale as F9,useEditor as O9} from"@blockcode/core";import{classNames as Zn,Text as xs,Button as jn,Label as io,BufferedInput as X9,ComingSoon as U9} from"@blockcode/ui";Rn('.MaJ6dq_stage-info-wrapper{margin-top:var(--space);background:var(--ui-white);color:var(--text-primary);border-radius:var(--space);border:1px solid var(--ui-black-transparent);padding:1rem}.MaJ6dq_row{justify-content:space-between;margin-top:.5rem;display:flex}.MaJ6dq_row-primary{margin-top:0}.MaJ6dq_group{flex-direction:row;align-items:center;display:inline-flex}.MaJ6dq_full-input{flex:1}.MaJ6dq_name-input{width:8rem}.MaJ6dq_button{min-width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}.MaJ6dq_button-icon{margin:auto}.MaJ6dq_space{margin-left:.2rem}.MaJ6dq_toolbar-button-group{display:flex}.MaJ6dq_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}.MaJ6dq_group-button{border-left:none;border-radius:0}.MaJ6dq_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.MaJ6dq_button-text{flex:auto}.MaJ6dq_group-button-toggled-on .MaJ6dq_button-text{color:#4c97ff}.MaJ6dq_tank-image{width:1.65rem}.MaJ6dq_health-progress{background:#f5f5f5;border-radius:10px;width:12rem;height:20px}.MaJ6dq_health-progress:before{counter-reset:progress var(--percent,0);content:counter(progress)"%\u2002";width:calc(12rem*var(--percent,0)/100);color:var(--ui-white);text-align:right;white-space:nowrap;background:#ff6680;border-radius:10px;height:20px;font-size:12px;line-height:20px;display:block;overflow:hidden}');var da={fullInput:"MaJ6dq_full-input",toolbarButtonGroup:"MaJ6dq_toolbar-button-group",buttonText:"MaJ6dq_button-text",healthProgress:"MaJ6dq_health-progress",row:"MaJ6dq_row",space:"MaJ6dq_space",groupButtonFirst:"MaJ6dq_group-button-first",groupButtonLast:"MaJ6dq_group-button-last",stageInfoWrapper:"MaJ6dq_stage-info-wrapper",button:"MaJ6dq_button",buttonIcon:"MaJ6dq_button-icon",groupButtonToggledOn:"MaJ6dq_group-button-toggled-on",group:"MaJ6dq_group",tankImage:"MaJ6dq_tank-image",groupButton:"MaJ6dq_group-button",nameInput:"MaJ6dq_name-input",rowPrimary:"MaJ6dq_row-primary"};var h6="./assets/tank-2-95f1944eace1f71a.png";var b6="./assets/tank-3-fc6d9534c6d7bba5.png";var v6="./assets/tank-4-79e2f163c902d864.png";import{jsx as va,jsxs as co} from"preact/jsx-runtime";var E9=[h6,b6,v6];function Xi({playing:r,enemies:d,enemiesAI:u,health:R,onChangeEnemies:f,onChangeEnemyAI:T}){const{getText:c}=F9(),{fileList:b,modifyFile:W}=O9(),y=b[0],q=(Z,$)=>{W({[Z]:$})};return co("div",{className:da.stageInfoWrapper,children:[co("div",{className:Zn(da.row,da.rowPrimary),children:[va(io,{text:c("tankwar.stageInfo.player","Player"),children:va(X9,{disabled:r,className:da.nameInput,placeholder:c("tankwar.stageInfo.nickname","Nickname"),onSubmit:(Z)=>q("name",Z),value:y.name})}),va(io,{secondary:!0,className:da.health,text:c("tankwar.stageInfo.health","Health"),children:va("div",{className:da.healthProgress,style:`--percent:${R.player||0}`})})]}),co("div",{className:da.row,children:[co(io,{secondary:!0,text:c("tankwar.stageInfo.enemies","Enemies"),children:[va(jn,{disabled:r,className:Zn(da.button,da.groupButtonFirst,{[da.groupButtonToggledOn]:d===0}),onClick:()=>f(0),children:va("div",{className:da.buttonText,children:"0"})}),va(jn,{disabled:r,className:Zn(da.button,da.groupButton,{[da.groupButtonToggledOn]:d===1}),onClick:()=>f(1),children:va("div",{className:da.buttonText,children:"1"})}),va(jn,{disabled:r,className:Zn(da.button,da.groupButtonLast,{[da.groupButtonToggledOn]:d===3}),onClick:()=>f(3),children:va("div",{className:da.buttonText,children:"3"})})]}),d>0&&co(io,{secondary:!0,children:[va(jn,{disabled:r,className:Zn(da.button,da.groupButtonFirst,{[da.groupButtonToggledOn]:!0}),children:va("div",{className:da.buttonText,children:va(xs,{id:"tankwar.stageInfo.mode.local",defaultMessage:"Local AI"})})}),va(U9,{placement:"bottom",children:va(jn,{disabled:r,className:Zn(da.button,da.groupButtonLast,{[da.groupButtonToggledOn]:!1}),children:va("div",{className:da.buttonText,children:va(xs,{id:"tankwar.stageInfo.mode.remote",defaultMessage:"Remote Players"})})})})]})]}),["red","yellow","green"].slice(0,d).map((Z,$)=>co("div",{className:da.row,children:[va(io,{secondary:!0,children:va("img",{className:da.tankImage,src:E9[$],alt:c(`tankwar.stageInfo.enemy.${Z}`,Z.replace(Z[0],Z[0].toUpperCase())),title:c(`tankwar.stageInfo.enemy.${Z}`,Z.replace(Z[0],Z[0].toUpperCase()))})}),va(io,{secondary:!0,children:va("div",{className:da.healthProgress,style:`--percent:${R[Z]||0}`})}),co(io,{secondary:!0,text:c("tankwar.stageInfo.ai","AI"),children:[va(jn,{disabled:r,className:Zn(da.button,da.groupButtonFirst,{[da.groupButtonToggledOn]:u[Z]==="simple"}),onClick:()=>T(Z,"simple"),children:va("div",{className:da.buttonText,children:va(xs,{id:"tankwar.stageInfo.ai.simple",defaultMessage:"Simple"})})}),va(jn,{disabled:r,className:Zn(da.button,da.groupButton,{[da.groupButtonToggledOn]:u[Z]==="medium"}),onClick:()=>T(Z,"medium"),children:va("div",{className:da.buttonText,children:va(xs,{id:"tankwar.stageInfo.ai.medium",defaultMessage:"Medium"})})}),va(jn,{disabled:r,className:Zn(da.button,da.groupButtonLast,{[da.groupButtonToggledOn]:u[Z]==="senior"}),onClick:()=>T(Z,"senior"),children:va("div",{className:da.buttonText,children:va(xs,{id:"tankwar.stageInfo.ai.senior",defaultMessage:"Senior"})})})]})]},$))]})}Rn(".FMSzyW_sidebar-wrapper{flex-direction:column;height:100%;display:flex}.FMSzyW_stage-wrapper{display:flex}.FMSzyW_selector-wrapper{margin-top:var(--space);flex-direction:row;height:100%;display:flex}");var Ui={stageWrapper:"FMSzyW_stage-wrapper",selectorWrapper:"FMSzyW_selector-wrapper",sidebarWrapper:"FMSzyW_sidebar-wrapper"};import{jsx as N6,jsxs as j9} from"preact/jsx-runtime";function Ei(){const[r,d]=Vr(!1),[u,R]=Vr(1),[f,T]=Vr({red:"simple",yellow:"medium",green:"senior"}),[c,b]=Vr({player:100,red:100,yellow:100,green:100});return j9("div",{className:Ui.sidebarWrapper,children:[N6(Oi,{className:Ui.stageWrapper,playing:r,enemies:u,enemiesAI:f,onChangePlaying:d,onChangeHealth:b}),N6(Xi,{playing:r,enemies:u,enemiesAI:f,health:c,onChangeEnemies:R,onChangeEnemyAI:(W,y)=>T({...f,[W]:y})})]})}var R6={fileList:[{id:`player_${Date.now().toString(36)}`,name:"player"}]};var Z6={"tankwar.player.greenFlag":"Go","tankwar.player.stopAll":"Stop","tankwar.stageInfo.player":"Player","tankwar.stageInfo.nickname":"Nickname","tankwar.stageInfo.enemies":"Enemies","tankwar.stageInfo.health":"Health","tankwar.stageInfo.enemy.red":"Red","tankwar.stageInfo.enemy.yellow":"Yellow","tankwar.stageInfo.enemy.green":"Green","tankwar.stageInfo.mode.local":"Local AI","tankwar.stageInfo.mode.remote":"Remote Players","tankwar.stageInfo.ai":"AI","tankwar.stageInfo.ai.simple":"Simple","tankwar.stageInfo.ai.medium":"Medium","tankwar.stageInfo.ai.senior":"Senior","tankwar.blocks.motion_attack":"fire in direction %1 at %2 steps","tankwar.blocks.motion_move":"forward in direction %1 at %2 % speed","tankwar.blocks.motion_setspeed":"set speed to %1 %","tankwar.blocks.motion_stop":"stop","tankwar.blocks.motion_speed":"speed","tankwar.blocks.sensing_scanwidth":"set scan width to %1","tankwar.blocks.sensing_scan":"scan for enemy in direction %1?","tankwar.blocks.sensing_distance":"measure distance of enemy in direction %1","tankwar.blocks.sensing_health":"health"};var y6={"tankwar.player.greenFlag":"\u8FD0\u884C","tankwar.player.stopAll":"\u505C\u6B62","tankwar.stageInfo.player":"\u73A9\u5BB6","tankwar.stageInfo.nickname":"\u6635\u79F0","tankwar.stageInfo.enemies":"\u654C\u65B9\u6570\u91CF","tankwar.stageInfo.health":"\u751F\u547D\u503C","tankwar.stageInfo.enemy.red":"\u7EA2","tankwar.stageInfo.enemy.yellow":"\u9EC4","tankwar.stageInfo.enemy.green":"\u7EFF","tankwar.stageInfo.mode.local":"\u672C\u673A AI","tankwar.stageInfo.mode.remote":"\u8054\u7F51\u73A9\u5BB6","tankwar.stageInfo.ai":"AI \u7B56\u7565","tankwar.stageInfo.ai.simple":"\u7B80\u5355","tankwar.stageInfo.ai.medium":"\u4E2D\u7B49","tankwar.stageInfo.ai.senior":"\u9AD8\u7EA7","tankwar.blocks.motion_attack":"\u671D\u5411 %1 \u65B9\u5411\u8DDD\u79BB %2 \u6B65\u53D1\u5C04\u70AE\u5F39","tankwar.blocks.motion_move":"\u4EE5 %2 % \u901F\u5EA6\u9762\u5411 %1 \u65B9\u5411\u524D\u8FDB","tankwar.blocks.motion_setspeed":"\u5C06\u901F\u5EA6\u8BBE\u4E3A %1 %","tankwar.blocks.motion_stop":"\u505C\u6B62\u524D\u8FDB","tankwar.blocks.motion_speed":"\u901F\u5EA6","tankwar.blocks.sensing_scanwidth":"\u5C06\u96F7\u8FBE\u626B\u63CF\u5BBD\u5EA6\u8BBE\u4E3A %1","tankwar.blocks.sensing_scan":"\u96F7\u8FBE\u626B\u63CF %1 \u65B9\u5411\u6709\u654C\u4EBA\uFF1F","tankwar.blocks.sensing_distance":"\u96F7\u8FBE\u6D4B\u91CF %1 \u65B9\u5411\u654C\u4EBA\u7684\u8DDD\u79BB","tankwar.blocks.sensing_health":"\u751F\u547D\u503C"};function J9({addLocaleData:r,createLayout:d,openProject:u,project:R}){r(gu),r({en:Z6,"zh-Hans":y6});const f=(c)=>{c=c??R6,u(Object.assign({selectedFileId:c.fileList[0].id},c))};f(R),d({mainMenu:Vu({createProject:f,openProject:u,saveProject:()=>{return{thumb:document.querySelector("#blockcode-blocks-player").toDataURL()}}}).slice(0,2),tabs:[{...yr,Content:Li}],sidebars:[{expand:"right",Content:Ei}],pane:!1,tutorials:!1,canEditProjectName:!0})}export{J9 as default};
