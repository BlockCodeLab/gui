var Jl=Object.create;var{defineProperty:K4,getPrototypeOf:Gl,getOwnPropertyNames:El}=Object;var Dl=Object.prototype.hasOwnProperty;var S0=(x,W,q)=>{q=x!=null?Jl(Gl(x)):{};const O=W||!x||!x.__esModule?K4(q,"default",{value:x,enumerable:!0}):q;for(let V of El(x))if(!Dl.call(O,V))K4(O,V,{get:()=>x[V],enumerable:!0});return O};var $0=(x,W)=>()=>(W||x((W={exports:{}}).exports,W),W.exports);var c3=((x)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(x,{get:(W,q)=>(typeof require!=="undefined"?require:W)[q]}):x)(function(x){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var H4=$0((S6,O0)=>{(function(x,W){if(typeof S6=="object"&&typeof O0=="object")O0.exports=W();else if(typeof define=="function"&&define.amd)define([],W);else{var q=W();for(var O in q)(typeof S6=="object"?S6:x)[O]=q[O]}})(self,()=>(()=>{var x={4567:function(V,y,u){var r=this&&this.__decorate||function($,Z,w,s){var g,R=arguments.length,U=R<3?Z:s===null?s=Object.getOwnPropertyDescriptor(Z,w):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate($,Z,w,s);else for(var j=$.length-1;j>=0;j--)(g=$[j])&&(U=(R<3?g(U):R>3?g(Z,w,U):g(Z,w))||U);return R>3&&U&&Object.defineProperty(Z,w,U),U},z=this&&this.__param||function($,Z){return function(w,s){Z(w,s,$)}};Object.defineProperty(y,"__esModule",{value:!0}),y.AccessibilityManager=void 0;const a=u(9042),L=u(6114),_=u(9924),S=u(844),b=u(5596),f=u(4725),M=u(3656);let T=y.AccessibilityManager=class extends S.Disposable{constructor($,Z){super(),this._terminal=$,this._renderService=Z,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=(w)=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=(w)=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new _.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((w)=>this._handleResize(w.rows))),this.register(this._terminal.onRender((w)=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar((w)=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab((w)=>this._handleTab(w))),this.register(this._terminal.onKey((w)=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new b.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register(M.addDisposableDomListener(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register(S.toDisposable(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab($){for(let Z=0;Z<$;Z++)this._handleChar(" ")}_handleChar($){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==$&&(this._charsToAnnounce+=$):this._charsToAnnounce+=$,$==="\n"&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=a.tooMuchOutput)),L.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,L.isMac&&this._liveRegion.remove()}_handleKey($){this._clearLiveRegion(),/\p{Control}/u.test($)||this._charsToConsume.push($)}_refreshRows($,Z){this._liveRegionDebouncer.refresh($,Z,this._terminal.rows)}_renderRows($,Z){const w=this._terminal.buffer,s=w.lines.length.toString();for(let g=$;g<=Z;g++){const R=w.translateBufferLineToString(w.ydisp+g,!0),U=(w.ydisp+g+1).toString(),j=this._rowElements[g];j&&(R.length===0?j.innerText="\xA0":j.textContent=R,j.setAttribute("aria-posinset",U),j.setAttribute("aria-setsize",s))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus($,Z){const w=$.target,s=this._rowElements[Z===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(Z===0?"1":`${this._terminal.buffer.lines.length}`))return;if($.relatedTarget!==s)return;let g,R;if(Z===0?(g=w,R=this._rowElements.pop(),this._rowContainer.removeChild(R)):(g=this._rowElements.shift(),R=w,this._rowContainer.removeChild(g)),g.removeEventListener("focus",this._topBoundaryFocusListener),R.removeEventListener("focus",this._bottomBoundaryFocusListener),Z===0){const U=this._createAccessibilityTreeNode();this._rowElements.unshift(U),this._rowContainer.insertAdjacentElement("afterbegin",U)}else{const U=this._createAccessibilityTreeNode();this._rowElements.push(U),this._rowContainer.appendChild(U)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(Z===0?-1:1),this._rowElements[Z===0?1:this._rowElements.length-2].focus(),$.preventDefault(),$.stopImmediatePropagation()}_handleResize($){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let Z=this._rowContainer.children.length;Z<this._terminal.rows;Z++)this._rowElements[Z]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[Z]);for(;this._rowElements.length>$;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const $=document.createElement("div");return $.setAttribute("role","listitem"),$.tabIndex=-1,this._refreshRowDimensions($),$}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let $=0;$<this._terminal.rows;$++)this._refreshRowDimensions(this._rowElements[$])}}_refreshRowDimensions($){$.style.height=`${this._renderService.dimensions.css.cell.height}px`}};y.AccessibilityManager=T=r([z(1,f.IRenderService)],T)},3614:(V,y)=>{function u(L){return L.replace(/\r?\n/g,"\r")}function r(L,_){return _?"[200~"+L+"[201~":L}function z(L,_,S,b){L=r(L=u(L),S.decPrivateModes.bracketedPasteMode&&b.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(L,!0),_.value=""}function a(L,_,S){const b=S.getBoundingClientRect(),f=L.clientX-b.left-10,M=L.clientY-b.top-10;_.style.width="20px",_.style.height="20px",_.style.left=`${f}px`,_.style.top=`${M}px`,_.style.zIndex="1000",_.focus()}Object.defineProperty(y,"__esModule",{value:!0}),y.rightClickHandler=y.moveTextAreaUnderMouseCursor=y.paste=y.handlePasteEvent=y.copyHandler=y.bracketTextForPaste=y.prepareTextForTerminal=void 0,y.prepareTextForTerminal=u,y.bracketTextForPaste=r,y.copyHandler=function(L,_){L.clipboardData&&L.clipboardData.setData("text/plain",_.selectionText),L.preventDefault()},y.handlePasteEvent=function(L,_,S,b){L.stopPropagation(),L.clipboardData&&z(L.clipboardData.getData("text/plain"),_,S,b)},y.paste=z,y.moveTextAreaUnderMouseCursor=a,y.rightClickHandler=function(L,_,S,b,f){a(L,_,S),f&&b.rightClickSelect(L),_.value=b.selectionText,_.select()}},7239:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.ColorContrastCache=void 0;const r=u(1505);y.ColorContrastCache=class{constructor(){this._color=new r.TwoKeyMap,this._css=new r.TwoKeyMap}setCss(z,a,L){this._css.set(z,a,L)}getCss(z,a){return this._css.get(z,a)}setColor(z,a,L){this._color.set(z,a,L)}getColor(z,a){return this._color.get(z,a)}clear(){this._color.clear(),this._css.clear()}}},3656:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.addDisposableDomListener=void 0,y.addDisposableDomListener=function(u,r,z,a){u.addEventListener(r,z,a);let L=!1;return{dispose:()=>{L||(L=!0,u.removeEventListener(r,z,a))}}}},6465:function(V,y,u){var r=this&&this.__decorate||function(f,M,T,$){var Z,w=arguments.length,s=w<3?M:$===null?$=Object.getOwnPropertyDescriptor(M,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(f,M,T,$);else for(var g=f.length-1;g>=0;g--)(Z=f[g])&&(s=(w<3?Z(s):w>3?Z(M,T,s):Z(M,T))||s);return w>3&&s&&Object.defineProperty(M,T,s),s},z=this&&this.__param||function(f,M){return function(T,$){M(T,$,f)}};Object.defineProperty(y,"__esModule",{value:!0}),y.Linkifier2=void 0;const a=u(3656),L=u(8460),_=u(844),S=u(2585);let b=y.Linkifier2=class extends _.Disposable{get currentLink(){return this._currentLink}constructor(f){super(),this._bufferService=f,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new L.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new L.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register(_.getDisposeArrayDisposable(this._linkCacheDisposables)),this.register(_.toDisposable(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(f){return this._linkProviders.push(f),{dispose:()=>{const M=this._linkProviders.indexOf(f);M!==-1&&this._linkProviders.splice(M,1)}}}attachToDom(f,M,T){this._element=f,this._mouseService=M,this._renderService=T,this.register(a.addDisposableDomListener(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register(a.addDisposableDomListener(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register(a.addDisposableDomListener(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register(a.addDisposableDomListener(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(f){if(this._lastMouseEvent=f,!this._element||!this._mouseService)return;const M=this._positionFromMouseEvent(f,this._element,this._mouseService);if(!M)return;this._isMouseOut=!1;const T=f.composedPath();for(let $=0;$<T.length;$++){const Z=T[$];if(Z.classList.contains("xterm"))break;if(Z.classList.contains("xterm-hover"))return}this._lastBufferCell&&M.x===this._lastBufferCell.x&&M.y===this._lastBufferCell.y||(this._handleHover(M),this._lastBufferCell=M)}_handleHover(f){if(this._activeLine!==f.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(f,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,f)||(this._clearCurrentLink(),this._askForLink(f,!0))}_askForLink(f,M){var T,$;this._activeProviderReplies&&M||((T=this._activeProviderReplies)===null||T===void 0||T.forEach((w)=>{w==null||w.forEach((s)=>{s.link.dispose&&s.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=f.y);let Z=!1;for(let[w,s]of this._linkProviders.entries())M?(($=this._activeProviderReplies)===null||$===void 0?void 0:$.get(w))&&(Z=this._checkLinkProviderResult(w,f,Z)):s.provideLinks(f.y,(g)=>{var R,U;if(this._isMouseOut)return;const j=g==null?void 0:g.map((J)=>({link:J}));(R=this._activeProviderReplies)===null||R===void 0||R.set(w,j),Z=this._checkLinkProviderResult(w,f,Z),((U=this._activeProviderReplies)===null||U===void 0?void 0:U.size)===this._linkProviders.length&&this._removeIntersectingLinks(f.y,this._activeProviderReplies)})}_removeIntersectingLinks(f,M){const T=new Set;for(let $=0;$<M.size;$++){const Z=M.get($);if(Z)for(let w=0;w<Z.length;w++){const s=Z[w],g=s.link.range.start.y<f?0:s.link.range.start.x,R=s.link.range.end.y>f?this._bufferService.cols:s.link.range.end.x;for(let U=g;U<=R;U++){if(T.has(U)){Z.splice(w--,1);break}T.add(U)}}}}_checkLinkProviderResult(f,M,T){var $;if(!this._activeProviderReplies)return T;const Z=this._activeProviderReplies.get(f);let w=!1;for(let s=0;s<f;s++)this._activeProviderReplies.has(s)&&!this._activeProviderReplies.get(s)||(w=!0);if(!w&&Z){const s=Z.find((g)=>this._linkAtPosition(g.link,M));s&&(T=!0,this._handleNewLink(s))}if(this._activeProviderReplies.size===this._linkProviders.length&&!T)for(let s=0;s<this._activeProviderReplies.size;s++){const g=($=this._activeProviderReplies.get(s))===null||$===void 0?void 0:$.find((R)=>this._linkAtPosition(R.link,M));if(g){T=!0,this._handleNewLink(g);break}}return T}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(f){if(!this._element||!this._mouseService||!this._currentLink)return;const M=this._positionFromMouseEvent(f,this._element,this._mouseService);M&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,M)&&this._currentLink.link.activate(f,this._currentLink.link.text)}_clearCurrentLink(f,M){this._element&&this._currentLink&&this._lastMouseEvent&&(!f||!M||this._currentLink.link.range.start.y>=f&&this._currentLink.link.range.end.y<=M)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,_.disposeArray(this._linkCacheDisposables))}_handleNewLink(f){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const M=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);M&&this._linkAtPosition(f.link,M)&&(this._currentLink=f,this._currentLink.state={decorations:{underline:f.link.decorations===void 0||f.link.decorations.underline,pointerCursor:f.link.decorations===void 0||f.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,f.link,this._lastMouseEvent),f.link.decorations={},Object.defineProperties(f.link.decorations,{pointerCursor:{get:()=>{var T,$;return($=(T=this._currentLink)===null||T===void 0?void 0:T.state)===null||$===void 0?void 0:$.decorations.pointerCursor},set:(T)=>{var $,Z;(($=this._currentLink)===null||$===void 0?void 0:$.state)&&this._currentLink.state.decorations.pointerCursor!==T&&(this._currentLink.state.decorations.pointerCursor=T,this._currentLink.state.isHovered&&((Z=this._element)===null||Z===void 0||Z.classList.toggle("xterm-cursor-pointer",T)))}},underline:{get:()=>{var T,$;return($=(T=this._currentLink)===null||T===void 0?void 0:T.state)===null||$===void 0?void 0:$.decorations.underline},set:(T)=>{var $,Z,w;(($=this._currentLink)===null||$===void 0?void 0:$.state)&&((w=(Z=this._currentLink)===null||Z===void 0?void 0:Z.state)===null||w===void 0?void 0:w.decorations.underline)!==T&&(this._currentLink.state.decorations.underline=T,this._currentLink.state.isHovered&&this._fireUnderlineEvent(f.link,T))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((T)=>{if(!this._currentLink)return;const $=T.start===0?0:T.start+1+this._bufferService.buffer.ydisp,Z=this._bufferService.buffer.ydisp+1+T.end;if(this._currentLink.link.range.start.y>=$&&this._currentLink.link.range.end.y<=Z&&(this._clearCurrentLink($,Z),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(f,M,T){var $;(($=this._currentLink)===null||$===void 0?void 0:$.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(M,!0),this._currentLink.state.decorations.pointerCursor&&f.classList.add("xterm-cursor-pointer")),M.hover&&M.hover(T,M.text)}_fireUnderlineEvent(f,M){const T=f.range,$=this._bufferService.buffer.ydisp,Z=this._createLinkUnderlineEvent(T.start.x-1,T.start.y-$-1,T.end.x,T.end.y-$-1,void 0);(M?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(Z)}_linkLeave(f,M,T){var $;(($=this._currentLink)===null||$===void 0?void 0:$.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(M,!1),this._currentLink.state.decorations.pointerCursor&&f.classList.remove("xterm-cursor-pointer")),M.leave&&M.leave(T,M.text)}_linkAtPosition(f,M){const T=f.range.start.y*this._bufferService.cols+f.range.start.x,$=f.range.end.y*this._bufferService.cols+f.range.end.x,Z=M.y*this._bufferService.cols+M.x;return T<=Z&&Z<=$}_positionFromMouseEvent(f,M,T){const $=T.getCoords(f,M,this._bufferService.cols,this._bufferService.rows);if($)return{x:$[0],y:$[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(f,M,T,$,Z){return{x1:f,y1:M,x2:T,y2:$,cols:this._bufferService.cols,fg:Z}}};y.Linkifier2=b=r([z(0,S.IBufferService)],b)},9042:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.tooMuchOutput=y.promptLabel=void 0,y.promptLabel="Terminal input",y.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(V,y,u){var r=this&&this.__decorate||function(b,f,M,T){var $,Z=arguments.length,w=Z<3?f:T===null?T=Object.getOwnPropertyDescriptor(f,M):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(b,f,M,T);else for(var s=b.length-1;s>=0;s--)($=b[s])&&(w=(Z<3?$(w):Z>3?$(f,M,w):$(f,M))||w);return Z>3&&w&&Object.defineProperty(f,M,w),w},z=this&&this.__param||function(b,f){return function(M,T){f(M,T,b)}};Object.defineProperty(y,"__esModule",{value:!0}),y.OscLinkProvider=void 0;const a=u(511),L=u(2585);let _=y.OscLinkProvider=class{constructor(b,f,M){this._bufferService=b,this._optionsService=f,this._oscLinkService=M}provideLinks(b,f){var M;const T=this._bufferService.buffer.lines.get(b-1);if(!T)return void f(void 0);const $=[],Z=this._optionsService.rawOptions.linkHandler,w=new a.CellData,s=T.getTrimmedLength();let g=-1,R=-1,U=!1;for(let j=0;j<s;j++)if(R!==-1||T.hasContent(j)){if(T.loadCell(j,w),w.hasExtendedAttrs()&&w.extended.urlId){if(R===-1){R=j,g=w.extended.urlId;continue}U=w.extended.urlId!==g}else R!==-1&&(U=!0);if(U||R!==-1&&j===s-1){const J=(M=this._oscLinkService.getLinkData(g))===null||M===void 0?void 0:M.uri;if(J){const H={start:{x:R+1,y:b},end:{x:j+(U||j!==s-1?0:1),y:b}};let D=!1;if(!(Z==null?void 0:Z.allowNonHttpProtocols))try{const l=new URL(J);["http:","https:"].includes(l.protocol)||(D=!0)}catch(l){D=!0}D||$.push({text:J,range:H,activate:(l,p)=>Z?Z.activate(l,p,H):S(0,p),hover:(l,p)=>{var m;return(m=Z==null?void 0:Z.hover)===null||m===void 0?void 0:m.call(Z,l,p,H)},leave:(l,p)=>{var m;return(m=Z==null?void 0:Z.leave)===null||m===void 0?void 0:m.call(Z,l,p,H)}})}U=!1,w.hasExtendedAttrs()&&w.extended.urlId?(R=j,g=w.extended.urlId):(R=-1,g=-1)}}f($)}};function S(b,f){if(confirm(`Do you want to navigate to ${f}?\n\nWARNING: This link could potentially be dangerous`)){const M=window.open();if(M){try{M.opener=null}catch(T){}M.location.href=f}else console.warn("Opening link blocked as opener could not be cleared")}}y.OscLinkProvider=_=r([z(0,L.IBufferService),z(1,L.IOptionsService),z(2,L.IOscLinkService)],_)},6193:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.RenderDebouncer=void 0,y.RenderDebouncer=class{constructor(u,r){this._parentWindow=u,this._renderCallback=r,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(u,r,z){this._rowCount=z,u=u!==void 0?u:0,r=r!==void 0?r:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,r):r,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),r=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,r),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},5596:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.ScreenDprMonitor=void 0;const r=u(844);class z extends r.Disposable{constructor(a){super(),this._parentWindow=a,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register(r.toDisposable(()=>{this.clearListener()}))}setListener(a){this._listener&&this.clearListener(),this._listener=a,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var a;this._outerListener&&((a=this._resolutionMediaMatchList)===null||a===void 0||a.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}y.ScreenDprMonitor=z},3236:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.Terminal=void 0;const r=u(3614),z=u(3656),a=u(6465),L=u(9042),_=u(3730),S=u(1680),b=u(3107),f=u(5744),M=u(2950),T=u(1296),$=u(428),Z=u(4269),w=u(5114),s=u(8934),g=u(3230),R=u(9312),U=u(4725),j=u(6731),J=u(8055),H=u(8969),D=u(8460),l=u(844),p=u(6114),m=u(8437),n=u(2584),c=u(7399),v=u(5941),N=u(9074),d=u(2585),o=u(5435),h=u(4567),P=typeof window!="undefined"?window.document:null;class X extends H.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(k={}){super(k),this.browser=p,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new l.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(a.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(_.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(N.DecorationService),this._instantiationService.setService(d.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((I,Q)=>this.refresh(I,Q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport((I)=>this._reportWindowsOptions(I))),this.register(this._inputHandler.onColor((I)=>this._handleColorEvent(I))),this.register(D.forwardEvent(this._inputHandler.onCursorMove,this._onCursorMove)),this.register(D.forwardEvent(this._inputHandler.onTitleChange,this._onTitleChange)),this.register(D.forwardEvent(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register(D.forwardEvent(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((I)=>this._afterResize(I.cols,I.rows))),this.register(l.toDisposable(()=>{var I,Q;this._customKeyEventHandler=void 0,(Q=(I=this.element)===null||I===void 0?void 0:I.parentNode)===null||Q===void 0||Q.removeChild(this.element)}))}_handleColorEvent(k){if(this._themeService)for(let I of k){let Q,e="";switch(I.index){case 256:Q="foreground",e="10";break;case 257:Q="background",e="11";break;case 258:Q="cursor",e="12";break;default:Q="ansi",e="4;"+I.index}switch(I.type){case 0:const B=J.color.toColorRGB(Q==="ansi"?this._themeService.colors.ansi[I.index]:this._themeService.colors[Q]);this.coreService.triggerDataEvent(`${n.C0.ESC}]${e};${v.toRgbString(B)}${n.C1_ESCAPED.ST}`);break;case 1:if(Q==="ansi")this._themeService.modifyColors((E)=>E.ansi[I.index]=J.rgba.toColor(...I.color));else{const E=Q;this._themeService.modifyColors((A)=>A[E]=J.rgba.toColor(...I.color))}break;case 2:this._themeService.restoreColor(I.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(k){k?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(h.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(k){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(n.C0.ESC+"[I"),this.updateCursorStyle(k),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var k;return(k=this.textarea)===null||k===void 0?void 0:k.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(n.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const k=this.buffer.ybase+this.buffer.y,I=this.buffer.lines.get(k);if(!I)return;const Q=Math.min(this.buffer.x,this.cols-1),e=this._renderService.dimensions.css.cell.height,B=I.getWidth(Q),E=this._renderService.dimensions.css.cell.width*B,A=this.buffer.y*this._renderService.dimensions.css.cell.height,r1=Q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=r1+"px",this.textarea.style.top=A+"px",this.textarea.style.width=E+"px",this.textarea.style.height=e+"px",this.textarea.style.lineHeight=e+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register(z.addDisposableDomListener(this.element,"copy",(I)=>{this.hasSelection()&&r.copyHandler(I,this._selectionService)}));const k=(I)=>r.handlePasteEvent(I,this.textarea,this.coreService,this.optionsService);this.register(z.addDisposableDomListener(this.textarea,"paste",k)),this.register(z.addDisposableDomListener(this.element,"paste",k)),p.isFirefox?this.register(z.addDisposableDomListener(this.element,"mousedown",(I)=>{I.button===2&&r.rightClickHandler(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register(z.addDisposableDomListener(this.element,"contextmenu",(I)=>{r.rightClickHandler(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),p.isLinux&&this.register(z.addDisposableDomListener(this.element,"auxclick",(I)=>{I.button===1&&r.moveTextAreaUnderMouseCursor(I,this.textarea,this.screenElement)}))}_bindKeys(){this.register(z.addDisposableDomListener(this.textarea,"keyup",(k)=>this._keyUp(k),!0)),this.register(z.addDisposableDomListener(this.textarea,"keydown",(k)=>this._keyDown(k),!0)),this.register(z.addDisposableDomListener(this.textarea,"keypress",(k)=>this._keyPress(k),!0)),this.register(z.addDisposableDomListener(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register(z.addDisposableDomListener(this.textarea,"compositionupdate",(k)=>this._compositionHelper.compositionupdate(k))),this.register(z.addDisposableDomListener(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register(z.addDisposableDomListener(this.textarea,"input",(k)=>this._inputEvent(k),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(k){var I;if(!k)throw new Error("Terminal requires a parent element.");k.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=k.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),k.appendChild(this.element);const Q=P.createDocumentFragment();this._viewportElement=P.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Q.appendChild(this._viewportElement),this._viewportScrollArea=P.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=P.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=P.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Q.appendChild(this.screenElement),this.textarea=P.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",L.promptLabel),p.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(I=this._document.defaultView)!==null&&I!==void 0?I:window),this._instantiationService.setService(U.ICoreBrowserService,this._coreBrowserService),this.register(z.addDisposableDomListener(this.textarea,"focus",(e)=>this._handleTextAreaFocus(e))),this.register(z.addDisposableDomListener(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance($.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(U.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(j.ThemeService),this._instantiationService.setService(U.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(Z.CharacterJoinerService),this._instantiationService.setService(U.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(g.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(U.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((e)=>this._onRender.fire(e))),this.onResize((e)=>this._renderService.resize(e.cols,e.rows)),this._compositionView=P.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(M.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Q);try{this._onWillOpen.fire(this.element)}catch(e){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(s.MouseService),this._instantiationService.setService(U.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((e)=>this.scrollLines(e.amount,e.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(R.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(U.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((e)=>this.scrollLines(e.amount,e.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw((e)=>this._renderService.handleSelectionChanged(e.start,e.end,e.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection((e)=>{this.textarea.value=e,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event((e)=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register(z.addDisposableDomListener(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(b.BufferDecorationRenderer,this.screenElement)),this.register(z.addDisposableDomListener(this.element,"mousedown",(e)=>this._selectionService.handleMouseDown(e))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(h.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(e)=>this._handleScreenReaderModeOptionChange(e))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(f.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(e)=>{!this._overviewRulerRenderer&&e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(f.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(T.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const k=this,I=this.element;function Q(E){const A=k._mouseService.getMouseReportCoords(E,k.screenElement);if(!A)return!1;let r1,n1;switch(E.overrideType||E.type){case"mousemove":n1=32,E.buttons===void 0?(r1=3,E.button!==void 0&&(r1=E.button<3?E.button:3)):r1=1&E.buttons?0:4&E.buttons?1:2&E.buttons?2:3;break;case"mouseup":n1=0,r1=E.button<3?E.button:3;break;case"mousedown":n1=1,r1=E.button<3?E.button:3;break;case"wheel":if(k.viewport.getLinesScrolled(E)===0)return!1;n1=E.deltaY<0?0:1,r1=4;break;default:return!1}return!(n1===void 0||r1===void 0||r1>4)&&k.coreMouseService.triggerMouseEvent({col:A.col,row:A.row,x:A.x,y:A.y,button:r1,action:n1,ctrl:E.ctrlKey,alt:E.altKey,shift:E.shiftKey})}const e={mouseup:null,wheel:null,mousedrag:null,mousemove:null},B={mouseup:(E)=>(Q(E),E.buttons||(this._document.removeEventListener("mouseup",e.mouseup),e.mousedrag&&this._document.removeEventListener("mousemove",e.mousedrag)),this.cancel(E)),wheel:(E)=>(Q(E),this.cancel(E,!0)),mousedrag:(E)=>{E.buttons&&Q(E)},mousemove:(E)=>{E.buttons||Q(E)}};this.register(this.coreMouseService.onProtocolChange((E)=>{E?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(E)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&E?e.mousemove||(I.addEventListener("mousemove",B.mousemove),e.mousemove=B.mousemove):(I.removeEventListener("mousemove",e.mousemove),e.mousemove=null),16&E?e.wheel||(I.addEventListener("wheel",B.wheel,{passive:!1}),e.wheel=B.wheel):(I.removeEventListener("wheel",e.wheel),e.wheel=null),2&E?e.mouseup||(I.addEventListener("mouseup",B.mouseup),e.mouseup=B.mouseup):(this._document.removeEventListener("mouseup",e.mouseup),I.removeEventListener("mouseup",e.mouseup),e.mouseup=null),4&E?e.mousedrag||(e.mousedrag=B.mousedrag):(this._document.removeEventListener("mousemove",e.mousedrag),e.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register(z.addDisposableDomListener(I,"mousedown",(E)=>{if(E.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(E))return Q(E),e.mouseup&&this._document.addEventListener("mouseup",e.mouseup),e.mousedrag&&this._document.addEventListener("mousemove",e.mousedrag),this.cancel(E)})),this.register(z.addDisposableDomListener(I,"wheel",(E)=>{if(!e.wheel){if(!this.buffer.hasScrollback){const A=this.viewport.getLinesScrolled(E);if(A===0)return;const r1=n.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(E.deltaY<0?"A":"B");let n1="";for(let c1=0;c1<Math.abs(A);c1++)n1+=r1;return this.coreService.triggerDataEvent(n1,!0),this.cancel(E,!0)}return this.viewport.handleWheel(E)?this.cancel(E):void 0}},{passive:!1})),this.register(z.addDisposableDomListener(I,"touchstart",(E)=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(E),this.cancel(E)},{passive:!0})),this.register(z.addDisposableDomListener(I,"touchmove",(E)=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(E)?void 0:this.cancel(E)},{passive:!1}))}refresh(k,I){var Q;(Q=this._renderService)===null||Q===void 0||Q.refreshRows(k,I)}updateCursorStyle(k){var I;((I=this._selectionService)===null||I===void 0?void 0:I.shouldColumnSelect(k))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(k,I,Q=0){var e;Q===1?(super.scrollLines(k,I,Q),this.refresh(0,this.rows-1)):(e=this.viewport)===null||e===void 0||e.scrollLines(k)}paste(k){r.paste(k,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(k){this._customKeyEventHandler=k}registerLinkProvider(k){return this.linkifier2.registerLinkProvider(k)}registerCharacterJoiner(k){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const I=this._characterJoinerService.register(k);return this.refresh(0,this.rows-1),I}deregisterCharacterJoiner(k){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(k)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(k){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+k)}registerDecoration(k){return this._decorationService.registerDecoration(k)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(k,I,Q){this._selectionService.setSelection(k,I,Q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var k;(k=this._selectionService)===null||k===void 0||k.clearSelection()}selectAll(){var k;(k=this._selectionService)===null||k===void 0||k.selectAll()}selectLines(k,I){var Q;(Q=this._selectionService)===null||Q===void 0||Q.selectLines(k,I)}_keyDown(k){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(k)===!1)return!1;const I=this.browser.isMac&&this.options.macOptionIsMeta&&k.altKey;if(!I&&!this._compositionHelper.keydown(k))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;I||k.key!=="Dead"&&k.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Q=c.evaluateKeyboardEvent(k,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(k),Q.type===3||Q.type===2){const e=this.rows-1;return this.scrollLines(Q.type===2?-e:e),this.cancel(k,!0)}return Q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,k)||(Q.cancel&&this.cancel(k,!0),!Q.key||!!(k.key&&!k.ctrlKey&&!k.altKey&&!k.metaKey&&k.key.length===1&&k.key.charCodeAt(0)>=65&&k.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Q.key!==n.C0.ETX&&Q.key!==n.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Q.key,domEvent:k}),this._showCursor(),this.coreService.triggerDataEvent(Q.key,!0),!this.optionsService.rawOptions.screenReaderMode||k.altKey||k.ctrlKey?this.cancel(k,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(k,I){const Q=k.isMac&&!this.options.macOptionIsMeta&&I.altKey&&!I.ctrlKey&&!I.metaKey||k.isWindows&&I.altKey&&I.ctrlKey&&!I.metaKey||k.isWindows&&I.getModifierState("AltGraph");return I.type==="keypress"?Q:Q&&(!I.keyCode||I.keyCode>47)}_keyUp(k){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(k)===!1||(function(I){return I.keyCode===16||I.keyCode===17||I.keyCode===18}(k)||this.focus(),this.updateCursorStyle(k),this._keyPressHandled=!1)}_keyPress(k){let I;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&this._customKeyEventHandler(k)===!1)return!1;if(this.cancel(k),k.charCode)I=k.charCode;else if(k.which===null||k.which===void 0)I=k.keyCode;else{if(k.which===0||k.charCode===0)return!1;I=k.which}return!(!I||(k.altKey||k.ctrlKey||k.metaKey)&&!this._isThirdLevelShift(this.browser,k)||(I=String.fromCharCode(I),this._onKey.fire({key:I,domEvent:k}),this._showCursor(),this.coreService.triggerDataEvent(I,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(k){if(k.data&&k.inputType==="insertText"&&(!k.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const I=k.data;return this.coreService.triggerDataEvent(I,!0),this.cancel(k),!0}return!1}resize(k,I){k!==this.cols||I!==this.rows?super.resize(k,I):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(k,I){var Q,e;(Q=this._charSizeService)===null||Q===void 0||Q.measure(),(e=this.viewport)===null||e===void 0||e.syncScrollArea(!0)}clear(){var k;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let I=1;I<this.rows;I++)this.buffer.lines.push(this.buffer.getBlankLine(m.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(k=this.viewport)===null||k===void 0||k.reset(),this.refresh(0,this.rows-1)}}reset(){var k,I;this.options.rows=this.rows,this.options.cols=this.cols;const Q=this._customKeyEventHandler;this._setup(),super.reset(),(k=this._selectionService)===null||k===void 0||k.reset(),this._decorationService.reset(),(I=this.viewport)===null||I===void 0||I.reset(),this._customKeyEventHandler=Q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var k;(k=this._renderService)===null||k===void 0||k.clearTextureAtlas()}_reportFocus(){var k;((k=this.element)===null||k===void 0?void 0:k.classList.contains("focus"))?this.coreService.triggerDataEvent(n.C0.ESC+"[I"):this.coreService.triggerDataEvent(n.C0.ESC+"[O")}_reportWindowsOptions(k){if(this._renderService)switch(k){case o.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const I=this._renderService.dimensions.css.canvas.width.toFixed(0),Q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${n.C0.ESC}[4;${Q};${I}t`);break;case o.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const e=this._renderService.dimensions.css.cell.width.toFixed(0),B=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${n.C0.ESC}[6;${B};${e}t`)}}cancel(k,I){if(this.options.cancelEvents||I)return k.preventDefault(),k.stopPropagation(),!1}}y.Terminal=X},9924:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.TimeBasedDebouncer=void 0,y.TimeBasedDebouncer=class{constructor(u,r=1000){this._renderCallback=u,this._debounceThresholdMS=r,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,r,z){this._rowCount=z,u=u!==void 0?u:0,r=r!==void 0?r:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,r):r;const a=Date.now();if(a-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=a,this._innerRefresh();else if(!this._additionalRefreshRequested){const L=a-this._lastRefreshMs,_=this._debounceThresholdMS-L;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},_)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),r=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,r)}}},1680:function(V,y,u){var r=this&&this.__decorate||function(M,T,$,Z){var w,s=arguments.length,g=s<3?T:Z===null?Z=Object.getOwnPropertyDescriptor(T,$):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(M,T,$,Z);else for(var R=M.length-1;R>=0;R--)(w=M[R])&&(g=(s<3?w(g):s>3?w(T,$,g):w(T,$))||g);return s>3&&g&&Object.defineProperty(T,$,g),g},z=this&&this.__param||function(M,T){return function($,Z){T($,Z,M)}};Object.defineProperty(y,"__esModule",{value:!0}),y.Viewport=void 0;const a=u(3656),L=u(4725),_=u(8460),S=u(844),b=u(2585);let f=y.Viewport=class extends S.Disposable{constructor(M,T,$,Z,w,s,g,R){super(),this._viewportElement=M,this._scrollArea=T,this._bufferService=$,this._optionsService=Z,this._charSizeService=w,this._renderService=s,this._coreBrowserService=g,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register(a.addDisposableDomListener(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((U)=>this._activeBuffer=U.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((U)=>this._renderDimensions=U)),this._handleThemeChange(R.colors),this.register(R.onChangeColors((U)=>this._handleThemeChange(U))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(M){this._viewportElement.style.backgroundColor=M.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(M){if(M)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const T=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==T&&(this._lastRecordedBufferHeight=T,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const M=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==M&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=M),this._refreshAnimationFrame=null}syncScrollArea(M=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(M);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(M)}_handleScroll(M){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const T=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:T,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const M=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(M*(this._smoothScrollState.target-this._smoothScrollState.origin)),M<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(M,T){const $=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(T<0&&this._viewportElement.scrollTop!==0||T>0&&$<this._lastRecordedBufferHeight)||(M.cancelable&&M.preventDefault(),!1)}handleWheel(M){const T=this._getPixelsScrolled(M);return T!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+T:this._smoothScrollState.target+=T,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=T,this._bubbleScroll(M,T))}scrollLines(M){if(M!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const T=M*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+T,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:M,suppressScrollEvent:!1})}_getPixelsScrolled(M){if(M.deltaY===0||M.shiftKey)return 0;let T=this._applyScrollModifier(M.deltaY,M);return M.deltaMode===WheelEvent.DOM_DELTA_LINE?T*=this._currentRowHeight:M.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(T*=this._currentRowHeight*this._bufferService.rows),T}getBufferElements(M,T){var $;let Z,w="";const s=[],g=T!=null?T:this._bufferService.buffer.lines.length,R=this._bufferService.buffer.lines;for(let U=M;U<g;U++){const j=R.get(U);if(!j)continue;const J=($=R.get(U+1))===null||$===void 0?void 0:$.isWrapped;if(w+=j.translateToString(!J),!J||U===R.length-1){const H=document.createElement("div");H.textContent=w,s.push(H),w.length>0&&(Z=H),w=""}}return{bufferElements:s,cursorElement:Z}}getLinesScrolled(M){if(M.deltaY===0||M.shiftKey)return 0;let T=this._applyScrollModifier(M.deltaY,M);return M.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(T/=this._currentRowHeight+0,this._wheelPartialScroll+=T,T=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):M.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(T*=this._bufferService.rows),T}_applyScrollModifier(M,T){const $=this._optionsService.rawOptions.fastScrollModifier;return $==="alt"&&T.altKey||$==="ctrl"&&T.ctrlKey||$==="shift"&&T.shiftKey?M*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:M*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(M){this._lastTouchY=M.touches[0].pageY}handleTouchMove(M){const T=this._lastTouchY-M.touches[0].pageY;return this._lastTouchY=M.touches[0].pageY,T!==0&&(this._viewportElement.scrollTop+=T,this._bubbleScroll(M,T))}};y.Viewport=f=r([z(2,b.IBufferService),z(3,b.IOptionsService),z(4,L.ICharSizeService),z(5,L.IRenderService),z(6,L.ICoreBrowserService),z(7,L.IThemeService)],f)},3107:function(V,y,u){var r=this&&this.__decorate||function(f,M,T,$){var Z,w=arguments.length,s=w<3?M:$===null?$=Object.getOwnPropertyDescriptor(M,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(f,M,T,$);else for(var g=f.length-1;g>=0;g--)(Z=f[g])&&(s=(w<3?Z(s):w>3?Z(M,T,s):Z(M,T))||s);return w>3&&s&&Object.defineProperty(M,T,s),s},z=this&&this.__param||function(f,M){return function(T,$){M(T,$,f)}};Object.defineProperty(y,"__esModule",{value:!0}),y.BufferDecorationRenderer=void 0;const a=u(3656),L=u(4725),_=u(844),S=u(2585);let b=y.BufferDecorationRenderer=class extends _.Disposable{constructor(f,M,T,$){super(),this._screenElement=f,this._bufferService=M,this._decorationService=T,this._renderService=$,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(a.addDisposableDomListener(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved((Z)=>this._removeDecoration(Z))),this.register(_.toDisposable(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let f of this._decorationService.decorations)this._renderDecoration(f);this._dimensionsChanged=!1}_renderDecoration(f){this._refreshStyle(f),this._dimensionsChanged&&this._refreshXPosition(f)}_createElement(f){var M,T;const $=document.createElement("div");$.classList.add("xterm-decoration"),$.classList.toggle("xterm-decoration-top-layer",((M=f==null?void 0:f.options)===null||M===void 0?void 0:M.layer)==="top"),$.style.width=`${Math.round((f.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,$.style.height=(f.options.height||1)*this._renderService.dimensions.css.cell.height+"px",$.style.top=(f.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",$.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const Z=(T=f.options.x)!==null&&T!==void 0?T:0;return Z&&Z>this._bufferService.cols&&($.style.display="none"),this._refreshXPosition(f,$),$}_refreshStyle(f){const M=f.marker.line-this._bufferService.buffers.active.ydisp;if(M<0||M>=this._bufferService.rows)f.element&&(f.element.style.display="none",f.onRenderEmitter.fire(f.element));else{let T=this._decorationElements.get(f);T||(T=this._createElement(f),f.element=T,this._decorationElements.set(f,T),this._container.appendChild(T),f.onDispose(()=>{this._decorationElements.delete(f),T.remove()})),T.style.top=M*this._renderService.dimensions.css.cell.height+"px",T.style.display=this._altBufferIsActive?"none":"block",f.onRenderEmitter.fire(T)}}_refreshXPosition(f,M=f.element){var T;if(!M)return;const $=(T=f.options.x)!==null&&T!==void 0?T:0;(f.options.anchor||"left")==="right"?M.style.right=$?$*this._renderService.dimensions.css.cell.width+"px":"":M.style.left=$?$*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(f){var M;(M=this._decorationElements.get(f))===null||M===void 0||M.remove(),this._decorationElements.delete(f),f.dispose()}};y.BufferDecorationRenderer=b=r([z(1,S.IBufferService),z(2,S.IDecorationService),z(3,L.IRenderService)],b)},5871:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.ColorZoneStore=void 0,y.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(let r of this._zones)if(r.color===u.options.overviewRulerOptions.color&&r.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(r,u.marker.line))return;if(this._lineAdjacentToZone(r,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(r,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,r){return r>=u.startBufferLine&&r<=u.endBufferLine}_lineAdjacentToZone(u,r,z){return r>=u.startBufferLine-this._linePadding[z||"full"]&&r<=u.endBufferLine+this._linePadding[z||"full"]}_addLineToZone(u,r){u.startBufferLine=Math.min(u.startBufferLine,r),u.endBufferLine=Math.max(u.endBufferLine,r)}}},5744:function(V,y,u){var r=this&&this.__decorate||function(Z,w,s,g){var R,U=arguments.length,j=U<3?w:g===null?g=Object.getOwnPropertyDescriptor(w,s):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(Z,w,s,g);else for(var J=Z.length-1;J>=0;J--)(R=Z[J])&&(j=(U<3?R(j):U>3?R(w,s,j):R(w,s))||j);return U>3&&j&&Object.defineProperty(w,s,j),j},z=this&&this.__param||function(Z,w){return function(s,g){w(s,g,Z)}};Object.defineProperty(y,"__esModule",{value:!0}),y.OverviewRulerRenderer=void 0;const a=u(5871),L=u(3656),_=u(4725),S=u(844),b=u(2585),f={full:0,left:0,center:0,right:0},M={full:0,left:0,center:0,right:0},T={full:0,left:0,center:0,right:0};let $=y.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(Z,w,s,g,R,U,j){var J;super(),this._viewportElement=Z,this._screenElement=w,this._bufferService=s,this._decorationService=g,this._renderService=R,this._optionsService=U,this._coreBrowseService=j,this._colorZoneStore=new a.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(J=this._viewportElement.parentElement)===null||J===void 0||J.insertBefore(this._canvas,this._viewportElement);const H=this._canvas.getContext("2d");if(!H)throw new Error("Ctx cannot be null");this._ctx=H,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register(S.toDisposable(()=>{var D;(D=this._canvas)===null||D===void 0||D.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(L.addDisposableDomListener(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const Z=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);M.full=this._canvas.width,M.left=Z,M.center=w,M.right=Z,this._refreshDrawHeightConstants(),T.full=0,T.left=0,T.center=M.left,T.right=M.left+M.center}_refreshDrawHeightConstants(){f.full=Math.round(2*this._coreBrowseService.dpr);const Z=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(Z,12),6)*this._coreBrowseService.dpr);f.left=w,f.center=w,f.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const Z=this._colorZoneStore.zones;for(let w of Z)w.position!=="full"&&this._renderColorZone(w);for(let w of Z)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(Z){this._ctx.fillStyle=Z.color,this._ctx.fillRect(T[Z.position||"full"],Math.round((this._canvas.height-1)*(Z.startBufferLine/this._bufferService.buffers.active.lines.length)-f[Z.position||"full"]/2),M[Z.position||"full"],Math.round((this._canvas.height-1)*((Z.endBufferLine-Z.startBufferLine)/this._bufferService.buffers.active.lines.length)+f[Z.position||"full"]))}_queueRefresh(Z,w){this._shouldUpdateDimensions=Z||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};y.OverviewRulerRenderer=$=r([z(2,b.IBufferService),z(3,b.IDecorationService),z(4,_.IRenderService),z(5,b.IOptionsService),z(6,_.ICoreBrowserService)],$)},2950:function(V,y,u){var r=this&&this.__decorate||function(b,f,M,T){var $,Z=arguments.length,w=Z<3?f:T===null?T=Object.getOwnPropertyDescriptor(f,M):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(b,f,M,T);else for(var s=b.length-1;s>=0;s--)($=b[s])&&(w=(Z<3?$(w):Z>3?$(f,M,w):$(f,M))||w);return Z>3&&w&&Object.defineProperty(f,M,w),w},z=this&&this.__param||function(b,f){return function(M,T){f(M,T,b)}};Object.defineProperty(y,"__esModule",{value:!0}),y.CompositionHelper=void 0;const a=u(4725),L=u(2585),_=u(2584);let S=y.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(b,f,M,T,$,Z){this._textarea=b,this._compositionView=f,this._bufferService=M,this._optionsService=T,this._coreService=$,this._renderService=Z,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(b){this._compositionView.textContent=b.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(b){if(this._isComposing||this._isSendingComposition){if(b.keyCode===229)return!1;if(b.keyCode===16||b.keyCode===17||b.keyCode===18)return!1;this._finalizeComposition(!1)}return b.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(b){if(this._compositionView.classList.remove("active"),this._isComposing=!1,b){const f={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let M;this._isSendingComposition=!1,f.start+=this._dataAlreadySent.length,M=this._isComposing?this._textarea.value.substring(f.start,f.end):this._textarea.value.substring(f.start),M.length>0&&this._coreService.triggerDataEvent(M,!0)}},0)}else{this._isSendingComposition=!1;const f=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(f,!0)}}_handleAnyTextareaChanges(){const b=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const f=this._textarea.value,M=f.replace(b,"");this._dataAlreadySent=M,f.length>b.length?this._coreService.triggerDataEvent(M,!0):f.length<b.length?this._coreService.triggerDataEvent(`${_.C0.DEL}`,!0):f.length===b.length&&f!==b&&this._coreService.triggerDataEvent(f,!0)}},0)}updateCompositionElements(b){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const f=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),M=this._renderService.dimensions.css.cell.height,T=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,$=f*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=$+"px",this._compositionView.style.top=T+"px",this._compositionView.style.height=M+"px",this._compositionView.style.lineHeight=M+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const Z=this._compositionView.getBoundingClientRect();this._textarea.style.left=$+"px",this._textarea.style.top=T+"px",this._textarea.style.width=Math.max(Z.width,1)+"px",this._textarea.style.height=Math.max(Z.height,1)+"px",this._textarea.style.lineHeight=Z.height+"px"}b||setTimeout(()=>this.updateCompositionElements(!0),0)}}};y.CompositionHelper=S=r([z(2,L.IBufferService),z(3,L.IOptionsService),z(4,L.ICoreService),z(5,a.IRenderService)],S)},9806:(V,y)=>{function u(r,z,a){const L=a.getBoundingClientRect(),_=r.getComputedStyle(a),S=parseInt(_.getPropertyValue("padding-left")),b=parseInt(_.getPropertyValue("padding-top"));return[z.clientX-L.left-S,z.clientY-L.top-b]}Object.defineProperty(y,"__esModule",{value:!0}),y.getCoords=y.getCoordsRelativeToElement=void 0,y.getCoordsRelativeToElement=u,y.getCoords=function(r,z,a,L,_,S,b,f,M){if(!S)return;const T=u(r,z,a);return T?(T[0]=Math.ceil((T[0]+(M?b/2:0))/b),T[1]=Math.ceil(T[1]/f),T[0]=Math.min(Math.max(T[0],1),L+(M?1:0)),T[1]=Math.min(Math.max(T[1],1),_),T):void 0}},9504:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.moveToCellSequence=void 0;const r=u(2584);function z(f,M,T,$){const Z=f-a(f,T),w=M-a(M,T),s=Math.abs(Z-w)-function(g,R,U){let j=0;const J=g-a(g,U),H=R-a(R,U);for(let D=0;D<Math.abs(J-H);D++){const l=L(g,R)==="A"?-1:1,p=U.buffer.lines.get(J+l*D);(p==null?void 0:p.isWrapped)&&j++}return j}(f,M,T);return b(s,S(L(f,M),$))}function a(f,M){let T=0,$=M.buffer.lines.get(f),Z=$==null?void 0:$.isWrapped;for(;Z&&f>=0&&f<M.rows;)T++,$=M.buffer.lines.get(--f),Z=$==null?void 0:$.isWrapped;return T}function L(f,M){return f>M?"A":"B"}function _(f,M,T,$,Z,w){let s=f,g=M,R="";for(;s!==T||g!==$;)s+=Z?1:-1,Z&&s>w.cols-1?(R+=w.buffer.translateBufferLineToString(g,!1,f,s),s=0,f=0,g++):!Z&&s<0&&(R+=w.buffer.translateBufferLineToString(g,!1,0,f+1),s=w.cols-1,f=s,g--);return R+w.buffer.translateBufferLineToString(g,!1,f,s)}function S(f,M){const T=M?"O":"[";return r.C0.ESC+T+f}function b(f,M){f=Math.floor(f);let T="";for(let $=0;$<f;$++)T+=M;return T}y.moveToCellSequence=function(f,M,T,$){const Z=T.buffer.x,w=T.buffer.y;if(!T.buffer.hasScrollback)return function(R,U,j,J,H,D){return z(U,J,H,D).length===0?"":b(_(R,U,R,U-a(U,H),!1,H).length,S("D",D))}(Z,w,0,M,T,$)+z(w,M,T,$)+function(R,U,j,J,H,D){let l;l=z(U,J,H,D).length>0?J-a(J,H):U;const p=J,m=function(n,c,v,N,d,o){let h;return h=z(v,N,d,o).length>0?N-a(N,d):c,n<v&&h<=N||n>=v&&h<N?"C":"D"}(R,U,j,J,H,D);return b(_(R,l,j,p,m==="C",H).length,S(m,D))}(Z,w,f,M,T,$);let s;if(w===M)return s=Z>f?"D":"C",b(Math.abs(Z-f),S(s,$));s=w>M?"D":"C";const g=Math.abs(w-M);return b(function(R,U){return U.cols-R}(w>M?f:Z,T)+(g-1)*T.cols+1+((w>M?Z:f)-1),S(s,$))}},1296:function(V,y,u){var r=this&&this.__decorate||function(H,D,l,p){var m,n=arguments.length,c=n<3?D:p===null?p=Object.getOwnPropertyDescriptor(D,l):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(H,D,l,p);else for(var v=H.length-1;v>=0;v--)(m=H[v])&&(c=(n<3?m(c):n>3?m(D,l,c):m(D,l))||c);return n>3&&c&&Object.defineProperty(D,l,c),c},z=this&&this.__param||function(H,D){return function(l,p){D(l,p,H)}};Object.defineProperty(y,"__esModule",{value:!0}),y.DomRenderer=void 0;const a=u(3787),L=u(2550),_=u(2223),S=u(6171),b=u(4725),f=u(8055),M=u(8460),T=u(844),$=u(2585),Z="xterm-dom-renderer-owner-",w="xterm-rows",s="xterm-fg-",g="xterm-bg-",R="xterm-focus",U="xterm-selection";let j=1,J=y.DomRenderer=class extends T.Disposable{constructor(H,D,l,p,m,n,c,v,N,d){super(),this._element=H,this._screenElement=D,this._viewportElement=l,this._linkifier2=p,this._charSizeService=n,this._optionsService=c,this._bufferService=v,this._coreBrowserService=N,this._themeService=d,this._terminalClass=j++,this._rowElements=[],this.onRequestRedraw=this.register(new M.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(U),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=S.createRenderDimensions(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors((o)=>this._injectCss(o))),this._injectCss(this._themeService.colors),this._rowFactory=m.createInstance(a.DomRendererRowFactory,document),this._element.classList.add(Z+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((o)=>this._handleLinkHover(o))),this.register(this._linkifier2.onHideLinkUnderline((o)=>this._handleLinkLeave(o))),this.register(T.toDisposable(()=>{this._element.classList.remove(Z+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new L.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const H=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*H,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*H),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/H),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/H),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let l of this._rowElements)l.style.width=`${this.dimensions.css.canvas.width}px`,l.style.height=`${this.dimensions.css.cell.height}px`,l.style.lineHeight=`${this.dimensions.css.cell.height}px`,l.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const D=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=D,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(H){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let D=`${this._terminalSelector} .${w} { color: ${H.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;D+=`${this._terminalSelector} .${w} .xterm-dim { color: ${f.color.multiplyOpacity(H.foreground,0.5).css};}`,D+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,D+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",D+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${H.cursor.css};  color: ${H.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${H.cursor.css}; }}`,D+=`${this._terminalSelector} .${w}.${R} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${R} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${H.cursor.css}; color: ${H.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${H.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${H.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${H.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,D+=`${this._terminalSelector} .${U} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${U} div { position: absolute; background-color: ${H.selectionBackgroundOpaque.css};}${this._terminalSelector} .${U} div { position: absolute; background-color: ${H.selectionInactiveBackgroundOpaque.css};}`;for(let[l,p]of H.ansi.entries())D+=`${this._terminalSelector} .${s}${l} { color: ${p.css}; }${this._terminalSelector} .${s}${l}.xterm-dim { color: ${f.color.multiplyOpacity(p,0.5).css}; }${this._terminalSelector} .${g}${l} { background-color: ${p.css}; }`;D+=`${this._terminalSelector} .${s}${_.INVERTED_DEFAULT_COLOR} { color: ${f.color.opaque(H.background).css}; }${this._terminalSelector} .${s}${_.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${f.color.multiplyOpacity(f.color.opaque(H.background),0.5).css}; }${this._terminalSelector} .${g}${_.INVERTED_DEFAULT_COLOR} { background-color: ${H.foreground.css}; }`,this._themeStyleElement.textContent=D}_setDefaultSpacing(){const H=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${H}px`,this._rowFactory.defaultSpacing=H}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(H,D){for(let l=this._rowElements.length;l<=D;l++){const p=document.createElement("div");this._rowContainer.appendChild(p),this._rowElements.push(p)}for(;this._rowElements.length>D;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(H,D){this._refreshRowElements(H,D),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(R)}handleFocus(){this._rowContainer.classList.add(R),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(H,D,l){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(H,D,l),this.renderRows(0,this._bufferService.rows-1),!H||!D)return;const p=H[1]-this._bufferService.buffer.ydisp,m=D[1]-this._bufferService.buffer.ydisp,n=Math.max(p,0),c=Math.min(m,this._bufferService.rows-1);if(n>=this._bufferService.rows||c<0)return;const v=document.createDocumentFragment();if(l){const N=H[0]>D[0];v.appendChild(this._createSelectionElement(n,N?D[0]:H[0],N?H[0]:D[0],c-n+1))}else{const N=p===n?H[0]:0,d=n===m?D[0]:this._bufferService.cols;v.appendChild(this._createSelectionElement(n,N,d));const o=c-n-1;if(v.appendChild(this._createSelectionElement(n+1,0,this._bufferService.cols,o)),n!==c){const h=m===c?D[0]:this._bufferService.cols;v.appendChild(this._createSelectionElement(c,0,h))}}this._selectionContainer.appendChild(v)}_createSelectionElement(H,D,l,p=1){const m=document.createElement("div");return m.style.height=p*this.dimensions.css.cell.height+"px",m.style.top=H*this.dimensions.css.cell.height+"px",m.style.left=D*this.dimensions.css.cell.width+"px",m.style.width=this.dimensions.css.cell.width*(l-D)+"px",m}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let H of this._rowElements)H.replaceChildren()}renderRows(H,D){const l=this._bufferService.buffer,p=l.ybase+l.y,m=Math.min(l.x,this._bufferService.cols-1),n=this._optionsService.rawOptions.cursorBlink,c=this._optionsService.rawOptions.cursorStyle,v=this._optionsService.rawOptions.cursorInactiveStyle;for(let N=H;N<=D;N++){const d=N+l.ydisp,o=this._rowElements[N],h=l.lines.get(d);if(!o||!h)break;o.replaceChildren(...this._rowFactory.createRow(h,d,d===p,c,v,m,n,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${Z}${this._terminalClass}`}_handleLinkHover(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!0)}_handleLinkLeave(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!1)}_setCellUnderline(H,D,l,p,m,n){l<0&&(H=0),p<0&&(D=0);const c=this._bufferService.rows-1;l=Math.max(Math.min(l,c),0),p=Math.max(Math.min(p,c),0),m=Math.min(m,this._bufferService.cols);const v=this._bufferService.buffer,N=v.ybase+v.y,d=Math.min(v.x,m-1),o=this._optionsService.rawOptions.cursorBlink,h=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let X=l;X<=p;++X){const k=X+v.ydisp,I=this._rowElements[X],Q=v.lines.get(k);if(!I||!Q)break;I.replaceChildren(...this._rowFactory.createRow(Q,k,k===N,h,P,d,o,this.dimensions.css.cell.width,this._widthCache,n?X===l?H:0:-1,n?(X===p?D:m)-1:-1))}}};y.DomRenderer=J=r([z(4,$.IInstantiationService),z(5,b.ICharSizeService),z(6,$.IOptionsService),z(7,$.IBufferService),z(8,b.ICoreBrowserService),z(9,b.IThemeService)],J)},3787:function(V,y,u){var r=this&&this.__decorate||function(s,g,R,U){var j,J=arguments.length,H=J<3?g:U===null?U=Object.getOwnPropertyDescriptor(g,R):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(s,g,R,U);else for(var D=s.length-1;D>=0;D--)(j=s[D])&&(H=(J<3?j(H):J>3?j(g,R,H):j(g,R))||H);return J>3&&H&&Object.defineProperty(g,R,H),H},z=this&&this.__param||function(s,g){return function(R,U){g(R,U,s)}};Object.defineProperty(y,"__esModule",{value:!0}),y.DomRendererRowFactory=void 0;const a=u(2223),L=u(643),_=u(511),S=u(2585),b=u(8055),f=u(4725),M=u(4269),T=u(6171),$=u(3734);let Z=y.DomRendererRowFactory=class{constructor(s,g,R,U,j,J,H){this._document=s,this._characterJoinerService=g,this._optionsService=R,this._coreBrowserService=U,this._coreService=j,this._decorationService=J,this._themeService=H,this._workCell=new _.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(s,g,R){this._selectionStart=s,this._selectionEnd=g,this._columnSelectMode=R}createRow(s,g,R,U,j,J,H,D,l,p,m){const n=[],c=this._characterJoinerService.getJoinedCharacters(g),v=this._themeService.colors;let N,d=s.getNoBgTrimmedLength();R&&d<J+1&&(d=J+1);let o=0,h="",P=0,X=0,k=0,I=!1,Q=0,e=!1,B=0;const E=[],A=p!==-1&&m!==-1;for(let r1=0;r1<d;r1++){s.loadCell(r1,this._workCell);let n1=this._workCell.getWidth();if(n1===0)continue;let c1=!1,G=r1,K=this._workCell;if(c.length>0&&r1===c[0][0]){c1=!0;const C=c.shift();K=new M.JoinedCellData(this._workCell,s.translateToString(!0,C[0],C[1]),C[1]-C[0]),G=C[1]-1,n1=K.getWidth()}const Y=this._isCellInSelection(r1,g),p1=R&&r1===J,u1=A&&r1>=p&&r1<=m;let o1=!1;this._decorationService.forEachDecorationAtCell(r1,g,void 0,(C)=>{o1=!0});let M1=K.getChars()||L.WHITESPACE_CELL_CHAR;if(M1===" "&&(K.isUnderline()||K.isOverline())&&(M1="\xA0"),B=n1*D-l.get(M1,K.isBold(),K.isItalic()),N){if(o&&(Y&&e||!Y&&!e&&K.bg===P)&&(Y&&e&&v.selectionForeground||K.fg===X)&&K.extended.ext===k&&u1===I&&B===Q&&!p1&&!c1&&!o1){h+=M1,o++;continue}o&&(N.textContent=h),N=this._document.createElement("span"),o=0,h=""}else N=this._document.createElement("span");if(P=K.bg,X=K.fg,k=K.extended.ext,I=u1,Q=B,e=Y,c1&&J>=r1&&J<=G&&(J=r1),!this._coreService.isCursorHidden&&p1){if(E.push("xterm-cursor"),this._coreBrowserService.isFocused)H&&E.push("xterm-cursor-blink"),E.push(U==="bar"?"xterm-cursor-bar":U==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(j)switch(j){case"outline":E.push("xterm-cursor-outline");break;case"block":E.push("xterm-cursor-block");break;case"bar":E.push("xterm-cursor-bar");break;case"underline":E.push("xterm-cursor-underline")}}if(K.isBold()&&E.push("xterm-bold"),K.isItalic()&&E.push("xterm-italic"),K.isDim()&&E.push("xterm-dim"),h=K.isInvisible()?L.WHITESPACE_CELL_CHAR:K.getChars()||L.WHITESPACE_CELL_CHAR,K.isUnderline()&&(E.push(`xterm-underline-${K.extended.underlineStyle}`),h===" "&&(h="\xA0"),!K.isUnderlineColorDefault()))if(K.isUnderlineColorRGB())N.style.textDecorationColor=`rgb(${$.AttributeData.toColorRGB(K.getUnderlineColor()).join(",")})`;else{let C=K.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&K.isBold()&&C<8&&(C+=8),N.style.textDecorationColor=v.ansi[C].css}K.isOverline()&&(E.push("xterm-overline"),h===" "&&(h="\xA0")),K.isStrikethrough()&&E.push("xterm-strikethrough"),u1&&(N.style.textDecoration="underline");let f1=K.getFgColor(),d1=K.getFgColorMode(),F1=K.getBgColor(),y1=K.getBgColorMode();const a1=!!K.isInverse();if(a1){const C=f1;f1=F1,F1=C;const l1=d1;d1=y1,y1=l1}let k1,F,i,t=!1;switch(this._decorationService.forEachDecorationAtCell(r1,g,void 0,(C)=>{C.options.layer!=="top"&&t||(C.backgroundColorRGB&&(y1=50331648,F1=C.backgroundColorRGB.rgba>>8&16777215,k1=C.backgroundColorRGB),C.foregroundColorRGB&&(d1=50331648,f1=C.foregroundColorRGB.rgba>>8&16777215,F=C.foregroundColorRGB),t=C.options.layer==="top")}),!t&&Y&&(k1=this._coreBrowserService.isFocused?v.selectionBackgroundOpaque:v.selectionInactiveBackgroundOpaque,F1=k1.rgba>>8&16777215,y1=50331648,t=!0,v.selectionForeground&&(d1=50331648,f1=v.selectionForeground.rgba>>8&16777215,F=v.selectionForeground)),t&&E.push("xterm-decoration-top"),y1){case 16777216:case 33554432:i=v.ansi[F1],E.push(`xterm-bg-${F1}`);break;case 50331648:i=b.rgba.toColor(F1>>16,F1>>8&255,255&F1),this._addStyle(N,`background-color:#${w((F1>>>0).toString(16),"0",6)}`);break;default:a1?(i=v.foreground,E.push(`xterm-bg-${a.INVERTED_DEFAULT_COLOR}`)):i=v.background}switch(k1||K.isDim()&&(k1=b.color.multiplyOpacity(i,0.5)),d1){case 16777216:case 33554432:K.isBold()&&f1<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(f1+=8),this._applyMinimumContrast(N,i,v.ansi[f1],K,k1,void 0)||E.push(`xterm-fg-${f1}`);break;case 50331648:const C=b.rgba.toColor(f1>>16&255,f1>>8&255,255&f1);this._applyMinimumContrast(N,i,C,K,k1,F)||this._addStyle(N,`color:#${w(f1.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(N,i,v.foreground,K,k1,void 0)||a1&&E.push(`xterm-fg-${a.INVERTED_DEFAULT_COLOR}`)}E.length&&(N.className=E.join(" "),E.length=0),p1||c1||o1?N.textContent=h:o++,B!==this.defaultSpacing&&(N.style.letterSpacing=`${B}px`),n.push(N),r1=G}return N&&o&&(N.textContent=h),n}_applyMinimumContrast(s,g,R,U,j,J){if(this._optionsService.rawOptions.minimumContrastRatio===1||T.excludeFromContrastRatioDemands(U.getCode()))return!1;const H=this._getContrastCache(U);let D;if(j||J||(D=H.getColor(g.rgba,R.rgba)),D===void 0){const l=this._optionsService.rawOptions.minimumContrastRatio/(U.isDim()?2:1);D=b.color.ensureContrastRatio(j||g,J||R,l),H.setColor((j||g).rgba,(J||R).rgba,D!=null?D:null)}return!!D&&(this._addStyle(s,`color:${D.css}`),!0)}_getContrastCache(s){return s.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(s,g){s.setAttribute("style",`${s.getAttribute("style")||""}${g};`)}_isCellInSelection(s,g){const R=this._selectionStart,U=this._selectionEnd;return!(!R||!U)&&(this._columnSelectMode?R[0]<=U[0]?s>=R[0]&&g>=R[1]&&s<U[0]&&g<=U[1]:s<R[0]&&g>=R[1]&&s>=U[0]&&g<=U[1]:g>R[1]&&g<U[1]||R[1]===U[1]&&g===R[1]&&s>=R[0]&&s<U[0]||R[1]<U[1]&&g===U[1]&&s<U[0]||R[1]<U[1]&&g===R[1]&&s>=R[0])}};function w(s,g,R){for(;s.length<R;)s=g+s;return s}y.DomRendererRowFactory=Z=r([z(1,f.ICharacterJoinerService),z(2,S.IOptionsService),z(3,f.ICoreBrowserService),z(4,S.ICoreService),z(5,S.IDecorationService),z(6,f.IThemeService)],Z)},2550:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.WidthCache=void 0,y.WidthCache=class{constructor(u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const r=u.createElement("span"),z=u.createElement("span");z.style.fontWeight="bold";const a=u.createElement("span");a.style.fontStyle="italic";const L=u.createElement("span");L.style.fontWeight="bold",L.style.fontStyle="italic",this._measureElements=[r,z,a,L],this._container.appendChild(r),this._container.appendChild(z),this._container.appendChild(a),this._container.appendChild(L),u.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,r,z,a){u===this._font&&r===this._fontSize&&z===this._weight&&a===this._weightBold||(this._font=u,this._fontSize=r,this._weight=z,this._weightBold=a,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${z}`,this._measureElements[1].style.fontWeight=`${a}`,this._measureElements[2].style.fontWeight=`${z}`,this._measureElements[3].style.fontWeight=`${a}`,this.clear())}get(u,r,z){let a=0;if(!r&&!z&&u.length===1&&(a=u.charCodeAt(0))<256)return this._flat[a]!==-9999?this._flat[a]:this._flat[a]=this._measure(u,0);let L=u;r&&(L+="B"),z&&(L+="I");let _=this._holey.get(L);if(_===void 0){let S=0;r&&(S|=1),z&&(S|=2),_=this._measure(u,S),this._holey.set(L,_)}return _}_measure(u,r){const z=this._measureElements[r];return z.textContent=u.repeat(32),z.offsetWidth/32}}},2223:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.TEXT_BASELINE=y.DIM_OPACITY=y.INVERTED_DEFAULT_COLOR=void 0;const r=u(6114);y.INVERTED_DEFAULT_COLOR=257,y.DIM_OPACITY=0.5,y.TEXT_BASELINE=r.isFirefox||r.isLegacyEdge?"bottom":"ideographic"},6171:(V,y)=>{function u(r){return 57508<=r&&r<=57558}Object.defineProperty(y,"__esModule",{value:!0}),y.createRenderDimensions=y.excludeFromContrastRatioDemands=y.isRestrictedPowerlineGlyph=y.isPowerlineGlyph=y.throwIfFalsy=void 0,y.throwIfFalsy=function(r){if(!r)throw new Error("value must not be falsy");return r},y.isPowerlineGlyph=u,y.isRestrictedPowerlineGlyph=function(r){return 57520<=r&&r<=57527},y.excludeFromContrastRatioDemands=function(r){return u(r)||function(z){return 9472<=z&&z<=9631}(r)},y.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.SelectionModel=void 0,y.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,r=this.selectionEnd;return!(!u||!r)&&(u[1]>r[1]||u[1]===r[1]&&u[0]>r[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(V,y,u){var r=this&&this.__decorate||function(f,M,T,$){var Z,w=arguments.length,s=w<3?M:$===null?$=Object.getOwnPropertyDescriptor(M,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(f,M,T,$);else for(var g=f.length-1;g>=0;g--)(Z=f[g])&&(s=(w<3?Z(s):w>3?Z(M,T,s):Z(M,T))||s);return w>3&&s&&Object.defineProperty(M,T,s),s},z=this&&this.__param||function(f,M){return function(T,$){M(T,$,f)}};Object.defineProperty(y,"__esModule",{value:!0}),y.CharSizeService=void 0;const a=u(2585),L=u(8460),_=u(844);let S=y.CharSizeService=class extends _.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(f,M,T){super(),this._optionsService=T,this.width=0,this.height=0,this._onCharSizeChange=this.register(new L.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new b(f,M,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const f=this._measureStrategy.measure();f.width===this.width&&f.height===this.height||(this.width=f.width,this.height=f.height,this._onCharSizeChange.fire())}};y.CharSizeService=S=r([z(2,a.IOptionsService)],S);class b{constructor(f,M,T){this._document=f,this._parentElement=M,this._optionsService=T,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return f.width!==0&&f.height!==0&&(this._result.width=f.width/32,this._result.height=Math.ceil(f.height)),this._result}}},4269:function(V,y,u){var r=this&&this.__decorate||function(M,T,$,Z){var w,s=arguments.length,g=s<3?T:Z===null?Z=Object.getOwnPropertyDescriptor(T,$):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(M,T,$,Z);else for(var R=M.length-1;R>=0;R--)(w=M[R])&&(g=(s<3?w(g):s>3?w(T,$,g):w(T,$))||g);return s>3&&g&&Object.defineProperty(T,$,g),g},z=this&&this.__param||function(M,T){return function($,Z){T($,Z,M)}};Object.defineProperty(y,"__esModule",{value:!0}),y.CharacterJoinerService=y.JoinedCellData=void 0;const a=u(3734),L=u(643),_=u(511),S=u(2585);class b extends a.AttributeData{constructor(M,T,$){super(),this.content=0,this.combinedData="",this.fg=M.fg,this.bg=M.bg,this.combinedData=T,this._width=$}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(M){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}y.JoinedCellData=b;let f=y.CharacterJoinerService=class M{constructor(T){this._bufferService=T,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new _.CellData}register(T){const $={id:this._nextCharacterJoinerId++,handler:T};return this._characterJoiners.push($),$.id}deregister(T){for(let $=0;$<this._characterJoiners.length;$++)if(this._characterJoiners[$].id===T)return this._characterJoiners.splice($,1),!0;return!1}getJoinedCharacters(T){if(this._characterJoiners.length===0)return[];const $=this._bufferService.buffer.lines.get(T);if(!$||$.length===0)return[];const Z=[],w=$.translateToString(!0);let s=0,g=0,R=0,U=$.getFg(0),j=$.getBg(0);for(let J=0;J<$.getTrimmedLength();J++)if($.loadCell(J,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==U||this._workCell.bg!==j){if(J-s>1){const H=this._getJoinedRanges(w,R,g,$,s);for(let D=0;D<H.length;D++)Z.push(H[D])}s=J,R=g,U=this._workCell.fg,j=this._workCell.bg}g+=this._workCell.getChars().length||L.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-s>1){const J=this._getJoinedRanges(w,R,g,$,s);for(let H=0;H<J.length;H++)Z.push(J[H])}return Z}_getJoinedRanges(T,$,Z,w,s){const g=T.substring($,Z);let R=[];try{R=this._characterJoiners[0].handler(g)}catch(U){console.error(U)}for(let U=1;U<this._characterJoiners.length;U++)try{const j=this._characterJoiners[U].handler(g);for(let J=0;J<j.length;J++)M._mergeRanges(R,j[J])}catch(j){console.error(j)}return this._stringRangesToCellRanges(R,w,s),R}_stringRangesToCellRanges(T,$,Z){let w=0,s=!1,g=0,R=T[w];if(R){for(let U=Z;U<this._bufferService.cols;U++){const j=$.getWidth(U),J=$.getString(U).length||L.WHITESPACE_CELL_CHAR.length;if(j!==0){if(!s&&R[0]<=g&&(R[0]=U,s=!0),R[1]<=g){if(R[1]=U,R=T[++w],!R)break;R[0]<=g?(R[0]=U,s=!0):s=!1}g+=J}}R&&(R[1]=this._bufferService.cols)}}static _mergeRanges(T,$){let Z=!1;for(let w=0;w<T.length;w++){const s=T[w];if(Z){if($[1]<=s[0])return T[w-1][1]=$[1],T;if($[1]<=s[1])return T[w-1][1]=Math.max($[1],s[1]),T.splice(w,1),T;T.splice(w,1),w--}else{if($[1]<=s[0])return T.splice(w,0,$),T;if($[1]<=s[1])return s[0]=Math.min($[0],s[0]),T;$[0]<s[1]&&(s[0]=Math.min($[0],s[0]),Z=!0)}}return Z?T[T.length-1][1]=$[1]:T.push($),T}};y.CharacterJoinerService=f=r([z(0,S.IBufferService)],f)},5114:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.CoreBrowserService=void 0,y.CoreBrowserService=class{constructor(u,r){this._textarea=u,this.window=r,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(V,y,u){var r=this&&this.__decorate||function(S,b,f,M){var T,$=arguments.length,Z=$<3?b:M===null?M=Object.getOwnPropertyDescriptor(b,f):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(S,b,f,M);else for(var w=S.length-1;w>=0;w--)(T=S[w])&&(Z=($<3?T(Z):$>3?T(b,f,Z):T(b,f))||Z);return $>3&&Z&&Object.defineProperty(b,f,Z),Z},z=this&&this.__param||function(S,b){return function(f,M){b(f,M,S)}};Object.defineProperty(y,"__esModule",{value:!0}),y.MouseService=void 0;const a=u(4725),L=u(9806);let _=y.MouseService=class{constructor(S,b){this._renderService=S,this._charSizeService=b}getCoords(S,b,f,M,T){return L.getCoords(window,S,b,f,M,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,T)}getMouseReportCoords(S,b){const f=L.getCoordsRelativeToElement(window,S,b);if(this._charSizeService.hasValidSize)return f[0]=Math.min(Math.max(f[0],0),this._renderService.dimensions.css.canvas.width-1),f[1]=Math.min(Math.max(f[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(f[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(f[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(f[0]),y:Math.floor(f[1])}}};y.MouseService=_=r([z(0,a.IRenderService),z(1,a.ICharSizeService)],_)},3230:function(V,y,u){var r=this&&this.__decorate||function(Z,w,s,g){var R,U=arguments.length,j=U<3?w:g===null?g=Object.getOwnPropertyDescriptor(w,s):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(Z,w,s,g);else for(var J=Z.length-1;J>=0;J--)(R=Z[J])&&(j=(U<3?R(j):U>3?R(w,s,j):R(w,s))||j);return U>3&&j&&Object.defineProperty(w,s,j),j},z=this&&this.__param||function(Z,w){return function(s,g){w(s,g,Z)}};Object.defineProperty(y,"__esModule",{value:!0}),y.RenderService=void 0;const a=u(3656),L=u(6193),_=u(5596),S=u(4725),b=u(8460),f=u(844),M=u(7226),T=u(2585);let $=y.RenderService=class extends f.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(Z,w,s,g,R,U,j,J){if(super(),this._rowCount=Z,this._charSizeService=g,this._renderer=this.register(new f.MutableDisposable),this._pausedResizeTask=new M.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new b.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new b.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new b.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new b.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new L.RenderDebouncer(j.window,(H,D)=>this._renderRows(H,D)),this.register(this._renderDebouncer),this._screenDprMonitor=new _.ScreenDprMonitor(j.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(U.onResize(()=>this._fullRefresh())),this.register(U.buffers.onBufferActivate(()=>{var H;return(H=this._renderer.value)===null||H===void 0?void 0:H.clear()})),this.register(s.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(R.onDecorationRegistered(()=>this._fullRefresh())),this.register(R.onDecorationRemoved(()=>this._fullRefresh())),this.register(s.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(U.cols,U.rows),this._fullRefresh()})),this.register(s.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(U.buffer.y,U.buffer.y,!0))),this.register(a.addDisposableDomListener(j.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(J.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in j.window){const H=new j.window.IntersectionObserver((D)=>this._handleIntersectionChange(D[D.length-1]),{threshold:0});H.observe(w),this.register({dispose:()=>H.disconnect()})}}_handleIntersectionChange(Z){this._isPaused=Z.isIntersecting===void 0?Z.intersectionRatio===0:!Z.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(Z,w,s=!1){this._isPaused?this._needsFullRefresh=!0:(s||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(Z,w,this._rowCount))}_renderRows(Z,w){this._renderer.value&&(Z=Math.min(Z,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(Z,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:Z,end:w}),this._onRender.fire({start:Z,end:w}),this._isNextRenderRedrawOnly=!0)}resize(Z,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(Z){this._renderer.value=Z,this._renderer.value.onRequestRedraw((w)=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(Z){return this._renderDebouncer.addRefreshCallback(Z)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var Z,w;this._renderer.value&&((w=(Z=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(Z),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(Z,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(Z,w)):this._renderer.value.handleResize(Z,w),this._fullRefresh())}handleCharSizeChanged(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.handleCharSizeChanged()}handleBlur(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.handleBlur()}handleFocus(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.handleFocus()}handleSelectionChanged(Z,w,s){var g;this._selectionState.start=Z,this._selectionState.end=w,this._selectionState.columnSelectMode=s,(g=this._renderer.value)===null||g===void 0||g.handleSelectionChanged(Z,w,s)}handleCursorMove(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.handleCursorMove()}clear(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.clear()}};y.RenderService=$=r([z(2,T.IOptionsService),z(3,S.ICharSizeService),z(4,T.IDecorationService),z(5,T.IBufferService),z(6,S.ICoreBrowserService),z(7,S.IThemeService)],$)},9312:function(V,y,u){var r=this&&this.__decorate||function(R,U,j,J){var H,D=arguments.length,l=D<3?U:J===null?J=Object.getOwnPropertyDescriptor(U,j):J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(R,U,j,J);else for(var p=R.length-1;p>=0;p--)(H=R[p])&&(l=(D<3?H(l):D>3?H(U,j,l):H(U,j))||l);return D>3&&l&&Object.defineProperty(U,j,l),l},z=this&&this.__param||function(R,U){return function(j,J){U(j,J,R)}};Object.defineProperty(y,"__esModule",{value:!0}),y.SelectionService=void 0;const a=u(9806),L=u(9504),_=u(456),S=u(4725),b=u(8460),f=u(844),M=u(6114),T=u(4841),$=u(511),Z=u(2585),w=String.fromCharCode(160),s=new RegExp(w,"g");let g=y.SelectionService=class extends f.Disposable{constructor(R,U,j,J,H,D,l,p,m){super(),this._element=R,this._screenElement=U,this._linkifier=j,this._bufferService=J,this._coreService=H,this._mouseService=D,this._optionsService=l,this._renderService=p,this._coreBrowserService=m,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new $.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new b.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new b.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new b.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=(n)=>this._handleMouseMove(n),this._mouseUpListener=(n)=>this._handleMouseUp(n),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim((n)=>this._handleTrim(n)),this.register(this._bufferService.buffers.onBufferActivate((n)=>this._handleBufferActivate(n))),this.enable(),this._model=new _.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register(f.toDisposable(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const R=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!(!R||!U||R[0]===U[0]&&R[1]===U[1])}get selectionText(){const R=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;if(!R||!U)return"";const j=this._bufferService.buffer,J=[];if(this._activeSelectionMode===3){if(R[0]===U[0])return"";const H=R[0]<U[0]?R[0]:U[0],D=R[0]<U[0]?U[0]:R[0];for(let l=R[1];l<=U[1];l++){const p=j.translateBufferLineToString(l,!0,H,D);J.push(p)}}else{const H=R[1]===U[1]?U[0]:void 0;J.push(j.translateBufferLineToString(R[1],!0,R[0],H));for(let D=R[1]+1;D<=U[1]-1;D++){const l=j.lines.get(D),p=j.translateBufferLineToString(D,!0);(l==null?void 0:l.isWrapped)?J[J.length-1]+=p:J.push(p)}if(R[1]!==U[1]){const D=j.lines.get(U[1]),l=j.translateBufferLineToString(U[1],!0,0,U[0]);D&&D.isWrapped?J[J.length-1]+=l:J.push(l)}}return J.map((H)=>H.replace(s," ")).join(M.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(R){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),M.isLinux&&R&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(R){const U=this._getMouseBufferCoords(R),j=this._model.finalSelectionStart,J=this._model.finalSelectionEnd;return!!(j&&J&&U)&&this._areCoordsInSelection(U,j,J)}isCellInSelection(R,U){const j=this._model.finalSelectionStart,J=this._model.finalSelectionEnd;return!(!j||!J)&&this._areCoordsInSelection([R,U],j,J)}_areCoordsInSelection(R,U,j){return R[1]>U[1]&&R[1]<j[1]||U[1]===j[1]&&R[1]===U[1]&&R[0]>=U[0]&&R[0]<j[0]||U[1]<j[1]&&R[1]===j[1]&&R[0]<j[0]||U[1]<j[1]&&R[1]===U[1]&&R[0]>=U[0]}_selectWordAtCursor(R,U){var j,J;const H=(J=(j=this._linkifier.currentLink)===null||j===void 0?void 0:j.link)===null||J===void 0?void 0:J.range;if(H)return this._model.selectionStart=[H.start.x-1,H.start.y-1],this._model.selectionStartLength=T.getRangeLength(H,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const D=this._getMouseBufferCoords(R);return!!D&&(this._selectWordAt(D,U),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(R,U){this._model.clearSelection(),R=Math.max(R,0),U=Math.min(U,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,R],this._model.selectionEnd=[this._bufferService.cols,U],this.refresh(),this._onSelectionChange.fire()}_handleTrim(R){this._model.handleTrim(R)&&this.refresh()}_getMouseBufferCoords(R){const U=this._mouseService.getCoords(R,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(U)return U[0]--,U[1]--,U[1]+=this._bufferService.buffer.ydisp,U}_getMouseEventScrollAmount(R){let U=a.getCoordsRelativeToElement(this._coreBrowserService.window,R,this._screenElement)[1];const j=this._renderService.dimensions.css.canvas.height;return U>=0&&U<=j?0:(U>j&&(U-=j),U=Math.min(Math.max(U,-50),50),U/=50,U/Math.abs(U)+Math.round(14*U))}shouldForceSelection(R){return M.isMac?R.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:R.shiftKey}handleMouseDown(R){if(this._mouseDownTimeStamp=R.timeStamp,(R.button!==2||!this.hasSelection)&&R.button===0){if(!this._enabled){if(!this.shouldForceSelection(R))return;R.stopPropagation()}R.preventDefault(),this._dragScrollAmount=0,this._enabled&&R.shiftKey?this._handleIncrementalClick(R):R.detail===1?this._handleSingleClick(R):R.detail===2?this._handleDoubleClick(R):R.detail===3&&this._handleTripleClick(R),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(R){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(R))}_handleSingleClick(R){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(R)?3:0,this._model.selectionStart=this._getMouseBufferCoords(R),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const U=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);U&&U.length!==this._model.selectionStart[0]&&U.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(R){this._selectWordAtCursor(R,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(R){const U=this._getMouseBufferCoords(R);U&&(this._activeSelectionMode=2,this._selectLineAt(U[1]))}shouldColumnSelect(R){return R.altKey&&!(M.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(R){if(R.stopImmediatePropagation(),!this._model.selectionStart)return;const U=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(R),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(R),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const j=this._bufferService.buffer;if(this._model.selectionEnd[1]<j.lines.length){const J=j.lines.get(this._model.selectionEnd[1]);J&&J.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}U&&U[0]===this._model.selectionEnd[0]&&U[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const R=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(R.ydisp+this._bufferService.rows,R.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=R.ydisp),this.refresh()}}_handleMouseUp(R){const U=R.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&U<500&&R.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const j=this._mouseService.getCoords(R,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(j&&j[0]!==void 0&&j[1]!==void 0){const J=L.moveToCellSequence(j[0]-1,j[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(J,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const R=this._model.finalSelectionStart,U=this._model.finalSelectionEnd,j=!(!R||!U||R[0]===U[0]&&R[1]===U[1]);j?R&&U&&(this._oldSelectionStart&&this._oldSelectionEnd&&R[0]===this._oldSelectionStart[0]&&R[1]===this._oldSelectionStart[1]&&U[0]===this._oldSelectionEnd[0]&&U[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(R,U,j)):this._oldHasSelection&&this._fireOnSelectionChange(R,U,j)}_fireOnSelectionChange(R,U,j){this._oldSelectionStart=R,this._oldSelectionEnd=U,this._oldHasSelection=j,this._onSelectionChange.fire()}_handleBufferActivate(R){this.clearSelection(),this._trimListener.dispose(),this._trimListener=R.activeBuffer.lines.onTrim((U)=>this._handleTrim(U))}_convertViewportColToCharacterIndex(R,U){let j=U;for(let J=0;U>=J;J++){const H=R.loadCell(J,this._workCell).getChars().length;this._workCell.getWidth()===0?j--:H>1&&U!==J&&(j+=H-1)}return j}setSelection(R,U,j){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[R,U],this._model.selectionStartLength=j,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(R){this._isClickInSelection(R)||(this._selectWordAtCursor(R,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(R,U,j=!0,J=!0){if(R[0]>=this._bufferService.cols)return;const H=this._bufferService.buffer,D=H.lines.get(R[1]);if(!D)return;const l=H.translateBufferLineToString(R[1],!1);let p=this._convertViewportColToCharacterIndex(D,R[0]),m=p;const n=R[0]-p;let c=0,v=0,N=0,d=0;if(l.charAt(p)===" "){for(;p>0&&l.charAt(p-1)===" ";)p--;for(;m<l.length&&l.charAt(m+1)===" ";)m++}else{let P=R[0],X=R[0];D.getWidth(P)===0&&(c++,P--),D.getWidth(X)===2&&(v++,X++);const k=D.getString(X).length;for(k>1&&(d+=k-1,m+=k-1);P>0&&p>0&&!this._isCharWordSeparator(D.loadCell(P-1,this._workCell));){D.loadCell(P-1,this._workCell);const I=this._workCell.getChars().length;this._workCell.getWidth()===0?(c++,P--):I>1&&(N+=I-1,p-=I-1),p--,P--}for(;X<D.length&&m+1<l.length&&!this._isCharWordSeparator(D.loadCell(X+1,this._workCell));){D.loadCell(X+1,this._workCell);const I=this._workCell.getChars().length;this._workCell.getWidth()===2?(v++,X++):I>1&&(d+=I-1,m+=I-1),m++,X++}}m++;let o=p+n-c+N,h=Math.min(this._bufferService.cols,m-p+c+v-N-d);if(U||l.slice(p,m).trim()!==""){if(j&&o===0&&D.getCodePoint(0)!==32){const P=H.lines.get(R[1]-1);if(P&&D.isWrapped&&P.getCodePoint(this._bufferService.cols-1)!==32){const X=this._getWordAt([this._bufferService.cols-1,R[1]-1],!1,!0,!1);if(X){const k=this._bufferService.cols-X.start;o-=k,h+=k}}}if(J&&o+h===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const P=H.lines.get(R[1]+1);if((P==null?void 0:P.isWrapped)&&P.getCodePoint(0)!==32){const X=this._getWordAt([0,R[1]+1],!1,!1,!0);X&&(h+=X.length)}}return{start:o,length:h}}}_selectWordAt(R,U){const j=this._getWordAt(R,U);if(j){for(;j.start<0;)j.start+=this._bufferService.cols,R[1]--;this._model.selectionStart=[j.start,R[1]],this._model.selectionStartLength=j.length}}_selectToWordAt(R){const U=this._getWordAt(R,!0);if(U){let j=R[1];for(;U.start<0;)U.start+=this._bufferService.cols,j--;if(!this._model.areSelectionValuesReversed())for(;U.start+U.length>this._bufferService.cols;)U.length-=this._bufferService.cols,j++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?U.start:U.start+U.length,j]}}_isCharWordSeparator(R){return R.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(R.getChars())>=0}_selectLineAt(R){const U=this._bufferService.buffer.getWrappedRangeForLine(R),j={start:{x:0,y:U.first},end:{x:this._bufferService.cols-1,y:U.last}};this._model.selectionStart=[0,U.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=T.getRangeLength(j,this._bufferService.cols)}};y.SelectionService=g=r([z(3,Z.IBufferService),z(4,Z.ICoreService),z(5,S.IMouseService),z(6,Z.IOptionsService),z(7,S.IRenderService),z(8,S.ICoreBrowserService)],g)},4725:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.IThemeService=y.ICharacterJoinerService=y.ISelectionService=y.IRenderService=y.IMouseService=y.ICoreBrowserService=y.ICharSizeService=void 0;const r=u(8343);y.ICharSizeService=r.createDecorator("CharSizeService"),y.ICoreBrowserService=r.createDecorator("CoreBrowserService"),y.IMouseService=r.createDecorator("MouseService"),y.IRenderService=r.createDecorator("RenderService"),y.ISelectionService=r.createDecorator("SelectionService"),y.ICharacterJoinerService=r.createDecorator("CharacterJoinerService"),y.IThemeService=r.createDecorator("ThemeService")},6731:function(V,y,u){var r=this&&this.__decorate||function(g,R,U,j){var J,H=arguments.length,D=H<3?R:j===null?j=Object.getOwnPropertyDescriptor(R,U):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(g,R,U,j);else for(var l=g.length-1;l>=0;l--)(J=g[l])&&(D=(H<3?J(D):H>3?J(R,U,D):J(R,U))||D);return H>3&&D&&Object.defineProperty(R,U,D),D},z=this&&this.__param||function(g,R){return function(U,j){R(U,j,g)}};Object.defineProperty(y,"__esModule",{value:!0}),y.ThemeService=y.DEFAULT_ANSI_COLORS=void 0;const a=u(7239),L=u(8055),_=u(8460),S=u(844),b=u(2585),f=L.css.toColor("#ffffff"),M=L.css.toColor("#000000"),T=L.css.toColor("#ffffff"),$=L.css.toColor("#000000"),Z={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};y.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const g=[L.css.toColor("#2e3436"),L.css.toColor("#cc0000"),L.css.toColor("#4e9a06"),L.css.toColor("#c4a000"),L.css.toColor("#3465a4"),L.css.toColor("#75507b"),L.css.toColor("#06989a"),L.css.toColor("#d3d7cf"),L.css.toColor("#555753"),L.css.toColor("#ef2929"),L.css.toColor("#8ae234"),L.css.toColor("#fce94f"),L.css.toColor("#729fcf"),L.css.toColor("#ad7fa8"),L.css.toColor("#34e2e2"),L.css.toColor("#eeeeec")],R=[0,95,135,175,215,255];for(let U=0;U<216;U++){const j=R[U/36%6|0],J=R[U/6%6|0],H=R[U%6];g.push({css:L.channels.toCss(j,J,H),rgba:L.channels.toRgba(j,J,H)})}for(let U=0;U<24;U++){const j=8+10*U;g.push({css:L.channels.toCss(j,j,j),rgba:L.channels.toRgba(j,j,j)})}return g})());let w=y.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(g){super(),this._optionsService=g,this._contrastCache=new a.ColorContrastCache,this._halfContrastCache=new a.ColorContrastCache,this._onChangeColors=this.register(new _.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:f,background:M,cursor:T,cursorAccent:$,selectionForeground:void 0,selectionBackgroundTransparent:Z,selectionBackgroundOpaque:L.color.blend(M,Z),selectionInactiveBackgroundTransparent:Z,selectionInactiveBackgroundOpaque:L.color.blend(M,Z),ansi:y.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(g={}){const R=this._colors;if(R.foreground=s(g.foreground,f),R.background=s(g.background,M),R.cursor=s(g.cursor,T),R.cursorAccent=s(g.cursorAccent,$),R.selectionBackgroundTransparent=s(g.selectionBackground,Z),R.selectionBackgroundOpaque=L.color.blend(R.background,R.selectionBackgroundTransparent),R.selectionInactiveBackgroundTransparent=s(g.selectionInactiveBackground,R.selectionBackgroundTransparent),R.selectionInactiveBackgroundOpaque=L.color.blend(R.background,R.selectionInactiveBackgroundTransparent),R.selectionForeground=g.selectionForeground?s(g.selectionForeground,L.NULL_COLOR):void 0,R.selectionForeground===L.NULL_COLOR&&(R.selectionForeground=void 0),L.color.isOpaque(R.selectionBackgroundTransparent))R.selectionBackgroundTransparent=L.color.opacity(R.selectionBackgroundTransparent,0.3);if(L.color.isOpaque(R.selectionInactiveBackgroundTransparent))R.selectionInactiveBackgroundTransparent=L.color.opacity(R.selectionInactiveBackgroundTransparent,0.3);if(R.ansi=y.DEFAULT_ANSI_COLORS.slice(),R.ansi[0]=s(g.black,y.DEFAULT_ANSI_COLORS[0]),R.ansi[1]=s(g.red,y.DEFAULT_ANSI_COLORS[1]),R.ansi[2]=s(g.green,y.DEFAULT_ANSI_COLORS[2]),R.ansi[3]=s(g.yellow,y.DEFAULT_ANSI_COLORS[3]),R.ansi[4]=s(g.blue,y.DEFAULT_ANSI_COLORS[4]),R.ansi[5]=s(g.magenta,y.DEFAULT_ANSI_COLORS[5]),R.ansi[6]=s(g.cyan,y.DEFAULT_ANSI_COLORS[6]),R.ansi[7]=s(g.white,y.DEFAULT_ANSI_COLORS[7]),R.ansi[8]=s(g.brightBlack,y.DEFAULT_ANSI_COLORS[8]),R.ansi[9]=s(g.brightRed,y.DEFAULT_ANSI_COLORS[9]),R.ansi[10]=s(g.brightGreen,y.DEFAULT_ANSI_COLORS[10]),R.ansi[11]=s(g.brightYellow,y.DEFAULT_ANSI_COLORS[11]),R.ansi[12]=s(g.brightBlue,y.DEFAULT_ANSI_COLORS[12]),R.ansi[13]=s(g.brightMagenta,y.DEFAULT_ANSI_COLORS[13]),R.ansi[14]=s(g.brightCyan,y.DEFAULT_ANSI_COLORS[14]),R.ansi[15]=s(g.brightWhite,y.DEFAULT_ANSI_COLORS[15]),g.extendedAnsi){const U=Math.min(R.ansi.length-16,g.extendedAnsi.length);for(let j=0;j<U;j++)R.ansi[j+16]=s(g.extendedAnsi[j],y.DEFAULT_ANSI_COLORS[j+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(g){this._restoreColor(g),this._onChangeColors.fire(this.colors)}_restoreColor(g){if(g!==void 0)switch(g){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[g]=this._restoreColors.ansi[g]}else for(let R=0;R<this._restoreColors.ansi.length;++R)this._colors.ansi[R]=this._restoreColors.ansi[R]}modifyColors(g){g(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function s(g,R){if(g!==void 0)try{return L.css.toColor(g)}catch(U){}return R}y.ThemeService=w=r([z(0,b.IOptionsService)],w)},6349:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.CircularList=void 0;const r=u(8460),z=u(844);class a extends z.Disposable{constructor(L){super(),this._maxLength=L,this.onDeleteEmitter=this.register(new r.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new r.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new r.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(L){if(this._maxLength===L)return;const _=new Array(L);for(let S=0;S<Math.min(L,this.length);S++)_[S]=this._array[this._getCyclicIndex(S)];this._array=_,this._maxLength=L,this._startIndex=0}get length(){return this._length}set length(L){if(L>this._length)for(let _=this._length;_<L;_++)this._array[_]=void 0;this._length=L}get(L){return this._array[this._getCyclicIndex(L)]}set(L,_){this._array[this._getCyclicIndex(L)]=_}push(L){this._array[this._getCyclicIndex(this._length)]=L,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(L,_,...S){if(_){for(let b=L;b<this._length-_;b++)this._array[this._getCyclicIndex(b)]=this._array[this._getCyclicIndex(b+_)];this._length-=_,this.onDeleteEmitter.fire({index:L,amount:_})}for(let b=this._length-1;b>=L;b--)this._array[this._getCyclicIndex(b+S.length)]=this._array[this._getCyclicIndex(b)];for(let b=0;b<S.length;b++)this._array[this._getCyclicIndex(L+b)]=S[b];if(S.length&&this.onInsertEmitter.fire({index:L,amount:S.length}),this._length+S.length>this._maxLength){const b=this._length+S.length-this._maxLength;this._startIndex+=b,this._length=this._maxLength,this.onTrimEmitter.fire(b)}else this._length+=S.length}trimStart(L){L>this._length&&(L=this._length),this._startIndex+=L,this._length-=L,this.onTrimEmitter.fire(L)}shiftElements(L,_,S){if(!(_<=0)){if(L<0||L>=this._length)throw new Error("start argument out of range");if(L+S<0)throw new Error("Cannot shift elements in list beyond index 0");if(S>0){for(let f=_-1;f>=0;f--)this.set(L+f+S,this.get(L+f));const b=L+_+S-this._length;if(b>0)for(this._length+=b;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let b=0;b<_;b++)this.set(L+b+S,this.get(L+b))}}_getCyclicIndex(L){return(this._startIndex+L)%this._maxLength}}y.CircularList=a},1439:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.clone=void 0,y.clone=function u(r,z=5){if(typeof r!="object")return r;const a=Array.isArray(r)?[]:{};for(let L in r)a[L]=z<=1?r[L]:r[L]&&u(r[L],z-1);return a}},8055:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.contrastRatio=y.toPaddedHex=y.rgba=y.rgb=y.css=y.color=y.channels=y.NULL_COLOR=void 0;const r=u(6114);let z=0,a=0,L=0,_=0;var S,b,f,M,T;function $(w){const s=w.toString(16);return s.length<2?"0"+s:s}function Z(w,s){return w<s?(s+0.05)/(w+0.05):(w+0.05)/(s+0.05)}y.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(s,g,R,U){return U!==void 0?`#${$(s)}${$(g)}${$(R)}${$(U)}`:`#${$(s)}${$(g)}${$(R)}`},w.toRgba=function(s,g,R,U=255){return(s<<24|g<<16|R<<8|U)>>>0}}(S||(y.channels=S={})),function(w){function s(g,R){return _=Math.round(255*R),[z,a,L]=T.toChannels(g.rgba),{css:S.toCss(z,a,L,_),rgba:S.toRgba(z,a,L,_)}}w.blend=function(g,R){if(_=(255&R.rgba)/255,_===1)return{css:R.css,rgba:R.rgba};const U=R.rgba>>24&255,j=R.rgba>>16&255,J=R.rgba>>8&255,H=g.rgba>>24&255,D=g.rgba>>16&255,l=g.rgba>>8&255;return z=H+Math.round((U-H)*_),a=D+Math.round((j-D)*_),L=l+Math.round((J-l)*_),{css:S.toCss(z,a,L),rgba:S.toRgba(z,a,L)}},w.isOpaque=function(g){return(255&g.rgba)==255},w.ensureContrastRatio=function(g,R,U){const j=T.ensureContrastRatio(g.rgba,R.rgba,U);if(j)return T.toColor(j>>24&255,j>>16&255,j>>8&255)},w.opaque=function(g){const R=(255|g.rgba)>>>0;return[z,a,L]=T.toChannels(R),{css:S.toCss(z,a,L),rgba:R}},w.opacity=s,w.multiplyOpacity=function(g,R){return _=255&g.rgba,s(g,_*R/255)},w.toColorRGB=function(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}}(b||(y.color=b={})),function(w){let s,g;if(!r.isNode){const R=document.createElement("canvas");R.width=1,R.height=1;const U=R.getContext("2d",{willReadFrequently:!0});U&&(s=U,s.globalCompositeOperation="copy",g=s.createLinearGradient(0,0,1,1))}w.toColor=function(R){if(R.match(/#[\da-f]{3,8}/i))switch(R.length){case 4:return z=parseInt(R.slice(1,2).repeat(2),16),a=parseInt(R.slice(2,3).repeat(2),16),L=parseInt(R.slice(3,4).repeat(2),16),T.toColor(z,a,L);case 5:return z=parseInt(R.slice(1,2).repeat(2),16),a=parseInt(R.slice(2,3).repeat(2),16),L=parseInt(R.slice(3,4).repeat(2),16),_=parseInt(R.slice(4,5).repeat(2),16),T.toColor(z,a,L,_);case 7:return{css:R,rgba:(parseInt(R.slice(1),16)<<8|255)>>>0};case 9:return{css:R,rgba:parseInt(R.slice(1),16)>>>0}}const U=R.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(U)return z=parseInt(U[1]),a=parseInt(U[2]),L=parseInt(U[3]),_=Math.round(255*(U[5]===void 0?1:parseFloat(U[5]))),T.toColor(z,a,L,_);if(!s||!g)throw new Error("css.toColor: Unsupported css format");if(s.fillStyle=g,s.fillStyle=R,typeof s.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(s.fillRect(0,0,1,1),[z,a,L,_]=s.getImageData(0,0,1,1).data,_!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(z,a,L,_),css:R}}}(f||(y.css=f={})),function(w){function s(g,R,U){const j=g/255,J=R/255,H=U/255;return 0.2126*(j<=0.03928?j/12.92:Math.pow((j+0.055)/1.055,2.4))+0.7152*(J<=0.03928?J/12.92:Math.pow((J+0.055)/1.055,2.4))+0.0722*(H<=0.03928?H/12.92:Math.pow((H+0.055)/1.055,2.4))}w.relativeLuminance=function(g){return s(g>>16&255,g>>8&255,255&g)},w.relativeLuminance2=s}(M||(y.rgb=M={})),function(w){function s(R,U,j){const J=R>>24&255,H=R>>16&255,D=R>>8&255;let l=U>>24&255,p=U>>16&255,m=U>>8&255,n=Z(M.relativeLuminance2(l,p,m),M.relativeLuminance2(J,H,D));for(;n<j&&(l>0||p>0||m>0);)l-=Math.max(0,Math.ceil(0.1*l)),p-=Math.max(0,Math.ceil(0.1*p)),m-=Math.max(0,Math.ceil(0.1*m)),n=Z(M.relativeLuminance2(l,p,m),M.relativeLuminance2(J,H,D));return(l<<24|p<<16|m<<8|255)>>>0}function g(R,U,j){const J=R>>24&255,H=R>>16&255,D=R>>8&255;let l=U>>24&255,p=U>>16&255,m=U>>8&255,n=Z(M.relativeLuminance2(l,p,m),M.relativeLuminance2(J,H,D));for(;n<j&&(l<255||p<255||m<255);)l=Math.min(255,l+Math.ceil(0.1*(255-l))),p=Math.min(255,p+Math.ceil(0.1*(255-p))),m=Math.min(255,m+Math.ceil(0.1*(255-m))),n=Z(M.relativeLuminance2(l,p,m),M.relativeLuminance2(J,H,D));return(l<<24|p<<16|m<<8|255)>>>0}w.ensureContrastRatio=function(R,U,j){const J=M.relativeLuminance(R>>8),H=M.relativeLuminance(U>>8);if(Z(J,H)<j){if(H<J){const p=s(R,U,j),m=Z(J,M.relativeLuminance(p>>8));if(m<j){const n=g(R,U,j);return m>Z(J,M.relativeLuminance(n>>8))?p:n}return p}const D=g(R,U,j),l=Z(J,M.relativeLuminance(D>>8));if(l<j){const p=s(R,U,j);return l>Z(J,M.relativeLuminance(p>>8))?D:p}return D}},w.reduceLuminance=s,w.increaseLuminance=g,w.toChannels=function(R){return[R>>24&255,R>>16&255,R>>8&255,255&R]},w.toColor=function(R,U,j,J){return{css:S.toCss(R,U,j,J),rgba:S.toRgba(R,U,j,J)}}}(T||(y.rgba=T={})),y.toPaddedHex=$,y.contrastRatio=Z},8969:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.CoreTerminal=void 0;const r=u(844),z=u(2585),a=u(4348),L=u(7866),_=u(744),S=u(7302),b=u(6975),f=u(8460),M=u(1753),T=u(1480),$=u(7994),Z=u(9282),w=u(5435),s=u(5981),g=u(2660);let R=!1;class U extends r.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new f.EventEmitter),this._onScroll.event((j)=>{var J;(J=this._onScrollApi)===null||J===void 0||J.fire(j.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(j){for(let J in j)this.optionsService.options[J]=j[J]}constructor(j){super(),this._windowsWrappingHeuristics=this.register(new r.MutableDisposable),this._onBinary=this.register(new f.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new f.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new f.EventEmitter),this._instantiationService=new a.InstantiationService,this.optionsService=this.register(new S.OptionsService(j)),this._instantiationService.setService(z.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(_.BufferService)),this._instantiationService.setService(z.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(L.LogService)),this._instantiationService.setService(z.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(b.CoreService)),this._instantiationService.setService(z.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(M.CoreMouseService)),this._instantiationService.setService(z.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(T.UnicodeService)),this._instantiationService.setService(z.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance($.CharsetService),this._instantiationService.setService(z.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(g.OscLinkService),this._instantiationService.setService(z.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register(f.forwardEvent(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register(f.forwardEvent(this._bufferService.onResize,this._onResize)),this.register(f.forwardEvent(this.coreService.onData,this._onData)),this.register(f.forwardEvent(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll((J)=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll((J)=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new s.WriteBuffer((J,H)=>this._inputHandler.parse(J,H))),this.register(f.forwardEvent(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(j,J){this._writeBuffer.write(j,J)}writeSync(j,J){this._logService.logLevel<=z.LogLevelEnum.WARN&&!R&&(this._logService.warn("writeSync is unreliable and will be removed soon."),R=!0),this._writeBuffer.writeSync(j,J)}resize(j,J){isNaN(j)||isNaN(J)||(j=Math.max(j,_.MINIMUM_COLS),J=Math.max(J,_.MINIMUM_ROWS),this._bufferService.resize(j,J))}scroll(j,J=!1){this._bufferService.scroll(j,J)}scrollLines(j,J,H){this._bufferService.scrollLines(j,J,H)}scrollPages(j){this.scrollLines(j*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(j){const J=j-this._bufferService.buffer.ydisp;J!==0&&this.scrollLines(J)}registerEscHandler(j,J){return this._inputHandler.registerEscHandler(j,J)}registerDcsHandler(j,J){return this._inputHandler.registerDcsHandler(j,J)}registerCsiHandler(j,J){return this._inputHandler.registerCsiHandler(j,J)}registerOscHandler(j,J){return this._inputHandler.registerOscHandler(j,J)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let j=!1;const J=this.optionsService.rawOptions.windowsPty;J&&J.buildNumber!==void 0&&J.buildNumber!==void 0?j=J.backend==="conpty"&&J.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(j=!0),j?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const j=[];j.push(this.onLineFeed(Z.updateWindowsModeWrappedState.bind(null,this._bufferService))),j.push(this.registerCsiHandler({final:"H"},()=>(Z.updateWindowsModeWrappedState(this._bufferService),!1))),this._windowsWrappingHeuristics.value=r.toDisposable(()=>{for(let J of j)J.dispose()})}}}y.CoreTerminal=U},8460:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.forwardEvent=y.EventEmitter=void 0,y.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=(u)=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let r=0;r<this._listeners.length;r++)if(this._listeners[r]===u)return void this._listeners.splice(r,1)}}})),this._event}fire(u,r){const z=[];for(let a=0;a<this._listeners.length;a++)z.push(this._listeners[a]);for(let a=0;a<z.length;a++)z[a].call(void 0,u,r)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},y.forwardEvent=function(u,r){return u((z)=>r.fire(z))}},5435:function(V,y,u){var r=this&&this.__decorate||function(n,c,v,N){var d,o=arguments.length,h=o<3?c:N===null?N=Object.getOwnPropertyDescriptor(c,v):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(n,c,v,N);else for(var P=n.length-1;P>=0;P--)(d=n[P])&&(h=(o<3?d(h):o>3?d(c,v,h):d(c,v))||h);return o>3&&h&&Object.defineProperty(c,v,h),h},z=this&&this.__param||function(n,c){return function(v,N){c(v,N,n)}};Object.defineProperty(y,"__esModule",{value:!0}),y.InputHandler=y.WindowsOptionsReportType=void 0;const a=u(2584),L=u(7116),_=u(2015),S=u(844),b=u(482),f=u(8437),M=u(8460),T=u(643),$=u(511),Z=u(3734),w=u(2585),s=u(6242),g=u(6351),R=u(5941),U={"(":0,")":1,"*":2,"+":3,"-":1,".":2},j=131072;function J(n,c){if(n>24)return c.setWinLines||!1;switch(n){case 1:return!!c.restoreWin;case 2:return!!c.minimizeWin;case 3:return!!c.setWinPosition;case 4:return!!c.setWinSizePixels;case 5:return!!c.raiseWin;case 6:return!!c.lowerWin;case 7:return!!c.refreshWin;case 8:return!!c.setWinSizeChars;case 9:return!!c.maximizeWin;case 10:return!!c.fullscreenWin;case 11:return!!c.getWinState;case 13:return!!c.getWinPosition;case 14:return!!c.getWinSizePixels;case 15:return!!c.getScreenSizePixels;case 16:return!!c.getCellSizePixels;case 18:return!!c.getWinSizeChars;case 19:return!!c.getScreenSizeChars;case 20:return!!c.getIconTitle;case 21:return!!c.getWinTitle;case 22:return!!c.pushTitle;case 23:return!!c.popTitle;case 24:return!!c.setWinLines}return!1}var H;(function(n){n[n.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",n[n.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(H||(y.WindowsOptionsReportType=H={}));let D=0;class l extends S.Disposable{getAttrData(){return this._curAttrData}constructor(n,c,v,N,d,o,h,P,X=new _.EscapeSequenceParser){super(),this._bufferService=n,this._charsetService=c,this._coreService=v,this._logService=N,this._optionsService=d,this._oscLinkService=o,this._coreMouseService=h,this._unicodeService=P,this._parser=X,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new b.StringToUtf32,this._utf8Decoder=new b.Utf8ToUtf32,this._workCell=new $.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=f.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new M.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new M.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new M.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new M.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new M.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new M.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new M.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new M.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new M.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new M.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new M.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new M.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new M.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new p(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((k)=>this._activeBuffer=k.activeBuffer)),this._parser.setCsiHandlerFallback((k,I)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(k),params:I.toArray()})}),this._parser.setEscHandlerFallback((k)=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(k)})}),this._parser.setExecuteHandlerFallback((k)=>{this._logService.debug("Unknown EXECUTE code: ",{code:k})}),this._parser.setOscHandlerFallback((k,I,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:k,action:I,data:Q})}),this._parser.setDcsHandlerFallback((k,I,Q)=>{I==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(k),action:I,payload:Q})}),this._parser.setPrintHandler((k,I,Q)=>this.print(k,I,Q)),this._parser.registerCsiHandler({final:"@"},(k)=>this.insertChars(k)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(k)=>this.scrollLeft(k)),this._parser.registerCsiHandler({final:"A"},(k)=>this.cursorUp(k)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(k)=>this.scrollRight(k)),this._parser.registerCsiHandler({final:"B"},(k)=>this.cursorDown(k)),this._parser.registerCsiHandler({final:"C"},(k)=>this.cursorForward(k)),this._parser.registerCsiHandler({final:"D"},(k)=>this.cursorBackward(k)),this._parser.registerCsiHandler({final:"E"},(k)=>this.cursorNextLine(k)),this._parser.registerCsiHandler({final:"F"},(k)=>this.cursorPrecedingLine(k)),this._parser.registerCsiHandler({final:"G"},(k)=>this.cursorCharAbsolute(k)),this._parser.registerCsiHandler({final:"H"},(k)=>this.cursorPosition(k)),this._parser.registerCsiHandler({final:"I"},(k)=>this.cursorForwardTab(k)),this._parser.registerCsiHandler({final:"J"},(k)=>this.eraseInDisplay(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},(k)=>this.eraseInDisplay(k,!0)),this._parser.registerCsiHandler({final:"K"},(k)=>this.eraseInLine(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},(k)=>this.eraseInLine(k,!0)),this._parser.registerCsiHandler({final:"L"},(k)=>this.insertLines(k)),this._parser.registerCsiHandler({final:"M"},(k)=>this.deleteLines(k)),this._parser.registerCsiHandler({final:"P"},(k)=>this.deleteChars(k)),this._parser.registerCsiHandler({final:"S"},(k)=>this.scrollUp(k)),this._parser.registerCsiHandler({final:"T"},(k)=>this.scrollDown(k)),this._parser.registerCsiHandler({final:"X"},(k)=>this.eraseChars(k)),this._parser.registerCsiHandler({final:"Z"},(k)=>this.cursorBackwardTab(k)),this._parser.registerCsiHandler({final:"`"},(k)=>this.charPosAbsolute(k)),this._parser.registerCsiHandler({final:"a"},(k)=>this.hPositionRelative(k)),this._parser.registerCsiHandler({final:"b"},(k)=>this.repeatPrecedingCharacter(k)),this._parser.registerCsiHandler({final:"c"},(k)=>this.sendDeviceAttributesPrimary(k)),this._parser.registerCsiHandler({prefix:">",final:"c"},(k)=>this.sendDeviceAttributesSecondary(k)),this._parser.registerCsiHandler({final:"d"},(k)=>this.linePosAbsolute(k)),this._parser.registerCsiHandler({final:"e"},(k)=>this.vPositionRelative(k)),this._parser.registerCsiHandler({final:"f"},(k)=>this.hVPosition(k)),this._parser.registerCsiHandler({final:"g"},(k)=>this.tabClear(k)),this._parser.registerCsiHandler({final:"h"},(k)=>this.setMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"h"},(k)=>this.setModePrivate(k)),this._parser.registerCsiHandler({final:"l"},(k)=>this.resetMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"l"},(k)=>this.resetModePrivate(k)),this._parser.registerCsiHandler({final:"m"},(k)=>this.charAttributes(k)),this._parser.registerCsiHandler({final:"n"},(k)=>this.deviceStatus(k)),this._parser.registerCsiHandler({prefix:"?",final:"n"},(k)=>this.deviceStatusPrivate(k)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(k)=>this.softReset(k)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(k)=>this.setCursorStyle(k)),this._parser.registerCsiHandler({final:"r"},(k)=>this.setScrollRegion(k)),this._parser.registerCsiHandler({final:"s"},(k)=>this.saveCursor(k)),this._parser.registerCsiHandler({final:"t"},(k)=>this.windowOptions(k)),this._parser.registerCsiHandler({final:"u"},(k)=>this.restoreCursor(k)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(k)=>this.insertColumns(k)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(k)=>this.deleteColumns(k)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(k)=>this.selectProtected(k)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(k)=>this.requestMode(k,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(k)=>this.requestMode(k,!1)),this._parser.setExecuteHandler(a.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(a.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(a.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(a.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(a.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(a.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(a.C1.IND,()=>this.index()),this._parser.setExecuteHandler(a.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(a.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new s.OscHandler((k)=>(this.setTitle(k),this.setIconName(k),!0))),this._parser.registerOscHandler(1,new s.OscHandler((k)=>this.setIconName(k))),this._parser.registerOscHandler(2,new s.OscHandler((k)=>this.setTitle(k))),this._parser.registerOscHandler(4,new s.OscHandler((k)=>this.setOrReportIndexedColor(k))),this._parser.registerOscHandler(8,new s.OscHandler((k)=>this.setHyperlink(k))),this._parser.registerOscHandler(10,new s.OscHandler((k)=>this.setOrReportFgColor(k))),this._parser.registerOscHandler(11,new s.OscHandler((k)=>this.setOrReportBgColor(k))),this._parser.registerOscHandler(12,new s.OscHandler((k)=>this.setOrReportCursorColor(k))),this._parser.registerOscHandler(104,new s.OscHandler((k)=>this.restoreIndexedColor(k))),this._parser.registerOscHandler(110,new s.OscHandler((k)=>this.restoreFgColor(k))),this._parser.registerOscHandler(111,new s.OscHandler((k)=>this.restoreBgColor(k))),this._parser.registerOscHandler(112,new s.OscHandler((k)=>this.restoreCursorColor(k))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let k in L.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:k},()=>this.selectCharset("("+k)),this._parser.registerEscHandler({intermediates:")",final:k},()=>this.selectCharset(")"+k)),this._parser.registerEscHandler({intermediates:"*",final:k},()=>this.selectCharset("*"+k)),this._parser.registerEscHandler({intermediates:"+",final:k},()=>this.selectCharset("+"+k)),this._parser.registerEscHandler({intermediates:"-",final:k},()=>this.selectCharset("-"+k)),this._parser.registerEscHandler({intermediates:".",final:k},()=>this.selectCharset("."+k)),this._parser.registerEscHandler({intermediates:"/",final:k},()=>this.selectCharset("/"+k));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler((k)=>(this._logService.error("Parsing error: ",k),k)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new g.DcsHandler((k,I)=>this.requestStatusString(k,I)))}_preserveStack(n,c,v,N){this._parseStack.paused=!0,this._parseStack.cursorStartX=n,this._parseStack.cursorStartY=c,this._parseStack.decodedLength=v,this._parseStack.position=N}_logSlowResolvingAsync(n){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([n,new Promise((c,v)=>setTimeout(()=>v("#SLOW_TIMEOUT"),5000))]).catch((c)=>{if(c!=="#SLOW_TIMEOUT")throw c;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(n,c){let v,N=this._activeBuffer.x,d=this._activeBuffer.y,o=0;const h=this._parseStack.paused;if(h){if(v=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,c))return this._logSlowResolvingAsync(v),v;N=this._parseStack.cursorStartX,d=this._parseStack.cursorStartY,this._parseStack.paused=!1,n.length>j&&(o=this._parseStack.position+j)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof n=="string"?` "${n}"`:` "${Array.prototype.map.call(n,(P)=>String.fromCharCode(P)).join("")}"`),typeof n=="string"?n.split("").map((P)=>P.charCodeAt(0)):n),this._parseBuffer.length<n.length&&this._parseBuffer.length<j&&(this._parseBuffer=new Uint32Array(Math.min(n.length,j))),h||this._dirtyRowTracker.clearRange(),n.length>j)for(let P=o;P<n.length;P+=j){const X=P+j<n.length?P+j:n.length,k=typeof n=="string"?this._stringDecoder.decode(n.substring(P,X),this._parseBuffer):this._utf8Decoder.decode(n.subarray(P,X),this._parseBuffer);if(v=this._parser.parse(this._parseBuffer,k))return this._preserveStack(N,d,k,P),this._logSlowResolvingAsync(v),v}else if(!h){const P=typeof n=="string"?this._stringDecoder.decode(n,this._parseBuffer):this._utf8Decoder.decode(n,this._parseBuffer);if(v=this._parser.parse(this._parseBuffer,P))return this._preserveStack(N,d,P,0),this._logSlowResolvingAsync(v),v}this._activeBuffer.x===N&&this._activeBuffer.y===d||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(n,c,v){let N,d;const o=this._charsetService.charset,h=this._optionsService.rawOptions.screenReaderMode,P=this._bufferService.cols,X=this._coreService.decPrivateModes.wraparound,k=this._coreService.modes.insertMode,I=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&v-c>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,I.fg,I.bg,I.extended);for(let e=c;e<v;++e){if(N=n[e],d=this._unicodeService.wcwidth(N),N<127&&o){const B=o[String.fromCharCode(N)];B&&(N=B.charCodeAt(0))}if(h&&this._onA11yChar.fire(b.stringFromCodePoint(N)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),d||!this._activeBuffer.x){if(this._activeBuffer.x+d-1>=P){if(X){for(;this._activeBuffer.x<P;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,1,I.fg,I.bg,I.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=P-1,d===2)continue}if(k&&(Q.insertCells(this._activeBuffer.x,d,this._activeBuffer.getNullCell(I),I),Q.getWidth(P-1)===2&&Q.setCellFromCodePoint(P-1,T.NULL_CELL_CODE,T.NULL_CELL_WIDTH,I.fg,I.bg,I.extended)),Q.setCellFromCodePoint(this._activeBuffer.x++,N,d,I.fg,I.bg,I.extended),d>0)for(;--d;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,0,I.fg,I.bg,I.extended)}else Q.getWidth(this._activeBuffer.x-1)?Q.addCodepointToCell(this._activeBuffer.x-1,N):Q.addCodepointToCell(this._activeBuffer.x-2,N)}v-c>0&&(Q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<P&&v-c>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodePoint(this._activeBuffer.x,0,1,I.fg,I.bg,I.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(n,c){return n.final!=="t"||n.prefix||n.intermediates?this._parser.registerCsiHandler(n,c):this._parser.registerCsiHandler(n,(v)=>!J(v.params[0],this._optionsService.rawOptions.windowOptions)||c(v))}registerDcsHandler(n,c){return this._parser.registerDcsHandler(n,new g.DcsHandler(c))}registerEscHandler(n,c){return this._parser.registerEscHandler(n,c)}registerOscHandler(n,c){return this._parser.registerOscHandler(n,new s.OscHandler(c))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var n;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((n=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||n===void 0?void 0:n.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);c.hasWidth(this._activeBuffer.x)&&!c.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const n=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-n),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(n=this._bufferService.cols-1){this._activeBuffer.x=Math.min(n,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(n,c){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=n,this._activeBuffer.y=this._activeBuffer.scrollTop+c):(this._activeBuffer.x=n,this._activeBuffer.y=c),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(n,c){this._restrictCursor(),this._setCursor(this._activeBuffer.x+n,this._activeBuffer.y+c)}cursorUp(n){const c=this._activeBuffer.y-this._activeBuffer.scrollTop;return c>=0?this._moveCursor(0,-Math.min(c,n.params[0]||1)):this._moveCursor(0,-(n.params[0]||1)),!0}cursorDown(n){const c=this._activeBuffer.scrollBottom-this._activeBuffer.y;return c>=0?this._moveCursor(0,Math.min(c,n.params[0]||1)):this._moveCursor(0,n.params[0]||1),!0}cursorForward(n){return this._moveCursor(n.params[0]||1,0),!0}cursorBackward(n){return this._moveCursor(-(n.params[0]||1),0),!0}cursorNextLine(n){return this.cursorDown(n),this._activeBuffer.x=0,!0}cursorPrecedingLine(n){return this.cursorUp(n),this._activeBuffer.x=0,!0}cursorCharAbsolute(n){return this._setCursor((n.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(n){return this._setCursor(n.length>=2?(n.params[1]||1)-1:0,(n.params[0]||1)-1),!0}charPosAbsolute(n){return this._setCursor((n.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(n){return this._moveCursor(n.params[0]||1,0),!0}linePosAbsolute(n){return this._setCursor(this._activeBuffer.x,(n.params[0]||1)-1),!0}vPositionRelative(n){return this._moveCursor(0,n.params[0]||1),!0}hVPosition(n){return this.cursorPosition(n),!0}tabClear(n){const c=n.params[0];return c===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:c===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(n){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let c=n.params[0]||1;for(;c--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(n){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let c=n.params[0]||1;for(;c--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(n){const c=n.params[0];return c===1&&(this._curAttrData.bg|=536870912),c!==2&&c!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(n,c,v,N=!1,d=!1){const o=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);o.replaceCells(c,v,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),d),N&&(o.isWrapped=!1)}_resetBufferLine(n,c=!1){const v=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);v&&(v.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),c),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+n),v.isWrapped=!1)}eraseInDisplay(n,c=!1){let v;switch(this._restrictCursor(this._bufferService.cols),n.params[0]){case 0:for(v=this._activeBuffer.y,this._dirtyRowTracker.markDirty(v),this._eraseInBufferLine(v++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,c);v<this._bufferService.rows;v++)this._resetBufferLine(v,c);this._dirtyRowTracker.markDirty(v);break;case 1:for(v=this._activeBuffer.y,this._dirtyRowTracker.markDirty(v),this._eraseInBufferLine(v,0,this._activeBuffer.x+1,!0,c),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(v+1).isWrapped=!1);v--;)this._resetBufferLine(v,c);this._dirtyRowTracker.markDirty(0);break;case 2:for(v=this._bufferService.rows,this._dirtyRowTracker.markDirty(v-1);v--;)this._resetBufferLine(v,c);this._dirtyRowTracker.markDirty(0);break;case 3:const N=this._activeBuffer.lines.length-this._bufferService.rows;N>0&&(this._activeBuffer.lines.trimStart(N),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-N,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-N,0),this._onScroll.fire(0))}return!0}eraseInLine(n,c=!1){switch(this._restrictCursor(this._bufferService.cols),n.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,c);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,c);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,c)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(n){this._restrictCursor();let c=n.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const v=this._activeBuffer.ybase+this._activeBuffer.y,N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,d=this._bufferService.rows-1+this._activeBuffer.ybase-N+1;for(;c--;)this._activeBuffer.lines.splice(d-1,1),this._activeBuffer.lines.splice(v,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(n){this._restrictCursor();let c=n.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const v=this._activeBuffer.ybase+this._activeBuffer.y;let N;for(N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,N=this._bufferService.rows-1+this._activeBuffer.ybase-N;c--;)this._activeBuffer.lines.splice(v,1),this._activeBuffer.lines.splice(N,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(n){this._restrictCursor();const c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.insertCells(this._activeBuffer.x,n.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(n){this._restrictCursor();const c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.deleteCells(this._activeBuffer.x,n.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(n){let c=n.params[0]||1;for(;c--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(n){let c=n.params[0]||1;for(;c--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(f.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const c=n.params[0]||1;for(let v=this._activeBuffer.scrollTop;v<=this._activeBuffer.scrollBottom;++v){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+v);N.deleteCells(0,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const c=n.params[0]||1;for(let v=this._activeBuffer.scrollTop;v<=this._activeBuffer.scrollBottom;++v){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+v);N.insertCells(0,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const c=n.params[0]||1;for(let v=this._activeBuffer.scrollTop;v<=this._activeBuffer.scrollBottom;++v){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+v);N.insertCells(this._activeBuffer.x,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const c=n.params[0]||1;for(let v=this._activeBuffer.scrollTop;v<=this._activeBuffer.scrollBottom;++v){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+v);N.deleteCells(this._activeBuffer.x,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(n){this._restrictCursor();const c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(n.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(n){if(!this._parser.precedingCodepoint)return!0;const c=n.params[0]||1,v=new Uint32Array(c);for(let N=0;N<c;++N)v[N]=this._parser.precedingCodepoint;return this.print(v,0,v.length),!0}sendDeviceAttributesPrimary(n){return n.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(a.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(a.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(n){return n.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(a.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(a.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(n.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(a.C0.ESC+"[>83;40003;0c")),!0}_is(n){return(this._optionsService.rawOptions.termName+"").indexOf(n)===0}setMode(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,L.DEFAULT_CHARSET),this._charsetService.setgCharset(1,L.DEFAULT_CHARSET),this._charsetService.setgCharset(2,L.DEFAULT_CHARSET),this._charsetService.setgCharset(3,L.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1000:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1000:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),n.params[c]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(n,c){const v=this._coreService.decPrivateModes,{activeProtocol:N,activeEncoding:d}=this._coreMouseService,o=this._coreService,{buffers:h,cols:P}=this._bufferService,{active:X,alt:k}=h,I=this._optionsService.rawOptions,Q=(A)=>A?1:2,e=n.params[0];return B=e,E=c?e===2?4:e===4?Q(o.modes.insertMode):e===12?3:e===20?Q(I.convertEol):0:e===1?Q(v.applicationCursorKeys):e===3?I.windowOptions.setWinLines?P===80?2:P===132?1:0:0:e===6?Q(v.origin):e===7?Q(v.wraparound):e===8?3:e===9?Q(N==="X10"):e===12?Q(I.cursorBlink):e===25?Q(!o.isCursorHidden):e===45?Q(v.reverseWraparound):e===66?Q(v.applicationKeypad):e===67?4:e===1000?Q(N==="VT200"):e===1002?Q(N==="DRAG"):e===1003?Q(N==="ANY"):e===1004?Q(v.sendFocus):e===1005?4:e===1006?Q(d==="SGR"):e===1015?4:e===1016?Q(d==="SGR_PIXELS"):e===1048?1:e===47||e===1047||e===1049?Q(X===k):e===2004?Q(v.bracketedPasteMode):0,o.triggerDataEvent(`${a.C0.ESC}[${c?"":"?"}${B};${E}\$y`),!0;var B,E}_updateAttrColor(n,c,v,N,d){return c===2?(n|=50331648,n&=-16777216,n|=Z.AttributeData.fromColorRGB([v,N,d])):c===5&&(n&=-50331904,n|=33554432|255&v),n}_extractColor(n,c,v){const N=[0,0,-1,0,0,0];let d=0,o=0;do{if(N[o+d]=n.params[c+o],n.hasSubParams(c+o)){const h=n.getSubParams(c+o);let P=0;do N[1]===5&&(d=1),N[o+P+1+d]=h[P];while(++P<h.length&&P+o+1+d<N.length);break}if(N[1]===5&&o+d>=2||N[1]===2&&o+d>=5)break;N[1]&&(d=1)}while(++o+c<n.length&&o+d<N.length);for(let h=2;h<N.length;++h)N[h]===-1&&(N[h]=0);switch(N[0]){case 38:v.fg=this._updateAttrColor(v.fg,N[1],N[3],N[4],N[5]);break;case 48:v.bg=this._updateAttrColor(v.bg,N[1],N[3],N[4],N[5]);break;case 58:v.extended=v.extended.clone(),v.extended.underlineColor=this._updateAttrColor(v.extended.underlineColor,N[1],N[3],N[4],N[5])}return o}_processUnderline(n,c){c.extended=c.extended.clone(),(!~n||n>5)&&(n=1),c.extended.underlineStyle=n,c.fg|=268435456,n===0&&(c.fg&=-268435457),c.updateExtended()}_processSGR0(n){n.fg=f.DEFAULT_ATTR_DATA.fg,n.bg=f.DEFAULT_ATTR_DATA.bg,n.extended=n.extended.clone(),n.extended.underlineStyle=0,n.extended.underlineColor&=-67108864,n.updateExtended()}charAttributes(n){if(n.length===1&&n.params[0]===0)return this._processSGR0(this._curAttrData),!0;const c=n.length;let v;const N=this._curAttrData;for(let d=0;d<c;d++)v=n.params[d],v>=30&&v<=37?(N.fg&=-50331904,N.fg|=16777216|v-30):v>=40&&v<=47?(N.bg&=-50331904,N.bg|=16777216|v-40):v>=90&&v<=97?(N.fg&=-50331904,N.fg|=16777224|v-90):v>=100&&v<=107?(N.bg&=-50331904,N.bg|=16777224|v-100):v===0?this._processSGR0(N):v===1?N.fg|=134217728:v===3?N.bg|=67108864:v===4?(N.fg|=268435456,this._processUnderline(n.hasSubParams(d)?n.getSubParams(d)[0]:1,N)):v===5?N.fg|=536870912:v===7?N.fg|=67108864:v===8?N.fg|=1073741824:v===9?N.fg|=2147483648:v===2?N.bg|=134217728:v===21?this._processUnderline(2,N):v===22?(N.fg&=-134217729,N.bg&=-134217729):v===23?N.bg&=-67108865:v===24?(N.fg&=-268435457,this._processUnderline(0,N)):v===25?N.fg&=-536870913:v===27?N.fg&=-67108865:v===28?N.fg&=-1073741825:v===29?N.fg&=2147483647:v===39?(N.fg&=-67108864,N.fg|=16777215&f.DEFAULT_ATTR_DATA.fg):v===49?(N.bg&=-67108864,N.bg|=16777215&f.DEFAULT_ATTR_DATA.bg):v===38||v===48||v===58?d+=this._extractColor(n,d,N):v===53?N.bg|=1073741824:v===55?N.bg&=-1073741825:v===59?(N.extended=N.extended.clone(),N.extended.underlineColor=-1,N.updateExtended()):v===100?(N.fg&=-67108864,N.fg|=16777215&f.DEFAULT_ATTR_DATA.fg,N.bg&=-67108864,N.bg|=16777215&f.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",v);return!0}deviceStatus(n){switch(n.params[0]){case 5:this._coreService.triggerDataEvent(`${a.C0.ESC}[0n`);break;case 6:const c=this._activeBuffer.y+1,v=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${a.C0.ESC}[${c};${v}R`)}return!0}deviceStatusPrivate(n){if(n.params[0]===6){const c=this._activeBuffer.y+1,v=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${a.C0.ESC}[?${c};${v}R`)}return!0}softReset(n){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(n){const c=n.params[0]||1;switch(c){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const v=c%2==1;return this._optionsService.options.cursorBlink=v,!0}setScrollRegion(n){const c=n.params[0]||1;let v;return(n.length<2||(v=n.params[1])>this._bufferService.rows||v===0)&&(v=this._bufferService.rows),v>c&&(this._activeBuffer.scrollTop=c-1,this._activeBuffer.scrollBottom=v-1,this._setCursor(0,0)),!0}windowOptions(n){if(!J(n.params[0],this._optionsService.rawOptions.windowOptions))return!0;const c=n.length>1?n.params[1]:0;switch(n.params[0]){case 14:c!==2&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${a.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:c!==0&&c!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),c!==0&&c!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:c!==0&&c!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),c!==0&&c!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(n){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(n){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(n){return this._windowTitle=n,this._onTitleChange.fire(n),!0}setIconName(n){return this._iconName=n,!0}setOrReportIndexedColor(n){const c=[],v=n.split(";");for(;v.length>1;){const N=v.shift(),d=v.shift();if(/^\d+$/.exec(N)){const o=parseInt(N);if(m(o))if(d==="?")c.push({type:0,index:o});else{const h=R.parseColor(d);h&&c.push({type:1,index:o,color:h})}}}return c.length&&this._onColor.fire(c),!0}setHyperlink(n){const c=n.split(";");return!(c.length<2)&&(c[1]?this._createHyperlink(c[0],c[1]):!c[0]&&this._finishHyperlink())}_createHyperlink(n,c){this._getCurrentLinkId()&&this._finishHyperlink();const v=n.split(":");let N;const d=v.findIndex((o)=>o.startsWith("id="));return d!==-1&&(N=v[d].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:N,uri:c}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(n,c){const v=n.split(";");for(let N=0;N<v.length&&!(c>=this._specialColors.length);++N,++c)if(v[N]==="?")this._onColor.fire([{type:0,index:this._specialColors[c]}]);else{const d=R.parseColor(v[N]);d&&this._onColor.fire([{type:1,index:this._specialColors[c],color:d}])}return!0}setOrReportFgColor(n){return this._setOrReportSpecialColor(n,0)}setOrReportBgColor(n){return this._setOrReportSpecialColor(n,1)}setOrReportCursorColor(n){return this._setOrReportSpecialColor(n,2)}restoreIndexedColor(n){if(!n)return this._onColor.fire([{type:2}]),!0;const c=[],v=n.split(";");for(let N=0;N<v.length;++N)if(/^\d+$/.exec(v[N])){const d=parseInt(v[N]);m(d)&&c.push({type:2,index:d})}return c.length&&this._onColor.fire(c),!0}restoreFgColor(n){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(n){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(n){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,L.DEFAULT_CHARSET),!0}selectCharset(n){return n.length!==2?(this.selectDefaultCharset(),!0):(n[0]==="/"||this._charsetService.setgCharset(U[n[0]],L.CHARSETS[n[1]]||L.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const n=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,n,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=f.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(n){return this._charsetService.setgLevel(n),!0}screenAlignmentPattern(){const n=new $.CellData;n.content=4194304|"E".charCodeAt(0),n.fg=this._curAttrData.fg,n.bg=this._curAttrData.bg,this._setCursor(0,0);for(let c=0;c<this._bufferService.rows;++c){const v=this._activeBuffer.ybase+this._activeBuffer.y+c,N=this._activeBuffer.lines.get(v);N&&(N.fill(n),N.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(n,c){const v=this._bufferService.buffer,N=this._optionsService.rawOptions;return((d)=>(this._coreService.triggerDataEvent(`${a.C0.ESC}${d}${a.C0.ESC}\\`),!0))(n==='"q'?`P1\$r${this._curAttrData.isProtected()?1:0}"q`:n==='"p'?'P1$r61;1"p':n==="r"?`P1\$r${v.scrollTop+1};${v.scrollBottom+1}r`:n==="m"?"P1$r0m":n===" q"?`P1\$r${{block:2,underline:4,bar:6}[N.cursorStyle]-(N.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(n,c){this._dirtyRowTracker.markRangeDirty(n,c)}}y.InputHandler=l;let p=class{constructor(n){this._bufferService=n,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(n){n<this.start?this.start=n:n>this.end&&(this.end=n)}markRangeDirty(n,c){n>c&&(D=n,n=c,c=D),n<this.start&&(this.start=n),c>this.end&&(this.end=c)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function m(n){return 0<=n&&n<256}p=r([z(0,w.IBufferService)],p)},844:(V,y)=>{function u(r){for(let z of r)z.dispose();r.length=0}Object.defineProperty(y,"__esModule",{value:!0}),y.getDisposeArrayDisposable=y.disposeArray=y.toDisposable=y.MutableDisposable=y.Disposable=void 0,y.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let r of this._disposables)r.dispose();this._disposables.length=0}register(r){return this._disposables.push(r),r}unregister(r){const z=this._disposables.indexOf(r);z!==-1&&this._disposables.splice(z,1)}},y.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(r){var z;this._isDisposed||r===this._value||((z=this._value)===null||z===void 0||z.dispose(),this._value=r)}clear(){this.value=void 0}dispose(){var r;this._isDisposed=!0,(r=this._value)===null||r===void 0||r.dispose(),this._value=void 0}},y.toDisposable=function(r){return{dispose:r}},y.disposeArray=u,y.getDisposeArrayDisposable=function(r){return{dispose:()=>u(r)}}},1505:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.FourKeyMap=y.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(r,z,a){this._data[r]||(this._data[r]={}),this._data[r][z]=a}get(r,z){return this._data[r]?this._data[r][z]:void 0}clear(){this._data={}}}y.TwoKeyMap=u,y.FourKeyMap=class{constructor(){this._data=new u}set(r,z,a,L,_){this._data.get(r,z)||this._data.set(r,z,new u),this._data.get(r,z).set(a,L,_)}get(r,z,a,L){var _;return(_=this._data.get(r,z))===null||_===void 0?void 0:_.get(a,L)}clear(){this._data.clear()}}},6114:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.isChromeOS=y.isLinux=y.isWindows=y.isIphone=y.isIpad=y.isMac=y.getSafariVersion=y.isSafari=y.isLegacyEdge=y.isFirefox=y.isNode=void 0,y.isNode=typeof navigator=="undefined";const u=y.isNode?"node":navigator.userAgent,r=y.isNode?"node":navigator.platform;y.isFirefox=u.includes("Firefox"),y.isLegacyEdge=u.includes("Edge"),y.isSafari=/^((?!chrome|android).)*safari/i.test(u),y.getSafariVersion=function(){if(!y.isSafari)return 0;const z=u.match(/Version\/(\d+)/);return z===null||z.length<2?0:parseInt(z[1])},y.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(r),y.isIpad=r==="iPad",y.isIphone=r==="iPhone",y.isWindows=["Windows","Win16","Win32","WinCE"].includes(r),y.isLinux=r.indexOf("Linux")>=0,y.isChromeOS=/\bCrOS\b/.test(u)},6106:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.SortedList=void 0;let u=0;y.SortedList=class{constructor(r){this._getKey=r,this._array=[]}clear(){this._array.length=0}insert(r){this._array.length!==0?(u=this._search(this._getKey(r)),this._array.splice(u,0,r)):this._array.push(r)}delete(r){if(this._array.length===0)return!1;const z=this._getKey(r);if(z===void 0)return!1;if(u=this._search(z),u===-1)return!1;if(this._getKey(this._array[u])!==z)return!1;do if(this._array[u]===r)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===z);return!1}*getKeyIterator(r){if(this._array.length!==0&&(u=this._search(r),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===r))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===r)}forEachByKey(r,z){if(this._array.length!==0&&(u=this._search(r),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===r))do z(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===r)}values(){return[...this._array].values()}_search(r){let z=0,a=this._array.length-1;for(;a>=z;){let L=z+a>>1;const _=this._getKey(this._array[L]);if(_>r)a=L-1;else{if(!(_<r)){for(;L>0&&this._getKey(this._array[L-1])===r;)L--;return L}z=L+1}}return z}}},7226:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.DebouncedIdleTask=y.IdleTaskQueue=y.PriorityTaskQueue=void 0;const r=u(6114);class z{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let _=0,S=0,b=L.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(_=Date.now(),this._tasks[this._i]()||this._i++,_=Math.max(1,Date.now()-_),S=Math.max(_,S),f=L.timeRemaining(),1.5*S>f)return b-_<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(b-_))}ms`),void this._start();b=f}this.clear()}}class a extends z{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){const _=Date.now()+L;return{timeRemaining:()=>Math.max(0,_-Date.now())}}}y.PriorityTaskQueue=a,y.IdleTaskQueue=!r.isNode&&"requestIdleCallback"in window?class extends z{_requestCallback(L){return requestIdleCallback(L)}_cancelCallback(L){cancelIdleCallback(L)}}:a,y.DebouncedIdleTask=class{constructor(){this._queue=new y.IdleTaskQueue}set(L){this._queue.clear(),this._queue.enqueue(L)}flush(){this._queue.flush()}}},9282:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.updateWindowsModeWrappedState=void 0;const r=u(643);y.updateWindowsModeWrappedState=function(z){const a=z.buffer.lines.get(z.buffer.ybase+z.buffer.y-1),L=a==null?void 0:a.get(z.cols-1),_=z.buffer.lines.get(z.buffer.ybase+z.buffer.y);_&&L&&(_.isWrapped=L[r.CHAR_DATA_CODE_INDEX]!==r.NULL_CELL_CODE&&L[r.CHAR_DATA_CODE_INDEX]!==r.WHITESPACE_CELL_CODE)}},3734:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.ExtendedAttrs=y.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new r}static toColorRGB(z){return[z>>>16&255,z>>>8&255,255&z]}static fromColorRGB(z){return(255&z[0])<<16|(255&z[1])<<8|255&z[2]}clone(){const z=new u;return z.fg=this.fg,z.bg=this.bg,z.extended=this.extended.clone(),z}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}y.AttributeData=u;class r{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(z){this._ext=z}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(z){this._ext&=-469762049,this._ext|=z<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(z){this._ext&=-67108864,this._ext|=67108863&z}get urlId(){return this._urlId}set urlId(z){this._urlId=z}constructor(z=0,a=0){this._ext=0,this._urlId=0,this._ext=z,this._urlId=a}clone(){return new r(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}y.ExtendedAttrs=r},9092:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.Buffer=y.MAX_BUFFER_SIZE=void 0;const r=u(6349),z=u(7226),a=u(3734),L=u(8437),_=u(4634),S=u(511),b=u(643),f=u(4863),M=u(7116);y.MAX_BUFFER_SIZE=4294967295,y.Buffer=class{constructor(T,$,Z){this._hasScrollback=T,this._optionsService=$,this._bufferService=Z,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=L.DEFAULT_ATTR_DATA.clone(),this.savedCharset=M.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,b.NULL_CELL_CHAR,b.NULL_CELL_WIDTH,b.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,b.WHITESPACE_CELL_CHAR,b.WHITESPACE_CELL_WIDTH,b.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new z.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(T){return T?(this._nullCell.fg=T.fg,this._nullCell.bg=T.bg,this._nullCell.extended=T.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new a.ExtendedAttrs),this._nullCell}getWhitespaceCell(T){return T?(this._whitespaceCell.fg=T.fg,this._whitespaceCell.bg=T.bg,this._whitespaceCell.extended=T.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new a.ExtendedAttrs),this._whitespaceCell}getBlankLine(T,$){return new L.BufferLine(this._bufferService.cols,this.getNullCell(T),$)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const T=this.ybase+this.y-this.ydisp;return T>=0&&T<this._rows}_getCorrectBufferLength(T){if(!this._hasScrollback)return T;const $=T+this._optionsService.rawOptions.scrollback;return $>y.MAX_BUFFER_SIZE?y.MAX_BUFFER_SIZE:$}fillViewportRows(T){if(this.lines.length===0){T===void 0&&(T=L.DEFAULT_ATTR_DATA);let $=this._rows;for(;$--;)this.lines.push(this.getBlankLine(T))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(T,$){const Z=this.getNullCell(L.DEFAULT_ATTR_DATA);let w=0;const s=this._getCorrectBufferLength($);if(s>this.lines.maxLength&&(this.lines.maxLength=s),this.lines.length>0){if(this._cols<T)for(let R=0;R<this.lines.length;R++)w+=+this.lines.get(R).resize(T,Z);let g=0;if(this._rows<$)for(let R=this._rows;R<$;R++)this.lines.length<$+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new L.BufferLine(T,Z)):this.ybase>0&&this.lines.length<=this.ybase+this.y+g+1?(this.ybase--,g++,this.ydisp>0&&this.ydisp--):this.lines.push(new L.BufferLine(T,Z)));else for(let R=this._rows;R>$;R--)this.lines.length>$+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(s<this.lines.maxLength){const R=this.lines.length-s;R>0&&(this.lines.trimStart(R),this.ybase=Math.max(this.ybase-R,0),this.ydisp=Math.max(this.ydisp-R,0),this.savedY=Math.max(this.savedY-R,0)),this.lines.maxLength=s}this.x=Math.min(this.x,T-1),this.y=Math.min(this.y,$-1),g&&(this.y+=g),this.savedX=Math.min(this.savedX,T-1),this.scrollTop=0}if(this.scrollBottom=$-1,this._isReflowEnabled&&(this._reflow(T,$),this._cols>T))for(let g=0;g<this.lines.length;g++)w+=+this.lines.get(g).resize(T,Z);this._cols=T,this._rows=$,this._memoryCleanupQueue.clear(),w>0.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let T=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,T=!1);let $=0;for(;this._memoryCleanupPosition<this.lines.length;)if($+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),$>100)return!0;return T}get _isReflowEnabled(){const T=this._optionsService.rawOptions.windowsPty;return T&&T.buildNumber?this._hasScrollback&&T.backend==="conpty"&&T.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(T,$){this._cols!==T&&(T>this._cols?this._reflowLarger(T,$):this._reflowSmaller(T,$))}_reflowLarger(T,$){const Z=_.reflowLargerGetLinesToRemove(this.lines,this._cols,T,this.ybase+this.y,this.getNullCell(L.DEFAULT_ATTR_DATA));if(Z.length>0){const w=_.reflowLargerCreateNewLayout(this.lines,Z);_.reflowLargerApplyNewLayout(this.lines,w.layout),this._reflowLargerAdjustViewport(T,$,w.countRemoved)}}_reflowLargerAdjustViewport(T,$,Z){const w=this.getNullCell(L.DEFAULT_ATTR_DATA);let s=Z;for(;s-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<$&&this.lines.push(new L.BufferLine(T,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-Z,0)}_reflowSmaller(T,$){const Z=this.getNullCell(L.DEFAULT_ATTR_DATA),w=[];let s=0;for(let g=this.lines.length-1;g>=0;g--){let R=this.lines.get(g);if(!R||!R.isWrapped&&R.getTrimmedLength()<=T)continue;const U=[R];for(;R.isWrapped&&g>0;)R=this.lines.get(--g),U.unshift(R);const j=this.ybase+this.y;if(j>=g&&j<g+U.length)continue;const J=U[U.length-1].getTrimmedLength(),H=_.reflowSmallerGetNewLineLengths(U,this._cols,T),D=H.length-U.length;let l;l=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const p=[];for(let d=0;d<D;d++){const o=this.getBlankLine(L.DEFAULT_ATTR_DATA,!0);p.push(o)}p.length>0&&(w.push({start:g+U.length+s,newLines:p}),s+=p.length),U.push(...p);let m=H.length-1,n=H[m];n===0&&(m--,n=H[m]);let c=U.length-D-1,v=J;for(;c>=0;){const d=Math.min(v,n);if(U[m]===void 0)break;if(U[m].copyCellsFrom(U[c],v-d,n-d,d,!0),n-=d,n===0&&(m--,n=H[m]),v-=d,v===0){c--;const o=Math.max(c,0);v=_.getWrappedLineTrimmedLength(U,o,this._cols)}}for(let d=0;d<U.length;d++)H[d]<T&&U[d].setCell(H[d],Z);let N=D-l;for(;N-- >0;)this.ybase===0?this.y<$-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+s)-$&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+$-1)}if(w.length>0){const g=[],R=[];for(let m=0;m<this.lines.length;m++)R.push(this.lines.get(m));const U=this.lines.length;let j=U-1,J=0,H=w[J];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+s);let D=0;for(let m=Math.min(this.lines.maxLength-1,U+s-1);m>=0;m--)if(H&&H.start>j+D){for(let n=H.newLines.length-1;n>=0;n--)this.lines.set(m--,H.newLines[n]);m++,g.push({index:j+1,amount:H.newLines.length}),D+=H.newLines.length,H=w[++J]}else this.lines.set(m,R[j--]);let l=0;for(let m=g.length-1;m>=0;m--)g[m].index+=l,this.lines.onInsertEmitter.fire(g[m]),l+=g[m].amount;const p=Math.max(0,U+s-this.lines.maxLength);p>0&&this.lines.onTrimEmitter.fire(p)}}translateBufferLineToString(T,$,Z=0,w){const s=this.lines.get(T);return s?s.translateToString($,Z,w):""}getWrappedRangeForLine(T){let $=T,Z=T;for(;$>0&&this.lines.get($).isWrapped;)$--;for(;Z+1<this.lines.length&&this.lines.get(Z+1).isWrapped;)Z++;return{first:$,last:Z}}setupTabStops(T){for(T!=null?this.tabs[T]||(T=this.prevStop(T)):(this.tabs={},T=0);T<this._cols;T+=this._optionsService.rawOptions.tabStopWidth)this.tabs[T]=!0}prevStop(T){for(T==null&&(T=this.x);!this.tabs[--T]&&T>0;);return T>=this._cols?this._cols-1:T<0?0:T}nextStop(T){for(T==null&&(T=this.x);!this.tabs[++T]&&T<this._cols;);return T>=this._cols?this._cols-1:T<0?0:T}clearMarkers(T){this._isClearing=!0;for(let $=0;$<this.markers.length;$++)this.markers[$].line===T&&(this.markers[$].dispose(),this.markers.splice($--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let T=0;T<this.markers.length;T++)this.markers[T].dispose(),this.markers.splice(T--,1);this._isClearing=!1}addMarker(T){const $=new f.Marker(T);return this.markers.push($),$.register(this.lines.onTrim((Z)=>{$.line-=Z,$.line<0&&$.dispose()})),$.register(this.lines.onInsert((Z)=>{$.line>=Z.index&&($.line+=Z.amount)})),$.register(this.lines.onDelete((Z)=>{$.line>=Z.index&&$.line<Z.index+Z.amount&&$.dispose(),$.line>Z.index&&($.line-=Z.amount)})),$.register($.onDispose(()=>this._removeMarker($))),$}_removeMarker(T){this._isClearing||this.markers.splice(this.markers.indexOf(T),1)}}},8437:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.BufferLine=y.DEFAULT_ATTR_DATA=void 0;const r=u(3734),z=u(511),a=u(643),L=u(482);y.DEFAULT_ATTR_DATA=Object.freeze(new r.AttributeData);let _=0;class S{constructor(b,f,M=!1){this.isWrapped=M,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*b);const T=f||z.CellData.fromCharData([0,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]);for(let $=0;$<b;++$)this.setCell($,T);this.length=b}get(b){const f=this._data[3*b+0],M=2097151&f;return[this._data[3*b+1],2097152&f?this._combined[b]:M?L.stringFromCodePoint(M):"",f>>22,2097152&f?this._combined[b].charCodeAt(this._combined[b].length-1):M]}set(b,f){this._data[3*b+1]=f[a.CHAR_DATA_ATTR_INDEX],f[a.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[b]=f[1],this._data[3*b+0]=2097152|b|f[a.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*b+0]=f[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[a.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(b){return this._data[3*b+0]>>22}hasWidth(b){return 12582912&this._data[3*b+0]}getFg(b){return this._data[3*b+1]}getBg(b){return this._data[3*b+2]}hasContent(b){return 4194303&this._data[3*b+0]}getCodePoint(b){const f=this._data[3*b+0];return 2097152&f?this._combined[b].charCodeAt(this._combined[b].length-1):2097151&f}isCombined(b){return 2097152&this._data[3*b+0]}getString(b){const f=this._data[3*b+0];return 2097152&f?this._combined[b]:2097151&f?L.stringFromCodePoint(2097151&f):""}isProtected(b){return 536870912&this._data[3*b+2]}loadCell(b,f){return _=3*b,f.content=this._data[_+0],f.fg=this._data[_+1],f.bg=this._data[_+2],2097152&f.content&&(f.combinedData=this._combined[b]),268435456&f.bg&&(f.extended=this._extendedAttrs[b]),f}setCell(b,f){2097152&f.content&&(this._combined[b]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[b]=f.extended),this._data[3*b+0]=f.content,this._data[3*b+1]=f.fg,this._data[3*b+2]=f.bg}setCellFromCodePoint(b,f,M,T,$,Z){268435456&$&&(this._extendedAttrs[b]=Z),this._data[3*b+0]=f|M<<22,this._data[3*b+1]=T,this._data[3*b+2]=$}addCodepointToCell(b,f){let M=this._data[3*b+0];2097152&M?this._combined[b]+=L.stringFromCodePoint(f):(2097151&M?(this._combined[b]=L.stringFromCodePoint(2097151&M)+L.stringFromCodePoint(f),M&=-2097152,M|=2097152):M=f|4194304,this._data[3*b+0]=M)}insertCells(b,f,M,T){if((b%=this.length)&&this.getWidth(b-1)===2&&this.setCellFromCodePoint(b-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new r.ExtendedAttrs),f<this.length-b){const $=new z.CellData;for(let Z=this.length-b-f-1;Z>=0;--Z)this.setCell(b+f+Z,this.loadCell(b+Z,$));for(let Z=0;Z<f;++Z)this.setCell(b+Z,M)}else for(let $=b;$<this.length;++$)this.setCell($,M);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new r.ExtendedAttrs)}deleteCells(b,f,M,T){if(b%=this.length,f<this.length-b){const $=new z.CellData;for(let Z=0;Z<this.length-b-f;++Z)this.setCell(b+Z,this.loadCell(b+f+Z,$));for(let Z=this.length-f;Z<this.length;++Z)this.setCell(Z,M)}else for(let $=b;$<this.length;++$)this.setCell($,M);b&&this.getWidth(b-1)===2&&this.setCellFromCodePoint(b-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new r.ExtendedAttrs),this.getWidth(b)!==0||this.hasContent(b)||this.setCellFromCodePoint(b,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new r.ExtendedAttrs)}replaceCells(b,f,M,T,$=!1){if($)for(b&&this.getWidth(b-1)===2&&!this.isProtected(b-1)&&this.setCellFromCodePoint(b-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new r.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new r.ExtendedAttrs);b<f&&b<this.length;)this.isProtected(b)||this.setCell(b,M),b++;else for(b&&this.getWidth(b-1)===2&&this.setCellFromCodePoint(b-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new r.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new r.ExtendedAttrs);b<f&&b<this.length;)this.setCell(b++,M)}resize(b,f){if(b===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const M=3*b;if(b>this.length){if(this._data.buffer.byteLength>=4*M)this._data=new Uint32Array(this._data.buffer,0,M);else{const T=new Uint32Array(M);T.set(this._data),this._data=T}for(let T=this.length;T<b;++T)this.setCell(T,f)}else{this._data=this._data.subarray(0,M);const T=Object.keys(this._combined);for(let Z=0;Z<T.length;Z++){const w=parseInt(T[Z],10);w>=b&&delete this._combined[w]}const $=Object.keys(this._extendedAttrs);for(let Z=0;Z<$.length;Z++){const w=parseInt($[Z],10);w>=b&&delete this._extendedAttrs[w]}}return this.length=b,4*M*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const b=new Uint32Array(this._data.length);return b.set(this._data),this._data=b,1}return 0}fill(b,f=!1){if(f)for(let M=0;M<this.length;++M)this.isProtected(M)||this.setCell(M,b);else{this._combined={},this._extendedAttrs={};for(let M=0;M<this.length;++M)this.setCell(M,b)}}copyFrom(b){this.length!==b.length?this._data=new Uint32Array(b._data):this._data.set(b._data),this.length=b.length,this._combined={};for(let f in b._combined)this._combined[f]=b._combined[f];this._extendedAttrs={};for(let f in b._extendedAttrs)this._extendedAttrs[f]=b._extendedAttrs[f];this.isWrapped=b.isWrapped}clone(){const b=new S(0);b._data=new Uint32Array(this._data),b.length=this.length;for(let f in this._combined)b._combined[f]=this._combined[f];for(let f in this._extendedAttrs)b._extendedAttrs[f]=this._extendedAttrs[f];return b.isWrapped=this.isWrapped,b}getTrimmedLength(){for(let b=this.length-1;b>=0;--b)if(4194303&this._data[3*b+0])return b+(this._data[3*b+0]>>22);return 0}getNoBgTrimmedLength(){for(let b=this.length-1;b>=0;--b)if(4194303&this._data[3*b+0]||50331648&this._data[3*b+2])return b+(this._data[3*b+0]>>22);return 0}copyCellsFrom(b,f,M,T,$){const Z=b._data;if($)for(let s=T-1;s>=0;s--){for(let g=0;g<3;g++)this._data[3*(M+s)+g]=Z[3*(f+s)+g];268435456&Z[3*(f+s)+2]&&(this._extendedAttrs[M+s]=b._extendedAttrs[f+s])}else for(let s=0;s<T;s++){for(let g=0;g<3;g++)this._data[3*(M+s)+g]=Z[3*(f+s)+g];268435456&Z[3*(f+s)+2]&&(this._extendedAttrs[M+s]=b._extendedAttrs[f+s])}const w=Object.keys(b._combined);for(let s=0;s<w.length;s++){const g=parseInt(w[s],10);g>=f&&(this._combined[g-f+M]=b._combined[g])}}translateToString(b=!1,f=0,M=this.length){b&&(M=Math.min(M,this.getTrimmedLength()));let T="";for(;f<M;){const $=this._data[3*f+0],Z=2097151&$;T+=2097152&$?this._combined[f]:Z?L.stringFromCodePoint(Z):a.WHITESPACE_CELL_CHAR,f+=$>>22||1}return T}}y.BufferLine=S},4841:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.getRangeLength=void 0,y.getRangeLength=function(u,r){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return r*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(V,y)=>{function u(r,z,a){if(z===r.length-1)return r[z].getTrimmedLength();const L=!r[z].hasContent(a-1)&&r[z].getWidth(a-1)===1,_=r[z+1].getWidth(0)===2;return L&&_?a-1:a}Object.defineProperty(y,"__esModule",{value:!0}),y.getWrappedLineTrimmedLength=y.reflowSmallerGetNewLineLengths=y.reflowLargerApplyNewLayout=y.reflowLargerCreateNewLayout=y.reflowLargerGetLinesToRemove=void 0,y.reflowLargerGetLinesToRemove=function(r,z,a,L,_){const S=[];for(let b=0;b<r.length-1;b++){let f=b,M=r.get(++f);if(!M.isWrapped)continue;const T=[r.get(b)];for(;f<r.length&&M.isWrapped;)T.push(M),M=r.get(++f);if(L>=b&&L<f){b+=T.length-1;continue}let $=0,Z=u(T,$,z),w=1,s=0;for(;w<T.length;){const R=u(T,w,z),U=R-s,j=a-Z,J=Math.min(U,j);T[$].copyCellsFrom(T[w],s,Z,J,!1),Z+=J,Z===a&&($++,Z=0),s+=J,s===R&&(w++,s=0),Z===0&&$!==0&&T[$-1].getWidth(a-1)===2&&(T[$].copyCellsFrom(T[$-1],a-1,Z++,1,!1),T[$-1].setCell(a-1,_))}T[$].replaceCells(Z,a,_);let g=0;for(let R=T.length-1;R>0&&(R>$||T[R].getTrimmedLength()===0);R--)g++;g>0&&(S.push(b+T.length-g),S.push(g)),b+=T.length-1}return S},y.reflowLargerCreateNewLayout=function(r,z){const a=[];let L=0,_=z[L],S=0;for(let b=0;b<r.length;b++)if(_===b){const f=z[++L];r.onDeleteEmitter.fire({index:b-S,amount:f}),b+=f-1,S+=f,_=z[++L]}else a.push(b);return{layout:a,countRemoved:S}},y.reflowLargerApplyNewLayout=function(r,z){const a=[];for(let L=0;L<z.length;L++)a.push(r.get(z[L]));for(let L=0;L<a.length;L++)r.set(L,a[L]);r.length=z.length},y.reflowSmallerGetNewLineLengths=function(r,z,a){const L=[],_=r.map((M,T)=>u(r,T,z)).reduce((M,T)=>M+T);let S=0,b=0,f=0;for(;f<_;){if(_-f<a){L.push(_-f);break}S+=a;const M=u(r,b,z);S>M&&(S-=M,b++);const T=r[b].getWidth(S-1)===2;T&&S--;const $=T?a-1:a;L.push($),f+=$}return L},y.getWrappedLineTrimmedLength=u},5295:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.BufferSet=void 0;const r=u(8460),z=u(844),a=u(9092);class L extends z.Disposable{constructor(_,S){super(),this._optionsService=_,this._bufferService=S,this._onBufferActivate=this.register(new r.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new a.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new a.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(_){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(_),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(_,S){this._normal.resize(_,S),this._alt.resize(_,S),this.setupTabStops(_)}setupTabStops(_){this._normal.setupTabStops(_),this._alt.setupTabStops(_)}}y.BufferSet=L},511:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.CellData=void 0;const r=u(482),z=u(643),a=u(3734);class L extends a.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new a.ExtendedAttrs,this.combinedData=""}static fromCharData(_){const S=new L;return S.setFromCharData(_),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?r.stringFromCodePoint(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(_){this.fg=_[z.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(_[z.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(_[z.CHAR_DATA_CHAR_INDEX].length===2){const b=_[z.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=b&&b<=56319){const f=_[z.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(b-55296)+f-56320+65536|_[z.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=_[z.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[z.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=_[z.CHAR_DATA_CHAR_INDEX],this.content=2097152|_[z.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}y.CellData=L},643:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.WHITESPACE_CELL_CODE=y.WHITESPACE_CELL_WIDTH=y.WHITESPACE_CELL_CHAR=y.NULL_CELL_CODE=y.NULL_CELL_WIDTH=y.NULL_CELL_CHAR=y.CHAR_DATA_CODE_INDEX=y.CHAR_DATA_WIDTH_INDEX=y.CHAR_DATA_CHAR_INDEX=y.CHAR_DATA_ATTR_INDEX=y.DEFAULT_EXT=y.DEFAULT_ATTR=y.DEFAULT_COLOR=void 0,y.DEFAULT_COLOR=0,y.DEFAULT_ATTR=256|y.DEFAULT_COLOR<<9,y.DEFAULT_EXT=0,y.CHAR_DATA_ATTR_INDEX=0,y.CHAR_DATA_CHAR_INDEX=1,y.CHAR_DATA_WIDTH_INDEX=2,y.CHAR_DATA_CODE_INDEX=3,y.NULL_CELL_CHAR="",y.NULL_CELL_WIDTH=1,y.NULL_CELL_CODE=0,y.WHITESPACE_CELL_CHAR=" ",y.WHITESPACE_CELL_WIDTH=1,y.WHITESPACE_CELL_CODE=32},4863:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.Marker=void 0;const r=u(8460),z=u(844);class a{get id(){return this._id}constructor(L){this.line=L,this.isDisposed=!1,this._disposables=[],this._id=a._nextId++,this._onDispose=this.register(new r.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),z.disposeArray(this._disposables),this._disposables.length=0)}register(L){return this._disposables.push(L),L}}y.Marker=a,a._nextId=1},7116:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.DEFAULT_CHARSET=y.CHARSETS=void 0,y.CHARSETS={},y.DEFAULT_CHARSET=y.CHARSETS.B,y.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},y.CHARSETS.A={"#":"\xA3"},y.CHARSETS.B=void 0,y.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},y.CHARSETS.C=y.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},y.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},y.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},y.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},y.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},y.CHARSETS.E=y.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},y.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},y.CHARSETS.H=y.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},y.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(V,y)=>{var u,r,z;Object.defineProperty(y,"__esModule",{value:!0}),y.C1_ESCAPED=y.C1=y.C0=void 0,function(a){a.NUL="\0",a.SOH="",a.STX="",a.ETX="",a.EOT="",a.ENQ="",a.ACK="",a.BEL="",a.BS="\b",a.HT="\t",a.LF="\n",a.VT="\v",a.FF="\f",a.CR="\r",a.SO="",a.SI="",a.DLE="",a.DC1="",a.DC2="",a.DC3="",a.DC4="",a.NAK="",a.SYN="",a.ETB="",a.CAN="",a.EM="",a.SUB="",a.ESC="",a.FS="",a.GS="",a.RS="",a.US="",a.SP=" ",a.DEL=""}(u||(y.C0=u={})),function(a){a.PAD="\x80",a.HOP="\x81",a.BPH="\x82",a.NBH="\x83",a.IND="\x84",a.NEL="\x85",a.SSA="\x86",a.ESA="\x87",a.HTS="\x88",a.HTJ="\x89",a.VTS="\x8A",a.PLD="\x8B",a.PLU="\x8C",a.RI="\x8D",a.SS2="\x8E",a.SS3="\x8F",a.DCS="\x90",a.PU1="\x91",a.PU2="\x92",a.STS="\x93",a.CCH="\x94",a.MW="\x95",a.SPA="\x96",a.EPA="\x97",a.SOS="\x98",a.SGCI="\x99",a.SCI="\x9A",a.CSI="\x9B",a.ST="\x9C",a.OSC="\x9D",a.PM="\x9E",a.APC="\x9F"}(r||(y.C1=r={})),function(a){a.ST=`${u.ESC}\\`}(z||(y.C1_ESCAPED=z={}))},7399:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.evaluateKeyboardEvent=void 0;const r=u(2584),z={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};y.evaluateKeyboardEvent=function(a,L,_,S){const b={type:0,cancel:!1,key:void 0},f=(a.shiftKey?1:0)|(a.altKey?2:0)|(a.ctrlKey?4:0)|(a.metaKey?8:0);switch(a.keyCode){case 0:a.key==="UIKeyInputUpArrow"?b.key=L?r.C0.ESC+"OA":r.C0.ESC+"[A":a.key==="UIKeyInputLeftArrow"?b.key=L?r.C0.ESC+"OD":r.C0.ESC+"[D":a.key==="UIKeyInputRightArrow"?b.key=L?r.C0.ESC+"OC":r.C0.ESC+"[C":a.key==="UIKeyInputDownArrow"&&(b.key=L?r.C0.ESC+"OB":r.C0.ESC+"[B");break;case 8:if(a.altKey){b.key=r.C0.ESC+r.C0.DEL;break}b.key=r.C0.DEL;break;case 9:if(a.shiftKey){b.key=r.C0.ESC+"[Z";break}b.key=r.C0.HT,b.cancel=!0;break;case 13:b.key=a.altKey?r.C0.ESC+r.C0.CR:r.C0.CR,b.cancel=!0;break;case 27:b.key=r.C0.ESC,a.altKey&&(b.key=r.C0.ESC+r.C0.ESC),b.cancel=!0;break;case 37:if(a.metaKey)break;f?(b.key=r.C0.ESC+"[1;"+(f+1)+"D",b.key===r.C0.ESC+"[1;3D"&&(b.key=r.C0.ESC+(_?"b":"[1;5D"))):b.key=L?r.C0.ESC+"OD":r.C0.ESC+"[D";break;case 39:if(a.metaKey)break;f?(b.key=r.C0.ESC+"[1;"+(f+1)+"C",b.key===r.C0.ESC+"[1;3C"&&(b.key=r.C0.ESC+(_?"f":"[1;5C"))):b.key=L?r.C0.ESC+"OC":r.C0.ESC+"[C";break;case 38:if(a.metaKey)break;f?(b.key=r.C0.ESC+"[1;"+(f+1)+"A",_||b.key!==r.C0.ESC+"[1;3A"||(b.key=r.C0.ESC+"[1;5A")):b.key=L?r.C0.ESC+"OA":r.C0.ESC+"[A";break;case 40:if(a.metaKey)break;f?(b.key=r.C0.ESC+"[1;"+(f+1)+"B",_||b.key!==r.C0.ESC+"[1;3B"||(b.key=r.C0.ESC+"[1;5B")):b.key=L?r.C0.ESC+"OB":r.C0.ESC+"[B";break;case 45:a.shiftKey||a.ctrlKey||(b.key=r.C0.ESC+"[2~");break;case 46:b.key=f?r.C0.ESC+"[3;"+(f+1)+"~":r.C0.ESC+"[3~";break;case 36:b.key=f?r.C0.ESC+"[1;"+(f+1)+"H":L?r.C0.ESC+"OH":r.C0.ESC+"[H";break;case 35:b.key=f?r.C0.ESC+"[1;"+(f+1)+"F":L?r.C0.ESC+"OF":r.C0.ESC+"[F";break;case 33:a.shiftKey?b.type=2:a.ctrlKey?b.key=r.C0.ESC+"[5;"+(f+1)+"~":b.key=r.C0.ESC+"[5~";break;case 34:a.shiftKey?b.type=3:a.ctrlKey?b.key=r.C0.ESC+"[6;"+(f+1)+"~":b.key=r.C0.ESC+"[6~";break;case 112:b.key=f?r.C0.ESC+"[1;"+(f+1)+"P":r.C0.ESC+"OP";break;case 113:b.key=f?r.C0.ESC+"[1;"+(f+1)+"Q":r.C0.ESC+"OQ";break;case 114:b.key=f?r.C0.ESC+"[1;"+(f+1)+"R":r.C0.ESC+"OR";break;case 115:b.key=f?r.C0.ESC+"[1;"+(f+1)+"S":r.C0.ESC+"OS";break;case 116:b.key=f?r.C0.ESC+"[15;"+(f+1)+"~":r.C0.ESC+"[15~";break;case 117:b.key=f?r.C0.ESC+"[17;"+(f+1)+"~":r.C0.ESC+"[17~";break;case 118:b.key=f?r.C0.ESC+"[18;"+(f+1)+"~":r.C0.ESC+"[18~";break;case 119:b.key=f?r.C0.ESC+"[19;"+(f+1)+"~":r.C0.ESC+"[19~";break;case 120:b.key=f?r.C0.ESC+"[20;"+(f+1)+"~":r.C0.ESC+"[20~";break;case 121:b.key=f?r.C0.ESC+"[21;"+(f+1)+"~":r.C0.ESC+"[21~";break;case 122:b.key=f?r.C0.ESC+"[23;"+(f+1)+"~":r.C0.ESC+"[23~";break;case 123:b.key=f?r.C0.ESC+"[24;"+(f+1)+"~":r.C0.ESC+"[24~";break;default:if(!a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)if(_&&!S||!a.altKey||a.metaKey)!_||a.altKey||a.ctrlKey||a.shiftKey||!a.metaKey?a.key&&!a.ctrlKey&&!a.altKey&&!a.metaKey&&a.keyCode>=48&&a.key.length===1?b.key=a.key:a.key&&a.ctrlKey&&(a.key==="_"&&(b.key=r.C0.US),a.key==="@"&&(b.key=r.C0.NUL)):a.keyCode===65&&(b.type=1);else{const M=z[a.keyCode],T=M==null?void 0:M[a.shiftKey?1:0];if(T)b.key=r.C0.ESC+T;else if(a.keyCode>=65&&a.keyCode<=90){const $=a.ctrlKey?a.keyCode-64:a.keyCode+32;let Z=String.fromCharCode($);a.shiftKey&&(Z=Z.toUpperCase()),b.key=r.C0.ESC+Z}else if(a.keyCode===32)b.key=r.C0.ESC+(a.ctrlKey?r.C0.NUL:" ");else if(a.key==="Dead"&&a.code.startsWith("Key")){let $=a.code.slice(3,4);a.shiftKey||($=$.toLowerCase()),b.key=r.C0.ESC+$,b.cancel=!0}}else a.keyCode>=65&&a.keyCode<=90?b.key=String.fromCharCode(a.keyCode-64):a.keyCode===32?b.key=r.C0.NUL:a.keyCode>=51&&a.keyCode<=55?b.key=String.fromCharCode(a.keyCode-51+27):a.keyCode===56?b.key=r.C0.DEL:a.keyCode===219?b.key=r.C0.ESC:a.keyCode===220?b.key=r.C0.FS:a.keyCode===221&&(b.key=r.C0.GS)}return b}},482:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.Utf8ToUtf32=y.StringToUtf32=y.utf32ToString=y.stringFromCodePoint=void 0,y.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},y.utf32ToString=function(u,r=0,z=u.length){let a="";for(let L=r;L<z;++L){let _=u[L];_>65535?(_-=65536,a+=String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):a+=String.fromCharCode(_)}return a},y.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,r){const z=u.length;if(!z)return 0;let a=0,L=0;if(this._interim){const _=u.charCodeAt(L++);56320<=_&&_<=57343?r[a++]=1024*(this._interim-55296)+_-56320+65536:(r[a++]=this._interim,r[a++]=_),this._interim=0}for(let _=L;_<z;++_){const S=u.charCodeAt(_);if(55296<=S&&S<=56319){if(++_>=z)return this._interim=S,a;const b=u.charCodeAt(_);56320<=b&&b<=57343?r[a++]=1024*(S-55296)+b-56320+65536:(r[a++]=S,r[a++]=b)}else S!==65279&&(r[a++]=S)}return a}},y.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,r){const z=u.length;if(!z)return 0;let a,L,_,S,b=0,f=0,M=0;if(this.interim[0]){let Z=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let s,g=0;for(;(s=63&this.interim[++g])&&g<4;)w<<=6,w|=s;const R=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,U=R-g;for(;M<U;){if(M>=z)return 0;if(s=u[M++],(192&s)!=128){M--,Z=!0;break}this.interim[g++]=s,w<<=6,w|=63&s}Z||(R===2?w<128?M--:r[b++]=w:R===3?w<2048||w>=55296&&w<=57343||w===65279||(r[b++]=w):w<65536||w>1114111||(r[b++]=w)),this.interim.fill(0)}const T=z-4;let $=M;for(;$<z;){for(;!(!($<T)||128&(a=u[$])||128&(L=u[$+1])||128&(_=u[$+2])||128&(S=u[$+3]));)r[b++]=a,r[b++]=L,r[b++]=_,r[b++]=S,$+=4;if(a=u[$++],a<128)r[b++]=a;else if((224&a)==192){if($>=z)return this.interim[0]=a,b;if(L=u[$++],(192&L)!=128){$--;continue}if(f=(31&a)<<6|63&L,f<128){$--;continue}r[b++]=f}else if((240&a)==224){if($>=z)return this.interim[0]=a,b;if(L=u[$++],(192&L)!=128){$--;continue}if($>=z)return this.interim[0]=a,this.interim[1]=L,b;if(_=u[$++],(192&_)!=128){$--;continue}if(f=(15&a)<<12|(63&L)<<6|63&_,f<2048||f>=55296&&f<=57343||f===65279)continue;r[b++]=f}else if((248&a)==240){if($>=z)return this.interim[0]=a,b;if(L=u[$++],(192&L)!=128){$--;continue}if($>=z)return this.interim[0]=a,this.interim[1]=L,b;if(_=u[$++],(192&_)!=128){$--;continue}if($>=z)return this.interim[0]=a,this.interim[1]=L,this.interim[2]=_,b;if(S=u[$++],(192&S)!=128){$--;continue}if(f=(7&a)<<18|(63&L)<<12|(63&_)<<6|63&S,f<65536||f>1114111)continue;r[b++]=f}}return b}}},225:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.UnicodeV6=void 0;const u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],r=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let z;y.UnicodeV6=class{constructor(){if(this.version="6",!z){z=new Uint8Array(65536),z.fill(1),z[0]=0,z.fill(0,1,32),z.fill(0,127,160),z.fill(2,4352,4448),z[9001]=2,z[9002]=2,z.fill(2,11904,42192),z[12351]=1,z.fill(2,44032,55204),z.fill(2,63744,64256),z.fill(2,65040,65050),z.fill(2,65072,65136),z.fill(2,65280,65377),z.fill(2,65504,65511);for(let a=0;a<u.length;++a)z.fill(0,u[a][0],u[a][1]+1)}}wcwidth(a){return a<32?0:a<127?1:a<65536?z[a]:function(L,_){let S,b=0,f=_.length-1;if(L<_[0][0]||L>_[f][1])return!1;for(;f>=b;)if(S=b+f>>1,L>_[S][1])b=S+1;else{if(!(L<_[S][0]))return!0;f=S-1}return!1}(a,r)?0:a>=131072&&a<=196605||a>=196608&&a<=262141?2:1}}},5981:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.WriteBuffer=void 0;const r=u(8460),z=u(844);class a extends z.Disposable{constructor(L){super(),this._action=L,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new r.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(L,_){if(_!==void 0&&this._syncCalls>_)return void(this._syncCalls=0);if(this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let S;for(this._isSyncWriting=!0;S=this._writeBuffer.shift();){this._action(S);const b=this._callbacks.shift();b&&b()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(L,_){if(this._pendingData>50000000)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(_),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(_)}_innerWrite(L=0,_=!0){const S=L||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const b=this._writeBuffer[this._bufferOffset],f=this._action(b,_);if(f){const T=($)=>Date.now()-S>=12?setTimeout(()=>this._innerWrite(0,$)):this._innerWrite(S,$);return void f.catch(($)=>(queueMicrotask(()=>{throw $}),Promise.resolve(!1))).then(T)}const M=this._callbacks[this._bufferOffset];if(M&&M(),this._bufferOffset++,this._pendingData-=b.length,Date.now()-S>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}y.WriteBuffer=a},5941:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.toRgbString=y.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,r=/^[\da-f]+$/;function z(a,L){const _=a.toString(16),S=_.length<2?"0"+_:_;switch(L){case 4:return _[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}y.parseColor=function(a){if(!a)return;let L=a.toLowerCase();if(L.indexOf("rgb:")===0){L=L.slice(4);const _=u.exec(L);if(_){const S=_[1]?15:_[4]?255:_[7]?4095:65535;return[Math.round(parseInt(_[1]||_[4]||_[7]||_[10],16)/S*255),Math.round(parseInt(_[2]||_[5]||_[8]||_[11],16)/S*255),Math.round(parseInt(_[3]||_[6]||_[9]||_[12],16)/S*255)]}}else if(L.indexOf("#")===0&&(L=L.slice(1),r.exec(L)&&[3,6,9,12].includes(L.length))){const _=L.length/3,S=[0,0,0];for(let b=0;b<3;++b){const f=parseInt(L.slice(_*b,_*b+_),16);S[b]=_===1?f<<4:_===2?f:_===3?f>>4:f>>8}return S}},y.toRgbString=function(a,L=16){const[_,S,b]=a;return`rgb:${z(_,L)}/${z(S,L)}/${z(b,L)}`}},5770:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.PAYLOAD_LIMIT=void 0,y.PAYLOAD_LIMIT=1e7},6351:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.DcsHandler=y.DcsParser=void 0;const r=u(482),z=u(8742),a=u(5770),L=[];y.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=L,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=L}registerHandler(S,b){this._handlers[S]===void 0&&(this._handlers[S]=[]);const f=this._handlers[S];return f.push(b),{dispose:()=>{const M=f.indexOf(b);M!==-1&&f.splice(M,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=L,this._ident=0}hook(S,b){if(this.reset(),this._ident=S,this._active=this._handlers[S]||L,this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].hook(b);else this._handlerFb(this._ident,"HOOK",b)}put(S,b,f){if(this._active.length)for(let M=this._active.length-1;M>=0;M--)this._active[M].put(S,b,f);else this._handlerFb(this._ident,"PUT",r.utf32ToString(S,b,f))}unhook(S,b=!0){if(this._active.length){let f=!1,M=this._active.length-1,T=!1;if(this._stack.paused&&(M=this._stack.loopPosition-1,f=b,T=this._stack.fallThrough,this._stack.paused=!1),!T&&f===!1){for(;M>=0&&(f=this._active[M].unhook(S),f!==!0);M--)if(f instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=M,this._stack.fallThrough=!1,f;M--}for(;M>=0;M--)if(f=this._active[M].unhook(!1),f instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=M,this._stack.fallThrough=!0,f}else this._handlerFb(this._ident,"UNHOOK",S);this._active=L,this._ident=0}};const _=new z.Params;_.addParam(0),y.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=_,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():_,this._data="",this._hitLimit=!1}put(S,b,f){this._hitLimit||(this._data+=r.utf32ToString(S,b,f),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let b=!1;if(this._hitLimit)b=!1;else if(S&&(b=this._handler(this._data,this._params),b instanceof Promise))return b.then((f)=>(this._params=_,this._data="",this._hitLimit=!1,f));return this._params=_,this._data="",this._hitLimit=!1,b}}},2015:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.EscapeSequenceParser=y.VT500_TRANSITION_TABLE=y.TransitionTable=void 0;const r=u(844),z=u(8742),a=u(6242),L=u(6351);class _{constructor(f){this.table=new Uint8Array(f)}setDefault(f,M){this.table.fill(f<<4|M)}add(f,M,T,$){this.table[M<<8|f]=T<<4|$}addMany(f,M,T,$){for(let Z=0;Z<f.length;Z++)this.table[M<<8|f[Z]]=T<<4|$}}y.TransitionTable=_;const S=160;y.VT500_TRANSITION_TABLE=function(){const f=new _(4095),M=Array.apply(null,Array(256)).map((g,R)=>R),T=(g,R)=>M.slice(g,R),$=T(32,127),Z=T(0,24);Z.push(25),Z.push.apply(Z,T(28,32));const w=T(0,14);let s;for(s in f.setDefault(1,0),f.addMany($,0,2,0),w)f.addMany([24,26,153,154],s,3,0),f.addMany(T(128,144),s,3,0),f.addMany(T(144,152),s,3,0),f.add(156,s,0,0),f.add(27,s,11,1),f.add(157,s,4,8),f.addMany([152,158,159],s,0,7),f.add(155,s,11,3),f.add(144,s,11,9);return f.addMany(Z,0,3,0),f.addMany(Z,1,3,1),f.add(127,1,0,1),f.addMany(Z,8,0,8),f.addMany(Z,3,3,3),f.add(127,3,0,3),f.addMany(Z,4,3,4),f.add(127,4,0,4),f.addMany(Z,6,3,6),f.addMany(Z,5,3,5),f.add(127,5,0,5),f.addMany(Z,2,3,2),f.add(127,2,0,2),f.add(93,1,4,8),f.addMany($,8,5,8),f.add(127,8,5,8),f.addMany([156,27,24,26,7],8,6,0),f.addMany(T(28,32),8,0,8),f.addMany([88,94,95],1,0,7),f.addMany($,7,0,7),f.addMany(Z,7,0,7),f.add(156,7,0,0),f.add(127,7,0,7),f.add(91,1,11,3),f.addMany(T(64,127),3,7,0),f.addMany(T(48,60),3,8,4),f.addMany([60,61,62,63],3,9,4),f.addMany(T(48,60),4,8,4),f.addMany(T(64,127),4,7,0),f.addMany([60,61,62,63],4,0,6),f.addMany(T(32,64),6,0,6),f.add(127,6,0,6),f.addMany(T(64,127),6,0,0),f.addMany(T(32,48),3,9,5),f.addMany(T(32,48),5,9,5),f.addMany(T(48,64),5,0,6),f.addMany(T(64,127),5,7,0),f.addMany(T(32,48),4,9,5),f.addMany(T(32,48),1,9,2),f.addMany(T(32,48),2,9,2),f.addMany(T(48,127),2,10,0),f.addMany(T(48,80),1,10,0),f.addMany(T(81,88),1,10,0),f.addMany([89,90,92],1,10,0),f.addMany(T(96,127),1,10,0),f.add(80,1,11,9),f.addMany(Z,9,0,9),f.add(127,9,0,9),f.addMany(T(28,32),9,0,9),f.addMany(T(32,48),9,9,12),f.addMany(T(48,60),9,8,10),f.addMany([60,61,62,63],9,9,10),f.addMany(Z,11,0,11),f.addMany(T(32,128),11,0,11),f.addMany(T(28,32),11,0,11),f.addMany(Z,10,0,10),f.add(127,10,0,10),f.addMany(T(28,32),10,0,10),f.addMany(T(48,60),10,8,10),f.addMany([60,61,62,63],10,0,11),f.addMany(T(32,48),10,9,12),f.addMany(Z,12,0,12),f.add(127,12,0,12),f.addMany(T(28,32),12,0,12),f.addMany(T(32,48),12,9,12),f.addMany(T(48,64),12,0,11),f.addMany(T(64,127),12,12,13),f.addMany(T(64,127),10,12,13),f.addMany(T(64,127),9,12,13),f.addMany(Z,13,13,13),f.addMany($,13,13,13),f.add(127,13,0,13),f.addMany([27,156,24,26],13,14,0),f.add(S,0,2,0),f.add(S,8,5,8),f.add(S,6,0,6),f.add(S,11,0,11),f.add(S,13,13,13),f}();class b extends r.Disposable{constructor(f=y.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new z.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(M,T,$)=>{},this._executeHandlerFb=(M)=>{},this._csiHandlerFb=(M,T)=>{},this._escHandlerFb=(M)=>{},this._errorHandlerFb=(M)=>M,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register(r.toDisposable(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new a.OscParser),this._dcsParser=this.register(new L.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,M=[64,126]){let T=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(T=f.prefix.charCodeAt(0),T&&60>T||T>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let Z=0;Z<f.intermediates.length;++Z){const w=f.intermediates.charCodeAt(Z);if(32>w||w>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");T<<=8,T|=w}}if(f.final.length!==1)throw new Error("final must be a single byte");const $=f.final.charCodeAt(0);if(M[0]>$||$>M[1])throw new Error(`final must be in range ${M[0]} .. ${M[1]}`);return T<<=8,T|=$,T}identToString(f){const M=[];for(;f;)M.push(String.fromCharCode(255&f)),f>>=8;return M.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,M){const T=this._identifier(f,[48,126]);this._escHandlers[T]===void 0&&(this._escHandlers[T]=[]);const $=this._escHandlers[T];return $.push(M),{dispose:()=>{const Z=$.indexOf(M);Z!==-1&&$.splice(Z,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,M){this._executeHandlers[f.charCodeAt(0)]=M}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,M){const T=this._identifier(f);this._csiHandlers[T]===void 0&&(this._csiHandlers[T]=[]);const $=this._csiHandlers[T];return $.push(M),{dispose:()=>{const Z=$.indexOf(M);Z!==-1&&$.splice(Z,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,M){return this._dcsParser.registerHandler(this._identifier(f),M)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,M){return this._oscParser.registerHandler(f,M)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,M,T,$,Z){this._parseStack.state=f,this._parseStack.handlers=M,this._parseStack.handlerPos=T,this._parseStack.transition=$,this._parseStack.chunkPos=Z}parse(f,M,T){let $,Z=0,w=0,s=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(T===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const g=this._parseStack.handlers;let R=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(T===!1&&R>-1){for(;R>=0&&($=g[R](this._params),$!==!0);R--)if($ instanceof Promise)return this._parseStack.handlerPos=R,$}this._parseStack.handlers=[];break;case 4:if(T===!1&&R>-1){for(;R>=0&&($=g[R](),$!==!0);R--)if($ instanceof Promise)return this._parseStack.handlerPos=R,$}this._parseStack.handlers=[];break;case 6:if(Z=f[this._parseStack.chunkPos],$=this._dcsParser.unhook(Z!==24&&Z!==26,T),$)return $;Z===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(Z=f[this._parseStack.chunkPos],$=this._oscParser.end(Z!==24&&Z!==26,T),$)return $;Z===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let g=s;g<M;++g){switch(Z=f[g],w=this._transitions.table[this.currentState<<8|(Z<160?Z:S)],w>>4){case 2:for(let H=g+1;;++H){if(H>=M||(Z=f[H])<32||Z>126&&Z<S){this._printHandler(f,g,H),g=H-1;break}if(++H>=M||(Z=f[H])<32||Z>126&&Z<S){this._printHandler(f,g,H),g=H-1;break}if(++H>=M||(Z=f[H])<32||Z>126&&Z<S){this._printHandler(f,g,H),g=H-1;break}if(++H>=M||(Z=f[H])<32||Z>126&&Z<S){this._printHandler(f,g,H),g=H-1;break}}break;case 3:this._executeHandlers[Z]?this._executeHandlers[Z]():this._executeHandlerFb(Z),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:g,code:Z,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const R=this._csiHandlers[this._collect<<8|Z];let U=R?R.length-1:-1;for(;U>=0&&($=R[U](this._params),$!==!0);U--)if($ instanceof Promise)return this._preserveStack(3,R,U,w,g),$;U<0&&this._csiHandlerFb(this._collect<<8|Z,this._params),this.precedingCodepoint=0;break;case 8:do switch(Z){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(Z-48)}while(++g<M&&(Z=f[g])>47&&Z<60);g--;break;case 9:this._collect<<=8,this._collect|=Z;break;case 10:const j=this._escHandlers[this._collect<<8|Z];let J=j?j.length-1:-1;for(;J>=0&&($=j[J](),$!==!0);J--)if($ instanceof Promise)return this._preserveStack(4,j,J,w,g),$;J<0&&this._escHandlerFb(this._collect<<8|Z),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|Z,this._params);break;case 13:for(let H=g+1;;++H)if(H>=M||(Z=f[H])===24||Z===26||Z===27||Z>127&&Z<S){this._dcsParser.put(f,g,H),g=H-1;break}break;case 14:if($=this._dcsParser.unhook(Z!==24&&Z!==26),$)return this._preserveStack(6,[],0,w,g),$;Z===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let H=g+1;;H++)if(H>=M||(Z=f[H])<32||Z>127&&Z<S){this._oscParser.put(f,g,H),g=H-1;break}break;case 6:if($=this._oscParser.end(Z!==24&&Z!==26),$)return this._preserveStack(5,[],0,w,g),$;Z===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}}}y.EscapeSequenceParser=b},6242:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.OscHandler=y.OscParser=void 0;const r=u(5770),z=u(482),a=[];y.OscParser=class{constructor(){this._state=0,this._active=a,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(L,_){this._handlers[L]===void 0&&(this._handlers[L]=[]);const S=this._handlers[L];return S.push(_),{dispose:()=>{const b=S.indexOf(_);b!==-1&&S.splice(b,1)}}}clearHandler(L){this._handlers[L]&&delete this._handlers[L]}setHandlerFallback(L){this._handlerFb=L}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=a}reset(){if(this._state===2)for(let L=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;L>=0;--L)this._active[L].end(!1);this._stack.paused=!1,this._active=a,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||a,this._active.length)for(let L=this._active.length-1;L>=0;L--)this._active[L].start();else this._handlerFb(this._id,"START")}_put(L,_,S){if(this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].put(L,_,S);else this._handlerFb(this._id,"PUT",z.utf32ToString(L,_,S))}start(){this.reset(),this._state=1}put(L,_,S){if(this._state!==3){if(this._state===1)for(;_<S;){const b=L[_++];if(b===59){this._state=2,this._start();break}if(b<48||57<b)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+b-48}this._state===2&&S-_>0&&this._put(L,_,S)}}end(L,_=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,b=this._active.length-1,f=!1;if(this._stack.paused&&(b=this._stack.loopPosition-1,S=_,f=this._stack.fallThrough,this._stack.paused=!1),!f&&S===!1){for(;b>=0&&(S=this._active[b].end(L),S!==!0);b--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!1,S;b--}for(;b>=0;b--)if(S=this._active[b].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",L);this._active=a,this._id=-1,this._state=0}}},y.OscHandler=class{constructor(L){this._handler=L,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(L,_,S){this._hitLimit||(this._data+=z.utf32ToString(L,_,S),this._data.length>r.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(L){let _=!1;if(this._hitLimit)_=!1;else if(L&&(_=this._handler(this._data),_ instanceof Promise))return _.then((S)=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,_}}},8742:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.Params=void 0;const u=2147483647;class r{static fromArray(z){const a=new r;if(!z.length)return a;for(let L=Array.isArray(z[0])?1:0;L<z.length;++L){const _=z[L];if(Array.isArray(_))for(let S=0;S<_.length;++S)a.addSubParam(_[S]);else a.addParam(_)}return a}constructor(z=32,a=32){if(this.maxLength=z,this.maxSubParamsLength=a,a>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(z),this.length=0,this._subParams=new Int32Array(a),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(z),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const z=new r(this.maxLength,this.maxSubParamsLength);return z.params.set(this.params),z.length=this.length,z._subParams.set(this._subParams),z._subParamsLength=this._subParamsLength,z._subParamsIdx.set(this._subParamsIdx),z._rejectDigits=this._rejectDigits,z._rejectSubDigits=this._rejectSubDigits,z._digitIsSub=this._digitIsSub,z}toArray(){const z=[];for(let a=0;a<this.length;++a){z.push(this.params[a]);const L=this._subParamsIdx[a]>>8,_=255&this._subParamsIdx[a];_-L>0&&z.push(Array.prototype.slice.call(this._subParams,L,_))}return z}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(z){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(z<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=z>u?u:z}}addSubParam(z){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(z<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=z>u?u:z,this._subParamsIdx[this.length-1]++}}hasSubParams(z){return(255&this._subParamsIdx[z])-(this._subParamsIdx[z]>>8)>0}getSubParams(z){const a=this._subParamsIdx[z]>>8,L=255&this._subParamsIdx[z];return L-a>0?this._subParams.subarray(a,L):null}getSubParamsAll(){const z={};for(let a=0;a<this.length;++a){const L=this._subParamsIdx[a]>>8,_=255&this._subParamsIdx[a];_-L>0&&(z[a]=this._subParams.slice(L,_))}return z}addDigit(z){let a;if(this._rejectDigits||!(a=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const L=this._digitIsSub?this._subParams:this.params,_=L[a-1];L[a-1]=~_?Math.min(10*_+z,u):z}}y.Params=r},5741:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.AddonManager=void 0,y.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,r){const z={instance:r,dispose:r.dispose,isDisposed:!1};this._addons.push(z),r.dispose=()=>this._wrappedAddonDispose(z),r.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let r=-1;for(let z=0;z<this._addons.length;z++)if(this._addons[z]===u){r=z;break}if(r===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(r,1)}}},8771:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.BufferApiView=void 0;const r=u(3785),z=u(511);y.BufferApiView=class{constructor(a,L){this._buffer=a,this.type=L}init(a){return this._buffer=a,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(a){const L=this._buffer.lines.get(a);if(L)return new r.BufferLineApiView(L)}getNullCell(){return new z.CellData}}},3785:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.BufferLineApiView=void 0;const r=u(511);y.BufferLineApiView=class{constructor(z){this._line=z}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(z,a){if(!(z<0||z>=this._line.length))return a?(this._line.loadCell(z,a),a):this._line.loadCell(z,new r.CellData)}translateToString(z,a,L){return this._line.translateToString(z,a,L)}}},8285:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.BufferNamespaceApi=void 0;const r=u(8771),z=u(8460),a=u(844);class L extends a.Disposable{constructor(_){super(),this._core=_,this._onBufferChange=this.register(new z.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new r.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new r.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}y.BufferNamespaceApi=L},7975:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.ParserApi=void 0,y.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,r){return this._core.registerCsiHandler(u,(z)=>r(z.toArray()))}addCsiHandler(u,r){return this.registerCsiHandler(u,r)}registerDcsHandler(u,r){return this._core.registerDcsHandler(u,(z,a)=>r(z,a.toArray()))}addDcsHandler(u,r){return this.registerDcsHandler(u,r)}registerEscHandler(u,r){return this._core.registerEscHandler(u,r)}addEscHandler(u,r){return this.registerEscHandler(u,r)}registerOscHandler(u,r){return this._core.registerOscHandler(u,r)}addOscHandler(u,r){return this.registerOscHandler(u,r)}}},7090:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.UnicodeApi=void 0,y.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(V,y,u){var r=this&&this.__decorate||function(f,M,T,$){var Z,w=arguments.length,s=w<3?M:$===null?$=Object.getOwnPropertyDescriptor(M,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(f,M,T,$);else for(var g=f.length-1;g>=0;g--)(Z=f[g])&&(s=(w<3?Z(s):w>3?Z(M,T,s):Z(M,T))||s);return w>3&&s&&Object.defineProperty(M,T,s),s},z=this&&this.__param||function(f,M){return function(T,$){M(T,$,f)}};Object.defineProperty(y,"__esModule",{value:!0}),y.BufferService=y.MINIMUM_ROWS=y.MINIMUM_COLS=void 0;const a=u(8460),L=u(844),_=u(5295),S=u(2585);y.MINIMUM_COLS=2,y.MINIMUM_ROWS=1;let b=y.BufferService=class extends L.Disposable{get buffer(){return this.buffers.active}constructor(f){super(),this.isUserScrolling=!1,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(f.rawOptions.cols||0,y.MINIMUM_COLS),this.rows=Math.max(f.rawOptions.rows||0,y.MINIMUM_ROWS),this.buffers=this.register(new _.BufferSet(f,this))}resize(f,M){this.cols=f,this.rows=M,this.buffers.resize(f,M),this._onResize.fire({cols:f,rows:M})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(f,M=!1){const T=this.buffer;let $;$=this._cachedBlankLine,$&&$.length===this.cols&&$.getFg(0)===f.fg&&$.getBg(0)===f.bg||($=T.getBlankLine(f,M),this._cachedBlankLine=$),$.isWrapped=M;const Z=T.ybase+T.scrollTop,w=T.ybase+T.scrollBottom;if(T.scrollTop===0){const s=T.lines.isFull;w===T.lines.length-1?s?T.lines.recycle().copyFrom($):T.lines.push($.clone()):T.lines.splice(w+1,0,$.clone()),s?this.isUserScrolling&&(T.ydisp=Math.max(T.ydisp-1,0)):(T.ybase++,this.isUserScrolling||T.ydisp++)}else{const s=w-Z+1;T.lines.shiftElements(Z+1,s-1,-1),T.lines.set(w,$.clone())}this.isUserScrolling||(T.ydisp=T.ybase),this._onScroll.fire(T.ydisp)}scrollLines(f,M,T){const $=this.buffer;if(f<0){if($.ydisp===0)return;this.isUserScrolling=!0}else f+$.ydisp>=$.ybase&&(this.isUserScrolling=!1);const Z=$.ydisp;$.ydisp=Math.max(Math.min($.ydisp+f,$.ybase),0),Z!==$.ydisp&&(M||this._onScroll.fire($.ydisp))}};y.BufferService=b=r([z(0,S.IOptionsService)],b)},7994:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.CharsetService=void 0,y.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,r){this._charsets[u]=r,this.glevel===u&&(this.charset=r)}}},1753:function(V,y,u){var r=this&&this.__decorate||function($,Z,w,s){var g,R=arguments.length,U=R<3?Z:s===null?s=Object.getOwnPropertyDescriptor(Z,w):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate($,Z,w,s);else for(var j=$.length-1;j>=0;j--)(g=$[j])&&(U=(R<3?g(U):R>3?g(Z,w,U):g(Z,w))||U);return R>3&&U&&Object.defineProperty(Z,w,U),U},z=this&&this.__param||function($,Z){return function(w,s){Z(w,s,$)}};Object.defineProperty(y,"__esModule",{value:!0}),y.CoreMouseService=void 0;const a=u(2585),L=u(8460),_=u(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:($)=>$.button!==4&&$.action===1&&($.ctrl=!1,$.alt=!1,$.shift=!1,!0)},VT200:{events:19,restrict:($)=>$.action!==32},DRAG:{events:23,restrict:($)=>$.action!==32||$.button!==3},ANY:{events:31,restrict:($)=>!0}};function b($,Z){let w=($.ctrl?16:0)|($.shift?4:0)|($.alt?8:0);return $.button===4?(w|=64,w|=$.action):(w|=3&$.button,4&$.button&&(w|=64),8&$.button&&(w|=128),$.action===32?w|=32:$.action!==0||Z||(w|=3)),w}const f=String.fromCharCode,M={DEFAULT:($)=>{const Z=[b($,!1)+32,$.col+32,$.row+32];return Z[0]>255||Z[1]>255||Z[2]>255?"":`[M${f(Z[0])}${f(Z[1])}${f(Z[2])}`},SGR:($)=>{const Z=$.action===0&&$.button!==4?"m":"M";return`[<${b($,!0)};${$.col};${$.row}${Z}`},SGR_PIXELS:($)=>{const Z=$.action===0&&$.button!==4?"m":"M";return`[<${b($,!0)};${$.x};${$.y}${Z}`}};let T=y.CoreMouseService=class extends _.Disposable{constructor($,Z){super(),this._bufferService=$,this._coreService=Z,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new L.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(let w of Object.keys(S))this.addProtocol(w,S[w]);for(let w of Object.keys(M))this.addEncoding(w,M[w]);this.reset()}addProtocol($,Z){this._protocols[$]=Z}addEncoding($,Z){this._encodings[$]=Z}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol($){if(!this._protocols[$])throw new Error(`unknown protocol "${$}"`);this._activeProtocol=$,this._onProtocolChange.fire(this._protocols[$].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding($){if(!this._encodings[$])throw new Error(`unknown encoding "${$}"`);this._activeEncoding=$}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent($){if($.col<0||$.col>=this._bufferService.cols||$.row<0||$.row>=this._bufferService.rows)return!1;if($.button===4&&$.action===32)return!1;if($.button===3&&$.action!==32)return!1;if($.button!==4&&($.action===2||$.action===3))return!1;if($.col++,$.row++,$.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,$,this._activeEncoding==="SGR_PIXELS"))return!1;if(!this._protocols[this._activeProtocol].restrict($))return!1;const Z=this._encodings[this._activeEncoding]($);return Z&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(Z):this._coreService.triggerDataEvent(Z,!0)),this._lastEvent=$,!0}explainEvents($){return{down:!!(1&$),up:!!(2&$),drag:!!(4&$),move:!!(8&$),wheel:!!(16&$)}}_equalEvents($,Z,w){if(w){if($.x!==Z.x)return!1;if($.y!==Z.y)return!1}else{if($.col!==Z.col)return!1;if($.row!==Z.row)return!1}return $.button===Z.button&&$.action===Z.action&&$.ctrl===Z.ctrl&&$.alt===Z.alt&&$.shift===Z.shift}};y.CoreMouseService=T=r([z(0,a.IBufferService),z(1,a.ICoreService)],T)},6975:function(V,y,u){var r=this&&this.__decorate||function(T,$,Z,w){var s,g=arguments.length,R=g<3?$:w===null?w=Object.getOwnPropertyDescriptor($,Z):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(T,$,Z,w);else for(var U=T.length-1;U>=0;U--)(s=T[U])&&(R=(g<3?s(R):g>3?s($,Z,R):s($,Z))||R);return g>3&&R&&Object.defineProperty($,Z,R),R},z=this&&this.__param||function(T,$){return function(Z,w){$(Z,w,T)}};Object.defineProperty(y,"__esModule",{value:!0}),y.CoreService=void 0;const a=u(1439),L=u(8460),_=u(844),S=u(2585),b=Object.freeze({insertMode:!1}),f=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let M=y.CoreService=class extends _.Disposable{constructor(T,$,Z){super(),this._bufferService=T,this._logService=$,this._optionsService=Z,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new L.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new L.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new L.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new L.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=a.clone(b),this.decPrivateModes=a.clone(f)}reset(){this.modes=a.clone(b),this.decPrivateModes=a.clone(f)}triggerDataEvent(T,$=!1){if(this._optionsService.rawOptions.disableStdin)return;const Z=this._bufferService.buffer;$&&this._optionsService.rawOptions.scrollOnUserInput&&Z.ybase!==Z.ydisp&&this._onRequestScrollToBottom.fire(),$&&this._onUserInput.fire(),this._logService.debug(`sending data "${T}"`,()=>T.split("").map((w)=>w.charCodeAt(0))),this._onData.fire(T)}triggerBinaryEvent(T){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${T}"`,()=>T.split("").map(($)=>$.charCodeAt(0))),this._onBinary.fire(T))}};y.CoreService=M=r([z(0,S.IBufferService),z(1,S.ILogService),z(2,S.IOptionsService)],M)},9074:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.DecorationService=void 0;const r=u(8055),z=u(8460),a=u(844),L=u(6106);let _=0,S=0;class b extends a.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new L.SortedList((M)=>M==null?void 0:M.marker.line),this._onDecorationRegistered=this.register(new z.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new z.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register(a.toDisposable(()=>this.reset()))}registerDecoration(M){if(M.marker.isDisposed)return;const T=new f(M);if(T){const $=T.marker.onDispose(()=>T.dispose());T.onDispose(()=>{T&&(this._decorations.delete(T)&&this._onDecorationRemoved.fire(T),$.dispose())}),this._decorations.insert(T),this._onDecorationRegistered.fire(T)}return T}reset(){for(let M of this._decorations.values())M.dispose();this._decorations.clear()}*getDecorationsAtCell(M,T,$){var Z,w,s;let g=0,R=0;for(let U of this._decorations.getKeyIterator(T))g=(Z=U.options.x)!==null&&Z!==void 0?Z:0,R=g+((w=U.options.width)!==null&&w!==void 0?w:1),M>=g&&M<R&&(!$||((s=U.options.layer)!==null&&s!==void 0?s:"bottom")===$)&&(yield U)}forEachDecorationAtCell(M,T,$,Z){this._decorations.forEachByKey(T,(w)=>{var s,g,R;_=(s=w.options.x)!==null&&s!==void 0?s:0,S=_+((g=w.options.width)!==null&&g!==void 0?g:1),M>=_&&M<S&&(!$||((R=w.options.layer)!==null&&R!==void 0?R:"bottom")===$)&&Z(w)})}}y.DecorationService=b;class f extends a.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=r.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=r.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(M){super(),this.options=M,this.onRenderEmitter=this.register(new z.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new z.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=M.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.InstantiationService=y.ServiceCollection=void 0;const r=u(2585),z=u(8343);class a{constructor(...L){this._entries=new Map;for(let[_,S]of L)this.set(_,S)}set(L,_){const S=this._entries.get(L);return this._entries.set(L,_),S}forEach(L){for(let[_,S]of this._entries.entries())L(_,S)}has(L){return this._entries.has(L)}get(L){return this._entries.get(L)}}y.ServiceCollection=a,y.InstantiationService=class{constructor(){this._services=new a,this._services.set(r.IInstantiationService,this)}setService(L,_){this._services.set(L,_)}getService(L){return this._services.get(L)}createInstance(L,..._){const S=z.getServiceDependencies(L).sort((M,T)=>M.index-T.index),b=[];for(let M of S){const T=this._services.get(M.id);if(!T)throw new Error(`[createInstance] ${L.name} depends on UNKNOWN service ${M.id}.`);b.push(T)}const f=S.length>0?S[0].index:_.length;if(_.length!==f)throw new Error(`[createInstance] First service dependency of ${L.name} at position ${f+1} conflicts with ${_.length} static arguments`);return new L(...[..._,...b])}}},7866:function(V,y,u){var r=this&&this.__decorate||function(f,M,T,$){var Z,w=arguments.length,s=w<3?M:$===null?$=Object.getOwnPropertyDescriptor(M,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(f,M,T,$);else for(var g=f.length-1;g>=0;g--)(Z=f[g])&&(s=(w<3?Z(s):w>3?Z(M,T,s):Z(M,T))||s);return w>3&&s&&Object.defineProperty(M,T,s),s},z=this&&this.__param||function(f,M){return function(T,$){M(T,$,f)}};Object.defineProperty(y,"__esModule",{value:!0}),y.traceCall=y.setTraceLogger=y.LogService=void 0;const a=u(844),L=u(2585),_={trace:L.LogLevelEnum.TRACE,debug:L.LogLevelEnum.DEBUG,info:L.LogLevelEnum.INFO,warn:L.LogLevelEnum.WARN,error:L.LogLevelEnum.ERROR,off:L.LogLevelEnum.OFF};let S,b=y.LogService=class extends a.Disposable{get logLevel(){return this._logLevel}constructor(f){super(),this._optionsService=f,this._logLevel=L.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=_[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(f){for(let M=0;M<f.length;M++)typeof f[M]=="function"&&(f[M]=f[M]())}_log(f,M,T){this._evalLazyOptionalParams(T),f.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+M,...T)}trace(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.TRACE&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.trace.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.log,f,M)}debug(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.DEBUG&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.debug.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.log,f,M)}info(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.INFO&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.info.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.info,f,M)}warn(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.WARN&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.warn.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.warn,f,M)}error(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.ERROR&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.error.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.error,f,M)}};y.LogService=b=r([z(0,L.IOptionsService)],b),y.setTraceLogger=function(f){S=f},y.traceCall=function(f,M,T){if(typeof T.value!="function")throw new Error("not supported");const $=T.value;T.value=function(...Z){if(S.logLevel!==L.LogLevelEnum.TRACE)return $.apply(this,Z);S.trace(`GlyphRenderer#${$.name}(${Z.map((s)=>JSON.stringify(s)).join(", ")})`);const w=$.apply(this,Z);return S.trace(`GlyphRenderer#${$.name} return`,w),w}}},7302:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.OptionsService=y.DEFAULT_OPTIONS=void 0;const r=u(8460),z=u(844),a=u(6114);y.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1000,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:a.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const L=["normal","bold","100","200","300","400","500","600","700","800","900"];class _ extends z.Disposable{constructor(S){super(),this._onOptionChange=this.register(new r.EventEmitter),this.onOptionChange=this._onOptionChange.event;const b=Object.assign({},y.DEFAULT_OPTIONS);for(let f in S)if(f in b)try{const M=S[f];b[f]=this._sanitizeAndValidateOption(f,M)}catch(M){console.error(M)}this.rawOptions=b,this.options=Object.assign({},b),this._setupOptions()}onSpecificOptionChange(S,b){return this.onOptionChange((f)=>{f===S&&b(this.rawOptions[S])})}onMultipleOptionChange(S,b){return this.onOptionChange((f)=>{S.indexOf(f)!==-1&&b()})}_setupOptions(){const S=(f)=>{if(!(f in y.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},b=(f,M)=>{if(!(f in y.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);M=this._sanitizeAndValidateOption(f,M),this.rawOptions[f]!==M&&(this.rawOptions[f]=M,this._onOptionChange.fire(f))};for(let f in this.rawOptions){const M={get:S.bind(this,f),set:b.bind(this,f)};Object.defineProperty(this.options,f,M)}}_sanitizeAndValidateOption(S,b){switch(S){case"cursorStyle":if(b||(b=y.DEFAULT_OPTIONS[S]),!function(f){return f==="block"||f==="underline"||f==="bar"}(b))throw new Error(`"${b}" is not a valid value for ${S}`);break;case"wordSeparator":b||(b=y.DEFAULT_OPTIONS[S]);break;case"fontWeight":case"fontWeightBold":if(typeof b=="number"&&1<=b&&b<=1000)break;b=L.includes(b)?b:y.DEFAULT_OPTIONS[S];break;case"cursorWidth":b=Math.floor(b);case"lineHeight":case"tabStopWidth":if(b<1)throw new Error(`${S} cannot be less than 1, value: ${b}`);break;case"minimumContrastRatio":b=Math.max(1,Math.min(21,Math.round(10*b)/10));break;case"scrollback":if((b=Math.min(b,4294967295))<0)throw new Error(`${S} cannot be less than 0, value: ${b}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(b<=0)throw new Error(`${S} cannot be less than or equal to 0, value: ${b}`);break;case"rows":case"cols":if(!b&&b!==0)throw new Error(`${S} must be numeric, value: ${b}`);break;case"windowsPty":b=b!=null?b:{}}return b}}y.OptionsService=_},2660:function(V,y,u){var r=this&&this.__decorate||function(_,S,b,f){var M,T=arguments.length,$=T<3?S:f===null?f=Object.getOwnPropertyDescriptor(S,b):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(_,S,b,f);else for(var Z=_.length-1;Z>=0;Z--)(M=_[Z])&&($=(T<3?M($):T>3?M(S,b,$):M(S,b))||$);return T>3&&$&&Object.defineProperty(S,b,$),$},z=this&&this.__param||function(_,S){return function(b,f){S(b,f,_)}};Object.defineProperty(y,"__esModule",{value:!0}),y.OscLinkService=void 0;const a=u(2585);let L=y.OscLinkService=class{constructor(_){this._bufferService=_,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(_){const S=this._bufferService.buffer;if(_.id===void 0){const Z=S.addMarker(S.ybase+S.y),w={data:_,id:this._nextId++,lines:[Z]};return Z.onDispose(()=>this._removeMarkerFromLink(w,Z)),this._dataByLinkId.set(w.id,w),w.id}const b=_,f=this._getEntryIdKey(b),M=this._entriesWithId.get(f);if(M)return this.addLineToLink(M.id,S.ybase+S.y),M.id;const T=S.addMarker(S.ybase+S.y),$={id:this._nextId++,key:this._getEntryIdKey(b),data:b,lines:[T]};return T.onDispose(()=>this._removeMarkerFromLink($,T)),this._entriesWithId.set($.key,$),this._dataByLinkId.set($.id,$),$.id}addLineToLink(_,S){const b=this._dataByLinkId.get(_);if(b&&b.lines.every((f)=>f.line!==S)){const f=this._bufferService.buffer.addMarker(S);b.lines.push(f),f.onDispose(()=>this._removeMarkerFromLink(b,f))}}getLinkData(_){var S;return(S=this._dataByLinkId.get(_))===null||S===void 0?void 0:S.data}_getEntryIdKey(_){return`${_.id};;${_.uri}`}_removeMarkerFromLink(_,S){const b=_.lines.indexOf(S);b!==-1&&(_.lines.splice(b,1),_.lines.length===0&&(_.data.id!==void 0&&this._entriesWithId.delete(_.key),this._dataByLinkId.delete(_.id)))}};y.OscLinkService=L=r([z(0,a.IBufferService)],L)},8343:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.createDecorator=y.getServiceDependencies=y.serviceRegistry=void 0;const u="di$target",r="di$dependencies";y.serviceRegistry=new Map,y.getServiceDependencies=function(z){return z[r]||[]},y.createDecorator=function(z){if(y.serviceRegistry.has(z))return y.serviceRegistry.get(z);const a=function(L,_,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(b,f,M){f[u]===f?f[r].push({id:b,index:M}):(f[r]=[{id:b,index:M}],f[u]=f)})(a,L,S)};return a.toString=()=>z,y.serviceRegistry.set(z,a),a}},2585:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.IDecorationService=y.IUnicodeService=y.IOscLinkService=y.IOptionsService=y.ILogService=y.LogLevelEnum=y.IInstantiationService=y.ICharsetService=y.ICoreService=y.ICoreMouseService=y.IBufferService=void 0;const r=u(8343);var z;y.IBufferService=r.createDecorator("BufferService"),y.ICoreMouseService=r.createDecorator("CoreMouseService"),y.ICoreService=r.createDecorator("CoreService"),y.ICharsetService=r.createDecorator("CharsetService"),y.IInstantiationService=r.createDecorator("InstantiationService"),function(a){a[a.TRACE=0]="TRACE",a[a.DEBUG=1]="DEBUG",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.OFF=5]="OFF"}(z||(y.LogLevelEnum=z={})),y.ILogService=r.createDecorator("LogService"),y.IOptionsService=r.createDecorator("OptionsService"),y.IOscLinkService=r.createDecorator("OscLinkService"),y.IUnicodeService=r.createDecorator("UnicodeService"),y.IDecorationService=r.createDecorator("DecorationService")},1480:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.UnicodeService=void 0;const r=u(8460),z=u(225);y.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new r.EventEmitter,this.onChange=this._onChange.event;const a=new z.UnicodeV6;this.register(a),this._active=a.version,this._activeProvider=a}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(a){if(!this._providers[a])throw new Error(`unknown Unicode version "${a}"`);this._active=a,this._activeProvider=this._providers[a],this._onChange.fire(a)}register(a){this._providers[a.version]=a}wcwidth(a){return this._activeProvider.wcwidth(a)}getStringCellWidth(a){let L=0;const _=a.length;for(let S=0;S<_;++S){let b=a.charCodeAt(S);if(55296<=b&&b<=56319){if(++S>=_)return L+this.wcwidth(b);const f=a.charCodeAt(S);56320<=f&&f<=57343?b=1024*(b-55296)+f-56320+65536:L+=this.wcwidth(f)}L+=this.wcwidth(b)}return L}}}},W={};function q(V){var y=W[V];if(y!==void 0)return y.exports;var u=W[V]={exports:{}};return x[V].call(u.exports,u,u.exports,q),u.exports}var O={};return(()=>{var V=O;Object.defineProperty(V,"__esModule",{value:!0}),V.Terminal=void 0;const y=q(9042),u=q(3236),r=q(844),z=q(5741),a=q(8285),L=q(7975),_=q(7090),S=["cols","rows"];class b extends r.Disposable{constructor(f){super(),this._core=this.register(new u.Terminal(f)),this._addonManager=this.register(new z.AddonManager),this._publicOptions=Object.assign({},this._core.options);const M=($)=>this._core.options[$],T=($,Z)=>{this._checkReadonlyOptions($),this._core.options[$]=Z};for(let $ in this._core.options){const Z={get:M.bind(this,$),set:T.bind(this,$)};Object.defineProperty(this._publicOptions,$,Z)}}_checkReadonlyOptions(f){if(S.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new L.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new _.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new a.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let M="none";switch(this._core.coreMouseService.activeProtocol){case"X10":M="x10";break;case"VT200":M="vt200";break;case"DRAG":M="drag";break;case"ANY":M="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:M,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(let M in f)this._publicOptions[M]=f[M]}blur(){this._core.blur()}focus(){this._core.focus()}resize(f,M){this._verifyIntegers(f,M),this._core.resize(f,M)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){var M,T,$;return this._checkProposedApi(),this._verifyPositiveIntegers((M=f.x)!==null&&M!==void 0?M:0,(T=f.width)!==null&&T!==void 0?T:0,($=f.height)!==null&&$!==void 0?$:0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,M,T){this._verifyIntegers(f,M,T),this._core.select(f,M,T)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,M){this._verifyIntegers(f,M),this._core.selectLines(f,M)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,M){this._core.write(f,M)}writeln(f,M){this._core.write(f),this._core.write("\r\n",M)}paste(f){this._core.paste(f)}refresh(f,M){this._verifyIntegers(f,M),this._core.refresh(f,M)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return y}_verifyIntegers(...f){for(let M of f)if(M===1/0||isNaN(M)||M%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(let M of f)if(M&&(M===1/0||isNaN(M)||M%1!=0||M<0))throw new Error("This API only accepts positive integers")}}V.Terminal=b})(),O})())});var J4=$0(($6,R0)=>{(function(x,W){typeof $6=="object"&&typeof R0=="object"?R0.exports=W():typeof define=="function"&&define.amd?define([],W):typeof $6=="object"?$6.WebglAddon=W():x.WebglAddon=W()})(self,()=>(()=>{var x={965:function(V,y,u){var r=this&&this.__decorate||function(g,R,U,j){var J,H=arguments.length,D=H<3?R:j===null?j=Object.getOwnPropertyDescriptor(R,U):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(g,R,U,j);else for(var l=g.length-1;l>=0;l--)(J=g[l])&&(D=(H<3?J(D):H>3?J(R,U,D):J(R,U))||D);return H>3&&D&&Object.defineProperty(R,U,D),D};Object.defineProperty(y,"__esModule",{value:!0}),y.GlyphRenderer=void 0;const z=u(374),a=u(509),L=u(855),_=u(859),S=u(776),b=u(381),f=11,M=f*Float32Array.BYTES_PER_ELEMENT;let T,$=0,Z=0,w=0;class s extends _.Disposable{constructor(g,R,U){super(),this._terminal=g,this._gl=R,this._dimensions=U,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};const j=this._gl;a.TextureAtlas.maxAtlasPages===void 0&&(a.TextureAtlas.maxAtlasPages=Math.min(32,z.throwIfFalsy(j.getParameter(j.MAX_TEXTURE_IMAGE_UNITS))),a.TextureAtlas.maxTextureSize=z.throwIfFalsy(j.getParameter(j.MAX_TEXTURE_SIZE))),this._program=z.throwIfFalsy(b.createProgram(j,"#version 300 es\nlayout (location = 0) in vec2 a_unitquad;\nlayout (location = 1) in vec2 a_cellpos;\nlayout (location = 2) in vec2 a_offset;\nlayout (location = 3) in vec2 a_size;\nlayout (location = 4) in float a_texpage;\nlayout (location = 5) in vec2 a_texcoord;\nlayout (location = 6) in vec2 a_texsize;\n\nuniform mat4 u_projection;\nuniform vec2 u_resolution;\n\nout vec2 v_texcoord;\nflat out int v_texpage;\n\nvoid main() {\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_texpage = int(a_texpage);\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\n}",function(m){let n="";for(let c=1;c<m;c++)n+=` else if (v_texpage == ${c}) { outColor = texture(u_texture[${c}], v_texcoord); }`;return`#version 300 es\nprecision lowp float;\n\nin vec2 v_texcoord;\nflat in int v_texpage;\n\nuniform sampler2D u_texture[${m}];\n\nout vec4 outColor;\n\nvoid main() {\n  if (v_texpage == 0) {\n    outColor = texture(u_texture[0], v_texcoord);\n  } ${n}\n}`}(a.TextureAtlas.maxAtlasPages))),this.register(_.toDisposable(()=>j.deleteProgram(this._program))),this._projectionLocation=z.throwIfFalsy(j.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=z.throwIfFalsy(j.getUniformLocation(this._program,"u_resolution")),this._textureLocation=z.throwIfFalsy(j.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=j.createVertexArray(),j.bindVertexArray(this._vertexArrayObject);const J=new Float32Array([0,0,1,0,0,1,1,1]),H=j.createBuffer();this.register(_.toDisposable(()=>j.deleteBuffer(H))),j.bindBuffer(j.ARRAY_BUFFER,H),j.bufferData(j.ARRAY_BUFFER,J,j.STATIC_DRAW),j.enableVertexAttribArray(0),j.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);const D=new Uint8Array([0,1,2,3]),l=j.createBuffer();this.register(_.toDisposable(()=>j.deleteBuffer(l))),j.bindBuffer(j.ELEMENT_ARRAY_BUFFER,l),j.bufferData(j.ELEMENT_ARRAY_BUFFER,D,j.STATIC_DRAW),this._attributesBuffer=z.throwIfFalsy(j.createBuffer()),this.register(_.toDisposable(()=>j.deleteBuffer(this._attributesBuffer))),j.bindBuffer(j.ARRAY_BUFFER,this._attributesBuffer),j.enableVertexAttribArray(2),j.vertexAttribPointer(2,2,j.FLOAT,!1,M,0),j.vertexAttribDivisor(2,1),j.enableVertexAttribArray(3),j.vertexAttribPointer(3,2,j.FLOAT,!1,M,2*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(3,1),j.enableVertexAttribArray(4),j.vertexAttribPointer(4,1,j.FLOAT,!1,M,4*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(4,1),j.enableVertexAttribArray(5),j.vertexAttribPointer(5,2,j.FLOAT,!1,M,5*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(5,1),j.enableVertexAttribArray(6),j.vertexAttribPointer(6,2,j.FLOAT,!1,M,7*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(6,1),j.enableVertexAttribArray(1),j.vertexAttribPointer(1,2,j.FLOAT,!1,M,9*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(1,1),j.useProgram(this._program);const p=new Int32Array(a.TextureAtlas.maxAtlasPages);for(let m=0;m<a.TextureAtlas.maxAtlasPages;m++)p[m]=m;j.uniform1iv(this._textureLocation,p),j.uniformMatrix4fv(this._projectionLocation,!1,b.PROJECTION_MATRIX),this._atlasTextures=[];for(let m=0;m<a.TextureAtlas.maxAtlasPages;m++){const n=new b.GLTexture(z.throwIfFalsy(j.createTexture()));this.register(_.toDisposable(()=>j.deleteTexture(n.texture))),j.activeTexture(j.TEXTURE0+m),j.bindTexture(j.TEXTURE_2D,n.texture),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,j.CLAMP_TO_EDGE),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,j.CLAMP_TO_EDGE),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,1,1,0,j.RGBA,j.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[m]=n}j.enable(j.BLEND),j.blendFunc(j.SRC_ALPHA,j.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(g,R,U,j,J,H,D,l){this._updateCell(this._vertices.attributes,g,R,U,j,J,H,D,l)}_updateCell(g,R,U,j,J,H,D,l,p){$=(U*this._terminal.cols+R)*f,j!==L.NULL_CELL_CODE&&j!==void 0?this._atlas&&(T=l&&l.length>1?this._atlas.getRasterizedGlyphCombinedChar(l,J,H,D,!1):this._atlas.getRasterizedGlyph(j,J,H,D,!1),Z=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),J!==p&&T.offset.x>Z?(w=T.offset.x-Z,g[$]=-(T.offset.x-w)+this._dimensions.device.char.left,g[$+1]=-T.offset.y+this._dimensions.device.char.top,g[$+2]=(T.size.x-w)/this._dimensions.device.canvas.width,g[$+3]=T.size.y/this._dimensions.device.canvas.height,g[$+4]=T.texturePage,g[$+5]=T.texturePositionClipSpace.x+w/this._atlas.pages[T.texturePage].canvas.width,g[$+6]=T.texturePositionClipSpace.y,g[$+7]=T.sizeClipSpace.x-w/this._atlas.pages[T.texturePage].canvas.width,g[$+8]=T.sizeClipSpace.y):(g[$]=-T.offset.x+this._dimensions.device.char.left,g[$+1]=-T.offset.y+this._dimensions.device.char.top,g[$+2]=T.size.x/this._dimensions.device.canvas.width,g[$+3]=T.size.y/this._dimensions.device.canvas.height,g[$+4]=T.texturePage,g[$+5]=T.texturePositionClipSpace.x,g[$+6]=T.texturePositionClipSpace.y,g[$+7]=T.sizeClipSpace.x,g[$+8]=T.sizeClipSpace.y)):g.fill(0,$,$+f-1-2)}clear(){const g=this._terminal,R=g.cols*g.rows*f;this._vertices.count!==R?this._vertices.attributes=new Float32Array(R):this._vertices.attributes.fill(0);let U=0;for(;U<this._vertices.attributesBuffers.length;U++)this._vertices.count!==R?this._vertices.attributesBuffers[U]=new Float32Array(R):this._vertices.attributesBuffers[U].fill(0);this._vertices.count=R,U=0;for(let j=0;j<g.rows;j++)for(let J=0;J<g.cols;J++)this._vertices.attributes[U+9]=J/g.cols,this._vertices.attributes[U+10]=j/g.rows,U+=f}handleResize(){const g=this._gl;g.useProgram(this._program),g.viewport(0,0,g.canvas.width,g.canvas.height),g.uniform2f(this._resolutionLocation,g.canvas.width,g.canvas.height),this.clear()}render(g){if(!this._atlas)return;const R=this._gl;R.useProgram(this._program),R.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;const U=this._vertices.attributesBuffers[this._activeBuffer];let j=0;for(let J=0;J<g.lineLengths.length;J++){const H=J*this._terminal.cols*f,D=this._vertices.attributes.subarray(H,H+g.lineLengths[J]*f);U.set(D,j),j+=D.length}R.bindBuffer(R.ARRAY_BUFFER,this._attributesBuffer),R.bufferData(R.ARRAY_BUFFER,U.subarray(0,j),R.STREAM_DRAW);for(let J=0;J<this._atlas.pages.length;J++)this._atlas.pages[J].version!==this._atlasTextures[J].version&&this._bindAtlasPageTexture(R,this._atlas,J);R.drawElementsInstanced(R.TRIANGLE_STRIP,4,R.UNSIGNED_BYTE,0,j/f)}setAtlas(g){this._atlas=g;for(let R of this._atlasTextures)R.version=-1}_bindAtlasPageTexture(g,R,U){g.activeTexture(g.TEXTURE0+U),g.bindTexture(g.TEXTURE_2D,this._atlasTextures[U].texture),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,R.pages[U].canvas),g.generateMipmap(g.TEXTURE_2D),this._atlasTextures[U].version=R.pages[U].version}setDimensions(g){this._dimensions=g}}y.GlyphRenderer=s,r([S.traceCall],s.prototype,"updateCell",null)},742:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.RectangleRenderer=void 0;const r=u(374),z=u(859),a=u(310),L=u(381),_=8*Float32Array.BYTES_PER_ELEMENT;class S{constructor(){this.attributes=new Float32Array(160),this.count=0}}let b=0,f=0,M=0,T=0,$=0,Z=0,w=0;class s extends z.Disposable{constructor(g,R,U,j){super(),this._terminal=g,this._gl=R,this._dimensions=U,this._themeService=j,this._vertices=new S,this._verticesCursor=new S;const J=this._gl;this._program=r.throwIfFalsy(L.createProgram(J,"#version 300 es\nlayout (location = 0) in vec2 a_position;\nlayout (location = 1) in vec2 a_size;\nlayout (location = 2) in vec4 a_color;\nlayout (location = 3) in vec2 a_unitquad;\n\nuniform mat4 u_projection;\n\nout vec4 v_color;\n\nvoid main() {\n  vec2 zeroToOne = a_position + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_color = a_color;\n}","#version 300 es\nprecision lowp float;\n\nin vec4 v_color;\n\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_color;\n}")),this.register(z.toDisposable(()=>J.deleteProgram(this._program))),this._projectionLocation=r.throwIfFalsy(J.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=J.createVertexArray(),J.bindVertexArray(this._vertexArrayObject);const H=new Float32Array([0,0,1,0,0,1,1,1]),D=J.createBuffer();this.register(z.toDisposable(()=>J.deleteBuffer(D))),J.bindBuffer(J.ARRAY_BUFFER,D),J.bufferData(J.ARRAY_BUFFER,H,J.STATIC_DRAW),J.enableVertexAttribArray(3),J.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);const l=new Uint8Array([0,1,2,3]),p=J.createBuffer();this.register(z.toDisposable(()=>J.deleteBuffer(p))),J.bindBuffer(J.ELEMENT_ARRAY_BUFFER,p),J.bufferData(J.ELEMENT_ARRAY_BUFFER,l,J.STATIC_DRAW),this._attributesBuffer=r.throwIfFalsy(J.createBuffer()),this.register(z.toDisposable(()=>J.deleteBuffer(this._attributesBuffer))),J.bindBuffer(J.ARRAY_BUFFER,this._attributesBuffer),J.enableVertexAttribArray(0),J.vertexAttribPointer(0,2,J.FLOAT,!1,_,0),J.vertexAttribDivisor(0,1),J.enableVertexAttribArray(1),J.vertexAttribPointer(1,2,J.FLOAT,!1,_,2*Float32Array.BYTES_PER_ELEMENT),J.vertexAttribDivisor(1,1),J.enableVertexAttribArray(2),J.vertexAttribPointer(2,4,J.FLOAT,!1,_,4*Float32Array.BYTES_PER_ELEMENT),J.vertexAttribDivisor(2,1),this._updateCachedColors(j.colors),this.register(this._themeService.onChangeColors((m)=>{this._updateCachedColors(m),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(g){const R=this._gl;R.useProgram(this._program),R.bindVertexArray(this._vertexArrayObject),R.uniformMatrix4fv(this._projectionLocation,!1,L.PROJECTION_MATRIX),R.bindBuffer(R.ARRAY_BUFFER,this._attributesBuffer),R.bufferData(R.ARRAY_BUFFER,g.attributes,R.DYNAMIC_DRAW),R.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,R.UNSIGNED_BYTE,0,g.count)}handleResize(){this._updateViewportRectangle()}setDimensions(g){this._dimensions=g}_updateCachedColors(g){this._bgFloat=this._colorToFloat32Array(g.background),this._cursorFloat=this._colorToFloat32Array(g.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(g){const R=this._terminal,U=this._vertices;let j,J,H,D,l,p,m,n,c,v,N,d=1;for(j=0;j<R.rows;j++){for(H=-1,D=0,l=0,p=!1,J=0;J<R.cols;J++)m=(j*R.cols+J)*a.RENDER_MODEL_INDICIES_PER_CELL,n=g.cells[m+a.RENDER_MODEL_BG_OFFSET],c=g.cells[m+a.RENDER_MODEL_FG_OFFSET],v=!!(67108864&c),(n!==D||c!==l&&(p||v))&&((D!==0||p&&l!==0)&&(N=8*d++,this._updateRectangle(U,N,l,D,H,J,j)),H=J,D=n,l=c,p=v);(D!==0||p&&l!==0)&&(N=8*d++,this._updateRectangle(U,N,l,D,H,R.cols,j))}U.count=d}updateCursor(g){const R=this._verticesCursor,U=g.cursor;if(!U||U.style==="block")return void(R.count=0);let j,J=0;U.style!=="bar"&&U.style!=="outline"||(j=8*J++,this._addRectangleFloat(R.attributes,j,U.x*this._dimensions.device.cell.width,U.y*this._dimensions.device.cell.height,U.style==="bar"?U.dpr*U.cursorWidth:U.dpr,this._dimensions.device.cell.height,this._cursorFloat)),U.style!=="underline"&&U.style!=="outline"||(j=8*J++,this._addRectangleFloat(R.attributes,j,U.x*this._dimensions.device.cell.width,(U.y+1)*this._dimensions.device.cell.height-U.dpr,U.width*this._dimensions.device.cell.width,U.dpr,this._cursorFloat)),U.style==="outline"&&(j=8*J++,this._addRectangleFloat(R.attributes,j,U.x*this._dimensions.device.cell.width,U.y*this._dimensions.device.cell.height,U.width*this._dimensions.device.cell.width,U.dpr,this._cursorFloat),j=8*J++,this._addRectangleFloat(R.attributes,j,(U.x+U.width)*this._dimensions.device.cell.width-U.dpr,U.y*this._dimensions.device.cell.height,U.dpr,this._dimensions.device.cell.height,this._cursorFloat)),R.count=J}_updateRectangle(g,R,U,j,J,H,D){if(67108864&U)switch(50331648&U){case 16777216:case 33554432:b=this._themeService.colors.ansi[255&U].rgba;break;case 50331648:b=(16777215&U)<<8;break;default:b=this._themeService.colors.foreground.rgba}else switch(50331648&j){case 16777216:case 33554432:b=this._themeService.colors.ansi[255&j].rgba;break;case 50331648:b=(16777215&j)<<8;break;default:b=this._themeService.colors.background.rgba}g.attributes.length<R+4&&(g.attributes=L.expandFloat32Array(g.attributes,this._terminal.rows*this._terminal.cols*8)),f=J*this._dimensions.device.cell.width,M=D*this._dimensions.device.cell.height,T=(b>>24&255)/255,$=(b>>16&255)/255,Z=(b>>8&255)/255,w=1,this._addRectangle(g.attributes,R,f,M,(H-J)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,T,$,Z,w)}_addRectangle(g,R,U,j,J,H,D,l,p,m){g[R]=U/this._dimensions.device.canvas.width,g[R+1]=j/this._dimensions.device.canvas.height,g[R+2]=J/this._dimensions.device.canvas.width,g[R+3]=H/this._dimensions.device.canvas.height,g[R+4]=D,g[R+5]=l,g[R+6]=p,g[R+7]=m}_addRectangleFloat(g,R,U,j,J,H,D){g[R]=U/this._dimensions.device.canvas.width,g[R+1]=j/this._dimensions.device.canvas.height,g[R+2]=J/this._dimensions.device.canvas.width,g[R+3]=H/this._dimensions.device.canvas.height,g[R+4]=D[0],g[R+5]=D[1],g[R+6]=D[2],g[R+7]=D[3]}_colorToFloat32Array(g){return new Float32Array([(g.rgba>>24&255)/255,(g.rgba>>16&255)/255,(g.rgba>>8&255)/255,(255&g.rgba)/255])}}y.RectangleRenderer=s},310:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.RenderModel=y.COMBINED_CHAR_BIT_MASK=y.RENDER_MODEL_EXT_OFFSET=y.RENDER_MODEL_FG_OFFSET=y.RENDER_MODEL_BG_OFFSET=y.RENDER_MODEL_INDICIES_PER_CELL=void 0;const r=u(296);y.RENDER_MODEL_INDICIES_PER_CELL=4,y.RENDER_MODEL_BG_OFFSET=1,y.RENDER_MODEL_FG_OFFSET=2,y.RENDER_MODEL_EXT_OFFSET=3,y.COMBINED_CHAR_BIT_MASK=2147483648,y.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=r.createSelectionRenderModel()}resize(z,a){const L=z*a*y.RENDER_MODEL_INDICIES_PER_CELL;L!==this.cells.length&&(this.cells=new Uint32Array(L),this.lineLengths=new Uint32Array(a))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:function(V,y,u){var r=this&&this.__decorate||function(D,l,p,m){var n,c=arguments.length,v=c<3?l:m===null?m=Object.getOwnPropertyDescriptor(l,p):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(D,l,p,m);else for(var N=D.length-1;N>=0;N--)(n=D[N])&&(v=(c<3?n(v):c>3?n(l,p,v):n(l,p))||v);return c>3&&v&&Object.defineProperty(l,p,v),v};Object.defineProperty(y,"__esModule",{value:!0}),y.JoinedCellData=y.WebglRenderer=void 0;const z=u(820),a=u(274),L=u(627),_=u(457),S=u(56),b=u(374),f=u(345),M=u(859),T=u(147),$=u(782),Z=u(855),w=u(776),s=u(965),g=u(742),R=u(310),U=u(733);class j extends M.Disposable{constructor(D,l,p,m,n,c,v,N,d){super(),this._terminal=D,this._characterJoinerService=l,this._charSizeService=p,this._coreBrowserService=m,this._coreService=n,this._decorationService=c,this._optionsService=v,this._themeService=N,this._cursorBlinkStateManager=new M.MutableDisposable,this._charAtlasDisposable=this.register(new M.MutableDisposable),this._model=new R.RenderModel,this._workCell=new $.CellData,this._rectangleRenderer=this.register(new M.MutableDisposable),this._glyphRenderer=this.register(new M.MutableDisposable),this._onChangeTextureAtlas=this.register(new f.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new f.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new f.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new f.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new f.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new a.CellColorResolver(this._terminal,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new U.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier2,this._coreBrowserService,v,this._themeService)],this.dimensions=b.createRenderDimensions(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(v.onOptionChange(()=>this._handleOptionsChanged())),this._canvas=document.createElement("canvas");const o={antialias:!1,depth:!1,preserveDrawingBuffer:d};if(this._gl=this._canvas.getContext("webgl2",o),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register(z.addDisposableDomListener(this._canvas,"webglcontextlost",(h)=>{console.log("webglcontextlost event received"),h.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(h)},3000)})),this.register(z.addDisposableDomListener(this._canvas,"webglcontextrestored",(h)=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,L.removeTerminalFromCache(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this.register(S.observeDevicePixelDimensions(this._canvas,this._coreBrowserService.window,(h,P)=>this._setCanvasDevicePixelDimensions(h,P))),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register(M.toDisposable(()=>{var h;for(let P of this._renderLayers)P.dispose();(h=this._canvas.parentElement)===null||h===void 0||h.removeChild(this._canvas),L.removeTerminalFromCache(this._terminal)}))}get textureAtlas(){var D;return(D=this._charAtlas)===null||D===void 0?void 0:D.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(D,l){var p,m,n,c;this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(let v of this._renderLayers)v.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,(p=this._rectangleRenderer.value)===null||p===void 0||p.setDimensions(this.dimensions),(m=this._rectangleRenderer.value)===null||m===void 0||m.handleResize(),(n=this._glyphRenderer.value)===null||n===void 0||n.setDimensions(this.dimensions),(c=this._glyphRenderer.value)===null||c===void 0||c.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){var D;for(let l of this._renderLayers)l.handleBlur(this._terminal);(D=this._cursorBlinkStateManager.value)===null||D===void 0||D.pause(),this._requestRedrawViewport()}handleFocus(){var D;for(let l of this._renderLayers)l.handleFocus(this._terminal);(D=this._cursorBlinkStateManager.value)===null||D===void 0||D.resume(),this._requestRedrawViewport()}handleSelectionChanged(D,l,p){for(let m of this._renderLayers)m.handleSelectionChanged(this._terminal,D,l,p);this._model.selection.update(this._terminal,D,l,p),this._requestRedrawViewport()}handleCursorMove(){var D;for(let l of this._renderLayers)l.handleCursorMove(this._terminal);(D=this._cursorBlinkStateManager.value)===null||D===void 0||D.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new g.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new s.GlyphRenderer(this._terminal,this._gl,this.dimensions),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){var D;if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);const l=L.acquireTextureAtlas(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==l&&(this._onChangeTextureAtlas.fire(l.pages[0].canvas),this._charAtlasDisposable.value=M.getDisposeArrayDisposable([f.forwardEvent(l.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),f.forwardEvent(l.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=l,this._charAtlas.warmUp(),(D=this._glyphRenderer.value)===null||D===void 0||D.setAtlas(this._charAtlas)}_clearModel(D){var l;this._model.clear(),D&&((l=this._glyphRenderer.value)===null||l===void 0||l.clear())}clearTextureAtlas(){var D;(D=this._charAtlas)===null||D===void 0||D.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){var D;this._clearModel(!0);for(let l of this._renderLayers)l.reset(this._terminal);(D=this._cursorBlinkStateManager.value)===null||D===void 0||D.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(D){return-1}deregisterCharacterJoiner(D){return!1}renderRows(D,l){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(let p of this._renderLayers)p.handleGridChanged(this._terminal,D,l);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(D,l),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new _.CursorBlinkStateManager(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(D,l){const p=this._core;let m,n,c,v,N,d,o,h,P,X,k,I,Q,e=this._workCell;D=H(D,p.rows-1,0),l=H(l,p.rows-1,0);const B=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,E=Math.min(this._terminal.buffer.active.cursorX,p.cols-1);let A=-1;const r1=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let n1=!1;for(n=D;n<=l;n++)for(c=n+p.buffer.ydisp,v=p.buffer.lines.get(c),this._model.lineLengths[n]=0,N=this._characterJoinerService.getJoinedCharacters(c),I=0;I<p.cols;I++)if(m=this._cellColorResolver.result.bg,v.loadCell(I,e),I===0&&(m=this._cellColorResolver.result.bg),d=!1,o=I,N.length>0&&I===N[0][0]&&(d=!0,h=N.shift(),e=new J(e,v.translateToString(!0,h[0],h[1]),h[1]-h[0]),o=h[1]-1),P=e.getChars(),X=e.getCode(),k=(n*p.cols+I)*R.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(e,I,c),r1&&c===B&&(I===E&&(this._model.cursor={x:E,y:this._terminal.buffer.active.cursorY,width:e.getWidth(),style:this._coreBrowserService.isFocused?p.options.cursorStyle||"block":p.options.cursorInactiveStyle,cursorWidth:p.options.cursorWidth,dpr:this._devicePixelRatio},A=E+e.getWidth()-1),I>=E&&I<=A&&(this._coreBrowserService.isFocused&&(p.options.cursorStyle||"block")==="block"||this._coreBrowserService.isFocused===!1&&p.options.cursorInactiveStyle==="block")&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),X!==Z.NULL_CELL_CODE&&(this._model.lineLengths[n]=I+1),(this._model.cells[k]!==X||this._model.cells[k+R.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[k+R.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[k+R.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(n1=!0,P.length>1&&(X|=R.COMBINED_CHAR_BIT_MASK),this._model.cells[k]=X,this._model.cells[k+R.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[k+R.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[k+R.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,this._glyphRenderer.value.updateCell(I,n,X,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,P,m),d))for(e=this._workCell,I++;I<o;I++)Q=(n*p.cols+I)*R.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(I,n,Z.NULL_CELL_CODE,0,0,0,Z.NULL_CELL_CHAR,0),this._model.cells[Q]=Z.NULL_CELL_CODE,this._model.cells[Q+R.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[Q+R.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[Q+R.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;n1&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(D,l){this._canvas.width===D&&this._canvas.height===l||(this._canvas.width=D,this._canvas.height=l,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){const D=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:D,end:D})}}y.WebglRenderer=j,r([w.traceCall],j.prototype,"renderRows",null);class J extends T.AttributeData{constructor(D,l,p){super(),this.content=0,this.combinedData="",this.fg=D.fg,this.bg=D.bg,this.combinedData=l,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(D){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function H(D,l,p=0){return Math.max(Math.min(D,l),p)}y.JoinedCellData=J},381:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.GLTexture=y.expandFloat32Array=y.createShader=y.createProgram=y.PROJECTION_MATRIX=void 0;const r=u(374);function z(a,L,_){const S=r.throwIfFalsy(a.createShader(L));if(a.shaderSource(S,_),a.compileShader(S),a.getShaderParameter(S,a.COMPILE_STATUS))return S;console.error(a.getShaderInfoLog(S)),a.deleteShader(S)}y.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),y.createProgram=function(a,L,_){const S=r.throwIfFalsy(a.createProgram());if(a.attachShader(S,r.throwIfFalsy(z(a,a.VERTEX_SHADER,L))),a.attachShader(S,r.throwIfFalsy(z(a,a.FRAGMENT_SHADER,_))),a.linkProgram(S),a.getProgramParameter(S,a.LINK_STATUS))return S;console.error(a.getProgramInfoLog(S)),a.deleteProgram(S)},y.createShader=z,y.expandFloat32Array=function(a,L){const _=Math.min(2*a.length,L),S=new Float32Array(_);for(let b=0;b<a.length;b++)S[b]=a[b];return S},y.GLTexture=class{constructor(a){this.texture=a,this.version=-1}}},592:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.BaseRenderLayer=void 0;const r=u(627),z=u(237),a=u(374),L=u(859);class _ extends L.Disposable{constructor(S,b,f,M,T,$,Z,w){super(),this._container=b,this._alpha=T,this._coreBrowserService=$,this._optionsService=Z,this._themeService=w,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add(`xterm-${f}-layer`),this._canvas.style.zIndex=M.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors((s)=>{this._refreshCharAtlas(S,s),this.reset(S)})),this.register(L.toDisposable(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=a.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(S){}handleFocus(S){}handleCursorMove(S){}handleGridChanged(S,b,f){}handleSelectionChanged(S,b,f,M=!1){}_setTransparency(S,b){if(b===this._alpha)return;const f=this._canvas;this._alpha=b,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,f),this._refreshCharAtlas(S,this._themeService.colors),this.handleGridChanged(S,0,S.rows-1)}_refreshCharAtlas(S,b){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=r.acquireTextureAtlas(S,this._optionsService.rawOptions,b,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(S,b){this._deviceCellWidth=b.device.cell.width,this._deviceCellHeight=b.device.cell.height,this._deviceCharWidth=b.device.char.width,this._deviceCharHeight=b.device.char.height,this._deviceCharLeft=b.device.char.left,this._deviceCharTop=b.device.char.top,this._canvas.width=b.device.canvas.width,this._canvas.height=b.device.canvas.height,this._canvas.style.width=`${b.css.canvas.width}px`,this._canvas.style.height=`${b.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(S,this._themeService.colors)}_fillBottomLineAtCells(S,b,f=1){this._ctx.fillRect(S*this._deviceCellWidth,(b+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,f*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(S,b,f,M){this._alpha?this._ctx.clearRect(S*this._deviceCellWidth,b*this._deviceCellHeight,f*this._deviceCellWidth,M*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(S*this._deviceCellWidth,b*this._deviceCellHeight,f*this._deviceCellWidth,M*this._deviceCellHeight))}_fillCharTrueColor(S,b,f,M){this._ctx.font=this._getFont(S,!1,!1),this._ctx.textBaseline=z.TEXT_BASELINE,this._clipCell(f,M,b.getWidth()),this._ctx.fillText(b.getChars(),f*this._deviceCellWidth+this._deviceCharLeft,M*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(S,b,f){this._ctx.beginPath(),this._ctx.rect(S*this._deviceCellWidth,b*this._deviceCellHeight,f*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(S,b,f){return`${f?"italic":""} ${b?S.options.fontWeightBold:S.options.fontWeight} ${S.options.fontSize*this._coreBrowserService.dpr}px ${S.options.fontFamily}`}}y.BaseRenderLayer=_},733:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.LinkRenderLayer=void 0;const r=u(197),z=u(237),a=u(592);class L extends a.BaseRenderLayer{constructor(_,S,b,f,M,T,$){super(b,_,"link",S,!0,M,T,$),this.register(f.onShowLinkUnderline((Z)=>this._handleShowLinkUnderline(Z))),this.register(f.onHideLinkUnderline((Z)=>this._handleHideLinkUnderline(Z)))}resize(_,S){super.resize(_,S),this._state=void 0}reset(_){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const _=this._state.y2-this._state.y1-1;_>0&&this._clearCells(0,this._state.y1+1,this._state.cols,_),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(_){if(_.fg===z.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:_.fg!==void 0&&r.is256Color(_.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[_.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,_.y1===_.y2)this._fillBottomLineAtCells(_.x1,_.y1,_.x2-_.x1);else{this._fillBottomLineAtCells(_.x1,_.y1,_.cols-_.x1);for(let S=_.y1+1;S<_.y2;S++)this._fillBottomLineAtCells(0,S,_.cols);this._fillBottomLineAtCells(0,_.y2,_.x2)}this._state=_}_handleHideLinkUnderline(_){this._clearCurrentLink()}}y.LinkRenderLayer=L},820:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.addDisposableDomListener=void 0,y.addDisposableDomListener=function(u,r,z,a){u.addEventListener(r,z,a);let L=!1;return{dispose:()=>{L||(L=!0,u.removeEventListener(r,z,a))}}}},274:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.CellColorResolver=void 0;let u,r=0,z=0,a=!1,L=!1,_=!1;y.CellColorResolver=class{constructor(S,b,f,M,T){this._terminal=S,this._selectionRenderModel=b,this._decorationService=f,this._coreBrowserService=M,this._themeService=T,this.result={fg:0,bg:0,ext:0}}resolve(S,b,f){this.result.bg=S.bg,this.result.fg=S.fg,this.result.ext=268435456&S.bg?S.extended.ext:0,z=0,r=0,L=!1,a=!1,_=!1,u=this._themeService.colors,this._decorationService.forEachDecorationAtCell(b,f,"bottom",(M)=>{M.backgroundColorRGB&&(z=M.backgroundColorRGB.rgba>>8&16777215,L=!0),M.foregroundColorRGB&&(r=M.foregroundColorRGB.rgba>>8&16777215,a=!0)}),_=this._selectionRenderModel.isCellSelected(this._terminal,b,f),_&&(z=(this._coreBrowserService.isFocused?u.selectionBackgroundOpaque:u.selectionInactiveBackgroundOpaque).rgba>>8&16777215,L=!0,u.selectionForeground&&(r=u.selectionForeground.rgba>>8&16777215,a=!0)),this._decorationService.forEachDecorationAtCell(b,f,"top",(M)=>{M.backgroundColorRGB&&(z=M.backgroundColorRGB.rgba>>8&16777215,L=!0),M.foregroundColorRGB&&(r=M.foregroundColorRGB.rgba>>8&16777215,a=!0)}),L&&(z=_?-16777216&S.bg&-134217729|z|50331648:-16777216&S.bg|z|50331648),a&&(r=-16777216&S.fg&-67108865|r|50331648),67108864&this.result.fg&&(L&&!a&&(r=(50331648&this.result.bg)==0?-134217728&this.result.fg|16777215&u.background.rgba>>8|50331648:-134217728&this.result.fg|67108863&this.result.bg,a=!0),!L&&a&&(z=(50331648&this.result.fg)==0?-67108864&this.result.bg|16777215&u.foreground.rgba>>8|50331648:-67108864&this.result.bg|67108863&this.result.fg,L=!0)),u=void 0,this.result.bg=L?z:this.result.bg,this.result.fg=a?r:this.result.fg}}},627:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.removeTerminalFromCache=y.acquireTextureAtlas=void 0;const r=u(509),z=u(197),a=[];y.acquireTextureAtlas=function(L,_,S,b,f,M,T,$){const Z=z.generateConfig(b,f,M,T,_,S,$);for(let g=0;g<a.length;g++){const R=a[g],U=R.ownedBy.indexOf(L);if(U>=0){if(z.configEquals(R.config,Z))return R.atlas;R.ownedBy.length===1?(R.atlas.dispose(),a.splice(g,1)):R.ownedBy.splice(U,1);break}}for(let g=0;g<a.length;g++){const R=a[g];if(z.configEquals(R.config,Z))return R.ownedBy.push(L),R.atlas}const w=L._core,s={atlas:new r.TextureAtlas(document,Z,w.unicodeService),config:Z,ownedBy:[L]};return a.push(s),s.atlas},y.removeTerminalFromCache=function(L){for(let _=0;_<a.length;_++){const S=a[_].ownedBy.indexOf(L);if(S!==-1){a[_].ownedBy.length===1?(a[_].atlas.dispose(),a.splice(_,1)):a[_].ownedBy.splice(S,1);break}}}},197:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.is256Color=y.configEquals=y.generateConfig=void 0;const r=u(160);y.generateConfig=function(z,a,L,_,S,b,f){const M={foreground:b.foreground,background:b.background,cursor:r.NULL_COLOR,cursorAccent:r.NULL_COLOR,selectionForeground:r.NULL_COLOR,selectionBackgroundTransparent:r.NULL_COLOR,selectionBackgroundOpaque:r.NULL_COLOR,selectionInactiveBackgroundTransparent:r.NULL_COLOR,selectionInactiveBackgroundOpaque:r.NULL_COLOR,ansi:b.ansi.slice(),contrastCache:b.contrastCache,halfContrastCache:b.halfContrastCache};return{customGlyphs:S.customGlyphs,devicePixelRatio:f,letterSpacing:S.letterSpacing,lineHeight:S.lineHeight,deviceCellWidth:z,deviceCellHeight:a,deviceCharWidth:L,deviceCharHeight:_,fontFamily:S.fontFamily,fontSize:S.fontSize,fontWeight:S.fontWeight,fontWeightBold:S.fontWeightBold,allowTransparency:S.allowTransparency,drawBoldTextInBrightColors:S.drawBoldTextInBrightColors,minimumContrastRatio:S.minimumContrastRatio,colors:M}},y.configEquals=function(z,a){for(let L=0;L<z.colors.ansi.length;L++)if(z.colors.ansi[L].rgba!==a.colors.ansi[L].rgba)return!1;return z.devicePixelRatio===a.devicePixelRatio&&z.customGlyphs===a.customGlyphs&&z.lineHeight===a.lineHeight&&z.letterSpacing===a.letterSpacing&&z.fontFamily===a.fontFamily&&z.fontSize===a.fontSize&&z.fontWeight===a.fontWeight&&z.fontWeightBold===a.fontWeightBold&&z.allowTransparency===a.allowTransparency&&z.deviceCharWidth===a.deviceCharWidth&&z.deviceCharHeight===a.deviceCharHeight&&z.drawBoldTextInBrightColors===a.drawBoldTextInBrightColors&&z.minimumContrastRatio===a.minimumContrastRatio&&z.colors.foreground.rgba===a.colors.foreground.rgba&&z.colors.background.rgba===a.colors.background.rgba},y.is256Color=function(z){return(50331648&z)==16777216||(50331648&z)==33554432}},237:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.TEXT_BASELINE=y.DIM_OPACITY=y.INVERTED_DEFAULT_COLOR=void 0;const r=u(399);y.INVERTED_DEFAULT_COLOR=257,y.DIM_OPACITY=0.5,y.TEXT_BASELINE=r.isFirefox||r.isLegacyEdge?"bottom":"ideographic"},457:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.CursorBlinkStateManager=void 0,y.CursorBlinkStateManager=class{constructor(u,r){this._renderCallback=u,this._coreBrowserService=r,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(u=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){const r=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,r>0)return void this._restartInterval(r)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){const r=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(r)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},u)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.tryDrawCustomChar=y.powerlineDefinitions=y.boxDrawingDefinitions=y.blockElementDefinitions=void 0;const r=u(374);y.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:8,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\uD83E\uDF70":[{x:1,y:0,w:1,h:8}],"\uD83E\uDF71":[{x:2,y:0,w:1,h:8}],"\uD83E\uDF72":[{x:3,y:0,w:1,h:8}],"\uD83E\uDF73":[{x:4,y:0,w:1,h:8}],"\uD83E\uDF74":[{x:5,y:0,w:1,h:8}],"\uD83E\uDF75":[{x:6,y:0,w:1,h:8}],"\uD83E\uDF76":[{x:0,y:1,w:8,h:1}],"\uD83E\uDF77":[{x:0,y:2,w:8,h:1}],"\uD83E\uDF78":[{x:0,y:3,w:8,h:1}],"\uD83E\uDF79":[{x:0,y:4,w:8,h:1}],"\uD83E\uDF7A":[{x:0,y:5,w:8,h:1}],"\uD83E\uDF7B":[{x:0,y:6,w:8,h:1}],"\uD83E\uDF7C":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\uD83E\uDF7D":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\uD83E\uDF7E":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\uD83E\uDF7F":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\uD83E\uDF80":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\uD83E\uDF81":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\uD83E\uDF82":[{x:0,y:0,w:8,h:2}],"\uD83E\uDF83":[{x:0,y:0,w:8,h:3}],"\uD83E\uDF84":[{x:0,y:0,w:8,h:5}],"\uD83E\uDF85":[{x:0,y:0,w:8,h:6}],"\uD83E\uDF86":[{x:0,y:0,w:8,h:7}],"\uD83E\uDF87":[{x:6,y:0,w:2,h:8}],"\uD83E\uDF88":[{x:5,y:0,w:3,h:8}],"\uD83E\uDF89":[{x:3,y:0,w:5,h:8}],"\uD83E\uDF8A":[{x:2,y:0,w:6,h:8}],"\uD83E\uDF8B":[{x:1,y:0,w:7,h:8}],"\uD83E\uDF95":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\uD83E\uDF96":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\uD83E\uDF97":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const z={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};y.boxDrawingDefinitions={"\u2500":{1:"M0,.5 L1,.5"},"\u2501":{3:"M0,.5 L1,.5"},"\u2502":{1:"M.5,0 L.5,1"},"\u2503":{3:"M.5,0 L.5,1"},"\u250C":{1:"M0.5,1 L.5,.5 L1,.5"},"\u250F":{3:"M0.5,1 L.5,.5 L1,.5"},"\u2510":{1:"M0,.5 L.5,.5 L.5,1"},"\u2513":{3:"M0,.5 L.5,.5 L.5,1"},"\u2514":{1:"M.5,0 L.5,.5 L1,.5"},"\u2517":{3:"M.5,0 L.5,.5 L1,.5"},"\u2518":{1:"M.5,0 L.5,.5 L0,.5"},"\u251B":{3:"M.5,0 L.5,.5 L0,.5"},"\u251C":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u2523":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u2524":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u252B":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u252C":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2533":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2534":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"\u253B":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"\u253C":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"\u254B":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"\u2574":{1:"M.5,.5 L0,.5"},"\u2578":{3:"M.5,.5 L0,.5"},"\u2575":{1:"M.5,.5 L.5,0"},"\u2579":{3:"M.5,.5 L.5,0"},"\u2576":{1:"M.5,.5 L1,.5"},"\u257A":{3:"M.5,.5 L1,.5"},"\u2577":{1:"M.5,.5 L.5,1"},"\u257B":{3:"M.5,.5 L.5,1"},"\u2550":{1:(b,f)=>`M0,${0.5-f} L1,${0.5-f} M0,${0.5+f} L1,${0.5+f}`},"\u2551":{1:(b,f)=>`M${0.5-b},0 L${0.5-b},1 M${0.5+b},0 L${0.5+b},1`},"\u2552":{1:(b,f)=>`M.5,1 L.5,${0.5-f} L1,${0.5-f} M.5,${0.5+f} L1,${0.5+f}`},"\u2553":{1:(b,f)=>`M${0.5-b},1 L${0.5-b},.5 L1,.5 M${0.5+b},.5 L${0.5+b},1`},"\u2554":{1:(b,f)=>`M1,${0.5-f} L${0.5-b},${0.5-f} L${0.5-b},1 M1,${0.5+f} L${0.5+b},${0.5+f} L${0.5+b},1`},"\u2555":{1:(b,f)=>`M0,${0.5-f} L.5,${0.5-f} L.5,1 M0,${0.5+f} L.5,${0.5+f}`},"\u2556":{1:(b,f)=>`M${0.5+b},1 L${0.5+b},.5 L0,.5 M${0.5-b},.5 L${0.5-b},1`},"\u2557":{1:(b,f)=>`M0,${0.5+f} L${0.5-b},${0.5+f} L${0.5-b},1 M0,${0.5-f} L${0.5+b},${0.5-f} L${0.5+b},1`},"\u2558":{1:(b,f)=>`M.5,0 L.5,${0.5+f} L1,${0.5+f} M.5,${0.5-f} L1,${0.5-f}`},"\u2559":{1:(b,f)=>`M1,.5 L${0.5-b},.5 L${0.5-b},0 M${0.5+b},.5 L${0.5+b},0`},"\u255A":{1:(b,f)=>`M1,${0.5-f} L${0.5+b},${0.5-f} L${0.5+b},0 M1,${0.5+f} L${0.5-b},${0.5+f} L${0.5-b},0`},"\u255B":{1:(b,f)=>`M0,${0.5+f} L.5,${0.5+f} L.5,0 M0,${0.5-f} L.5,${0.5-f}`},"\u255C":{1:(b,f)=>`M0,.5 L${0.5+b},.5 L${0.5+b},0 M${0.5-b},.5 L${0.5-b},0`},"\u255D":{1:(b,f)=>`M0,${0.5-f} L${0.5-b},${0.5-f} L${0.5-b},0 M0,${0.5+f} L${0.5+b},${0.5+f} L${0.5+b},0`},"\u255E":{1:(b,f)=>`M.5,0 L.5,1 M.5,${0.5-f} L1,${0.5-f} M.5,${0.5+f} L1,${0.5+f}`},"\u255F":{1:(b,f)=>`M${0.5-b},0 L${0.5-b},1 M${0.5+b},0 L${0.5+b},1 M${0.5+b},.5 L1,.5`},"\u2560":{1:(b,f)=>`M${0.5-b},0 L${0.5-b},1 M1,${0.5+f} L${0.5+b},${0.5+f} L${0.5+b},1 M1,${0.5-f} L${0.5+b},${0.5-f} L${0.5+b},0`},"\u2561":{1:(b,f)=>`M.5,0 L.5,1 M0,${0.5-f} L.5,${0.5-f} M0,${0.5+f} L.5,${0.5+f}`},"\u2562":{1:(b,f)=>`M0,.5 L${0.5-b},.5 M${0.5-b},0 L${0.5-b},1 M${0.5+b},0 L${0.5+b},1`},"\u2563":{1:(b,f)=>`M${0.5+b},0 L${0.5+b},1 M0,${0.5+f} L${0.5-b},${0.5+f} L${0.5-b},1 M0,${0.5-f} L${0.5-b},${0.5-f} L${0.5-b},0`},"\u2564":{1:(b,f)=>`M0,${0.5-f} L1,${0.5-f} M0,${0.5+f} L1,${0.5+f} M.5,${0.5+f} L.5,1`},"\u2565":{1:(b,f)=>`M0,.5 L1,.5 M${0.5-b},.5 L${0.5-b},1 M${0.5+b},.5 L${0.5+b},1`},"\u2566":{1:(b,f)=>`M0,${0.5-f} L1,${0.5-f} M0,${0.5+f} L${0.5-b},${0.5+f} L${0.5-b},1 M1,${0.5+f} L${0.5+b},${0.5+f} L${0.5+b},1`},"\u2567":{1:(b,f)=>`M.5,0 L.5,${0.5-f} M0,${0.5-f} L1,${0.5-f} M0,${0.5+f} L1,${0.5+f}`},"\u2568":{1:(b,f)=>`M0,.5 L1,.5 M${0.5-b},.5 L${0.5-b},0 M${0.5+b},.5 L${0.5+b},0`},"\u2569":{1:(b,f)=>`M0,${0.5+f} L1,${0.5+f} M0,${0.5-f} L${0.5-b},${0.5-f} L${0.5-b},0 M1,${0.5-f} L${0.5+b},${0.5-f} L${0.5+b},0`},"\u256A":{1:(b,f)=>`M.5,0 L.5,1 M0,${0.5-f} L1,${0.5-f} M0,${0.5+f} L1,${0.5+f}`},"\u256B":{1:(b,f)=>`M0,.5 L1,.5 M${0.5-b},0 L${0.5-b},1 M${0.5+b},0 L${0.5+b},1`},"\u256C":{1:(b,f)=>`M0,${0.5+f} L${0.5-b},${0.5+f} L${0.5-b},1 M1,${0.5+f} L${0.5+b},${0.5+f} L${0.5+b},1 M0,${0.5-f} L${0.5-b},${0.5-f} L${0.5-b},0 M1,${0.5-f} L${0.5+b},${0.5-f} L${0.5+b},0`},"\u2571":{1:"M1,0 L0,1"},"\u2572":{1:"M0,0 L1,1"},"\u2573":{1:"M1,0 L0,1 M0,0 L1,1"},"\u257C":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u257D":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"\u257E":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u257F":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u250D":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"\u250E":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2511":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"\u2512":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"\u2515":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"\u2516":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u2519":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"\u251A":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"\u251D":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"\u251E":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u251F":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2520":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"\u2521":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"\u2522":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"\u2525":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"\u2526":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u2527":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"\u2528":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"\u2529":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"\u252A":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"\u252D":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u252E":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"\u252F":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"\u2530":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2531":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"\u2532":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"\u2535":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u2536":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u2537":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"\u2538":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u2539":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"\u253A":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"\u253D":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u253E":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u253F":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"\u2540":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u2541":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2542":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"\u2543":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"\u2544":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"\u2545":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"\u2546":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"\u2547":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"\u2548":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2549":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u254A":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u254C":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"\u254D":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"\u2504":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"\u2505":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"\u2508":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"\u2509":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"\u254E":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"\u254F":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"\u2506":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"\u2507":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"\u250A":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"\u250B":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"\u256D":{1:(b,f)=>`M.5,1 L.5,${0.5+f/0.15*0.5} C.5,${0.5+f/0.15*0.5},.5,.5,1,.5`},"\u256E":{1:(b,f)=>`M.5,1 L.5,${0.5+f/0.15*0.5} C.5,${0.5+f/0.15*0.5},.5,.5,0,.5`},"\u256F":{1:(b,f)=>`M.5,0 L.5,${0.5-f/0.15*0.5} C.5,${0.5-f/0.15*0.5},.5,.5,0,.5`},"\u2570":{1:(b,f)=>`M.5,0 L.5,${0.5-f/0.15*0.5} C.5,${0.5-f/0.15*0.5},.5,.5,1,.5`}},y.powerlineDefinitions={"\uE0B0":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"\uE0B1":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"\uE0B2":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"\uE0B3":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"\uE0B4":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"\uE0B5":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"\uE0B6":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"\uE0B7":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"\uE0B8":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"\uE0B9":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"\uE0BA":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"\uE0BC":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"\uE0BD":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"\uE0BE":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},y.powerlineDefinitions["\uE0BB"]=y.powerlineDefinitions["\uE0BD"],y.powerlineDefinitions["\uE0BF"]=y.powerlineDefinitions["\uE0B9"],y.tryDrawCustomChar=function(b,f,M,T,$,Z,w,s){const g=y.blockElementDefinitions[f];if(g)return function(J,H,D,l,p,m){for(let n=0;n<H.length;n++){const c=H[n],v=p/8,N=m/8;J.fillRect(D+c.x*v,l+c.y*N,c.w*v,c.h*N)}}(b,g,M,T,$,Z),!0;const R=z[f];if(R)return function(J,H,D,l,p,m){let n=a.get(H);n||(n=new Map,a.set(H,n));const c=J.fillStyle;if(typeof c!="string")throw new Error(`Unexpected fillStyle type "${c}"`);let v=n.get(c);if(!v){const N=H[0].length,d=H.length,o=document.createElement("canvas");o.width=N,o.height=d;const h=r.throwIfFalsy(o.getContext("2d")),P=new ImageData(N,d);let X,k,I,Q;if(c.startsWith("#"))X=parseInt(c.slice(1,3),16),k=parseInt(c.slice(3,5),16),I=parseInt(c.slice(5,7),16),Q=c.length>7&&parseInt(c.slice(7,9),16)||1;else{if(!c.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${c}" when drawing pattern glyph`);[X,k,I,Q]=c.substring(5,c.length-1).split(",").map((e)=>parseFloat(e))}for(let e=0;e<d;e++)for(let B=0;B<N;B++)P.data[4*(e*N+B)]=X,P.data[4*(e*N+B)+1]=k,P.data[4*(e*N+B)+2]=I,P.data[4*(e*N+B)+3]=H[e][B]*(255*Q);h.putImageData(P,0,0),v=r.throwIfFalsy(J.createPattern(o,null)),n.set(c,v)}J.fillStyle=v,J.fillRect(D,l,p,m)}(b,R,M,T,$,Z),!0;const U=y.boxDrawingDefinitions[f];if(U)return function(J,H,D,l,p,m,n){J.strokeStyle=J.fillStyle;for(let[c,v]of Object.entries(H)){let N;J.beginPath(),J.lineWidth=n*Number.parseInt(c),N=typeof v=="function"?v(0.15,0.15/m*p):v;for(let d of N.split(" ")){const o=d[0],h=_[o];if(!h){console.error(`Could not find drawing instructions for "${o}"`);continue}const P=d.substring(1).split(",");P[0]&&P[1]&&h(J,S(P,p,m,D,l,!0,n))}J.stroke(),J.closePath()}}(b,U,M,T,$,Z,s),!0;const j=y.powerlineDefinitions[f];return!!j&&(function(J,H,D,l,p,m,n,c){var v,N;const d=new Path2D;d.rect(D,l,p,m),J.clip(d),J.beginPath();const o=n/12;J.lineWidth=c*o;for(let h of H.d.split(" ")){const P=h[0],X=_[P];if(!X){console.error(`Could not find drawing instructions for "${P}"`);continue}const k=h.substring(1).split(",");k[0]&&k[1]&&X(J,S(k,p,m,D,l,!1,c,((v=H.leftPadding)!==null&&v!==void 0?v:0)*(o/2),((N=H.rightPadding)!==null&&N!==void 0?N:0)*(o/2)))}H.type===1?(J.strokeStyle=J.fillStyle,J.stroke()):J.fill(),J.closePath()}(b,j,M,T,$,Z,w,s),!0)};const a=new Map;function L(b,f,M=0){return Math.max(Math.min(b,f),M)}const _={C:(b,f)=>b.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5]),L:(b,f)=>b.lineTo(f[0],f[1]),M:(b,f)=>b.moveTo(f[0],f[1])};function S(b,f,M,T,$,Z,w,s=0,g=0){const R=b.map((U)=>parseFloat(U)||parseInt(U));if(R.length<2)throw new Error("Too few arguments for instruction");for(let U=0;U<R.length;U+=2)R[U]*=f-s*w-g*w,Z&&R[U]!==0&&(R[U]=L(Math.round(R[U]+0.5)-0.5,f,0)),R[U]+=T+s*w;for(let U=1;U<R.length;U+=2)R[U]*=M,Z&&R[U]!==0&&(R[U]=L(Math.round(R[U]+0.5)-0.5,M,0)),R[U]+=$;return R}},56:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.observeDevicePixelDimensions=void 0;const r=u(859);y.observeDevicePixelDimensions=function(z,a,L){let _=new a.ResizeObserver((S)=>{const b=S.find((T)=>T.target===z);if(!b)return;if(!("devicePixelContentBoxSize"in b))return _==null||_.disconnect(),void(_=void 0);const f=b.devicePixelContentBoxSize[0].inlineSize,M=b.devicePixelContentBoxSize[0].blockSize;f>0&&M>0&&L(f,M)});try{_.observe(z,{box:["device-pixel-content-box"]})}catch(S){_.disconnect(),_=void 0}return r.toDisposable(()=>_==null?void 0:_.disconnect())}},374:(V,y)=>{function u(r){return 57508<=r&&r<=57558}Object.defineProperty(y,"__esModule",{value:!0}),y.createRenderDimensions=y.excludeFromContrastRatioDemands=y.isRestrictedPowerlineGlyph=y.isPowerlineGlyph=y.throwIfFalsy=void 0,y.throwIfFalsy=function(r){if(!r)throw new Error("value must not be falsy");return r},y.isPowerlineGlyph=u,y.isRestrictedPowerlineGlyph=function(r){return 57520<=r&&r<=57527},y.excludeFromContrastRatioDemands=function(r){return u(r)||function(z){return 9472<=z&&z<=9631}(r)},y.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},296:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.createSelectionRenderModel=void 0;class u{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(r,z,a,L=!1){if(this.selectionStart=z,this.selectionEnd=a,!z||!a||z[0]===a[0]&&z[1]===a[1])return void this.clear();const _=z[1]-r.buffer.active.viewportY,S=a[1]-r.buffer.active.viewportY,b=Math.max(_,0),f=Math.min(S,r.rows-1);b>=r.rows||f<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=L,this.viewportStartRow=_,this.viewportEndRow=S,this.viewportCappedStartRow=b,this.viewportCappedEndRow=f,this.startCol=z[0],this.endCol=a[0])}isCellSelected(r,z,a){return!!this.hasSelection&&(a-=r.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?z>=this.startCol&&a>=this.viewportCappedStartRow&&z<this.endCol&&a<=this.viewportCappedEndRow:z<this.startCol&&a>=this.viewportCappedStartRow&&z>=this.endCol&&a<=this.viewportCappedEndRow:a>this.viewportStartRow&&a<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&a===this.viewportStartRow&&z>=this.startCol&&z<this.endCol||this.viewportStartRow<this.viewportEndRow&&a===this.viewportEndRow&&z<this.endCol||this.viewportStartRow<this.viewportEndRow&&a===this.viewportStartRow&&z>=this.startCol)}}y.createSelectionRenderModel=function(){return new u}},509:function(V,y,u){var r=this&&this.__decorate||function(j,J,H,D){var l,p=arguments.length,m=p<3?J:D===null?D=Object.getOwnPropertyDescriptor(J,H):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(j,J,H,D);else for(var n=j.length-1;n>=0;n--)(l=j[n])&&(m=(p<3?l(m):p>3?l(J,H,m):l(J,H))||m);return p>3&&m&&Object.defineProperty(J,H,m),m};Object.defineProperty(y,"__esModule",{value:!0}),y.TextureAtlas=void 0;const z=u(237),a=u(860),L=u(374),_=u(160),S=u(345),b=u(485),f=u(385),M=u(147),T=u(855),$=u(776),Z={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let w;class s{get pages(){return this._pages}constructor(j,J,H){this._document=j,this._config=J,this._unicodeService=H,this._didWarmUp=!1,this._cacheMap=new b.FourKeyMap,this._cacheMapCombined=new b.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new M.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new S.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new S.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=U(j,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=L.throwIfFalsy(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(let j of this.pages)j.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const j=new f.IdleTaskQueue;for(let J=33;J<126;J++)j.enqueue(()=>{if(!this._cacheMap.get(J,T.DEFAULT_COLOR,T.DEFAULT_COLOR,T.DEFAULT_EXT)){const H=this._drawToCache(J,T.DEFAULT_COLOR,T.DEFAULT_COLOR,T.DEFAULT_EXT);this._cacheMap.set(J,T.DEFAULT_COLOR,T.DEFAULT_COLOR,T.DEFAULT_EXT,H)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(let j of this._pages)j.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(s.maxAtlasPages&&this._pages.length>=Math.max(4,s.maxAtlasPages)){const J=this._pages.filter((c)=>2*c.canvas.width<=(s.maxTextureSize||4096)).sort((c,v)=>v.canvas.width!==c.canvas.width?v.canvas.width-c.canvas.width:v.percentageUsed-c.percentageUsed);let H=-1,D=0;for(let c=0;c<J.length;c++)if(J[c].canvas.width!==D)H=c,D=J[c].canvas.width;else if(c-H==3)break;const l=J.slice(H,H+4),p=l.map((c)=>c.glyphs[0].texturePage).sort((c,v)=>c>v?1:-1),m=this.pages.length-l.length,n=this._mergePages(l,m);n.version++;for(let c=p.length-1;c>=0;c--)this._deletePage(p[c]);this.pages.push(n),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(n.canvas)}const j=new g(this._document,this._textureSize);return this._pages.push(j),this._activePages.push(j),this._onAddTextureAtlasCanvas.fire(j.canvas),j}_mergePages(j,J){const H=2*j[0].canvas.width,D=new g(this._document,H,j);for(let[l,p]of j.entries()){const m=l*p.canvas.width%H,n=Math.floor(l/2)*p.canvas.height;D.ctx.drawImage(p.canvas,m,n);for(let v of p.glyphs)v.texturePage=J,v.sizeClipSpace.x=v.size.x/H,v.sizeClipSpace.y=v.size.y/H,v.texturePosition.x+=m,v.texturePosition.y+=n,v.texturePositionClipSpace.x=v.texturePosition.x/H,v.texturePositionClipSpace.y=v.texturePosition.y/H;this._onRemoveTextureAtlasCanvas.fire(p.canvas);const c=this._activePages.indexOf(p);c!==-1&&this._activePages.splice(c,1)}return D}_deletePage(j){this._pages.splice(j,1);for(let J=j;J<this._pages.length;J++){const H=this._pages[J];for(let D of H.glyphs)D.texturePage--;H.version++}}getRasterizedGlyphCombinedChar(j,J,H,D,l){return this._getFromCacheMap(this._cacheMapCombined,j,J,H,D,l)}getRasterizedGlyph(j,J,H,D,l){return this._getFromCacheMap(this._cacheMap,j,J,H,D,l)}_getFromCacheMap(j,J,H,D,l,p=!1){return w=j.get(J,H,D,l),w||(w=this._drawToCache(J,H,D,l,p),j.set(J,H,D,l,w)),w}_getColorFromAnsiIndex(j){if(j>=this._config.colors.ansi.length)throw new Error("No color found for idx "+j);return this._config.colors.ansi[j]}_getBackgroundColor(j,J,H,D){if(this._config.allowTransparency)return _.NULL_COLOR;let l;switch(j){case 16777216:case 33554432:l=this._getColorFromAnsiIndex(J);break;case 50331648:const p=M.AttributeData.toColorRGB(J);l=_.rgba.toColor(p[0],p[1],p[2]);break;default:l=H?_.color.opaque(this._config.colors.foreground):this._config.colors.background}return l}_getForegroundColor(j,J,H,D,l,p,m,n,c,v){const N=this._getMinimumContrastColor(j,J,H,D,l,p,!1,c,n,v);if(N)return N;let d;switch(l){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&c&&p<8&&(p+=8),d=this._getColorFromAnsiIndex(p);break;case 50331648:const o=M.AttributeData.toColorRGB(p);d=_.rgba.toColor(o[0],o[1],o[2]);break;default:d=m?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(d=_.color.opaque(d)),n&&(d=_.color.multiplyOpacity(d,z.DIM_OPACITY)),d}_resolveBackgroundRgba(j,J,H){switch(j){case 16777216:case 33554432:return this._getColorFromAnsiIndex(J).rgba;case 50331648:return J<<8;default:return H?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(j,J,H,D){switch(j){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&D&&J<8&&(J+=8),this._getColorFromAnsiIndex(J).rgba;case 50331648:return J<<8;default:return H?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(j,J,H,D,l,p,m,n,c,v){if(this._config.minimumContrastRatio===1||v)return;const N=this._getContrastCache(c),d=N.getColor(j,D);if(d!==void 0)return d||void 0;const o=this._resolveBackgroundRgba(J,H,m),h=this._resolveForegroundRgba(l,p,m,n),P=_.rgba.ensureContrastRatio(o,h,this._config.minimumContrastRatio/(c?2:1));if(!P)return void N.setColor(j,D,null);const X=_.rgba.toColor(P>>24&255,P>>16&255,P>>8&255);return N.setColor(j,D,X),X}_getContrastCache(j){return j?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(j,J,H,D,l=!1){const p=typeof j=="number"?String.fromCharCode(j):j,m=Math.min(this._config.deviceCellWidth*Math.max(p.length,2)+4,this._textureSize);this._tmpCanvas.width<m&&(this._tmpCanvas.width=m);const n=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<n&&(this._tmpCanvas.height=n),this._tmpCtx.save(),this._workAttributeData.fg=H,this._workAttributeData.bg=J,this._workAttributeData.extended.ext=D,this._workAttributeData.isInvisible())return Z;const c=!!this._workAttributeData.isBold(),v=!!this._workAttributeData.isInverse(),N=!!this._workAttributeData.isDim(),d=!!this._workAttributeData.isItalic(),o=!!this._workAttributeData.isUnderline(),h=!!this._workAttributeData.isStrikethrough(),P=!!this._workAttributeData.isOverline();let X=this._workAttributeData.getFgColor(),k=this._workAttributeData.getFgColorMode(),I=this._workAttributeData.getBgColor(),Q=this._workAttributeData.getBgColorMode();if(v){const d1=X;X=I,I=d1;const F1=k;k=Q,Q=F1}const e=this._getBackgroundColor(Q,I,v,N);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=e.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";const B=c?this._config.fontWeightBold:this._config.fontWeight,E=d?"italic":"";this._tmpCtx.font=`${E} ${B} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=z.TEXT_BASELINE;const A=p.length===1&&L.isPowerlineGlyph(p.charCodeAt(0)),r1=p.length===1&&L.isRestrictedPowerlineGlyph(p.charCodeAt(0)),n1=this._getForegroundColor(J,Q,I,H,k,X,v,N,c,L.excludeFromContrastRatioDemands(p.charCodeAt(0)));this._tmpCtx.fillStyle=n1.css;const c1=r1?0:4;let G=!1;this._config.customGlyphs!==!1&&(G=a.tryDrawCustomChar(this._tmpCtx,p,c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let K,Y=!A;if(K=typeof j=="number"?this._unicodeService.wcwidth(j):this._unicodeService.getStringCellWidth(j),o){this._tmpCtx.save();const d1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),F1=d1%2==1?0.5:0;if(this._tmpCtx.lineWidth=d1,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())Y=!1,this._tmpCtx.strokeStyle=`rgb(${M.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{Y=!1;let i=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&i<8&&(i+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(i).css}this._tmpCtx.beginPath();const y1=c1,a1=Math.ceil(c1+this._config.deviceCharHeight)-F1-(l?2*d1:0),k1=a1+d1,F=a1+2*d1;for(let i=0;i<K;i++){this._tmpCtx.save();const t=y1+i*this._config.deviceCellWidth,C=y1+(i+1)*this._config.deviceCellWidth,l1=t+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(t,a1),this._tmpCtx.lineTo(C,a1),this._tmpCtx.moveTo(t,F),this._tmpCtx.lineTo(C,F);break;case 3:const b1=d1<=1?F:Math.ceil(c1+this._config.deviceCharHeight-d1/2)-F1,m1=d1<=1?a1:Math.ceil(c1+this._config.deviceCharHeight+d1/2)-F1,v1=new Path2D;v1.rect(t,a1,this._config.deviceCellWidth,F-a1),this._tmpCtx.clip(v1),this._tmpCtx.moveTo(t-this._config.deviceCellWidth/2,k1),this._tmpCtx.bezierCurveTo(t-this._config.deviceCellWidth/2,m1,t,m1,t,k1),this._tmpCtx.bezierCurveTo(t,b1,l1,b1,l1,k1),this._tmpCtx.bezierCurveTo(l1,m1,C,m1,C,k1),this._tmpCtx.bezierCurveTo(C,b1,C+this._config.deviceCellWidth/2,b1,C+this._config.deviceCellWidth/2,k1);break;case 4:this._tmpCtx.setLineDash([Math.round(d1),Math.round(d1)]),this._tmpCtx.moveTo(t,a1),this._tmpCtx.lineTo(C,a1);break;case 5:this._tmpCtx.setLineDash([4*this._config.devicePixelRatio,3*this._config.devicePixelRatio]),this._tmpCtx.moveTo(t,a1),this._tmpCtx.lineTo(C,a1);break;default:this._tmpCtx.moveTo(t,a1),this._tmpCtx.lineTo(C,a1)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!G&&this._config.fontSize>=12&&!this._config.allowTransparency&&p!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const i=this._tmpCtx.measureText(p);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in i&&i.actualBoundingBoxDescent>0){this._tmpCtx.save();const t=new Path2D;t.rect(y1,a1-Math.ceil(d1/2),this._config.deviceCellWidth*K,F-a1+Math.ceil(d1/2)),this._tmpCtx.clip(t),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=e.css,this._tmpCtx.strokeText(p,c1,c1+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(P){const d1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),F1=d1%2==1?0.5:0;this._tmpCtx.lineWidth=d1,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(c1,c1+F1),this._tmpCtx.lineTo(c1+this._config.deviceCharWidth*K,c1+F1),this._tmpCtx.stroke()}if(G||this._tmpCtx.fillText(p,c1,c1+this._config.deviceCharHeight),p==="_"&&!this._config.allowTransparency){let d1=R(this._tmpCtx.getImageData(c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight),e,n1,Y);if(d1)for(let F1=1;F1<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=e.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(p,c1,c1+this._config.deviceCharHeight-F1),d1=R(this._tmpCtx.getImageData(c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight),e,n1,Y),d1);F1++);}if(h){const d1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),F1=this._tmpCtx.lineWidth%2==1?0.5:0;this._tmpCtx.lineWidth=d1,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(c1,c1+Math.floor(this._config.deviceCharHeight/2)-F1),this._tmpCtx.lineTo(c1+this._config.deviceCharWidth*K,c1+Math.floor(this._config.deviceCharHeight/2)-F1),this._tmpCtx.stroke()}this._tmpCtx.restore();const p1=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let u1;if(u1=this._config.allowTransparency?function(d1){for(let F1=0;F1<d1.data.length;F1+=4)if(d1.data[F1+3]>0)return!1;return!0}(p1):R(p1,e,n1,Y),u1)return Z;const o1=this._findGlyphBoundingBox(p1,this._workBoundingBox,m,r1,G,c1);let M1,f1;for(;;){if(this._activePages.length===0){const d1=this._createNewPage();M1=d1,f1=d1.currentRow,f1.height=o1.size.y;break}M1=this._activePages[this._activePages.length-1],f1=M1.currentRow;for(let d1 of this._activePages)o1.size.y<=d1.currentRow.height&&(M1=d1,f1=d1.currentRow);for(let d1=this._activePages.length-1;d1>=0;d1--)for(let F1 of this._activePages[d1].fixedRows)F1.height<=f1.height&&o1.size.y<=F1.height&&(M1=this._activePages[d1],f1=F1);if(f1.y+o1.size.y>=M1.canvas.height||f1.height>o1.size.y+2){let d1=!1;if(M1.currentRow.y+M1.currentRow.height+o1.size.y>=M1.canvas.height){let F1;for(let y1 of this._activePages)if(y1.currentRow.y+y1.currentRow.height+o1.size.y<y1.canvas.height){F1=y1;break}if(F1)M1=F1;else if(s.maxAtlasPages&&this._pages.length>=s.maxAtlasPages&&f1.y+o1.size.y<=M1.canvas.height&&f1.height>=o1.size.y&&f1.x+o1.size.x<=M1.canvas.width)d1=!0;else{const y1=this._createNewPage();M1=y1,f1=y1.currentRow,f1.height=o1.size.y,d1=!0}}d1||(M1.currentRow.height>0&&M1.fixedRows.push(M1.currentRow),f1={x:0,y:M1.currentRow.y+M1.currentRow.height,height:o1.size.y},M1.fixedRows.push(f1),M1.currentRow={x:0,y:f1.y+f1.height,height:0})}if(f1.x+o1.size.x<=M1.canvas.width)break;f1===M1.currentRow?(f1.x=0,f1.y+=f1.height,f1.height=0):M1.fixedRows.splice(M1.fixedRows.indexOf(f1),1)}return o1.texturePage=this._pages.indexOf(M1),o1.texturePosition.x=f1.x,o1.texturePosition.y=f1.y,o1.texturePositionClipSpace.x=f1.x/M1.canvas.width,o1.texturePositionClipSpace.y=f1.y/M1.canvas.height,o1.sizeClipSpace.x/=M1.canvas.width,o1.sizeClipSpace.y/=M1.canvas.height,f1.height=Math.max(f1.height,o1.size.y),f1.x+=o1.size.x,M1.ctx.putImageData(p1,o1.texturePosition.x-this._workBoundingBox.left,o1.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,o1.size.x,o1.size.y),M1.addGlyph(o1),M1.version++,o1}_findGlyphBoundingBox(j,J,H,D,l,p){J.top=0;const m=D?this._config.deviceCellHeight:this._tmpCanvas.height,n=D?this._config.deviceCellWidth:H;let c=!1;for(let v=0;v<m;v++){for(let N=0;N<n;N++){const d=v*this._tmpCanvas.width*4+4*N+3;if(j.data[d]!==0){J.top=v,c=!0;break}}if(c)break}J.left=0,c=!1;for(let v=0;v<p+n;v++){for(let N=0;N<m;N++){const d=N*this._tmpCanvas.width*4+4*v+3;if(j.data[d]!==0){J.left=v,c=!0;break}}if(c)break}J.right=n,c=!1;for(let v=p+n-1;v>=p;v--){for(let N=0;N<m;N++){const d=N*this._tmpCanvas.width*4+4*v+3;if(j.data[d]!==0){J.right=v,c=!0;break}}if(c)break}J.bottom=m,c=!1;for(let v=m-1;v>=0;v--){for(let N=0;N<n;N++){const d=v*this._tmpCanvas.width*4+4*N+3;if(j.data[d]!==0){J.bottom=v,c=!0;break}}if(c)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:J.right-J.left+1,y:J.bottom-J.top+1},sizeClipSpace:{x:J.right-J.left+1,y:J.bottom-J.top+1},offset:{x:-J.left+p+(D||l?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-J.top+p+(D||l?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}y.TextureAtlas=s,r([$.traceCall],s.prototype,"_drawToCache",null);class g{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(j){this._glyphs.push(j),this._usedPixels+=j.size.x*j.size.y}constructor(j,J,H){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],H)for(let D of H)this._glyphs.push(...D.glyphs),this._usedPixels+=D._usedPixels;this.canvas=U(j,J,J),this.ctx=L.throwIfFalsy(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function R(j,J,H,D){const l=J.rgba>>>24,p=J.rgba>>>16&255,m=J.rgba>>>8&255,n=H.rgba>>>24,c=H.rgba>>>16&255,v=H.rgba>>>8&255,N=Math.floor((Math.abs(l-n)+Math.abs(p-c)+Math.abs(m-v))/12);let d=!0;for(let o=0;o<j.data.length;o+=4)j.data[o]===l&&j.data[o+1]===p&&j.data[o+2]===m||D&&Math.abs(j.data[o]-l)+Math.abs(j.data[o+1]-p)+Math.abs(j.data[o+2]-m)<N?j.data[o+3]=0:d=!1;return d}function U(j,J,H){const D=j.createElement("canvas");return D.width=J,D.height=H,D}},160:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.contrastRatio=y.toPaddedHex=y.rgba=y.rgb=y.css=y.color=y.channels=y.NULL_COLOR=void 0;const r=u(399);let z=0,a=0,L=0,_=0;var S,b,f,M,T;function $(w){const s=w.toString(16);return s.length<2?"0"+s:s}function Z(w,s){return w<s?(s+0.05)/(w+0.05):(w+0.05)/(s+0.05)}y.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(s,g,R,U){return U!==void 0?`#${$(s)}${$(g)}${$(R)}${$(U)}`:`#${$(s)}${$(g)}${$(R)}`},w.toRgba=function(s,g,R,U=255){return(s<<24|g<<16|R<<8|U)>>>0}}(S||(y.channels=S={})),function(w){function s(g,R){return _=Math.round(255*R),[z,a,L]=T.toChannels(g.rgba),{css:S.toCss(z,a,L,_),rgba:S.toRgba(z,a,L,_)}}w.blend=function(g,R){if(_=(255&R.rgba)/255,_===1)return{css:R.css,rgba:R.rgba};const U=R.rgba>>24&255,j=R.rgba>>16&255,J=R.rgba>>8&255,H=g.rgba>>24&255,D=g.rgba>>16&255,l=g.rgba>>8&255;return z=H+Math.round((U-H)*_),a=D+Math.round((j-D)*_),L=l+Math.round((J-l)*_),{css:S.toCss(z,a,L),rgba:S.toRgba(z,a,L)}},w.isOpaque=function(g){return(255&g.rgba)==255},w.ensureContrastRatio=function(g,R,U){const j=T.ensureContrastRatio(g.rgba,R.rgba,U);if(j)return T.toColor(j>>24&255,j>>16&255,j>>8&255)},w.opaque=function(g){const R=(255|g.rgba)>>>0;return[z,a,L]=T.toChannels(R),{css:S.toCss(z,a,L),rgba:R}},w.opacity=s,w.multiplyOpacity=function(g,R){return _=255&g.rgba,s(g,_*R/255)},w.toColorRGB=function(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}}(b||(y.color=b={})),function(w){let s,g;if(!r.isNode){const R=document.createElement("canvas");R.width=1,R.height=1;const U=R.getContext("2d",{willReadFrequently:!0});U&&(s=U,s.globalCompositeOperation="copy",g=s.createLinearGradient(0,0,1,1))}w.toColor=function(R){if(R.match(/#[\da-f]{3,8}/i))switch(R.length){case 4:return z=parseInt(R.slice(1,2).repeat(2),16),a=parseInt(R.slice(2,3).repeat(2),16),L=parseInt(R.slice(3,4).repeat(2),16),T.toColor(z,a,L);case 5:return z=parseInt(R.slice(1,2).repeat(2),16),a=parseInt(R.slice(2,3).repeat(2),16),L=parseInt(R.slice(3,4).repeat(2),16),_=parseInt(R.slice(4,5).repeat(2),16),T.toColor(z,a,L,_);case 7:return{css:R,rgba:(parseInt(R.slice(1),16)<<8|255)>>>0};case 9:return{css:R,rgba:parseInt(R.slice(1),16)>>>0}}const U=R.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(U)return z=parseInt(U[1]),a=parseInt(U[2]),L=parseInt(U[3]),_=Math.round(255*(U[5]===void 0?1:parseFloat(U[5]))),T.toColor(z,a,L,_);if(!s||!g)throw new Error("css.toColor: Unsupported css format");if(s.fillStyle=g,s.fillStyle=R,typeof s.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(s.fillRect(0,0,1,1),[z,a,L,_]=s.getImageData(0,0,1,1).data,_!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(z,a,L,_),css:R}}}(f||(y.css=f={})),function(w){function s(g,R,U){const j=g/255,J=R/255,H=U/255;return 0.2126*(j<=0.03928?j/12.92:Math.pow((j+0.055)/1.055,2.4))+0.7152*(J<=0.03928?J/12.92:Math.pow((J+0.055)/1.055,2.4))+0.0722*(H<=0.03928?H/12.92:Math.pow((H+0.055)/1.055,2.4))}w.relativeLuminance=function(g){return s(g>>16&255,g>>8&255,255&g)},w.relativeLuminance2=s}(M||(y.rgb=M={})),function(w){function s(R,U,j){const J=R>>24&255,H=R>>16&255,D=R>>8&255;let l=U>>24&255,p=U>>16&255,m=U>>8&255,n=Z(M.relativeLuminance2(l,p,m),M.relativeLuminance2(J,H,D));for(;n<j&&(l>0||p>0||m>0);)l-=Math.max(0,Math.ceil(0.1*l)),p-=Math.max(0,Math.ceil(0.1*p)),m-=Math.max(0,Math.ceil(0.1*m)),n=Z(M.relativeLuminance2(l,p,m),M.relativeLuminance2(J,H,D));return(l<<24|p<<16|m<<8|255)>>>0}function g(R,U,j){const J=R>>24&255,H=R>>16&255,D=R>>8&255;let l=U>>24&255,p=U>>16&255,m=U>>8&255,n=Z(M.relativeLuminance2(l,p,m),M.relativeLuminance2(J,H,D));for(;n<j&&(l<255||p<255||m<255);)l=Math.min(255,l+Math.ceil(0.1*(255-l))),p=Math.min(255,p+Math.ceil(0.1*(255-p))),m=Math.min(255,m+Math.ceil(0.1*(255-m))),n=Z(M.relativeLuminance2(l,p,m),M.relativeLuminance2(J,H,D));return(l<<24|p<<16|m<<8|255)>>>0}w.ensureContrastRatio=function(R,U,j){const J=M.relativeLuminance(R>>8),H=M.relativeLuminance(U>>8);if(Z(J,H)<j){if(H<J){const p=s(R,U,j),m=Z(J,M.relativeLuminance(p>>8));if(m<j){const n=g(R,U,j);return m>Z(J,M.relativeLuminance(n>>8))?p:n}return p}const D=g(R,U,j),l=Z(J,M.relativeLuminance(D>>8));if(l<j){const p=s(R,U,j);return l>Z(J,M.relativeLuminance(p>>8))?D:p}return D}},w.reduceLuminance=s,w.increaseLuminance=g,w.toChannels=function(R){return[R>>24&255,R>>16&255,R>>8&255,255&R]},w.toColor=function(R,U,j,J){return{css:S.toCss(R,U,j,J),rgba:S.toRgba(R,U,j,J)}}}(T||(y.rgba=T={})),y.toPaddedHex=$,y.contrastRatio=Z},345:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.forwardEvent=y.EventEmitter=void 0,y.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=(u)=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let r=0;r<this._listeners.length;r++)if(this._listeners[r]===u)return void this._listeners.splice(r,1)}}})),this._event}fire(u,r){const z=[];for(let a=0;a<this._listeners.length;a++)z.push(this._listeners[a]);for(let a=0;a<z.length;a++)z[a].call(void 0,u,r)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},y.forwardEvent=function(u,r){return u((z)=>r.fire(z))}},859:(V,y)=>{function u(r){for(let z of r)z.dispose();r.length=0}Object.defineProperty(y,"__esModule",{value:!0}),y.getDisposeArrayDisposable=y.disposeArray=y.toDisposable=y.MutableDisposable=y.Disposable=void 0,y.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let r of this._disposables)r.dispose();this._disposables.length=0}register(r){return this._disposables.push(r),r}unregister(r){const z=this._disposables.indexOf(r);z!==-1&&this._disposables.splice(z,1)}},y.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(r){var z;this._isDisposed||r===this._value||((z=this._value)===null||z===void 0||z.dispose(),this._value=r)}clear(){this.value=void 0}dispose(){var r;this._isDisposed=!0,(r=this._value)===null||r===void 0||r.dispose(),this._value=void 0}},y.toDisposable=function(r){return{dispose:r}},y.disposeArray=u,y.getDisposeArrayDisposable=function(r){return{dispose:()=>u(r)}}},485:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.FourKeyMap=y.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(r,z,a){this._data[r]||(this._data[r]={}),this._data[r][z]=a}get(r,z){return this._data[r]?this._data[r][z]:void 0}clear(){this._data={}}}y.TwoKeyMap=u,y.FourKeyMap=class{constructor(){this._data=new u}set(r,z,a,L,_){this._data.get(r,z)||this._data.set(r,z,new u),this._data.get(r,z).set(a,L,_)}get(r,z,a,L){var _;return(_=this._data.get(r,z))===null||_===void 0?void 0:_.get(a,L)}clear(){this._data.clear()}}},399:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.isChromeOS=y.isLinux=y.isWindows=y.isIphone=y.isIpad=y.isMac=y.getSafariVersion=y.isSafari=y.isLegacyEdge=y.isFirefox=y.isNode=void 0,y.isNode=typeof navigator=="undefined";const u=y.isNode?"node":navigator.userAgent,r=y.isNode?"node":navigator.platform;y.isFirefox=u.includes("Firefox"),y.isLegacyEdge=u.includes("Edge"),y.isSafari=/^((?!chrome|android).)*safari/i.test(u),y.getSafariVersion=function(){if(!y.isSafari)return 0;const z=u.match(/Version\/(\d+)/);return z===null||z.length<2?0:parseInt(z[1])},y.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(r),y.isIpad=r==="iPad",y.isIphone=r==="iPhone",y.isWindows=["Windows","Win16","Win32","WinCE"].includes(r),y.isLinux=r.indexOf("Linux")>=0,y.isChromeOS=/\bCrOS\b/.test(u)},385:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.DebouncedIdleTask=y.IdleTaskQueue=y.PriorityTaskQueue=void 0;const r=u(399);class z{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let _=0,S=0,b=L.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(_=Date.now(),this._tasks[this._i]()||this._i++,_=Math.max(1,Date.now()-_),S=Math.max(_,S),f=L.timeRemaining(),1.5*S>f)return b-_<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(b-_))}ms`),void this._start();b=f}this.clear()}}class a extends z{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){const _=Date.now()+L;return{timeRemaining:()=>Math.max(0,_-Date.now())}}}y.PriorityTaskQueue=a,y.IdleTaskQueue=!r.isNode&&"requestIdleCallback"in window?class extends z{_requestCallback(L){return requestIdleCallback(L)}_cancelCallback(L){cancelIdleCallback(L)}}:a,y.DebouncedIdleTask=class{constructor(){this._queue=new y.IdleTaskQueue}set(L){this._queue.clear(),this._queue.enqueue(L)}flush(){this._queue.flush()}}},147:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.ExtendedAttrs=y.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new r}static toColorRGB(z){return[z>>>16&255,z>>>8&255,255&z]}static fromColorRGB(z){return(255&z[0])<<16|(255&z[1])<<8|255&z[2]}clone(){const z=new u;return z.fg=this.fg,z.bg=this.bg,z.extended=this.extended.clone(),z}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}y.AttributeData=u;class r{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(z){this._ext=z}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(z){this._ext&=-469762049,this._ext|=z<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(z){this._ext&=-67108864,this._ext|=67108863&z}get urlId(){return this._urlId}set urlId(z){this._urlId=z}constructor(z=0,a=0){this._ext=0,this._urlId=0,this._ext=z,this._urlId=a}clone(){return new r(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}y.ExtendedAttrs=r},782:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.CellData=void 0;const r=u(133),z=u(855),a=u(147);class L extends a.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new a.ExtendedAttrs,this.combinedData=""}static fromCharData(_){const S=new L;return S.setFromCharData(_),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?r.stringFromCodePoint(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(_){this.fg=_[z.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(_[z.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(_[z.CHAR_DATA_CHAR_INDEX].length===2){const b=_[z.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=b&&b<=56319){const f=_[z.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(b-55296)+f-56320+65536|_[z.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=_[z.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[z.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=_[z.CHAR_DATA_CHAR_INDEX],this.content=2097152|_[z.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}y.CellData=L},855:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.WHITESPACE_CELL_CODE=y.WHITESPACE_CELL_WIDTH=y.WHITESPACE_CELL_CHAR=y.NULL_CELL_CODE=y.NULL_CELL_WIDTH=y.NULL_CELL_CHAR=y.CHAR_DATA_CODE_INDEX=y.CHAR_DATA_WIDTH_INDEX=y.CHAR_DATA_CHAR_INDEX=y.CHAR_DATA_ATTR_INDEX=y.DEFAULT_EXT=y.DEFAULT_ATTR=y.DEFAULT_COLOR=void 0,y.DEFAULT_COLOR=0,y.DEFAULT_ATTR=256|y.DEFAULT_COLOR<<9,y.DEFAULT_EXT=0,y.CHAR_DATA_ATTR_INDEX=0,y.CHAR_DATA_CHAR_INDEX=1,y.CHAR_DATA_WIDTH_INDEX=2,y.CHAR_DATA_CODE_INDEX=3,y.NULL_CELL_CHAR="",y.NULL_CELL_WIDTH=1,y.NULL_CELL_CODE=0,y.WHITESPACE_CELL_CHAR=" ",y.WHITESPACE_CELL_WIDTH=1,y.WHITESPACE_CELL_CODE=32},133:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.Utf8ToUtf32=y.StringToUtf32=y.utf32ToString=y.stringFromCodePoint=void 0,y.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},y.utf32ToString=function(u,r=0,z=u.length){let a="";for(let L=r;L<z;++L){let _=u[L];_>65535?(_-=65536,a+=String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):a+=String.fromCharCode(_)}return a},y.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,r){const z=u.length;if(!z)return 0;let a=0,L=0;if(this._interim){const _=u.charCodeAt(L++);56320<=_&&_<=57343?r[a++]=1024*(this._interim-55296)+_-56320+65536:(r[a++]=this._interim,r[a++]=_),this._interim=0}for(let _=L;_<z;++_){const S=u.charCodeAt(_);if(55296<=S&&S<=56319){if(++_>=z)return this._interim=S,a;const b=u.charCodeAt(_);56320<=b&&b<=57343?r[a++]=1024*(S-55296)+b-56320+65536:(r[a++]=S,r[a++]=b)}else S!==65279&&(r[a++]=S)}return a}},y.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,r){const z=u.length;if(!z)return 0;let a,L,_,S,b=0,f=0,M=0;if(this.interim[0]){let Z=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let s,g=0;for(;(s=63&this.interim[++g])&&g<4;)w<<=6,w|=s;const R=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,U=R-g;for(;M<U;){if(M>=z)return 0;if(s=u[M++],(192&s)!=128){M--,Z=!0;break}this.interim[g++]=s,w<<=6,w|=63&s}Z||(R===2?w<128?M--:r[b++]=w:R===3?w<2048||w>=55296&&w<=57343||w===65279||(r[b++]=w):w<65536||w>1114111||(r[b++]=w)),this.interim.fill(0)}const T=z-4;let $=M;for(;$<z;){for(;!(!($<T)||128&(a=u[$])||128&(L=u[$+1])||128&(_=u[$+2])||128&(S=u[$+3]));)r[b++]=a,r[b++]=L,r[b++]=_,r[b++]=S,$+=4;if(a=u[$++],a<128)r[b++]=a;else if((224&a)==192){if($>=z)return this.interim[0]=a,b;if(L=u[$++],(192&L)!=128){$--;continue}if(f=(31&a)<<6|63&L,f<128){$--;continue}r[b++]=f}else if((240&a)==224){if($>=z)return this.interim[0]=a,b;if(L=u[$++],(192&L)!=128){$--;continue}if($>=z)return this.interim[0]=a,this.interim[1]=L,b;if(_=u[$++],(192&_)!=128){$--;continue}if(f=(15&a)<<12|(63&L)<<6|63&_,f<2048||f>=55296&&f<=57343||f===65279)continue;r[b++]=f}else if((248&a)==240){if($>=z)return this.interim[0]=a,b;if(L=u[$++],(192&L)!=128){$--;continue}if($>=z)return this.interim[0]=a,this.interim[1]=L,b;if(_=u[$++],(192&_)!=128){$--;continue}if($>=z)return this.interim[0]=a,this.interim[1]=L,this.interim[2]=_,b;if(S=u[$++],(192&S)!=128){$--;continue}if(f=(7&a)<<18|(63&L)<<12|(63&_)<<6|63&S,f<65536||f>1114111)continue;r[b++]=f}}return b}}},776:function(V,y,u){var r=this&&this.__decorate||function(f,M,T,$){var Z,w=arguments.length,s=w<3?M:$===null?$=Object.getOwnPropertyDescriptor(M,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(f,M,T,$);else for(var g=f.length-1;g>=0;g--)(Z=f[g])&&(s=(w<3?Z(s):w>3?Z(M,T,s):Z(M,T))||s);return w>3&&s&&Object.defineProperty(M,T,s),s},z=this&&this.__param||function(f,M){return function(T,$){M(T,$,f)}};Object.defineProperty(y,"__esModule",{value:!0}),y.traceCall=y.setTraceLogger=y.LogService=void 0;const a=u(859),L=u(97),_={trace:L.LogLevelEnum.TRACE,debug:L.LogLevelEnum.DEBUG,info:L.LogLevelEnum.INFO,warn:L.LogLevelEnum.WARN,error:L.LogLevelEnum.ERROR,off:L.LogLevelEnum.OFF};let S,b=y.LogService=class extends a.Disposable{get logLevel(){return this._logLevel}constructor(f){super(),this._optionsService=f,this._logLevel=L.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=_[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(f){for(let M=0;M<f.length;M++)typeof f[M]=="function"&&(f[M]=f[M]())}_log(f,M,T){this._evalLazyOptionalParams(T),f.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+M,...T)}trace(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.TRACE&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.trace.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.log,f,M)}debug(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.DEBUG&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.debug.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.log,f,M)}info(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.INFO&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.info.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.info,f,M)}warn(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.WARN&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.warn.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.warn,f,M)}error(f,...M){var T,$;this._logLevel<=L.LogLevelEnum.ERROR&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.error.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.error,f,M)}};y.LogService=b=r([z(0,L.IOptionsService)],b),y.setTraceLogger=function(f){S=f},y.traceCall=function(f,M,T){if(typeof T.value!="function")throw new Error("not supported");const $=T.value;T.value=function(...Z){if(S.logLevel!==L.LogLevelEnum.TRACE)return $.apply(this,Z);S.trace(`GlyphRenderer#${$.name}(${Z.map((s)=>JSON.stringify(s)).join(", ")})`);const w=$.apply(this,Z);return S.trace(`GlyphRenderer#${$.name} return`,w),w}}},726:(V,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.createDecorator=y.getServiceDependencies=y.serviceRegistry=void 0;const u="di$target",r="di$dependencies";y.serviceRegistry=new Map,y.getServiceDependencies=function(z){return z[r]||[]},y.createDecorator=function(z){if(y.serviceRegistry.has(z))return y.serviceRegistry.get(z);const a=function(L,_,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(b,f,M){f[u]===f?f[r].push({id:b,index:M}):(f[r]=[{id:b,index:M}],f[u]=f)})(a,L,S)};return a.toString=()=>z,y.serviceRegistry.set(z,a),a}},97:(V,y,u)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.IDecorationService=y.IUnicodeService=y.IOscLinkService=y.IOptionsService=y.ILogService=y.LogLevelEnum=y.IInstantiationService=y.ICharsetService=y.ICoreService=y.ICoreMouseService=y.IBufferService=void 0;const r=u(726);var z;y.IBufferService=r.createDecorator("BufferService"),y.ICoreMouseService=r.createDecorator("CoreMouseService"),y.ICoreService=r.createDecorator("CoreService"),y.ICharsetService=r.createDecorator("CharsetService"),y.IInstantiationService=r.createDecorator("InstantiationService"),function(a){a[a.TRACE=0]="TRACE",a[a.DEBUG=1]="DEBUG",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.OFF=5]="OFF"}(z||(y.LogLevelEnum=z={})),y.ILogService=r.createDecorator("LogService"),y.IOptionsService=r.createDecorator("OptionsService"),y.IOscLinkService=r.createDecorator("OscLinkService"),y.IUnicodeService=r.createDecorator("UnicodeService"),y.IDecorationService=r.createDecorator("DecorationService")}},W={};function q(V){var y=W[V];if(y!==void 0)return y.exports;var u=W[V]={exports:{}};return x[V].call(u.exports,u,u.exports,q),u.exports}var O={};return(()=>{var V=O;Object.defineProperty(V,"__esModule",{value:!0}),V.WebglAddon=void 0;const y=q(345),u=q(859),r=q(399),z=q(666),a=q(776);class L extends u.Disposable{constructor(_){if(r.isSafari&&r.getSafariVersion()<16)throw new Error("Webgl2 is only supported on Safari 16 and above");super(),this._preserveDrawingBuffer=_,this._onChangeTextureAtlas=this.register(new y.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new y.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new y.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new y.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(_){const S=_._core;if(!_.element)return void this.register(S.onWillOpen(()=>this.activate(_)));this._terminal=_;const{coreService:b,optionsService:f}=S,M=S,T=M._renderService,$=M._characterJoinerService,Z=M._charSizeService,w=M._coreBrowserService,s=M._decorationService,g=M._logService,R=M._themeService;a.setTraceLogger(g),this._renderer=this.register(new z.WebglRenderer(_,$,Z,w,b,s,f,R,this._preserveDrawingBuffer)),this.register(y.forwardEvent(this._renderer.onContextLoss,this._onContextLoss)),this.register(y.forwardEvent(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register(y.forwardEvent(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register(y.forwardEvent(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),T.setRenderer(this._renderer),this.register(u.toDisposable(()=>{const U=this._terminal._core._renderService;U.setRenderer(this._terminal._core._createRenderer()),U.handleResize(_.cols,_.rows)}))}get textureAtlas(){var _;return(_=this._renderer)===null||_===void 0?void 0:_.textureAtlas}clearTextureAtlas(){var _;(_=this._renderer)===null||_===void 0||_.clearTextureAtlas()}}V.WebglAddon=L})(),O})())});var G4=$0((Z6,s0)=>{(function(x,W){typeof Z6=="object"&&typeof s0=="object"?s0.exports=W():typeof define=="function"&&define.amd?define([],W):typeof Z6=="object"?Z6.FitAddon=W():x.FitAddon=W()})(self,()=>(()=>{var x={};return(()=>{var W=x;Object.defineProperty(W,"__esModule",{value:!0}),W.FitAddon=void 0,W.FitAddon=class{activate(q){this._terminal=q}dispose(){}fit(){const q=this.proposeDimensions();if(!q||!this._terminal||isNaN(q.cols)||isNaN(q.rows))return;const O=this._terminal._core;this._terminal.rows===q.rows&&this._terminal.cols===q.cols||(O._renderService.clear(),this._terminal.resize(q.cols,q.rows))}proposeDimensions(){if(!this._terminal)return;if(!this._terminal.element||!this._terminal.element.parentElement)return;const q=this._terminal._core,O=q._renderService.dimensions;if(O.css.cell.width===0||O.css.cell.height===0)return;const V=this._terminal.options.scrollback===0?0:q.viewport.scrollBarWidth,y=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(y.getPropertyValue("height")),r=Math.max(0,parseInt(y.getPropertyValue("width"))),z=window.getComputedStyle(this._terminal.element),a=u-(parseInt(z.getPropertyValue("padding-top"))+parseInt(z.getPropertyValue("padding-bottom"))),L=r-(parseInt(z.getPropertyValue("padding-right"))+parseInt(z.getPropertyValue("padding-left")))-V;return{cols:Math.max(2,Math.floor(L/O.css.cell.width)),rows:Math.max(1,Math.floor(a/O.css.cell.height))}}}})(),x})())});import{Text as P4} from"@blockcode/ui";import{Keys as Eu} from"@blockcode/core";import{Text as Iu} from"@blockcode/ui";import{jsx as Cu} from"preact/jsx-runtime";var Yu=/Mac/i.test(navigator.platform||navigator.userAgent);import{useLayout as Bl} from"@blockcode/core";import{ContextMenu as Ql} from"@blockcode/ui";import{CodeEditor as el} from"@blockcode/code-editor";import{useLocale as Yl} from"@blockcode/core";import{ComingSoon as tl} from"@blockcode/ui";function r2(x){const W=globalThis.document,q=W.createElement("style");q.appendChild(W.createTextNode(x)),W.head.append(q)}r2(".chtJGa_package-list{background:var(--ui-white);border-right:1px solid var(--ui-black-transparent);border-radius:inherit;flex-direction:column;display:flex;position:relative}.chtJGa_list-wrapper{width:60px}.chtJGa_package-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;height:3.25rem;position:absolute;bottom:-1px;left:-1px;right:-1px}.chtJGa_package-button:before{--fade-out-distance:15px;content:\"\";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.chtJGa_button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.chtJGa_button-icon{width:1.75rem;height:1.75rem}");var M3={packageList:"chtJGa_package-list",button:"chtJGa_button",buttonIcon:"chtJGa_button-icon",packageButton:"chtJGa_package-button",listWrapper:"chtJGa_list-wrapper"};var i4="./assets/icon-add-package-5a8496eef1cfaf22.svg";import{jsx as I3,jsxs as Cl} from"preact/jsx-runtime";function Z0(){const{getText:x}=Yl();return Cl("div",{className:M3.packageList,children:[I3("div",{className:M3.listWrapper}),I3(tl,{placement:"right",children:I3("div",{className:M3.packageButton,children:I3("button",{className:M3.button,title:x("micropython.packageList.addPackage","Add"),children:I3("img",{className:M3.buttonIcon,src:i4,title:"Add"})})})})]})}r2(".MlHfAq_code-editor-wrapper{flex-direction:row;width:100%;height:100%;display:flex}");var j4={codeEditorWrapper:"MlHfAq_code-editor-wrapper"};import{jsx as W0,jsxs as Al} from"preact/jsx-runtime";function w0(){const{setSplash:x}=Bl(),W=()=>{x(!1)};return Al("div",{className:j4.codeEditorWrapper,children:[W0(Z0,{}),W0(Ql,{children:W0(el,{onSetup:W})})]})}import{useRef as oo,useEffect as no} from"preact/hooks";import{useEditor as po} from"@blockcode/core";import{classNames as uo} from"@blockcode/ui";var D4=S0(H4(),1),I4=S0(J4(),1),Y4=S0(G4(),1);var g0={cursor:"#f8f8f8",foreground:"#f8f8f8",background:"#2d2e2c",selection:"#5da5d5",black:"#1e1e1d",brightblack:"#262625",red:"#ce5c5c",brightred:"#ff7272",green:"#5bcc5b",brightgreen:"#72ff72",yellow:"#cccc5b",brightyellow:"#ffff72",blue:"#5d5dd3",brightblue:"#7279ff",magenta:"#bc5ed1",brightmagenta:"#e572ff",cyan:"#5da5d5",brightcyan:"#72f0ff",white:"#f8f8f8",brightwhite:"#ffffff"};r2(".xterm{cursor:text;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{z-index:5;position:absolute;top:0}.xterm .xterm-helper-textarea{opacity:0;z-index:-5;white-space:nowrap;resize:none;border:0;width:0;height:0;margin:0;padding:0;position:absolute;top:0;left:-9999em;overflow:hidden}.xterm .composition-view{color:#fff;white-space:nowrap;z-index:1;background:#000;display:none;position:absolute}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{cursor:default;background-color:#000;position:absolute;inset:0;overflow-y:scroll}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;top:0;left:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{visibility:hidden;line-height:normal;display:inline-block;position:absolute;top:0;left:-9999em}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{z-index:10;color:#0000;pointer-events:none;position:absolute;inset:0}.xterm .live-region{width:1px;height:1px;position:absolute;left:-9999px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:underline double}.xterm-underline-3{text-decoration:underline wavy}.xterm-underline-4{text-decoration:underline dotted}.xterm-underline-5{text-decoration:underline dashed}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:underline overline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;pointer-events:none;position:absolute;top:0;right:0}.xterm-decoration-top{z-index:2;position:relative}");var E4=/Mac/i.test(navigator.platform||navigator.userAgent),lo=/Win/i.test(navigator.platform||navigator.userAgent);function X0(x){const W=new D4.Terminal({convertEol:!0,cursorBlink:!0,cursorInactiveStyle:"none",fontFamily:'"Cascadia Code", Menlo, monospace',fontSize:12,lineHeight:1.2,windowsMode:lo,macOptionIsMeta:E4,macOptionClickForcesSelection:E4,theme:g0});W.open(x),x.style.background=g0.background;const q=new I4.WebglAddon;W.loadAddon(q),q.onContextLoss(()=>q.dispose());const O=new Y4.FitAddon;return W.fit=()=>O.fit(),W.loadAddon(O),W.onWriteParsed(()=>W.fit()),W.element.addEventListener("focusin",()=>W.fit()),window.addEventListener("resize",()=>W.fit()),W}r2("._9aME7W_terminal-wrapper{border-radius:inherit;flex:1;padding:2px;display:flex;position:relative;overflow:hidden}._9aME7W_terminal-wrapper .xterm{position:absolute}");var t4={terminalWrapper:"_9aME7W_terminal-wrapper"};import{jsx as co} from"preact/jsx-runtime";function F0({className:x}){const W=oo(null),{device:q}=po();if(W.term)if(q){if(W.term.disabled=!1,q.serial.listenerCount("data")===0)q.serial.on("data",(O)=>W.term.write(O)),W.term.onData((O)=>q.writeAndReadUntil(O)),W.term.clear()}else W.term.disabled=!0,W.term._core._onData.clearListeners();return no(()=>{if(W.current)W.term=X0(W.current),W.term.disabled=!0,W.term.element.addEventListener("focusin",()=>{if(W.term.disabled)W.term.blur()}),W.resizeObserver=new window.ResizeObserver(()=>W.term.fit(!0)),W.resizeObserver.observe(W.current);return()=>{if(W.term)W.resizeObserver.unobserve(W.current),W.term=null}},[W]),co("div",{className:uo(t4.terminalWrapper,x),ref:W})}import{useLocale as au,useEditor as ru} from"@blockcode/core";import{classNames as Tl} from"@blockcode/ui";import{useLocale as uu,useEditor as cu} from"@blockcode/core";import{Serial as ko,sleep as j5} from"@blockcode/core";var mo=Object.create,{defineProperty:y6,getPrototypeOf:fo,getOwnPropertyNames:M9,getOwnPropertyDescriptor:ao}=Object,z9=Object.prototype.hasOwnProperty,_4=(x,W,q)=>{q=x!=null?mo(fo(x)):{};const O=W||!x||!x.__esModule?y6(q,"default",{value:x,enumerable:!0}):q;for(let V of M9(x))if(!z9.call(O,V))y6(O,V,{get:()=>x[V],enumerable:!0});return O},V9=(x)=>{const W=V9.moduleCache??=new WeakMap;var q=W.get(x);if(q)return q;var O=y6({},"__esModule",{value:!0}),V={enumerable:!1};if(x&&typeof x==="object"||typeof x==="function"){for(let y of M9(x))if(!z9.call(O,y))y6(O,y,{get:()=>x[y],enumerable:!(V=ao(x,y))||V.enumerable})}return W.set(x,O),O},_0=(x,W)=>()=>(W||x((W={exports:{}}).exports,W),W.exports),j2=(x,W)=>{for(var q in W)y6(x,q,{get:W[q],enumerable:!0,configurable:!0,set:(O)=>W[q]=()=>O})},L2=(x,W)=>()=>(x&&(W=x(x=0)),W),ro=((x)=>typeof c3!=="undefined"?c3:typeof Proxy!=="undefined"?new Proxy(x,{get:(W,q)=>(typeof c3!=="undefined"?c3:W)[q]}):x)(function(x){if(typeof c3!=="undefined")return c3.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')}),S9={};j2(S9,{webcrypto:()=>a0,timingSafeEqual:()=>O3,scryptSync:()=>c6,scrypt:()=>m6,randomUUID:()=>d0,getRandomValues:()=>f0,getCurves:()=>m0,default:()=>u4,DEFAULT_ENCODING:()=>v3});var m0,C4,Y3,B4,Q4,e4,A4,W6,h1,t3,C3,w6,D2,S2,l8,o8,N2,H1,m3,i1,I2,k0,B3,n8,P0,f3,U0,K0,i0,d3,O6,z3,j0,Q3,R6,p8,u8,H0,J0,c8,m8,f8,G0,s6,g6,a3,d8,a8,E0,r8,D0,h8,X6,b2,g2,F6,M2,e3,I0,X2,y8,Y2,t2,C2,v8,r3,k6,P6,_8,U6,Y0,A3,t0,x8,F2,C0,B0,K6,b8,Q0,L8,e0,i6,q8,N8,H2,V3,T8,A0,l5,o5,M8,n5,p5,u5,c5,z8,m5,f5,$2,j6,d5,V8,S8,$8,Z8,W8,S3,w8,O8,R8,s8,g8,a5,r5,h5,H6,l6,X8,y5,v5,o6,F8,k8,J6,P8,U8,B2,_5,K8,i8,G6,x5,b5,j8,H8,J8,L5,G8,q5,h3,N5,T5,y3,E6,E8,D8,M5,z5,I8,Y8,t8,D6,I6,C8,k2,V5,Z2,n6,B8,Q8,e8,S5,s2,$3,$5,A8,Z5,l7,W5,o7,n7,p7,u7,Y6,c7,t6,m7,f7,d7,a7,r7,h7,y7,C6,w5,B6,Q6,Z3,e6,A6,O5,v7,R5,s5,_7,g5,x7,b7,L7,X5,q7,N7,T7,M7,p6,F5,z7,V7,S7,$7,Z7,k5,P5,l0,U5,W7,w7,O7,R7,K5,i5,s7,v3,f0,d0,g7,O3,c6,m6,a0,u4,ho=L2(()=>{m0=function(){return g7},C4=Object.create,Y3=Object.defineProperty,B4=Object.getOwnPropertyDescriptor,Q4=Object.getOwnPropertyNames,e4=Object.getPrototypeOf,A4=Object.prototype.hasOwnProperty,W6=(x,W)=>()=>(x&&(W=x(x=0)),W),h1=(x,W)=>()=>(W||x((W={exports:{}}).exports,W),W.exports),t3=(x,W)=>{for(var q in W)Y3(x,q,{get:W[q],enumerable:!0})},C3=(x,W,q,O)=>{if(W&&typeof W=="object"||typeof W=="function")for(let V of Q4(W))!A4.call(x,V)&&V!==q&&Y3(x,V,{get:()=>W[V],enumerable:!(O=B4(W,V))||O.enumerable});return x},w6=(x,W,q)=>(C3(x,W,"default"),q&&C3(q,W,"default")),D2=(x,W,q)=>(q=x!=null?C4(e4(x)):{},C3(W||!x||!x.__esModule?Y3(q,"default",{value:x,enumerable:!0}):q,x)),S2=(x)=>C3(Y3({},"__esModule",{value:!0}),x),l8=h1((x)=>{x.byteLength=z,x.toByteArray=L,x.fromByteArray=b;var W=[],q=[],O=typeof Uint8Array<"u"?Uint8Array:Array,V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(y=0,u=V.length;y<u;++y)W[y]=V[y],q[V.charCodeAt(y)]=y;var y,u;q["-".charCodeAt(0)]=62,q["_".charCodeAt(0)]=63;function r(f){var M=f.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=f.indexOf("=");T===-1&&(T=M);var $=T===M?0:4-T%4;return[T,$]}function z(f){var M=r(f),T=M[0],$=M[1];return(T+$)*3/4-$}function a(f,M,T){return(M+T)*3/4-T}function L(f){var M,T=r(f),$=T[0],Z=T[1],w=new O(a(f,$,Z)),s=0,g=Z>0?$-4:$,R;for(R=0;R<g;R+=4)M=q[f.charCodeAt(R)]<<18|q[f.charCodeAt(R+1)]<<12|q[f.charCodeAt(R+2)]<<6|q[f.charCodeAt(R+3)],w[s++]=M>>16&255,w[s++]=M>>8&255,w[s++]=M&255;return Z===2&&(M=q[f.charCodeAt(R)]<<2|q[f.charCodeAt(R+1)]>>4,w[s++]=M&255),Z===1&&(M=q[f.charCodeAt(R)]<<10|q[f.charCodeAt(R+1)]<<4|q[f.charCodeAt(R+2)]>>2,w[s++]=M>>8&255,w[s++]=M&255),w}function _(f){return W[f>>18&63]+W[f>>12&63]+W[f>>6&63]+W[f&63]}function S(f,M,T){for(var $,Z=[],w=M;w<T;w+=3)$=(f[w]<<16&16711680)+(f[w+1]<<8&65280)+(f[w+2]&255),Z.push(_($));return Z.join("")}function b(f){for(var M,T=f.length,$=T%3,Z=[],w=16383,s=0,g=T-$;s<g;s+=w)Z.push(S(f,s,s+w>g?g:s+w));return $===1?(M=f[T-1],Z.push(W[M>>2]+W[M<<4&63]+"==")):$===2&&(M=(f[T-2]<<8)+f[T-1],Z.push(W[M>>10]+W[M>>4&63]+W[M<<2&63]+"=")),Z.join("")}}),o8=h1((x)=>{x.read=function(W,q,O,V,y){var u,r,z=y*8-V-1,a=(1<<z)-1,L=a>>1,_=-7,S=O?y-1:0,b=O?-1:1,f=W[q+S];for(S+=b,u=f&(1<<-_)-1,f>>=-_,_+=z;_>0;u=u*256+W[q+S],S+=b,_-=8);for(r=u&(1<<-_)-1,u>>=-_,_+=V;_>0;r=r*256+W[q+S],S+=b,_-=8);if(u===0)u=1-L;else{if(u===a)return r?NaN:(f?-1:1)*(1/0);r=r+Math.pow(2,V),u=u-L}return(f?-1:1)*r*Math.pow(2,u-V)},x.write=function(W,q,O,V,y,u){var r,z,a,L=u*8-y-1,_=(1<<L)-1,S=_>>1,b=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=V?0:u-1,M=V?1:-1,T=q<0||q===0&&1/q<0?1:0;for(q=Math.abs(q),isNaN(q)||q===1/0?(z=isNaN(q)?1:0,r=_):(r=Math.floor(Math.log(q)/Math.LN2),q*(a=Math.pow(2,-r))<1&&(r--,a*=2),r+S>=1?q+=b/a:q+=b*Math.pow(2,1-S),q*a>=2&&(r++,a/=2),r+S>=_?(z=0,r=_):r+S>=1?(z=(q*a-1)*Math.pow(2,y),r=r+S):(z=q*Math.pow(2,S-1)*Math.pow(2,y),r=0));y>=8;W[O+f]=z&255,f+=M,z/=256,y-=8);for(r=r<<y|z,L+=y;L>0;W[O+f]=r&255,f+=M,r/=256,L-=8);W[O+f-M]|=T*128}}),N2=h1((x)=>{var W=l8(),q=o8(),O=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;x.Buffer=r,x.SlowBuffer=Z,x.INSPECT_MAX_BYTES=50;var V=2147483647;x.kMaxLength=V,r.TYPED_ARRAY_SUPPORT=y(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{let F=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(F,i),F.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function u(F){if(F>V)throw new RangeError('The value "'+F+'" is invalid for option "size"');let i=new Uint8Array(F);return Object.setPrototypeOf(i,r.prototype),i}function r(F,i,t){if(typeof F=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(F)}return z(F,i,t)}r.poolSize=8192;function z(F,i,t){if(typeof F=="string")return S(F,i);if(ArrayBuffer.isView(F))return f(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(d1(F,ArrayBuffer)||F&&d1(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(d1(F,SharedArrayBuffer)||F&&d1(F.buffer,SharedArrayBuffer)))return M(F,i,t);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let C=F.valueOf&&F.valueOf();if(C!=null&&C!==F)return r.from(C,i,t);let l1=T(F);if(l1)return l1;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return r.from(F[Symbol.toPrimitive]("string"),i,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}r.from=function(F,i,t){return z(F,i,t)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function a(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function L(F,i,t){return a(F),F<=0?u(F):i!==void 0?typeof t=="string"?u(F).fill(i,t):u(F).fill(i):u(F)}r.alloc=function(F,i,t){return L(F,i,t)};function _(F){return a(F),u(F<0?0:$(F)|0)}r.allocUnsafe=function(F){return _(F)},r.allocUnsafeSlow=function(F){return _(F)};function S(F,i){if((typeof i!="string"||i==="")&&(i="utf8"),!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i);let t=w(F,i)|0,C=u(t),l1=C.write(F,i);return l1!==t&&(C=C.slice(0,l1)),C}function b(F){let i=F.length<0?0:$(F.length)|0,t=u(i);for(let C=0;C<i;C+=1)t[C]=F[C]&255;return t}function f(F){if(d1(F,Uint8Array)){let i=new Uint8Array(F);return M(i.buffer,i.byteOffset,i.byteLength)}return b(F)}function M(F,i,t){if(i<0||F.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<i+(t||0))throw new RangeError('"length" is outside of buffer bounds');let C;return i===void 0&&t===void 0?C=new Uint8Array(F):t===void 0?C=new Uint8Array(F,i):C=new Uint8Array(F,i,t),Object.setPrototypeOf(C,r.prototype),C}function T(F){if(r.isBuffer(F)){let i=$(F.length)|0,t=u(i);return t.length===0||F.copy(t,0,0,i),t}if(F.length!==void 0)return typeof F.length!="number"||F1(F.length)?u(0):b(F);if(F.type==="Buffer"&&Array.isArray(F.data))return b(F.data)}function $(F){if(F>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return F|0}function Z(F){return+F!=F&&(F=0),r.alloc(+F)}r.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==r.prototype},r.compare=function(F,i){if(d1(F,Uint8Array)&&(F=r.from(F,F.offset,F.byteLength)),d1(i,Uint8Array)&&(i=r.from(i,i.offset,i.byteLength)),!r.isBuffer(F)||!r.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===i)return 0;let t=F.length,C=i.length;for(let l1=0,b1=Math.min(t,C);l1<b1;++l1)if(F[l1]!==i[l1]){t=F[l1],C=i[l1];break}return t<C?-1:C<t?1:0},r.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(F,i){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return r.alloc(0);let t;if(i===void 0)for(i=0,t=0;t<F.length;++t)i+=F[t].length;let C=r.allocUnsafe(i),l1=0;for(t=0;t<F.length;++t){let b1=F[t];if(d1(b1,Uint8Array))l1+b1.length>C.length?(r.isBuffer(b1)||(b1=r.from(b1)),b1.copy(C,l1)):Uint8Array.prototype.set.call(C,b1,l1);else if(r.isBuffer(b1))b1.copy(C,l1);else throw new TypeError('"list" argument must be an Array of Buffers');l1+=b1.length}return C};function w(F,i){if(r.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||d1(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);let t=F.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&t===0)return 0;let l1=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return p1(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return M1(F).length;default:if(l1)return C?-1:p1(F).length;i=(""+i).toLowerCase(),l1=!0}}r.byteLength=w;function s(F,i,t){let C=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,i>>>=0,t<=i))return"";for(F||(F="utf8");;)switch(F){case"hex":return d(this,i,t);case"utf8":case"utf-8":return m(this,i,t);case"ascii":return v(this,i,t);case"latin1":case"binary":return N(this,i,t);case"base64":return p(this,i,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,i,t);default:if(C)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),C=!0}}r.prototype._isBuffer=!0;function g(F,i,t){let C=F[i];F[i]=F[t],F[t]=C}r.prototype.swap16=function(){let F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<F;i+=2)g(this,i,i+1);return this},r.prototype.swap32=function(){let F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<F;i+=4)g(this,i,i+3),g(this,i+1,i+2);return this},r.prototype.swap64=function(){let F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<F;i+=8)g(this,i,i+7),g(this,i+1,i+6),g(this,i+2,i+5),g(this,i+3,i+4);return this},r.prototype.toString=function(){let F=this.length;return F===0?"":arguments.length===0?m(this,0,F):s.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(F){if(!r.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:r.compare(this,F)===0},r.prototype.inspect=function(){let F="",i=x.INSPECT_MAX_BYTES;return F=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(F+=" ... "),"<Buffer "+F+">"},O&&(r.prototype[O]=r.prototype.inspect),r.prototype.compare=function(F,i,t,C,l1){if(d1(F,Uint8Array)&&(F=r.from(F,F.offset,F.byteLength)),!r.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(i===void 0&&(i=0),t===void 0&&(t=F?F.length:0),C===void 0&&(C=0),l1===void 0&&(l1=this.length),i<0||t>F.length||C<0||l1>this.length)throw new RangeError("out of range index");if(C>=l1&&i>=t)return 0;if(C>=l1)return-1;if(i>=t)return 1;if(i>>>=0,t>>>=0,C>>>=0,l1>>>=0,this===F)return 0;let b1=l1-C,m1=t-i,v1=Math.min(b1,m1),j1=this.slice(C,l1),x1=F.slice(i,t);for(let _1=0;_1<v1;++_1)if(j1[_1]!==x1[_1]){b1=j1[_1],m1=x1[_1];break}return b1<m1?-1:m1<b1?1:0};function R(F,i,t,C,l1){if(F.length===0)return-1;if(typeof t=="string"?(C=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,F1(t)&&(t=l1?0:F.length-1),t<0&&(t=F.length+t),t>=F.length){if(l1)return-1;t=F.length-1}else if(t<0)if(l1)t=0;else return-1;if(typeof i=="string"&&(i=r.from(i,C)),r.isBuffer(i))return i.length===0?-1:U(F,i,t,C,l1);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?l1?Uint8Array.prototype.indexOf.call(F,i,t):Uint8Array.prototype.lastIndexOf.call(F,i,t):U(F,[i],t,C,l1);throw new TypeError("val must be string, number or Buffer")}function U(F,i,t,C,l1){let b1=1,m1=F.length,v1=i.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(F.length<2||i.length<2)return-1;b1=2,m1/=2,v1/=2,t/=2}function j1(_1,P1){return b1===1?_1[P1]:_1.readUInt16BE(P1*b1)}let x1;if(l1){let _1=-1;for(x1=t;x1<m1;x1++)if(j1(F,x1)===j1(i,_1===-1?0:x1-_1)){if(_1===-1&&(_1=x1),x1-_1+1===v1)return _1*b1}else _1!==-1&&(x1-=x1-_1),_1=-1}else for(t+v1>m1&&(t=m1-v1),x1=t;x1>=0;x1--){let _1=!0;for(let P1=0;P1<v1;P1++)if(j1(F,x1+P1)!==j1(i,P1)){_1=!1;break}if(_1)return x1}return-1}r.prototype.includes=function(F,i,t){return this.indexOf(F,i,t)!==-1},r.prototype.indexOf=function(F,i,t){return R(this,F,i,t,!0)},r.prototype.lastIndexOf=function(F,i,t){return R(this,F,i,t,!1)};function j(F,i,t,C){t=Number(t)||0;let l1=F.length-t;C?(C=Number(C),C>l1&&(C=l1)):C=l1;let b1=i.length;C>b1/2&&(C=b1/2);let m1;for(m1=0;m1<C;++m1){let v1=parseInt(i.substr(m1*2,2),16);if(F1(v1))return m1;F[t+m1]=v1}return m1}function J(F,i,t,C){return f1(p1(i,F.length-t),F,t,C)}function H(F,i,t,C){return f1(u1(i),F,t,C)}function D(F,i,t,C){return f1(M1(i),F,t,C)}function l(F,i,t,C){return f1(o1(i,F.length-t),F,t,C)}r.prototype.write=function(F,i,t,C){if(i===void 0)C="utf8",t=this.length,i=0;else if(t===void 0&&typeof i=="string")C=i,t=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(t)?(t=t>>>0,C===void 0&&(C="utf8")):(C=t,t=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let l1=this.length-i;if((t===void 0||t>l1)&&(t=l1),F.length>0&&(t<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let b1=!1;for(;;)switch(C){case"hex":return j(this,F,i,t);case"utf8":case"utf-8":return J(this,F,i,t);case"ascii":case"latin1":case"binary":return H(this,F,i,t);case"base64":return D(this,F,i,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,F,i,t);default:if(b1)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),b1=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(F,i,t){return i===0&&t===F.length?W.fromByteArray(F):W.fromByteArray(F.slice(i,t))}function m(F,i,t){t=Math.min(F.length,t);let C=[],l1=i;for(;l1<t;){let b1=F[l1],m1=null,v1=b1>239?4:b1>223?3:b1>191?2:1;if(l1+v1<=t){let j1,x1,_1,P1;switch(v1){case 1:b1<128&&(m1=b1);break;case 2:j1=F[l1+1],(j1&192)===128&&(P1=(b1&31)<<6|j1&63,P1>127&&(m1=P1));break;case 3:j1=F[l1+1],x1=F[l1+2],(j1&192)===128&&(x1&192)===128&&(P1=(b1&15)<<12|(j1&63)<<6|x1&63,P1>2047&&(P1<55296||P1>57343)&&(m1=P1));break;case 4:j1=F[l1+1],x1=F[l1+2],_1=F[l1+3],(j1&192)===128&&(x1&192)===128&&(_1&192)===128&&(P1=(b1&15)<<18|(j1&63)<<12|(x1&63)<<6|_1&63,P1>65535&&P1<1114112&&(m1=P1))}}m1===null?(m1=65533,v1=1):m1>65535&&(m1-=65536,C.push(m1>>>10&1023|55296),m1=56320|m1&1023),C.push(m1),l1+=v1}return c(C)}var n=4096;function c(F){let i=F.length;if(i<=n)return String.fromCharCode.apply(String,F);let t="",C=0;for(;C<i;)t+=String.fromCharCode.apply(String,F.slice(C,C+=n));return t}function v(F,i,t){let C="";t=Math.min(F.length,t);for(let l1=i;l1<t;++l1)C+=String.fromCharCode(F[l1]&127);return C}function N(F,i,t){let C="";t=Math.min(F.length,t);for(let l1=i;l1<t;++l1)C+=String.fromCharCode(F[l1]);return C}function d(F,i,t){let C=F.length;(!i||i<0)&&(i=0),(!t||t<0||t>C)&&(t=C);let l1="";for(let b1=i;b1<t;++b1)l1+=y1[F[b1]];return l1}function o(F,i,t){let C=F.slice(i,t),l1="";for(let b1=0;b1<C.length-1;b1+=2)l1+=String.fromCharCode(C[b1]+C[b1+1]*256);return l1}r.prototype.slice=function(F,i){let t=this.length;F=~~F,i=i===void 0?t:~~i,F<0?(F+=t,F<0&&(F=0)):F>t&&(F=t),i<0?(i+=t,i<0&&(i=0)):i>t&&(i=t),i<F&&(i=F);let C=this.subarray(F,i);return Object.setPrototypeOf(C,r.prototype),C};function h(F,i,t){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+i>t)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(F,i,t){F=F>>>0,i=i>>>0,t||h(F,i,this.length);let C=this[F],l1=1,b1=0;for(;++b1<i&&(l1*=256);)C+=this[F+b1]*l1;return C},r.prototype.readUintBE=r.prototype.readUIntBE=function(F,i,t){F=F>>>0,i=i>>>0,t||h(F,i,this.length);let C=this[F+--i],l1=1;for(;i>0&&(l1*=256);)C+=this[F+--i]*l1;return C},r.prototype.readUint8=r.prototype.readUInt8=function(F,i){return F=F>>>0,i||h(F,1,this.length),this[F]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(F,i){return F=F>>>0,i||h(F,2,this.length),this[F]|this[F+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(F,i){return F=F>>>0,i||h(F,2,this.length),this[F]<<8|this[F+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(F,i){return F=F>>>0,i||h(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(F,i){return F=F>>>0,i||h(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},r.prototype.readBigUInt64LE=a1(function(F){F=F>>>0,c1(F,"offset");let i=this[F],t=this[F+7];(i===void 0||t===void 0)&&G(F,this.length-8);let C=i+this[++F]*256+this[++F]*65536+this[++F]*16777216,l1=this[++F]+this[++F]*256+this[++F]*65536+t*16777216;return BigInt(C)+(BigInt(l1)<<BigInt(32))}),r.prototype.readBigUInt64BE=a1(function(F){F=F>>>0,c1(F,"offset");let i=this[F],t=this[F+7];(i===void 0||t===void 0)&&G(F,this.length-8);let C=i*16777216+this[++F]*65536+this[++F]*256+this[++F],l1=this[++F]*16777216+this[++F]*65536+this[++F]*256+t;return(BigInt(C)<<BigInt(32))+BigInt(l1)}),r.prototype.readIntLE=function(F,i,t){F=F>>>0,i=i>>>0,t||h(F,i,this.length);let C=this[F],l1=1,b1=0;for(;++b1<i&&(l1*=256);)C+=this[F+b1]*l1;return l1*=128,C>=l1&&(C-=Math.pow(2,8*i)),C},r.prototype.readIntBE=function(F,i,t){F=F>>>0,i=i>>>0,t||h(F,i,this.length);let C=i,l1=1,b1=this[F+--C];for(;C>0&&(l1*=256);)b1+=this[F+--C]*l1;return l1*=128,b1>=l1&&(b1-=Math.pow(2,8*i)),b1},r.prototype.readInt8=function(F,i){return F=F>>>0,i||h(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},r.prototype.readInt16LE=function(F,i){F=F>>>0,i||h(F,2,this.length);let t=this[F]|this[F+1]<<8;return t&32768?t|4294901760:t},r.prototype.readInt16BE=function(F,i){F=F>>>0,i||h(F,2,this.length);let t=this[F+1]|this[F]<<8;return t&32768?t|4294901760:t},r.prototype.readInt32LE=function(F,i){return F=F>>>0,i||h(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},r.prototype.readInt32BE=function(F,i){return F=F>>>0,i||h(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},r.prototype.readBigInt64LE=a1(function(F){F=F>>>0,c1(F,"offset");let i=this[F],t=this[F+7];(i===void 0||t===void 0)&&G(F,this.length-8);let C=this[F+4]+this[F+5]*256+this[F+6]*65536+(t<<24);return(BigInt(C)<<BigInt(32))+BigInt(i+this[++F]*256+this[++F]*65536+this[++F]*16777216)}),r.prototype.readBigInt64BE=a1(function(F){F=F>>>0,c1(F,"offset");let i=this[F],t=this[F+7];(i===void 0||t===void 0)&&G(F,this.length-8);let C=(i<<24)+this[++F]*65536+this[++F]*256+this[++F];return(BigInt(C)<<BigInt(32))+BigInt(this[++F]*16777216+this[++F]*65536+this[++F]*256+t)}),r.prototype.readFloatLE=function(F,i){return F=F>>>0,i||h(F,4,this.length),q.read(this,F,!0,23,4)},r.prototype.readFloatBE=function(F,i){return F=F>>>0,i||h(F,4,this.length),q.read(this,F,!1,23,4)},r.prototype.readDoubleLE=function(F,i){return F=F>>>0,i||h(F,8,this.length),q.read(this,F,!0,52,8)},r.prototype.readDoubleBE=function(F,i){return F=F>>>0,i||h(F,8,this.length),q.read(this,F,!1,52,8)};function P(F,i,t,C,l1,b1){if(!r.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>l1||i<b1)throw new RangeError('"value" argument is out of bounds');if(t+C>F.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(F,i,t,C){if(F=+F,i=i>>>0,t=t>>>0,!C){let m1=Math.pow(2,8*t)-1;P(this,F,i,t,m1,0)}let l1=1,b1=0;for(this[i]=F&255;++b1<t&&(l1*=256);)this[i+b1]=F/l1&255;return i+t},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(F,i,t,C){if(F=+F,i=i>>>0,t=t>>>0,!C){let m1=Math.pow(2,8*t)-1;P(this,F,i,t,m1,0)}let l1=t-1,b1=1;for(this[i+l1]=F&255;--l1>=0&&(b1*=256);)this[i+l1]=F/b1&255;return i+t},r.prototype.writeUint8=r.prototype.writeUInt8=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,1,255,0),this[i]=F&255,i+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,2,65535,0),this[i]=F&255,this[i+1]=F>>>8,i+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,2,65535,0),this[i]=F>>>8,this[i+1]=F&255,i+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,4,4294967295,0),this[i+3]=F>>>24,this[i+2]=F>>>16,this[i+1]=F>>>8,this[i]=F&255,i+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,4,4294967295,0),this[i]=F>>>24,this[i+1]=F>>>16,this[i+2]=F>>>8,this[i+3]=F&255,i+4};function X(F,i,t,C,l1){n1(i,C,l1,F,t,7);let b1=Number(i&BigInt(4294967295));F[t++]=b1,b1=b1>>8,F[t++]=b1,b1=b1>>8,F[t++]=b1,b1=b1>>8,F[t++]=b1;let m1=Number(i>>BigInt(32)&BigInt(4294967295));return F[t++]=m1,m1=m1>>8,F[t++]=m1,m1=m1>>8,F[t++]=m1,m1=m1>>8,F[t++]=m1,t}function k(F,i,t,C,l1){n1(i,C,l1,F,t,7);let b1=Number(i&BigInt(4294967295));F[t+7]=b1,b1=b1>>8,F[t+6]=b1,b1=b1>>8,F[t+5]=b1,b1=b1>>8,F[t+4]=b1;let m1=Number(i>>BigInt(32)&BigInt(4294967295));return F[t+3]=m1,m1=m1>>8,F[t+2]=m1,m1=m1>>8,F[t+1]=m1,m1=m1>>8,F[t]=m1,t+8}r.prototype.writeBigUInt64LE=a1(function(F,i=0){return X(this,F,i,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=a1(function(F,i=0){return k(this,F,i,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(F,i,t,C){if(F=+F,i=i>>>0,!C){let v1=Math.pow(2,8*t-1);P(this,F,i,t,v1-1,-v1)}let l1=0,b1=1,m1=0;for(this[i]=F&255;++l1<t&&(b1*=256);)F<0&&m1===0&&this[i+l1-1]!==0&&(m1=1),this[i+l1]=(F/b1>>0)-m1&255;return i+t},r.prototype.writeIntBE=function(F,i,t,C){if(F=+F,i=i>>>0,!C){let v1=Math.pow(2,8*t-1);P(this,F,i,t,v1-1,-v1)}let l1=t-1,b1=1,m1=0;for(this[i+l1]=F&255;--l1>=0&&(b1*=256);)F<0&&m1===0&&this[i+l1+1]!==0&&(m1=1),this[i+l1]=(F/b1>>0)-m1&255;return i+t},r.prototype.writeInt8=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,1,127,-128),F<0&&(F=255+F+1),this[i]=F&255,i+1},r.prototype.writeInt16LE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,2,32767,-32768),this[i]=F&255,this[i+1]=F>>>8,i+2},r.prototype.writeInt16BE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,2,32767,-32768),this[i]=F>>>8,this[i+1]=F&255,i+2},r.prototype.writeInt32LE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,4,2147483647,-2147483648),this[i]=F&255,this[i+1]=F>>>8,this[i+2]=F>>>16,this[i+3]=F>>>24,i+4},r.prototype.writeInt32BE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[i]=F>>>24,this[i+1]=F>>>16,this[i+2]=F>>>8,this[i+3]=F&255,i+4},r.prototype.writeBigInt64LE=a1(function(F,i=0){return X(this,F,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=a1(function(F,i=0){return k(this,F,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(F,i,t,C,l1,b1){if(t+C>F.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Q(F,i,t,C,l1){return i=+i,t=t>>>0,l1||I(F,i,t,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),q.write(F,i,t,C,23,4),t+4}r.prototype.writeFloatLE=function(F,i,t){return Q(this,F,i,!0,t)},r.prototype.writeFloatBE=function(F,i,t){return Q(this,F,i,!1,t)};function e(F,i,t,C,l1){return i=+i,t=t>>>0,l1||I(F,i,t,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),q.write(F,i,t,C,52,8),t+8}r.prototype.writeDoubleLE=function(F,i,t){return e(this,F,i,!0,t)},r.prototype.writeDoubleBE=function(F,i,t){return e(this,F,i,!1,t)},r.prototype.copy=function(F,i,t,C){if(!r.isBuffer(F))throw new TypeError("argument should be a Buffer");if(t||(t=0),!C&&C!==0&&(C=this.length),i>=F.length&&(i=F.length),i||(i=0),C>0&&C<t&&(C=t),C===t||F.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),F.length-i<C-t&&(C=F.length-i+t);let l1=C-t;return this===F&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,t,C):Uint8Array.prototype.set.call(F,this.subarray(t,C),i),l1},r.prototype.fill=function(F,i,t,C){if(typeof F=="string"){if(typeof i=="string"?(C=i,i=0,t=this.length):typeof t=="string"&&(C=t,t=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!r.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(F.length===1){let b1=F.charCodeAt(0);(C==="utf8"&&b1<128||C==="latin1")&&(F=b1)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(i<0||this.length<i||this.length<t)throw new RangeError("Out of range index");if(t<=i)return this;i=i>>>0,t=t===void 0?this.length:t>>>0,F||(F=0);let l1;if(typeof F=="number")for(l1=i;l1<t;++l1)this[l1]=F;else{let b1=r.isBuffer(F)?F:r.from(F,C),m1=b1.length;if(m1===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(l1=0;l1<t-i;++l1)this[l1+i]=b1[l1%m1]}return this};var B={};function E(F,i,t){B[F]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,this.stack,delete this.name}get code(){return F}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}E("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E("ERR_INVALID_ARG_TYPE",function(F,i){return`The "${F}" argument must be of type number. Received type ${typeof i}`},TypeError),E("ERR_OUT_OF_RANGE",function(F,i,t){let C=`The value of "${F}" is out of range.`,l1=t;return Number.isInteger(t)&&Math.abs(t)>4294967296?l1=A(String(t)):typeof t=="bigint"&&(l1=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(l1=A(l1)),l1+="n"),C+=` It must be ${i}. Received ${l1}`,C},RangeError);function A(F){let i="",t=F.length,C=F[0]==="-"?1:0;for(;t>=C+4;t-=3)i=`_${F.slice(t-3,t)}${i}`;return`${F.slice(0,t)}${i}`}function r1(F,i,t){c1(i,"offset"),(F[i]===void 0||F[i+t]===void 0)&&G(i,F.length-(t+1))}function n1(F,i,t,C,l1,b1){if(F>t||F<i){let m1=typeof i=="bigint"?"n":"",v1;throw b1>3?i===0||i===BigInt(0)?v1=`>= 0${m1} and < 2${m1} ** ${(b1+1)*8}${m1}`:v1=`>= -(2${m1} ** ${(b1+1)*8-1}${m1}) and < 2 ** ${(b1+1)*8-1}${m1}`:v1=`>= ${i}${m1} and <= ${t}${m1}`,new B.ERR_OUT_OF_RANGE("value",v1,F)}r1(C,l1,b1)}function c1(F,i){if(typeof F!="number")throw new B.ERR_INVALID_ARG_TYPE(i,"number",F)}function G(F,i,t){throw Math.floor(F)!==F?(c1(F,t),new B.ERR_OUT_OF_RANGE(t||"offset","an integer",F)):i<0?new B.ERR_BUFFER_OUT_OF_BOUNDS:new B.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${i}`,F)}var K=/[^+/0-9A-Za-z-_]/g;function Y(F){if(F=F.split("=")[0],F=F.trim().replace(K,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function p1(F,i){i=i||1/0;let t,C=F.length,l1=null,b1=[];for(let m1=0;m1<C;++m1){if(t=F.charCodeAt(m1),t>55295&&t<57344){if(!l1){if(t>56319){(i-=3)>-1&&b1.push(239,191,189);continue}else if(m1+1===C){(i-=3)>-1&&b1.push(239,191,189);continue}l1=t;continue}if(t<56320){(i-=3)>-1&&b1.push(239,191,189),l1=t;continue}t=(l1-55296<<10|t-56320)+65536}else l1&&(i-=3)>-1&&b1.push(239,191,189);if(l1=null,t<128){if((i-=1)<0)break;b1.push(t)}else if(t<2048){if((i-=2)<0)break;b1.push(t>>6|192,t&63|128)}else if(t<65536){if((i-=3)<0)break;b1.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((i-=4)<0)break;b1.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return b1}function u1(F){let i=[];for(let t=0;t<F.length;++t)i.push(F.charCodeAt(t)&255);return i}function o1(F,i){let t,C,l1,b1=[];for(let m1=0;m1<F.length&&!((i-=2)<0);++m1)t=F.charCodeAt(m1),C=t>>8,l1=t%256,b1.push(l1),b1.push(C);return b1}function M1(F){return W.toByteArray(Y(F))}function f1(F,i,t,C){let l1;for(l1=0;l1<C&&!(l1+t>=i.length||l1>=F.length);++l1)i[l1+t]=F[l1];return l1}function d1(F,i){return F instanceof i||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===i.name}function F1(F){return F!==F}var y1=function(){let F="0123456789abcdef",i=new Array(256);for(let t=0;t<16;++t){let C=t*16;for(let l1=0;l1<16;++l1)i[C+l1]=F[t]+F[l1]}return i}();function a1(F){return typeof BigInt>"u"?k1:F}function k1(){throw new Error("BigInt not supported")}}),H1=h1((x,W)=>{var q=N2(),O=q.Buffer;function V(u,r){for(var z in u)r[z]=u[z]}O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?W.exports=q:(V(q,x),x.Buffer=y);function y(u,r,z){return O(u,r,z)}y.prototype=Object.create(O.prototype),V(O,y),y.from=function(u,r,z){if(typeof u=="number")throw new TypeError("Argument must not be a number");return O(u,r,z)},y.alloc=function(u,r,z){if(typeof u!="number")throw new TypeError("Argument must be a number");var a=O(u);return r!==void 0?typeof z=="string"?a.fill(r,z):a.fill(r):a.fill(0),a},y.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return O(u)},y.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return q.SlowBuffer(u)}}),m3=h1((x,W)=>{var q=65536,O=4294967295;function V(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var y=H1().Buffer,u=global.crypto||global.msCrypto;u&&u.getRandomValues?W.exports=r:W.exports=V;function r(z,a){if(z>O)throw new RangeError("requested too many random bytes");var L=y.allocUnsafe(z);if(z>0)if(z>q)for(var _=0;_<z;_+=q)u.getRandomValues(L.slice(_,_+q));else u.getRandomValues(L);return typeof a=="function"?process.nextTick(function(){a(null,L)}):L}}),i1=h1((x,W)=>{typeof Object.create=="function"?W.exports=function(q,O){O&&(q.super_=O,q.prototype=Object.create(O.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}))}:W.exports=function(q,O){if(O){q.super_=O;var V=function(){};V.prototype=O.prototype,q.prototype=new V,q.prototype.constructor=q}}}),I2=h1((x,W)=>{var q=typeof Reflect=="object"?Reflect:null,O=q&&typeof q.apply=="function"?q.apply:function(R,U,j){return Function.prototype.apply.call(R,U,j)},V;q&&typeof q.ownKeys=="function"?V=q.ownKeys:Object.getOwnPropertySymbols?V=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:V=function(R){return Object.getOwnPropertyNames(R)};function y(R){console&&console.warn&&console.warn(R)}var u=Number.isNaN||function(R){return R!==R};function r(){r.init.call(this)}W.exports=r,W.exports.once=w,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var z=10;function a(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return z},set:function(R){if(typeof R!="number"||R<0||u(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");z=R}}),r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||u(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function L(R){return R._maxListeners===void 0?r.defaultMaxListeners:R._maxListeners}r.prototype.getMaxListeners=function(){return L(this)},r.prototype.emit=function(R){for(var U=[],j=1;j<arguments.length;j++)U.push(arguments[j]);var J=R==="error",H=this._events;if(H!==void 0)J=J&&H.error===void 0;else if(!J)return!1;if(J){var D;if(U.length>0&&(D=U[0]),D instanceof Error)throw D;var l=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw l.context=D,l}var p=H[R];if(p===void 0)return!1;if(typeof p=="function")O(p,this,U);else for(var m=p.length,n=T(p,m),j=0;j<m;++j)O(n[j],this,U);return!0};function _(R,U,j,J){var H,D,l;if(a(j),D=R._events,D===void 0?(D=R._events=Object.create(null),R._eventsCount=0):(D.newListener!==void 0&&(R.emit("newListener",U,j.listener?j.listener:j),D=R._events),l=D[U]),l===void 0)l=D[U]=j,++R._eventsCount;else if(typeof l=="function"?l=D[U]=J?[j,l]:[l,j]:J?l.unshift(j):l.push(j),H=L(R),H>0&&l.length>H&&!l.warned){l.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(U)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=R,p.type=U,p.count=l.length,y(p)}return R}r.prototype.addListener=function(R,U){return _(this,R,U,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(R,U){return _(this,R,U,!0)};function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(R,U,j){var J={fired:!1,wrapFn:void 0,target:R,type:U,listener:j},H=S.bind(J);return H.listener=j,J.wrapFn=H,H}r.prototype.once=function(R,U){return a(U),this.on(R,b(this,R,U)),this},r.prototype.prependOnceListener=function(R,U){return a(U),this.prependListener(R,b(this,R,U)),this},r.prototype.removeListener=function(R,U){var j,J,H,D,l;if(a(U),J=this._events,J===void 0)return this;if(j=J[R],j===void 0)return this;if(j===U||j.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete J[R],J.removeListener&&this.emit("removeListener",R,j.listener||U));else if(typeof j!="function"){for(H=-1,D=j.length-1;D>=0;D--)if(j[D]===U||j[D].listener===U){l=j[D].listener,H=D;break}if(H<0)return this;H===0?j.shift():$(j,H),j.length===1&&(J[R]=j[0]),J.removeListener!==void 0&&this.emit("removeListener",R,l||U)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(R){var U,j,J;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[R]),this;if(arguments.length===0){var H=Object.keys(j),D;for(J=0;J<H.length;++J)D=H[J],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=j[R],typeof U=="function")this.removeListener(R,U);else if(U!==void 0)for(J=U.length-1;J>=0;J--)this.removeListener(R,U[J]);return this};function f(R,U,j){var J=R._events;if(J===void 0)return[];var H=J[U];return H===void 0?[]:typeof H=="function"?j?[H.listener||H]:[H]:j?Z(H):T(H,H.length)}r.prototype.listeners=function(R){return f(this,R,!0)},r.prototype.rawListeners=function(R){return f(this,R,!1)},r.listenerCount=function(R,U){return typeof R.listenerCount=="function"?R.listenerCount(U):M.call(R,U)},r.prototype.listenerCount=M;function M(R){var U=this._events;if(U!==void 0){var j=U[R];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}r.prototype.eventNames=function(){return this._eventsCount>0?V(this._events):[]};function T(R,U){for(var j=new Array(U),J=0;J<U;++J)j[J]=R[J];return j}function $(R,U){for(;U+1<R.length;U++)R[U]=R[U+1];R.pop()}function Z(R){for(var U=new Array(R.length),j=0;j<U.length;++j)U[j]=R[j].listener||R[j];return U}function w(R,U){return new Promise(function(j,J){function H(l){R.removeListener(U,D),J(l)}function D(){typeof R.removeListener=="function"&&R.removeListener("error",H),j([].slice.call(arguments))}g(R,U,D,{once:!0}),U!=="error"&&s(R,H,{once:!0})})}function s(R,U,j){typeof R.on=="function"&&g(R,"error",U,j)}function g(R,U,j,J){if(typeof R.on=="function")J.once?R.once(U,j):R.on(U,j);else if(typeof R.addEventListener=="function")R.addEventListener(U,function H(D){J.once&&R.removeEventListener(U,H),j(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}}),k0=h1((x,W)=>{W.exports=I2().EventEmitter}),B3=h1(()=>{}),n8=h1((x,W)=>{function q(f,M){var T=Object.keys(f);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(f);M&&($=$.filter(function(Z){return Object.getOwnPropertyDescriptor(f,Z).enumerable})),T.push.apply(T,$)}return T}function O(f){for(var M=1;M<arguments.length;M++){var T=arguments[M]!=null?arguments[M]:{};M%2?q(Object(T),!0).forEach(function($){V(f,$,T[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(T)):q(Object(T)).forEach(function($){Object.defineProperty(f,$,Object.getOwnPropertyDescriptor(T,$))})}return f}function V(f,M,T){return M in f?Object.defineProperty(f,M,{value:T,enumerable:!0,configurable:!0,writable:!0}):f[M]=T,f}function y(f,M){if(!(f instanceof M))throw new TypeError("Cannot call a class as a function")}function u(f,M){for(var T=0;T<M.length;T++){var $=M[T];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(f,$.key,$)}}function r(f,M,T){return M&&u(f.prototype,M),T&&u(f,T),f}var z=N2(),a=z.Buffer,L=B3(),_=L.inspect,S=_&&_.custom||"inspect";function b(f,M,T){a.prototype.copy.call(f,M,T)}W.exports=function(){function f(){y(this,f),this.head=null,this.tail=null,this.length=0}return r(f,[{key:"push",value:function(M){var T={data:M,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(M){var T={data:M,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var M=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,M}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(M){if(this.length===0)return"";for(var T=this.head,$=""+T.data;T=T.next;)$+=M+T.data;return $}},{key:"concat",value:function(M){if(this.length===0)return a.alloc(0);for(var T=a.allocUnsafe(M>>>0),$=this.head,Z=0;$;)b($.data,T,Z),Z+=$.data.length,$=$.next;return T}},{key:"consume",value:function(M,T){var $;return M<this.head.data.length?($=this.head.data.slice(0,M),this.head.data=this.head.data.slice(M)):M===this.head.data.length?$=this.shift():$=T?this._getString(M):this._getBuffer(M),$}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(M){var T=this.head,$=1,Z=T.data;for(M-=Z.length;T=T.next;){var w=T.data,s=M>w.length?w.length:M;if(s===w.length?Z+=w:Z+=w.slice(0,M),M-=s,M===0){s===w.length?(++$,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=w.slice(s));break}++$}return this.length-=$,Z}},{key:"_getBuffer",value:function(M){var T=a.allocUnsafe(M),$=this.head,Z=1;for($.data.copy(T),M-=$.data.length;$=$.next;){var w=$.data,s=M>w.length?w.length:M;if(w.copy(T,T.length-M,0,s),M-=s,M===0){s===w.length?(++Z,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=w.slice(s));break}++Z}return this.length-=Z,T}},{key:S,value:function(M,T){return _(this,O({},T,{depth:0,customInspect:!1}))}}]),f}()}),P0=h1((x,W)=>{function q(z,a){var L=this,_=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return _||S?(a?a(z):z&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,z)):process.nextTick(u,this,z)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(z||null,function(b){!a&&b?L._writableState?L._writableState.errorEmitted?process.nextTick(V,L):(L._writableState.errorEmitted=!0,process.nextTick(O,L,b)):process.nextTick(O,L,b):a?(process.nextTick(V,L),a(b)):process.nextTick(V,L)}),this)}function O(z,a){u(z,a),V(z)}function V(z){z._writableState&&!z._writableState.emitClose||z._readableState&&!z._readableState.emitClose||z.emit("close")}function y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(z,a){z.emit("error",a)}function r(z,a){var{_readableState:L,_writableState:_}=z;L&&L.autoDestroy||_&&_.autoDestroy?z.destroy(a):z.emit("error",a)}W.exports={destroy:q,undestroy:y,errorOrDestroy:r}}),f3=h1((x,W)=>{function q(a,L){a.prototype=Object.create(L.prototype),a.prototype.constructor=a,a.__proto__=L}var O={};function V(a,L,_){_||(_=Error);function S(f,M,T){return typeof L=="string"?L:L(f,M,T)}var b=function(f){q(M,f);function M(T,$,Z){return f.call(this,S(T,$,Z))||this}return M}(_);b.prototype.name=_.name,b.prototype.code=a,O[a]=b}function y(a,L){if(Array.isArray(a)){var _=a.length;return a=a.map(function(S){return String(S)}),_>2?"one of ".concat(L," ").concat(a.slice(0,_-1).join(", "),", or ")+a[_-1]:_===2?"one of ".concat(L," ").concat(a[0]," or ").concat(a[1]):"of ".concat(L," ").concat(a[0])}else return"of ".concat(L," ").concat(String(a))}function u(a,L,_){return a.substr(!_||_<0?0:+_,L.length)===L}function r(a,L,_){return(_===void 0||_>a.length)&&(_=a.length),a.substring(_-L.length,_)===L}function z(a,L,_){return typeof _!="number"&&(_=0),_+L.length>a.length?!1:a.indexOf(L,_)!==-1}V("ERR_INVALID_OPT_VALUE",function(a,L){return'The value "'+L+'" is invalid for option "'+a+'"'},TypeError),V("ERR_INVALID_ARG_TYPE",function(a,L,_){var S;typeof L=="string"&&u(L,"not ")?(S="must not be",L=L.replace(/^not /,"")):S="must be";var b;if(r(a," argument"))b="The ".concat(a," ").concat(S," ").concat(y(L,"type"));else{var f=z(a,".")?"property":"argument";b='The "'.concat(a,'" ').concat(f," ").concat(S," ").concat(y(L,"type"))}return b+=". Received type ".concat(typeof _),b},TypeError),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),V("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),V("ERR_STREAM_PREMATURE_CLOSE","Premature close"),V("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),V("ERR_STREAM_WRITE_AFTER_END","write after end"),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),W.exports.codes=O}),U0=h1((x,W)=>{var q=f3().codes.ERR_INVALID_OPT_VALUE;function O(y,u,r){return y.highWaterMark!=null?y.highWaterMark:u?y[r]:null}function V(y,u,r,z){var a=O(u,z,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var L=z?r:"highWaterMark";throw new q(L,a)}return Math.floor(a)}return y.objectMode?16:16384}W.exports={getHighWaterMark:V}}),K0=h1((x,W)=>{W.exports=q;function q(V,y){if(O("noDeprecation"))return V;var u=!1;function r(){if(!u){if(O("throwDeprecation"))throw new Error(y);O("traceDeprecation")?console.trace(y):console.warn(y),u=!0}return V.apply(this,arguments)}return r}function O(V){try{if(!global.localStorage)return!1}catch{return!1}var y=global.localStorage[V];return y==null?!1:String(y).toLowerCase()==="true"}}),i0=h1((x,W)=>{W.exports=H;function q(B){var E=this;this.next=null,this.entry=null,this.finish=function(){e(E,B)}}var O;H.WritableState=j;var V={deprecate:K0()},y=k0(),u=N2().Buffer,r=global.Uint8Array||function(){};function z(B){return u.from(B)}function a(B){return u.isBuffer(B)||B instanceof r}var L=P0(),_=U0(),S=_.getHighWaterMark,b=f3().codes,f=b.ERR_INVALID_ARG_TYPE,M=b.ERR_METHOD_NOT_IMPLEMENTED,T=b.ERR_MULTIPLE_CALLBACK,$=b.ERR_STREAM_CANNOT_PIPE,Z=b.ERR_STREAM_DESTROYED,w=b.ERR_STREAM_NULL_VALUES,s=b.ERR_STREAM_WRITE_AFTER_END,g=b.ERR_UNKNOWN_ENCODING,R=L.errorOrDestroy;i1()(H,y);function U(){}function j(B,E,A){O=O||d3(),B=B||{},typeof A!="boolean"&&(A=E instanceof O),this.objectMode=!!B.objectMode,A&&(this.objectMode=this.objectMode||!!B.writableObjectMode),this.highWaterMark=S(this,B,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r1=B.decodeStrings===!1;this.decodeStrings=!r1,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n1){N(E,n1)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new q(this)}j.prototype.getBuffer=function(){for(var B=this.bufferedRequest,E=[];B;)E.push(B),B=B.next;return E},function(){try{Object.defineProperty(j.prototype,"buffer",{get:V.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(B){return J.call(this,B)?!0:this!==H?!1:B&&B._writableState instanceof j}})):J=function(B){return B instanceof this};function H(B){O=O||d3();var E=this instanceof O;if(!E&&!J.call(H,this))return new H(B);this._writableState=new j(B,this,E),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),y.call(this)}H.prototype.pipe=function(){R(this,new $)};function D(B,E){var A=new s;R(B,A),process.nextTick(E,A)}function l(B,E,A,r1){var n1;return A===null?n1=new w:typeof A!="string"&&!E.objectMode&&(n1=new f("chunk",["string","Buffer"],A)),n1?(R(B,n1),process.nextTick(r1,n1),!1):!0}H.prototype.write=function(B,E,A){var r1=this._writableState,n1=!1,c1=!r1.objectMode&&a(B);return c1&&!u.isBuffer(B)&&(B=z(B)),typeof E=="function"&&(A=E,E=null),c1?E="buffer":E||(E=r1.defaultEncoding),typeof A!="function"&&(A=U),r1.ending?D(this,A):(c1||l(this,r1,B,A))&&(r1.pendingcb++,n1=m(this,r1,c1,B,E,A)),n1},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,!B.writing&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&h(this,B))},H.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new g(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function p(B,E,A){return!B.objectMode&&B.decodeStrings!==!1&&typeof E=="string"&&(E=u.from(E,A)),E}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(B,E,A,r1,n1,c1){if(!A){var G=p(E,r1,n1);r1!==G&&(A=!0,n1="buffer",r1=G)}var K=E.objectMode?1:r1.length;E.length+=K;var Y=E.length<E.highWaterMark;if(Y||(E.needDrain=!0),E.writing||E.corked){var p1=E.lastBufferedRequest;E.lastBufferedRequest={chunk:r1,encoding:n1,isBuf:A,callback:c1,next:null},p1?p1.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else n(B,E,!1,K,r1,n1,c1);return Y}function n(B,E,A,r1,n1,c1,G){E.writelen=r1,E.writecb=G,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new Z("write")):A?B._writev(n1,E.onwrite):B._write(n1,c1,E.onwrite),E.sync=!1}function c(B,E,A,r1,n1){--E.pendingcb,A?(process.nextTick(n1,r1),process.nextTick(I,B,E),B._writableState.errorEmitted=!0,R(B,r1)):(n1(r1),B._writableState.errorEmitted=!0,R(B,r1),I(B,E))}function v(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}function N(B,E){var A=B._writableState,r1=A.sync,n1=A.writecb;if(typeof n1!="function")throw new T;if(v(A),E)c(B,A,r1,E,n1);else{var c1=P(A)||B.destroyed;!c1&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&h(B,A),r1?process.nextTick(d,B,A,c1,n1):d(B,A,c1,n1)}}function d(B,E,A,r1){A||o(B,E),E.pendingcb--,r1(),I(B,E)}function o(B,E){E.length===0&&E.needDrain&&(E.needDrain=!1,B.emit("drain"))}function h(B,E){E.bufferProcessing=!0;var A=E.bufferedRequest;if(B._writev&&A&&A.next){var r1=E.bufferedRequestCount,n1=new Array(r1),c1=E.corkedRequestsFree;c1.entry=A;for(var G=0,K=!0;A;)n1[G]=A,A.isBuf||(K=!1),A=A.next,G+=1;n1.allBuffers=K,n(B,E,!0,E.length,n1,"",c1.finish),E.pendingcb++,E.lastBufferedRequest=null,c1.next?(E.corkedRequestsFree=c1.next,c1.next=null):E.corkedRequestsFree=new q(E),E.bufferedRequestCount=0}else{for(;A;){var{chunk:Y,encoding:p1,callback:u1}=A,o1=E.objectMode?1:Y.length;if(n(B,E,!1,o1,Y,p1,u1),A=A.next,E.bufferedRequestCount--,E.writing)break}A===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=A,E.bufferProcessing=!1}H.prototype._write=function(B,E,A){A(new M("_write()"))},H.prototype._writev=null,H.prototype.end=function(B,E,A){var r1=this._writableState;return typeof B=="function"?(A=B,B=null,E=null):typeof E=="function"&&(A=E,E=null),B!=null&&this.write(B,E),r1.corked&&(r1.corked=1,this.uncork()),r1.ending||Q(this,r1,A),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function X(B,E){B._final(function(A){E.pendingcb--,A&&R(B,A),E.prefinished=!0,B.emit("prefinish"),I(B,E)})}function k(B,E){!E.prefinished&&!E.finalCalled&&(typeof B._final=="function"&&!E.destroyed?(E.pendingcb++,E.finalCalled=!0,process.nextTick(X,B,E)):(E.prefinished=!0,B.emit("prefinish")))}function I(B,E){var A=P(E);if(A&&(k(B,E),E.pendingcb===0&&(E.finished=!0,B.emit("finish"),E.autoDestroy))){var r1=B._readableState;(!r1||r1.autoDestroy&&r1.endEmitted)&&B.destroy()}return A}function Q(B,E,A){E.ending=!0,I(B,E),A&&(E.finished?process.nextTick(A):B.once("finish",A)),E.ended=!0,B.writable=!1}function e(B,E,A){var r1=B.entry;for(B.entry=null;r1;){var n1=r1.callback;E.pendingcb--,n1(A),r1=r1.next}E.corkedRequestsFree.next=B}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){!this._writableState||(this._writableState.destroyed=B)}}),H.prototype.destroy=L.destroy,H.prototype._undestroy=L.undestroy,H.prototype._destroy=function(B,E){E(B)}}),d3=h1((x,W)=>{var q=Object.keys||function(_){var S=[];for(var b in _)S.push(b);return S};W.exports=z;var O=H0(),V=i0();i1()(z,O);for(y=q(V.prototype),r=0;r<y.length;r++)u=y[r],z.prototype[u]||(z.prototype[u]=V.prototype[u]);var y,u,r;function z(_){if(!(this instanceof z))return new z(_);O.call(this,_),V.call(this,_),this.allowHalfOpen=!0,_&&(_.readable===!1&&(this.readable=!1),_.writable===!1&&(this.writable=!1),_.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(L,this)}function L(_){_.end()}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})}),O6=h1((x)=>{var W=H1().Buffer,q=W.isEncoding||function(Z){switch(Z=""+Z,Z&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function O(Z){if(!Z)return"utf8";for(var w;;)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(w)return;Z=(""+Z).toLowerCase(),w=!0}}function V(Z){var w=O(Z);if(typeof w!="string"&&(W.isEncoding===q||!q(Z)))throw new Error("Unknown encoding: "+Z);return w||Z}x.StringDecoder=y;function y(Z){this.encoding=V(Z);var w;switch(this.encoding){case"utf16le":this.text=S,this.end=b,w=4;break;case"utf8":this.fillLast=a,w=4;break;case"base64":this.text=f,this.end=M,w=3;break;default:this.write=T,this.end=$;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=W.allocUnsafe(w)}y.prototype.write=function(Z){if(Z.length===0)return"";var w,s;if(this.lastNeed){if(w=this.fillLast(Z),w===void 0)return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<Z.length?w?w+this.text(Z,s):this.text(Z,s):w||""},y.prototype.end=_,y.prototype.text=L,y.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length};function u(Z){return Z<=127?0:Z>>5===6?2:Z>>4===14?3:Z>>3===30?4:Z>>6===2?-1:-2}function r(Z,w,s){var g=w.length-1;if(g<s)return 0;var R=u(w[g]);return R>=0?(R>0&&(Z.lastNeed=R-1),R):--g<s||R===-2?0:(R=u(w[g]),R>=0?(R>0&&(Z.lastNeed=R-2),R):--g<s||R===-2?0:(R=u(w[g]),R>=0?(R>0&&(R===2?R=0:Z.lastNeed=R-3),R):0))}function z(Z,w,s){if((w[0]&192)!==128)return Z.lastNeed=0,"\uFFFD";if(Z.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return Z.lastNeed=1,"\uFFFD";if(Z.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return Z.lastNeed=2,"\uFFFD"}}function a(Z){var w=this.lastTotal-this.lastNeed,s=z(this,Z,w);if(s!==void 0)return s;if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,w,0,Z.length),this.lastNeed-=Z.length}function L(Z,w){var s=r(this,Z,w);if(!this.lastNeed)return Z.toString("utf8",w);this.lastTotal=s;var g=Z.length-(s-this.lastNeed);return Z.copy(this.lastChar,0,g),Z.toString("utf8",w,g)}function _(Z){var w=Z&&Z.length?this.write(Z):"";return this.lastNeed?w+"\uFFFD":w}function S(Z,w){if((Z.length-w)%2===0){var s=Z.toString("utf16le",w);if(s){var g=s.charCodeAt(s.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",w,Z.length-1)}function b(Z){var w=Z&&Z.length?this.write(Z):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,s)}return w}function f(Z,w){var s=(Z.length-w)%3;return s===0?Z.toString("base64",w):(this.lastNeed=3-s,this.lastTotal=3,s===1?this.lastChar[0]=Z[Z.length-1]:(this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1]),Z.toString("base64",w,Z.length-s))}function M(Z){var w=Z&&Z.length?this.write(Z):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function T(Z){return Z.toString(this.encoding)}function $(Z){return Z&&Z.length?this.write(Z):""}}),z3={},t3(z3,{StringDecoder:()=>j0.StringDecoder,default:()=>j0.StringDecoder}),Q3=W6(()=>{j0=D2(O6())}),R6=h1((x,W)=>{var q=f3().codes.ERR_STREAM_PREMATURE_CLOSE;function O(r){var z=!1;return function(){if(!z){z=!0;for(var a=arguments.length,L=new Array(a),_=0;_<a;_++)L[_]=arguments[_];r.apply(this,L)}}}function V(){}function y(r){return r.setHeader&&typeof r.abort=="function"}function u(r,z,a){if(typeof z=="function")return u(r,null,z);z||(z={}),a=O(a||V);var L=z.readable||z.readable!==!1&&r.readable,_=z.writable||z.writable!==!1&&r.writable,S=function(){r.writable||f()},b=r._writableState&&r._writableState.finished,f=function(){_=!1,b=!0,L||a.call(r)},M=r._readableState&&r._readableState.endEmitted,T=function(){L=!1,M=!0,_||a.call(r)},$=function(s){a.call(r,s)},Z=function(){var s;if(L&&!M)return(!r._readableState||!r._readableState.ended)&&(s=new q),a.call(r,s);if(_&&!b)return(!r._writableState||!r._writableState.ended)&&(s=new q),a.call(r,s)},w=function(){r.req.on("finish",f)};return y(r)?(r.on("complete",f),r.on("abort",Z),r.req?w():r.on("request",w)):_&&!r._writableState&&(r.on("end",S),r.on("close",S)),r.on("end",T),r.on("finish",f),z.error!==!1&&r.on("error",$),r.on("close",Z),function(){r.removeListener("complete",f),r.removeListener("abort",Z),r.removeListener("request",w),r.req&&r.req.removeListener("finish",f),r.removeListener("end",S),r.removeListener("close",S),r.removeListener("finish",f),r.removeListener("end",T),r.removeListener("error",$),r.removeListener("close",Z)}}W.exports=u}),p8=h1((x,W)=>{var q;function O(w,s,g){return s in w?Object.defineProperty(w,s,{value:g,enumerable:!0,configurable:!0,writable:!0}):w[s]=g,w}var V=R6(),y=Symbol("lastResolve"),u=Symbol("lastReject"),r=Symbol("error"),z=Symbol("ended"),a=Symbol("lastPromise"),L=Symbol("handlePromise"),_=Symbol("stream");function S(w,s){return{value:w,done:s}}function b(w){var s=w[y];if(s!==null){var g=w[_].read();g!==null&&(w[a]=null,w[y]=null,w[u]=null,s(S(g,!1)))}}function f(w){process.nextTick(b,w)}function M(w,s){return function(g,R){w.then(function(){if(s[z]){g(S(void 0,!0));return}s[L](g,R)},R)}}var T=Object.getPrototypeOf(function(){}),$=Object.setPrototypeOf((q={get stream(){return this[_]},next:function(){var w=this,s=this[r];if(s!==null)return Promise.reject(s);if(this[z])return Promise.resolve(S(void 0,!0));if(this[_].destroyed)return new Promise(function(j,J){process.nextTick(function(){w[r]?J(w[r]):j(S(void 0,!0))})});var g=this[a],R;if(g)R=new Promise(M(g,this));else{var U=this[_].read();if(U!==null)return Promise.resolve(S(U,!1));R=new Promise(this[L])}return this[a]=R,R}},O(q,Symbol.asyncIterator,function(){return this}),O(q,"return",function(){var w=this;return new Promise(function(s,g){w[_].destroy(null,function(R){if(R){g(R);return}s(S(void 0,!0))})})}),q),T),Z=function(w){var s,g=Object.create($,(s={},O(s,_,{value:w,writable:!0}),O(s,y,{value:null,writable:!0}),O(s,u,{value:null,writable:!0}),O(s,r,{value:null,writable:!0}),O(s,z,{value:w._readableState.endEmitted,writable:!0}),O(s,L,{value:function(R,U){var j=g[_].read();j?(g[a]=null,g[y]=null,g[u]=null,R(S(j,!1))):(g[y]=R,g[u]=U)},writable:!0}),s));return g[a]=null,V(w,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=g[u];U!==null&&(g[a]=null,g[y]=null,g[u]=null,U(R)),g[r]=R;return}var j=g[y];j!==null&&(g[a]=null,g[y]=null,g[u]=null,j(S(void 0,!0))),g[z]=!0}),w.on("readable",f.bind(null,g)),g};W.exports=Z}),u8=h1((x,W)=>{W.exports=function(){throw new Error("Readable.from is not available in the browser")}}),H0=h1((x,W)=>{W.exports=l;var q;l.ReadableState=D;var O=I2().EventEmitter,V=function(G,K){return G.listeners(K).length},y=k0(),u=N2().Buffer,r=global.Uint8Array||function(){};function z(G){return u.from(G)}function a(G){return u.isBuffer(G)||G instanceof r}var L=B3(),_;L&&L.debuglog?_=L.debuglog("stream"):_=function(){};var S=n8(),b=P0(),f=U0(),M=f.getHighWaterMark,T=f3().codes,$=T.ERR_INVALID_ARG_TYPE,Z=T.ERR_STREAM_PUSH_AFTER_EOF,w=T.ERR_METHOD_NOT_IMPLEMENTED,s=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g,R,U;i1()(l,y);var j=b.errorOrDestroy,J=["error","close","destroy","pause","resume"];function H(G,K,Y){if(typeof G.prependListener=="function")return G.prependListener(K,Y);!G._events||!G._events[K]?G.on(K,Y):Array.isArray(G._events[K])?G._events[K].unshift(Y):G._events[K]=[Y,G._events[K]]}function D(G,K,Y){q=q||d3(),G=G||{},typeof Y!="boolean"&&(Y=K instanceof q),this.objectMode=!!G.objectMode,Y&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=M(this,G,"readableHighWaterMark",Y),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(g||(g=(Q3(),S2(z3)).StringDecoder),this.decoder=new g(G.encoding),this.encoding=G.encoding)}function l(G){if(q=q||d3(),!(this instanceof l))return new l(G);var K=this instanceof q;this._readableState=new D(G,this,K),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),y.call(this)}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){!this._readableState||(this._readableState.destroyed=G)}}),l.prototype.destroy=b.destroy,l.prototype._undestroy=b.undestroy,l.prototype._destroy=function(G,K){K(G)},l.prototype.push=function(G,K){var Y=this._readableState,p1;return Y.objectMode?p1=!0:typeof G=="string"&&(K=K||Y.defaultEncoding,K!==Y.encoding&&(G=u.from(G,K),K=""),p1=!0),p(this,G,K,!1,p1)},l.prototype.unshift=function(G){return p(this,G,null,!0,!1)};function p(G,K,Y,p1,u1){_("readableAddChunk",K);var o1=G._readableState;if(K===null)o1.reading=!1,d(G,o1);else{var M1;if(u1||(M1=n(o1,K)),M1)j(G,M1);else if(o1.objectMode||K&&K.length>0)if(typeof K!="string"&&!o1.objectMode&&Object.getPrototypeOf(K)!==u.prototype&&(K=z(K)),p1)o1.endEmitted?j(G,new s):m(G,o1,K,!0);else if(o1.ended)j(G,new Z);else{if(o1.destroyed)return!1;o1.reading=!1,o1.decoder&&!Y?(K=o1.decoder.write(K),o1.objectMode||K.length!==0?m(G,o1,K,!1):P(G,o1)):m(G,o1,K,!1)}else p1||(o1.reading=!1,P(G,o1))}return!o1.ended&&(o1.length<o1.highWaterMark||o1.length===0)}function m(G,K,Y,p1){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,G.emit("data",Y)):(K.length+=K.objectMode?1:Y.length,p1?K.buffer.unshift(Y):K.buffer.push(Y),K.needReadable&&o(G)),P(G,K)}function n(G,K){var Y;return!a(K)&&typeof K!="string"&&K!==void 0&&!G.objectMode&&(Y=new $("chunk",["string","Buffer","Uint8Array"],K)),Y}l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(G){g||(g=(Q3(),S2(z3)).StringDecoder);var K=new g(G);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,p1="";Y!==null;)p1+=K.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),p1!==""&&this._readableState.buffer.push(p1),this._readableState.length=p1.length,this};var c=1073741824;function v(G){return G>=c?G=c:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function N(G,K){return G<=0||K.length===0&&K.ended?0:K.objectMode?1:G!==G?K.flowing&&K.length?K.buffer.head.data.length:K.length:(G>K.highWaterMark&&(K.highWaterMark=v(G)),G<=K.length?G:K.ended?K.length:(K.needReadable=!0,0))}l.prototype.read=function(G){_("read",G),G=parseInt(G,10);var K=this._readableState,Y=G;if(G!==0&&(K.emittedReadable=!1),G===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return _("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?r1(this):o(this),null;if(G=N(G,K),G===0&&K.ended)return K.length===0&&r1(this),null;var p1=K.needReadable;_("need readable",p1),(K.length===0||K.length-G<K.highWaterMark)&&(p1=!0,_("length less than watermark",p1)),K.ended||K.reading?(p1=!1,_("reading or ended",p1)):p1&&(_("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(G=N(Y,K)));var u1;return G>0?u1=A(G,K):u1=null,u1===null?(K.needReadable=K.length<=K.highWaterMark,G=0):(K.length-=G,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),Y!==G&&K.ended&&r1(this)),u1!==null&&this.emit("data",u1),u1};function d(G,K){if(_("onEofChunk"),!K.ended){if(K.decoder){var Y=K.decoder.end();Y&&Y.length&&(K.buffer.push(Y),K.length+=K.objectMode?1:Y.length)}K.ended=!0,K.sync?o(G):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,h(G)))}}function o(G){var K=G._readableState;_("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(_("emitReadable",K.flowing),K.emittedReadable=!0,process.nextTick(h,G))}function h(G){var K=G._readableState;_("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(G.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,E(G)}function P(G,K){K.readingMore||(K.readingMore=!0,process.nextTick(X,G,K))}function X(G,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var Y=K.length;if(_("maybeReadMore read 0"),G.read(0),Y===K.length)break}K.readingMore=!1}l.prototype._read=function(G){j(this,new w("_read()"))},l.prototype.pipe=function(G,K){var Y=this,p1=this._readableState;switch(p1.pipesCount){case 0:p1.pipes=G;break;case 1:p1.pipes=[p1.pipes,G];break;default:p1.pipes.push(G);break}p1.pipesCount+=1,_("pipe count=%d opts=%j",p1.pipesCount,K);var u1=(!K||K.end!==!1)&&G!==process.stdout&&G!==process.stderr,o1=u1?f1:t;p1.endEmitted?process.nextTick(o1):Y.once("end",o1),G.on("unpipe",M1);function M1(C,l1){_("onunpipe"),C===Y&&l1&&l1.hasUnpiped===!1&&(l1.hasUnpiped=!0,y1())}function f1(){_("onend"),G.end()}var d1=k(Y);G.on("drain",d1);var F1=!1;function y1(){_("cleanup"),G.removeListener("close",F),G.removeListener("finish",i),G.removeListener("drain",d1),G.removeListener("error",k1),G.removeListener("unpipe",M1),Y.removeListener("end",f1),Y.removeListener("end",t),Y.removeListener("data",a1),F1=!0,p1.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&d1()}Y.on("data",a1);function a1(C){_("ondata");var l1=G.write(C);_("dest.write",l1),l1===!1&&((p1.pipesCount===1&&p1.pipes===G||p1.pipesCount>1&&c1(p1.pipes,G)!==-1)&&!F1&&(_("false write response, pause",p1.awaitDrain),p1.awaitDrain++),Y.pause())}function k1(C){_("onerror",C),t(),G.removeListener("error",k1),V(G,"error")===0&&j(G,C)}H(G,"error",k1);function F(){G.removeListener("finish",i),t()}G.once("close",F);function i(){_("onfinish"),G.removeListener("close",F),t()}G.once("finish",i);function t(){_("unpipe"),Y.unpipe(G)}return G.emit("pipe",Y),p1.flowing||(_("pipe resume"),Y.resume()),G};function k(G){return function(){var K=G._readableState;_("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&V(G,"data")&&(K.flowing=!0,E(G))}}l.prototype.unpipe=function(G){var K=this._readableState,Y={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return G&&G!==K.pipes?this:(G||(G=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,G&&G.emit("unpipe",this,Y),this);if(!G){var{pipes:p1,pipesCount:u1}=K;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var o1=0;o1<u1;o1++)p1[o1].emit("unpipe",this,{hasUnpiped:!1});return this}var M1=c1(K.pipes,G);return M1===-1?this:(K.pipes.splice(M1,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),G.emit("unpipe",this,Y),this)},l.prototype.on=function(G,K){var Y=y.prototype.on.call(this,G,K),p1=this._readableState;return G==="data"?(p1.readableListening=this.listenerCount("readable")>0,p1.flowing!==!1&&this.resume()):G==="readable"&&!p1.endEmitted&&!p1.readableListening&&(p1.readableListening=p1.needReadable=!0,p1.flowing=!1,p1.emittedReadable=!1,_("on readable",p1.length,p1.reading),p1.length?o(this):p1.reading||process.nextTick(Q,this)),Y},l.prototype.addListener=l.prototype.on,l.prototype.removeListener=function(G,K){var Y=y.prototype.removeListener.call(this,G,K);return G==="readable"&&process.nextTick(I,this),Y},l.prototype.removeAllListeners=function(G){var K=y.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&process.nextTick(I,this),K};function I(G){var K=G._readableState;K.readableListening=G.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:G.listenerCount("data")>0&&G.resume()}function Q(G){_("readable nexttick read 0"),G.read(0)}l.prototype.resume=function(){var G=this._readableState;return G.flowing||(_("resume"),G.flowing=!G.readableListening,e(this,G)),G.paused=!1,this};function e(G,K){K.resumeScheduled||(K.resumeScheduled=!0,process.nextTick(B,G,K))}function B(G,K){_("resume",K.reading),K.reading||G.read(0),K.resumeScheduled=!1,G.emit("resume"),E(G),K.flowing&&!K.reading&&G.read(0)}l.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function E(G){var K=G._readableState;for(_("flow",K.flowing);K.flowing&&G.read()!==null;);}l.prototype.wrap=function(G){var K=this,Y=this._readableState,p1=!1;G.on("end",function(){if(_("wrapped end"),Y.decoder&&!Y.ended){var M1=Y.decoder.end();M1&&M1.length&&K.push(M1)}K.push(null)}),G.on("data",function(M1){if(_("wrapped data"),Y.decoder&&(M1=Y.decoder.write(M1)),!(Y.objectMode&&M1==null)&&!(!Y.objectMode&&(!M1||!M1.length))){var f1=K.push(M1);f1||(p1=!0,G.pause())}});for(var u1 in G)this[u1]===void 0&&typeof G[u1]=="function"&&(this[u1]=function(M1){return function(){return G[M1].apply(G,arguments)}}(u1));for(var o1=0;o1<J.length;o1++)G.on(J[o1],this.emit.bind(this,J[o1]));return this._read=function(M1){_("wrapped _read",M1),p1&&(p1=!1,G.resume())},this},typeof Symbol=="function"&&(l.prototype[Symbol.asyncIterator]=function(){return R===void 0&&(R=p8()),R(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),l._fromList=A,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(G,K){if(K.length===0)return null;var Y;return K.objectMode?Y=K.buffer.shift():!G||G>=K.length?(K.decoder?Y=K.buffer.join(""):K.buffer.length===1?Y=K.buffer.first():Y=K.buffer.concat(K.length),K.buffer.clear()):Y=K.buffer.consume(G,K.decoder),Y}function r1(G){var K=G._readableState;_("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,process.nextTick(n1,K,G))}function n1(G,K){if(_("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,K.readable=!1,K.emit("end"),G.autoDestroy)){var Y=K._writableState;(!Y||Y.autoDestroy&&Y.finished)&&K.destroy()}}typeof Symbol=="function"&&(l.from=function(G,K){return U===void 0&&(U=u8()),U(l,G,K)});function c1(G,K){for(var Y=0,p1=G.length;Y<p1;Y++)if(G[Y]===K)return Y;return-1}}),J0=h1((x,W)=>{W.exports=a;var q=f3().codes,O=q.ERR_METHOD_NOT_IMPLEMENTED,V=q.ERR_MULTIPLE_CALLBACK,y=q.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=q.ERR_TRANSFORM_WITH_LENGTH_0,r=d3();i1()(a,r);function z(S,b){var f=this._transformState;f.transforming=!1;var M=f.writecb;if(M===null)return this.emit("error",new V);f.writechunk=null,f.writecb=null,b!=null&&this.push(b),M(S);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function a(S){if(!(this instanceof a))return new a(S);r.call(this,S),this._transformState={afterTransform:z.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&(typeof S.transform=="function"&&(this._transform=S.transform),typeof S.flush=="function"&&(this._flush=S.flush)),this.on("prefinish",L)}function L(){var S=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,f){_(S,b,f)}):_(this,null,null)}a.prototype.push=function(S,b){return this._transformState.needTransform=!1,r.prototype.push.call(this,S,b)},a.prototype._transform=function(S,b,f){f(new O("_transform()"))},a.prototype._write=function(S,b,f){var M=this._transformState;if(M.writecb=f,M.writechunk=S,M.writeencoding=b,!M.transforming){var T=this._readableState;(M.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},a.prototype._read=function(S){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},a.prototype._destroy=function(S,b){r.prototype._destroy.call(this,S,function(f){b(f)})};function _(S,b,f){if(b)return S.emit("error",b);if(f!=null&&S.push(f),S._writableState.length)throw new u;if(S._transformState.transforming)throw new y;return S.push(null)}}),c8=h1((x,W)=>{W.exports=O;var q=J0();i1()(O,q);function O(V){if(!(this instanceof O))return new O(V);q.call(this,V)}O.prototype._transform=function(V,y,u){u(null,V)}}),m8=h1((x,W)=>{var q;function O(f){var M=!1;return function(){M||(M=!0,f.apply(void 0,arguments))}}var V=f3().codes,y=V.ERR_MISSING_ARGS,u=V.ERR_STREAM_DESTROYED;function r(f){if(f)throw f}function z(f){return f.setHeader&&typeof f.abort=="function"}function a(f,M,T,$){$=O($);var Z=!1;f.on("close",function(){Z=!0}),q===void 0&&(q=R6()),q(f,{readable:M,writable:T},function(s){if(s)return $(s);Z=!0,$()});var w=!1;return function(s){if(!Z&&!w){if(w=!0,z(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();$(s||new u("pipe"))}}}function L(f){f()}function _(f,M){return f.pipe(M)}function S(f){return!f.length||typeof f[f.length-1]!="function"?r:f.pop()}function b(){for(var f=arguments.length,M=new Array(f),T=0;T<f;T++)M[T]=arguments[T];var $=S(M);if(Array.isArray(M[0])&&(M=M[0]),M.length<2)throw new y("streams");var Z,w=M.map(function(s,g){var R=g<M.length-1,U=g>0;return a(s,R,U,function(j){Z||(Z=j),j&&w.forEach(L),!R&&(w.forEach(L),$(Z))})});return M.reduce(_)}W.exports=b}),f8=h1((x,W)=>{x=W.exports=H0(),x.Stream=x,x.Readable=x,x.Writable=i0(),x.Duplex=d3(),x.Transform=J0(),x.PassThrough=c8(),x.finished=R6(),x.pipeline=m8()}),G0=h1((x,W)=>{var q=H1().Buffer,O=f8().Transform,V=i1();function y(r,z){if(!q.isBuffer(r)&&typeof r!="string")throw new TypeError(z+" must be a string or a buffer")}function u(r){O.call(this),this._block=q.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}V(u,O),u.prototype._transform=function(r,z,a){var L=null;try{this.update(r,z)}catch(_){L=_}a(L)},u.prototype._flush=function(r){var z=null;try{this.push(this.digest())}catch(a){z=a}r(z)},u.prototype.update=function(r,z){if(y(r,"Data"),this._finalized)throw new Error("Digest already called");q.isBuffer(r)||(r=q.from(r,z));for(var a=this._block,L=0;this._blockOffset+r.length-L>=this._blockSize;){for(var _=this._blockOffset;_<this._blockSize;)a[_++]=r[L++];this._update(),this._blockOffset=0}for(;L<r.length;)a[this._blockOffset++]=r[L++];for(var S=0,b=r.length*8;b>0;++S)this._length[S]+=b,b=this._length[S]/4294967296|0,b>0&&(this._length[S]-=4294967296*b);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var z=this._digest();r!==void 0&&(z=z.toString(r)),this._block.fill(0),this._blockOffset=0;for(var a=0;a<4;++a)this._length[a]=0;return z},u.prototype._digest=function(){throw new Error("_digest is not implemented")},W.exports=u}),s6=h1((x,W)=>{var q=i1(),O=G0(),V=H1().Buffer,y=new Array(16);function u(){O.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}q(u,O),u.prototype._update=function(){for(var S=y,b=0;b<16;++b)S[b]=this._block.readInt32LE(b*4);var f=this._a,M=this._b,T=this._c,$=this._d;f=z(f,M,T,$,S[0],3614090360,7),$=z($,f,M,T,S[1],3905402710,12),T=z(T,$,f,M,S[2],606105819,17),M=z(M,T,$,f,S[3],3250441966,22),f=z(f,M,T,$,S[4],4118548399,7),$=z($,f,M,T,S[5],1200080426,12),T=z(T,$,f,M,S[6],2821735955,17),M=z(M,T,$,f,S[7],4249261313,22),f=z(f,M,T,$,S[8],1770035416,7),$=z($,f,M,T,S[9],2336552879,12),T=z(T,$,f,M,S[10],4294925233,17),M=z(M,T,$,f,S[11],2304563134,22),f=z(f,M,T,$,S[12],1804603682,7),$=z($,f,M,T,S[13],4254626195,12),T=z(T,$,f,M,S[14],2792965006,17),M=z(M,T,$,f,S[15],1236535329,22),f=a(f,M,T,$,S[1],4129170786,5),$=a($,f,M,T,S[6],3225465664,9),T=a(T,$,f,M,S[11],643717713,14),M=a(M,T,$,f,S[0],3921069994,20),f=a(f,M,T,$,S[5],3593408605,5),$=a($,f,M,T,S[10],38016083,9),T=a(T,$,f,M,S[15],3634488961,14),M=a(M,T,$,f,S[4],3889429448,20),f=a(f,M,T,$,S[9],568446438,5),$=a($,f,M,T,S[14],3275163606,9),T=a(T,$,f,M,S[3],4107603335,14),M=a(M,T,$,f,S[8],1163531501,20),f=a(f,M,T,$,S[13],2850285829,5),$=a($,f,M,T,S[2],4243563512,9),T=a(T,$,f,M,S[7],1735328473,14),M=a(M,T,$,f,S[12],2368359562,20),f=L(f,M,T,$,S[5],4294588738,4),$=L($,f,M,T,S[8],2272392833,11),T=L(T,$,f,M,S[11],1839030562,16),M=L(M,T,$,f,S[14],4259657740,23),f=L(f,M,T,$,S[1],2763975236,4),$=L($,f,M,T,S[4],1272893353,11),T=L(T,$,f,M,S[7],4139469664,16),M=L(M,T,$,f,S[10],3200236656,23),f=L(f,M,T,$,S[13],681279174,4),$=L($,f,M,T,S[0],3936430074,11),T=L(T,$,f,M,S[3],3572445317,16),M=L(M,T,$,f,S[6],76029189,23),f=L(f,M,T,$,S[9],3654602809,4),$=L($,f,M,T,S[12],3873151461,11),T=L(T,$,f,M,S[15],530742520,16),M=L(M,T,$,f,S[2],3299628645,23),f=_(f,M,T,$,S[0],4096336452,6),$=_($,f,M,T,S[7],1126891415,10),T=_(T,$,f,M,S[14],2878612391,15),M=_(M,T,$,f,S[5],4237533241,21),f=_(f,M,T,$,S[12],1700485571,6),$=_($,f,M,T,S[3],2399980690,10),T=_(T,$,f,M,S[10],4293915773,15),M=_(M,T,$,f,S[1],2240044497,21),f=_(f,M,T,$,S[8],1873313359,6),$=_($,f,M,T,S[15],4264355552,10),T=_(T,$,f,M,S[6],2734768916,15),M=_(M,T,$,f,S[13],1309151649,21),f=_(f,M,T,$,S[4],4149444226,6),$=_($,f,M,T,S[11],3174756917,10),T=_(T,$,f,M,S[2],718787259,15),M=_(M,T,$,f,S[9],3951481745,21),this._a=this._a+f|0,this._b=this._b+M|0,this._c=this._c+T|0,this._d=this._d+$|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var S=V.allocUnsafe(16);return S.writeInt32LE(this._a,0),S.writeInt32LE(this._b,4),S.writeInt32LE(this._c,8),S.writeInt32LE(this._d,12),S};function r(S,b){return S<<b|S>>>32-b}function z(S,b,f,M,T,$,Z){return r(S+(b&f|~b&M)+T+$|0,Z)+b|0}function a(S,b,f,M,T,$,Z){return r(S+(b&M|f&~M)+T+$|0,Z)+b|0}function L(S,b,f,M,T,$,Z){return r(S+(b^f^M)+T+$|0,Z)+b|0}function _(S,b,f,M,T,$,Z){return r(S+(f^(b|~M))+T+$|0,Z)+b|0}W.exports=u}),g6=h1((x,W)=>{var q=N2().Buffer,O=i1(),V=G0(),y=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],r=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],z=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],a=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],L=[0,1518500249,1859775393,2400959708,2840853838],_=[1352829926,1548603684,1836072691,2053994217,0];function S(){V.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}O(S,V),S.prototype._update=function(){for(var w=y,s=0;s<16;++s)w[s]=this._block.readInt32LE(s*4);for(var g=this._a|0,R=this._b|0,U=this._c|0,j=this._d|0,J=this._e|0,H=this._a|0,D=this._b|0,l=this._c|0,p=this._d|0,m=this._e|0,n=0;n<80;n+=1){var c,v;n<16?(c=f(g,R,U,j,J,w[u[n]],L[0],z[n]),v=Z(H,D,l,p,m,w[r[n]],_[0],a[n])):n<32?(c=M(g,R,U,j,J,w[u[n]],L[1],z[n]),v=$(H,D,l,p,m,w[r[n]],_[1],a[n])):n<48?(c=T(g,R,U,j,J,w[u[n]],L[2],z[n]),v=T(H,D,l,p,m,w[r[n]],_[2],a[n])):n<64?(c=$(g,R,U,j,J,w[u[n]],L[3],z[n]),v=M(H,D,l,p,m,w[r[n]],_[3],a[n])):(c=Z(g,R,U,j,J,w[u[n]],L[4],z[n]),v=f(H,D,l,p,m,w[r[n]],_[4],a[n])),g=J,J=j,j=b(U,10),U=R,R=c,H=m,m=p,p=b(l,10),l=D,D=v}var N=this._b+U+p|0;this._b=this._c+j+m|0,this._c=this._d+J+H|0,this._d=this._e+g+D|0,this._e=this._a+R+l|0,this._a=N},S.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var w=q.alloc?q.alloc(20):new q(20);return w.writeInt32LE(this._a,0),w.writeInt32LE(this._b,4),w.writeInt32LE(this._c,8),w.writeInt32LE(this._d,12),w.writeInt32LE(this._e,16),w};function b(w,s){return w<<s|w>>>32-s}function f(w,s,g,R,U,j,J,H){return b(w+(s^g^R)+j+J|0,H)+U|0}function M(w,s,g,R,U,j,J,H){return b(w+(s&g|~s&R)+j+J|0,H)+U|0}function T(w,s,g,R,U,j,J,H){return b(w+((s|~g)^R)+j+J|0,H)+U|0}function $(w,s,g,R,U,j,J,H){return b(w+(s&R|g&~R)+j+J|0,H)+U|0}function Z(w,s,g,R,U,j,J,H){return b(w+(s^(g|~R))+j+J|0,H)+U|0}W.exports=S}),a3=h1((x,W)=>{var q=H1().Buffer;function O(V,y){this._block=q.alloc(V),this._finalSize=y,this._blockSize=V,this._len=0}O.prototype.update=function(V,y){typeof V=="string"&&(y=y||"utf8",V=q.from(V,y));for(var u=this._block,r=this._blockSize,z=V.length,a=this._len,L=0;L<z;){for(var _=a%r,S=Math.min(z-L,r-_),b=0;b<S;b++)u[_+b]=V[L+b];a+=S,L+=S,a%r===0&&this._update(u)}return this._len+=z,this},O.prototype.digest=function(V){var y=this._len%this._blockSize;this._block[y]=128,this._block.fill(0,y+1),y>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=this._len*8;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var r=(u&4294967295)>>>0,z=(u-r)/4294967296;this._block.writeUInt32BE(z,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return V?a.toString(V):a},O.prototype._update=function(){throw new Error("_update must be implemented by subclass")},W.exports=O}),d8=h1((x,W)=>{var q=i1(),O=a3(),V=H1().Buffer,y=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function r(){this.init(),this._w=u,O.call(this,64,56)}q(r,O),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function z(_){return _<<5|_>>>27}function a(_){return _<<30|_>>>2}function L(_,S,b,f){return _===0?S&b|~S&f:_===2?S&b|S&f|b&f:S^b^f}r.prototype._update=function(_){for(var S=this._w,b=this._a|0,f=this._b|0,M=this._c|0,T=this._d|0,$=this._e|0,Z=0;Z<16;++Z)S[Z]=_.readInt32BE(Z*4);for(;Z<80;++Z)S[Z]=S[Z-3]^S[Z-8]^S[Z-14]^S[Z-16];for(var w=0;w<80;++w){var s=~~(w/20),g=z(b)+L(s,f,M,T)+$+S[w]+y[s]|0;$=T,T=M,M=a(f),f=b,b=g}this._a=b+this._a|0,this._b=f+this._b|0,this._c=M+this._c|0,this._d=T+this._d|0,this._e=$+this._e|0},r.prototype._hash=function(){var _=V.allocUnsafe(20);return _.writeInt32BE(this._a|0,0),_.writeInt32BE(this._b|0,4),_.writeInt32BE(this._c|0,8),_.writeInt32BE(this._d|0,12),_.writeInt32BE(this._e|0,16),_},W.exports=r}),a8=h1((x,W)=>{var q=i1(),O=a3(),V=H1().Buffer,y=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function r(){this.init(),this._w=u,O.call(this,64,56)}q(r,O),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function z(S){return S<<1|S>>>31}function a(S){return S<<5|S>>>27}function L(S){return S<<30|S>>>2}function _(S,b,f,M){return S===0?b&f|~b&M:S===2?b&f|b&M|f&M:b^f^M}r.prototype._update=function(S){for(var b=this._w,f=this._a|0,M=this._b|0,T=this._c|0,$=this._d|0,Z=this._e|0,w=0;w<16;++w)b[w]=S.readInt32BE(w*4);for(;w<80;++w)b[w]=z(b[w-3]^b[w-8]^b[w-14]^b[w-16]);for(var s=0;s<80;++s){var g=~~(s/20),R=a(f)+_(g,M,T,$)+Z+b[s]+y[g]|0;Z=$,$=T,T=L(M),M=f,f=R}this._a=f+this._a|0,this._b=M+this._b|0,this._c=T+this._c|0,this._d=$+this._d|0,this._e=Z+this._e|0},r.prototype._hash=function(){var S=V.allocUnsafe(20);return S.writeInt32BE(this._a|0,0),S.writeInt32BE(this._b|0,4),S.writeInt32BE(this._c|0,8),S.writeInt32BE(this._d|0,12),S.writeInt32BE(this._e|0,16),S},W.exports=r}),E0=h1((x,W)=>{var q=i1(),O=a3(),V=H1().Buffer,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function r(){this.init(),this._w=u,O.call(this,64,56)}q(r,O),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function z(f,M,T){return T^f&(M^T)}function a(f,M,T){return f&M|T&(f|M)}function L(f){return(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10)}function _(f){return(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7)}function S(f){return(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3}function b(f){return(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10}r.prototype._update=function(f){for(var M=this._w,T=this._a|0,$=this._b|0,Z=this._c|0,w=this._d|0,s=this._e|0,g=this._f|0,R=this._g|0,U=this._h|0,j=0;j<16;++j)M[j]=f.readInt32BE(j*4);for(;j<64;++j)M[j]=b(M[j-2])+M[j-7]+S(M[j-15])+M[j-16]|0;for(var J=0;J<64;++J){var H=U+_(s)+z(s,g,R)+y[J]+M[J]|0,D=L(T)+a(T,$,Z)|0;U=R,R=g,g=s,s=w+H|0,w=Z,Z=$,$=T,T=H+D|0}this._a=T+this._a|0,this._b=$+this._b|0,this._c=Z+this._c|0,this._d=w+this._d|0,this._e=s+this._e|0,this._f=g+this._f|0,this._g=R+this._g|0,this._h=U+this._h|0},r.prototype._hash=function(){var f=V.allocUnsafe(32);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f.writeInt32BE(this._h,28),f},W.exports=r}),r8=h1((x,W)=>{var q=i1(),O=E0(),V=a3(),y=H1().Buffer,u=new Array(64);function r(){this.init(),this._w=u,V.call(this,64,56)}q(r,O),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var z=y.allocUnsafe(28);return z.writeInt32BE(this._a,0),z.writeInt32BE(this._b,4),z.writeInt32BE(this._c,8),z.writeInt32BE(this._d,12),z.writeInt32BE(this._e,16),z.writeInt32BE(this._f,20),z.writeInt32BE(this._g,24),z},W.exports=r}),D0=h1((x,W)=>{var q=i1(),O=a3(),V=H1().Buffer,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function r(){this.init(),this._w=u,O.call(this,128,112)}q(r,O),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function z($,Z,w){return w^$&(Z^w)}function a($,Z,w){return $&Z|w&($|Z)}function L($,Z){return($>>>28|Z<<4)^(Z>>>2|$<<30)^(Z>>>7|$<<25)}function _($,Z){return($>>>14|Z<<18)^($>>>18|Z<<14)^(Z>>>9|$<<23)}function S($,Z){return($>>>1|Z<<31)^($>>>8|Z<<24)^$>>>7}function b($,Z){return($>>>1|Z<<31)^($>>>8|Z<<24)^($>>>7|Z<<25)}function f($,Z){return($>>>19|Z<<13)^(Z>>>29|$<<3)^$>>>6}function M($,Z){return($>>>19|Z<<13)^(Z>>>29|$<<3)^($>>>6|Z<<26)}function T($,Z){return $>>>0<Z>>>0?1:0}r.prototype._update=function($){for(var Z=this._w,w=this._ah|0,s=this._bh|0,g=this._ch|0,R=this._dh|0,U=this._eh|0,j=this._fh|0,J=this._gh|0,H=this._hh|0,D=this._al|0,l=this._bl|0,p=this._cl|0,m=this._dl|0,n=this._el|0,c=this._fl|0,v=this._gl|0,N=this._hl|0,d=0;d<32;d+=2)Z[d]=$.readInt32BE(d*4),Z[d+1]=$.readInt32BE(d*4+4);for(;d<160;d+=2){var o=Z[d-30],h=Z[d-30+1],P=S(o,h),X=b(h,o);o=Z[d-4],h=Z[d-4+1];var k=f(o,h),I=M(h,o),Q=Z[d-14],e=Z[d-14+1],B=Z[d-32],E=Z[d-32+1],A=X+e|0,r1=P+Q+T(A,X)|0;A=A+I|0,r1=r1+k+T(A,I)|0,A=A+E|0,r1=r1+B+T(A,E)|0,Z[d]=r1,Z[d+1]=A}for(var n1=0;n1<160;n1+=2){r1=Z[n1],A=Z[n1+1];var c1=a(w,s,g),G=a(D,l,p),K=L(w,D),Y=L(D,w),p1=_(U,n),u1=_(n,U),o1=y[n1],M1=y[n1+1],f1=z(U,j,J),d1=z(n,c,v),F1=N+u1|0,y1=H+p1+T(F1,N)|0;F1=F1+d1|0,y1=y1+f1+T(F1,d1)|0,F1=F1+M1|0,y1=y1+o1+T(F1,M1)|0,F1=F1+A|0,y1=y1+r1+T(F1,A)|0;var a1=Y+G|0,k1=K+c1+T(a1,Y)|0;H=J,N=v,J=j,v=c,j=U,c=n,n=m+F1|0,U=R+y1+T(n,m)|0,R=g,m=p,g=s,p=l,s=w,l=D,D=F1+a1|0,w=y1+k1+T(D,F1)|0}this._al=this._al+D|0,this._bl=this._bl+l|0,this._cl=this._cl+p|0,this._dl=this._dl+m|0,this._el=this._el+n|0,this._fl=this._fl+c|0,this._gl=this._gl+v|0,this._hl=this._hl+N|0,this._ah=this._ah+w+T(this._al,D)|0,this._bh=this._bh+s+T(this._bl,l)|0,this._ch=this._ch+g+T(this._cl,p)|0,this._dh=this._dh+R+T(this._dl,m)|0,this._eh=this._eh+U+T(this._el,n)|0,this._fh=this._fh+j+T(this._fl,c)|0,this._gh=this._gh+J+T(this._gl,v)|0,this._hh=this._hh+H+T(this._hl,N)|0},r.prototype._hash=function(){var $=V.allocUnsafe(64);function Z(w,s,g){$.writeInt32BE(w,g),$.writeInt32BE(s,g+4)}return Z(this._ah,this._al,0),Z(this._bh,this._bl,8),Z(this._ch,this._cl,16),Z(this._dh,this._dl,24),Z(this._eh,this._el,32),Z(this._fh,this._fl,40),Z(this._gh,this._gl,48),Z(this._hh,this._hl,56),$},W.exports=r}),h8=h1((x,W)=>{var q=i1(),O=D0(),V=a3(),y=H1().Buffer,u=new Array(160);function r(){this.init(),this._w=u,V.call(this,128,112)}q(r,O),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){var z=y.allocUnsafe(48);function a(L,_,S){z.writeInt32BE(L,S),z.writeInt32BE(_,S+4)}return a(this._ah,this._al,0),a(this._bh,this._bl,8),a(this._ch,this._cl,16),a(this._dh,this._dl,24),a(this._eh,this._el,32),a(this._fh,this._fl,40),z},W.exports=r}),X6=h1((q,W)=>{var q=W.exports=function(O){O=O.toLowerCase();var V=q[O];if(!V)throw new Error(O+" is not supported (we accept pull requests)");return new V};q.sha=d8(),q.sha1=a8(),q.sha224=r8(),q.sha256=E0(),q.sha384=h8(),q.sha512=D0()}),b2=h1((x,W)=>{W.exports={ArrayIsArray(q){return Array.isArray(q)},ArrayPrototypeIncludes(q,O){return q.includes(O)},ArrayPrototypeIndexOf(q,O){return q.indexOf(O)},ArrayPrototypeJoin(q,O){return q.join(O)},ArrayPrototypeMap(q,O){return q.map(O)},ArrayPrototypePop(q,O){return q.pop(O)},ArrayPrototypePush(q,O){return q.push(O)},ArrayPrototypeSlice(q,O,V){return q.slice(O,V)},Error,FunctionPrototypeCall(q,O,...V){return q.call(O,...V)},FunctionPrototypeSymbolHasInstance(q,O){return Function.prototype[Symbol.hasInstance].call(q,O)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(q,O){return Object.defineProperties(q,O)},ObjectDefineProperty(q,O,V){return Object.defineProperty(q,O,V)},ObjectGetOwnPropertyDescriptor(q,O){return Object.getOwnPropertyDescriptor(q,O)},ObjectKeys(q){return Object.keys(q)},ObjectSetPrototypeOf(q,O){return Object.setPrototypeOf(q,O)},Promise,PromisePrototypeCatch(q,O){return q.catch(O)},PromisePrototypeThen(q,O,V){return q.then(O,V)},PromiseReject(q){return Promise.reject(q)},ReflectApply:Reflect.apply,RegExpPrototypeTest(q,O){return q.test(O)},SafeSet:Set,String,StringPrototypeSlice(q,O,V){return q.slice(O,V)},StringPrototypeToLowerCase(q){return q.toLowerCase()},StringPrototypeToUpperCase(q){return q.toUpperCase()},StringPrototypeTrim(q){return q.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(q,O,V){return q.set(O,V)},Uint8Array}}),g2=h1((x,W)=>{var q=N2(),O=Object.getPrototypeOf(async function(){}).constructor,V=globalThis.Blob||q.Blob,y=typeof V<"u"?function(r){return r instanceof V}:function(r){return!1},u=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let z="";for(let a=0;a<r.length;a++)z+=`    ${r[a].stack}
`;super(z),this.name="AggregateError",this.errors=r}};W.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(r){let z=!1;return function(...a){z||(z=!0,r.apply(this,a))}},createDeferredPromise:function(){let r,z;return{promise:new Promise((a,L)=>{r=a,z=L}),resolve:r,reject:z}},promisify(r){return new Promise((z,a)=>{r((L,..._)=>L?a(L):z(..._))})},debuglog(){return function(){}},format(r,...z){return r.replace(/%([sdifj])/g,function(...[a,L]){let _=z.shift();return L==="f"?_.toFixed(6):L==="j"?JSON.stringify(_):L==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(r){switch(typeof r){case"string":if(r.includes("'"))if(r.includes('"')){if(!r.includes("`")&&!r.includes("${"))return`\`${r}\``}else return`"${r}"`;return`'${r}'`;case"number":return isNaN(r)?"NaN":Object.is(r,-0)?String(r):r;case"bigint":return`${String(r)}n`;case"boolean":case"undefined":return String(r);case"object":return"{}"}},types:{isAsyncFunction(r){return r instanceof O},isArrayBufferView(r){return ArrayBuffer.isView(r)}},isBlob:y},W.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),F6=h1((x,W)=>{var{AbortController:q,AbortSignal:O}=typeof self<"u"?self:typeof window<"u"?window:void 0;W.exports=q,W.exports.AbortSignal=O,W.exports.default=q}),M2=h1((x,W)=>{var{format:q,inspect:O,AggregateError:V}=g2(),y=globalThis.AggregateError||V,u=Symbol("kIsNodeError"),r=["string","function","number","object","Function","Object","boolean","bigint","symbol"],z=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",L={};function _(Z,w){if(!Z)throw new L.ERR_INTERNAL_ASSERTION(w)}function S(Z){let w="",s=Z.length,g=Z[0]==="-"?1:0;for(;s>=g+4;s-=3)w=`_${Z.slice(s-3,s)}${w}`;return`${Z.slice(0,s)}${w}`}function b(Z,w,s){if(typeof w=="function")return _(w.length<=s.length,`Code: ${Z}; The provided arguments length (${s.length}) does not match the required ones (${w.length}).`),w(...s);let g=(w.match(/%[dfijoOs]/g)||[]).length;return _(g===s.length,`Code: ${Z}; The provided arguments length (${s.length}) does not match the required ones (${g}).`),s.length===0?w:q(w,...s)}function f(Z,w,s){s||(s=Error);class g extends s{constructor(...R){super(b(Z,w,R))}toString(){return`${this.name} [${Z}]: ${this.message}`}}Object.defineProperties(g.prototype,{name:{value:s.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Z}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),g.prototype.code=Z,g.prototype[u]=!0,L[Z]=g}function M(Z){let w=a+Z.name;return Object.defineProperty(Z,"name",{value:w}),Z}function T(Z,w){if(Z&&w&&Z!==w){if(Array.isArray(w.errors))return w.errors.push(Z),w;let s=new y([w,Z],w.message);return s.code=w.code,s}return Z||w}var $=class extends Error{constructor(Z="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!="object")throw new L.ERR_INVALID_ARG_TYPE("options","Object",w);super(Z,w),this.code="ABORT_ERR",this.name="AbortError"}};f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(Z,w,s)=>{_(typeof Z=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let g="The ";Z.endsWith(" argument")?g+=`${Z} `:g+=`"${Z}" ${Z.includes(".")?"property":"argument"} `,g+="must be ";let R=[],U=[],j=[];for(let H of w)_(typeof H=="string","All expected entries have to be of type string"),r.includes(H)?R.push(H.toLowerCase()):z.test(H)?U.push(H):(_(H!=="object",'The value "object" should be written as "Object"'),j.push(H));if(U.length>0){let H=R.indexOf("object");H!==-1&&(R.splice(R,H,1),U.push("Object"))}if(R.length>0){switch(R.length){case 1:g+=`of type ${R[0]}`;break;case 2:g+=`one of type ${R[0]} or ${R[1]}`;break;default:{let H=R.pop();g+=`one of type ${R.join(", ")}, or ${H}`}}(U.length>0||j.length>0)&&(g+=" or ")}if(U.length>0){switch(U.length){case 1:g+=`an instance of ${U[0]}`;break;case 2:g+=`an instance of ${U[0]} or ${U[1]}`;break;default:{let H=U.pop();g+=`an instance of ${U.join(", ")}, or ${H}`}}j.length>0&&(g+=" or ")}switch(j.length){case 0:break;case 1:j[0].toLowerCase()!==j[0]&&(g+="an "),g+=`${j[0]}`;break;case 2:g+=`one of ${j[0]} or ${j[1]}`;break;default:{let H=j.pop();g+=`one of ${j.join(", ")}, or ${H}`}}if(s==null)g+=`. Received ${s}`;else if(typeof s=="function"&&s.name)g+=`. Received function ${s.name}`;else if(typeof s=="object"){var J;(J=s.constructor)!==null&&J!==void 0&&J.name?g+=`. Received an instance of ${s.constructor.name}`:g+=`. Received ${O(s,{depth:-1})}`}else{let H=O(s,{colors:!1});H.length>25&&(H=`${H.slice(0,25)}...`),g+=`. Received type ${typeof s} (${H})`}return g},TypeError),f("ERR_INVALID_ARG_VALUE",(Z,w,s="is invalid")=>{let g=O(w);return g.length>128&&(g=g.slice(0,128)+"..."),`The ${Z.includes(".")?"property":"argument"} '${Z}' ${s}. Received ${g}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(Z,w,s)=>{var g;let R=s!=null&&(g=s.constructor)!==null&&g!==void 0&&g.name?`instance of ${s.constructor.name}`:`type ${typeof s}`;return`Expected ${Z} to be returned from the "${w}" function but got ${R}.`},TypeError),f("ERR_MISSING_ARGS",(...Z)=>{_(Z.length>0,"At least one arg needs to be specified");let w,s=Z.length;switch(Z=(Array.isArray(Z)?Z:[Z]).map((g)=>`"${g}"`).join(" or "),s){case 1:w+=`The ${Z[0]} argument`;break;case 2:w+=`The ${Z[0]} and ${Z[1]} arguments`;break;default:{let g=Z.pop();w+=`The ${Z.join(", ")}, and ${g} arguments`}break}return`${w} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(Z,w,s)=>{_(w,'Missing "range" argument');let g;return Number.isInteger(s)&&Math.abs(s)>4294967296?g=S(String(s)):typeof s=="bigint"?(g=String(s),(s>2n**32n||s<-(2n**32n))&&(g=S(g)),g+="n"):g=O(s),`The value of "${Z}" is out of range. It must be ${w}. Received ${g}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),W.exports={AbortError:$,aggregateTwoErrors:M(T),hideStackFrames:M,codes:L}}),e3=h1((x,W)=>{var{ArrayIsArray:q,ArrayPrototypeIncludes:O,ArrayPrototypeJoin:V,ArrayPrototypeMap:y,NumberIsInteger:u,NumberIsNaN:r,NumberMAX_SAFE_INTEGER:z,NumberMIN_SAFE_INTEGER:a,NumberParseInt:L,ObjectPrototypeHasOwnProperty:_,RegExpPrototypeExec:S,String:b,StringPrototypeToUpperCase:f,StringPrototypeTrim:M}=b2(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:$,ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:s,ERR_UNKNOWN_SIGNAL:g}}=M2(),{normalizeEncoding:R}=g2(),{isAsyncFunction:U,isArrayBufferView:j}=g2().types,J={};function H(G){return G===(G|0)}function D(G){return G===G>>>0}var l=/^[0-7]+$/,p="must be a 32-bit unsigned integer or an octal string";function m(G,K,Y){if(typeof G>"u"&&(G=Y),typeof G=="string"){if(S(l,G)===null)throw new w(K,G,p);G=L(G,8)}return v(G,K),G}var n=T((G,K,Y=a,p1=z)=>{if(typeof G!="number")throw new Z(K,"number",G);if(!u(G))throw new s(K,"an integer",G);if(G<Y||G>p1)throw new s(K,`>= ${Y} && <= ${p1}`,G)}),c=T((G,K,Y=-2147483648,p1=2147483647)=>{if(typeof G!="number")throw new Z(K,"number",G);if(!u(G))throw new s(K,"an integer",G);if(G<Y||G>p1)throw new s(K,`>= ${Y} && <= ${p1}`,G)}),v=T((G,K,Y=!1)=>{if(typeof G!="number")throw new Z(K,"number",G);if(!u(G))throw new s(K,"an integer",G);let p1=Y?1:0,u1=4294967295;if(G<p1||G>u1)throw new s(K,`>= ${p1} && <= ${u1}`,G)});function N(G,K){if(typeof G!="string")throw new Z(K,"string",G)}function d(G,K,Y=void 0,p1){if(typeof G!="number")throw new Z(K,"number",G);if(Y!=null&&G<Y||p1!=null&&G>p1||(Y!=null||p1!=null)&&r(G))throw new s(K,`${Y!=null?`>= ${Y}`:""}${Y!=null&&p1!=null?" && ":""}${p1!=null?`<= ${p1}`:""}`,G)}var o=T((G,K,Y)=>{if(!O(Y,G)){let p1=V(y(Y,(o1)=>typeof o1=="string"?`'${o1}'`:b(o1)),", "),u1="must be one of: "+p1;throw new w(K,G,u1)}});function h(G,K){if(typeof G!="boolean")throw new Z(K,"boolean",G)}function P(G,K,Y){return G==null||!_(G,K)?Y:G[K]}var X=T((G,K,Y=null)=>{let p1=P(Y,"allowArray",!1),u1=P(Y,"allowFunction",!1);if(!P(Y,"nullable",!1)&&G===null||!p1&&q(G)||typeof G!="object"&&(!u1||typeof G!="function"))throw new Z(K,"Object",G)}),k=T((G,K,Y=0)=>{if(!q(G))throw new Z(K,"Array",G);if(G.length<Y){let p1=`must be longer than ${Y}`;throw new w(K,G,p1)}});function I(G,K="signal"){if(N(G,K),J[G]===void 0)throw J[f(G)]!==void 0?new g(G+" (signals must use all capital letters)"):new g(G)}var Q=T((G,K="buffer")=>{if(!j(G))throw new Z(K,["Buffer","TypedArray","DataView"],G)});function e(G,K){let Y=R(K),p1=G.length;if(Y==="hex"&&p1%2!==0)throw new w("encoding",K,`is invalid for data of length ${p1}`)}function B(G,K="Port",Y=!0){if(typeof G!="number"&&typeof G!="string"||typeof G=="string"&&M(G).length===0||+G!==+G>>>0||G>65535||G===0&&!Y)throw new $(K,G,Y);return G|0}var E=T((G,K)=>{if(G!==void 0&&(G===null||typeof G!="object"||!("aborted"in G)))throw new Z(K,"AbortSignal",G)}),A=T((G,K)=>{if(typeof G!="function")throw new Z(K,"Function",G)}),r1=T((G,K)=>{if(typeof G!="function"||U(G))throw new Z(K,"Function",G)}),n1=T((G,K)=>{if(G!==void 0)throw new Z(K,"undefined",G)});function c1(G,K,Y){if(!O(Y,G))throw new Z(K,`('${V(Y,"|")}')`,G)}W.exports={isInt32:H,isUint32:D,parseFileMode:m,validateArray:k,validateBoolean:h,validateBuffer:Q,validateEncoding:e,validateFunction:A,validateInt32:c,validateInteger:n,validateNumber:d,validateObject:X,validateOneOf:o,validatePlainFunction:r1,validatePort:B,validateSignalName:I,validateString:N,validateUint32:v,validateUndefined:n1,validateUnion:c1,validateAbortSignal:E}}),I0=h1((x,W)=>{var q=W.exports={},O,V;function y(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?O=setTimeout:O=y}catch{O=y}try{typeof clearTimeout=="function"?V=clearTimeout:V=u}catch{V=u}})();function r($){if(O===setTimeout)return setTimeout($,0);if((O===y||!O)&&setTimeout)return O=setTimeout,setTimeout($,0);try{return O($,0)}catch{try{return O.call(null,$,0)}catch{return O.call(this,$,0)}}}function z($){if(V===clearTimeout)return clearTimeout($);if((V===u||!V)&&clearTimeout)return V=clearTimeout,clearTimeout($);try{return V($)}catch{try{return V.call(null,$)}catch{return V.call(this,$)}}}var a=[],L=!1,_,S=-1;function b(){!L||!_||(L=!1,_.length?a=_.concat(a):S=-1,a.length&&f())}function f(){if(!L){var $=r(b);L=!0;for(var Z=a.length;Z;){for(_=a,a=[];++S<Z;)_&&_[S].run();S=-1,Z=a.length}_=null,L=!1,z($)}}q.nextTick=function($){var Z=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)Z[w-1]=arguments[w];a.push(new M($,Z)),a.length===1&&!L&&r(f)};function M($,Z){this.fun=$,this.array=Z}M.prototype.run=function(){this.fun.apply(null,this.array)},q.title="browser",q.browser=!0,q.env={},q.argv=[],q.version="",q.versions={};function T(){}q.on=T,q.addListener=T,q.once=T,q.off=T,q.removeListener=T,q.removeAllListeners=T,q.emit=T,q.prependListener=T,q.prependOnceListener=T,q.listeners=function($){return[]},q.binding=function($){throw new Error("process.binding is not supported")},q.cwd=function(){return"/"},q.chdir=function($){throw new Error("process.chdir is not supported")},q.umask=function(){return 0}}),X2={},t3(X2,{default:()=>y8}),Y2=W6(()=>{w6(X2,D2(I0())),y8=D2(I0())}),t2=h1((x,W)=>{var{Symbol:q,SymbolAsyncIterator:O,SymbolIterator:V}=b2(),y=q("kDestroyed"),u=q("kIsErrored"),r=q("kIsReadable"),z=q("kIsDisturbed");function a(n,c=!1){var v;return!!(n&&typeof n.pipe=="function"&&typeof n.on=="function"&&(!c||typeof n.pause=="function"&&typeof n.resume=="function")&&(!n._writableState||((v=n._readableState)===null||v===void 0?void 0:v.readable)!==!1)&&(!n._writableState||n._readableState))}function L(n){var c;return!!(n&&typeof n.write=="function"&&typeof n.on=="function"&&(!n._readableState||((c=n._writableState)===null||c===void 0?void 0:c.writable)!==!1))}function _(n){return!!(n&&typeof n.pipe=="function"&&n._readableState&&typeof n.on=="function"&&typeof n.write=="function")}function S(n){return n&&(n._readableState||n._writableState||typeof n.write=="function"&&typeof n.on=="function"||typeof n.pipe=="function"&&typeof n.on=="function")}function b(n,c){return n==null?!1:c===!0?typeof n[O]=="function":c===!1?typeof n[V]=="function":typeof n[O]=="function"||typeof n[V]=="function"}function f(n){if(!S(n))return null;let{_writableState:c,_readableState:v}=n,N=c||v;return!!(n.destroyed||n[y]||N!=null&&N.destroyed)}function M(n){if(!L(n))return null;if(n.writableEnded===!0)return!0;let c=n._writableState;return c!=null&&c.errored?!1:typeof c?.ended!="boolean"?null:c.ended}function T(n,c){if(!L(n))return null;if(n.writableFinished===!0)return!0;let v=n._writableState;return v!=null&&v.errored?!1:typeof v?.finished!="boolean"?null:!!(v.finished||c===!1&&v.ended===!0&&v.length===0)}function $(n){if(!a(n))return null;if(n.readableEnded===!0)return!0;let c=n._readableState;return!c||c.errored?!1:typeof c?.ended!="boolean"?null:c.ended}function Z(n,c){if(!a(n))return null;let v=n._readableState;return v!=null&&v.errored?!1:typeof v?.endEmitted!="boolean"?null:!!(v.endEmitted||c===!1&&v.ended===!0&&v.length===0)}function w(n){return n&&n[r]!=null?n[r]:typeof n?.readable!="boolean"?null:f(n)?!1:a(n)&&n.readable&&!Z(n)}function s(n){return typeof n?.writable!="boolean"?null:f(n)?!1:L(n)&&n.writable&&!M(n)}function g(n,c){return S(n)?f(n)?!0:!(c?.readable!==!1&&w(n)||c?.writable!==!1&&s(n)):null}function R(n){var c,v;return S(n)?n.writableErrored?n.writableErrored:(c=(v=n._writableState)===null||v===void 0?void 0:v.errored)!==null&&c!==void 0?c:null:null}function U(n){var c,v;return S(n)?n.readableErrored?n.readableErrored:(c=(v=n._readableState)===null||v===void 0?void 0:v.errored)!==null&&c!==void 0?c:null:null}function j(n){if(!S(n))return null;if(typeof n.closed=="boolean")return n.closed;let{_writableState:c,_readableState:v}=n;return typeof c?.closed=="boolean"||typeof v?.closed=="boolean"?c?.closed||v?.closed:typeof n._closed=="boolean"&&J(n)?n._closed:null}function J(n){return typeof n._closed=="boolean"&&typeof n._defaultKeepAlive=="boolean"&&typeof n._removedConnection=="boolean"&&typeof n._removedContLen=="boolean"}function H(n){return typeof n._sent100=="boolean"&&J(n)}function D(n){var c;return typeof n._consuming=="boolean"&&typeof n._dumped=="boolean"&&((c=n.req)===null||c===void 0?void 0:c.upgradeOrConnect)===void 0}function l(n){if(!S(n))return null;let{_writableState:c,_readableState:v}=n,N=c||v;return!N&&H(n)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function p(n){var c;return!!(n&&((c=n[z])!==null&&c!==void 0?c:n.readableDidRead||n.readableAborted))}function m(n){var c,v,N,d,o,h,P,X,k,I;return!!(n&&((c=(v=(N=(d=(o=(h=n[u])!==null&&h!==void 0?h:n.readableErrored)!==null&&o!==void 0?o:n.writableErrored)!==null&&d!==void 0?d:(P=n._readableState)===null||P===void 0?void 0:P.errorEmitted)!==null&&N!==void 0?N:(X=n._writableState)===null||X===void 0?void 0:X.errorEmitted)!==null&&v!==void 0?v:(k=n._readableState)===null||k===void 0?void 0:k.errored)!==null&&c!==void 0?c:(I=n._writableState)===null||I===void 0?void 0:I.errored))}W.exports={kDestroyed:y,isDisturbed:p,kIsDisturbed:z,isErrored:m,kIsErrored:u,isReadable:w,kIsReadable:r,isClosed:j,isDestroyed:f,isDuplexNodeStream:_,isFinished:g,isIterable:b,isReadableNodeStream:a,isReadableEnded:$,isReadableFinished:Z,isReadableErrored:U,isNodeStream:S,isWritable:s,isWritableNodeStream:L,isWritableEnded:M,isWritableFinished:T,isWritableErrored:R,isServerRequest:D,isServerResponse:H,willEmitClose:l}}),C2=h1((x,W)=>{var q=(Y2(),S2(X2)),{AbortError:O,codes:V}=M2(),{ERR_INVALID_ARG_TYPE:y,ERR_STREAM_PREMATURE_CLOSE:u}=V,{kEmptyObject:r,once:z}=g2(),{validateAbortSignal:a,validateFunction:L,validateObject:_}=e3(),{Promise:S}=b2(),{isClosed:b,isReadable:f,isReadableNodeStream:M,isReadableFinished:T,isReadableErrored:$,isWritable:Z,isWritableNodeStream:w,isWritableFinished:s,isWritableErrored:g,isNodeStream:R,willEmitClose:U}=t2();function j(l){return l.setHeader&&typeof l.abort=="function"}var J=()=>{};function H(l,p,m){var n,c;arguments.length===2?(m=p,p=r):p==null?p=r:_(p,"options"),L(m,"callback"),a(p.signal,"options.signal"),m=z(m);let v=(n=p.readable)!==null&&n!==void 0?n:M(l),N=(c=p.writable)!==null&&c!==void 0?c:w(l);if(!R(l))throw new y("stream","Stream",l);let{_writableState:d,_readableState:o}=l,h=()=>{l.writable||k()},P=U(l)&&M(l)===v&&w(l)===N,X=s(l,!1),k=()=>{X=!0,l.destroyed&&(P=!1),!(P&&(!l.readable||v))&&(!v||I)&&m.call(l)},I=T(l,!1),Q=()=>{I=!0,l.destroyed&&(P=!1),!(P&&(!l.writable||N))&&(!N||X)&&m.call(l)},e=(n1)=>{m.call(l,n1)},B=b(l),E=()=>{B=!0;let n1=g(l)||$(l);if(n1&&typeof n1!="boolean")return m.call(l,n1);if(v&&!I&&M(l,!0)&&!T(l,!1))return m.call(l,new u);if(N&&!X&&!s(l,!1))return m.call(l,new u);m.call(l)},A=()=>{l.req.on("finish",k)};j(l)?(l.on("complete",k),P||l.on("abort",E),l.req?A():l.on("request",A)):N&&!d&&(l.on("end",h),l.on("close",h)),!P&&typeof l.aborted=="boolean"&&l.on("aborted",E),l.on("end",Q),l.on("finish",k),p.error!==!1&&l.on("error",e),l.on("close",E),B?q.nextTick(E):d!=null&&d.errorEmitted||o!=null&&o.errorEmitted?P||q.nextTick(E):(!v&&(!P||f(l))&&(X||Z(l)===!1)||!N&&(!P||Z(l))&&(I||f(l)===!1)||o&&l.req&&l.aborted)&&q.nextTick(E);let r1=()=>{m=J,l.removeListener("aborted",E),l.removeListener("complete",k),l.removeListener("abort",E),l.removeListener("request",A),l.req&&l.req.removeListener("finish",k),l.removeListener("end",h),l.removeListener("close",h),l.removeListener("finish",k),l.removeListener("end",Q),l.removeListener("error",e),l.removeListener("close",E)};if(p.signal&&!B){let n1=()=>{let c1=m;r1(),c1.call(l,new O(void 0,{cause:p.signal.reason}))};if(p.signal.aborted)q.nextTick(n1);else{let c1=m;m=z((...G)=>{p.signal.removeEventListener("abort",n1),c1.apply(l,G)}),p.signal.addEventListener("abort",n1)}}return r1}function D(l,p){return new S((m,n)=>{H(l,p,(c)=>{c?n(c):m()})})}W.exports=H,W.exports.finished=D}),v8=h1((x,W)=>{var q=globalThis.AbortController||F6().AbortController,{codes:{ERR_INVALID_ARG_TYPE:O,ERR_MISSING_ARGS:V,ERR_OUT_OF_RANGE:y},AbortError:u}=M2(),{validateAbortSignal:r,validateInteger:z,validateObject:a}=e3(),L=b2().Symbol("kWeak"),{finished:_}=C2(),{ArrayPrototypePush:S,MathFloor:b,Number:f,NumberIsNaN:M,Promise:T,PromiseReject:$,PromisePrototypeThen:Z,Symbol:w}=b2(),s=w("kEmpty"),g=w("kEof");function R(o,h){if(typeof o!="function")throw new O("fn",["Function","AsyncFunction"],o);h!=null&&a(h,"options"),h?.signal!=null&&r(h.signal,"options.signal");let P=1;return h?.concurrency!=null&&(P=b(h.concurrency)),z(P,"concurrency",1),async function*(){var X,k;let I=new q,Q=this,e=[],B=I.signal,E={signal:B},A=()=>I.abort();h!=null&&(X=h.signal)!==null&&X!==void 0&&X.aborted&&A(),h==null||(k=h.signal)===null||k===void 0||k.addEventListener("abort",A);let r1,n1,c1=!1;function G(){c1=!0}async function K(){try{for await(let u1 of Q){var Y;if(c1)return;if(B.aborted)throw new u;try{u1=o(u1,E)}catch(o1){u1=$(o1)}u1!==s&&(typeof((Y=u1)===null||Y===void 0?void 0:Y.catch)=="function"&&u1.catch(G),e.push(u1),r1&&(r1(),r1=null),!c1&&e.length&&e.length>=P&&await new T((o1)=>{n1=o1}))}e.push(g)}catch(u1){let o1=$(u1);Z(o1,void 0,G),e.push(o1)}finally{var p1;c1=!0,r1&&(r1(),r1=null),h==null||(p1=h.signal)===null||p1===void 0||p1.removeEventListener("abort",A)}}K();try{for(;;){for(;e.length>0;){let Y=await e[0];if(Y===g)return;if(B.aborted)throw new u;Y!==s&&(yield Y),e.shift(),n1&&(n1(),n1=null)}await new T((Y)=>{r1=Y})}}finally{I.abort(),c1=!0,n1&&(n1(),n1=null)}}.call(this)}function U(o=void 0){return o!=null&&a(o,"options"),o?.signal!=null&&r(o.signal,"options.signal"),async function*(){let h=0;for await(let X of this){var P;if(o!=null&&(P=o.signal)!==null&&P!==void 0&&P.aborted)throw new u({cause:o.signal.reason});yield[h++,X]}}.call(this)}async function j(o,h=void 0){for await(let P of l.call(this,o,h))return!0;return!1}async function J(o,h=void 0){if(typeof o!="function")throw new O("fn",["Function","AsyncFunction"],o);return!await j.call(this,async(...P)=>!await o(...P),h)}async function H(o,h){for await(let P of l.call(this,o,h))return P}async function D(o,h){if(typeof o!="function")throw new O("fn",["Function","AsyncFunction"],o);async function P(X,k){return await o(X,k),s}for await(let X of R.call(this,P,h));}function l(o,h){if(typeof o!="function")throw new O("fn",["Function","AsyncFunction"],o);async function P(X,k){return await o(X,k)?X:s}return R.call(this,P,h)}var p=class extends V{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function m(o,h,P){var X;if(typeof o!="function")throw new O("reducer",["Function","AsyncFunction"],o);P!=null&&a(P,"options"),P?.signal!=null&&r(P.signal,"options.signal");let k=arguments.length>1;if(P!=null&&(X=P.signal)!==null&&X!==void 0&&X.aborted){let E=new u(void 0,{cause:P.signal.reason});throw this.once("error",()=>{}),await _(this.destroy(E)),E}let I=new q,Q=I.signal;if(P!=null&&P.signal){let E={once:!0,[L]:this};P.signal.addEventListener("abort",()=>I.abort(),E)}let e=!1;try{for await(let E of this){var B;if(e=!0,P!=null&&(B=P.signal)!==null&&B!==void 0&&B.aborted)throw new u;k?h=await o(h,E,{signal:Q}):(h=E,k=!0)}if(!e&&!k)throw new p}finally{I.abort()}return h}async function n(o){o!=null&&a(o,"options"),o?.signal!=null&&r(o.signal,"options.signal");let h=[];for await(let X of this){var P;if(o!=null&&(P=o.signal)!==null&&P!==void 0&&P.aborted)throw new u(void 0,{cause:o.signal.reason});S(h,X)}return h}function c(o,h){let P=R.call(this,o,h);return async function*(){for await(let X of P)yield*X}.call(this)}function v(o){if(o=f(o),M(o))return 0;if(o<0)throw new y("number",">= 0",o);return o}function N(o,h=void 0){return h!=null&&a(h,"options"),h?.signal!=null&&r(h.signal,"options.signal"),o=v(o),async function*(){var P;if(h!=null&&(P=h.signal)!==null&&P!==void 0&&P.aborted)throw new u;for await(let k of this){var X;if(h!=null&&(X=h.signal)!==null&&X!==void 0&&X.aborted)throw new u;o--<=0&&(yield k)}}.call(this)}function d(o,h=void 0){return h!=null&&a(h,"options"),h?.signal!=null&&r(h.signal,"options.signal"),o=v(o),async function*(){var P;if(h!=null&&(P=h.signal)!==null&&P!==void 0&&P.aborted)throw new u;for await(let k of this){var X;if(h!=null&&(X=h.signal)!==null&&X!==void 0&&X.aborted)throw new u;if(o-- >0)yield k;else return}}.call(this)}W.exports.streamReturningOperators={asIndexedPairs:U,drop:N,filter:l,flatMap:c,map:R,take:d},W.exports.promiseReturningOperators={every:J,forEach:D,reduce:m,toArray:n,some:j,find:H}}),r3=h1((x,W)=>{var q=(Y2(),S2(X2)),{aggregateTwoErrors:O,codes:{ERR_MULTIPLE_CALLBACK:V},AbortError:y}=M2(),{Symbol:u}=b2(),{kDestroyed:r,isDestroyed:z,isFinished:a,isServerRequest:L}=t2(),_=u("kDestroy"),S=u("kConstruct");function b(l,p,m){l&&(l.stack,p&&!p.errored&&(p.errored=l),m&&!m.errored&&(m.errored=l))}function f(l,p){let m=this._readableState,n=this._writableState,c=n||m;return n&&n.destroyed||m&&m.destroyed?(typeof p=="function"&&p(),this):(b(l,n,m),n&&(n.destroyed=!0),m&&(m.destroyed=!0),c.constructed?M(this,l,p):this.once(_,function(v){M(this,O(v,l),p)}),this)}function M(l,p,m){let n=!1;function c(v){if(n)return;n=!0;let{_readableState:N,_writableState:d}=l;b(v,d,N),d&&(d.closed=!0),N&&(N.closed=!0),typeof m=="function"&&m(v),v?q.nextTick(T,l,v):q.nextTick($,l)}try{l._destroy(p||null,c)}catch(v){c(v)}}function T(l,p){Z(l,p),$(l)}function $(l){let{_readableState:p,_writableState:m}=l;m&&(m.closeEmitted=!0),p&&(p.closeEmitted=!0),(m&&m.emitClose||p&&p.emitClose)&&l.emit("close")}function Z(l,p){let{_readableState:m,_writableState:n}=l;n&&n.errorEmitted||m&&m.errorEmitted||(n&&(n.errorEmitted=!0),m&&(m.errorEmitted=!0),l.emit("error",p))}function w(){let l=this._readableState,p=this._writableState;l&&(l.constructed=!0,l.closed=!1,l.closeEmitted=!1,l.destroyed=!1,l.errored=null,l.errorEmitted=!1,l.reading=!1,l.ended=l.readable===!1,l.endEmitted=l.readable===!1),p&&(p.constructed=!0,p.destroyed=!1,p.closed=!1,p.closeEmitted=!1,p.errored=null,p.errorEmitted=!1,p.finalCalled=!1,p.prefinished=!1,p.ended=p.writable===!1,p.ending=p.writable===!1,p.finished=p.writable===!1)}function s(l,p,m){let{_readableState:n,_writableState:c}=l;if(c&&c.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||c&&c.autoDestroy?l.destroy(p):p&&(p.stack,c&&!c.errored&&(c.errored=p),n&&!n.errored&&(n.errored=p),m?q.nextTick(Z,l,p):Z(l,p))}function g(l,p){if(typeof l._construct!="function")return;let{_readableState:m,_writableState:n}=l;m&&(m.constructed=!1),n&&(n.constructed=!1),l.once(S,p),!(l.listenerCount(S)>1)&&q.nextTick(R,l)}function R(l){let p=!1;function m(n){if(p){s(l,n??new V);return}p=!0;let{_readableState:c,_writableState:v}=l,N=v||c;c&&(c.constructed=!0),v&&(v.constructed=!0),N.destroyed?l.emit(_,n):n?s(l,n,!0):q.nextTick(U,l)}try{l._construct(m)}catch(n){m(n)}}function U(l){l.emit(S)}function j(l){return l&&l.setHeader&&typeof l.abort=="function"}function J(l){l.emit("close")}function H(l,p){l.emit("error",p),q.nextTick(J,l)}function D(l,p){!l||z(l)||(!p&&!a(l)&&(p=new y),L(l)?(l.socket=null,l.destroy(p)):j(l)?l.abort():j(l.req)?l.req.abort():typeof l.destroy=="function"?l.destroy(p):typeof l.close=="function"?l.close():p?q.nextTick(H,l,p):q.nextTick(J,l),l.destroyed||(l[r]=!0))}W.exports={construct:g,destroyer:D,destroy:f,undestroy:w,errorOrDestroy:s}}),k6=h1((x,W)=>{var{ArrayIsArray:q,ObjectSetPrototypeOf:O}=b2(),{EventEmitter:V}=I2();function y(r){V.call(this,r)}O(y.prototype,V.prototype),O(y,V),y.prototype.pipe=function(r,z){let a=this;function L($){r.writable&&r.write($)===!1&&a.pause&&a.pause()}a.on("data",L);function _(){a.readable&&a.resume&&a.resume()}r.on("drain",_),!r._isStdio&&(!z||z.end!==!1)&&(a.on("end",b),a.on("close",f));let S=!1;function b(){S||(S=!0,r.end())}function f(){S||(S=!0,typeof r.destroy=="function"&&r.destroy())}function M($){T(),V.listenerCount(this,"error")===0&&this.emit("error",$)}u(a,"error",M),u(r,"error",M);function T(){a.removeListener("data",L),r.removeListener("drain",_),a.removeListener("end",b),a.removeListener("close",f),a.removeListener("error",M),r.removeListener("error",M),a.removeListener("end",T),a.removeListener("close",T),r.removeListener("close",T)}return a.on("end",T),a.on("close",T),r.on("close",T),r.emit("pipe",a),r};function u(r,z,a){if(typeof r.prependListener=="function")return r.prependListener(z,a);!r._events||!r._events[z]?r.on(z,a):q(r._events[z])?r._events[z].unshift(a):r._events[z]=[a,r._events[z]]}W.exports={Stream:y,prependListener:u}}),P6=h1((x,W)=>{var{AbortError:q,codes:O}=M2(),V=C2(),{ERR_INVALID_ARG_TYPE:y}=O,u=(z,a)=>{if(typeof z!="object"||!("aborted"in z))throw new y(a,"AbortSignal",z)};function r(z){return!!(z&&typeof z.pipe=="function")}W.exports.addAbortSignal=function(z,a){if(u(z,"signal"),!r(a))throw new y("stream","stream.Stream",a);return W.exports.addAbortSignalNoValidate(z,a)},W.exports.addAbortSignalNoValidate=function(z,a){if(typeof z!="object"||!("aborted"in z))return a;let L=()=>{a.destroy(new q(void 0,{cause:z.reason}))};return z.aborted?L():(z.addEventListener("abort",L),V(a,()=>z.removeEventListener("abort",L))),a}}),_8=h1((x,W)=>{var{StringPrototypeSlice:q,SymbolIterator:O,TypedArrayPrototypeSet:V,Uint8Array:y}=b2(),{Buffer:u}=N2(),{inspect:r}=g2();W.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(z){let a={data:z,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(z){let a={data:z,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;let z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,z}clear(){this.head=this.tail=null,this.length=0}join(z){if(this.length===0)return"";let a=this.head,L=""+a.data;for(;(a=a.next)!==null;)L+=z+a.data;return L}concat(z){if(this.length===0)return u.alloc(0);let a=u.allocUnsafe(z>>>0),L=this.head,_=0;for(;L;)V(a,L.data,_),_+=L.data.length,L=L.next;return a}consume(z,a){let L=this.head.data;if(z<L.length){let _=L.slice(0,z);return this.head.data=L.slice(z),_}return z===L.length?this.shift():a?this._getString(z):this._getBuffer(z)}first(){return this.head.data}*[O](){for(let z=this.head;z;z=z.next)yield z.data}_getString(z){let a="",L=this.head,_=0;do{let S=L.data;if(z>S.length)a+=S,z-=S.length;else{z===S.length?(a+=S,++_,L.next?this.head=L.next:this.head=this.tail=null):(a+=q(S,0,z),this.head=L,L.data=q(S,z));break}++_}while((L=L.next)!==null);return this.length-=_,a}_getBuffer(z){let a=u.allocUnsafe(z),L=z,_=this.head,S=0;do{let b=_.data;if(z>b.length)V(a,b,L-z),z-=b.length;else{z===b.length?(V(a,b,L-z),++S,_.next?this.head=_.next:this.head=this.tail=null):(V(a,new y(b.buffer,b.byteOffset,z),L-z),this.head=_,_.data=b.slice(z));break}++S}while((_=_.next)!==null);return this.length-=S,a}[Symbol.for("nodejs.util.inspect.custom")](z,a){return r(this,{...a,depth:0,customInspect:!1})}}}),U6=h1((x,W)=>{var{MathFloor:q,NumberIsInteger:O}=b2(),{ERR_INVALID_ARG_VALUE:V}=M2().codes;function y(z,a,L){return z.highWaterMark!=null?z.highWaterMark:a?z[L]:null}function u(z){return z?16:16384}function r(z,a,L,_){let S=y(a,_,L);if(S!=null){if(!O(S)||S<0){let b=_?`options.${L}`:"options.highWaterMark";throw new V(b,S)}return q(S)}return u(z.objectMode)}W.exports={getHighWaterMark:r,getDefaultHighWaterMark:u}}),Y0=h1((x,W)=>{var q=(Y2(),S2(X2)),{PromisePrototypeThen:O,SymbolAsyncIterator:V,SymbolIterator:y}=b2(),{Buffer:u}=N2(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_NULL_VALUES:z}=M2().codes;function a(L,_,S){let b;if(typeof _=="string"||_ instanceof u)return new L({objectMode:!0,...S,read(){this.push(_),this.push(null)}});let f;if(_&&_[V])f=!0,b=_[V]();else if(_&&_[y])f=!1,b=_[y]();else throw new r("iterable",["Iterable"],_);let M=new L({objectMode:!0,highWaterMark:1,...S}),T=!1;M._read=function(){T||(T=!0,Z())},M._destroy=function(w,s){O($(w),()=>q.nextTick(s,w),(g)=>q.nextTick(s,g||w))};async function $(w){let s=w!=null,g=typeof b.throw=="function";if(s&&g){let{value:R,done:U}=await b.throw(w);if(await R,U)return}if(typeof b.return=="function"){let{value:R}=await b.return();await R}}async function Z(){for(;;){try{let{value:w,done:s}=f?await b.next():b.next();if(s)M.push(null);else{let g=w&&typeof w.then=="function"?await w:w;if(g===null)throw T=!1,new z;if(M.push(g))continue;T=!1}}catch(w){M.destroy(w)}break}}return M}W.exports=a}),A3=h1((x,W)=>{var q=(Y2(),S2(X2)),{ArrayPrototypeIndexOf:O,NumberIsInteger:V,NumberIsNaN:y,NumberParseInt:u,ObjectDefineProperties:r,ObjectKeys:z,ObjectSetPrototypeOf:a,Promise:L,SafeSet:_,SymbolAsyncIterator:S,Symbol:b}=b2();W.exports=P,P.ReadableState=h;var{EventEmitter:f}=I2(),{Stream:M,prependListener:T}=k6(),{Buffer:$}=N2(),{addAbortSignal:Z}=P6(),w=C2(),s=g2().debuglog("stream",(F)=>{s=F}),g=_8(),R=r3(),{getHighWaterMark:U,getDefaultHighWaterMark:j}=U6(),{aggregateTwoErrors:J,codes:{ERR_INVALID_ARG_TYPE:H,ERR_METHOD_NOT_IMPLEMENTED:D,ERR_OUT_OF_RANGE:l,ERR_STREAM_PUSH_AFTER_EOF:p,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:m}}=M2(),{validateObject:n}=e3(),c=b("kPaused"),{StringDecoder:v}=O6(),N=Y0();a(P.prototype,M.prototype),a(P,M);var d=()=>{},{errorOrDestroy:o}=R;function h(F,i,t){typeof t!="boolean"&&(t=i instanceof F2()),this.objectMode=!!(F&&F.objectMode),t&&(this.objectMode=this.objectMode||!!(F&&F.readableObjectMode)),this.highWaterMark=F?U(this,F,"readableHighWaterMark",t):j(!1),this.buffer=new g,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[c]=null,this.errorEmitted=!1,this.emitClose=!F||F.emitClose!==!1,this.autoDestroy=!F||F.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=F&&F.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,F&&F.encoding&&(this.decoder=new v(F.encoding),this.encoding=F.encoding)}function P(F){if(!(this instanceof P))return new P(F);let i=this instanceof F2();this._readableState=new h(F,this,i),F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.construct=="function"&&(this._construct=F.construct),F.signal&&!i&&Z(F.signal,this)),M.call(this,F),R.construct(this,()=>{this._readableState.needReadable&&r1(this,this._readableState)})}P.prototype.destroy=R.destroy,P.prototype._undestroy=R.undestroy,P.prototype._destroy=function(F,i){i(F)},P.prototype[f.captureRejectionSymbol]=function(F){this.destroy(F)},P.prototype.push=function(F,i){return X(this,F,i,!1)},P.prototype.unshift=function(F,i){return X(this,F,i,!0)};function X(F,i,t,C){s("readableAddChunk",i);let l1=F._readableState,b1;if(l1.objectMode||(typeof i=="string"?(t=t||l1.defaultEncoding,l1.encoding!==t&&(C&&l1.encoding?i=$.from(i,t).toString(l1.encoding):(i=$.from(i,t),t=""))):i instanceof $?t="":M._isUint8Array(i)?(i=M._uint8ArrayToBuffer(i),t=""):i!=null&&(b1=new H("chunk",["string","Buffer","Uint8Array"],i))),b1)o(F,b1);else if(i===null)l1.reading=!1,B(F,l1);else if(l1.objectMode||i&&i.length>0)if(C)if(l1.endEmitted)o(F,new m);else{if(l1.destroyed||l1.errored)return!1;k(F,l1,i,!0)}else if(l1.ended)o(F,new p);else{if(l1.destroyed||l1.errored)return!1;l1.reading=!1,l1.decoder&&!t?(i=l1.decoder.write(i),l1.objectMode||i.length!==0?k(F,l1,i,!1):r1(F,l1)):k(F,l1,i,!1)}else C||(l1.reading=!1,r1(F,l1));return!l1.ended&&(l1.length<l1.highWaterMark||l1.length===0)}function k(F,i,t,C){i.flowing&&i.length===0&&!i.sync&&F.listenerCount("data")>0?(i.multiAwaitDrain?i.awaitDrainWriters.clear():i.awaitDrainWriters=null,i.dataEmitted=!0,F.emit("data",t)):(i.length+=i.objectMode?1:t.length,C?i.buffer.unshift(t):i.buffer.push(t),i.needReadable&&E(F)),r1(F,i)}P.prototype.isPaused=function(){let F=this._readableState;return F[c]===!0||F.flowing===!1},P.prototype.setEncoding=function(F){let i=new v(F);this._readableState.decoder=i,this._readableState.encoding=this._readableState.decoder.encoding;let t=this._readableState.buffer,C="";for(let l1 of t)C+=i.write(l1);return t.clear(),C!==""&&t.push(C),this._readableState.length=C.length,this};var I=1073741824;function Q(F){if(F>I)throw new l("size","<= 1GiB",F);return F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++,F}function e(F,i){return F<=0||i.length===0&&i.ended?0:i.objectMode?1:y(F)?i.flowing&&i.length?i.buffer.first().length:i.length:F<=i.length?F:i.ended?i.length:0}P.prototype.read=function(F){s("read",F),F===void 0?F=NaN:V(F)||(F=u(F,10));let i=this._readableState,t=F;if(F>i.highWaterMark&&(i.highWaterMark=Q(F)),F!==0&&(i.emittedReadable=!1),F===0&&i.needReadable&&((i.highWaterMark!==0?i.length>=i.highWaterMark:i.length>0)||i.ended))return s("read: emitReadable",i.length,i.ended),i.length===0&&i.ended?d1(this):E(this),null;if(F=e(F,i),F===0&&i.ended)return i.length===0&&d1(this),null;let C=i.needReadable;if(s("need readable",C),(i.length===0||i.length-F<i.highWaterMark)&&(C=!0,s("length less than watermark",C)),i.ended||i.reading||i.destroyed||i.errored||!i.constructed)C=!1,s("reading, ended or constructing",C);else if(C){s("do read"),i.reading=!0,i.sync=!0,i.length===0&&(i.needReadable=!0);try{this._read(i.highWaterMark)}catch(b1){o(this,b1)}i.sync=!1,i.reading||(F=e(t,i))}let l1;return F>0?l1=f1(F,i):l1=null,l1===null?(i.needReadable=i.length<=i.highWaterMark,F=0):(i.length-=F,i.multiAwaitDrain?i.awaitDrainWriters.clear():i.awaitDrainWriters=null),i.length===0&&(i.ended||(i.needReadable=!0),t!==F&&i.ended&&d1(this)),l1!==null&&!i.errorEmitted&&!i.closeEmitted&&(i.dataEmitted=!0,this.emit("data",l1)),l1};function B(F,i){if(s("onEofChunk"),!i.ended){if(i.decoder){let t=i.decoder.end();t&&t.length&&(i.buffer.push(t),i.length+=i.objectMode?1:t.length)}i.ended=!0,i.sync?E(F):(i.needReadable=!1,i.emittedReadable=!0,A(F))}}function E(F){let i=F._readableState;s("emitReadable",i.needReadable,i.emittedReadable),i.needReadable=!1,i.emittedReadable||(s("emitReadable",i.flowing),i.emittedReadable=!0,q.nextTick(A,F))}function A(F){let i=F._readableState;s("emitReadable_",i.destroyed,i.length,i.ended),!i.destroyed&&!i.errored&&(i.length||i.ended)&&(F.emit("readable"),i.emittedReadable=!1),i.needReadable=!i.flowing&&!i.ended&&i.length<=i.highWaterMark,u1(F)}function r1(F,i){!i.readingMore&&i.constructed&&(i.readingMore=!0,q.nextTick(n1,F,i))}function n1(F,i){for(;!i.reading&&!i.ended&&(i.length<i.highWaterMark||i.flowing&&i.length===0);){let t=i.length;if(s("maybeReadMore read 0"),F.read(0),t===i.length)break}i.readingMore=!1}P.prototype._read=function(F){throw new D("_read()")},P.prototype.pipe=function(F,i){let t=this,C=this._readableState;C.pipes.length===1&&(C.multiAwaitDrain||(C.multiAwaitDrain=!0,C.awaitDrainWriters=new _(C.awaitDrainWriters?[C.awaitDrainWriters]:[]))),C.pipes.push(F),s("pipe count=%d opts=%j",C.pipes.length,i);let l1=(!i||i.end!==!1)&&F!==q.stdout&&F!==q.stderr?m1:q1;C.endEmitted?q.nextTick(l1):t.once("end",l1),F.on("unpipe",b1);function b1(L1,E1){s("onunpipe"),L1===t&&E1&&E1.hasUnpiped===!1&&(E1.hasUnpiped=!0,x1())}function m1(){s("onend"),F.end()}let v1,j1=!1;function x1(){s("cleanup"),F.removeListener("close",T1),F.removeListener("finish",d2),v1&&F.removeListener("drain",v1),F.removeListener("error",N1),F.removeListener("unpipe",b1),t.removeListener("end",m1),t.removeListener("end",q1),t.removeListener("data",P1),j1=!0,v1&&C.awaitDrainWriters&&(!F._writableState||F._writableState.needDrain)&&v1()}function _1(){j1||(C.pipes.length===1&&C.pipes[0]===F?(s("false write response, pause",0),C.awaitDrainWriters=F,C.multiAwaitDrain=!1):C.pipes.length>1&&C.pipes.includes(F)&&(s("false write response, pause",C.awaitDrainWriters.size),C.awaitDrainWriters.add(F)),t.pause()),v1||(v1=c1(t,F),F.on("drain",v1))}t.on("data",P1);function P1(L1){s("ondata");let E1=F.write(L1);s("dest.write",E1),E1===!1&&_1()}function N1(L1){if(s("onerror",L1),q1(),F.removeListener("error",N1),F.listenerCount("error")===0){let E1=F._writableState||F._readableState;E1&&!E1.errorEmitted?o(F,L1):F.emit("error",L1)}}T(F,"error",N1);function T1(){F.removeListener("finish",d2),q1()}F.once("close",T1);function d2(){s("onfinish"),F.removeListener("close",T1),q1()}F.once("finish",d2);function q1(){s("unpipe"),t.unpipe(F)}return F.emit("pipe",t),F.writableNeedDrain===!0?C.flowing&&_1():C.flowing||(s("pipe resume"),t.resume()),F};function c1(F,i){return function(){let t=F._readableState;t.awaitDrainWriters===i?(s("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(s("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(i)),(!t.awaitDrainWriters||t.awaitDrainWriters.size===0)&&F.listenerCount("data")&&F.resume()}}P.prototype.unpipe=function(F){let i=this._readableState,t={hasUnpiped:!1};if(i.pipes.length===0)return this;if(!F){let l1=i.pipes;i.pipes=[],this.pause();for(let b1=0;b1<l1.length;b1++)l1[b1].emit("unpipe",this,{hasUnpiped:!1});return this}let C=O(i.pipes,F);return C===-1?this:(i.pipes.splice(C,1),i.pipes.length===0&&this.pause(),F.emit("unpipe",this,t),this)},P.prototype.on=function(F,i){let t=M.prototype.on.call(this,F,i),C=this._readableState;return F==="data"?(C.readableListening=this.listenerCount("readable")>0,C.flowing!==!1&&this.resume()):F==="readable"&&!C.endEmitted&&!C.readableListening&&(C.readableListening=C.needReadable=!0,C.flowing=!1,C.emittedReadable=!1,s("on readable",C.length,C.reading),C.length?E(this):C.reading||q.nextTick(K,this)),t},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(F,i){let t=M.prototype.removeListener.call(this,F,i);return F==="readable"&&q.nextTick(G,this),t},P.prototype.off=P.prototype.removeListener,P.prototype.removeAllListeners=function(F){let i=M.prototype.removeAllListeners.apply(this,arguments);return(F==="readable"||F===void 0)&&q.nextTick(G,this),i};function G(F){let i=F._readableState;i.readableListening=F.listenerCount("readable")>0,i.resumeScheduled&&i[c]===!1?i.flowing=!0:F.listenerCount("data")>0?F.resume():i.readableListening||(i.flowing=null)}function K(F){s("readable nexttick read 0"),F.read(0)}P.prototype.resume=function(){let F=this._readableState;return F.flowing||(s("resume"),F.flowing=!F.readableListening,Y(this,F)),F[c]=!1,this};function Y(F,i){i.resumeScheduled||(i.resumeScheduled=!0,q.nextTick(p1,F,i))}function p1(F,i){s("resume",i.reading),i.reading||F.read(0),i.resumeScheduled=!1,F.emit("resume"),u1(F),i.flowing&&!i.reading&&F.read(0)}P.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[c]=!0,this};function u1(F){let i=F._readableState;for(s("flow",i.flowing);i.flowing&&F.read()!==null;);}P.prototype.wrap=function(F){let i=!1;F.on("data",(C)=>{!this.push(C)&&F.pause&&(i=!0,F.pause())}),F.on("end",()=>{this.push(null)}),F.on("error",(C)=>{o(this,C)}),F.on("close",()=>{this.destroy()}),F.on("destroy",()=>{this.destroy()}),this._read=()=>{i&&F.resume&&(i=!1,F.resume())};let t=z(F);for(let C=1;C<t.length;C++){let l1=t[C];this[l1]===void 0&&typeof F[l1]=="function"&&(this[l1]=F[l1].bind(F))}return this},P.prototype[S]=function(){return o1(this)},P.prototype.iterator=function(F){return F!==void 0&&n(F,"options"),o1(this,F)};function o1(F,i){typeof F.read!="function"&&(F=P.wrap(F,{objectMode:!0}));let t=M1(F,i);return t.stream=F,t}async function*M1(F,i){let t=d;function C(m1){this===F?(t(),t=d):t=m1}F.on("readable",C);let l1,b1=w(F,{writable:!1},(m1)=>{l1=m1?J(l1,m1):null,t(),t=d});try{for(;;){let m1=F.destroyed?null:F.read();if(m1!==null)yield m1;else{if(l1)throw l1;if(l1===null)return;await new L(C)}}}catch(m1){throw l1=J(l1,m1),l1}finally{(l1||i?.destroyOnReturn!==!1)&&(l1===void 0||F._readableState.autoDestroy)?R.destroyer(F,null):(F.off("readable",C),b1())}}r(P.prototype,{readable:{__proto__:null,get(){let F=this._readableState;return!!F&&F.readable!==!1&&!F.destroyed&&!F.errorEmitted&&!F.endEmitted},set(F){this._readableState&&(this._readableState.readable=!!F)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(F){!this._readableState||(this._readableState.destroyed=F)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),r(h.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[c]!==!1},set(F){this[c]=!!F}}}),P._fromList=f1;function f1(F,i){if(i.length===0)return null;let t;return i.objectMode?t=i.buffer.shift():!F||F>=i.length?(i.decoder?t=i.buffer.join(""):i.buffer.length===1?t=i.buffer.first():t=i.buffer.concat(i.length),i.buffer.clear()):t=i.buffer.consume(F,i.decoder),t}function d1(F){let i=F._readableState;s("endReadable",i.endEmitted),i.endEmitted||(i.ended=!0,q.nextTick(F1,i,F))}function F1(F,i){if(s("endReadableNT",F.endEmitted,F.length),!F.errored&&!F.closeEmitted&&!F.endEmitted&&F.length===0){if(F.endEmitted=!0,i.emit("end"),i.writable&&i.allowHalfOpen===!1)q.nextTick(y1,i);else if(F.autoDestroy){let t=i._writableState;(!t||t.autoDestroy&&(t.finished||t.writable===!1))&&i.destroy()}}}function y1(F){F.writable&&!F.writableEnded&&!F.destroyed&&F.end()}P.from=function(F,i){return N(P,F,i)};var a1;function k1(){return a1===void 0&&(a1={}),a1}P.fromWeb=function(F,i){return k1().newStreamReadableFromReadableStream(F,i)},P.toWeb=function(F,i){return k1().newReadableStreamFromStreamReadable(F,i)},P.wrap=function(F,i){var t,C;return new P({objectMode:(t=(C=F.readableObjectMode)!==null&&C!==void 0?C:F.objectMode)!==null&&t!==void 0?t:!0,...i,destroy(l1,b1){R.destroyer(F,l1),b1(l1)}}).wrap(F)}}),t0=h1((x,W)=>{var q=(Y2(),S2(X2)),{ArrayPrototypeSlice:O,Error:V,FunctionPrototypeSymbolHasInstance:y,ObjectDefineProperty:u,ObjectDefineProperties:r,ObjectSetPrototypeOf:z,StringPrototypeToLowerCase:a,Symbol:L,SymbolHasInstance:_}=b2();W.exports=v,v.WritableState=n;var{EventEmitter:S}=I2(),b=k6().Stream,{Buffer:f}=N2(),M=r3(),{addAbortSignal:T}=P6(),{getHighWaterMark:$,getDefaultHighWaterMark:Z}=U6(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:s,ERR_MULTIPLE_CALLBACK:g,ERR_STREAM_CANNOT_PIPE:R,ERR_STREAM_DESTROYED:U,ERR_STREAM_ALREADY_FINISHED:j,ERR_STREAM_NULL_VALUES:J,ERR_STREAM_WRITE_AFTER_END:H,ERR_UNKNOWN_ENCODING:D}=M2().codes,{errorOrDestroy:l}=M;z(v.prototype,b.prototype),z(v,b);function p(){}var m=L("kOnFinished");function n(K,Y,p1){typeof p1!="boolean"&&(p1=Y instanceof F2()),this.objectMode=!!(K&&K.objectMode),p1&&(this.objectMode=this.objectMode||!!(K&&K.writableObjectMode)),this.highWaterMark=K?$(this,K,"writableHighWaterMark",p1):Z(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let u1=!!(K&&K.decodeStrings===!1);this.decodeStrings=!u1,this.defaultEncoding=K&&K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=P.bind(void 0,Y),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,c(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!K||K.emitClose!==!1,this.autoDestroy=!K||K.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[m]=[]}function c(K){K.buffered=[],K.bufferedIndex=0,K.allBuffers=!0,K.allNoop=!0}n.prototype.getBuffer=function(){return O(this.buffered,this.bufferedIndex)},u(n.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function v(K){let Y=this instanceof F2();if(!Y&&!y(v,this))return new v(K);this._writableState=new n(K,this,Y),K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final),typeof K.construct=="function"&&(this._construct=K.construct),K.signal&&T(K.signal,this)),b.call(this,K),M.construct(this,()=>{let p1=this._writableState;p1.writing||Q(this,p1),A(this,p1)})}u(v,_,{__proto__:null,value:function(K){return y(this,K)?!0:this!==v?!1:K&&K._writableState instanceof n}}),v.prototype.pipe=function(){l(this,new R)};function N(K,Y,p1,u1){let o1=K._writableState;if(typeof p1=="function")u1=p1,p1=o1.defaultEncoding;else{if(!p1)p1=o1.defaultEncoding;else if(p1!=="buffer"&&!f.isEncoding(p1))throw new D(p1);typeof u1!="function"&&(u1=p)}if(Y===null)throw new J;if(!o1.objectMode)if(typeof Y=="string")o1.decodeStrings!==!1&&(Y=f.from(Y,p1),p1="buffer");else if(Y instanceof f)p1="buffer";else if(b._isUint8Array(Y))Y=b._uint8ArrayToBuffer(Y),p1="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],Y);let M1;return o1.ending?M1=new H:o1.destroyed&&(M1=new U("write")),M1?(q.nextTick(u1,M1),l(K,M1,!0),M1):(o1.pendingcb++,d(K,o1,Y,p1,u1))}v.prototype.write=function(K,Y,p1){return N(this,K,Y,p1)===!0},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){let K=this._writableState;K.corked&&(K.corked--,K.writing||Q(this,K))},v.prototype.setDefaultEncoding=function(K){if(typeof K=="string"&&(K=a(K)),!f.isEncoding(K))throw new D(K);return this._writableState.defaultEncoding=K,this};function d(K,Y,p1,u1,o1){let M1=Y.objectMode?1:p1.length;Y.length+=M1;let f1=Y.length<Y.highWaterMark;return f1||(Y.needDrain=!0),Y.writing||Y.corked||Y.errored||!Y.constructed?(Y.buffered.push({chunk:p1,encoding:u1,callback:o1}),Y.allBuffers&&u1!=="buffer"&&(Y.allBuffers=!1),Y.allNoop&&o1!==p&&(Y.allNoop=!1)):(Y.writelen=M1,Y.writecb=o1,Y.writing=!0,Y.sync=!0,K._write(p1,u1,Y.onwrite),Y.sync=!1),f1&&!Y.errored&&!Y.destroyed}function o(K,Y,p1,u1,o1,M1,f1){Y.writelen=u1,Y.writecb=f1,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new U("write")):p1?K._writev(o1,Y.onwrite):K._write(o1,M1,Y.onwrite),Y.sync=!1}function h(K,Y,p1,u1){--Y.pendingcb,u1(p1),I(Y),l(K,p1)}function P(K,Y){let p1=K._writableState,u1=p1.sync,o1=p1.writecb;if(typeof o1!="function"){l(K,new g);return}p1.writing=!1,p1.writecb=null,p1.length-=p1.writelen,p1.writelen=0,Y?(Y.stack,p1.errored||(p1.errored=Y),K._readableState&&!K._readableState.errored&&(K._readableState.errored=Y),u1?q.nextTick(h,K,p1,Y,o1):h(K,p1,Y,o1)):(p1.buffered.length>p1.bufferedIndex&&Q(K,p1),u1?p1.afterWriteTickInfo!==null&&p1.afterWriteTickInfo.cb===o1?p1.afterWriteTickInfo.count++:(p1.afterWriteTickInfo={count:1,cb:o1,stream:K,state:p1},q.nextTick(X,p1.afterWriteTickInfo)):k(K,p1,1,o1))}function X({stream:K,state:Y,count:p1,cb:u1}){return Y.afterWriteTickInfo=null,k(K,Y,p1,u1)}function k(K,Y,p1,u1){for(!Y.ending&&!K.destroyed&&Y.length===0&&Y.needDrain&&(Y.needDrain=!1,K.emit("drain"));p1-- >0;)Y.pendingcb--,u1();Y.destroyed&&I(Y),A(K,Y)}function I(K){if(K.writing)return;for(let o1=K.bufferedIndex;o1<K.buffered.length;++o1){var Y;let{chunk:M1,callback:f1}=K.buffered[o1],d1=K.objectMode?1:M1.length;K.length-=d1,f1((Y=K.errored)!==null&&Y!==void 0?Y:new U("write"))}let p1=K[m].splice(0);for(let o1=0;o1<p1.length;o1++){var u1;p1[o1]((u1=K.errored)!==null&&u1!==void 0?u1:new U("end"))}c(K)}function Q(K,Y){if(Y.corked||Y.bufferProcessing||Y.destroyed||!Y.constructed)return;let{buffered:p1,bufferedIndex:u1,objectMode:o1}=Y,M1=p1.length-u1;if(!M1)return;let f1=u1;if(Y.bufferProcessing=!0,M1>1&&K._writev){Y.pendingcb-=M1-1;let d1=Y.allNoop?p:(y1)=>{for(let a1=f1;a1<p1.length;++a1)p1[a1].callback(y1)},F1=Y.allNoop&&f1===0?p1:O(p1,f1);F1.allBuffers=Y.allBuffers,o(K,Y,!0,Y.length,F1,"",d1),c(Y)}else{do{let{chunk:d1,encoding:F1,callback:y1}=p1[f1];p1[f1++]=null;let a1=o1?1:d1.length;o(K,Y,!1,a1,d1,F1,y1)}while(f1<p1.length&&!Y.writing);f1===p1.length?c(Y):f1>256?(p1.splice(0,f1),Y.bufferedIndex=0):Y.bufferedIndex=f1}Y.bufferProcessing=!1}v.prototype._write=function(K,Y,p1){if(this._writev)this._writev([{chunk:K,encoding:Y}],p1);else throw new s("_write()")},v.prototype._writev=null,v.prototype.end=function(K,Y,p1){let u1=this._writableState;typeof K=="function"?(p1=K,K=null,Y=null):typeof Y=="function"&&(p1=Y,Y=null);let o1;if(K!=null){let M1=N(this,K,Y);M1 instanceof V&&(o1=M1)}return u1.corked&&(u1.corked=1,this.uncork()),o1||(!u1.errored&&!u1.ending?(u1.ending=!0,A(this,u1,!0),u1.ended=!0):u1.finished?o1=new j("end"):u1.destroyed&&(o1=new U("end"))),typeof p1=="function"&&(o1||u1.finished?q.nextTick(p1,o1):u1[m].push(p1)),this};function e(K){return K.ending&&!K.destroyed&&K.constructed&&K.length===0&&!K.errored&&K.buffered.length===0&&!K.finished&&!K.writing&&!K.errorEmitted&&!K.closeEmitted}function B(K,Y){let p1=!1;function u1(o1){if(p1){l(K,o1??g());return}if(p1=!0,Y.pendingcb--,o1){let M1=Y[m].splice(0);for(let f1=0;f1<M1.length;f1++)M1[f1](o1);l(K,o1,Y.sync)}else e(Y)&&(Y.prefinished=!0,K.emit("prefinish"),Y.pendingcb++,q.nextTick(r1,K,Y))}Y.sync=!0,Y.pendingcb++;try{K._final(u1)}catch(o1){u1(o1)}Y.sync=!1}function E(K,Y){!Y.prefinished&&!Y.finalCalled&&(typeof K._final=="function"&&!Y.destroyed?(Y.finalCalled=!0,B(K,Y)):(Y.prefinished=!0,K.emit("prefinish")))}function A(K,Y,p1){e(Y)&&(E(K,Y),Y.pendingcb===0&&(p1?(Y.pendingcb++,q.nextTick((u1,o1)=>{e(o1)?r1(u1,o1):o1.pendingcb--},K,Y)):e(Y)&&(Y.pendingcb++,r1(K,Y))))}function r1(K,Y){Y.pendingcb--,Y.finished=!0;let p1=Y[m].splice(0);for(let u1=0;u1<p1.length;u1++)p1[u1]();if(K.emit("finish"),Y.autoDestroy){let u1=K._readableState;(!u1||u1.autoDestroy&&(u1.endEmitted||u1.readable===!1))&&K.destroy()}}r(v.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(K){this._writableState&&(this._writableState.destroyed=K)}},writable:{__proto__:null,get(){let K=this._writableState;return!!K&&K.writable!==!1&&!K.destroyed&&!K.errored&&!K.ending&&!K.ended},set(K){this._writableState&&(this._writableState.writable=!!K)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let K=this._writableState;return K?!K.destroyed&&!K.ending&&K.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var n1=M.destroy;v.prototype.destroy=function(K,Y){let p1=this._writableState;return!p1.destroyed&&(p1.bufferedIndex<p1.buffered.length||p1[m].length)&&q.nextTick(I,p1),n1.call(this,K,Y),this},v.prototype._undestroy=M.undestroy,v.prototype._destroy=function(K,Y){Y(K)},v.prototype[S.captureRejectionSymbol]=function(K){this.destroy(K)};var c1;function G(){return c1===void 0&&(c1={}),c1}v.fromWeb=function(K,Y){return G().newStreamWritableFromWritableStream(K,Y)},v.toWeb=function(K){return G().newWritableStreamFromStreamWritable(K)}}),x8=h1((x,W)=>{var q=(Y2(),S2(X2)),O=N2(),{isReadable:V,isWritable:y,isIterable:u,isNodeStream:r,isReadableNodeStream:z,isWritableNodeStream:a,isDuplexNodeStream:L}=t2(),_=C2(),{AbortError:S,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:f}}=M2(),{destroyer:M}=r3(),T=F2(),$=A3(),{createDeferredPromise:Z}=g2(),w=Y0(),s=globalThis.Blob||O.Blob,g=typeof s<"u"?function(D){return D instanceof s}:function(D){return!1},R=globalThis.AbortController||F6().AbortController,{FunctionPrototypeCall:U}=b2(),j=class extends T{constructor(D){super(D),D?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),D?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};W.exports=function D(l,p){if(L(l))return l;if(z(l))return H({readable:l});if(a(l))return H({writable:l});if(r(l))return H({writable:!1,readable:!1});if(typeof l=="function"){let{value:n,write:c,final:v,destroy:N}=J(l);if(u(n))return w(j,n,{objectMode:!0,write:c,final:v,destroy:N});let d=n?.then;if(typeof d=="function"){let o,h=U(d,n,(P)=>{if(P!=null)throw new f("nully","body",P)},(P)=>{M(o,P)});return o=new j({objectMode:!0,readable:!1,write:c,final(P){v(async()=>{try{await h,q.nextTick(P,null)}catch(X){q.nextTick(P,X)}})},destroy:N})}throw new f("Iterable, AsyncIterable or AsyncFunction",p,n)}if(g(l))return D(l.arrayBuffer());if(u(l))return w(j,l,{objectMode:!0,writable:!1});if(typeof l?.writable=="object"||typeof l?.readable=="object"){let n=l!=null&&l.readable?z(l?.readable)?l?.readable:D(l.readable):void 0,c=l!=null&&l.writable?a(l?.writable)?l?.writable:D(l.writable):void 0;return H({readable:n,writable:c})}let m=l?.then;if(typeof m=="function"){let n;return U(m,l,(c)=>{c!=null&&n.push(c),n.push(null)},(c)=>{M(n,c)}),n=new j({objectMode:!0,writable:!1,read(){}})}throw new b(p,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],l)};function J(D){let{promise:l,resolve:p}=Z(),m=new R,n=m.signal;return{value:D(async function*(){for(;;){let c=l;l=null;let{chunk:v,done:N,cb:d}=await c;if(q.nextTick(d),N)return;if(n.aborted)throw new S(void 0,{cause:n.reason});({promise:l,resolve:p}=Z()),yield v}}(),{signal:n}),write(c,v,N){let d=p;p=null,d({chunk:c,done:!1,cb:N})},final(c){let v=p;p=null,v({done:!0,cb:c})},destroy(c,v){m.abort(),v(c)}}}function H(D){let l=D.readable&&typeof D.readable.read!="function"?$.wrap(D.readable):D.readable,p=D.writable,m=!!V(l),n=!!y(p),c,v,N,d,o;function h(P){let X=d;d=null,X?X(P):P?o.destroy(P):!m&&!n&&o.destroy()}return o=new j({readableObjectMode:!!(l!=null&&l.readableObjectMode),writableObjectMode:!!(p!=null&&p.writableObjectMode),readable:m,writable:n}),n&&(_(p,(P)=>{n=!1,P&&M(l,P),h(P)}),o._write=function(P,X,k){p.write(P,X)?k():c=k},o._final=function(P){p.end(),v=P},p.on("drain",function(){if(c){let P=c;c=null,P()}}),p.on("finish",function(){if(v){let P=v;v=null,P()}})),m&&(_(l,(P)=>{m=!1,P&&M(l,P),h(P)}),l.on("readable",function(){if(N){let P=N;N=null,P()}}),l.on("end",function(){o.push(null)}),o._read=function(){for(;;){let P=l.read();if(P===null){N=o._read;return}if(!o.push(P))return}}),o._destroy=function(P,X){!P&&d!==null&&(P=new S),N=null,c=null,v=null,d===null?X(P):(d=X,M(p,P),M(l,P))},o}}),F2=h1((x,W)=>{var{ObjectDefineProperties:q,ObjectGetOwnPropertyDescriptor:O,ObjectKeys:V,ObjectSetPrototypeOf:y}=b2();W.exports=z;var u=A3(),r=t0();y(z.prototype,u.prototype),y(z,u);{let S=V(r.prototype);for(let b=0;b<S.length;b++){let f=S[b];z.prototype[f]||(z.prototype[f]=r.prototype[f])}}function z(S){if(!(this instanceof z))return new z(S);u.call(this,S),r.call(this,S),S?(this.allowHalfOpen=S.allowHalfOpen!==!1,S.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),S.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}q(z.prototype,{writable:{__proto__:null,...O(r.prototype,"writable")},writableHighWaterMark:{__proto__:null,...O(r.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...O(r.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...O(r.prototype,"writableBuffer")},writableLength:{__proto__:null,...O(r.prototype,"writableLength")},writableFinished:{__proto__:null,...O(r.prototype,"writableFinished")},writableCorked:{__proto__:null,...O(r.prototype,"writableCorked")},writableEnded:{__proto__:null,...O(r.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...O(r.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(S){this._readableState&&this._writableState&&(this._readableState.destroyed=S,this._writableState.destroyed=S)}}});var a;function L(){return a===void 0&&(a={}),a}z.fromWeb=function(S,b){return L().newStreamDuplexFromReadableWritablePair(S,b)},z.toWeb=function(S){return L().newReadableWritablePairFromDuplex(S)};var _;z.from=function(S){return _||(_=x8()),_(S,"body")}}),C0=h1((x,W)=>{var{ObjectSetPrototypeOf:q,Symbol:O}=b2();W.exports=z;var{ERR_METHOD_NOT_IMPLEMENTED:V}=M2().codes,y=F2(),{getHighWaterMark:u}=U6();q(z.prototype,y.prototype),q(z,y);var r=O("kCallback");function z(_){if(!(this instanceof z))return new z(_);let S=_?u(this,_,"readableHighWaterMark",!0):null;S===0&&(_={..._,highWaterMark:null,readableHighWaterMark:S,writableHighWaterMark:_.writableHighWaterMark||0}),y.call(this,_),this._readableState.sync=!1,this[r]=null,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",L)}function a(_){typeof this._flush=="function"&&!this.destroyed?this._flush((S,b)=>{if(S){_?_(S):this.destroy(S);return}b!=null&&this.push(b),this.push(null),_&&_()}):(this.push(null),_&&_())}function L(){this._final!==a&&a.call(this)}z.prototype._final=a,z.prototype._transform=function(_,S,b){throw new V("_transform()")},z.prototype._write=function(_,S,b){let f=this._readableState,M=this._writableState,T=f.length;this._transform(_,S,($,Z)=>{if($){b($);return}Z!=null&&this.push(Z),M.ended||T===f.length||f.length<f.highWaterMark?b():this[r]=b})},z.prototype._read=function(){if(this[r]){let _=this[r];this[r]=null,_()}}}),B0=h1((x,W)=>{var{ObjectSetPrototypeOf:q}=b2();W.exports=V;var O=C0();q(V.prototype,O.prototype),q(V,O);function V(y){if(!(this instanceof V))return new V(y);O.call(this,y)}V.prototype._transform=function(y,u,r){r(null,y)}}),K6=h1((x,W)=>{var q=(Y2(),S2(X2)),{ArrayIsArray:O,Promise:V,SymbolAsyncIterator:y}=b2(),u=C2(),{once:r}=g2(),z=r3(),a=F2(),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:S,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:f,ERR_STREAM_PREMATURE_CLOSE:M},AbortError:T}=M2(),{validateFunction:$,validateAbortSignal:Z}=e3(),{isIterable:w,isReadable:s,isReadableNodeStream:g,isNodeStream:R}=t2(),U=globalThis.AbortController||F6().AbortController,j,J;function H(N,d,o){let h=!1;N.on("close",()=>{h=!0});let P=u(N,{readable:d,writable:o},(X)=>{h=!X});return{destroy:(X)=>{h||(h=!0,z.destroyer(N,X||new f("pipe")))},cleanup:P}}function D(N){return $(N[N.length-1],"streams[stream.length - 1]"),N.pop()}function l(N){if(w(N))return N;if(g(N))return p(N);throw new _("val",["Readable","Iterable","AsyncIterable"],N)}async function*p(N){J||(J=A3()),yield*J.prototype[y].call(N)}async function m(N,d,o,{end:h}){let P,X=null,k=(e)=>{if(e&&(P=e),X){let B=X;X=null,B()}},I=()=>new V((e,B)=>{P?B(P):X=()=>{P?B(P):e()}});d.on("drain",k);let Q=u(d,{readable:!1},k);try{d.writableNeedDrain&&await I();for await(let e of N)d.write(e)||await I();h&&d.end(),await I(),o()}catch(e){o(P!==e?L(P,e):e)}finally{Q(),d.off("drain",k)}}function n(...N){return c(N,r(D(N)))}function c(N,d,o){if(N.length===1&&O(N[0])&&(N=N[0]),N.length<2)throw new b("streams");let h=new U,P=h.signal,X=o?.signal,k=[];Z(X,"options.signal");function I(){r1(new T)}X?.addEventListener("abort",I);let Q,e,B=[],E=0;function A(K){r1(K,--E===0)}function r1(K,Y){if(K&&(!Q||Q.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Q=K),!(!Q&&!Y)){for(;B.length;)B.shift()(Q);X?.removeEventListener("abort",I),h.abort(),Y&&(Q||k.forEach((p1)=>p1()),q.nextTick(d,Q,e))}}let n1;for(let K=0;K<N.length;K++){let Y=N[K],p1=K<N.length-1,u1=K>0,o1=p1||o?.end!==!1,M1=K===N.length-1;if(R(Y)){let f1=function(d1){d1&&d1.name!=="AbortError"&&d1.code!=="ERR_STREAM_PREMATURE_CLOSE"&&A(d1)};var c1=f1;if(o1){let{destroy:d1,cleanup:F1}=H(Y,p1,u1);B.push(d1),s(Y)&&M1&&k.push(F1)}Y.on("error",f1),s(Y)&&M1&&k.push(()=>{Y.removeListener("error",f1)})}if(K===0)if(typeof Y=="function"){if(n1=Y({signal:P}),!w(n1))throw new S("Iterable, AsyncIterable or Stream","source",n1)}else w(Y)||g(Y)?n1=Y:n1=a.from(Y);else if(typeof Y=="function")if(n1=l(n1),n1=Y(n1,{signal:P}),p1){if(!w(n1,!0))throw new S("AsyncIterable",`transform[${K-1}]`,n1)}else{var G;j||(j=B0());let f1=new j({objectMode:!0}),d1=(G=n1)===null||G===void 0?void 0:G.then;if(typeof d1=="function")E++,d1.call(n1,(a1)=>{e=a1,a1!=null&&f1.write(a1),o1&&f1.end(),q.nextTick(A)},(a1)=>{f1.destroy(a1),q.nextTick(A,a1)});else if(w(n1,!0))E++,m(n1,f1,A,{end:o1});else throw new S("AsyncIterable or Promise","destination",n1);n1=f1;let{destroy:F1,cleanup:y1}=H(n1,!1,!0);B.push(F1),M1&&k.push(y1)}else if(R(Y)){if(g(n1)){E+=2;let f1=v(n1,Y,A,{end:o1});s(Y)&&M1&&k.push(f1)}else if(w(n1))E++,m(n1,Y,A,{end:o1});else throw new _("val",["Readable","Iterable","AsyncIterable"],n1);n1=Y}else n1=a.from(Y)}return(P!=null&&P.aborted||X!=null&&X.aborted)&&q.nextTick(I),n1}function v(N,d,o,{end:h}){let P=!1;return d.on("close",()=>{P||o(new M)}),N.pipe(d,{end:h}),h?N.once("end",()=>{P=!0,d.end()}):o(),u(N,{readable:!0,writable:!1},(X)=>{let k=N._readableState;X&&X.code==="ERR_STREAM_PREMATURE_CLOSE"&&k&&k.ended&&!k.errored&&!k.errorEmitted?N.once("end",o).once("error",o):o(X)}),u(d,{readable:!1,writable:!0},o)}W.exports={pipelineImpl:c,pipeline:n}}),b8=h1((x,W)=>{var{pipeline:q}=K6(),O=F2(),{destroyer:V}=r3(),{isNodeStream:y,isReadable:u,isWritable:r}=t2(),{AbortError:z,codes:{ERR_INVALID_ARG_VALUE:a,ERR_MISSING_ARGS:L}}=M2();W.exports=function(..._){if(_.length===0)throw new L("streams");if(_.length===1)return O.from(_[0]);let S=[..._];if(typeof _[0]=="function"&&(_[0]=O.from(_[0])),typeof _[_.length-1]=="function"){let U=_.length-1;_[U]=O.from(_[U])}for(let U=0;U<_.length;++U)if(y(_[U])){if(U<_.length-1&&!u(_[U]))throw new a(`streams[${U}]`,S[U],"must be readable");if(U>0&&!r(_[U]))throw new a(`streams[${U}]`,S[U],"must be writable")}let b,f,M,T,$;function Z(U){let j=T;T=null,j?j(U):U?$.destroy(U):!R&&!g&&$.destroy()}let w=_[0],s=q(_,Z),g=!!r(w),R=!!u(s);return $=new O({writableObjectMode:!!(w!=null&&w.writableObjectMode),readableObjectMode:!!(s!=null&&s.writableObjectMode),writable:g,readable:R}),g&&($._write=function(U,j,J){w.write(U,j)?J():b=J},$._final=function(U){w.end(),f=U},w.on("drain",function(){if(b){let U=b;b=null,U()}}),s.on("finish",function(){if(f){let U=f;f=null,U()}})),R&&(s.on("readable",function(){if(M){let U=M;M=null,U()}}),s.on("end",function(){$.push(null)}),$._read=function(){for(;;){let U=s.read();if(U===null){M=$._read;return}if(!$.push(U))return}}),$._destroy=function(U,j){!U&&T!==null&&(U=new z),M=null,b=null,f=null,T===null?j(U):(T=j,V(s,U))},$}}),Q0=h1((x,W)=>{var{ArrayPrototypePop:q,Promise:O}=b2(),{isIterable:V,isNodeStream:y}=t2(),{pipelineImpl:u}=K6(),{finished:r}=C2();function z(...a){return new O((L,_)=>{let S,b,f=a[a.length-1];if(f&&typeof f=="object"&&!y(f)&&!V(f)){let M=q(a);S=M.signal,b=M.end}u(a,(M,T)=>{M?_(M):L(T)},{signal:S,end:b})})}W.exports={finished:r,pipeline:z}}),L8=h1((x,W)=>{var{Buffer:q}=N2(),{ObjectDefineProperty:O,ObjectKeys:V,ReflectApply:y}=b2(),{promisify:{custom:u}}=g2(),{streamReturningOperators:r,promiseReturningOperators:z}=v8(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=M2(),L=b8(),{pipeline:_}=K6(),{destroyer:S}=r3(),b=C2(),f=Q0(),M=t2(),T=W.exports=k6().Stream;T.isDisturbed=M.isDisturbed,T.isErrored=M.isErrored,T.isReadable=M.isReadable,T.Readable=A3();for(let w of V(r)){let s=function(...R){if(new.target)throw a();return T.Readable.from(y(g,this,R))};$=s;let g=r[w];O(s,"name",{__proto__:null,value:g.name}),O(s,"length",{__proto__:null,value:g.length}),O(T.Readable.prototype,w,{__proto__:null,value:s,enumerable:!1,configurable:!0,writable:!0})}var $;for(let w of V(z)){let s=function(...R){if(new.target)throw a();return y(g,this,R)};$=s;let g=z[w];O(s,"name",{__proto__:null,value:g.name}),O(s,"length",{__proto__:null,value:g.length}),O(T.Readable.prototype,w,{__proto__:null,value:s,enumerable:!1,configurable:!0,writable:!0})}var $;T.Writable=t0(),T.Duplex=F2(),T.Transform=C0(),T.PassThrough=B0(),T.pipeline=_;var{addAbortSignal:Z}=P6();T.addAbortSignal=Z,T.finished=b,T.destroy=S,T.compose=L,O(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return f}}),O(_,u,{__proto__:null,enumerable:!0,get(){return f.pipeline}}),O(b,u,{__proto__:null,enumerable:!0,get(){return f.finished}}),T.Stream=T,T._isUint8Array=function(w){return w instanceof Uint8Array},T._uint8ArrayToBuffer=function(w){return q.from(w.buffer,w.byteOffset,w.byteLength)}}),e0=h1((x,W)=>{var q=L8(),O=Q0(),V=q.Readable.destroy;W.exports=q.Readable,W.exports._uint8ArrayToBuffer=q._uint8ArrayToBuffer,W.exports._isUint8Array=q._isUint8Array,W.exports.isDisturbed=q.isDisturbed,W.exports.isErrored=q.isErrored,W.exports.isReadable=q.isReadable,W.exports.Readable=q.Readable,W.exports.Writable=q.Writable,W.exports.Duplex=q.Duplex,W.exports.Transform=q.Transform,W.exports.PassThrough=q.PassThrough,W.exports.addAbortSignal=q.addAbortSignal,W.exports.finished=q.finished,W.exports.destroy=q.destroy,W.exports.destroy=V,W.exports.pipeline=q.pipeline,W.exports.compose=q.compose,Object.defineProperty(q,"promises",{configurable:!0,enumerable:!0,get(){return O}}),W.exports.Stream=q.Stream,W.exports.default=W.exports}),i6={},t3(i6,{default:()=>q8}),N8=W6(()=>{w6(i6,D2(e0())),q8=D2(e0())}),H2=h1((x,W)=>{var q=H1().Buffer,O=(N8(),S2(i6)).Transform,V=O6().StringDecoder,y=i1();function u(r){O.call(this),this.hashMode=typeof r=="string",this.hashMode?this[r]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}y(u,O),u.prototype.update=function(r,z,a){typeof r=="string"&&(r=q.from(r,z));var L=this._update(r);return this.hashMode?this:(a&&(L=this._toString(L,a)),L)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(r,z,a){var L;try{this.hashMode?this._update(r):this.push(this._update(r))}catch(_){L=_}finally{a(L)}},u.prototype._flush=function(r){var z;try{this.push(this.__final())}catch(a){z=a}r(z)},u.prototype._finalOrDigest=function(r){var z=this.__final()||q.alloc(0);return r&&(z=this._toString(z,r,!0)),z},u.prototype._toString=function(r,z,a){if(this._decoder||(this._decoder=new V(z),this._encoding=z),this._encoding!==z)throw new Error("can't switch encodings");var L=this._decoder.write(r);return a&&(L+=this._decoder.end()),L},W.exports=u}),V3=h1((x,W)=>{var q=i1(),O=s6(),V=g6(),y=X6(),u=H2();function r(z){u.call(this,"digest"),this._hash=z}q(r,u),r.prototype._update=function(z){this._hash.update(z)},r.prototype._final=function(){return this._hash.digest()},W.exports=function(z){return z=z.toLowerCase(),z==="md5"?new O:z==="rmd160"||z==="ripemd160"?new V:new r(y(z))}}),T8=h1((x,W)=>{var q=i1(),O=H1().Buffer,V=H2(),y=O.alloc(128),u=64;function r(z,a){V.call(this,"digest"),typeof a=="string"&&(a=O.from(a)),this._alg=z,this._key=a,a.length>u?a=z(a):a.length<u&&(a=O.concat([a,y],u));for(var L=this._ipad=O.allocUnsafe(u),_=this._opad=O.allocUnsafe(u),S=0;S<u;S++)L[S]=a[S]^54,_[S]=a[S]^92;this._hash=[L]}q(r,V),r.prototype._update=function(z){this._hash.push(z)},r.prototype._final=function(){var z=this._alg(O.concat(this._hash));return this._alg(O.concat([this._opad,z]))},W.exports=r}),A0=h1((x,W)=>{var q=s6();W.exports=function(O){return new q().update(O).digest()}}),l5=h1((x,W)=>{var q=i1(),O=T8(),V=H2(),y=H1().Buffer,u=A0(),r=g6(),z=X6(),a=y.alloc(128);function L(_,S){V.call(this,"digest"),typeof S=="string"&&(S=y.from(S));var b=_==="sha512"||_==="sha384"?128:64;if(this._alg=_,this._key=S,S.length>b){var f=_==="rmd160"?new r:z(_);S=f.update(S).digest()}else S.length<b&&(S=y.concat([S,a],b));for(var M=this._ipad=y.allocUnsafe(b),T=this._opad=y.allocUnsafe(b),$=0;$<b;$++)M[$]=S[$]^54,T[$]=S[$]^92;this._hash=_==="rmd160"?new r:z(_),this._hash.update(M)}q(L,V),L.prototype._update=function(_){this._hash.update(_)},L.prototype._final=function(){var _=this._hash.digest(),S=this._alg==="rmd160"?new r:z(this._alg);return S.update(this._opad).update(_).digest()},W.exports=function(_,S){return _=_.toLowerCase(),_==="rmd160"||_==="ripemd160"?new L("rmd160",S):_==="md5"?new O(u,S):new L(_,S)}}),o5=h1((x,W)=>{W.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),M8=h1((x,W)=>{W.exports=o5()}),n5=h1((x,W)=>{var q=Math.pow(2,30)-1;W.exports=function(O,V){if(typeof O!="number")throw new TypeError("Iterations not a number");if(O<0)throw new TypeError("Bad iterations");if(typeof V!="number")throw new TypeError("Key length not a number");if(V<0||V>q||V!==V)throw new TypeError("Bad key length")}}),p5=h1((x,W)=>{var q;global.process&&global.process.browser?q="utf-8":global.process&&global.process.version?(O=parseInt(process.version.split(".")[0].slice(1),10),q=O>=6?"utf-8":"binary"):q="utf-8";var O;W.exports=q}),u5=h1((x,W)=>{var q=H1().Buffer;W.exports=function(O,V,y){if(q.isBuffer(O))return O;if(typeof O=="string")return q.from(O,V);if(ArrayBuffer.isView(O))return q.from(O.buffer);throw new TypeError(y+" must be a string, a Buffer, a typed array or a DataView")}}),c5=h1((x,W)=>{var q=A0(),O=g6(),V=X6(),y=H1().Buffer,u=n5(),r=p5(),z=u5(),a=y.alloc(128),L={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function _(f,M,T){var $=S(f),Z=f==="sha512"||f==="sha384"?128:64;M.length>Z?M=$(M):M.length<Z&&(M=y.concat([M,a],Z));for(var w=y.allocUnsafe(Z+L[f]),s=y.allocUnsafe(Z+L[f]),g=0;g<Z;g++)w[g]=M[g]^54,s[g]=M[g]^92;var R=y.allocUnsafe(Z+T+4);w.copy(R,0,0,Z),this.ipad1=R,this.ipad2=w,this.opad=s,this.alg=f,this.blocksize=Z,this.hash=$,this.size=L[f]}_.prototype.run=function(f,M){f.copy(M,this.blocksize);var T=this.hash(M);return T.copy(this.opad,this.blocksize),this.hash(this.opad)};function S(f){function M($){return V(f).update($).digest()}function T($){return new O().update($).digest()}return f==="rmd160"||f==="ripemd160"?T:f==="md5"?q:M}function b(f,M,T,$,Z){u(T,$),f=z(f,r,"Password"),M=z(M,r,"Salt"),Z=Z||"sha1";var w=new _(Z,f,M.length),s=y.allocUnsafe($),g=y.allocUnsafe(M.length+4);M.copy(g,0,0,M.length);for(var R=0,U=L[Z],j=Math.ceil($/U),J=1;J<=j;J++){g.writeUInt32BE(J,M.length);for(var H=w.run(g,w.ipad1),D=H,l=1;l<T;l++){D=w.run(D,w.ipad2);for(var p=0;p<U;p++)H[p]^=D[p]}H.copy(s,R),R+=U}return s}W.exports=b}),z8=h1((x,W)=>{var q=H1().Buffer,O=n5(),V=p5(),y=c5(),u=u5(),r,z=global.crypto&&global.crypto.subtle,a={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},L=[];function _(T){if(global.process&&!global.process.browser||!z||!z.importKey||!z.deriveBits)return Promise.resolve(!1);if(L[T]!==void 0)return L[T];r=r||q.alloc(8);var $=f(r,r,10,128,T).then(function(){return!0}).catch(function(){return!1});return L[T]=$,$}var S;function b(){return S||(global.process&&global.process.nextTick?S=global.process.nextTick:global.queueMicrotask?S=global.queueMicrotask:global.setImmediate?S=global.setImmediate:S=global.setTimeout,S)}function f(T,$,Z,w,s){return z.importKey("raw",T,{name:"PBKDF2"},!1,["deriveBits"]).then(function(g){return z.deriveBits({name:"PBKDF2",salt:$,iterations:Z,hash:{name:s}},g,w<<3)}).then(function(g){return q.from(g)})}function M(T,$){T.then(function(Z){b()(function(){$(null,Z)})},function(Z){b()(function(){$(Z)})})}W.exports=function(T,$,Z,w,s,g){typeof s=="function"&&(g=s,s=void 0),s=s||"sha1";var R=a[s.toLowerCase()];if(!R||typeof global.Promise!="function"){b()(function(){var U;try{U=y(T,$,Z,w,s)}catch(j){return g(j)}g(null,U)});return}if(O(Z,w),T=u(T,V,"Password"),$=u($,V,"Salt"),typeof g!="function")throw new Error("No callback provided to pbkdf2");M(_(R).then(function(U){return U?f(T,$,Z,w,R):y(T,$,Z,w,s)}),g)}}),m5=h1((x)=>{x.pbkdf2=z8(),x.pbkdf2Sync=c5()}),f5=h1((x)=>{x.readUInt32BE=function(V,y){var u=V[0+y]<<24|V[1+y]<<16|V[2+y]<<8|V[3+y];return u>>>0},x.writeUInt32BE=function(V,y,u){V[0+u]=y>>>24,V[1+u]=y>>>16&255,V[2+u]=y>>>8&255,V[3+u]=y&255},x.ip=function(V,y,u,r){for(var z=0,a=0,L=6;L>=0;L-=2){for(var _=0;_<=24;_+=8)z<<=1,z|=y>>>_+L&1;for(var _=0;_<=24;_+=8)z<<=1,z|=V>>>_+L&1}for(var L=6;L>=0;L-=2){for(var _=1;_<=25;_+=8)a<<=1,a|=y>>>_+L&1;for(var _=1;_<=25;_+=8)a<<=1,a|=V>>>_+L&1}u[r+0]=z>>>0,u[r+1]=a>>>0},x.rip=function(V,y,u,r){for(var z=0,a=0,L=0;L<4;L++)for(var _=24;_>=0;_-=8)z<<=1,z|=y>>>_+L&1,z<<=1,z|=V>>>_+L&1;for(var L=4;L<8;L++)for(var _=24;_>=0;_-=8)a<<=1,a|=y>>>_+L&1,a<<=1,a|=V>>>_+L&1;u[r+0]=z>>>0,u[r+1]=a>>>0},x.pc1=function(V,y,u,r){for(var z=0,a=0,L=7;L>=5;L--){for(var _=0;_<=24;_+=8)z<<=1,z|=y>>_+L&1;for(var _=0;_<=24;_+=8)z<<=1,z|=V>>_+L&1}for(var _=0;_<=24;_+=8)z<<=1,z|=y>>_+L&1;for(var L=1;L<=3;L++){for(var _=0;_<=24;_+=8)a<<=1,a|=y>>_+L&1;for(var _=0;_<=24;_+=8)a<<=1,a|=V>>_+L&1}for(var _=0;_<=24;_+=8)a<<=1,a|=V>>_+L&1;u[r+0]=z>>>0,u[r+1]=a>>>0},x.r28shl=function(V,y){return V<<y&268435455|V>>>28-y};var W=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];x.pc2=function(V,y,u,r){for(var z=0,a=0,L=W.length>>>1,_=0;_<L;_++)z<<=1,z|=V>>>W[_]&1;for(var _=L;_<W.length;_++)a<<=1,a|=y>>>W[_]&1;u[r+0]=z>>>0,u[r+1]=a>>>0},x.expand=function(V,y,u){var r=0,z=0;r=(V&1)<<5|V>>>27;for(var a=23;a>=15;a-=4)r<<=6,r|=V>>>a&63;for(var a=11;a>=3;a-=4)z|=V>>>a&63,z<<=6;z|=(V&31)<<1|V>>>31,y[u+0]=r>>>0,y[u+1]=z>>>0};var q=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];x.substitute=function(V,y){for(var u=0,r=0;r<4;r++){var z=V>>>18-r*6&63,a=q[r*64+z];u<<=4,u|=a}for(var r=0;r<4;r++){var z=y>>>18-r*6&63,a=q[256+r*64+z];u<<=4,u|=a}return u>>>0};var O=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];x.permute=function(V){for(var y=0,u=0;u<O.length;u++)y<<=1,y|=V>>>O[u]&1;return y>>>0},x.padSplit=function(V,y,u){for(var r=V.toString(2);r.length<y;)r="0"+r;for(var z=[],a=0;a<y;a+=u)z.push(r.slice(a,a+u));return z.join(" ")}}),$2=h1((x,W)=>{W.exports=q;function q(O,V){if(!O)throw new Error(V||"Assertion failed")}q.equal=function(O,V,y){if(O!=V)throw new Error(y||"Assertion failed: "+O+" != "+V)}}),j6=h1((x,W)=>{var q=$2();function O(V){this.options=V,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}W.exports=O,O.prototype._init=function(){},O.prototype.update=function(V){return V.length===0?[]:this.type==="decrypt"?this._updateDecrypt(V):this._updateEncrypt(V)},O.prototype._buffer=function(V,y){for(var u=Math.min(this.buffer.length-this.bufferOff,V.length-y),r=0;r<u;r++)this.buffer[this.bufferOff+r]=V[y+r];return this.bufferOff+=u,u},O.prototype._flushBuffer=function(V,y){return this._update(this.buffer,0,V,y),this.bufferOff=0,this.blockSize},O.prototype._updateEncrypt=function(V){var y=0,u=0,r=(this.bufferOff+V.length)/this.blockSize|0,z=new Array(r*this.blockSize);this.bufferOff!==0&&(y+=this._buffer(V,y),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(z,u)));for(var a=V.length-(V.length-y)%this.blockSize;y<a;y+=this.blockSize)this._update(V,y,z,u),u+=this.blockSize;for(;y<V.length;y++,this.bufferOff++)this.buffer[this.bufferOff]=V[y];return z},O.prototype._updateDecrypt=function(V){for(var y=0,u=0,r=Math.ceil((this.bufferOff+V.length)/this.blockSize)-1,z=new Array(r*this.blockSize);r>0;r--)y+=this._buffer(V,y),u+=this._flushBuffer(z,u);return y+=this._buffer(V,y),z},O.prototype.final=function(V){var y;V&&(y=this.update(V));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),y?y.concat(u):u},O.prototype._pad=function(V,y){if(y===0)return!1;for(;y<V.length;)V[y++]=0;return!0},O.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var V=new Array(this.blockSize);return this._update(this.buffer,0,V,0),V},O.prototype._unpad=function(V){return V},O.prototype._finalDecrypt=function(){q.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var V=new Array(this.blockSize);return this._flushBuffer(V,0),this._unpad(V)}}),d5=h1((x,W)=>{var q=$2(),O=i1(),V=f5(),y=j6();function u(){this.tmp=new Array(2),this.keys=null}function r(a){y.call(this,a);var L=new u;this._desState=L,this.deriveKeys(L,a.key)}O(r,y),W.exports=r,r.create=function(a){return new r(a)};var z=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];r.prototype.deriveKeys=function(a,L){a.keys=new Array(32),q.equal(L.length,this.blockSize,"Invalid key length");var _=V.readUInt32BE(L,0),S=V.readUInt32BE(L,4);V.pc1(_,S,a.tmp,0),_=a.tmp[0],S=a.tmp[1];for(var b=0;b<a.keys.length;b+=2){var f=z[b>>>1];_=V.r28shl(_,f),S=V.r28shl(S,f),V.pc2(_,S,a.keys,b)}},r.prototype._update=function(a,L,_,S){var b=this._desState,f=V.readUInt32BE(a,L),M=V.readUInt32BE(a,L+4);V.ip(f,M,b.tmp,0),f=b.tmp[0],M=b.tmp[1],this.type==="encrypt"?this._encrypt(b,f,M,b.tmp,0):this._decrypt(b,f,M,b.tmp,0),f=b.tmp[0],M=b.tmp[1],V.writeUInt32BE(_,f,S),V.writeUInt32BE(_,M,S+4)},r.prototype._pad=function(a,L){for(var _=a.length-L,S=L;S<a.length;S++)a[S]=_;return!0},r.prototype._unpad=function(a){for(var L=a[a.length-1],_=a.length-L;_<a.length;_++)q.equal(a[_],L);return a.slice(0,a.length-L)},r.prototype._encrypt=function(a,L,_,S,b){for(var f=L,M=_,T=0;T<a.keys.length;T+=2){var $=a.keys[T],Z=a.keys[T+1];V.expand(M,a.tmp,0),$^=a.tmp[0],Z^=a.tmp[1];var w=V.substitute($,Z),s=V.permute(w),g=M;M=(f^s)>>>0,f=g}V.rip(M,f,S,b)},r.prototype._decrypt=function(a,L,_,S,b){for(var f=_,M=L,T=a.keys.length-2;T>=0;T-=2){var $=a.keys[T],Z=a.keys[T+1];V.expand(f,a.tmp,0),$^=a.tmp[0],Z^=a.tmp[1];var w=V.substitute($,Z),s=V.permute(w),g=f;f=(M^s)>>>0,M=g}V.rip(f,M,S,b)}}),V8=h1((x)=>{var W=$2(),q=i1(),O={};function V(u){W.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var r=0;r<this.iv.length;r++)this.iv[r]=u[r]}function y(u){function r(_){u.call(this,_),this._cbcInit()}q(r,u);for(var z=Object.keys(O),a=0;a<z.length;a++){var L=z[a];r.prototype[L]=O[L]}return r.create=function(_){return new r(_)},r}x.instantiate=y,O._cbcInit=function(){var u=new V(this.options.iv);this._cbcState=u},O._update=function(u,r,z,a){var L=this._cbcState,_=this.constructor.super_.prototype,S=L.iv;if(this.type==="encrypt"){for(var b=0;b<this.blockSize;b++)S[b]^=u[r+b];_._update.call(this,S,0,z,a);for(var b=0;b<this.blockSize;b++)S[b]=z[a+b]}else{_._update.call(this,u,r,z,a);for(var b=0;b<this.blockSize;b++)z[a+b]^=S[b];for(var b=0;b<this.blockSize;b++)S[b]=u[r+b]}}}),S8=h1((x,W)=>{var q=$2(),O=i1(),V=j6(),y=d5();function u(z,a){q.equal(a.length,24,"Invalid key length");var L=a.slice(0,8),_=a.slice(8,16),S=a.slice(16,24);z==="encrypt"?this.ciphers=[y.create({type:"encrypt",key:L}),y.create({type:"decrypt",key:_}),y.create({type:"encrypt",key:S})]:this.ciphers=[y.create({type:"decrypt",key:S}),y.create({type:"encrypt",key:_}),y.create({type:"decrypt",key:L})]}function r(z){V.call(this,z);var a=new u(this.type,this.options.key);this._edeState=a}O(r,V),W.exports=r,r.create=function(z){return new r(z)},r.prototype._update=function(z,a,L,_){var S=this._edeState;S.ciphers[0]._update(z,a,L,_),S.ciphers[1]._update(L,_,L,_),S.ciphers[2]._update(L,_,L,_)},r.prototype._pad=y.prototype._pad,r.prototype._unpad=y.prototype._unpad}),$8=h1((x)=>{x.utils=f5(),x.Cipher=j6(),x.DES=d5(),x.CBC=V8(),x.EDE=S8()}),Z8=h1((x,W)=>{var q=H2(),O=$8(),V=i1(),y=H1().Buffer,u={"des-ede3-cbc":O.CBC.instantiate(O.EDE),"des-ede3":O.EDE,"des-ede-cbc":O.CBC.instantiate(O.EDE),"des-ede":O.EDE,"des-cbc":O.CBC.instantiate(O.DES),"des-ecb":O.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],W.exports=r,V(r,q);function r(z){q.call(this);var a=z.mode.toLowerCase(),L=u[a],_;z.decrypt?_="decrypt":_="encrypt";var S=z.key;y.isBuffer(S)||(S=y.from(S)),(a==="des-ede"||a==="des-ede-cbc")&&(S=y.concat([S,S.slice(0,8)]));var b=z.iv;y.isBuffer(b)||(b=y.from(b)),this._des=L.create({key:S,iv:b,type:_})}r.prototype._update=function(z){return y.from(this._des.update(z))},r.prototype._final=function(){return y.from(this._des.final())}}),W8=h1((x)=>{x.encrypt=function(W,q){return W._cipher.encryptBlock(q)},x.decrypt=function(W,q){return W._cipher.decryptBlock(q)}}),S3=h1((x,W)=>{W.exports=function(q,O){for(var V=Math.min(q.length,O.length),y=new Buffer(V),u=0;u<V;++u)y[u]=q[u]^O[u];return y}}),w8=h1((x)=>{var W=S3();x.encrypt=function(q,O){var V=W(O,q._prev);return q._prev=q._cipher.encryptBlock(V),q._prev},x.decrypt=function(q,O){var V=q._prev;q._prev=O;var y=q._cipher.decryptBlock(O);return W(y,V)}}),O8=h1((x)=>{var W=H1().Buffer,q=S3();function O(V,y,u){var r=y.length,z=q(y,V._cache);return V._cache=V._cache.slice(r),V._prev=W.concat([V._prev,u?y:z]),z}x.encrypt=function(V,y,u){for(var r=W.allocUnsafe(0),z;y.length;)if(V._cache.length===0&&(V._cache=V._cipher.encryptBlock(V._prev),V._prev=W.allocUnsafe(0)),V._cache.length<=y.length)z=V._cache.length,r=W.concat([r,O(V,y.slice(0,z),u)]),y=y.slice(z);else{r=W.concat([r,O(V,y,u)]);break}return r}}),R8=h1((x)=>{var W=H1().Buffer;function q(O,V,y){var u=O._cipher.encryptBlock(O._prev),r=u[0]^V;return O._prev=W.concat([O._prev.slice(1),W.from([y?V:r])]),r}x.encrypt=function(O,V,y){for(var u=V.length,r=W.allocUnsafe(u),z=-1;++z<u;)r[z]=q(O,V[z],y);return r}}),s8=h1((x)=>{var W=H1().Buffer;function q(V,y,u){for(var r,z=-1,a=8,L=0,_,S;++z<a;)r=V._cipher.encryptBlock(V._prev),_=y&1<<7-z?128:0,S=r[0]^_,L+=(S&128)>>z%8,V._prev=O(V._prev,u?_:S);return L}function O(V,y){var u=V.length,r=-1,z=W.allocUnsafe(V.length);for(V=W.concat([V,W.from([y])]);++r<u;)z[r]=V[r]<<1|V[r+1]>>7;return z}x.encrypt=function(V,y,u){for(var r=y.length,z=W.allocUnsafe(r),a=-1;++a<r;)z[a]=q(V,y[a],u);return z}}),g8=h1((x)=>{var W=S3();function q(O){return O._prev=O._cipher.encryptBlock(O._prev),O._prev}x.encrypt=function(O,V){for(;O._cache.length<V.length;)O._cache=Buffer.concat([O._cache,q(O)]);var y=O._cache.slice(0,V.length);return O._cache=O._cache.slice(V.length),W(V,y)}}),a5=h1((x,W)=>{function q(O){for(var V=O.length,y;V--;)if(y=O.readUInt8(V),y===255)O.writeUInt8(0,V);else{y++,O.writeUInt8(y,V);break}}W.exports=q}),r5=h1((x)=>{var W=S3(),q=H1().Buffer,O=a5();function V(u){var r=u._cipher.encryptBlockRaw(u._prev);return O(u._prev),r}var y=16;x.encrypt=function(u,r){var z=Math.ceil(r.length/y),a=u._cache.length;u._cache=q.concat([u._cache,q.allocUnsafe(z*y)]);for(var L=0;L<z;L++){var _=V(u),S=a+L*y;u._cache.writeUInt32BE(_[0],S+0),u._cache.writeUInt32BE(_[1],S+4),u._cache.writeUInt32BE(_[2],S+8),u._cache.writeUInt32BE(_[3],S+12)}var b=u._cache.slice(0,r.length);return u._cache=u._cache.slice(r.length),W(r,b)}}),h5=h1((x,W)=>{W.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),H6=h1((x,W)=>{var q={ECB:W8(),CBC:w8(),CFB:O8(),CFB8:R8(),CFB1:s8(),OFB:g8(),CTR:r5(),GCM:r5()},O=h5();for(V in O)O[V].module=q[O[V].mode];var V;W.exports=O}),l6=h1((x,W)=>{var q=H1().Buffer;function O(a){q.isBuffer(a)||(a=q.from(a));for(var L=a.length/4|0,_=new Array(L),S=0;S<L;S++)_[S]=a.readUInt32BE(S*4);return _}function V(a){for(var L=0;L<a.length;a++)a[L]=0}function y(a,L,_,S,b){for(var f=_[0],M=_[1],T=_[2],$=_[3],Z=a[0]^L[0],w=a[1]^L[1],s=a[2]^L[2],g=a[3]^L[3],R,U,j,J,H=4,D=1;D<b;D++)R=f[Z>>>24]^M[w>>>16&255]^T[s>>>8&255]^$[g&255]^L[H++],U=f[w>>>24]^M[s>>>16&255]^T[g>>>8&255]^$[Z&255]^L[H++],j=f[s>>>24]^M[g>>>16&255]^T[Z>>>8&255]^$[w&255]^L[H++],J=f[g>>>24]^M[Z>>>16&255]^T[w>>>8&255]^$[s&255]^L[H++],Z=R,w=U,s=j,g=J;return R=(S[Z>>>24]<<24|S[w>>>16&255]<<16|S[s>>>8&255]<<8|S[g&255])^L[H++],U=(S[w>>>24]<<24|S[s>>>16&255]<<16|S[g>>>8&255]<<8|S[Z&255])^L[H++],j=(S[s>>>24]<<24|S[g>>>16&255]<<16|S[Z>>>8&255]<<8|S[w&255])^L[H++],J=(S[g>>>24]<<24|S[Z>>>16&255]<<16|S[w>>>8&255]<<8|S[s&255])^L[H++],R=R>>>0,U=U>>>0,j=j>>>0,J=J>>>0,[R,U,j,J]}var u=[0,1,2,4,8,16,32,64,128,27,54],r=function(){for(var a=new Array(256),L=0;L<256;L++)L<128?a[L]=L<<1:a[L]=L<<1^283;for(var _=[],S=[],b=[[],[],[],[]],f=[[],[],[],[]],M=0,T=0,$=0;$<256;++$){var Z=T^T<<1^T<<2^T<<3^T<<4;Z=Z>>>8^Z&255^99,_[M]=Z,S[Z]=M;var w=a[M],s=a[w],g=a[s],R=a[Z]*257^Z*16843008;b[0][M]=R<<24|R>>>8,b[1][M]=R<<16|R>>>16,b[2][M]=R<<8|R>>>24,b[3][M]=R,R=g*16843009^s*65537^w*257^M*16843008,f[0][Z]=R<<24|R>>>8,f[1][Z]=R<<16|R>>>16,f[2][Z]=R<<8|R>>>24,f[3][Z]=R,M===0?M=T=1:(M=w^a[a[a[g^w]]],T^=a[a[T]])}return{SBOX:_,INV_SBOX:S,SUB_MIX:b,INV_SUB_MIX:f}}();function z(a){this._key=O(a),this._reset()}z.blockSize=16,z.keySize=32,z.prototype.blockSize=z.blockSize,z.prototype.keySize=z.keySize,z.prototype._reset=function(){for(var a=this._key,L=a.length,_=L+6,S=(_+1)*4,b=[],f=0;f<L;f++)b[f]=a[f];for(f=L;f<S;f++){var M=b[f-1];f%L===0?(M=M<<8|M>>>24,M=r.SBOX[M>>>24]<<24|r.SBOX[M>>>16&255]<<16|r.SBOX[M>>>8&255]<<8|r.SBOX[M&255],M^=u[f/L|0]<<24):L>6&&f%L===4&&(M=r.SBOX[M>>>24]<<24|r.SBOX[M>>>16&255]<<16|r.SBOX[M>>>8&255]<<8|r.SBOX[M&255]),b[f]=b[f-L]^M}for(var T=[],$=0;$<S;$++){var Z=S-$,w=b[Z-($%4?0:4)];$<4||Z<=4?T[$]=w:T[$]=r.INV_SUB_MIX[0][r.SBOX[w>>>24]]^r.INV_SUB_MIX[1][r.SBOX[w>>>16&255]]^r.INV_SUB_MIX[2][r.SBOX[w>>>8&255]]^r.INV_SUB_MIX[3][r.SBOX[w&255]]}this._nRounds=_,this._keySchedule=b,this._invKeySchedule=T},z.prototype.encryptBlockRaw=function(a){return a=O(a),y(a,this._keySchedule,r.SUB_MIX,r.SBOX,this._nRounds)},z.prototype.encryptBlock=function(a){var L=this.encryptBlockRaw(a),_=q.allocUnsafe(16);return _.writeUInt32BE(L[0],0),_.writeUInt32BE(L[1],4),_.writeUInt32BE(L[2],8),_.writeUInt32BE(L[3],12),_},z.prototype.decryptBlock=function(a){a=O(a);var L=a[1];a[1]=a[3],a[3]=L;var _=y(a,this._invKeySchedule,r.INV_SUB_MIX,r.INV_SBOX,this._nRounds),S=q.allocUnsafe(16);return S.writeUInt32BE(_[0],0),S.writeUInt32BE(_[3],4),S.writeUInt32BE(_[2],8),S.writeUInt32BE(_[1],12),S},z.prototype.scrub=function(){V(this._keySchedule),V(this._invKeySchedule),V(this._key)},W.exports.AES=z}),X8=h1((x,W)=>{var q=H1().Buffer,O=q.alloc(16,0);function V(r){return[r.readUInt32BE(0),r.readUInt32BE(4),r.readUInt32BE(8),r.readUInt32BE(12)]}function y(r){var z=q.allocUnsafe(16);return z.writeUInt32BE(r[0]>>>0,0),z.writeUInt32BE(r[1]>>>0,4),z.writeUInt32BE(r[2]>>>0,8),z.writeUInt32BE(r[3]>>>0,12),z}function u(r){this.h=r,this.state=q.alloc(16,0),this.cache=q.allocUnsafe(0)}u.prototype.ghash=function(r){for(var z=-1;++z<r.length;)this.state[z]^=r[z];this._multiply()},u.prototype._multiply=function(){for(var r=V(this.h),z=[0,0,0,0],a,L,_,S=-1;++S<128;){for(L=(this.state[~~(S/8)]&1<<7-S%8)!==0,L&&(z[0]^=r[0],z[1]^=r[1],z[2]^=r[2],z[3]^=r[3]),_=(r[3]&1)!==0,a=3;a>0;a--)r[a]=r[a]>>>1|(r[a-1]&1)<<31;r[0]=r[0]>>>1,_&&(r[0]=r[0]^-520093696)}this.state=y(z)},u.prototype.update=function(r){this.cache=q.concat([this.cache,r]);for(var z;this.cache.length>=16;)z=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(z)},u.prototype.final=function(r,z){return this.cache.length&&this.ghash(q.concat([this.cache,O],16)),this.ghash(y([0,r,0,z])),this.state},W.exports=u}),y5=h1((x,W)=>{var q=l6(),O=H1().Buffer,V=H2(),y=i1(),u=X8(),r=S3(),z=a5();function a(S,b){var f=0;S.length!==b.length&&f++;for(var M=Math.min(S.length,b.length),T=0;T<M;++T)f+=S[T]^b[T];return f}function L(S,b,f){if(b.length===12)return S._finID=O.concat([b,O.from([0,0,0,1])]),O.concat([b,O.from([0,0,0,2])]);var M=new u(f),T=b.length,$=T%16;M.update(b),$&&($=16-$,M.update(O.alloc($,0))),M.update(O.alloc(8,0));var Z=T*8,w=O.alloc(8);w.writeUIntBE(Z,0,8),M.update(w),S._finID=M.state;var s=O.from(S._finID);return z(s),s}function _(S,b,f,M){V.call(this);var T=O.alloc(4,0);this._cipher=new q.AES(b);var $=this._cipher.encryptBlock(T);this._ghash=new u($),f=L(this,f,$),this._prev=O.from(f),this._cache=O.allocUnsafe(0),this._secCache=O.allocUnsafe(0),this._decrypt=M,this._alen=0,this._len=0,this._mode=S,this._authTag=null,this._called=!1}y(_,V),_.prototype._update=function(S){if(!this._called&&this._alen){var b=16-this._alen%16;b<16&&(b=O.alloc(b,0),this._ghash.update(b))}this._called=!0;var f=this._mode.encrypt(this,S);return this._decrypt?this._ghash.update(S):this._ghash.update(f),this._len+=S.length,f},_.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var S=r(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&a(S,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=S,this._cipher.scrub()},_.prototype.getAuthTag=function(){if(this._decrypt||!O.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},_.prototype.setAuthTag=function(S){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=S},_.prototype.setAAD=function(S){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(S),this._alen+=S.length},W.exports=_}),v5=h1((x,W)=>{var q=l6(),O=H1().Buffer,V=H2(),y=i1();function u(r,z,a,L){V.call(this),this._cipher=new q.AES(z),this._prev=O.from(a),this._cache=O.allocUnsafe(0),this._secCache=O.allocUnsafe(0),this._decrypt=L,this._mode=r}y(u,V),u.prototype._update=function(r){return this._mode.encrypt(this,r,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},W.exports=u}),o6=h1((x,W)=>{var q=H1().Buffer,O=s6();function V(y,u,r,z){if(q.isBuffer(y)||(y=q.from(y,"binary")),u&&(q.isBuffer(u)||(u=q.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,L=q.alloc(a),_=q.alloc(z||0),S=q.alloc(0);a>0||z>0;){var b=new O;b.update(S),b.update(y),u&&b.update(u),S=b.digest();var f=0;if(a>0){var M=L.length-a;f=Math.min(a,S.length),S.copy(L,M,0,f),a-=f}if(f<S.length&&z>0){var T=_.length-z,$=Math.min(z,S.length-f);S.copy(_,T,f,f+$),z-=$}}return S.fill(0),{key:L,iv:_}}W.exports=V}),F8=h1((x)=>{var W=H6(),q=y5(),O=H1().Buffer,V=v5(),y=H2(),u=l6(),r=o6(),z=i1();function a(f,M,T){y.call(this),this._cache=new _,this._cipher=new u.AES(M),this._prev=O.from(T),this._mode=f,this._autopadding=!0}z(a,y),a.prototype._update=function(f){this._cache.add(f);for(var M,T,$=[];M=this._cache.get();)T=this._mode.encrypt(this,M),$.push(T);return O.concat($)};var L=O.alloc(16,16);a.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return f=this._mode.encrypt(this,f),this._cipher.scrub(),f;if(!f.equals(L))throw this._cipher.scrub(),new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this};function _(){this.cache=O.allocUnsafe(0)}_.prototype.add=function(f){this.cache=O.concat([this.cache,f])},_.prototype.get=function(){if(this.cache.length>15){var f=this.cache.slice(0,16);return this.cache=this.cache.slice(16),f}return null},_.prototype.flush=function(){for(var f=16-this.cache.length,M=O.allocUnsafe(f),T=-1;++T<f;)M.writeUInt8(f,T);return O.concat([this.cache,M])};function S(f,M,T){var $=W[f.toLowerCase()];if(!$)throw new TypeError("invalid suite type");if(typeof M=="string"&&(M=O.from(M)),M.length!==$.key/8)throw new TypeError("invalid key length "+M.length);if(typeof T=="string"&&(T=O.from(T)),$.mode!=="GCM"&&T.length!==$.iv)throw new TypeError("invalid iv length "+T.length);return $.type==="stream"?new V($.module,M,T):$.type==="auth"?new q($.module,M,T):new a($.module,M,T)}function b(f,M){var T=W[f.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var $=r(M,!1,T.key,T.iv);return S(f,$.key,$.iv)}x.createCipheriv=S,x.createCipher=b}),k8=h1((x)=>{var W=y5(),q=H1().Buffer,O=H6(),V=v5(),y=H2(),u=l6(),r=o6(),z=i1();function a(f,M,T){y.call(this),this._cache=new L,this._last=void 0,this._cipher=new u.AES(M),this._prev=q.from(T),this._mode=f,this._autopadding=!0}z(a,y),a.prototype._update=function(f){this._cache.add(f);for(var M,T,$=[];M=this._cache.get(this._autopadding);)T=this._mode.decrypt(this,M),$.push(T);return q.concat($)},a.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return _(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this};function L(){this.cache=q.allocUnsafe(0)}L.prototype.add=function(f){this.cache=q.concat([this.cache,f])},L.prototype.get=function(f){var M;if(f){if(this.cache.length>16)return M=this.cache.slice(0,16),this.cache=this.cache.slice(16),M}else if(this.cache.length>=16)return M=this.cache.slice(0,16),this.cache=this.cache.slice(16),M;return null},L.prototype.flush=function(){if(this.cache.length)return this.cache};function _(f){var M=f[15];if(M<1||M>16)throw new Error("unable to decrypt data");for(var T=-1;++T<M;)if(f[T+(16-M)]!==M)throw new Error("unable to decrypt data");if(M!==16)return f.slice(0,16-M)}function S(f,M,T){var $=O[f.toLowerCase()];if(!$)throw new TypeError("invalid suite type");if(typeof T=="string"&&(T=q.from(T)),$.mode!=="GCM"&&T.length!==$.iv)throw new TypeError("invalid iv length "+T.length);if(typeof M=="string"&&(M=q.from(M)),M.length!==$.key/8)throw new TypeError("invalid key length "+M.length);return $.type==="stream"?new V($.module,M,T,!0):$.type==="auth"?new W($.module,M,T,!0):new a($.module,M,T)}function b(f,M){var T=O[f.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var $=r(M,!1,T.key,T.iv);return S(f,$.key,$.iv)}x.createDecipher=b,x.createDecipheriv=S}),J6=h1((x)=>{var W=F8(),q=k8(),O=h5();function V(){return Object.keys(O)}x.createCipher=x.Cipher=W.createCipher,x.createCipheriv=x.Cipheriv=W.createCipheriv,x.createDecipher=x.Decipher=q.createDecipher,x.createDecipheriv=x.Decipheriv=q.createDecipheriv,x.listCiphers=x.getCiphers=V}),P8=h1((x)=>{x["des-ecb"]={key:8,iv:0},x["des-cbc"]=x.des={key:8,iv:8},x["des-ede3-cbc"]=x.des3={key:24,iv:8},x["des-ede3"]={key:24,iv:0},x["des-ede-cbc"]={key:16,iv:8},x["des-ede"]={key:16,iv:0}}),U8=h1((x)=>{var W=Z8(),q=J6(),O=H6(),V=P8(),y=o6();function u(_,S){_=_.toLowerCase();var b,f;if(O[_])b=O[_].key,f=O[_].iv;else if(V[_])b=V[_].key*8,f=V[_].iv;else throw new TypeError("invalid suite type");var M=y(S,!1,b,f);return z(_,M.key,M.iv)}function r(_,S){_=_.toLowerCase();var b,f;if(O[_])b=O[_].key,f=O[_].iv;else if(V[_])b=V[_].key*8,f=V[_].iv;else throw new TypeError("invalid suite type");var M=y(S,!1,b,f);return a(_,M.key,M.iv)}function z(_,S,b){if(_=_.toLowerCase(),O[_])return q.createCipheriv(_,S,b);if(V[_])return new W({key:S,iv:b,mode:_});throw new TypeError("invalid suite type")}function a(_,S,b){if(_=_.toLowerCase(),O[_])return q.createDecipheriv(_,S,b);if(V[_])return new W({key:S,iv:b,mode:_,decrypt:!0});throw new TypeError("invalid suite type")}function L(){return Object.keys(V).concat(q.getCiphers())}x.createCipher=x.Cipher=u,x.createCipheriv=x.Cipheriv=z,x.createDecipher=x.Decipher=r,x.createDecipheriv=x.Decipheriv=a,x.listCiphers=x.getCiphers=L}),B2=h1(()=>{}),_5=h1((x,W)=>{(function(q,O){function V(l,p){if(!l)throw new Error(p||"Assertion failed")}function y(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function u(l,p,m){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof q=="object"?q.exports=u:O.BN=u,u.BN=u,u.wordSize=26;var r;try{typeof window<"u"&&typeof window.Buffer<"u"?r=window.Buffer:r=B2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),V(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,m):(this._parseBase(l,p,n),m==="le"&&this._initArray(this.toArray(),p,m)))},u.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(V(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},u.prototype._initArray=function(l,p,m){if(V(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,v,N=0;if(m==="be")for(n=l.length-1,c=0;n>=0;n-=3)v=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);else if(m==="le")for(n=0,c=0;n<l.length;n+=3)v=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);return this.strip()};function z(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function a(l,p,m){var n=z(l,m);return m-1>=p&&(n|=z(l,m-1)<<4),n}u.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,v=0,N;if(m==="be")for(n=l.length-1;n>=p;n-=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8;else{var d=l.length-p;for(n=d%2===0?p+1:p;n<l.length;n+=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8}this.strip()};function L(l,p,m,n){for(var c=0,v=Math.min(l.length,m),N=p;N<v;N++){var d=l.charCodeAt(N)-48;c*=n,d>=49?c+=d-49+10:d>=17?c+=d-17+10:c+=d}return c}u.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var v=l.length-m,N=v%n,d=Math.min(v,v-N)+m,o=0,h=m;h<d;h+=n)o=L(l,h,h+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(N!==0){var P=1;for(o=L(l,h,l.length,p),h=0;h<N;h++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var n=0,c=0,v=0;v<this.length;v++){var N=this.words[v],d=((N<<n|c)&16777215).toString(16);c=N>>>24-n&16777215,c!==0||v!==this.length-1?m=_[6-d.length]+d+m:m=d+m,n+=2,n>=26&&(n-=26,v--)}for(c!==0&&(m=c.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],h=b[l];m="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(h).toString(l);P=P.idivn(h),P.isZero()?m=X+m:m=_[o-X.length]+X+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}V(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&V(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return V(typeof r<"u"),this.toArrayLike(r,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,m){var n=this.byteLength(),c=m||Math.max(1,n);V(n<=c,"byte array longer than desired length"),V(c>0,"Requested array length <= 0"),this.strip();var v=p==="le",N=new l(c),d,o,h=this.clone();if(v){for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[o]=d;for(;o<c;o++)N[o]=0}else{for(o=0;o<c-n;o++)N[o]=0;for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[c-o-1]=d}return N},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return(p&8191)===0&&(m+=13,p>>>=13),(p&127)===0&&(m+=7,p>>>=7),(p&15)===0&&(m+=4,p>>>=4),(p&3)===0&&(m+=2,p>>>=2),(p&1)===0&&m++,m},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function f(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var n=m/26|0,c=m%26;p[m]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return V((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return V((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var n=0;n<m.length;n++)this.words[n]=p.words[n]^m.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return V((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){V(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return m>0&&(this.words[n]=~this.words[n]&67108863>>26-m),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){V(typeof l=="number"&&l>=0);var m=l/26|0,n=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<n:this.words[m]=this.words[m]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,n;this.length>l.length?(m=this,n=l):(m=l,n=this);for(var c=0,v=0;v<n.length;v++)p=(m.words[v]|0)+(n.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;for(;c!==0&&v<m.length;v++)p=(m.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;if(this.length=m.length,c!==0)this.words[this.length]=c,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;m>0?(n=this,c=l):(n=l,c=this);for(var v=0,N=0;N<c.length;N++)p=(n.words[N]|0)-(c.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;for(;v!==0&&N<n.length;N++)p=(n.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;if(v===0&&N<n.length&&n!==this)for(;N<n.length;N++)this.words[N]=n.words[N];return this.length=Math.max(this.length,N),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function M(l,p,m){m.negative=p.negative^l.negative;var n=l.length+p.length|0;m.length=n,n=n-1|0;var c=l.words[0]|0,v=p.words[0]|0,N=c*v,d=N&67108863,o=N/67108864|0;m.words[0]=d;for(var h=1;h<n;h++){for(var P=o>>>26,X=o&67108863,k=Math.min(h,p.length-1),I=Math.max(0,h-l.length+1);I<=k;I++){var Q=h-I|0;c=l.words[Q]|0,v=p.words[I]|0,N=c*v+X,P+=N/67108864|0,X=N&67108863}m.words[h]=X|0,o=P|0}return o!==0?m.words[h]=o|0:m.length--,m.strip()}var T=function(l,p,m){var n=l.words,c=p.words,v=m.words,N=0,d,o,h,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,r1=n[3]|0,n1=r1&8191,c1=r1>>>13,G=n[4]|0,K=G&8191,Y=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,f1=M1&8191,d1=M1>>>13,F1=n[7]|0,y1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,b1=c[0]|0,m1=b1&8191,v1=b1>>>13,j1=c[1]|0,x1=j1&8191,_1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,d2=c[3]|0,q1=d2&8191,L1=d2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,h2=c[5]|0,S1=h2&8191,$1=h2>>>13,y2=c[6]|0,Z1=y2&8191,W1=y2>>>13,v2=c[7]|0,w1=v2&8191,O1=v2>>>13,_2=c[8]|0,R1=_2&8191,s1=_2>>>13,x2=c[9]|0,g1=x2&8191,X1=x2>>>13;m.negative=l.negative^p.negative,m.length=19,d=Math.imul(X,m1),o=Math.imul(X,v1),o=o+Math.imul(k,m1)|0,h=Math.imul(k,v1);var f2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,d=Math.imul(Q,m1),o=Math.imul(Q,v1),o=o+Math.imul(e,m1)|0,h=Math.imul(e,v1),d=d+Math.imul(X,x1)|0,o=o+Math.imul(X,_1)|0,o=o+Math.imul(k,x1)|0,h=h+Math.imul(k,_1)|0;var U1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,d=Math.imul(E,m1),o=Math.imul(E,v1),o=o+Math.imul(A,m1)|0,h=Math.imul(A,v1),d=d+Math.imul(Q,x1)|0,o=o+Math.imul(Q,_1)|0,o=o+Math.imul(e,x1)|0,h=h+Math.imul(e,_1)|0,d=d+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,h=h+Math.imul(k,T1)|0;var K1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,d=Math.imul(n1,m1),o=Math.imul(n1,v1),o=o+Math.imul(c1,m1)|0,h=Math.imul(c1,v1),d=d+Math.imul(E,x1)|0,o=o+Math.imul(E,_1)|0,o=o+Math.imul(A,x1)|0,h=h+Math.imul(A,_1)|0,d=d+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,h=h+Math.imul(e,T1)|0,d=d+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,h=h+Math.imul(k,L1)|0;var D1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,d=Math.imul(K,m1),o=Math.imul(K,v1),o=o+Math.imul(Y,m1)|0,h=Math.imul(Y,v1),d=d+Math.imul(n1,x1)|0,o=o+Math.imul(n1,_1)|0,o=o+Math.imul(c1,x1)|0,h=h+Math.imul(c1,_1)|0,d=d+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,h=h+Math.imul(A,T1)|0,d=d+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,h=h+Math.imul(e,L1)|0,d=d+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,h=h+Math.imul(k,V1)|0;var I1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,d=Math.imul(u1,m1),o=Math.imul(u1,v1),o=o+Math.imul(o1,m1)|0,h=Math.imul(o1,v1),d=d+Math.imul(K,x1)|0,o=o+Math.imul(K,_1)|0,o=o+Math.imul(Y,x1)|0,h=h+Math.imul(Y,_1)|0,d=d+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,h=h+Math.imul(c1,T1)|0,d=d+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,h=h+Math.imul(A,L1)|0,d=d+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,h=h+Math.imul(e,V1)|0,d=d+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,h=h+Math.imul(k,$1)|0;var Y1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,d=Math.imul(f1,m1),o=Math.imul(f1,v1),o=o+Math.imul(d1,m1)|0,h=Math.imul(d1,v1),d=d+Math.imul(u1,x1)|0,o=o+Math.imul(u1,_1)|0,o=o+Math.imul(o1,x1)|0,h=h+Math.imul(o1,_1)|0,d=d+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,h=h+Math.imul(Y,T1)|0,d=d+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,h=h+Math.imul(c1,L1)|0,d=d+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,h=h+Math.imul(A,V1)|0,d=d+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,h=h+Math.imul(e,$1)|0,d=d+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,h=h+Math.imul(k,W1)|0;var t1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,d=Math.imul(y1,m1),o=Math.imul(y1,v1),o=o+Math.imul(a1,m1)|0,h=Math.imul(a1,v1),d=d+Math.imul(f1,x1)|0,o=o+Math.imul(f1,_1)|0,o=o+Math.imul(d1,x1)|0,h=h+Math.imul(d1,_1)|0,d=d+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,h=h+Math.imul(o1,T1)|0,d=d+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,h=h+Math.imul(Y,L1)|0,d=d+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,h=h+Math.imul(c1,V1)|0,d=d+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,h=h+Math.imul(A,$1)|0,d=d+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,h=h+Math.imul(e,W1)|0,d=d+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,h=h+Math.imul(k,O1)|0;var C1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,d=Math.imul(F,m1),o=Math.imul(F,v1),o=o+Math.imul(i,m1)|0,h=Math.imul(i,v1),d=d+Math.imul(y1,x1)|0,o=o+Math.imul(y1,_1)|0,o=o+Math.imul(a1,x1)|0,h=h+Math.imul(a1,_1)|0,d=d+Math.imul(f1,N1)|0,o=o+Math.imul(f1,T1)|0,o=o+Math.imul(d1,N1)|0,h=h+Math.imul(d1,T1)|0,d=d+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,h=h+Math.imul(o1,L1)|0,d=d+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,h=h+Math.imul(Y,V1)|0,d=d+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,h=h+Math.imul(c1,$1)|0,d=d+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,h=h+Math.imul(A,W1)|0,d=d+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,h=h+Math.imul(e,O1)|0,d=d+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,h=h+Math.imul(k,s1)|0;var B1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,d=Math.imul(C,m1),o=Math.imul(C,v1),o=o+Math.imul(l1,m1)|0,h=Math.imul(l1,v1),d=d+Math.imul(F,x1)|0,o=o+Math.imul(F,_1)|0,o=o+Math.imul(i,x1)|0,h=h+Math.imul(i,_1)|0,d=d+Math.imul(y1,N1)|0,o=o+Math.imul(y1,T1)|0,o=o+Math.imul(a1,N1)|0,h=h+Math.imul(a1,T1)|0,d=d+Math.imul(f1,q1)|0,o=o+Math.imul(f1,L1)|0,o=o+Math.imul(d1,q1)|0,h=h+Math.imul(d1,L1)|0,d=d+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,h=h+Math.imul(o1,V1)|0,d=d+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,h=h+Math.imul(Y,$1)|0,d=d+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,h=h+Math.imul(c1,W1)|0,d=d+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,h=h+Math.imul(A,O1)|0,d=d+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,h=h+Math.imul(e,s1)|0,d=d+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,h=h+Math.imul(k,X1)|0;var Q1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,d=Math.imul(C,x1),o=Math.imul(C,_1),o=o+Math.imul(l1,x1)|0,h=Math.imul(l1,_1),d=d+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,h=h+Math.imul(i,T1)|0,d=d+Math.imul(y1,q1)|0,o=o+Math.imul(y1,L1)|0,o=o+Math.imul(a1,q1)|0,h=h+Math.imul(a1,L1)|0,d=d+Math.imul(f1,z1)|0,o=o+Math.imul(f1,V1)|0,o=o+Math.imul(d1,z1)|0,h=h+Math.imul(d1,V1)|0,d=d+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,h=h+Math.imul(o1,$1)|0,d=d+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,h=h+Math.imul(Y,W1)|0,d=d+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,h=h+Math.imul(c1,O1)|0,d=d+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,h=h+Math.imul(A,s1)|0,d=d+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,h=h+Math.imul(e,X1)|0;var e1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,d=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,h=Math.imul(l1,T1),d=d+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,h=h+Math.imul(i,L1)|0,d=d+Math.imul(y1,z1)|0,o=o+Math.imul(y1,V1)|0,o=o+Math.imul(a1,z1)|0,h=h+Math.imul(a1,V1)|0,d=d+Math.imul(f1,S1)|0,o=o+Math.imul(f1,$1)|0,o=o+Math.imul(d1,S1)|0,h=h+Math.imul(d1,$1)|0,d=d+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,h=h+Math.imul(o1,W1)|0,d=d+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,h=h+Math.imul(Y,O1)|0,d=d+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,h=h+Math.imul(c1,s1)|0,d=d+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,h=h+Math.imul(A,X1)|0;var A1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,d=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,h=Math.imul(l1,L1),d=d+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,h=h+Math.imul(i,V1)|0,d=d+Math.imul(y1,S1)|0,o=o+Math.imul(y1,$1)|0,o=o+Math.imul(a1,S1)|0,h=h+Math.imul(a1,$1)|0,d=d+Math.imul(f1,Z1)|0,o=o+Math.imul(f1,W1)|0,o=o+Math.imul(d1,Z1)|0,h=h+Math.imul(d1,W1)|0,d=d+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,h=h+Math.imul(o1,O1)|0,d=d+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,h=h+Math.imul(Y,s1)|0,d=d+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,h=h+Math.imul(c1,X1)|0;var l2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,d=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,h=Math.imul(l1,V1),d=d+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,h=h+Math.imul(i,$1)|0,d=d+Math.imul(y1,Z1)|0,o=o+Math.imul(y1,W1)|0,o=o+Math.imul(a1,Z1)|0,h=h+Math.imul(a1,W1)|0,d=d+Math.imul(f1,w1)|0,o=o+Math.imul(f1,O1)|0,o=o+Math.imul(d1,w1)|0,h=h+Math.imul(d1,O1)|0,d=d+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,h=h+Math.imul(o1,s1)|0,d=d+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,h=h+Math.imul(Y,X1)|0;var o2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,d=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,h=Math.imul(l1,$1),d=d+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,h=h+Math.imul(i,W1)|0,d=d+Math.imul(y1,w1)|0,o=o+Math.imul(y1,O1)|0,o=o+Math.imul(a1,w1)|0,h=h+Math.imul(a1,O1)|0,d=d+Math.imul(f1,R1)|0,o=o+Math.imul(f1,s1)|0,o=o+Math.imul(d1,R1)|0,h=h+Math.imul(d1,s1)|0,d=d+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,h=h+Math.imul(o1,X1)|0;var n2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,d=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,h=Math.imul(l1,W1),d=d+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,h=h+Math.imul(i,O1)|0,d=d+Math.imul(y1,R1)|0,o=o+Math.imul(y1,s1)|0,o=o+Math.imul(a1,R1)|0,h=h+Math.imul(a1,s1)|0,d=d+Math.imul(f1,g1)|0,o=o+Math.imul(f1,X1)|0,o=o+Math.imul(d1,g1)|0,h=h+Math.imul(d1,X1)|0;var p2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,d=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,h=Math.imul(l1,O1),d=d+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,h=h+Math.imul(i,s1)|0,d=d+Math.imul(y1,g1)|0,o=o+Math.imul(y1,X1)|0,o=o+Math.imul(a1,g1)|0,h=h+Math.imul(a1,X1)|0;var u2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,d=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,h=Math.imul(l1,s1),d=d+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,h=h+Math.imul(i,X1)|0;var c2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,d=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,h=Math.imul(l1,X1);var m2=(N+d|0)+((o&8191)<<13)|0;return N=(h+(o>>>13)|0)+(m2>>>26)|0,m2&=67108863,v[0]=f2,v[1]=U1,v[2]=K1,v[3]=D1,v[4]=I1,v[5]=Y1,v[6]=t1,v[7]=C1,v[8]=B1,v[9]=Q1,v[10]=e1,v[11]=A1,v[12]=l2,v[13]=o2,v[14]=n2,v[15]=p2,v[16]=u2,v[17]=c2,v[18]=m2,N!==0&&(v[19]=N,m.length++),m};Math.imul||(T=M);function $(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var n=0,c=0,v=0;v<m.length-1;v++){var N=c;c=0;for(var d=n&67108863,o=Math.min(v,p.length-1),h=Math.max(0,v-l.length+1);h<=o;h++){var P=v-h,X=l.words[P]|0,k=p.words[h]|0,I=X*k,Q=I&67108863;N=N+(I/67108864|0)|0,Q=Q+d|0,d=Q&67108863,N=N+(Q>>>26)|0,c+=N>>>26,N&=67108863}m.words[v]=d,n=N,N=c}return n!==0?m.words[v]=n:m.length--,m.strip()}function Z(l,p,m){var n=new w;return n.mulp(l,p,m)}u.prototype.mulTo=function(l,p){var m,n=this.length+l.length;return this.length===10&&l.length===10?m=T(this,l,p):n<63?m=M(this,l,p):n<1024?m=$(this,l,p):m=Z(this,l,p),m};function w(l,p){this.x=l,this.y=p}w.prototype.makeRBT=function(l){for(var p=new Array(l),m=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,m,l);return p},w.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},w.prototype.permute=function(l,p,m,n,c,v){for(var N=0;N<v;N++)n[N]=p[l[N]],c[N]=m[l[N]]},w.prototype.transform=function(l,p,m,n,c,v){this.permute(v,l,p,m,n,c);for(var N=1;N<c;N<<=1)for(var d=N<<1,o=Math.cos(2*Math.PI/d),h=Math.sin(2*Math.PI/d),P=0;P<c;P+=d)for(var X=o,k=h,I=0;I<N;I++){var Q=m[P+I],e=n[P+I],B=m[P+I+N],E=n[P+I+N],A=X*B-k*E;E=X*E+k*B,B=A,m[P+I]=Q+B,n[P+I]=e+E,m[P+I+N]=Q-B,n[P+I+N]=e-E,I!==d&&(A=o*X-h*k,k=o*k+h*X,X=A)}},w.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,n=m&1,c=0;for(m=m/2|0;m;m=m>>>1)c++;return 1<<c+1+n},w.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var n=0;n<m/2;n++){var c=l[n];l[n]=l[m-n-1],l[m-n-1]=c,c=p[n],p[n]=-p[m-n-1],p[m-n-1]=-c}},w.prototype.normalize13b=function(l,p){for(var m=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+m;l[n]=c&67108863,c<67108864?m=0:m=c/67108864|0}return l},w.prototype.convert13b=function(l,p,m,n){for(var c=0,v=0;v<p;v++)c=c+(l[v]|0),m[2*v]=c&8191,c=c>>>13,m[2*v+1]=c&8191,c=c>>>13;for(v=2*p;v<n;++v)m[v]=0;V(c===0),V((c&-8192)===0)},w.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},w.prototype.mulp=function(l,p,m){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),v=this.stub(n),N=new Array(n),d=new Array(n),o=new Array(n),h=new Array(n),P=new Array(n),X=new Array(n),k=m.words;k.length=n,this.convert13b(l.words,l.length,N,n),this.convert13b(p.words,p.length,h,n),this.transform(N,v,d,o,n,c),this.transform(h,v,P,X,n,c);for(var I=0;I<n;I++){var Q=d[I]*P[I]-o[I]*X[I];o[I]=d[I]*X[I]+o[I]*P[I],d[I]=Q}return this.conjugate(d,o,n),this.transform(d,o,k,v,n,c),this.conjugate(k,v,n),this.normalize13b(k,n),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){V(typeof l=="number"),V(l<67108864);for(var p=0,m=0;m<this.length;m++){var n=(this.words[m]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[m]=c&67108863}return p!==0&&(this.words[m]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=f(l);if(p.length===0)return new u(1);for(var m=this,n=0;n<p.length&&p[n]===0;n++,m=m.sqr());if(++n<p.length)for(var c=m.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(m=m.mul(c));return m},u.prototype.iushln=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var v=0;for(c=0;c<this.length;c++){var N=this.words[c]&n,d=(this.words[c]|0)-N<<p;this.words[c]=d|v,v=N>>>26-p}v&&(this.words[c]=v,this.length++)}if(m!==0){for(c=this.length-1;c>=0;c--)this.words[c+m]=this.words[c];for(c=0;c<m;c++)this.words[c]=0;this.length+=m}return this.strip()},u.prototype.ishln=function(l){return V(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,m){V(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,v=Math.min((l-c)/26,this.length),N=67108863^67108863>>>c<<c,d=m;if(n-=v,n=Math.max(0,n),d){for(var o=0;o<v;o++)d.words[o]=this.words[o];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,o=0;o<this.length;o++)this.words[o]=this.words[o+v];else this.words[0]=0,this.length=1;var h=0;for(o=this.length-1;o>=0&&(h!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=h<<26-c|P>>>c,h=P&N}return d&&h!==0&&(d.words[d.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,m){return V(this.negative===0),this.iushrn(l,p,m)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return!1;var c=this.words[m];return!!(c&n)},u.prototype.imaskn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(V(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return V(typeof l=="number"),V(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(V(typeof l=="number"),V(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,m){var n=l.length+m,c;this._expand(n);var v,N=0;for(c=0;c<l.length;c++){v=(this.words[c+m]|0)+N;var d=(l.words[c]|0)*p;v-=d&67108863,N=(v>>26)-(d/67108864|0),this.words[c+m]=v&67108863}for(;c<this.length-m;c++)v=(this.words[c+m]|0)+N,N=v>>26,this.words[c+m]=v&67108863;if(N===0)return this.strip();for(V(N===-1),N=0,c=0;c<this.length;c++)v=-(this.words[c]|0)+N,N=v>>26,this.words[c]=v&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var m=this.length-l.length,n=this.clone(),c=l,v=c.words[c.length-1]|0,N=this._countBits(v);m=26-N,m!==0&&(c=c.ushln(m),n.iushln(m),v=c.words[c.length-1]|0);var d=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var P=n.clone()._ishlnsubmul(c,1,d);P.negative===0&&(n=P,o&&(o.words[d]=1));for(var X=d-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/v|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&m!==0&&n.iushrn(m),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,m){if(V(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,v;return this.negative!==0&&l.negative===0?(v=this.neg().divmod(l,p),p!=="mod"&&(n=v.div.neg()),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(v=this.divmod(l.neg(),p),p!=="mod"&&(n=v.div.neg()),{div:n,mod:v.mod}):(this.negative&l.negative)!==0?(v=this.neg().divmod(l.neg(),p),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.isub(l)),{div:v.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),v=m.cmp(n);return v<0||c===1&&v===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){V(l<=67108863);for(var p=67108864%l,m=0,n=this.length-1;n>=0;n--)m=(p*m+(this.words[n]|0))%l;return m},u.prototype.idivn=function(l){V(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var n=(this.words[m]|0)+p*67108864;this.words[m]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=new u(0),N=new u(1),d=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++d;for(var o=m.clone(),h=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(h)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(m.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(v.isOdd()||N.isOdd())&&(v.iadd(o),N.isub(h)),v.iushrn(1),N.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(v),c.isub(N)):(m.isub(p),v.isub(n),N.isub(c))}return{a:v,b:N,gcd:m.iushln(d)}},u.prototype._invmp=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var N=0,d=1;(p.words[0]&d)===0&&N<26;++N,d<<=1);if(N>0)for(p.iushrn(N);N-- >0;)n.isOdd()&&n.iadd(v),n.iushrn(1);for(var o=0,h=1;(m.words[0]&h)===0&&o<26;++o,h<<=1);if(o>0)for(m.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(v),c.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(c)):(m.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var n=0;p.isEven()&&m.isEven();n++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var c=p.cmp(m);if(c<0){var v=p;p=m,m=v}else if(c===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){V(typeof l=="number");var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=n,this;for(var c=n,v=m;c!==0&&v<this.length;v++){var N=this.words[v]|0;N+=c,c=N>>>26,N&=67108863,this.words[v]=N}return c!==0&&(this.words[v]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),V(l<=67108863,"Number is too big");var n=this.words[0]|0;m=n===l?0:n<l?-1:1}return this.negative!==0?-m|0:m},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var n=this.words[m]|0,c=l.words[m]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return V(!this.red,"Already a number in reduction context"),V(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return V(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return V(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return V(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return V(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return V(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return V(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return V(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return V(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return V(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return V(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return V(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return V(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return V(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var n=m<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function R(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(R,g),R.prototype.split=function(l,p){for(var m=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var v=l.words[9];for(p.words[p.length++]=v&m,c=10;c<l.length;c++){var N=l.words[c]|0;l.words[c-10]=(N&m)<<4|v>>>22,v=N}v>>>=22,l.words[c-10]=v,v===0&&l.length>10?l.length-=10:l.length-=9},R.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var n=l.words[m]|0;p+=n*977,l.words[m]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(j,g);function J(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(J,g),J.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var n=(l.words[m]|0)*19+p,c=n&67108863;n>>>=26,l.words[m]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new R;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else V(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){V(l.negative===0,"red works only with positives"),V(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){V((l.negative|p.negative)===0,"red works only with positives"),V(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},H.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(V(p%2===1),p===3){var m=this.m.add(new u(1)).iushrn(2);return this.pow(l,m)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);V(!n.isZero());var v=new u(1).toRed(this),N=v.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(N)!==0;)o.redIAdd(N);for(var h=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(v)!==0;){for(var I=X,Q=0;I.cmp(v)!==0;Q++)I=I.redSqr();V(Q<k);var e=this.pow(h,new u(1).iushln(k-Q-1));P=P.redMul(e),h=e.redSqr(),X=X.redMul(h),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,n=new Array(1<<m);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var v=n[0],N=0,d=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var h=p.words[c],P=o-1;P>=0;P--){var X=h>>P&1;if(v!==n[0]&&(v=this.sqr(v)),X===0&&N===0){d=0;continue}N<<=1,N|=X,d++,!(d!==m&&(c!==0||P!==0))&&(v=this.mul(v,n[N]),d=0,N=0)}o=26}return v},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var m=l.mul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof W>"u"||W,x)}),K8=h1((x,W)=>{(function(q,O){function V(l,p){if(!l)throw new Error(p||"Assertion failed")}function y(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function u(l,p,m){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof q=="object"?q.exports=u:O.BN=u,u.BN=u,u.wordSize=26;var r;try{typeof window<"u"&&typeof window.Buffer<"u"?r=window.Buffer:r=B2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),V(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,m):(this._parseBase(l,p,n),m==="le"&&this._initArray(this.toArray(),p,m)))},u.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(V(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},u.prototype._initArray=function(l,p,m){if(V(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,v,N=0;if(m==="be")for(n=l.length-1,c=0;n>=0;n-=3)v=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);else if(m==="le")for(n=0,c=0;n<l.length;n+=3)v=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);return this.strip()};function z(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function a(l,p,m){var n=z(l,m);return m-1>=p&&(n|=z(l,m-1)<<4),n}u.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,v=0,N;if(m==="be")for(n=l.length-1;n>=p;n-=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8;else{var d=l.length-p;for(n=d%2===0?p+1:p;n<l.length;n+=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8}this.strip()};function L(l,p,m,n){for(var c=0,v=Math.min(l.length,m),N=p;N<v;N++){var d=l.charCodeAt(N)-48;c*=n,d>=49?c+=d-49+10:d>=17?c+=d-17+10:c+=d}return c}u.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var v=l.length-m,N=v%n,d=Math.min(v,v-N)+m,o=0,h=m;h<d;h+=n)o=L(l,h,h+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(N!==0){var P=1;for(o=L(l,h,l.length,p),h=0;h<N;h++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var n=0,c=0,v=0;v<this.length;v++){var N=this.words[v],d=((N<<n|c)&16777215).toString(16);c=N>>>24-n&16777215,c!==0||v!==this.length-1?m=_[6-d.length]+d+m:m=d+m,n+=2,n>=26&&(n-=26,v--)}for(c!==0&&(m=c.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],h=b[l];m="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(h).toString(l);P=P.idivn(h),P.isZero()?m=X+m:m=_[o-X.length]+X+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}V(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&V(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return V(typeof r<"u"),this.toArrayLike(r,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,m){var n=this.byteLength(),c=m||Math.max(1,n);V(n<=c,"byte array longer than desired length"),V(c>0,"Requested array length <= 0"),this.strip();var v=p==="le",N=new l(c),d,o,h=this.clone();if(v){for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[o]=d;for(;o<c;o++)N[o]=0}else{for(o=0;o<c-n;o++)N[o]=0;for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[c-o-1]=d}return N},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return(p&8191)===0&&(m+=13,p>>>=13),(p&127)===0&&(m+=7,p>>>=7),(p&15)===0&&(m+=4,p>>>=4),(p&3)===0&&(m+=2,p>>>=2),(p&1)===0&&m++,m},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function f(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var n=m/26|0,c=m%26;p[m]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return V((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return V((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var n=0;n<m.length;n++)this.words[n]=p.words[n]^m.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return V((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){V(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return m>0&&(this.words[n]=~this.words[n]&67108863>>26-m),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){V(typeof l=="number"&&l>=0);var m=l/26|0,n=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<n:this.words[m]=this.words[m]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,n;this.length>l.length?(m=this,n=l):(m=l,n=this);for(var c=0,v=0;v<n.length;v++)p=(m.words[v]|0)+(n.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;for(;c!==0&&v<m.length;v++)p=(m.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;if(this.length=m.length,c!==0)this.words[this.length]=c,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;m>0?(n=this,c=l):(n=l,c=this);for(var v=0,N=0;N<c.length;N++)p=(n.words[N]|0)-(c.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;for(;v!==0&&N<n.length;N++)p=(n.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;if(v===0&&N<n.length&&n!==this)for(;N<n.length;N++)this.words[N]=n.words[N];return this.length=Math.max(this.length,N),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function M(l,p,m){m.negative=p.negative^l.negative;var n=l.length+p.length|0;m.length=n,n=n-1|0;var c=l.words[0]|0,v=p.words[0]|0,N=c*v,d=N&67108863,o=N/67108864|0;m.words[0]=d;for(var h=1;h<n;h++){for(var P=o>>>26,X=o&67108863,k=Math.min(h,p.length-1),I=Math.max(0,h-l.length+1);I<=k;I++){var Q=h-I|0;c=l.words[Q]|0,v=p.words[I]|0,N=c*v+X,P+=N/67108864|0,X=N&67108863}m.words[h]=X|0,o=P|0}return o!==0?m.words[h]=o|0:m.length--,m.strip()}var T=function(l,p,m){var n=l.words,c=p.words,v=m.words,N=0,d,o,h,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,r1=n[3]|0,n1=r1&8191,c1=r1>>>13,G=n[4]|0,K=G&8191,Y=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,f1=M1&8191,d1=M1>>>13,F1=n[7]|0,y1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,b1=c[0]|0,m1=b1&8191,v1=b1>>>13,j1=c[1]|0,x1=j1&8191,_1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,d2=c[3]|0,q1=d2&8191,L1=d2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,h2=c[5]|0,S1=h2&8191,$1=h2>>>13,y2=c[6]|0,Z1=y2&8191,W1=y2>>>13,v2=c[7]|0,w1=v2&8191,O1=v2>>>13,_2=c[8]|0,R1=_2&8191,s1=_2>>>13,x2=c[9]|0,g1=x2&8191,X1=x2>>>13;m.negative=l.negative^p.negative,m.length=19,d=Math.imul(X,m1),o=Math.imul(X,v1),o=o+Math.imul(k,m1)|0,h=Math.imul(k,v1);var f2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,d=Math.imul(Q,m1),o=Math.imul(Q,v1),o=o+Math.imul(e,m1)|0,h=Math.imul(e,v1),d=d+Math.imul(X,x1)|0,o=o+Math.imul(X,_1)|0,o=o+Math.imul(k,x1)|0,h=h+Math.imul(k,_1)|0;var U1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,d=Math.imul(E,m1),o=Math.imul(E,v1),o=o+Math.imul(A,m1)|0,h=Math.imul(A,v1),d=d+Math.imul(Q,x1)|0,o=o+Math.imul(Q,_1)|0,o=o+Math.imul(e,x1)|0,h=h+Math.imul(e,_1)|0,d=d+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,h=h+Math.imul(k,T1)|0;var K1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,d=Math.imul(n1,m1),o=Math.imul(n1,v1),o=o+Math.imul(c1,m1)|0,h=Math.imul(c1,v1),d=d+Math.imul(E,x1)|0,o=o+Math.imul(E,_1)|0,o=o+Math.imul(A,x1)|0,h=h+Math.imul(A,_1)|0,d=d+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,h=h+Math.imul(e,T1)|0,d=d+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,h=h+Math.imul(k,L1)|0;var D1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,d=Math.imul(K,m1),o=Math.imul(K,v1),o=o+Math.imul(Y,m1)|0,h=Math.imul(Y,v1),d=d+Math.imul(n1,x1)|0,o=o+Math.imul(n1,_1)|0,o=o+Math.imul(c1,x1)|0,h=h+Math.imul(c1,_1)|0,d=d+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,h=h+Math.imul(A,T1)|0,d=d+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,h=h+Math.imul(e,L1)|0,d=d+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,h=h+Math.imul(k,V1)|0;var I1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,d=Math.imul(u1,m1),o=Math.imul(u1,v1),o=o+Math.imul(o1,m1)|0,h=Math.imul(o1,v1),d=d+Math.imul(K,x1)|0,o=o+Math.imul(K,_1)|0,o=o+Math.imul(Y,x1)|0,h=h+Math.imul(Y,_1)|0,d=d+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,h=h+Math.imul(c1,T1)|0,d=d+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,h=h+Math.imul(A,L1)|0,d=d+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,h=h+Math.imul(e,V1)|0,d=d+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,h=h+Math.imul(k,$1)|0;var Y1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,d=Math.imul(f1,m1),o=Math.imul(f1,v1),o=o+Math.imul(d1,m1)|0,h=Math.imul(d1,v1),d=d+Math.imul(u1,x1)|0,o=o+Math.imul(u1,_1)|0,o=o+Math.imul(o1,x1)|0,h=h+Math.imul(o1,_1)|0,d=d+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,h=h+Math.imul(Y,T1)|0,d=d+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,h=h+Math.imul(c1,L1)|0,d=d+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,h=h+Math.imul(A,V1)|0,d=d+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,h=h+Math.imul(e,$1)|0,d=d+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,h=h+Math.imul(k,W1)|0;var t1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,d=Math.imul(y1,m1),o=Math.imul(y1,v1),o=o+Math.imul(a1,m1)|0,h=Math.imul(a1,v1),d=d+Math.imul(f1,x1)|0,o=o+Math.imul(f1,_1)|0,o=o+Math.imul(d1,x1)|0,h=h+Math.imul(d1,_1)|0,d=d+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,h=h+Math.imul(o1,T1)|0,d=d+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,h=h+Math.imul(Y,L1)|0,d=d+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,h=h+Math.imul(c1,V1)|0,d=d+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,h=h+Math.imul(A,$1)|0,d=d+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,h=h+Math.imul(e,W1)|0,d=d+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,h=h+Math.imul(k,O1)|0;var C1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,d=Math.imul(F,m1),o=Math.imul(F,v1),o=o+Math.imul(i,m1)|0,h=Math.imul(i,v1),d=d+Math.imul(y1,x1)|0,o=o+Math.imul(y1,_1)|0,o=o+Math.imul(a1,x1)|0,h=h+Math.imul(a1,_1)|0,d=d+Math.imul(f1,N1)|0,o=o+Math.imul(f1,T1)|0,o=o+Math.imul(d1,N1)|0,h=h+Math.imul(d1,T1)|0,d=d+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,h=h+Math.imul(o1,L1)|0,d=d+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,h=h+Math.imul(Y,V1)|0,d=d+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,h=h+Math.imul(c1,$1)|0,d=d+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,h=h+Math.imul(A,W1)|0,d=d+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,h=h+Math.imul(e,O1)|0,d=d+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,h=h+Math.imul(k,s1)|0;var B1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,d=Math.imul(C,m1),o=Math.imul(C,v1),o=o+Math.imul(l1,m1)|0,h=Math.imul(l1,v1),d=d+Math.imul(F,x1)|0,o=o+Math.imul(F,_1)|0,o=o+Math.imul(i,x1)|0,h=h+Math.imul(i,_1)|0,d=d+Math.imul(y1,N1)|0,o=o+Math.imul(y1,T1)|0,o=o+Math.imul(a1,N1)|0,h=h+Math.imul(a1,T1)|0,d=d+Math.imul(f1,q1)|0,o=o+Math.imul(f1,L1)|0,o=o+Math.imul(d1,q1)|0,h=h+Math.imul(d1,L1)|0,d=d+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,h=h+Math.imul(o1,V1)|0,d=d+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,h=h+Math.imul(Y,$1)|0,d=d+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,h=h+Math.imul(c1,W1)|0,d=d+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,h=h+Math.imul(A,O1)|0,d=d+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,h=h+Math.imul(e,s1)|0,d=d+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,h=h+Math.imul(k,X1)|0;var Q1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,d=Math.imul(C,x1),o=Math.imul(C,_1),o=o+Math.imul(l1,x1)|0,h=Math.imul(l1,_1),d=d+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,h=h+Math.imul(i,T1)|0,d=d+Math.imul(y1,q1)|0,o=o+Math.imul(y1,L1)|0,o=o+Math.imul(a1,q1)|0,h=h+Math.imul(a1,L1)|0,d=d+Math.imul(f1,z1)|0,o=o+Math.imul(f1,V1)|0,o=o+Math.imul(d1,z1)|0,h=h+Math.imul(d1,V1)|0,d=d+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,h=h+Math.imul(o1,$1)|0,d=d+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,h=h+Math.imul(Y,W1)|0,d=d+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,h=h+Math.imul(c1,O1)|0,d=d+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,h=h+Math.imul(A,s1)|0,d=d+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,h=h+Math.imul(e,X1)|0;var e1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,d=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,h=Math.imul(l1,T1),d=d+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,h=h+Math.imul(i,L1)|0,d=d+Math.imul(y1,z1)|0,o=o+Math.imul(y1,V1)|0,o=o+Math.imul(a1,z1)|0,h=h+Math.imul(a1,V1)|0,d=d+Math.imul(f1,S1)|0,o=o+Math.imul(f1,$1)|0,o=o+Math.imul(d1,S1)|0,h=h+Math.imul(d1,$1)|0,d=d+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,h=h+Math.imul(o1,W1)|0,d=d+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,h=h+Math.imul(Y,O1)|0,d=d+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,h=h+Math.imul(c1,s1)|0,d=d+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,h=h+Math.imul(A,X1)|0;var A1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,d=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,h=Math.imul(l1,L1),d=d+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,h=h+Math.imul(i,V1)|0,d=d+Math.imul(y1,S1)|0,o=o+Math.imul(y1,$1)|0,o=o+Math.imul(a1,S1)|0,h=h+Math.imul(a1,$1)|0,d=d+Math.imul(f1,Z1)|0,o=o+Math.imul(f1,W1)|0,o=o+Math.imul(d1,Z1)|0,h=h+Math.imul(d1,W1)|0,d=d+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,h=h+Math.imul(o1,O1)|0,d=d+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,h=h+Math.imul(Y,s1)|0,d=d+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,h=h+Math.imul(c1,X1)|0;var l2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,d=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,h=Math.imul(l1,V1),d=d+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,h=h+Math.imul(i,$1)|0,d=d+Math.imul(y1,Z1)|0,o=o+Math.imul(y1,W1)|0,o=o+Math.imul(a1,Z1)|0,h=h+Math.imul(a1,W1)|0,d=d+Math.imul(f1,w1)|0,o=o+Math.imul(f1,O1)|0,o=o+Math.imul(d1,w1)|0,h=h+Math.imul(d1,O1)|0,d=d+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,h=h+Math.imul(o1,s1)|0,d=d+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,h=h+Math.imul(Y,X1)|0;var o2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,d=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,h=Math.imul(l1,$1),d=d+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,h=h+Math.imul(i,W1)|0,d=d+Math.imul(y1,w1)|0,o=o+Math.imul(y1,O1)|0,o=o+Math.imul(a1,w1)|0,h=h+Math.imul(a1,O1)|0,d=d+Math.imul(f1,R1)|0,o=o+Math.imul(f1,s1)|0,o=o+Math.imul(d1,R1)|0,h=h+Math.imul(d1,s1)|0,d=d+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,h=h+Math.imul(o1,X1)|0;var n2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,d=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,h=Math.imul(l1,W1),d=d+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,h=h+Math.imul(i,O1)|0,d=d+Math.imul(y1,R1)|0,o=o+Math.imul(y1,s1)|0,o=o+Math.imul(a1,R1)|0,h=h+Math.imul(a1,s1)|0,d=d+Math.imul(f1,g1)|0,o=o+Math.imul(f1,X1)|0,o=o+Math.imul(d1,g1)|0,h=h+Math.imul(d1,X1)|0;var p2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,d=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,h=Math.imul(l1,O1),d=d+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,h=h+Math.imul(i,s1)|0,d=d+Math.imul(y1,g1)|0,o=o+Math.imul(y1,X1)|0,o=o+Math.imul(a1,g1)|0,h=h+Math.imul(a1,X1)|0;var u2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,d=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,h=Math.imul(l1,s1),d=d+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,h=h+Math.imul(i,X1)|0;var c2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,d=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,h=Math.imul(l1,X1);var m2=(N+d|0)+((o&8191)<<13)|0;return N=(h+(o>>>13)|0)+(m2>>>26)|0,m2&=67108863,v[0]=f2,v[1]=U1,v[2]=K1,v[3]=D1,v[4]=I1,v[5]=Y1,v[6]=t1,v[7]=C1,v[8]=B1,v[9]=Q1,v[10]=e1,v[11]=A1,v[12]=l2,v[13]=o2,v[14]=n2,v[15]=p2,v[16]=u2,v[17]=c2,v[18]=m2,N!==0&&(v[19]=N,m.length++),m};Math.imul||(T=M);function $(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var n=0,c=0,v=0;v<m.length-1;v++){var N=c;c=0;for(var d=n&67108863,o=Math.min(v,p.length-1),h=Math.max(0,v-l.length+1);h<=o;h++){var P=v-h,X=l.words[P]|0,k=p.words[h]|0,I=X*k,Q=I&67108863;N=N+(I/67108864|0)|0,Q=Q+d|0,d=Q&67108863,N=N+(Q>>>26)|0,c+=N>>>26,N&=67108863}m.words[v]=d,n=N,N=c}return n!==0?m.words[v]=n:m.length--,m.strip()}function Z(l,p,m){var n=new w;return n.mulp(l,p,m)}u.prototype.mulTo=function(l,p){var m,n=this.length+l.length;return this.length===10&&l.length===10?m=T(this,l,p):n<63?m=M(this,l,p):n<1024?m=$(this,l,p):m=Z(this,l,p),m};function w(l,p){this.x=l,this.y=p}w.prototype.makeRBT=function(l){for(var p=new Array(l),m=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,m,l);return p},w.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},w.prototype.permute=function(l,p,m,n,c,v){for(var N=0;N<v;N++)n[N]=p[l[N]],c[N]=m[l[N]]},w.prototype.transform=function(l,p,m,n,c,v){this.permute(v,l,p,m,n,c);for(var N=1;N<c;N<<=1)for(var d=N<<1,o=Math.cos(2*Math.PI/d),h=Math.sin(2*Math.PI/d),P=0;P<c;P+=d)for(var X=o,k=h,I=0;I<N;I++){var Q=m[P+I],e=n[P+I],B=m[P+I+N],E=n[P+I+N],A=X*B-k*E;E=X*E+k*B,B=A,m[P+I]=Q+B,n[P+I]=e+E,m[P+I+N]=Q-B,n[P+I+N]=e-E,I!==d&&(A=o*X-h*k,k=o*k+h*X,X=A)}},w.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,n=m&1,c=0;for(m=m/2|0;m;m=m>>>1)c++;return 1<<c+1+n},w.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var n=0;n<m/2;n++){var c=l[n];l[n]=l[m-n-1],l[m-n-1]=c,c=p[n],p[n]=-p[m-n-1],p[m-n-1]=-c}},w.prototype.normalize13b=function(l,p){for(var m=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+m;l[n]=c&67108863,c<67108864?m=0:m=c/67108864|0}return l},w.prototype.convert13b=function(l,p,m,n){for(var c=0,v=0;v<p;v++)c=c+(l[v]|0),m[2*v]=c&8191,c=c>>>13,m[2*v+1]=c&8191,c=c>>>13;for(v=2*p;v<n;++v)m[v]=0;V(c===0),V((c&-8192)===0)},w.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},w.prototype.mulp=function(l,p,m){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),v=this.stub(n),N=new Array(n),d=new Array(n),o=new Array(n),h=new Array(n),P=new Array(n),X=new Array(n),k=m.words;k.length=n,this.convert13b(l.words,l.length,N,n),this.convert13b(p.words,p.length,h,n),this.transform(N,v,d,o,n,c),this.transform(h,v,P,X,n,c);for(var I=0;I<n;I++){var Q=d[I]*P[I]-o[I]*X[I];o[I]=d[I]*X[I]+o[I]*P[I],d[I]=Q}return this.conjugate(d,o,n),this.transform(d,o,k,v,n,c),this.conjugate(k,v,n),this.normalize13b(k,n),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){V(typeof l=="number"),V(l<67108864);for(var p=0,m=0;m<this.length;m++){var n=(this.words[m]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[m]=c&67108863}return p!==0&&(this.words[m]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=f(l);if(p.length===0)return new u(1);for(var m=this,n=0;n<p.length&&p[n]===0;n++,m=m.sqr());if(++n<p.length)for(var c=m.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(m=m.mul(c));return m},u.prototype.iushln=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var v=0;for(c=0;c<this.length;c++){var N=this.words[c]&n,d=(this.words[c]|0)-N<<p;this.words[c]=d|v,v=N>>>26-p}v&&(this.words[c]=v,this.length++)}if(m!==0){for(c=this.length-1;c>=0;c--)this.words[c+m]=this.words[c];for(c=0;c<m;c++)this.words[c]=0;this.length+=m}return this.strip()},u.prototype.ishln=function(l){return V(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,m){V(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,v=Math.min((l-c)/26,this.length),N=67108863^67108863>>>c<<c,d=m;if(n-=v,n=Math.max(0,n),d){for(var o=0;o<v;o++)d.words[o]=this.words[o];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,o=0;o<this.length;o++)this.words[o]=this.words[o+v];else this.words[0]=0,this.length=1;var h=0;for(o=this.length-1;o>=0&&(h!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=h<<26-c|P>>>c,h=P&N}return d&&h!==0&&(d.words[d.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,m){return V(this.negative===0),this.iushrn(l,p,m)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return!1;var c=this.words[m];return!!(c&n)},u.prototype.imaskn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(V(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return V(typeof l=="number"),V(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(V(typeof l=="number"),V(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,m){var n=l.length+m,c;this._expand(n);var v,N=0;for(c=0;c<l.length;c++){v=(this.words[c+m]|0)+N;var d=(l.words[c]|0)*p;v-=d&67108863,N=(v>>26)-(d/67108864|0),this.words[c+m]=v&67108863}for(;c<this.length-m;c++)v=(this.words[c+m]|0)+N,N=v>>26,this.words[c+m]=v&67108863;if(N===0)return this.strip();for(V(N===-1),N=0,c=0;c<this.length;c++)v=-(this.words[c]|0)+N,N=v>>26,this.words[c]=v&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var m=this.length-l.length,n=this.clone(),c=l,v=c.words[c.length-1]|0,N=this._countBits(v);m=26-N,m!==0&&(c=c.ushln(m),n.iushln(m),v=c.words[c.length-1]|0);var d=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var P=n.clone()._ishlnsubmul(c,1,d);P.negative===0&&(n=P,o&&(o.words[d]=1));for(var X=d-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/v|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&m!==0&&n.iushrn(m),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,m){if(V(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,v;return this.negative!==0&&l.negative===0?(v=this.neg().divmod(l,p),p!=="mod"&&(n=v.div.neg()),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(v=this.divmod(l.neg(),p),p!=="mod"&&(n=v.div.neg()),{div:n,mod:v.mod}):(this.negative&l.negative)!==0?(v=this.neg().divmod(l.neg(),p),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.isub(l)),{div:v.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),v=m.cmp(n);return v<0||c===1&&v===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){V(l<=67108863);for(var p=67108864%l,m=0,n=this.length-1;n>=0;n--)m=(p*m+(this.words[n]|0))%l;return m},u.prototype.idivn=function(l){V(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var n=(this.words[m]|0)+p*67108864;this.words[m]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=new u(0),N=new u(1),d=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++d;for(var o=m.clone(),h=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(h)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(m.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(v.isOdd()||N.isOdd())&&(v.iadd(o),N.isub(h)),v.iushrn(1),N.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(v),c.isub(N)):(m.isub(p),v.isub(n),N.isub(c))}return{a:v,b:N,gcd:m.iushln(d)}},u.prototype._invmp=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var N=0,d=1;(p.words[0]&d)===0&&N<26;++N,d<<=1);if(N>0)for(p.iushrn(N);N-- >0;)n.isOdd()&&n.iadd(v),n.iushrn(1);for(var o=0,h=1;(m.words[0]&h)===0&&o<26;++o,h<<=1);if(o>0)for(m.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(v),c.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(c)):(m.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var n=0;p.isEven()&&m.isEven();n++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var c=p.cmp(m);if(c<0){var v=p;p=m,m=v}else if(c===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){V(typeof l=="number");var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=n,this;for(var c=n,v=m;c!==0&&v<this.length;v++){var N=this.words[v]|0;N+=c,c=N>>>26,N&=67108863,this.words[v]=N}return c!==0&&(this.words[v]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),V(l<=67108863,"Number is too big");var n=this.words[0]|0;m=n===l?0:n<l?-1:1}return this.negative!==0?-m|0:m},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var n=this.words[m]|0,c=l.words[m]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return V(!this.red,"Already a number in reduction context"),V(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return V(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return V(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return V(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return V(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return V(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return V(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return V(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return V(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return V(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return V(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return V(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return V(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return V(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var n=m<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function R(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(R,g),R.prototype.split=function(l,p){for(var m=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var v=l.words[9];for(p.words[p.length++]=v&m,c=10;c<l.length;c++){var N=l.words[c]|0;l.words[c-10]=(N&m)<<4|v>>>22,v=N}v>>>=22,l.words[c-10]=v,v===0&&l.length>10?l.length-=10:l.length-=9},R.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var n=l.words[m]|0;p+=n*977,l.words[m]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(j,g);function J(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(J,g),J.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var n=(l.words[m]|0)*19+p,c=n&67108863;n>>>=26,l.words[m]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new R;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else V(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){V(l.negative===0,"red works only with positives"),V(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){V((l.negative|p.negative)===0,"red works only with positives"),V(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},H.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(V(p%2===1),p===3){var m=this.m.add(new u(1)).iushrn(2);return this.pow(l,m)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);V(!n.isZero());var v=new u(1).toRed(this),N=v.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(N)!==0;)o.redIAdd(N);for(var h=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(v)!==0;){for(var I=X,Q=0;I.cmp(v)!==0;Q++)I=I.redSqr();V(Q<k);var e=this.pow(h,new u(1).iushln(k-Q-1));P=P.redMul(e),h=e.redSqr(),X=X.redMul(h),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,n=new Array(1<<m);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var v=n[0],N=0,d=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var h=p.words[c],P=o-1;P>=0;P--){var X=h>>P&1;if(v!==n[0]&&(v=this.sqr(v)),X===0&&N===0){d=0;continue}N<<=1,N|=X,d++,!(d!==m&&(c!==0||P!==0))&&(v=this.mul(v,n[N]),d=0,N=0)}o=26}return v},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var m=l.mul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof W>"u"||W,x)}),i8=h1(()=>{}),G6=h1((x,W)=>{var q;W.exports=function(y){return q||(q=new O(null)),q.generate(y)};function O(y){this.rand=y}if(W.exports.Rand=O,O.prototype.generate=function(y){return this._rand(y)},O.prototype._rand=function(y){if(this.rand.getBytes)return this.rand.getBytes(y);for(var u=new Uint8Array(y),r=0;r<u.length;r++)u[r]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?O.prototype._rand=function(y){var u=new Uint8Array(y);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?O.prototype._rand=function(y){var u=new Uint8Array(y);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(O.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(V=i8(),typeof V.randomBytes!="function")throw new Error("Not supported");O.prototype._rand=function(y){return V.randomBytes(y)}}catch{}var V}),x5=h1((x,W)=>{var q=K8(),O=G6();function V(y){this.rand=y||new O.Rand}W.exports=V,V.create=function(y){return new V(y)},V.prototype._randbelow=function(y){var u=y.bitLength(),r=Math.ceil(u/8);do var z=new q(this.rand.generate(r));while(z.cmp(y)>=0);return z},V.prototype._randrange=function(y,u){var r=u.sub(y);return y.add(this._randbelow(r))},V.prototype.test=function(y,u,r){var z=y.bitLength(),a=q.mont(y),L=new q(1).toRed(a);u||(u=Math.max(1,z/48|0));for(var _=y.subn(1),S=0;!_.testn(S);S++);for(var b=y.shrn(S),f=_.toRed(a),M=!0;u>0;u--){var T=this._randrange(new q(2),_);r&&r(T);var $=T.toRed(a).redPow(b);if(!($.cmp(L)===0||$.cmp(f)===0)){for(var Z=1;Z<S;Z++){if($=$.redSqr(),$.cmp(L)===0)return!1;if($.cmp(f)===0)break}if(Z===S)return!1}}return M},V.prototype.getDivisor=function(y,u){var r=y.bitLength(),z=q.mont(y),a=new q(1).toRed(z);u||(u=Math.max(1,r/48|0));for(var L=y.subn(1),_=0;!L.testn(_);_++);for(var S=y.shrn(_),b=L.toRed(z);u>0;u--){var f=this._randrange(new q(2),L),M=y.gcd(f);if(M.cmpn(1)!==0)return M;var T=f.toRed(z).redPow(S);if(!(T.cmp(a)===0||T.cmp(b)===0)){for(var $=1;$<_;$++){if(T=T.redSqr(),T.cmp(a)===0)return T.fromRed().subn(1).gcd(y);if(T.cmp(b)===0)break}if($===_)return T=T.redSqr(),T.fromRed().subn(1).gcd(y)}}return!1}}),b5=h1((x,W)=>{var q=m3();W.exports=R,R.simpleSieve=s,R.fermatTest=g;var O=_5(),V=new O(24),y=x5(),u=new y,r=new O(1),z=new O(2),a=new O(5),L=new O(16),_=new O(8),S=new O(10),b=new O(3),f=new O(7),M=new O(11),T=new O(4),$=new O(12),Z=null;function w(){if(Z!==null)return Z;var U=1048576,j=[];j[0]=2;for(var J=1,H=3;H<U;H+=2){for(var D=Math.ceil(Math.sqrt(H)),l=0;l<J&&j[l]<=D&&H%j[l]!==0;l++);J!==l&&j[l]<=D||(j[J++]=H)}return Z=j,j}function s(U){for(var j=w(),J=0;J<j.length;J++)if(U.modn(j[J])===0)return U.cmpn(j[J])===0;return!0}function g(U){var j=O.mont(U);return z.toRed(j).redPow(U.subn(1)).fromRed().cmpn(1)===0}function R(U,j){if(U<16)return j===2||j===5?new O([140,123]):new O([140,39]);j=new O(j);for(var J,H;;){for(J=new O(q(Math.ceil(U/8)));J.bitLength()>U;)J.ishrn(1);if(J.isEven()&&J.iadd(r),J.testn(1)||J.iadd(z),j.cmp(z)){if(!j.cmp(a))for(;J.mod(S).cmp(b);)J.iadd(T)}else for(;J.mod(V).cmp(M);)J.iadd(T);if(H=J.shrn(1),s(H)&&s(J)&&g(H)&&g(J)&&u.test(H)&&u.test(J))return J}}}),j8=h1((x,W)=>{W.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),H8=h1((x,W)=>{var q=_5(),O=x5(),V=new O,y=new q(24),u=new q(11),r=new q(10),z=new q(3),a=new q(7),L=b5(),_=m3();W.exports=T;function S(Z,w){return w=w||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,w)),this._pub=new q(Z),this}function b(Z,w){return w=w||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,w)),this._priv=new q(Z),this}var f={};function M(Z,w){var s=w.toString("hex"),g=[s,Z.toString(16)].join("_");if(g in f)return f[g];var R=0;if(Z.isEven()||!L.simpleSieve||!L.fermatTest(Z)||!V.test(Z))return R+=1,s==="02"||s==="05"?R+=8:R+=4,f[g]=R,R;V.test(Z.shrn(1))||(R+=2);var U;switch(s){case"02":Z.mod(y).cmp(u)&&(R+=8);break;case"05":U=Z.mod(r),U.cmp(z)&&U.cmp(a)&&(R+=8);break;default:R+=4}return f[g]=R,R}function T(Z,w,s){this.setGenerator(w),this.__prime=new q(Z),this._prime=q.mont(this.__prime),this._primeLen=Z.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,s?(this.setPublicKey=S,this.setPrivateKey=b):this._primeCode=8}Object.defineProperty(T.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=M(this.__prime,this.__gen)),this._primeCode}}),T.prototype.generateKeys=function(){return this._priv||(this._priv=new q(_(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},T.prototype.computeSecret=function(Z){Z=new q(Z),Z=Z.toRed(this._prime);var w=Z.redPow(this._priv).fromRed(),s=new Buffer(w.toArray()),g=this.getPrime();if(s.length<g.length){var R=new Buffer(g.length-s.length);R.fill(0),s=Buffer.concat([R,s])}return s},T.prototype.getPublicKey=function(Z){return $(this._pub,Z)},T.prototype.getPrivateKey=function(Z){return $(this._priv,Z)},T.prototype.getPrime=function(Z){return $(this.__prime,Z)},T.prototype.getGenerator=function(Z){return $(this._gen,Z)},T.prototype.setGenerator=function(Z,w){return w=w||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,w)),this.__gen=Z,this._gen=new q(Z),this};function $(Z,w){var s=new Buffer(Z.toArray());return w?s.toString(w):s}}),J8=h1((x)=>{var W=b5(),q=j8(),O=H8();function V(r){var z=new Buffer(q[r].prime,"hex"),a=new Buffer(q[r].gen,"hex");return new O(z,a)}var y={binary:!0,hex:!0,base64:!0};function u(r,z,a,L){return Buffer.isBuffer(z)||y[z]===void 0?u(r,"binary",z,a):(z=z||"binary",L=L||"binary",a=a||new Buffer([2]),Buffer.isBuffer(a)||(a=new Buffer(a,L)),typeof r=="number"?new O(W(r,a),a,!0):(Buffer.isBuffer(r)||(r=new Buffer(r,z)),new O(r,a,!0)))}x.DiffieHellmanGroup=x.createDiffieHellmanGroup=x.getDiffieHellman=V,x.createDiffieHellman=x.DiffieHellman=u}),L5=h1((x,W)=>{W.exports=I2().EventEmitter}),G8=h1((x,W)=>{function q(f,M){var T=Object.keys(f);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(f);M&&($=$.filter(function(Z){return Object.getOwnPropertyDescriptor(f,Z).enumerable})),T.push.apply(T,$)}return T}function O(f){for(var M=1;M<arguments.length;M++){var T=arguments[M]!=null?arguments[M]:{};M%2?q(Object(T),!0).forEach(function($){V(f,$,T[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(T)):q(Object(T)).forEach(function($){Object.defineProperty(f,$,Object.getOwnPropertyDescriptor(T,$))})}return f}function V(f,M,T){return M in f?Object.defineProperty(f,M,{value:T,enumerable:!0,configurable:!0,writable:!0}):f[M]=T,f}function y(f,M){if(!(f instanceof M))throw new TypeError("Cannot call a class as a function")}function u(f,M){for(var T=0;T<M.length;T++){var $=M[T];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(f,$.key,$)}}function r(f,M,T){return M&&u(f.prototype,M),T&&u(f,T),f}var z=N2(),a=z.Buffer,L=B3(),_=L.inspect,S=_&&_.custom||"inspect";function b(f,M,T){a.prototype.copy.call(f,M,T)}W.exports=function(){function f(){y(this,f),this.head=null,this.tail=null,this.length=0}return r(f,[{key:"push",value:function(M){var T={data:M,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(M){var T={data:M,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var M=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,M}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(M){if(this.length===0)return"";for(var T=this.head,$=""+T.data;T=T.next;)$+=M+T.data;return $}},{key:"concat",value:function(M){if(this.length===0)return a.alloc(0);for(var T=a.allocUnsafe(M>>>0),$=this.head,Z=0;$;)b($.data,T,Z),Z+=$.data.length,$=$.next;return T}},{key:"consume",value:function(M,T){var $;return M<this.head.data.length?($=this.head.data.slice(0,M),this.head.data=this.head.data.slice(M)):M===this.head.data.length?$=this.shift():$=T?this._getString(M):this._getBuffer(M),$}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(M){var T=this.head,$=1,Z=T.data;for(M-=Z.length;T=T.next;){var w=T.data,s=M>w.length?w.length:M;if(s===w.length?Z+=w:Z+=w.slice(0,M),M-=s,M===0){s===w.length?(++$,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=w.slice(s));break}++$}return this.length-=$,Z}},{key:"_getBuffer",value:function(M){var T=a.allocUnsafe(M),$=this.head,Z=1;for($.data.copy(T),M-=$.data.length;$=$.next;){var w=$.data,s=M>w.length?w.length:M;if(w.copy(T,T.length-M,0,s),M-=s,M===0){s===w.length?(++Z,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=w.slice(s));break}++Z}return this.length-=Z,T}},{key:S,value:function(M,T){return _(this,O({},T,{depth:0,customInspect:!1}))}}]),f}()}),q5=h1((x,W)=>{function q(z,a){var L=this,_=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return _||S?(a?a(z):z&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,z)):process.nextTick(u,this,z)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(z||null,function(b){!a&&b?L._writableState?L._writableState.errorEmitted?process.nextTick(V,L):(L._writableState.errorEmitted=!0,process.nextTick(O,L,b)):process.nextTick(O,L,b):a?(process.nextTick(V,L),a(b)):process.nextTick(V,L)}),this)}function O(z,a){u(z,a),V(z)}function V(z){z._writableState&&!z._writableState.emitClose||z._readableState&&!z._readableState.emitClose||z.emit("close")}function y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(z,a){z.emit("error",a)}function r(z,a){var{_readableState:L,_writableState:_}=z;L&&L.autoDestroy||_&&_.autoDestroy?z.destroy(a):z.emit("error",a)}W.exports={destroy:q,undestroy:y,errorOrDestroy:r}}),h3=h1((x,W)=>{function q(a,L){a.prototype=Object.create(L.prototype),a.prototype.constructor=a,a.__proto__=L}var O={};function V(a,L,_){_||(_=Error);function S(f,M,T){return typeof L=="string"?L:L(f,M,T)}var b=function(f){q(M,f);function M(T,$,Z){return f.call(this,S(T,$,Z))||this}return M}(_);b.prototype.name=_.name,b.prototype.code=a,O[a]=b}function y(a,L){if(Array.isArray(a)){var _=a.length;return a=a.map(function(S){return String(S)}),_>2?"one of ".concat(L," ").concat(a.slice(0,_-1).join(", "),", or ")+a[_-1]:_===2?"one of ".concat(L," ").concat(a[0]," or ").concat(a[1]):"of ".concat(L," ").concat(a[0])}else return"of ".concat(L," ").concat(String(a))}function u(a,L,_){return a.substr(!_||_<0?0:+_,L.length)===L}function r(a,L,_){return(_===void 0||_>a.length)&&(_=a.length),a.substring(_-L.length,_)===L}function z(a,L,_){return typeof _!="number"&&(_=0),_+L.length>a.length?!1:a.indexOf(L,_)!==-1}V("ERR_INVALID_OPT_VALUE",function(a,L){return'The value "'+L+'" is invalid for option "'+a+'"'},TypeError),V("ERR_INVALID_ARG_TYPE",function(a,L,_){var S;typeof L=="string"&&u(L,"not ")?(S="must not be",L=L.replace(/^not /,"")):S="must be";var b;if(r(a," argument"))b="The ".concat(a," ").concat(S," ").concat(y(L,"type"));else{var f=z(a,".")?"property":"argument";b='The "'.concat(a,'" ').concat(f," ").concat(S," ").concat(y(L,"type"))}return b+=". Received type ".concat(typeof _),b},TypeError),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),V("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),V("ERR_STREAM_PREMATURE_CLOSE","Premature close"),V("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),V("ERR_STREAM_WRITE_AFTER_END","write after end"),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),W.exports.codes=O}),N5=h1((x,W)=>{var q=h3().codes.ERR_INVALID_OPT_VALUE;function O(y,u,r){return y.highWaterMark!=null?y.highWaterMark:u?y[r]:null}function V(y,u,r,z){var a=O(u,z,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var L=z?r:"highWaterMark";throw new q(L,a)}return Math.floor(a)}return y.objectMode?16:16384}W.exports={getHighWaterMark:V}}),T5=h1((x,W)=>{W.exports=H;function q(B){var E=this;this.next=null,this.entry=null,this.finish=function(){e(E,B)}}var O;H.WritableState=j;var V={deprecate:K0()},y=L5(),u=N2().Buffer,r=global.Uint8Array||function(){};function z(B){return u.from(B)}function a(B){return u.isBuffer(B)||B instanceof r}var L=q5(),_=N5(),S=_.getHighWaterMark,b=h3().codes,f=b.ERR_INVALID_ARG_TYPE,M=b.ERR_METHOD_NOT_IMPLEMENTED,T=b.ERR_MULTIPLE_CALLBACK,$=b.ERR_STREAM_CANNOT_PIPE,Z=b.ERR_STREAM_DESTROYED,w=b.ERR_STREAM_NULL_VALUES,s=b.ERR_STREAM_WRITE_AFTER_END,g=b.ERR_UNKNOWN_ENCODING,R=L.errorOrDestroy;i1()(H,y);function U(){}function j(B,E,A){O=O||y3(),B=B||{},typeof A!="boolean"&&(A=E instanceof O),this.objectMode=!!B.objectMode,A&&(this.objectMode=this.objectMode||!!B.writableObjectMode),this.highWaterMark=S(this,B,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r1=B.decodeStrings===!1;this.decodeStrings=!r1,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n1){N(E,n1)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new q(this)}j.prototype.getBuffer=function(){for(var B=this.bufferedRequest,E=[];B;)E.push(B),B=B.next;return E},function(){try{Object.defineProperty(j.prototype,"buffer",{get:V.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(B){return J.call(this,B)?!0:this!==H?!1:B&&B._writableState instanceof j}})):J=function(B){return B instanceof this};function H(B){O=O||y3();var E=this instanceof O;if(!E&&!J.call(H,this))return new H(B);this._writableState=new j(B,this,E),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),y.call(this)}H.prototype.pipe=function(){R(this,new $)};function D(B,E){var A=new s;R(B,A),process.nextTick(E,A)}function l(B,E,A,r1){var n1;return A===null?n1=new w:typeof A!="string"&&!E.objectMode&&(n1=new f("chunk",["string","Buffer"],A)),n1?(R(B,n1),process.nextTick(r1,n1),!1):!0}H.prototype.write=function(B,E,A){var r1=this._writableState,n1=!1,c1=!r1.objectMode&&a(B);return c1&&!u.isBuffer(B)&&(B=z(B)),typeof E=="function"&&(A=E,E=null),c1?E="buffer":E||(E=r1.defaultEncoding),typeof A!="function"&&(A=U),r1.ending?D(this,A):(c1||l(this,r1,B,A))&&(r1.pendingcb++,n1=m(this,r1,c1,B,E,A)),n1},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,!B.writing&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&h(this,B))},H.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new g(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function p(B,E,A){return!B.objectMode&&B.decodeStrings!==!1&&typeof E=="string"&&(E=u.from(E,A)),E}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(B,E,A,r1,n1,c1){if(!A){var G=p(E,r1,n1);r1!==G&&(A=!0,n1="buffer",r1=G)}var K=E.objectMode?1:r1.length;E.length+=K;var Y=E.length<E.highWaterMark;if(Y||(E.needDrain=!0),E.writing||E.corked){var p1=E.lastBufferedRequest;E.lastBufferedRequest={chunk:r1,encoding:n1,isBuf:A,callback:c1,next:null},p1?p1.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else n(B,E,!1,K,r1,n1,c1);return Y}function n(B,E,A,r1,n1,c1,G){E.writelen=r1,E.writecb=G,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new Z("write")):A?B._writev(n1,E.onwrite):B._write(n1,c1,E.onwrite),E.sync=!1}function c(B,E,A,r1,n1){--E.pendingcb,A?(process.nextTick(n1,r1),process.nextTick(I,B,E),B._writableState.errorEmitted=!0,R(B,r1)):(n1(r1),B._writableState.errorEmitted=!0,R(B,r1),I(B,E))}function v(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}function N(B,E){var A=B._writableState,r1=A.sync,n1=A.writecb;if(typeof n1!="function")throw new T;if(v(A),E)c(B,A,r1,E,n1);else{var c1=P(A)||B.destroyed;!c1&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&h(B,A),r1?process.nextTick(d,B,A,c1,n1):d(B,A,c1,n1)}}function d(B,E,A,r1){A||o(B,E),E.pendingcb--,r1(),I(B,E)}function o(B,E){E.length===0&&E.needDrain&&(E.needDrain=!1,B.emit("drain"))}function h(B,E){E.bufferProcessing=!0;var A=E.bufferedRequest;if(B._writev&&A&&A.next){var r1=E.bufferedRequestCount,n1=new Array(r1),c1=E.corkedRequestsFree;c1.entry=A;for(var G=0,K=!0;A;)n1[G]=A,A.isBuf||(K=!1),A=A.next,G+=1;n1.allBuffers=K,n(B,E,!0,E.length,n1,"",c1.finish),E.pendingcb++,E.lastBufferedRequest=null,c1.next?(E.corkedRequestsFree=c1.next,c1.next=null):E.corkedRequestsFree=new q(E),E.bufferedRequestCount=0}else{for(;A;){var{chunk:Y,encoding:p1,callback:u1}=A,o1=E.objectMode?1:Y.length;if(n(B,E,!1,o1,Y,p1,u1),A=A.next,E.bufferedRequestCount--,E.writing)break}A===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=A,E.bufferProcessing=!1}H.prototype._write=function(B,E,A){A(new M("_write()"))},H.prototype._writev=null,H.prototype.end=function(B,E,A){var r1=this._writableState;return typeof B=="function"?(A=B,B=null,E=null):typeof E=="function"&&(A=E,E=null),B!=null&&this.write(B,E),r1.corked&&(r1.corked=1,this.uncork()),r1.ending||Q(this,r1,A),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function X(B,E){B._final(function(A){E.pendingcb--,A&&R(B,A),E.prefinished=!0,B.emit("prefinish"),I(B,E)})}function k(B,E){!E.prefinished&&!E.finalCalled&&(typeof B._final=="function"&&!E.destroyed?(E.pendingcb++,E.finalCalled=!0,process.nextTick(X,B,E)):(E.prefinished=!0,B.emit("prefinish")))}function I(B,E){var A=P(E);if(A&&(k(B,E),E.pendingcb===0&&(E.finished=!0,B.emit("finish"),E.autoDestroy))){var r1=B._readableState;(!r1||r1.autoDestroy&&r1.endEmitted)&&B.destroy()}return A}function Q(B,E,A){E.ending=!0,I(B,E),A&&(E.finished?process.nextTick(A):B.once("finish",A)),E.ended=!0,B.writable=!1}function e(B,E,A){var r1=B.entry;for(B.entry=null;r1;){var n1=r1.callback;E.pendingcb--,n1(A),r1=r1.next}E.corkedRequestsFree.next=B}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){!this._writableState||(this._writableState.destroyed=B)}}),H.prototype.destroy=L.destroy,H.prototype._undestroy=L.undestroy,H.prototype._destroy=function(B,E){E(B)}}),y3=h1((x,W)=>{var q=Object.keys||function(_){var S=[];for(var b in _)S.push(b);return S};W.exports=z;var O=M5(),V=T5();i1()(z,O);for(y=q(V.prototype),r=0;r<y.length;r++)u=y[r],z.prototype[u]||(z.prototype[u]=V.prototype[u]);var y,u,r;function z(_){if(!(this instanceof z))return new z(_);O.call(this,_),V.call(this,_),this.allowHalfOpen=!0,_&&(_.readable===!1&&(this.readable=!1),_.writable===!1&&(this.writable=!1),_.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(L,this)}function L(_){_.end()}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})}),E6=h1((x,W)=>{var q=h3().codes.ERR_STREAM_PREMATURE_CLOSE;function O(r){var z=!1;return function(){if(!z){z=!0;for(var a=arguments.length,L=new Array(a),_=0;_<a;_++)L[_]=arguments[_];r.apply(this,L)}}}function V(){}function y(r){return r.setHeader&&typeof r.abort=="function"}function u(r,z,a){if(typeof z=="function")return u(r,null,z);z||(z={}),a=O(a||V);var L=z.readable||z.readable!==!1&&r.readable,_=z.writable||z.writable!==!1&&r.writable,S=function(){r.writable||f()},b=r._writableState&&r._writableState.finished,f=function(){_=!1,b=!0,L||a.call(r)},M=r._readableState&&r._readableState.endEmitted,T=function(){L=!1,M=!0,_||a.call(r)},$=function(s){a.call(r,s)},Z=function(){var s;if(L&&!M)return(!r._readableState||!r._readableState.ended)&&(s=new q),a.call(r,s);if(_&&!b)return(!r._writableState||!r._writableState.ended)&&(s=new q),a.call(r,s)},w=function(){r.req.on("finish",f)};return y(r)?(r.on("complete",f),r.on("abort",Z),r.req?w():r.on("request",w)):_&&!r._writableState&&(r.on("end",S),r.on("close",S)),r.on("end",T),r.on("finish",f),z.error!==!1&&r.on("error",$),r.on("close",Z),function(){r.removeListener("complete",f),r.removeListener("abort",Z),r.removeListener("request",w),r.req&&r.req.removeListener("finish",f),r.removeListener("end",S),r.removeListener("close",S),r.removeListener("finish",f),r.removeListener("end",T),r.removeListener("error",$),r.removeListener("close",Z)}}W.exports=u}),E8=h1((x,W)=>{var q;function O(w,s,g){return s in w?Object.defineProperty(w,s,{value:g,enumerable:!0,configurable:!0,writable:!0}):w[s]=g,w}var V=E6(),y=Symbol("lastResolve"),u=Symbol("lastReject"),r=Symbol("error"),z=Symbol("ended"),a=Symbol("lastPromise"),L=Symbol("handlePromise"),_=Symbol("stream");function S(w,s){return{value:w,done:s}}function b(w){var s=w[y];if(s!==null){var g=w[_].read();g!==null&&(w[a]=null,w[y]=null,w[u]=null,s(S(g,!1)))}}function f(w){process.nextTick(b,w)}function M(w,s){return function(g,R){w.then(function(){if(s[z]){g(S(void 0,!0));return}s[L](g,R)},R)}}var T=Object.getPrototypeOf(function(){}),$=Object.setPrototypeOf((q={get stream(){return this[_]},next:function(){var w=this,s=this[r];if(s!==null)return Promise.reject(s);if(this[z])return Promise.resolve(S(void 0,!0));if(this[_].destroyed)return new Promise(function(j,J){process.nextTick(function(){w[r]?J(w[r]):j(S(void 0,!0))})});var g=this[a],R;if(g)R=new Promise(M(g,this));else{var U=this[_].read();if(U!==null)return Promise.resolve(S(U,!1));R=new Promise(this[L])}return this[a]=R,R}},O(q,Symbol.asyncIterator,function(){return this}),O(q,"return",function(){var w=this;return new Promise(function(s,g){w[_].destroy(null,function(R){if(R){g(R);return}s(S(void 0,!0))})})}),q),T),Z=function(w){var s,g=Object.create($,(s={},O(s,_,{value:w,writable:!0}),O(s,y,{value:null,writable:!0}),O(s,u,{value:null,writable:!0}),O(s,r,{value:null,writable:!0}),O(s,z,{value:w._readableState.endEmitted,writable:!0}),O(s,L,{value:function(R,U){var j=g[_].read();j?(g[a]=null,g[y]=null,g[u]=null,R(S(j,!1))):(g[y]=R,g[u]=U)},writable:!0}),s));return g[a]=null,V(w,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=g[u];U!==null&&(g[a]=null,g[y]=null,g[u]=null,U(R)),g[r]=R;return}var j=g[y];j!==null&&(g[a]=null,g[y]=null,g[u]=null,j(S(void 0,!0))),g[z]=!0}),w.on("readable",f.bind(null,g)),g};W.exports=Z}),D8=h1((x,W)=>{W.exports=function(){throw new Error("Readable.from is not available in the browser")}}),M5=h1((x,W)=>{W.exports=l;var q;l.ReadableState=D;var O=I2().EventEmitter,V=function(G,K){return G.listeners(K).length},y=L5(),u=N2().Buffer,r=global.Uint8Array||function(){};function z(G){return u.from(G)}function a(G){return u.isBuffer(G)||G instanceof r}var L=B3(),_;L&&L.debuglog?_=L.debuglog("stream"):_=function(){};var S=G8(),b=q5(),f=N5(),M=f.getHighWaterMark,T=h3().codes,$=T.ERR_INVALID_ARG_TYPE,Z=T.ERR_STREAM_PUSH_AFTER_EOF,w=T.ERR_METHOD_NOT_IMPLEMENTED,s=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g,R,U;i1()(l,y);var j=b.errorOrDestroy,J=["error","close","destroy","pause","resume"];function H(G,K,Y){if(typeof G.prependListener=="function")return G.prependListener(K,Y);!G._events||!G._events[K]?G.on(K,Y):Array.isArray(G._events[K])?G._events[K].unshift(Y):G._events[K]=[Y,G._events[K]]}function D(G,K,Y){q=q||y3(),G=G||{},typeof Y!="boolean"&&(Y=K instanceof q),this.objectMode=!!G.objectMode,Y&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=M(this,G,"readableHighWaterMark",Y),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(g||(g=(Q3(),S2(z3)).StringDecoder),this.decoder=new g(G.encoding),this.encoding=G.encoding)}function l(G){if(q=q||y3(),!(this instanceof l))return new l(G);var K=this instanceof q;this._readableState=new D(G,this,K),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),y.call(this)}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){!this._readableState||(this._readableState.destroyed=G)}}),l.prototype.destroy=b.destroy,l.prototype._undestroy=b.undestroy,l.prototype._destroy=function(G,K){K(G)},l.prototype.push=function(G,K){var Y=this._readableState,p1;return Y.objectMode?p1=!0:typeof G=="string"&&(K=K||Y.defaultEncoding,K!==Y.encoding&&(G=u.from(G,K),K=""),p1=!0),p(this,G,K,!1,p1)},l.prototype.unshift=function(G){return p(this,G,null,!0,!1)};function p(G,K,Y,p1,u1){_("readableAddChunk",K);var o1=G._readableState;if(K===null)o1.reading=!1,d(G,o1);else{var M1;if(u1||(M1=n(o1,K)),M1)j(G,M1);else if(o1.objectMode||K&&K.length>0)if(typeof K!="string"&&!o1.objectMode&&Object.getPrototypeOf(K)!==u.prototype&&(K=z(K)),p1)o1.endEmitted?j(G,new s):m(G,o1,K,!0);else if(o1.ended)j(G,new Z);else{if(o1.destroyed)return!1;o1.reading=!1,o1.decoder&&!Y?(K=o1.decoder.write(K),o1.objectMode||K.length!==0?m(G,o1,K,!1):P(G,o1)):m(G,o1,K,!1)}else p1||(o1.reading=!1,P(G,o1))}return!o1.ended&&(o1.length<o1.highWaterMark||o1.length===0)}function m(G,K,Y,p1){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,G.emit("data",Y)):(K.length+=K.objectMode?1:Y.length,p1?K.buffer.unshift(Y):K.buffer.push(Y),K.needReadable&&o(G)),P(G,K)}function n(G,K){var Y;return!a(K)&&typeof K!="string"&&K!==void 0&&!G.objectMode&&(Y=new $("chunk",["string","Buffer","Uint8Array"],K)),Y}l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(G){g||(g=(Q3(),S2(z3)).StringDecoder);var K=new g(G);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,p1="";Y!==null;)p1+=K.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),p1!==""&&this._readableState.buffer.push(p1),this._readableState.length=p1.length,this};var c=1073741824;function v(G){return G>=c?G=c:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function N(G,K){return G<=0||K.length===0&&K.ended?0:K.objectMode?1:G!==G?K.flowing&&K.length?K.buffer.head.data.length:K.length:(G>K.highWaterMark&&(K.highWaterMark=v(G)),G<=K.length?G:K.ended?K.length:(K.needReadable=!0,0))}l.prototype.read=function(G){_("read",G),G=parseInt(G,10);var K=this._readableState,Y=G;if(G!==0&&(K.emittedReadable=!1),G===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return _("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?r1(this):o(this),null;if(G=N(G,K),G===0&&K.ended)return K.length===0&&r1(this),null;var p1=K.needReadable;_("need readable",p1),(K.length===0||K.length-G<K.highWaterMark)&&(p1=!0,_("length less than watermark",p1)),K.ended||K.reading?(p1=!1,_("reading or ended",p1)):p1&&(_("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(G=N(Y,K)));var u1;return G>0?u1=A(G,K):u1=null,u1===null?(K.needReadable=K.length<=K.highWaterMark,G=0):(K.length-=G,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),Y!==G&&K.ended&&r1(this)),u1!==null&&this.emit("data",u1),u1};function d(G,K){if(_("onEofChunk"),!K.ended){if(K.decoder){var Y=K.decoder.end();Y&&Y.length&&(K.buffer.push(Y),K.length+=K.objectMode?1:Y.length)}K.ended=!0,K.sync?o(G):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,h(G)))}}function o(G){var K=G._readableState;_("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(_("emitReadable",K.flowing),K.emittedReadable=!0,process.nextTick(h,G))}function h(G){var K=G._readableState;_("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(G.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,E(G)}function P(G,K){K.readingMore||(K.readingMore=!0,process.nextTick(X,G,K))}function X(G,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var Y=K.length;if(_("maybeReadMore read 0"),G.read(0),Y===K.length)break}K.readingMore=!1}l.prototype._read=function(G){j(this,new w("_read()"))},l.prototype.pipe=function(G,K){var Y=this,p1=this._readableState;switch(p1.pipesCount){case 0:p1.pipes=G;break;case 1:p1.pipes=[p1.pipes,G];break;default:p1.pipes.push(G);break}p1.pipesCount+=1,_("pipe count=%d opts=%j",p1.pipesCount,K);var u1=(!K||K.end!==!1)&&G!==process.stdout&&G!==process.stderr,o1=u1?f1:t;p1.endEmitted?process.nextTick(o1):Y.once("end",o1),G.on("unpipe",M1);function M1(C,l1){_("onunpipe"),C===Y&&l1&&l1.hasUnpiped===!1&&(l1.hasUnpiped=!0,y1())}function f1(){_("onend"),G.end()}var d1=k(Y);G.on("drain",d1);var F1=!1;function y1(){_("cleanup"),G.removeListener("close",F),G.removeListener("finish",i),G.removeListener("drain",d1),G.removeListener("error",k1),G.removeListener("unpipe",M1),Y.removeListener("end",f1),Y.removeListener("end",t),Y.removeListener("data",a1),F1=!0,p1.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&d1()}Y.on("data",a1);function a1(C){_("ondata");var l1=G.write(C);_("dest.write",l1),l1===!1&&((p1.pipesCount===1&&p1.pipes===G||p1.pipesCount>1&&c1(p1.pipes,G)!==-1)&&!F1&&(_("false write response, pause",p1.awaitDrain),p1.awaitDrain++),Y.pause())}function k1(C){_("onerror",C),t(),G.removeListener("error",k1),V(G,"error")===0&&j(G,C)}H(G,"error",k1);function F(){G.removeListener("finish",i),t()}G.once("close",F);function i(){_("onfinish"),G.removeListener("close",F),t()}G.once("finish",i);function t(){_("unpipe"),Y.unpipe(G)}return G.emit("pipe",Y),p1.flowing||(_("pipe resume"),Y.resume()),G};function k(G){return function(){var K=G._readableState;_("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&V(G,"data")&&(K.flowing=!0,E(G))}}l.prototype.unpipe=function(G){var K=this._readableState,Y={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return G&&G!==K.pipes?this:(G||(G=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,G&&G.emit("unpipe",this,Y),this);if(!G){var{pipes:p1,pipesCount:u1}=K;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var o1=0;o1<u1;o1++)p1[o1].emit("unpipe",this,{hasUnpiped:!1});return this}var M1=c1(K.pipes,G);return M1===-1?this:(K.pipes.splice(M1,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),G.emit("unpipe",this,Y),this)},l.prototype.on=function(G,K){var Y=y.prototype.on.call(this,G,K),p1=this._readableState;return G==="data"?(p1.readableListening=this.listenerCount("readable")>0,p1.flowing!==!1&&this.resume()):G==="readable"&&!p1.endEmitted&&!p1.readableListening&&(p1.readableListening=p1.needReadable=!0,p1.flowing=!1,p1.emittedReadable=!1,_("on readable",p1.length,p1.reading),p1.length?o(this):p1.reading||process.nextTick(Q,this)),Y},l.prototype.addListener=l.prototype.on,l.prototype.removeListener=function(G,K){var Y=y.prototype.removeListener.call(this,G,K);return G==="readable"&&process.nextTick(I,this),Y},l.prototype.removeAllListeners=function(G){var K=y.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&process.nextTick(I,this),K};function I(G){var K=G._readableState;K.readableListening=G.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:G.listenerCount("data")>0&&G.resume()}function Q(G){_("readable nexttick read 0"),G.read(0)}l.prototype.resume=function(){var G=this._readableState;return G.flowing||(_("resume"),G.flowing=!G.readableListening,e(this,G)),G.paused=!1,this};function e(G,K){K.resumeScheduled||(K.resumeScheduled=!0,process.nextTick(B,G,K))}function B(G,K){_("resume",K.reading),K.reading||G.read(0),K.resumeScheduled=!1,G.emit("resume"),E(G),K.flowing&&!K.reading&&G.read(0)}l.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function E(G){var K=G._readableState;for(_("flow",K.flowing);K.flowing&&G.read()!==null;);}l.prototype.wrap=function(G){var K=this,Y=this._readableState,p1=!1;G.on("end",function(){if(_("wrapped end"),Y.decoder&&!Y.ended){var M1=Y.decoder.end();M1&&M1.length&&K.push(M1)}K.push(null)}),G.on("data",function(M1){if(_("wrapped data"),Y.decoder&&(M1=Y.decoder.write(M1)),!(Y.objectMode&&M1==null)&&!(!Y.objectMode&&(!M1||!M1.length))){var f1=K.push(M1);f1||(p1=!0,G.pause())}});for(var u1 in G)this[u1]===void 0&&typeof G[u1]=="function"&&(this[u1]=function(M1){return function(){return G[M1].apply(G,arguments)}}(u1));for(var o1=0;o1<J.length;o1++)G.on(J[o1],this.emit.bind(this,J[o1]));return this._read=function(M1){_("wrapped _read",M1),p1&&(p1=!1,G.resume())},this},typeof Symbol=="function"&&(l.prototype[Symbol.asyncIterator]=function(){return R===void 0&&(R=E8()),R(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),l._fromList=A,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(G,K){if(K.length===0)return null;var Y;return K.objectMode?Y=K.buffer.shift():!G||G>=K.length?(K.decoder?Y=K.buffer.join(""):K.buffer.length===1?Y=K.buffer.first():Y=K.buffer.concat(K.length),K.buffer.clear()):Y=K.buffer.consume(G,K.decoder),Y}function r1(G){var K=G._readableState;_("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,process.nextTick(n1,K,G))}function n1(G,K){if(_("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,K.readable=!1,K.emit("end"),G.autoDestroy)){var Y=K._writableState;(!Y||Y.autoDestroy&&Y.finished)&&K.destroy()}}typeof Symbol=="function"&&(l.from=function(G,K){return U===void 0&&(U=D8()),U(l,G,K)});function c1(G,K){for(var Y=0,p1=G.length;Y<p1;Y++)if(G[Y]===K)return Y;return-1}}),z5=h1((x,W)=>{W.exports=a;var q=h3().codes,O=q.ERR_METHOD_NOT_IMPLEMENTED,V=q.ERR_MULTIPLE_CALLBACK,y=q.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=q.ERR_TRANSFORM_WITH_LENGTH_0,r=y3();i1()(a,r);function z(S,b){var f=this._transformState;f.transforming=!1;var M=f.writecb;if(M===null)return this.emit("error",new V);f.writechunk=null,f.writecb=null,b!=null&&this.push(b),M(S);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function a(S){if(!(this instanceof a))return new a(S);r.call(this,S),this._transformState={afterTransform:z.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&(typeof S.transform=="function"&&(this._transform=S.transform),typeof S.flush=="function"&&(this._flush=S.flush)),this.on("prefinish",L)}function L(){var S=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,f){_(S,b,f)}):_(this,null,null)}a.prototype.push=function(S,b){return this._transformState.needTransform=!1,r.prototype.push.call(this,S,b)},a.prototype._transform=function(S,b,f){f(new O("_transform()"))},a.prototype._write=function(S,b,f){var M=this._transformState;if(M.writecb=f,M.writechunk=S,M.writeencoding=b,!M.transforming){var T=this._readableState;(M.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},a.prototype._read=function(S){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},a.prototype._destroy=function(S,b){r.prototype._destroy.call(this,S,function(f){b(f)})};function _(S,b,f){if(b)return S.emit("error",b);if(f!=null&&S.push(f),S._writableState.length)throw new u;if(S._transformState.transforming)throw new y;return S.push(null)}}),I8=h1((x,W)=>{W.exports=O;var q=z5();i1()(O,q);function O(V){if(!(this instanceof O))return new O(V);q.call(this,V)}O.prototype._transform=function(V,y,u){u(null,V)}}),Y8=h1((x,W)=>{var q;function O(f){var M=!1;return function(){M||(M=!0,f.apply(void 0,arguments))}}var V=h3().codes,y=V.ERR_MISSING_ARGS,u=V.ERR_STREAM_DESTROYED;function r(f){if(f)throw f}function z(f){return f.setHeader&&typeof f.abort=="function"}function a(f,M,T,$){$=O($);var Z=!1;f.on("close",function(){Z=!0}),q===void 0&&(q=E6()),q(f,{readable:M,writable:T},function(s){if(s)return $(s);Z=!0,$()});var w=!1;return function(s){if(!Z&&!w){if(w=!0,z(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();$(s||new u("pipe"))}}}function L(f){f()}function _(f,M){return f.pipe(M)}function S(f){return!f.length||typeof f[f.length-1]!="function"?r:f.pop()}function b(){for(var f=arguments.length,M=new Array(f),T=0;T<f;T++)M[T]=arguments[T];var $=S(M);if(Array.isArray(M[0])&&(M=M[0]),M.length<2)throw new y("streams");var Z,w=M.map(function(s,g){var R=g<M.length-1,U=g>0;return a(s,R,U,function(j){Z||(Z=j),j&&w.forEach(L),!R&&(w.forEach(L),$(Z))})});return M.reduce(_)}W.exports=b}),t8=h1((x,W)=>{x=W.exports=M5(),x.Stream=x,x.Readable=x,x.Writable=T5(),x.Duplex=y3(),x.Transform=z5(),x.PassThrough=I8(),x.finished=E6(),x.pipeline=Y8()}),D6=h1((x,W)=>{(function(q,O){function V(n,c){if(!n)throw new Error(c||"Assertion failed")}function y(n,c){n.super_=c;var v=function(){};v.prototype=c.prototype,n.prototype=new v,n.prototype.constructor=n}function u(n,c,v){if(u.isBN(n))return n;this.negative=0,this.words=null,this.length=0,this.red=null,n!==null&&((c==="le"||c==="be")&&(v=c,c=10),this._init(n||0,c||10,v||"be"))}typeof q=="object"?q.exports=u:O.BN=u,u.BN=u,u.wordSize=26;var r;try{typeof window<"u"&&typeof window.Buffer<"u"?r=window.Buffer:r=B2().Buffer}catch{}u.isBN=function(n){return n instanceof u?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===u.wordSize&&Array.isArray(n.words)},u.max=function(n,c){return n.cmp(c)>0?n:c},u.min=function(n,c){return n.cmp(c)<0?n:c},u.prototype._init=function(n,c,v){if(typeof n=="number")return this._initNumber(n,c,v);if(typeof n=="object")return this._initArray(n,c,v);c==="hex"&&(c=16),V(c===(c|0)&&c>=2&&c<=36),n=n.toString().replace(/\s+/g,"");var N=0;n[0]==="-"&&(N++,this.negative=1),N<n.length&&(c===16?this._parseHex(n,N,v):(this._parseBase(n,c,N),v==="le"&&this._initArray(this.toArray(),c,v)))},u.prototype._initNumber=function(n,c,v){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(V(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),c,v)},u.prototype._initArray=function(n,c,v){if(V(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var d,o,h=0;if(v==="be")for(N=n.length-1,d=0;N>=0;N-=3)o=n[N]|n[N-1]<<8|n[N-2]<<16,this.words[d]|=o<<h&67108863,this.words[d+1]=o>>>26-h&67108863,h+=24,h>=26&&(h-=26,d++);else if(v==="le")for(N=0,d=0;N<n.length;N+=3)o=n[N]|n[N+1]<<8|n[N+2]<<16,this.words[d]|=o<<h&67108863,this.words[d+1]=o>>>26-h&67108863,h+=24,h>=26&&(h-=26,d++);return this._strip()};function z(n,c){var v=n.charCodeAt(c);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;V(!1,"Invalid character in "+n)}function a(n,c,v){var N=z(n,v);return v-1>=c&&(N|=z(n,v-1)<<4),N}u.prototype._parseHex=function(n,c,v){this.length=Math.ceil((n.length-c)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var d=0,o=0,h;if(v==="be")for(N=n.length-1;N>=c;N-=2)h=a(n,c,N)<<d,this.words[o]|=h&67108863,d>=18?(d-=18,o+=1,this.words[o]|=h>>>26):d+=8;else{var P=n.length-c;for(N=P%2===0?c+1:c;N<n.length;N+=2)h=a(n,c,N)<<d,this.words[o]|=h&67108863,d>=18?(d-=18,o+=1,this.words[o]|=h>>>26):d+=8}this._strip()};function L(n,c,v,N){for(var d=0,o=0,h=Math.min(n.length,v),P=c;P<h;P++){var X=n.charCodeAt(P)-48;d*=N,X>=49?o=X-49+10:X>=17?o=X-17+10:o=X,V(X>=0&&o<N,"Invalid character"),d+=o}return d}u.prototype._parseBase=function(n,c,v){this.words=[0],this.length=1;for(var N=0,d=1;d<=67108863;d*=c)N++;N--,d=d/c|0;for(var o=n.length-v,h=o%N,P=Math.min(o,o-h)+v,X=0,k=v;k<P;k+=N)X=L(n,k,k+N,c),this.imuln(d),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(h!==0){var I=1;for(X=L(n,k,n.length,c),k=0;k<h;k++)I*=c;this.imuln(I),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this._strip()},u.prototype.copy=function(n){n.words=new Array(this.length);for(var c=0;c<this.length;c++)n.words[c]=this.words[c];n.length=this.length,n.negative=this.negative,n.red=this.red};function _(n,c){n.words=c.words,n.length=c.length,n.negative=c.negative,n.red=c.red}if(u.prototype._move=function(n){_(n,this)},u.prototype.clone=function(){var n=new u(null);return this.copy(n),n},u.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{u.prototype.inspect=S}else u.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(n,c){n=n||10,c=c|0||1;var v;if(n===16||n==="hex"){v="";for(var N=0,d=0,o=0;o<this.length;o++){var h=this.words[o],P=((h<<N|d)&16777215).toString(16);d=h>>>24-N&16777215,N+=2,N>=26&&(N-=26,o--),d!==0||o!==this.length-1?v=b[6-P.length]+P+v:v=P+v}for(d!==0&&(v=d.toString(16)+v);v.length%c!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(n===(n|0)&&n>=2&&n<=36){var X=f[n],k=M[n];v="";var I=this.clone();for(I.negative=0;!I.isZero();){var Q=I.modrn(k).toString(n);I=I.idivn(k),I.isZero()?v=Q+v:v=b[X-Q.length]+Q+v}for(this.isZero()&&(v="0"+v);v.length%c!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}V(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&V(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},u.prototype.toJSON=function(){return this.toString(16,2)},r&&(u.prototype.toBuffer=function(n,c){return this.toArrayLike(r,n,c)}),u.prototype.toArray=function(n,c){return this.toArrayLike(Array,n,c)};var T=function(n,c){return n.allocUnsafe?n.allocUnsafe(c):new n(c)};u.prototype.toArrayLike=function(n,c,v){this._strip();var N=this.byteLength(),d=v||Math.max(1,N);V(N<=d,"byte array longer than desired length"),V(d>0,"Requested array length <= 0");var o=T(n,d),h=c==="le"?"LE":"BE";return this["_toArrayLike"+h](o,N),o},u.prototype._toArrayLikeLE=function(n,c){for(var v=0,N=0,d=0,o=0;d<this.length;d++){var h=this.words[d]<<o|N;n[v++]=h&255,v<n.length&&(n[v++]=h>>8&255),v<n.length&&(n[v++]=h>>16&255),o===6?(v<n.length&&(n[v++]=h>>24&255),N=0,o=0):(N=h>>>24,o+=2)}if(v<n.length)for(n[v++]=N;v<n.length;)n[v++]=0},u.prototype._toArrayLikeBE=function(n,c){for(var v=n.length-1,N=0,d=0,o=0;d<this.length;d++){var h=this.words[d]<<o|N;n[v--]=h&255,v>=0&&(n[v--]=h>>8&255),v>=0&&(n[v--]=h>>16&255),o===6?(v>=0&&(n[v--]=h>>24&255),N=0,o=0):(N=h>>>24,o+=2)}if(v>=0)for(n[v--]=N;v>=0;)n[v--]=0},Math.clz32?u.prototype._countBits=function(n){return 32-Math.clz32(n)}:u.prototype._countBits=function(n){var c=n,v=0;return c>=4096&&(v+=13,c>>>=13),c>=64&&(v+=7,c>>>=7),c>=8&&(v+=4,c>>>=4),c>=2&&(v+=2,c>>>=2),v+c},u.prototype._zeroBits=function(n){if(n===0)return 26;var c=n,v=0;return(c&8191)===0&&(v+=13,c>>>=13),(c&127)===0&&(v+=7,c>>>=7),(c&15)===0&&(v+=4,c>>>=4),(c&3)===0&&(v+=2,c>>>=2),(c&1)===0&&v++,v},u.prototype.bitLength=function(){var n=this.words[this.length-1],c=this._countBits(n);return(this.length-1)*26+c};function $(n){for(var c=new Array(n.bitLength()),v=0;v<c.length;v++){var N=v/26|0,d=v%26;c[v]=n.words[N]>>>d&1}return c}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,c=0;c<this.length;c++){var v=this._zeroBits(this.words[c]);if(n+=v,v!==26)break}return n},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},u.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]|n.words[c];return this._strip()},u.prototype.ior=function(n){return V((this.negative|n.negative)===0),this.iuor(n)},u.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},u.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},u.prototype.iuand=function(n){var c;this.length>n.length?c=n:c=this;for(var v=0;v<c.length;v++)this.words[v]=this.words[v]&n.words[v];return this.length=c.length,this._strip()},u.prototype.iand=function(n){return V((this.negative|n.negative)===0),this.iuand(n)},u.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},u.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},u.prototype.iuxor=function(n){var c,v;this.length>n.length?(c=this,v=n):(c=n,v=this);for(var N=0;N<v.length;N++)this.words[N]=c.words[N]^v.words[N];if(this!==c)for(;N<c.length;N++)this.words[N]=c.words[N];return this.length=c.length,this._strip()},u.prototype.ixor=function(n){return V((this.negative|n.negative)===0),this.iuxor(n)},u.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},u.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},u.prototype.inotn=function(n){V(typeof n=="number"&&n>=0);var c=Math.ceil(n/26)|0,v=n%26;this._expand(c),v>0&&c--;for(var N=0;N<c;N++)this.words[N]=~this.words[N]&67108863;return v>0&&(this.words[N]=~this.words[N]&67108863>>26-v),this._strip()},u.prototype.notn=function(n){return this.clone().inotn(n)},u.prototype.setn=function(n,c){V(typeof n=="number"&&n>=0);var v=n/26|0,N=n%26;return this._expand(v+1),c?this.words[v]=this.words[v]|1<<N:this.words[v]=this.words[v]&~(1<<N),this._strip()},u.prototype.iadd=function(n){var c;if(this.negative!==0&&n.negative===0)return this.negative=0,c=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,c=this.isub(n),n.negative=1,c._normSign();var v,N;this.length>n.length?(v=this,N=n):(v=n,N=this);for(var d=0,o=0;o<N.length;o++)c=(v.words[o]|0)+(N.words[o]|0)+d,this.words[o]=c&67108863,d=c>>>26;for(;d!==0&&o<v.length;o++)c=(v.words[o]|0)+d,this.words[o]=c&67108863,d=c>>>26;if(this.length=v.length,d!==0)this.words[this.length]=d,this.length++;else if(v!==this)for(;o<v.length;o++)this.words[o]=v.words[o];return this},u.prototype.add=function(n){var c;return n.negative!==0&&this.negative===0?(n.negative=0,c=this.sub(n),n.negative^=1,c):n.negative===0&&this.negative!==0?(this.negative=0,c=n.sub(this),this.negative=1,c):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},u.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var c=this.iadd(n);return n.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var v=this.cmp(n);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,d;v>0?(N=this,d=n):(N=n,d=this);for(var o=0,h=0;h<d.length;h++)c=(N.words[h]|0)-(d.words[h]|0)+o,o=c>>26,this.words[h]=c&67108863;for(;o!==0&&h<N.length;h++)c=(N.words[h]|0)+o,o=c>>26,this.words[h]=c&67108863;if(o===0&&h<N.length&&N!==this)for(;h<N.length;h++)this.words[h]=N.words[h];return this.length=Math.max(this.length,h),N!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(n){return this.clone().isub(n)};function Z(n,c,v){v.negative=c.negative^n.negative;var N=n.length+c.length|0;v.length=N,N=N-1|0;var d=n.words[0]|0,o=c.words[0]|0,h=d*o,P=h&67108863,X=h/67108864|0;v.words[0]=P;for(var k=1;k<N;k++){for(var I=X>>>26,Q=X&67108863,e=Math.min(k,c.length-1),B=Math.max(0,k-n.length+1);B<=e;B++){var E=k-B|0;d=n.words[E]|0,o=c.words[B]|0,h=d*o+Q,I+=h/67108864|0,Q=h&67108863}v.words[k]=Q|0,X=I|0}return X!==0?v.words[k]=X|0:v.length--,v._strip()}var w=function(n,c,v){var N=n.words,d=c.words,o=v.words,h=0,P,X,k,I=N[0]|0,Q=I&8191,e=I>>>13,B=N[1]|0,E=B&8191,A=B>>>13,r1=N[2]|0,n1=r1&8191,c1=r1>>>13,G=N[3]|0,K=G&8191,Y=G>>>13,p1=N[4]|0,u1=p1&8191,o1=p1>>>13,M1=N[5]|0,f1=M1&8191,d1=M1>>>13,F1=N[6]|0,y1=F1&8191,a1=F1>>>13,k1=N[7]|0,F=k1&8191,i=k1>>>13,t=N[8]|0,C=t&8191,l1=t>>>13,b1=N[9]|0,m1=b1&8191,v1=b1>>>13,j1=d[0]|0,x1=j1&8191,_1=j1>>>13,P1=d[1]|0,N1=P1&8191,T1=P1>>>13,d2=d[2]|0,q1=d2&8191,L1=d2>>>13,E1=d[3]|0,z1=E1&8191,V1=E1>>>13,h2=d[4]|0,S1=h2&8191,$1=h2>>>13,y2=d[5]|0,Z1=y2&8191,W1=y2>>>13,v2=d[6]|0,w1=v2&8191,O1=v2>>>13,_2=d[7]|0,R1=_2&8191,s1=_2>>>13,x2=d[8]|0,g1=x2&8191,X1=x2>>>13,f2=d[9]|0,U1=f2&8191,K1=f2>>>13;v.negative=n.negative^c.negative,v.length=19,P=Math.imul(Q,x1),X=Math.imul(Q,_1),X=X+Math.imul(e,x1)|0,k=Math.imul(e,_1);var D1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(D1>>>26)|0,D1&=67108863,P=Math.imul(E,x1),X=Math.imul(E,_1),X=X+Math.imul(A,x1)|0,k=Math.imul(A,_1),P=P+Math.imul(Q,N1)|0,X=X+Math.imul(Q,T1)|0,X=X+Math.imul(e,N1)|0,k=k+Math.imul(e,T1)|0;var I1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(I1>>>26)|0,I1&=67108863,P=Math.imul(n1,x1),X=Math.imul(n1,_1),X=X+Math.imul(c1,x1)|0,k=Math.imul(c1,_1),P=P+Math.imul(E,N1)|0,X=X+Math.imul(E,T1)|0,X=X+Math.imul(A,N1)|0,k=k+Math.imul(A,T1)|0,P=P+Math.imul(Q,q1)|0,X=X+Math.imul(Q,L1)|0,X=X+Math.imul(e,q1)|0,k=k+Math.imul(e,L1)|0;var Y1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,P=Math.imul(K,x1),X=Math.imul(K,_1),X=X+Math.imul(Y,x1)|0,k=Math.imul(Y,_1),P=P+Math.imul(n1,N1)|0,X=X+Math.imul(n1,T1)|0,X=X+Math.imul(c1,N1)|0,k=k+Math.imul(c1,T1)|0,P=P+Math.imul(E,q1)|0,X=X+Math.imul(E,L1)|0,X=X+Math.imul(A,q1)|0,k=k+Math.imul(A,L1)|0,P=P+Math.imul(Q,z1)|0,X=X+Math.imul(Q,V1)|0,X=X+Math.imul(e,z1)|0,k=k+Math.imul(e,V1)|0;var t1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(t1>>>26)|0,t1&=67108863,P=Math.imul(u1,x1),X=Math.imul(u1,_1),X=X+Math.imul(o1,x1)|0,k=Math.imul(o1,_1),P=P+Math.imul(K,N1)|0,X=X+Math.imul(K,T1)|0,X=X+Math.imul(Y,N1)|0,k=k+Math.imul(Y,T1)|0,P=P+Math.imul(n1,q1)|0,X=X+Math.imul(n1,L1)|0,X=X+Math.imul(c1,q1)|0,k=k+Math.imul(c1,L1)|0,P=P+Math.imul(E,z1)|0,X=X+Math.imul(E,V1)|0,X=X+Math.imul(A,z1)|0,k=k+Math.imul(A,V1)|0,P=P+Math.imul(Q,S1)|0,X=X+Math.imul(Q,$1)|0,X=X+Math.imul(e,S1)|0,k=k+Math.imul(e,$1)|0;var C1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(C1>>>26)|0,C1&=67108863,P=Math.imul(f1,x1),X=Math.imul(f1,_1),X=X+Math.imul(d1,x1)|0,k=Math.imul(d1,_1),P=P+Math.imul(u1,N1)|0,X=X+Math.imul(u1,T1)|0,X=X+Math.imul(o1,N1)|0,k=k+Math.imul(o1,T1)|0,P=P+Math.imul(K,q1)|0,X=X+Math.imul(K,L1)|0,X=X+Math.imul(Y,q1)|0,k=k+Math.imul(Y,L1)|0,P=P+Math.imul(n1,z1)|0,X=X+Math.imul(n1,V1)|0,X=X+Math.imul(c1,z1)|0,k=k+Math.imul(c1,V1)|0,P=P+Math.imul(E,S1)|0,X=X+Math.imul(E,$1)|0,X=X+Math.imul(A,S1)|0,k=k+Math.imul(A,$1)|0,P=P+Math.imul(Q,Z1)|0,X=X+Math.imul(Q,W1)|0,X=X+Math.imul(e,Z1)|0,k=k+Math.imul(e,W1)|0;var B1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(B1>>>26)|0,B1&=67108863,P=Math.imul(y1,x1),X=Math.imul(y1,_1),X=X+Math.imul(a1,x1)|0,k=Math.imul(a1,_1),P=P+Math.imul(f1,N1)|0,X=X+Math.imul(f1,T1)|0,X=X+Math.imul(d1,N1)|0,k=k+Math.imul(d1,T1)|0,P=P+Math.imul(u1,q1)|0,X=X+Math.imul(u1,L1)|0,X=X+Math.imul(o1,q1)|0,k=k+Math.imul(o1,L1)|0,P=P+Math.imul(K,z1)|0,X=X+Math.imul(K,V1)|0,X=X+Math.imul(Y,z1)|0,k=k+Math.imul(Y,V1)|0,P=P+Math.imul(n1,S1)|0,X=X+Math.imul(n1,$1)|0,X=X+Math.imul(c1,S1)|0,k=k+Math.imul(c1,$1)|0,P=P+Math.imul(E,Z1)|0,X=X+Math.imul(E,W1)|0,X=X+Math.imul(A,Z1)|0,k=k+Math.imul(A,W1)|0,P=P+Math.imul(Q,w1)|0,X=X+Math.imul(Q,O1)|0,X=X+Math.imul(e,w1)|0,k=k+Math.imul(e,O1)|0;var Q1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,P=Math.imul(F,x1),X=Math.imul(F,_1),X=X+Math.imul(i,x1)|0,k=Math.imul(i,_1),P=P+Math.imul(y1,N1)|0,X=X+Math.imul(y1,T1)|0,X=X+Math.imul(a1,N1)|0,k=k+Math.imul(a1,T1)|0,P=P+Math.imul(f1,q1)|0,X=X+Math.imul(f1,L1)|0,X=X+Math.imul(d1,q1)|0,k=k+Math.imul(d1,L1)|0,P=P+Math.imul(u1,z1)|0,X=X+Math.imul(u1,V1)|0,X=X+Math.imul(o1,z1)|0,k=k+Math.imul(o1,V1)|0,P=P+Math.imul(K,S1)|0,X=X+Math.imul(K,$1)|0,X=X+Math.imul(Y,S1)|0,k=k+Math.imul(Y,$1)|0,P=P+Math.imul(n1,Z1)|0,X=X+Math.imul(n1,W1)|0,X=X+Math.imul(c1,Z1)|0,k=k+Math.imul(c1,W1)|0,P=P+Math.imul(E,w1)|0,X=X+Math.imul(E,O1)|0,X=X+Math.imul(A,w1)|0,k=k+Math.imul(A,O1)|0,P=P+Math.imul(Q,R1)|0,X=X+Math.imul(Q,s1)|0,X=X+Math.imul(e,R1)|0,k=k+Math.imul(e,s1)|0;var e1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(e1>>>26)|0,e1&=67108863,P=Math.imul(C,x1),X=Math.imul(C,_1),X=X+Math.imul(l1,x1)|0,k=Math.imul(l1,_1),P=P+Math.imul(F,N1)|0,X=X+Math.imul(F,T1)|0,X=X+Math.imul(i,N1)|0,k=k+Math.imul(i,T1)|0,P=P+Math.imul(y1,q1)|0,X=X+Math.imul(y1,L1)|0,X=X+Math.imul(a1,q1)|0,k=k+Math.imul(a1,L1)|0,P=P+Math.imul(f1,z1)|0,X=X+Math.imul(f1,V1)|0,X=X+Math.imul(d1,z1)|0,k=k+Math.imul(d1,V1)|0,P=P+Math.imul(u1,S1)|0,X=X+Math.imul(u1,$1)|0,X=X+Math.imul(o1,S1)|0,k=k+Math.imul(o1,$1)|0,P=P+Math.imul(K,Z1)|0,X=X+Math.imul(K,W1)|0,X=X+Math.imul(Y,Z1)|0,k=k+Math.imul(Y,W1)|0,P=P+Math.imul(n1,w1)|0,X=X+Math.imul(n1,O1)|0,X=X+Math.imul(c1,w1)|0,k=k+Math.imul(c1,O1)|0,P=P+Math.imul(E,R1)|0,X=X+Math.imul(E,s1)|0,X=X+Math.imul(A,R1)|0,k=k+Math.imul(A,s1)|0,P=P+Math.imul(Q,g1)|0,X=X+Math.imul(Q,X1)|0,X=X+Math.imul(e,g1)|0,k=k+Math.imul(e,X1)|0;var A1=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(A1>>>26)|0,A1&=67108863,P=Math.imul(m1,x1),X=Math.imul(m1,_1),X=X+Math.imul(v1,x1)|0,k=Math.imul(v1,_1),P=P+Math.imul(C,N1)|0,X=X+Math.imul(C,T1)|0,X=X+Math.imul(l1,N1)|0,k=k+Math.imul(l1,T1)|0,P=P+Math.imul(F,q1)|0,X=X+Math.imul(F,L1)|0,X=X+Math.imul(i,q1)|0,k=k+Math.imul(i,L1)|0,P=P+Math.imul(y1,z1)|0,X=X+Math.imul(y1,V1)|0,X=X+Math.imul(a1,z1)|0,k=k+Math.imul(a1,V1)|0,P=P+Math.imul(f1,S1)|0,X=X+Math.imul(f1,$1)|0,X=X+Math.imul(d1,S1)|0,k=k+Math.imul(d1,$1)|0,P=P+Math.imul(u1,Z1)|0,X=X+Math.imul(u1,W1)|0,X=X+Math.imul(o1,Z1)|0,k=k+Math.imul(o1,W1)|0,P=P+Math.imul(K,w1)|0,X=X+Math.imul(K,O1)|0,X=X+Math.imul(Y,w1)|0,k=k+Math.imul(Y,O1)|0,P=P+Math.imul(n1,R1)|0,X=X+Math.imul(n1,s1)|0,X=X+Math.imul(c1,R1)|0,k=k+Math.imul(c1,s1)|0,P=P+Math.imul(E,g1)|0,X=X+Math.imul(E,X1)|0,X=X+Math.imul(A,g1)|0,k=k+Math.imul(A,X1)|0,P=P+Math.imul(Q,U1)|0,X=X+Math.imul(Q,K1)|0,X=X+Math.imul(e,U1)|0,k=k+Math.imul(e,K1)|0;var l2=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(l2>>>26)|0,l2&=67108863,P=Math.imul(m1,N1),X=Math.imul(m1,T1),X=X+Math.imul(v1,N1)|0,k=Math.imul(v1,T1),P=P+Math.imul(C,q1)|0,X=X+Math.imul(C,L1)|0,X=X+Math.imul(l1,q1)|0,k=k+Math.imul(l1,L1)|0,P=P+Math.imul(F,z1)|0,X=X+Math.imul(F,V1)|0,X=X+Math.imul(i,z1)|0,k=k+Math.imul(i,V1)|0,P=P+Math.imul(y1,S1)|0,X=X+Math.imul(y1,$1)|0,X=X+Math.imul(a1,S1)|0,k=k+Math.imul(a1,$1)|0,P=P+Math.imul(f1,Z1)|0,X=X+Math.imul(f1,W1)|0,X=X+Math.imul(d1,Z1)|0,k=k+Math.imul(d1,W1)|0,P=P+Math.imul(u1,w1)|0,X=X+Math.imul(u1,O1)|0,X=X+Math.imul(o1,w1)|0,k=k+Math.imul(o1,O1)|0,P=P+Math.imul(K,R1)|0,X=X+Math.imul(K,s1)|0,X=X+Math.imul(Y,R1)|0,k=k+Math.imul(Y,s1)|0,P=P+Math.imul(n1,g1)|0,X=X+Math.imul(n1,X1)|0,X=X+Math.imul(c1,g1)|0,k=k+Math.imul(c1,X1)|0,P=P+Math.imul(E,U1)|0,X=X+Math.imul(E,K1)|0,X=X+Math.imul(A,U1)|0,k=k+Math.imul(A,K1)|0;var o2=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(o2>>>26)|0,o2&=67108863,P=Math.imul(m1,q1),X=Math.imul(m1,L1),X=X+Math.imul(v1,q1)|0,k=Math.imul(v1,L1),P=P+Math.imul(C,z1)|0,X=X+Math.imul(C,V1)|0,X=X+Math.imul(l1,z1)|0,k=k+Math.imul(l1,V1)|0,P=P+Math.imul(F,S1)|0,X=X+Math.imul(F,$1)|0,X=X+Math.imul(i,S1)|0,k=k+Math.imul(i,$1)|0,P=P+Math.imul(y1,Z1)|0,X=X+Math.imul(y1,W1)|0,X=X+Math.imul(a1,Z1)|0,k=k+Math.imul(a1,W1)|0,P=P+Math.imul(f1,w1)|0,X=X+Math.imul(f1,O1)|0,X=X+Math.imul(d1,w1)|0,k=k+Math.imul(d1,O1)|0,P=P+Math.imul(u1,R1)|0,X=X+Math.imul(u1,s1)|0,X=X+Math.imul(o1,R1)|0,k=k+Math.imul(o1,s1)|0,P=P+Math.imul(K,g1)|0,X=X+Math.imul(K,X1)|0,X=X+Math.imul(Y,g1)|0,k=k+Math.imul(Y,X1)|0,P=P+Math.imul(n1,U1)|0,X=X+Math.imul(n1,K1)|0,X=X+Math.imul(c1,U1)|0,k=k+Math.imul(c1,K1)|0;var n2=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(n2>>>26)|0,n2&=67108863,P=Math.imul(m1,z1),X=Math.imul(m1,V1),X=X+Math.imul(v1,z1)|0,k=Math.imul(v1,V1),P=P+Math.imul(C,S1)|0,X=X+Math.imul(C,$1)|0,X=X+Math.imul(l1,S1)|0,k=k+Math.imul(l1,$1)|0,P=P+Math.imul(F,Z1)|0,X=X+Math.imul(F,W1)|0,X=X+Math.imul(i,Z1)|0,k=k+Math.imul(i,W1)|0,P=P+Math.imul(y1,w1)|0,X=X+Math.imul(y1,O1)|0,X=X+Math.imul(a1,w1)|0,k=k+Math.imul(a1,O1)|0,P=P+Math.imul(f1,R1)|0,X=X+Math.imul(f1,s1)|0,X=X+Math.imul(d1,R1)|0,k=k+Math.imul(d1,s1)|0,P=P+Math.imul(u1,g1)|0,X=X+Math.imul(u1,X1)|0,X=X+Math.imul(o1,g1)|0,k=k+Math.imul(o1,X1)|0,P=P+Math.imul(K,U1)|0,X=X+Math.imul(K,K1)|0,X=X+Math.imul(Y,U1)|0,k=k+Math.imul(Y,K1)|0;var p2=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(p2>>>26)|0,p2&=67108863,P=Math.imul(m1,S1),X=Math.imul(m1,$1),X=X+Math.imul(v1,S1)|0,k=Math.imul(v1,$1),P=P+Math.imul(C,Z1)|0,X=X+Math.imul(C,W1)|0,X=X+Math.imul(l1,Z1)|0,k=k+Math.imul(l1,W1)|0,P=P+Math.imul(F,w1)|0,X=X+Math.imul(F,O1)|0,X=X+Math.imul(i,w1)|0,k=k+Math.imul(i,O1)|0,P=P+Math.imul(y1,R1)|0,X=X+Math.imul(y1,s1)|0,X=X+Math.imul(a1,R1)|0,k=k+Math.imul(a1,s1)|0,P=P+Math.imul(f1,g1)|0,X=X+Math.imul(f1,X1)|0,X=X+Math.imul(d1,g1)|0,k=k+Math.imul(d1,X1)|0,P=P+Math.imul(u1,U1)|0,X=X+Math.imul(u1,K1)|0,X=X+Math.imul(o1,U1)|0,k=k+Math.imul(o1,K1)|0;var u2=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(u2>>>26)|0,u2&=67108863,P=Math.imul(m1,Z1),X=Math.imul(m1,W1),X=X+Math.imul(v1,Z1)|0,k=Math.imul(v1,W1),P=P+Math.imul(C,w1)|0,X=X+Math.imul(C,O1)|0,X=X+Math.imul(l1,w1)|0,k=k+Math.imul(l1,O1)|0,P=P+Math.imul(F,R1)|0,X=X+Math.imul(F,s1)|0,X=X+Math.imul(i,R1)|0,k=k+Math.imul(i,s1)|0,P=P+Math.imul(y1,g1)|0,X=X+Math.imul(y1,X1)|0,X=X+Math.imul(a1,g1)|0,k=k+Math.imul(a1,X1)|0,P=P+Math.imul(f1,U1)|0,X=X+Math.imul(f1,K1)|0,X=X+Math.imul(d1,U1)|0,k=k+Math.imul(d1,K1)|0;var c2=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(c2>>>26)|0,c2&=67108863,P=Math.imul(m1,w1),X=Math.imul(m1,O1),X=X+Math.imul(v1,w1)|0,k=Math.imul(v1,O1),P=P+Math.imul(C,R1)|0,X=X+Math.imul(C,s1)|0,X=X+Math.imul(l1,R1)|0,k=k+Math.imul(l1,s1)|0,P=P+Math.imul(F,g1)|0,X=X+Math.imul(F,X1)|0,X=X+Math.imul(i,g1)|0,k=k+Math.imul(i,X1)|0,P=P+Math.imul(y1,U1)|0,X=X+Math.imul(y1,K1)|0,X=X+Math.imul(a1,U1)|0,k=k+Math.imul(a1,K1)|0;var m2=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(m2>>>26)|0,m2&=67108863,P=Math.imul(m1,R1),X=Math.imul(m1,s1),X=X+Math.imul(v1,R1)|0,k=Math.imul(v1,s1),P=P+Math.imul(C,g1)|0,X=X+Math.imul(C,X1)|0,X=X+Math.imul(l1,g1)|0,k=k+Math.imul(l1,X1)|0,P=P+Math.imul(F,U1)|0,X=X+Math.imul(F,K1)|0,X=X+Math.imul(i,U1)|0,k=k+Math.imul(i,K1)|0;var M0=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(M0>>>26)|0,M0&=67108863,P=Math.imul(m1,g1),X=Math.imul(m1,X1),X=X+Math.imul(v1,g1)|0,k=Math.imul(v1,X1),P=P+Math.imul(C,U1)|0,X=X+Math.imul(C,K1)|0,X=X+Math.imul(l1,U1)|0,k=k+Math.imul(l1,K1)|0;var z0=(h+P|0)+((X&8191)<<13)|0;h=(k+(X>>>13)|0)+(z0>>>26)|0,z0&=67108863,P=Math.imul(m1,U1),X=Math.imul(m1,K1),X=X+Math.imul(v1,U1)|0,k=Math.imul(v1,K1);var V0=(h+P|0)+((X&8191)<<13)|0;return h=(k+(X>>>13)|0)+(V0>>>26)|0,V0&=67108863,o[0]=D1,o[1]=I1,o[2]=Y1,o[3]=t1,o[4]=C1,o[5]=B1,o[6]=Q1,o[7]=e1,o[8]=A1,o[9]=l2,o[10]=o2,o[11]=n2,o[12]=p2,o[13]=u2,o[14]=c2,o[15]=m2,o[16]=M0,o[17]=z0,o[18]=V0,h!==0&&(o[19]=h,v.length++),v};Math.imul||(w=Z);function s(n,c,v){v.negative=c.negative^n.negative,v.length=n.length+c.length;for(var N=0,d=0,o=0;o<v.length-1;o++){var h=d;d=0;for(var P=N&67108863,X=Math.min(o,c.length-1),k=Math.max(0,o-n.length+1);k<=X;k++){var I=o-k,Q=n.words[I]|0,e=c.words[k]|0,B=Q*e,E=B&67108863;h=h+(B/67108864|0)|0,E=E+P|0,P=E&67108863,h=h+(E>>>26)|0,d+=h>>>26,h&=67108863}v.words[o]=P,N=h,h=d}return N!==0?v.words[o]=N:v.length--,v._strip()}function g(n,c,v){return s(n,c,v)}u.prototype.mulTo=function(n,c){var v,N=this.length+n.length;return this.length===10&&n.length===10?v=w(this,n,c):N<63?v=Z(this,n,c):N<1024?v=s(this,n,c):v=g(this,n,c),v};function R(n,c){this.x=n,this.y=c}R.prototype.makeRBT=function(n){for(var c=new Array(n),v=u.prototype._countBits(n)-1,N=0;N<n;N++)c[N]=this.revBin(N,v,n);return c},R.prototype.revBin=function(n,c,v){if(n===0||n===v-1)return n;for(var N=0,d=0;d<c;d++)N|=(n&1)<<c-d-1,n>>=1;return N},R.prototype.permute=function(n,c,v,N,d,o){for(var h=0;h<o;h++)N[h]=c[n[h]],d[h]=v[n[h]]},R.prototype.transform=function(n,c,v,N,d,o){this.permute(o,n,c,v,N,d);for(var h=1;h<d;h<<=1)for(var P=h<<1,X=Math.cos(2*Math.PI/P),k=Math.sin(2*Math.PI/P),I=0;I<d;I+=P)for(var Q=X,e=k,B=0;B<h;B++){var E=v[I+B],A=N[I+B],r1=v[I+B+h],n1=N[I+B+h],c1=Q*r1-e*n1;n1=Q*n1+e*r1,r1=c1,v[I+B]=E+r1,N[I+B]=A+n1,v[I+B+h]=E-r1,N[I+B+h]=A-n1,B!==P&&(c1=X*Q-k*e,e=X*e+k*Q,Q=c1)}},R.prototype.guessLen13b=function(n,c){var v=Math.max(c,n)|1,N=v&1,d=0;for(v=v/2|0;v;v=v>>>1)d++;return 1<<d+1+N},R.prototype.conjugate=function(n,c,v){if(!(v<=1))for(var N=0;N<v/2;N++){var d=n[N];n[N]=n[v-N-1],n[v-N-1]=d,d=c[N],c[N]=-c[v-N-1],c[v-N-1]=-d}},R.prototype.normalize13b=function(n,c){for(var v=0,N=0;N<c/2;N++){var d=Math.round(n[2*N+1]/c)*8192+Math.round(n[2*N]/c)+v;n[N]=d&67108863,d<67108864?v=0:v=d/67108864|0}return n},R.prototype.convert13b=function(n,c,v,N){for(var d=0,o=0;o<c;o++)d=d+(n[o]|0),v[2*o]=d&8191,d=d>>>13,v[2*o+1]=d&8191,d=d>>>13;for(o=2*c;o<N;++o)v[o]=0;V(d===0),V((d&-8192)===0)},R.prototype.stub=function(n){for(var c=new Array(n),v=0;v<n;v++)c[v]=0;return c},R.prototype.mulp=function(n,c,v){var N=2*this.guessLen13b(n.length,c.length),d=this.makeRBT(N),o=this.stub(N),h=new Array(N),P=new Array(N),X=new Array(N),k=new Array(N),I=new Array(N),Q=new Array(N),e=v.words;e.length=N,this.convert13b(n.words,n.length,h,N),this.convert13b(c.words,c.length,k,N),this.transform(h,o,P,X,N,d),this.transform(k,o,I,Q,N,d);for(var B=0;B<N;B++){var E=P[B]*I[B]-X[B]*Q[B];X[B]=P[B]*Q[B]+X[B]*I[B],P[B]=E}return this.conjugate(P,X,N),this.transform(P,X,e,o,N,d),this.conjugate(e,o,N),this.normalize13b(e,N),v.negative=n.negative^c.negative,v.length=n.length+c.length,v._strip()},u.prototype.mul=function(n){var c=new u(null);return c.words=new Array(this.length+n.length),this.mulTo(n,c)},u.prototype.mulf=function(n){var c=new u(null);return c.words=new Array(this.length+n.length),g(this,n,c)},u.prototype.imul=function(n){return this.clone().mulTo(n,this)},u.prototype.imuln=function(n){var c=n<0;c&&(n=-n),V(typeof n=="number"),V(n<67108864);for(var v=0,N=0;N<this.length;N++){var d=(this.words[N]|0)*n,o=(d&67108863)+(v&67108863);v>>=26,v+=d/67108864|0,v+=o>>>26,this.words[N]=o&67108863}return v!==0&&(this.words[N]=v,this.length++),c?this.ineg():this},u.prototype.muln=function(n){return this.clone().imuln(n)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(n){var c=$(n);if(c.length===0)return new u(1);for(var v=this,N=0;N<c.length&&c[N]===0;N++,v=v.sqr());if(++N<c.length)for(var d=v.sqr();N<c.length;N++,d=d.sqr())c[N]!==0&&(v=v.mul(d));return v},u.prototype.iushln=function(n){V(typeof n=="number"&&n>=0);var c=n%26,v=(n-c)/26,N=67108863>>>26-c<<26-c,d;if(c!==0){var o=0;for(d=0;d<this.length;d++){var h=this.words[d]&N,P=(this.words[d]|0)-h<<c;this.words[d]=P|o,o=h>>>26-c}o&&(this.words[d]=o,this.length++)}if(v!==0){for(d=this.length-1;d>=0;d--)this.words[d+v]=this.words[d];for(d=0;d<v;d++)this.words[d]=0;this.length+=v}return this._strip()},u.prototype.ishln=function(n){return V(this.negative===0),this.iushln(n)},u.prototype.iushrn=function(n,c,v){V(typeof n=="number"&&n>=0);var N;c?N=(c-c%26)/26:N=0;var d=n%26,o=Math.min((n-d)/26,this.length),h=67108863^67108863>>>d<<d,P=v;if(N-=o,N=Math.max(0,N),P){for(var X=0;X<o;X++)P.words[X]=this.words[X];P.length=o}if(o!==0)if(this.length>o)for(this.length-=o,X=0;X<this.length;X++)this.words[X]=this.words[X+o];else this.words[0]=0,this.length=1;var k=0;for(X=this.length-1;X>=0&&(k!==0||X>=N);X--){var I=this.words[X]|0;this.words[X]=k<<26-d|I>>>d,k=I&h}return P&&k!==0&&(P.words[P.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(n,c,v){return V(this.negative===0),this.iushrn(n,c,v)},u.prototype.shln=function(n){return this.clone().ishln(n)},u.prototype.ushln=function(n){return this.clone().iushln(n)},u.prototype.shrn=function(n){return this.clone().ishrn(n)},u.prototype.ushrn=function(n){return this.clone().iushrn(n)},u.prototype.testn=function(n){V(typeof n=="number"&&n>=0);var c=n%26,v=(n-c)/26,N=1<<c;if(this.length<=v)return!1;var d=this.words[v];return!!(d&N)},u.prototype.imaskn=function(n){V(typeof n=="number"&&n>=0);var c=n%26,v=(n-c)/26;if(V(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(c!==0&&v++,this.length=Math.min(v,this.length),c!==0){var N=67108863^67108863>>>c<<c;this.words[this.length-1]&=N}return this._strip()},u.prototype.maskn=function(n){return this.clone().imaskn(n)},u.prototype.iaddn=function(n){return V(typeof n=="number"),V(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},u.prototype._iaddn=function(n){this.words[0]+=n;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},u.prototype.isubn=function(n){if(V(typeof n=="number"),V(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},u.prototype.addn=function(n){return this.clone().iaddn(n)},u.prototype.subn=function(n){return this.clone().isubn(n)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(n,c,v){var N=n.length+v,d;this._expand(N);var o,h=0;for(d=0;d<n.length;d++){o=(this.words[d+v]|0)+h;var P=(n.words[d]|0)*c;o-=P&67108863,h=(o>>26)-(P/67108864|0),this.words[d+v]=o&67108863}for(;d<this.length-v;d++)o=(this.words[d+v]|0)+h,h=o>>26,this.words[d+v]=o&67108863;if(h===0)return this._strip();for(V(h===-1),h=0,d=0;d<this.length;d++)o=-(this.words[d]|0)+h,h=o>>26,this.words[d]=o&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(n,c){var v=this.length-n.length,N=this.clone(),d=n,o=d.words[d.length-1]|0,h=this._countBits(o);v=26-h,v!==0&&(d=d.ushln(v),N.iushln(v),o=d.words[d.length-1]|0);var P=N.length-d.length,X;if(c!=="mod"){X=new u(null),X.length=P+1,X.words=new Array(X.length);for(var k=0;k<X.length;k++)X.words[k]=0}var I=N.clone()._ishlnsubmul(d,1,P);I.negative===0&&(N=I,X&&(X.words[P]=1));for(var Q=P-1;Q>=0;Q--){var e=(N.words[d.length+Q]|0)*67108864+(N.words[d.length+Q-1]|0);for(e=Math.min(e/o|0,67108863),N._ishlnsubmul(d,e,Q);N.negative!==0;)e--,N.negative=0,N._ishlnsubmul(d,1,Q),N.isZero()||(N.negative^=1);X&&(X.words[Q]=e)}return X&&X._strip(),N._strip(),c!=="div"&&v!==0&&N.iushrn(v),{div:X||null,mod:N}},u.prototype.divmod=function(n,c,v){if(V(!n.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var N,d,o;return this.negative!==0&&n.negative===0?(o=this.neg().divmod(n,c),c!=="mod"&&(N=o.div.neg()),c!=="div"&&(d=o.mod.neg(),v&&d.negative!==0&&d.iadd(n)),{div:N,mod:d}):this.negative===0&&n.negative!==0?(o=this.divmod(n.neg(),c),c!=="mod"&&(N=o.div.neg()),{div:N,mod:o.mod}):(this.negative&n.negative)!==0?(o=this.neg().divmod(n.neg(),c),c!=="div"&&(d=o.mod.neg(),v&&d.negative!==0&&d.isub(n)),{div:o.div,mod:d}):n.length>this.length||this.cmp(n)<0?{div:new u(0),mod:this}:n.length===1?c==="div"?{div:this.divn(n.words[0]),mod:null}:c==="mod"?{div:null,mod:new u(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new u(this.modrn(n.words[0]))}:this._wordDiv(n,c)},u.prototype.div=function(n){return this.divmod(n,"div",!1).div},u.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},u.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},u.prototype.divRound=function(n){var c=this.divmod(n);if(c.mod.isZero())return c.div;var v=c.div.negative!==0?c.mod.isub(n):c.mod,N=n.ushrn(1),d=n.andln(1),o=v.cmp(N);return o<0||d===1&&o===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},u.prototype.modrn=function(n){var c=n<0;c&&(n=-n),V(n<=67108863);for(var v=67108864%n,N=0,d=this.length-1;d>=0;d--)N=(v*N+(this.words[d]|0))%n;return c?-N:N},u.prototype.modn=function(n){return this.modrn(n)},u.prototype.idivn=function(n){var c=n<0;c&&(n=-n),V(n<=67108863);for(var v=0,N=this.length-1;N>=0;N--){var d=(this.words[N]|0)+v*67108864;this.words[N]=d/n|0,v=d%n}return this._strip(),c?this.ineg():this},u.prototype.divn=function(n){return this.clone().idivn(n)},u.prototype.egcd=function(n){V(n.negative===0),V(!n.isZero());var c=this,v=n.clone();c.negative!==0?c=c.umod(n):c=c.clone();for(var N=new u(1),d=new u(0),o=new u(0),h=new u(1),P=0;c.isEven()&&v.isEven();)c.iushrn(1),v.iushrn(1),++P;for(var X=v.clone(),k=c.clone();!c.isZero();){for(var I=0,Q=1;(c.words[0]&Q)===0&&I<26;++I,Q<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(N.isOdd()||d.isOdd())&&(N.iadd(X),d.isub(k)),N.iushrn(1),d.iushrn(1);for(var e=0,B=1;(v.words[0]&B)===0&&e<26;++e,B<<=1);if(e>0)for(v.iushrn(e);e-- >0;)(o.isOdd()||h.isOdd())&&(o.iadd(X),h.isub(k)),o.iushrn(1),h.iushrn(1);c.cmp(v)>=0?(c.isub(v),N.isub(o),d.isub(h)):(v.isub(c),o.isub(N),h.isub(d))}return{a:o,b:h,gcd:v.iushln(P)}},u.prototype._invmp=function(n){V(n.negative===0),V(!n.isZero());var c=this,v=n.clone();c.negative!==0?c=c.umod(n):c=c.clone();for(var N=new u(1),d=new u(0),o=v.clone();c.cmpn(1)>0&&v.cmpn(1)>0;){for(var h=0,P=1;(c.words[0]&P)===0&&h<26;++h,P<<=1);if(h>0)for(c.iushrn(h);h-- >0;)N.isOdd()&&N.iadd(o),N.iushrn(1);for(var X=0,k=1;(v.words[0]&k)===0&&X<26;++X,k<<=1);if(X>0)for(v.iushrn(X);X-- >0;)d.isOdd()&&d.iadd(o),d.iushrn(1);c.cmp(v)>=0?(c.isub(v),N.isub(d)):(v.isub(c),d.isub(N))}var I;return c.cmpn(1)===0?I=N:I=d,I.cmpn(0)<0&&I.iadd(n),I},u.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var c=this.clone(),v=n.clone();c.negative=0,v.negative=0;for(var N=0;c.isEven()&&v.isEven();N++)c.iushrn(1),v.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;v.isEven();)v.iushrn(1);var d=c.cmp(v);if(d<0){var o=c;c=v,v=o}else if(d===0||v.cmpn(1)===0)break;c.isub(v)}while(!0);return v.iushln(N)},u.prototype.invm=function(n){return this.egcd(n).a.umod(n)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(n){return this.words[0]&n},u.prototype.bincn=function(n){V(typeof n=="number");var c=n%26,v=(n-c)/26,N=1<<c;if(this.length<=v)return this._expand(v+1),this.words[v]|=N,this;for(var d=N,o=v;d!==0&&o<this.length;o++){var h=this.words[o]|0;h+=d,d=h>>>26,h&=67108863,this.words[o]=h}return d!==0&&(this.words[o]=d,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(n){var c=n<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var v;if(this.length>1)v=1;else{c&&(n=-n),V(n<=67108863,"Number is too big");var N=this.words[0]|0;v=N===n?0:N<n?-1:1}return this.negative!==0?-v|0:v},u.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var c=this.ucmp(n);return this.negative!==0?-c|0:c},u.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var c=0,v=this.length-1;v>=0;v--){var N=this.words[v]|0,d=n.words[v]|0;if(N!==d){N<d?c=-1:N>d&&(c=1);break}}return c},u.prototype.gtn=function(n){return this.cmpn(n)===1},u.prototype.gt=function(n){return this.cmp(n)===1},u.prototype.gten=function(n){return this.cmpn(n)>=0},u.prototype.gte=function(n){return this.cmp(n)>=0},u.prototype.ltn=function(n){return this.cmpn(n)===-1},u.prototype.lt=function(n){return this.cmp(n)===-1},u.prototype.lten=function(n){return this.cmpn(n)<=0},u.prototype.lte=function(n){return this.cmp(n)<=0},u.prototype.eqn=function(n){return this.cmpn(n)===0},u.prototype.eq=function(n){return this.cmp(n)===0},u.red=function(n){return new p(n)},u.prototype.toRed=function(n){return V(!this.red,"Already a number in reduction context"),V(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},u.prototype.fromRed=function(){return V(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(n){return this.red=n,this},u.prototype.forceRed=function(n){return V(!this.red,"Already a number in reduction context"),this._forceRed(n)},u.prototype.redAdd=function(n){return V(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},u.prototype.redIAdd=function(n){return V(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},u.prototype.redSub=function(n){return V(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},u.prototype.redISub=function(n){return V(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},u.prototype.redShl=function(n){return V(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},u.prototype.redMul=function(n){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},u.prototype.redIMul=function(n){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},u.prototype.redSqr=function(){return V(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return V(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return V(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return V(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return V(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(n){return V(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var U={k256:null,p224:null,p192:null,p25519:null};function j(n,c){this.name=n,this.p=new u(c,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var n=new u(null);return n.words=new Array(Math.ceil(this.n/13)),n},j.prototype.ireduce=function(n){var c=n,v;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),v=c.bitLength();while(v>this.n);var N=v<this.n?-1:c.ucmp(this.p);return N===0?(c.words[0]=0,c.length=1):N>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},j.prototype.split=function(n,c){n.iushrn(this.n,0,c)},j.prototype.imulK=function(n){return n.imul(this.k)};function J(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(J,j),J.prototype.split=function(n,c){for(var v=4194303,N=Math.min(n.length,9),d=0;d<N;d++)c.words[d]=n.words[d];if(c.length=N,n.length<=9){n.words[0]=0,n.length=1;return}var o=n.words[9];for(c.words[c.length++]=o&v,d=10;d<n.length;d++){var h=n.words[d]|0;n.words[d-10]=(h&v)<<4|o>>>22,o=h}o>>>=22,n.words[d-10]=o,o===0&&n.length>10?n.length-=10:n.length-=9},J.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var c=0,v=0;v<n.length;v++){var N=n.words[v]|0;c+=N*977,n.words[v]=c&67108863,c=N*64+(c/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function H(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(H,j);function D(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(D,j);function l(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(l,j),l.prototype.imulK=function(n){for(var c=0,v=0;v<n.length;v++){var N=(n.words[v]|0)*19+c,d=N&67108863;N>>>=26,n.words[v]=d,c=N}return c!==0&&(n.words[n.length++]=c),n},u._prime=function(n){if(U[n])return U[n];var c;if(n==="k256")c=new J;else if(n==="p224")c=new H;else if(n==="p192")c=new D;else if(n==="p25519")c=new l;else throw new Error("Unknown prime "+n);return U[n]=c,c};function p(n){if(typeof n=="string"){var c=u._prime(n);this.m=c.p,this.prime=c}else V(n.gtn(1),"modulus must be greater than 1"),this.m=n,this.prime=null}p.prototype._verify1=function(n){V(n.negative===0,"red works only with positives"),V(n.red,"red works only with red numbers")},p.prototype._verify2=function(n,c){V((n.negative|c.negative)===0,"red works only with positives"),V(n.red&&n.red===c.red,"red works only with red numbers")},p.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(_(n,n.umod(this.m)._forceRed(this)),n)},p.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},p.prototype.add=function(n,c){this._verify2(n,c);var v=n.add(c);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},p.prototype.iadd=function(n,c){this._verify2(n,c);var v=n.iadd(c);return v.cmp(this.m)>=0&&v.isub(this.m),v},p.prototype.sub=function(n,c){this._verify2(n,c);var v=n.sub(c);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},p.prototype.isub=function(n,c){this._verify2(n,c);var v=n.isub(c);return v.cmpn(0)<0&&v.iadd(this.m),v},p.prototype.shl=function(n,c){return this._verify1(n),this.imod(n.ushln(c))},p.prototype.imul=function(n,c){return this._verify2(n,c),this.imod(n.imul(c))},p.prototype.mul=function(n,c){return this._verify2(n,c),this.imod(n.mul(c))},p.prototype.isqr=function(n){return this.imul(n,n.clone())},p.prototype.sqr=function(n){return this.mul(n,n)},p.prototype.sqrt=function(n){if(n.isZero())return n.clone();var c=this.m.andln(3);if(V(c%2===1),c===3){var v=this.m.add(new u(1)).iushrn(2);return this.pow(n,v)}for(var N=this.m.subn(1),d=0;!N.isZero()&&N.andln(1)===0;)d++,N.iushrn(1);V(!N.isZero());var o=new u(1).toRed(this),h=o.redNeg(),P=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new u(2*X*X).toRed(this);this.pow(X,P).cmp(h)!==0;)X.redIAdd(h);for(var k=this.pow(X,N),I=this.pow(n,N.addn(1).iushrn(1)),Q=this.pow(n,N),e=d;Q.cmp(o)!==0;){for(var B=Q,E=0;B.cmp(o)!==0;E++)B=B.redSqr();V(E<e);var A=this.pow(k,new u(1).iushln(e-E-1));I=I.redMul(A),k=A.redSqr(),Q=Q.redMul(k),e=E}return I},p.prototype.invm=function(n){var c=n._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},p.prototype.pow=function(n,c){if(c.isZero())return new u(1).toRed(this);if(c.cmpn(1)===0)return n.clone();var v=4,N=new Array(1<<v);N[0]=new u(1).toRed(this),N[1]=n;for(var d=2;d<N.length;d++)N[d]=this.mul(N[d-1],n);var o=N[0],h=0,P=0,X=c.bitLength()%26;for(X===0&&(X=26),d=c.length-1;d>=0;d--){for(var k=c.words[d],I=X-1;I>=0;I--){var Q=k>>I&1;if(o!==N[0]&&(o=this.sqr(o)),Q===0&&h===0){P=0;continue}h<<=1,h|=Q,P++,!(P!==v&&(d!==0||I!==0))&&(o=this.mul(o,N[h]),P=0,h=0)}X=26}return o},p.prototype.convertTo=function(n){var c=n.umod(this.m);return c===n?c.clone():c},p.prototype.convertFrom=function(n){var c=n.clone();return c.red=null,c},u.mont=function(n){return new m(n)};function m(n){p.call(this,n),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(m,p),m.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},m.prototype.convertFrom=function(n){var c=this.imod(n.mul(this.rinv));return c.red=null,c},m.prototype.imul=function(n,c){if(n.isZero()||c.isZero())return n.words[0]=0,n.length=1,n;var v=n.imul(c),N=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=v.isub(N).iushrn(this.shift),o=d;return d.cmp(this.m)>=0?o=d.isub(this.m):d.cmpn(0)<0&&(o=d.iadd(this.m)),o._forceRed(this)},m.prototype.mul=function(n,c){if(n.isZero()||c.isZero())return new u(0)._forceRed(this);var v=n.mul(c),N=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=v.isub(N).iushrn(this.shift),o=d;return d.cmp(this.m)>=0?o=d.isub(this.m):d.cmpn(0)<0&&(o=d.iadd(this.m)),o._forceRed(this)},m.prototype.invm=function(n){var c=this.imod(n._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof W>"u"||W,x)}),I6=h1((x,W)=>{var q=D6(),O=m3();function V(r){var z=y(r),a=z.toRed(q.mont(r.modulus)).redPow(new q(r.publicExponent)).fromRed();return{blinder:a,unblinder:z.invm(r.modulus)}}function y(r){var z=r.modulus.byteLength(),a;do a=new q(O(z));while(a.cmp(r.modulus)>=0||!a.umod(r.prime1)||!a.umod(r.prime2));return a}function u(r,z){var a=V(z),L=z.modulus.byteLength(),_=new q(r).mul(a.blinder).umod(z.modulus),S=_.toRed(q.mont(z.prime1)),b=_.toRed(q.mont(z.prime2)),f=z.coefficient,M=z.prime1,T=z.prime2,$=S.redPow(z.exponent1).fromRed(),Z=b.redPow(z.exponent2).fromRed(),w=$.isub(Z).imul(f).umod(M).imul(T);return Z.iadd(w).imul(a.unblinder).umod(z.modulus).toArrayLike(Buffer,"be",L)}u.getr=y,W.exports=u}),C8=h1((x,W)=>{W.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),k2=h1((x,W)=>{(function(q,O){function V(l,p){if(!l)throw new Error(p||"Assertion failed")}function y(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function u(l,p,m){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof q=="object"?q.exports=u:O.BN=u,u.BN=u,u.wordSize=26;var r;try{typeof window<"u"&&typeof window.Buffer<"u"?r=window.Buffer:r=B2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),V(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,m):(this._parseBase(l,p,n),m==="le"&&this._initArray(this.toArray(),p,m)))},u.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(V(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},u.prototype._initArray=function(l,p,m){if(V(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,v,N=0;if(m==="be")for(n=l.length-1,c=0;n>=0;n-=3)v=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);else if(m==="le")for(n=0,c=0;n<l.length;n+=3)v=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);return this.strip()};function z(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function a(l,p,m){var n=z(l,m);return m-1>=p&&(n|=z(l,m-1)<<4),n}u.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,v=0,N;if(m==="be")for(n=l.length-1;n>=p;n-=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8;else{var d=l.length-p;for(n=d%2===0?p+1:p;n<l.length;n+=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8}this.strip()};function L(l,p,m,n){for(var c=0,v=Math.min(l.length,m),N=p;N<v;N++){var d=l.charCodeAt(N)-48;c*=n,d>=49?c+=d-49+10:d>=17?c+=d-17+10:c+=d}return c}u.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var v=l.length-m,N=v%n,d=Math.min(v,v-N)+m,o=0,h=m;h<d;h+=n)o=L(l,h,h+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(N!==0){var P=1;for(o=L(l,h,l.length,p),h=0;h<N;h++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var n=0,c=0,v=0;v<this.length;v++){var N=this.words[v],d=((N<<n|c)&16777215).toString(16);c=N>>>24-n&16777215,c!==0||v!==this.length-1?m=_[6-d.length]+d+m:m=d+m,n+=2,n>=26&&(n-=26,v--)}for(c!==0&&(m=c.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],h=b[l];m="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(h).toString(l);P=P.idivn(h),P.isZero()?m=X+m:m=_[o-X.length]+X+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}V(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&V(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return V(typeof r<"u"),this.toArrayLike(r,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,m){var n=this.byteLength(),c=m||Math.max(1,n);V(n<=c,"byte array longer than desired length"),V(c>0,"Requested array length <= 0"),this.strip();var v=p==="le",N=new l(c),d,o,h=this.clone();if(v){for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[o]=d;for(;o<c;o++)N[o]=0}else{for(o=0;o<c-n;o++)N[o]=0;for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[c-o-1]=d}return N},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return(p&8191)===0&&(m+=13,p>>>=13),(p&127)===0&&(m+=7,p>>>=7),(p&15)===0&&(m+=4,p>>>=4),(p&3)===0&&(m+=2,p>>>=2),(p&1)===0&&m++,m},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function f(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var n=m/26|0,c=m%26;p[m]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return V((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return V((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var n=0;n<m.length;n++)this.words[n]=p.words[n]^m.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return V((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){V(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return m>0&&(this.words[n]=~this.words[n]&67108863>>26-m),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){V(typeof l=="number"&&l>=0);var m=l/26|0,n=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<n:this.words[m]=this.words[m]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,n;this.length>l.length?(m=this,n=l):(m=l,n=this);for(var c=0,v=0;v<n.length;v++)p=(m.words[v]|0)+(n.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;for(;c!==0&&v<m.length;v++)p=(m.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;if(this.length=m.length,c!==0)this.words[this.length]=c,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;m>0?(n=this,c=l):(n=l,c=this);for(var v=0,N=0;N<c.length;N++)p=(n.words[N]|0)-(c.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;for(;v!==0&&N<n.length;N++)p=(n.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;if(v===0&&N<n.length&&n!==this)for(;N<n.length;N++)this.words[N]=n.words[N];return this.length=Math.max(this.length,N),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function M(l,p,m){m.negative=p.negative^l.negative;var n=l.length+p.length|0;m.length=n,n=n-1|0;var c=l.words[0]|0,v=p.words[0]|0,N=c*v,d=N&67108863,o=N/67108864|0;m.words[0]=d;for(var h=1;h<n;h++){for(var P=o>>>26,X=o&67108863,k=Math.min(h,p.length-1),I=Math.max(0,h-l.length+1);I<=k;I++){var Q=h-I|0;c=l.words[Q]|0,v=p.words[I]|0,N=c*v+X,P+=N/67108864|0,X=N&67108863}m.words[h]=X|0,o=P|0}return o!==0?m.words[h]=o|0:m.length--,m.strip()}var T=function(l,p,m){var n=l.words,c=p.words,v=m.words,N=0,d,o,h,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,r1=n[3]|0,n1=r1&8191,c1=r1>>>13,G=n[4]|0,K=G&8191,Y=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,f1=M1&8191,d1=M1>>>13,F1=n[7]|0,y1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,b1=c[0]|0,m1=b1&8191,v1=b1>>>13,j1=c[1]|0,x1=j1&8191,_1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,d2=c[3]|0,q1=d2&8191,L1=d2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,h2=c[5]|0,S1=h2&8191,$1=h2>>>13,y2=c[6]|0,Z1=y2&8191,W1=y2>>>13,v2=c[7]|0,w1=v2&8191,O1=v2>>>13,_2=c[8]|0,R1=_2&8191,s1=_2>>>13,x2=c[9]|0,g1=x2&8191,X1=x2>>>13;m.negative=l.negative^p.negative,m.length=19,d=Math.imul(X,m1),o=Math.imul(X,v1),o=o+Math.imul(k,m1)|0,h=Math.imul(k,v1);var f2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,d=Math.imul(Q,m1),o=Math.imul(Q,v1),o=o+Math.imul(e,m1)|0,h=Math.imul(e,v1),d=d+Math.imul(X,x1)|0,o=o+Math.imul(X,_1)|0,o=o+Math.imul(k,x1)|0,h=h+Math.imul(k,_1)|0;var U1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,d=Math.imul(E,m1),o=Math.imul(E,v1),o=o+Math.imul(A,m1)|0,h=Math.imul(A,v1),d=d+Math.imul(Q,x1)|0,o=o+Math.imul(Q,_1)|0,o=o+Math.imul(e,x1)|0,h=h+Math.imul(e,_1)|0,d=d+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,h=h+Math.imul(k,T1)|0;var K1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,d=Math.imul(n1,m1),o=Math.imul(n1,v1),o=o+Math.imul(c1,m1)|0,h=Math.imul(c1,v1),d=d+Math.imul(E,x1)|0,o=o+Math.imul(E,_1)|0,o=o+Math.imul(A,x1)|0,h=h+Math.imul(A,_1)|0,d=d+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,h=h+Math.imul(e,T1)|0,d=d+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,h=h+Math.imul(k,L1)|0;var D1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,d=Math.imul(K,m1),o=Math.imul(K,v1),o=o+Math.imul(Y,m1)|0,h=Math.imul(Y,v1),d=d+Math.imul(n1,x1)|0,o=o+Math.imul(n1,_1)|0,o=o+Math.imul(c1,x1)|0,h=h+Math.imul(c1,_1)|0,d=d+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,h=h+Math.imul(A,T1)|0,d=d+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,h=h+Math.imul(e,L1)|0,d=d+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,h=h+Math.imul(k,V1)|0;var I1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,d=Math.imul(u1,m1),o=Math.imul(u1,v1),o=o+Math.imul(o1,m1)|0,h=Math.imul(o1,v1),d=d+Math.imul(K,x1)|0,o=o+Math.imul(K,_1)|0,o=o+Math.imul(Y,x1)|0,h=h+Math.imul(Y,_1)|0,d=d+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,h=h+Math.imul(c1,T1)|0,d=d+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,h=h+Math.imul(A,L1)|0,d=d+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,h=h+Math.imul(e,V1)|0,d=d+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,h=h+Math.imul(k,$1)|0;var Y1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,d=Math.imul(f1,m1),o=Math.imul(f1,v1),o=o+Math.imul(d1,m1)|0,h=Math.imul(d1,v1),d=d+Math.imul(u1,x1)|0,o=o+Math.imul(u1,_1)|0,o=o+Math.imul(o1,x1)|0,h=h+Math.imul(o1,_1)|0,d=d+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,h=h+Math.imul(Y,T1)|0,d=d+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,h=h+Math.imul(c1,L1)|0,d=d+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,h=h+Math.imul(A,V1)|0,d=d+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,h=h+Math.imul(e,$1)|0,d=d+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,h=h+Math.imul(k,W1)|0;var t1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,d=Math.imul(y1,m1),o=Math.imul(y1,v1),o=o+Math.imul(a1,m1)|0,h=Math.imul(a1,v1),d=d+Math.imul(f1,x1)|0,o=o+Math.imul(f1,_1)|0,o=o+Math.imul(d1,x1)|0,h=h+Math.imul(d1,_1)|0,d=d+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,h=h+Math.imul(o1,T1)|0,d=d+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,h=h+Math.imul(Y,L1)|0,d=d+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,h=h+Math.imul(c1,V1)|0,d=d+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,h=h+Math.imul(A,$1)|0,d=d+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,h=h+Math.imul(e,W1)|0,d=d+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,h=h+Math.imul(k,O1)|0;var C1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,d=Math.imul(F,m1),o=Math.imul(F,v1),o=o+Math.imul(i,m1)|0,h=Math.imul(i,v1),d=d+Math.imul(y1,x1)|0,o=o+Math.imul(y1,_1)|0,o=o+Math.imul(a1,x1)|0,h=h+Math.imul(a1,_1)|0,d=d+Math.imul(f1,N1)|0,o=o+Math.imul(f1,T1)|0,o=o+Math.imul(d1,N1)|0,h=h+Math.imul(d1,T1)|0,d=d+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,h=h+Math.imul(o1,L1)|0,d=d+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,h=h+Math.imul(Y,V1)|0,d=d+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,h=h+Math.imul(c1,$1)|0,d=d+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,h=h+Math.imul(A,W1)|0,d=d+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,h=h+Math.imul(e,O1)|0,d=d+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,h=h+Math.imul(k,s1)|0;var B1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,d=Math.imul(C,m1),o=Math.imul(C,v1),o=o+Math.imul(l1,m1)|0,h=Math.imul(l1,v1),d=d+Math.imul(F,x1)|0,o=o+Math.imul(F,_1)|0,o=o+Math.imul(i,x1)|0,h=h+Math.imul(i,_1)|0,d=d+Math.imul(y1,N1)|0,o=o+Math.imul(y1,T1)|0,o=o+Math.imul(a1,N1)|0,h=h+Math.imul(a1,T1)|0,d=d+Math.imul(f1,q1)|0,o=o+Math.imul(f1,L1)|0,o=o+Math.imul(d1,q1)|0,h=h+Math.imul(d1,L1)|0,d=d+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,h=h+Math.imul(o1,V1)|0,d=d+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,h=h+Math.imul(Y,$1)|0,d=d+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,h=h+Math.imul(c1,W1)|0,d=d+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,h=h+Math.imul(A,O1)|0,d=d+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,h=h+Math.imul(e,s1)|0,d=d+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,h=h+Math.imul(k,X1)|0;var Q1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,d=Math.imul(C,x1),o=Math.imul(C,_1),o=o+Math.imul(l1,x1)|0,h=Math.imul(l1,_1),d=d+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,h=h+Math.imul(i,T1)|0,d=d+Math.imul(y1,q1)|0,o=o+Math.imul(y1,L1)|0,o=o+Math.imul(a1,q1)|0,h=h+Math.imul(a1,L1)|0,d=d+Math.imul(f1,z1)|0,o=o+Math.imul(f1,V1)|0,o=o+Math.imul(d1,z1)|0,h=h+Math.imul(d1,V1)|0,d=d+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,h=h+Math.imul(o1,$1)|0,d=d+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,h=h+Math.imul(Y,W1)|0,d=d+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,h=h+Math.imul(c1,O1)|0,d=d+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,h=h+Math.imul(A,s1)|0,d=d+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,h=h+Math.imul(e,X1)|0;var e1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,d=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,h=Math.imul(l1,T1),d=d+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,h=h+Math.imul(i,L1)|0,d=d+Math.imul(y1,z1)|0,o=o+Math.imul(y1,V1)|0,o=o+Math.imul(a1,z1)|0,h=h+Math.imul(a1,V1)|0,d=d+Math.imul(f1,S1)|0,o=o+Math.imul(f1,$1)|0,o=o+Math.imul(d1,S1)|0,h=h+Math.imul(d1,$1)|0,d=d+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,h=h+Math.imul(o1,W1)|0,d=d+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,h=h+Math.imul(Y,O1)|0,d=d+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,h=h+Math.imul(c1,s1)|0,d=d+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,h=h+Math.imul(A,X1)|0;var A1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,d=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,h=Math.imul(l1,L1),d=d+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,h=h+Math.imul(i,V1)|0,d=d+Math.imul(y1,S1)|0,o=o+Math.imul(y1,$1)|0,o=o+Math.imul(a1,S1)|0,h=h+Math.imul(a1,$1)|0,d=d+Math.imul(f1,Z1)|0,o=o+Math.imul(f1,W1)|0,o=o+Math.imul(d1,Z1)|0,h=h+Math.imul(d1,W1)|0,d=d+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,h=h+Math.imul(o1,O1)|0,d=d+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,h=h+Math.imul(Y,s1)|0,d=d+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,h=h+Math.imul(c1,X1)|0;var l2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,d=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,h=Math.imul(l1,V1),d=d+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,h=h+Math.imul(i,$1)|0,d=d+Math.imul(y1,Z1)|0,o=o+Math.imul(y1,W1)|0,o=o+Math.imul(a1,Z1)|0,h=h+Math.imul(a1,W1)|0,d=d+Math.imul(f1,w1)|0,o=o+Math.imul(f1,O1)|0,o=o+Math.imul(d1,w1)|0,h=h+Math.imul(d1,O1)|0,d=d+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,h=h+Math.imul(o1,s1)|0,d=d+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,h=h+Math.imul(Y,X1)|0;var o2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,d=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,h=Math.imul(l1,$1),d=d+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,h=h+Math.imul(i,W1)|0,d=d+Math.imul(y1,w1)|0,o=o+Math.imul(y1,O1)|0,o=o+Math.imul(a1,w1)|0,h=h+Math.imul(a1,O1)|0,d=d+Math.imul(f1,R1)|0,o=o+Math.imul(f1,s1)|0,o=o+Math.imul(d1,R1)|0,h=h+Math.imul(d1,s1)|0,d=d+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,h=h+Math.imul(o1,X1)|0;var n2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,d=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,h=Math.imul(l1,W1),d=d+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,h=h+Math.imul(i,O1)|0,d=d+Math.imul(y1,R1)|0,o=o+Math.imul(y1,s1)|0,o=o+Math.imul(a1,R1)|0,h=h+Math.imul(a1,s1)|0,d=d+Math.imul(f1,g1)|0,o=o+Math.imul(f1,X1)|0,o=o+Math.imul(d1,g1)|0,h=h+Math.imul(d1,X1)|0;var p2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,d=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,h=Math.imul(l1,O1),d=d+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,h=h+Math.imul(i,s1)|0,d=d+Math.imul(y1,g1)|0,o=o+Math.imul(y1,X1)|0,o=o+Math.imul(a1,g1)|0,h=h+Math.imul(a1,X1)|0;var u2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,d=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,h=Math.imul(l1,s1),d=d+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,h=h+Math.imul(i,X1)|0;var c2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,d=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,h=Math.imul(l1,X1);var m2=(N+d|0)+((o&8191)<<13)|0;return N=(h+(o>>>13)|0)+(m2>>>26)|0,m2&=67108863,v[0]=f2,v[1]=U1,v[2]=K1,v[3]=D1,v[4]=I1,v[5]=Y1,v[6]=t1,v[7]=C1,v[8]=B1,v[9]=Q1,v[10]=e1,v[11]=A1,v[12]=l2,v[13]=o2,v[14]=n2,v[15]=p2,v[16]=u2,v[17]=c2,v[18]=m2,N!==0&&(v[19]=N,m.length++),m};Math.imul||(T=M);function $(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var n=0,c=0,v=0;v<m.length-1;v++){var N=c;c=0;for(var d=n&67108863,o=Math.min(v,p.length-1),h=Math.max(0,v-l.length+1);h<=o;h++){var P=v-h,X=l.words[P]|0,k=p.words[h]|0,I=X*k,Q=I&67108863;N=N+(I/67108864|0)|0,Q=Q+d|0,d=Q&67108863,N=N+(Q>>>26)|0,c+=N>>>26,N&=67108863}m.words[v]=d,n=N,N=c}return n!==0?m.words[v]=n:m.length--,m.strip()}function Z(l,p,m){var n=new w;return n.mulp(l,p,m)}u.prototype.mulTo=function(l,p){var m,n=this.length+l.length;return this.length===10&&l.length===10?m=T(this,l,p):n<63?m=M(this,l,p):n<1024?m=$(this,l,p):m=Z(this,l,p),m};function w(l,p){this.x=l,this.y=p}w.prototype.makeRBT=function(l){for(var p=new Array(l),m=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,m,l);return p},w.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},w.prototype.permute=function(l,p,m,n,c,v){for(var N=0;N<v;N++)n[N]=p[l[N]],c[N]=m[l[N]]},w.prototype.transform=function(l,p,m,n,c,v){this.permute(v,l,p,m,n,c);for(var N=1;N<c;N<<=1)for(var d=N<<1,o=Math.cos(2*Math.PI/d),h=Math.sin(2*Math.PI/d),P=0;P<c;P+=d)for(var X=o,k=h,I=0;I<N;I++){var Q=m[P+I],e=n[P+I],B=m[P+I+N],E=n[P+I+N],A=X*B-k*E;E=X*E+k*B,B=A,m[P+I]=Q+B,n[P+I]=e+E,m[P+I+N]=Q-B,n[P+I+N]=e-E,I!==d&&(A=o*X-h*k,k=o*k+h*X,X=A)}},w.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,n=m&1,c=0;for(m=m/2|0;m;m=m>>>1)c++;return 1<<c+1+n},w.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var n=0;n<m/2;n++){var c=l[n];l[n]=l[m-n-1],l[m-n-1]=c,c=p[n],p[n]=-p[m-n-1],p[m-n-1]=-c}},w.prototype.normalize13b=function(l,p){for(var m=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+m;l[n]=c&67108863,c<67108864?m=0:m=c/67108864|0}return l},w.prototype.convert13b=function(l,p,m,n){for(var c=0,v=0;v<p;v++)c=c+(l[v]|0),m[2*v]=c&8191,c=c>>>13,m[2*v+1]=c&8191,c=c>>>13;for(v=2*p;v<n;++v)m[v]=0;V(c===0),V((c&-8192)===0)},w.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},w.prototype.mulp=function(l,p,m){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),v=this.stub(n),N=new Array(n),d=new Array(n),o=new Array(n),h=new Array(n),P=new Array(n),X=new Array(n),k=m.words;k.length=n,this.convert13b(l.words,l.length,N,n),this.convert13b(p.words,p.length,h,n),this.transform(N,v,d,o,n,c),this.transform(h,v,P,X,n,c);for(var I=0;I<n;I++){var Q=d[I]*P[I]-o[I]*X[I];o[I]=d[I]*X[I]+o[I]*P[I],d[I]=Q}return this.conjugate(d,o,n),this.transform(d,o,k,v,n,c),this.conjugate(k,v,n),this.normalize13b(k,n),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){V(typeof l=="number"),V(l<67108864);for(var p=0,m=0;m<this.length;m++){var n=(this.words[m]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[m]=c&67108863}return p!==0&&(this.words[m]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=f(l);if(p.length===0)return new u(1);for(var m=this,n=0;n<p.length&&p[n]===0;n++,m=m.sqr());if(++n<p.length)for(var c=m.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(m=m.mul(c));return m},u.prototype.iushln=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var v=0;for(c=0;c<this.length;c++){var N=this.words[c]&n,d=(this.words[c]|0)-N<<p;this.words[c]=d|v,v=N>>>26-p}v&&(this.words[c]=v,this.length++)}if(m!==0){for(c=this.length-1;c>=0;c--)this.words[c+m]=this.words[c];for(c=0;c<m;c++)this.words[c]=0;this.length+=m}return this.strip()},u.prototype.ishln=function(l){return V(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,m){V(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,v=Math.min((l-c)/26,this.length),N=67108863^67108863>>>c<<c,d=m;if(n-=v,n=Math.max(0,n),d){for(var o=0;o<v;o++)d.words[o]=this.words[o];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,o=0;o<this.length;o++)this.words[o]=this.words[o+v];else this.words[0]=0,this.length=1;var h=0;for(o=this.length-1;o>=0&&(h!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=h<<26-c|P>>>c,h=P&N}return d&&h!==0&&(d.words[d.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,m){return V(this.negative===0),this.iushrn(l,p,m)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return!1;var c=this.words[m];return!!(c&n)},u.prototype.imaskn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(V(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return V(typeof l=="number"),V(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(V(typeof l=="number"),V(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,m){var n=l.length+m,c;this._expand(n);var v,N=0;for(c=0;c<l.length;c++){v=(this.words[c+m]|0)+N;var d=(l.words[c]|0)*p;v-=d&67108863,N=(v>>26)-(d/67108864|0),this.words[c+m]=v&67108863}for(;c<this.length-m;c++)v=(this.words[c+m]|0)+N,N=v>>26,this.words[c+m]=v&67108863;if(N===0)return this.strip();for(V(N===-1),N=0,c=0;c<this.length;c++)v=-(this.words[c]|0)+N,N=v>>26,this.words[c]=v&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var m=this.length-l.length,n=this.clone(),c=l,v=c.words[c.length-1]|0,N=this._countBits(v);m=26-N,m!==0&&(c=c.ushln(m),n.iushln(m),v=c.words[c.length-1]|0);var d=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var P=n.clone()._ishlnsubmul(c,1,d);P.negative===0&&(n=P,o&&(o.words[d]=1));for(var X=d-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/v|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&m!==0&&n.iushrn(m),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,m){if(V(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,v;return this.negative!==0&&l.negative===0?(v=this.neg().divmod(l,p),p!=="mod"&&(n=v.div.neg()),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(v=this.divmod(l.neg(),p),p!=="mod"&&(n=v.div.neg()),{div:n,mod:v.mod}):(this.negative&l.negative)!==0?(v=this.neg().divmod(l.neg(),p),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.isub(l)),{div:v.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),v=m.cmp(n);return v<0||c===1&&v===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){V(l<=67108863);for(var p=67108864%l,m=0,n=this.length-1;n>=0;n--)m=(p*m+(this.words[n]|0))%l;return m},u.prototype.idivn=function(l){V(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var n=(this.words[m]|0)+p*67108864;this.words[m]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=new u(0),N=new u(1),d=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++d;for(var o=m.clone(),h=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(h)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(m.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(v.isOdd()||N.isOdd())&&(v.iadd(o),N.isub(h)),v.iushrn(1),N.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(v),c.isub(N)):(m.isub(p),v.isub(n),N.isub(c))}return{a:v,b:N,gcd:m.iushln(d)}},u.prototype._invmp=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var N=0,d=1;(p.words[0]&d)===0&&N<26;++N,d<<=1);if(N>0)for(p.iushrn(N);N-- >0;)n.isOdd()&&n.iadd(v),n.iushrn(1);for(var o=0,h=1;(m.words[0]&h)===0&&o<26;++o,h<<=1);if(o>0)for(m.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(v),c.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(c)):(m.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var n=0;p.isEven()&&m.isEven();n++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var c=p.cmp(m);if(c<0){var v=p;p=m,m=v}else if(c===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){V(typeof l=="number");var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=n,this;for(var c=n,v=m;c!==0&&v<this.length;v++){var N=this.words[v]|0;N+=c,c=N>>>26,N&=67108863,this.words[v]=N}return c!==0&&(this.words[v]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),V(l<=67108863,"Number is too big");var n=this.words[0]|0;m=n===l?0:n<l?-1:1}return this.negative!==0?-m|0:m},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var n=this.words[m]|0,c=l.words[m]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return V(!this.red,"Already a number in reduction context"),V(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return V(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return V(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return V(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return V(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return V(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return V(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return V(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return V(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return V(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return V(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return V(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return V(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return V(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var n=m<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function R(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(R,g),R.prototype.split=function(l,p){for(var m=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var v=l.words[9];for(p.words[p.length++]=v&m,c=10;c<l.length;c++){var N=l.words[c]|0;l.words[c-10]=(N&m)<<4|v>>>22,v=N}v>>>=22,l.words[c-10]=v,v===0&&l.length>10?l.length-=10:l.length-=9},R.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var n=l.words[m]|0;p+=n*977,l.words[m]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(j,g);function J(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(J,g),J.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var n=(l.words[m]|0)*19+p,c=n&67108863;n>>>=26,l.words[m]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new R;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else V(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){V(l.negative===0,"red works only with positives"),V(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){V((l.negative|p.negative)===0,"red works only with positives"),V(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},H.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(V(p%2===1),p===3){var m=this.m.add(new u(1)).iushrn(2);return this.pow(l,m)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);V(!n.isZero());var v=new u(1).toRed(this),N=v.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(N)!==0;)o.redIAdd(N);for(var h=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(v)!==0;){for(var I=X,Q=0;I.cmp(v)!==0;Q++)I=I.redSqr();V(Q<k);var e=this.pow(h,new u(1).iushln(k-Q-1));P=P.redMul(e),h=e.redSqr(),X=X.redMul(h),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,n=new Array(1<<m);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var v=n[0],N=0,d=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var h=p.words[c],P=o-1;P>=0;P--){var X=h>>P&1;if(v!==n[0]&&(v=this.sqr(v)),X===0&&N===0){d=0;continue}N<<=1,N|=X,d++,!(d!==m&&(c!==0||P!==0))&&(v=this.mul(v,n[N]),d=0,N=0)}o=26}return v},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var m=l.mul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof W>"u"||W,x)}),V5=h1((x)=>{var W=x;function q(y,u){if(Array.isArray(y))return y.slice();if(!y)return[];var r=[];if(typeof y!="string"){for(var z=0;z<y.length;z++)r[z]=y[z]|0;return r}if(u==="hex"){y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!==0&&(y="0"+y);for(var z=0;z<y.length;z+=2)r.push(parseInt(y[z]+y[z+1],16))}else for(var z=0;z<y.length;z++){var a=y.charCodeAt(z),L=a>>8,_=a&255;L?r.push(L,_):r.push(_)}return r}W.toArray=q;function O(y){return y.length===1?"0"+y:y}W.zero2=O;function V(y){for(var u="",r=0;r<y.length;r++)u+=O(y[r].toString(16));return u}W.toHex=V,W.encode=function(y,u){return u==="hex"?V(y):y}}),Z2=h1((x)=>{var W=x,q=k2(),O=$2(),V=V5();W.assert=O,W.toArray=V.toArray,W.zero2=V.zero2,W.toHex=V.toHex,W.encode=V.encode;function y(L,_,S){var b=new Array(Math.max(L.bitLength(),S)+1);b.fill(0);for(var f=1<<_+1,M=L.clone(),T=0;T<b.length;T++){var $,Z=M.andln(f-1);M.isOdd()?(Z>(f>>1)-1?$=(f>>1)-Z:$=Z,M.isubn($)):$=0,b[T]=$,M.iushrn(1)}return b}W.getNAF=y;function u(L,_){var S=[[],[]];L=L.clone(),_=_.clone();for(var b=0,f=0,M;L.cmpn(-b)>0||_.cmpn(-f)>0;){var T=L.andln(3)+b&3,$=_.andln(3)+f&3;T===3&&(T=-1),$===3&&($=-1);var Z;(T&1)===0?Z=0:(M=L.andln(7)+b&7,(M===3||M===5)&&$===2?Z=-T:Z=T),S[0].push(Z);var w;($&1)===0?w=0:(M=_.andln(7)+f&7,(M===3||M===5)&&T===2?w=-$:w=$),S[1].push(w),2*b===Z+1&&(b=1-b),2*f===w+1&&(f=1-f),L.iushrn(1),_.iushrn(1)}return S}W.getJSF=u;function r(L,_,S){var b="_"+_;L.prototype[_]=function(){return this[b]!==void 0?this[b]:this[b]=S.call(this)}}W.cachedProperty=r;function z(L){return typeof L=="string"?W.toArray(L,"hex"):L}W.parseBytes=z;function a(L){return new q(L,"hex","le")}W.intFromLE=a}),n6=h1((x,W)=>{var q=k2(),O=Z2(),V=O.getNAF,y=O.getJSF,u=O.assert;function r(a,L){this.type=a,this.p=new q(L.p,16),this.red=L.prime?q.red(L.prime):q.mont(this.p),this.zero=new q(0).toRed(this.red),this.one=new q(1).toRed(this.red),this.two=new q(2).toRed(this.red),this.n=L.n&&new q(L.n,16),this.g=L.g&&this.pointFromJSON(L.g,L.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var _=this.n&&this.p.div(this.n);!_||_.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}W.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(a,L){u(a.precomputed);var _=a._getDoubles(),S=V(L,1,this._bitLength),b=(1<<_.step+1)-(_.step%2===0?2:1);b/=3;var f=[],M,T;for(M=0;M<S.length;M+=_.step){T=0;for(var $=M+_.step-1;$>=M;$--)T=(T<<1)+S[$];f.push(T)}for(var Z=this.jpoint(null,null,null),w=this.jpoint(null,null,null),s=b;s>0;s--){for(M=0;M<f.length;M++)T=f[M],T===s?w=w.mixedAdd(_.points[M]):T===-s&&(w=w.mixedAdd(_.points[M].neg()));Z=Z.add(w)}return Z.toP()},r.prototype._wnafMul=function(a,L){var _=4,S=a._getNAFPoints(_);_=S.wnd;for(var b=S.points,f=V(L,_,this._bitLength),M=this.jpoint(null,null,null),T=f.length-1;T>=0;T--){for(var $=0;T>=0&&f[T]===0;T--)$++;if(T>=0&&$++,M=M.dblp($),T<0)break;var Z=f[T];u(Z!==0),a.type==="affine"?Z>0?M=M.mixedAdd(b[Z-1>>1]):M=M.mixedAdd(b[-Z-1>>1].neg()):Z>0?M=M.add(b[Z-1>>1]):M=M.add(b[-Z-1>>1].neg())}return a.type==="affine"?M.toP():M},r.prototype._wnafMulAdd=function(a,L,_,S,b){var f=this._wnafT1,M=this._wnafT2,T=this._wnafT3,$=0,Z,w,s;for(Z=0;Z<S;Z++){s=L[Z];var g=s._getNAFPoints(a);f[Z]=g.wnd,M[Z]=g.points}for(Z=S-1;Z>=1;Z-=2){var R=Z-1,U=Z;if(f[R]!==1||f[U]!==1){T[R]=V(_[R],f[R],this._bitLength),T[U]=V(_[U],f[U],this._bitLength),$=Math.max(T[R].length,$),$=Math.max(T[U].length,$);continue}var j=[L[R],null,null,L[U]];L[R].y.cmp(L[U].y)===0?(j[1]=L[R].add(L[U]),j[2]=L[R].toJ().mixedAdd(L[U].neg())):L[R].y.cmp(L[U].y.redNeg())===0?(j[1]=L[R].toJ().mixedAdd(L[U]),j[2]=L[R].add(L[U].neg())):(j[1]=L[R].toJ().mixedAdd(L[U]),j[2]=L[R].toJ().mixedAdd(L[U].neg()));var J=[-3,-1,-5,-7,0,7,5,1,3],H=y(_[R],_[U]);for($=Math.max(H[0].length,$),T[R]=new Array($),T[U]=new Array($),w=0;w<$;w++){var D=H[0][w]|0,l=H[1][w]|0;T[R][w]=J[(D+1)*3+(l+1)],T[U][w]=0,M[R]=j}}var p=this.jpoint(null,null,null),m=this._wnafT4;for(Z=$;Z>=0;Z--){for(var n=0;Z>=0;){var c=!0;for(w=0;w<S;w++)m[w]=T[w][Z]|0,m[w]!==0&&(c=!1);if(!c)break;n++,Z--}if(Z>=0&&n++,p=p.dblp(n),Z<0)break;for(w=0;w<S;w++){var v=m[w];v!==0&&(v>0?s=M[w][v-1>>1]:v<0&&(s=M[w][-v-1>>1].neg()),s.type==="affine"?p=p.mixedAdd(s):p=p.add(s))}}for(Z=0;Z<S;Z++)M[Z]=null;return b?p:p.toP()};function z(a,L){this.curve=a,this.type=L,this.precomputed=null}r.BasePoint=z,z.prototype.eq=function(){throw new Error("Not implemented")},z.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(a,L){a=O.toArray(a,L);var _=this.p.byteLength();if((a[0]===4||a[0]===6||a[0]===7)&&a.length-1===2*_){a[0]===6?u(a[a.length-1]%2===0):a[0]===7&&u(a[a.length-1]%2===1);var S=this.point(a.slice(1,1+_),a.slice(1+_,1+2*_));return S}else if((a[0]===2||a[0]===3)&&a.length-1===_)return this.pointFromX(a.slice(1,1+_),a[0]===3);throw new Error("Unknown point format")},z.prototype.encodeCompressed=function(a){return this.encode(a,!0)},z.prototype._encode=function(a){var L=this.curve.p.byteLength(),_=this.getX().toArray("be",L);return a?[this.getY().isEven()?2:3].concat(_):[4].concat(_,this.getY().toArray("be",L))},z.prototype.encode=function(a,L){return O.encode(this._encode(L),a)},z.prototype.precompute=function(a){if(this.precomputed)return this;var L={doubles:null,naf:null,beta:null};return L.naf=this._getNAFPoints(8),L.doubles=this._getDoubles(4,a),L.beta=this._getBeta(),this.precomputed=L,this},z.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var L=this.precomputed.doubles;return L?L.points.length>=Math.ceil((a.bitLength()+1)/L.step):!1},z.prototype._getDoubles=function(a,L){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var _=[this],S=this,b=0;b<L;b+=a){for(var f=0;f<a;f++)S=S.dbl();_.push(S)}return{step:a,points:_}},z.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var L=[this],_=(1<<a)-1,S=_===1?null:this.dbl(),b=1;b<_;b++)L[b]=L[b-1].add(S);return{wnd:a,points:L}},z.prototype._getBeta=function(){return null},z.prototype.dblp=function(a){for(var L=this,_=0;_<a;_++)L=L.dbl();return L}}),B8=h1((x,W)=>{var q=Z2(),O=k2(),V=i1(),y=n6(),u=q.assert;function r(L){y.call(this,"short",L),this.a=new O(L.a,16).toRed(this.red),this.b=new O(L.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(L),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}V(r,y),W.exports=r,r.prototype._getEndomorphism=function(L){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var _,S;if(L.beta)_=new O(L.beta,16).toRed(this.red);else{var b=this._getEndoRoots(this.p);_=b[0].cmp(b[1])<0?b[0]:b[1],_=_.toRed(this.red)}if(L.lambda)S=new O(L.lambda,16);else{var f=this._getEndoRoots(this.n);this.g.mul(f[0]).x.cmp(this.g.x.redMul(_))===0?S=f[0]:(S=f[1],u(this.g.mul(S).x.cmp(this.g.x.redMul(_))===0))}var M;return L.basis?M=L.basis.map(function(T){return{a:new O(T.a,16),b:new O(T.b,16)}}):M=this._getEndoBasis(S),{beta:_,lambda:S,basis:M}}},r.prototype._getEndoRoots=function(L){var _=L===this.p?this.red:O.mont(L),S=new O(2).toRed(_).redInvm(),b=S.redNeg(),f=new O(3).toRed(_).redNeg().redSqrt().redMul(S),M=b.redAdd(f).fromRed(),T=b.redSub(f).fromRed();return[M,T]},r.prototype._getEndoBasis=function(L){for(var _=this.n.ushrn(Math.floor(this.n.bitLength()/2)),S=L,b=this.n.clone(),f=new O(1),M=new O(0),T=new O(0),$=new O(1),Z,w,s,g,R,U,j,J=0,H,D;S.cmpn(0)!==0;){var l=b.div(S);H=b.sub(l.mul(S)),D=T.sub(l.mul(f));var p=$.sub(l.mul(M));if(!s&&H.cmp(_)<0)Z=j.neg(),w=f,s=H.neg(),g=D;else if(s&&++J===2)break;j=H,b=S,S=H,T=f,f=D,$=M,M=p}R=H.neg(),U=D;var m=s.sqr().add(g.sqr()),n=R.sqr().add(U.sqr());return n.cmp(m)>=0&&(R=Z,U=w),s.negative&&(s=s.neg(),g=g.neg()),R.negative&&(R=R.neg(),U=U.neg()),[{a:s,b:g},{a:R,b:U}]},r.prototype._endoSplit=function(L){var _=this.endo.basis,S=_[0],b=_[1],f=b.b.mul(L).divRound(this.n),M=S.b.neg().mul(L).divRound(this.n),T=f.mul(S.a),$=M.mul(b.a),Z=f.mul(S.b),w=M.mul(b.b),s=L.sub(T).sub($),g=Z.add(w).neg();return{k1:s,k2:g}},r.prototype.pointFromX=function(L,_){L=new O(L,16),L.red||(L=L.toRed(this.red));var S=L.redSqr().redMul(L).redIAdd(L.redMul(this.a)).redIAdd(this.b),b=S.redSqrt();if(b.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");var f=b.fromRed().isOdd();return(_&&!f||!_&&f)&&(b=b.redNeg()),this.point(L,b)},r.prototype.validate=function(L){if(L.inf)return!0;var{x:_,y:S}=L,b=this.a.redMul(_),f=_.redSqr().redMul(_).redIAdd(b).redIAdd(this.b);return S.redSqr().redISub(f).cmpn(0)===0},r.prototype._endoWnafMulAdd=function(L,_,S){for(var b=this._endoWnafT1,f=this._endoWnafT2,M=0;M<L.length;M++){var T=this._endoSplit(_[M]),$=L[M],Z=$._getBeta();T.k1.negative&&(T.k1.ineg(),$=$.neg(!0)),T.k2.negative&&(T.k2.ineg(),Z=Z.neg(!0)),b[M*2]=$,b[M*2+1]=Z,f[M*2]=T.k1,f[M*2+1]=T.k2}for(var w=this._wnafMulAdd(1,b,f,M*2,S),s=0;s<M*2;s++)b[s]=null,f[s]=null;return w};function z(L,_,S,b){y.BasePoint.call(this,L,"affine"),_===null&&S===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new O(_,16),this.y=new O(S,16),b&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}V(z,y.BasePoint),r.prototype.point=function(L,_,S){return new z(this,L,_,S)},r.prototype.pointFromJSON=function(L,_){return z.fromJSON(this,L,_)},z.prototype._getBeta=function(){if(this.curve.endo){var L=this.precomputed;if(L&&L.beta)return L.beta;var _=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(L){var S=this.curve,b=function(f){return S.point(f.x.redMul(S.endo.beta),f.y)};L.beta=_,_.precomputed={beta:null,naf:L.naf&&{wnd:L.naf.wnd,points:L.naf.points.map(b)},doubles:L.doubles&&{step:L.doubles.step,points:L.doubles.points.map(b)}}}return _}},z.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},z.fromJSON=function(L,_,S){typeof _=="string"&&(_=JSON.parse(_));var b=L.point(_[0],_[1],S);if(!_[2])return b;function f(T){return L.point(T[0],T[1],S)}var M=_[2];return b.precomputed={beta:null,doubles:M.doubles&&{step:M.doubles.step,points:[b].concat(M.doubles.points.map(f))},naf:M.naf&&{wnd:M.naf.wnd,points:[b].concat(M.naf.points.map(f))}},b},z.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},z.prototype.isInfinity=function(){return this.inf},z.prototype.add=function(L){if(this.inf)return L;if(L.inf)return this;if(this.eq(L))return this.dbl();if(this.neg().eq(L))return this.curve.point(null,null);if(this.x.cmp(L.x)===0)return this.curve.point(null,null);var _=this.y.redSub(L.y);_.cmpn(0)!==0&&(_=_.redMul(this.x.redSub(L.x).redInvm()));var S=_.redSqr().redISub(this.x).redISub(L.x),b=_.redMul(this.x.redSub(S)).redISub(this.y);return this.curve.point(S,b)},z.prototype.dbl=function(){if(this.inf)return this;var L=this.y.redAdd(this.y);if(L.cmpn(0)===0)return this.curve.point(null,null);var _=this.curve.a,S=this.x.redSqr(),b=L.redInvm(),f=S.redAdd(S).redIAdd(S).redIAdd(_).redMul(b),M=f.redSqr().redISub(this.x.redAdd(this.x)),T=f.redMul(this.x.redSub(M)).redISub(this.y);return this.curve.point(M,T)},z.prototype.getX=function(){return this.x.fromRed()},z.prototype.getY=function(){return this.y.fromRed()},z.prototype.mul=function(L){return L=new O(L,16),this.isInfinity()?this:this._hasDoubles(L)?this.curve._fixedNafMul(this,L):this.curve.endo?this.curve._endoWnafMulAdd([this],[L]):this.curve._wnafMul(this,L)},z.prototype.mulAdd=function(L,_,S){var b=[this,_],f=[L,S];return this.curve.endo?this.curve._endoWnafMulAdd(b,f):this.curve._wnafMulAdd(1,b,f,2)},z.prototype.jmulAdd=function(L,_,S){var b=[this,_],f=[L,S];return this.curve.endo?this.curve._endoWnafMulAdd(b,f,!0):this.curve._wnafMulAdd(1,b,f,2,!0)},z.prototype.eq=function(L){return this===L||this.inf===L.inf&&(this.inf||this.x.cmp(L.x)===0&&this.y.cmp(L.y)===0)},z.prototype.neg=function(L){if(this.inf)return this;var _=this.curve.point(this.x,this.y.redNeg());if(L&&this.precomputed){var S=this.precomputed,b=function(f){return f.neg()};_.precomputed={naf:S.naf&&{wnd:S.naf.wnd,points:S.naf.points.map(b)},doubles:S.doubles&&{step:S.doubles.step,points:S.doubles.points.map(b)}}}return _},z.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var L=this.curve.jpoint(this.x,this.y,this.curve.one);return L};function a(L,_,S,b){y.BasePoint.call(this,L,"jacobian"),_===null&&S===null&&b===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new O(0)):(this.x=new O(_,16),this.y=new O(S,16),this.z=new O(b,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}V(a,y.BasePoint),r.prototype.jpoint=function(L,_,S){return new a(this,L,_,S)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var L=this.z.redInvm(),_=L.redSqr(),S=this.x.redMul(_),b=this.y.redMul(_).redMul(L);return this.curve.point(S,b)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(L){if(this.isInfinity())return L;if(L.isInfinity())return this;var _=L.z.redSqr(),S=this.z.redSqr(),b=this.x.redMul(_),f=L.x.redMul(S),M=this.y.redMul(_.redMul(L.z)),T=L.y.redMul(S.redMul(this.z)),$=b.redSub(f),Z=M.redSub(T);if($.cmpn(0)===0)return Z.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=$.redSqr(),s=w.redMul($),g=b.redMul(w),R=Z.redSqr().redIAdd(s).redISub(g).redISub(g),U=Z.redMul(g.redISub(R)).redISub(M.redMul(s)),j=this.z.redMul(L.z).redMul($);return this.curve.jpoint(R,U,j)},a.prototype.mixedAdd=function(L){if(this.isInfinity())return L.toJ();if(L.isInfinity())return this;var _=this.z.redSqr(),S=this.x,b=L.x.redMul(_),f=this.y,M=L.y.redMul(_).redMul(this.z),T=S.redSub(b),$=f.redSub(M);if(T.cmpn(0)===0)return $.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Z=T.redSqr(),w=Z.redMul(T),s=S.redMul(Z),g=$.redSqr().redIAdd(w).redISub(s).redISub(s),R=$.redMul(s.redISub(g)).redISub(f.redMul(w)),U=this.z.redMul(T);return this.curve.jpoint(g,R,U)},a.prototype.dblp=function(L){if(L===0)return this;if(this.isInfinity())return this;if(!L)return this.dbl();var _;if(this.curve.zeroA||this.curve.threeA){var S=this;for(_=0;_<L;_++)S=S.dbl();return S}var b=this.curve.a,f=this.curve.tinv,M=this.x,T=this.y,$=this.z,Z=$.redSqr().redSqr(),w=T.redAdd(T);for(_=0;_<L;_++){var s=M.redSqr(),g=w.redSqr(),R=g.redSqr(),U=s.redAdd(s).redIAdd(s).redIAdd(b.redMul(Z)),j=M.redMul(g),J=U.redSqr().redISub(j.redAdd(j)),H=j.redISub(J),D=U.redMul(H);D=D.redIAdd(D).redISub(R);var l=w.redMul($);_+1<L&&(Z=Z.redMul(R)),M=J,$=l,w=D}return this.curve.jpoint(M,w.redMul(f),$)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var L,_,S;if(this.zOne){var b=this.x.redSqr(),f=this.y.redSqr(),M=f.redSqr(),T=this.x.redAdd(f).redSqr().redISub(b).redISub(M);T=T.redIAdd(T);var $=b.redAdd(b).redIAdd(b),Z=$.redSqr().redISub(T).redISub(T),w=M.redIAdd(M);w=w.redIAdd(w),w=w.redIAdd(w),L=Z,_=$.redMul(T.redISub(Z)).redISub(w),S=this.y.redAdd(this.y)}else{var s=this.x.redSqr(),g=this.y.redSqr(),R=g.redSqr(),U=this.x.redAdd(g).redSqr().redISub(s).redISub(R);U=U.redIAdd(U);var j=s.redAdd(s).redIAdd(s),J=j.redSqr(),H=R.redIAdd(R);H=H.redIAdd(H),H=H.redIAdd(H),L=J.redISub(U).redISub(U),_=j.redMul(U.redISub(L)).redISub(H),S=this.y.redMul(this.z),S=S.redIAdd(S)}return this.curve.jpoint(L,_,S)},a.prototype._threeDbl=function(){var L,_,S;if(this.zOne){var b=this.x.redSqr(),f=this.y.redSqr(),M=f.redSqr(),T=this.x.redAdd(f).redSqr().redISub(b).redISub(M);T=T.redIAdd(T);var $=b.redAdd(b).redIAdd(b).redIAdd(this.curve.a),Z=$.redSqr().redISub(T).redISub(T);L=Z;var w=M.redIAdd(M);w=w.redIAdd(w),w=w.redIAdd(w),_=$.redMul(T.redISub(Z)).redISub(w),S=this.y.redAdd(this.y)}else{var s=this.z.redSqr(),g=this.y.redSqr(),R=this.x.redMul(g),U=this.x.redSub(s).redMul(this.x.redAdd(s));U=U.redAdd(U).redIAdd(U);var j=R.redIAdd(R);j=j.redIAdd(j);var J=j.redAdd(j);L=U.redSqr().redISub(J),S=this.y.redAdd(this.z).redSqr().redISub(g).redISub(s);var H=g.redSqr();H=H.redIAdd(H),H=H.redIAdd(H),H=H.redIAdd(H),_=U.redMul(j.redISub(L)).redISub(H)}return this.curve.jpoint(L,_,S)},a.prototype._dbl=function(){var L=this.curve.a,_=this.x,S=this.y,b=this.z,f=b.redSqr().redSqr(),M=_.redSqr(),T=S.redSqr(),$=M.redAdd(M).redIAdd(M).redIAdd(L.redMul(f)),Z=_.redAdd(_);Z=Z.redIAdd(Z);var w=Z.redMul(T),s=$.redSqr().redISub(w.redAdd(w)),g=w.redISub(s),R=T.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var U=$.redMul(g).redISub(R),j=S.redAdd(S).redMul(b);return this.curve.jpoint(s,U,j)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var L=this.x.redSqr(),_=this.y.redSqr(),S=this.z.redSqr(),b=_.redSqr(),f=L.redAdd(L).redIAdd(L),M=f.redSqr(),T=this.x.redAdd(_).redSqr().redISub(L).redISub(b);T=T.redIAdd(T),T=T.redAdd(T).redIAdd(T),T=T.redISub(M);var $=T.redSqr(),Z=b.redIAdd(b);Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),Z=Z.redIAdd(Z);var w=f.redIAdd(T).redSqr().redISub(M).redISub($).redISub(Z),s=_.redMul(w);s=s.redIAdd(s),s=s.redIAdd(s);var g=this.x.redMul($).redISub(s);g=g.redIAdd(g),g=g.redIAdd(g);var R=this.y.redMul(w.redMul(Z.redISub(w)).redISub(T.redMul($)));R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var U=this.z.redAdd(T).redSqr().redISub(S).redISub($);return this.curve.jpoint(g,R,U)},a.prototype.mul=function(L,_){return L=new O(L,_),this.curve._wnafMul(this,L)},a.prototype.eq=function(L){if(L.type==="affine")return this.eq(L.toJ());if(this===L)return!0;var _=this.z.redSqr(),S=L.z.redSqr();if(this.x.redMul(S).redISub(L.x.redMul(_)).cmpn(0)!==0)return!1;var b=_.redMul(this.z),f=S.redMul(L.z);return this.y.redMul(f).redISub(L.y.redMul(b)).cmpn(0)===0},a.prototype.eqXToP=function(L){var _=this.z.redSqr(),S=L.toRed(this.curve.red).redMul(_);if(this.x.cmp(S)===0)return!0;for(var b=L.clone(),f=this.curve.redN.redMul(_);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(S.redIAdd(f),this.x.cmp(S)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),Q8=h1((x,W)=>{var q=k2(),O=i1(),V=n6(),y=Z2();function u(z){V.call(this,"mont",z),this.a=new q(z.a,16).toRed(this.red),this.b=new q(z.b,16).toRed(this.red),this.i4=new q(4).toRed(this.red).redInvm(),this.two=new q(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}O(u,V),W.exports=u,u.prototype.validate=function(z){var a=z.normalize().x,L=a.redSqr(),_=L.redMul(a).redAdd(L.redMul(this.a)).redAdd(a),S=_.redSqrt();return S.redSqr().cmp(_)===0};function r(z,a,L){V.BasePoint.call(this,z,"projective"),a===null&&L===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new q(a,16),this.z=new q(L,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}O(r,V.BasePoint),u.prototype.decodePoint=function(z,a){return this.point(y.toArray(z,a),1)},u.prototype.point=function(z,a){return new r(this,z,a)},u.prototype.pointFromJSON=function(z){return r.fromJSON(this,z)},r.prototype.precompute=function(){},r.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},r.fromJSON=function(z,a){return new r(z,a[0],a[1]||z.one)},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return this.z.cmpn(0)===0},r.prototype.dbl=function(){var z=this.x.redAdd(this.z),a=z.redSqr(),L=this.x.redSub(this.z),_=L.redSqr(),S=a.redSub(_),b=a.redMul(_),f=S.redMul(_.redAdd(this.curve.a24.redMul(S)));return this.curve.point(b,f)},r.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},r.prototype.diffAdd=function(z,a){var L=this.x.redAdd(this.z),_=this.x.redSub(this.z),S=z.x.redAdd(z.z),b=z.x.redSub(z.z),f=b.redMul(L),M=S.redMul(_),T=a.z.redMul(f.redAdd(M).redSqr()),$=a.x.redMul(f.redISub(M).redSqr());return this.curve.point(T,$)},r.prototype.mul=function(z){for(var a=z.clone(),L=this,_=this.curve.point(null,null),S=this,b=[];a.cmpn(0)!==0;a.iushrn(1))b.push(a.andln(1));for(var f=b.length-1;f>=0;f--)b[f]===0?(L=L.diffAdd(_,S),_=_.dbl()):(_=L.diffAdd(_,S),L=L.dbl());return _},r.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},r.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},r.prototype.eq=function(z){return this.getX().cmp(z.getX())===0},r.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},r.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),e8=h1((x,W)=>{var q=Z2(),O=k2(),V=i1(),y=n6(),u=q.assert;function r(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,y.call(this,"edwards",a),this.a=new O(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new O(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new O(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}V(r,y),W.exports=r,r.prototype._mulA=function(a){return this.mOneA?a.redNeg():this.a.redMul(a)},r.prototype._mulC=function(a){return this.oneC?a:this.c.redMul(a)},r.prototype.jpoint=function(a,L,_,S){return this.point(a,L,_,S)},r.prototype.pointFromX=function(a,L){a=new O(a,16),a.red||(a=a.toRed(this.red));var _=a.redSqr(),S=this.c2.redSub(this.a.redMul(_)),b=this.one.redSub(this.c2.redMul(this.d).redMul(_)),f=S.redMul(b.redInvm()),M=f.redSqrt();if(M.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var T=M.fromRed().isOdd();return(L&&!T||!L&&T)&&(M=M.redNeg()),this.point(a,M)},r.prototype.pointFromY=function(a,L){a=new O(a,16),a.red||(a=a.toRed(this.red));var _=a.redSqr(),S=_.redSub(this.c2),b=_.redMul(this.d).redMul(this.c2).redSub(this.a),f=S.redMul(b.redInvm());if(f.cmp(this.zero)===0){if(L)throw new Error("invalid point");return this.point(this.zero,a)}var M=f.redSqrt();if(M.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");return M.fromRed().isOdd()!==L&&(M=M.redNeg()),this.point(M,a)},r.prototype.validate=function(a){if(a.isInfinity())return!0;a.normalize();var L=a.x.redSqr(),_=a.y.redSqr(),S=L.redMul(this.a).redAdd(_),b=this.c2.redMul(this.one.redAdd(this.d.redMul(L).redMul(_)));return S.cmp(b)===0};function z(a,L,_,S,b){y.BasePoint.call(this,a,"projective"),L===null&&_===null&&S===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new O(L,16),this.y=new O(_,16),this.z=S?new O(S,16):this.curve.one,this.t=b&&new O(b,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}V(z,y.BasePoint),r.prototype.pointFromJSON=function(a){return z.fromJSON(this,a)},r.prototype.point=function(a,L,_,S){return new z(this,a,L,_,S)},z.fromJSON=function(a,L){return new z(a,L[0],L[1],L[2])},z.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},z.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},z.prototype._extDbl=function(){var a=this.x.redSqr(),L=this.y.redSqr(),_=this.z.redSqr();_=_.redIAdd(_);var S=this.curve._mulA(a),b=this.x.redAdd(this.y).redSqr().redISub(a).redISub(L),f=S.redAdd(L),M=f.redSub(_),T=S.redSub(L),$=b.redMul(M),Z=f.redMul(T),w=b.redMul(T),s=M.redMul(f);return this.curve.point($,Z,s,w)},z.prototype._projDbl=function(){var a=this.x.redAdd(this.y).redSqr(),L=this.x.redSqr(),_=this.y.redSqr(),S,b,f,M,T,$;if(this.curve.twisted){M=this.curve._mulA(L);var Z=M.redAdd(_);this.zOne?(S=a.redSub(L).redSub(_).redMul(Z.redSub(this.curve.two)),b=Z.redMul(M.redSub(_)),f=Z.redSqr().redSub(Z).redSub(Z)):(T=this.z.redSqr(),$=Z.redSub(T).redISub(T),S=a.redSub(L).redISub(_).redMul($),b=Z.redMul(M.redSub(_)),f=Z.redMul($))}else M=L.redAdd(_),T=this.curve._mulC(this.z).redSqr(),$=M.redSub(T).redSub(T),S=this.curve._mulC(a.redISub(M)).redMul($),b=this.curve._mulC(M).redMul(L.redISub(_)),f=M.redMul($);return this.curve.point(S,b,f)},z.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},z.prototype._extAdd=function(a){var L=this.y.redSub(this.x).redMul(a.y.redSub(a.x)),_=this.y.redAdd(this.x).redMul(a.y.redAdd(a.x)),S=this.t.redMul(this.curve.dd).redMul(a.t),b=this.z.redMul(a.z.redAdd(a.z)),f=_.redSub(L),M=b.redSub(S),T=b.redAdd(S),$=_.redAdd(L),Z=f.redMul(M),w=T.redMul($),s=f.redMul($),g=M.redMul(T);return this.curve.point(Z,w,g,s)},z.prototype._projAdd=function(a){var L=this.z.redMul(a.z),_=L.redSqr(),S=this.x.redMul(a.x),b=this.y.redMul(a.y),f=this.curve.d.redMul(S).redMul(b),M=_.redSub(f),T=_.redAdd(f),$=this.x.redAdd(this.y).redMul(a.x.redAdd(a.y)).redISub(S).redISub(b),Z=L.redMul(M).redMul($),w,s;return this.curve.twisted?(w=L.redMul(T).redMul(b.redSub(this.curve._mulA(S))),s=M.redMul(T)):(w=L.redMul(T).redMul(b.redSub(S)),s=this.curve._mulC(M).redMul(T)),this.curve.point(Z,w,s)},z.prototype.add=function(a){return this.isInfinity()?a:a.isInfinity()?this:this.curve.extended?this._extAdd(a):this._projAdd(a)},z.prototype.mul=function(a){return this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve._wnafMul(this,a)},z.prototype.mulAdd=function(a,L,_){return this.curve._wnafMulAdd(1,[this,L],[a,_],2,!1)},z.prototype.jmulAdd=function(a,L,_){return this.curve._wnafMulAdd(1,[this,L],[a,_],2,!0)},z.prototype.normalize=function(){if(this.zOne)return this;var a=this.z.redInvm();return this.x=this.x.redMul(a),this.y=this.y.redMul(a),this.t&&(this.t=this.t.redMul(a)),this.z=this.curve.one,this.zOne=!0,this},z.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},z.prototype.getX=function(){return this.normalize(),this.x.fromRed()},z.prototype.getY=function(){return this.normalize(),this.y.fromRed()},z.prototype.eq=function(a){return this===a||this.getX().cmp(a.getX())===0&&this.getY().cmp(a.getY())===0},z.prototype.eqXToP=function(a){var L=a.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(L)===0)return!0;for(var _=a.clone(),S=this.curve.redN.redMul(this.z);;){if(_.iadd(this.curve.n),_.cmp(this.curve.p)>=0)return!1;if(L.redIAdd(S),this.x.cmp(L)===0)return!0}},z.prototype.toP=z.prototype.normalize,z.prototype.mixedAdd=z.prototype.add}),S5=h1((x)=>{var W=x;W.base=n6(),W.short=B8(),W.mont=Q8(),W.edwards=e8()}),s2=h1((x)=>{var W=$2(),q=i1();x.inherits=q;function O(p,m){return(p.charCodeAt(m)&64512)!==55296||m<0||m+1>=p.length?!1:(p.charCodeAt(m+1)&64512)===56320}function V(p,m){if(Array.isArray(p))return p.slice();if(!p)return[];var n=[];if(typeof p=="string")if(m){if(m==="hex")for(p=p.replace(/[^a-z0-9]+/ig,""),p.length%2!==0&&(p="0"+p),v=0;v<p.length;v+=2)n.push(parseInt(p[v]+p[v+1],16))}else for(var c=0,v=0;v<p.length;v++){var N=p.charCodeAt(v);N<128?n[c++]=N:N<2048?(n[c++]=N>>6|192,n[c++]=N&63|128):O(p,v)?(N=65536+((N&1023)<<10)+(p.charCodeAt(++v)&1023),n[c++]=N>>18|240,n[c++]=N>>12&63|128,n[c++]=N>>6&63|128,n[c++]=N&63|128):(n[c++]=N>>12|224,n[c++]=N>>6&63|128,n[c++]=N&63|128)}else for(v=0;v<p.length;v++)n[v]=p[v]|0;return n}x.toArray=V;function y(p){for(var m="",n=0;n<p.length;n++)m+=z(p[n].toString(16));return m}x.toHex=y;function u(p){var m=p>>>24|p>>>8&65280|p<<8&16711680|(p&255)<<24;return m>>>0}x.htonl=u;function r(p,m){for(var n="",c=0;c<p.length;c++){var v=p[c];m==="little"&&(v=u(v)),n+=a(v.toString(16))}return n}x.toHex32=r;function z(p){return p.length===1?"0"+p:p}x.zero2=z;function a(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}x.zero8=a;function L(p,m,n,c){var v=n-m;W(v%4===0);for(var N=new Array(v/4),d=0,o=m;d<N.length;d++,o+=4){var h;c==="big"?h=p[o]<<24|p[o+1]<<16|p[o+2]<<8|p[o+3]:h=p[o+3]<<24|p[o+2]<<16|p[o+1]<<8|p[o],N[d]=h>>>0}return N}x.join32=L;function _(p,m){for(var n=new Array(p.length*4),c=0,v=0;c<p.length;c++,v+=4){var N=p[c];m==="big"?(n[v]=N>>>24,n[v+1]=N>>>16&255,n[v+2]=N>>>8&255,n[v+3]=N&255):(n[v+3]=N>>>24,n[v+2]=N>>>16&255,n[v+1]=N>>>8&255,n[v]=N&255)}return n}x.split32=_;function S(p,m){return p>>>m|p<<32-m}x.rotr32=S;function b(p,m){return p<<m|p>>>32-m}x.rotl32=b;function f(p,m){return p+m>>>0}x.sum32=f;function M(p,m,n){return p+m+n>>>0}x.sum32_3=M;function T(p,m,n,c){return p+m+n+c>>>0}x.sum32_4=T;function $(p,m,n,c,v){return p+m+n+c+v>>>0}x.sum32_5=$;function Z(p,m,n,c){var v=p[m],N=p[m+1],d=c+N>>>0,o=(d<c?1:0)+n+v;p[m]=o>>>0,p[m+1]=d}x.sum64=Z;function w(p,m,n,c){var v=m+c>>>0,N=(v<m?1:0)+p+n;return N>>>0}x.sum64_hi=w;function s(p,m,n,c){var v=m+c;return v>>>0}x.sum64_lo=s;function g(p,m,n,c,v,N,d,o){var h=0,P=m;P=P+c>>>0,h+=P<m?1:0,P=P+N>>>0,h+=P<N?1:0,P=P+o>>>0,h+=P<o?1:0;var X=p+n+v+d+h;return X>>>0}x.sum64_4_hi=g;function R(p,m,n,c,v,N,d,o){var h=m+c+N+o;return h>>>0}x.sum64_4_lo=R;function U(p,m,n,c,v,N,d,o,h,P){var X=0,k=m;k=k+c>>>0,X+=k<m?1:0,k=k+N>>>0,X+=k<N?1:0,k=k+o>>>0,X+=k<o?1:0,k=k+P>>>0,X+=k<P?1:0;var I=p+n+v+d+h+X;return I>>>0}x.sum64_5_hi=U;function j(p,m,n,c,v,N,d,o,h,P){var X=m+c+N+o+P;return X>>>0}x.sum64_5_lo=j;function J(p,m,n){var c=m<<32-n|p>>>n;return c>>>0}x.rotr64_hi=J;function H(p,m,n){var c=p<<32-n|m>>>n;return c>>>0}x.rotr64_lo=H;function D(p,m,n){return p>>>n}x.shr64_hi=D;function l(p,m,n){var c=p<<32-n|m>>>n;return c>>>0}x.shr64_lo=l}),$3=h1((x)=>{var W=s2(),q=$2();function O(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}x.BlockHash=O,O.prototype.update=function(V,y){if(V=W.toArray(V,y),this.pending?this.pending=this.pending.concat(V):this.pending=V,this.pendingTotal+=V.length,this.pending.length>=this._delta8){V=this.pending;var u=V.length%this._delta8;this.pending=V.slice(V.length-u,V.length),this.pending.length===0&&(this.pending=null),V=W.join32(V,0,V.length-u,this.endian);for(var r=0;r<V.length;r+=this._delta32)this._update(V,r,r+this._delta32)}return this},O.prototype.digest=function(V){return this.update(this._pad()),q(this.pending===null),this._digest(V)},O.prototype._pad=function(){var V=this.pendingTotal,y=this._delta8,u=y-(V+this.padLength)%y,r=new Array(u+this.padLength);r[0]=128;for(var z=1;z<u;z++)r[z]=0;if(V<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)r[z++]=0;r[z++]=0,r[z++]=0,r[z++]=0,r[z++]=0,r[z++]=V>>>24&255,r[z++]=V>>>16&255,r[z++]=V>>>8&255,r[z++]=V&255}else for(r[z++]=V&255,r[z++]=V>>>8&255,r[z++]=V>>>16&255,r[z++]=V>>>24&255,r[z++]=0,r[z++]=0,r[z++]=0,r[z++]=0,a=8;a<this.padLength;a++)r[z++]=0;return r}}),$5=h1((x)=>{var W=s2(),q=W.rotr32;function O(_,S,b,f){if(_===0)return V(S,b,f);if(_===1||_===3)return u(S,b,f);if(_===2)return y(S,b,f)}x.ft_1=O;function V(_,S,b){return _&S^~_&b}x.ch32=V;function y(_,S,b){return _&S^_&b^S&b}x.maj32=y;function u(_,S,b){return _^S^b}x.p32=u;function r(_){return q(_,2)^q(_,13)^q(_,22)}x.s0_256=r;function z(_){return q(_,6)^q(_,11)^q(_,25)}x.s1_256=z;function a(_){return q(_,7)^q(_,18)^_>>>3}x.g0_256=a;function L(_){return q(_,17)^q(_,19)^_>>>10}x.g1_256=L}),A8=h1((x,W)=>{var q=s2(),O=$3(),V=$5(),y=q.rotl32,u=q.sum32,r=q.sum32_5,z=V.ft_1,a=O.BlockHash,L=[1518500249,1859775393,2400959708,3395469782];function _(){if(!(this instanceof _))return new _;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}q.inherits(_,a),W.exports=_,_.blockSize=512,_.outSize=160,_.hmacStrength=80,_.padLength=64,_.prototype._update=function(S,b){for(var f=this.W,M=0;M<16;M++)f[M]=S[b+M];for(;M<f.length;M++)f[M]=y(f[M-3]^f[M-8]^f[M-14]^f[M-16],1);var T=this.h[0],$=this.h[1],Z=this.h[2],w=this.h[3],s=this.h[4];for(M=0;M<f.length;M++){var g=~~(M/20),R=r(y(T,5),z(g,$,Z,w),s,f[M],L[g]);s=w,w=Z,Z=y($,30),$=T,T=R}this.h[0]=u(this.h[0],T),this.h[1]=u(this.h[1],$),this.h[2]=u(this.h[2],Z),this.h[3]=u(this.h[3],w),this.h[4]=u(this.h[4],s)},_.prototype._digest=function(S){return S==="hex"?q.toHex32(this.h,"big"):q.split32(this.h,"big")}}),Z5=h1((x,W)=>{var q=s2(),O=$3(),V=$5(),y=$2(),u=q.sum32,r=q.sum32_4,z=q.sum32_5,a=V.ch32,L=V.maj32,_=V.s0_256,S=V.s1_256,b=V.g0_256,f=V.g1_256,M=O.BlockHash,T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $(){if(!(this instanceof $))return new $;M.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=T,this.W=new Array(64)}q.inherits($,M),W.exports=$,$.blockSize=512,$.outSize=256,$.hmacStrength=192,$.padLength=64,$.prototype._update=function(Z,w){for(var s=this.W,g=0;g<16;g++)s[g]=Z[w+g];for(;g<s.length;g++)s[g]=r(f(s[g-2]),s[g-7],b(s[g-15]),s[g-16]);var R=this.h[0],U=this.h[1],j=this.h[2],J=this.h[3],H=this.h[4],D=this.h[5],l=this.h[6],p=this.h[7];for(y(this.k.length===s.length),g=0;g<s.length;g++){var m=z(p,S(H),a(H,D,l),this.k[g],s[g]),n=u(_(R),L(R,U,j));p=l,l=D,D=H,H=u(J,m),J=j,j=U,U=R,R=u(m,n)}this.h[0]=u(this.h[0],R),this.h[1]=u(this.h[1],U),this.h[2]=u(this.h[2],j),this.h[3]=u(this.h[3],J),this.h[4]=u(this.h[4],H),this.h[5]=u(this.h[5],D),this.h[6]=u(this.h[6],l),this.h[7]=u(this.h[7],p)},$.prototype._digest=function(Z){return Z==="hex"?q.toHex32(this.h,"big"):q.split32(this.h,"big")}}),l7=h1((x,W)=>{var q=s2(),O=Z5();function V(){if(!(this instanceof V))return new V;O.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}q.inherits(V,O),W.exports=V,V.blockSize=512,V.outSize=224,V.hmacStrength=192,V.padLength=64,V.prototype._digest=function(y){return y==="hex"?q.toHex32(this.h.slice(0,7),"big"):q.split32(this.h.slice(0,7),"big")}}),W5=h1((x,W)=>{var q=s2(),O=$3(),V=$2(),y=q.rotr64_hi,u=q.rotr64_lo,r=q.shr64_hi,z=q.shr64_lo,a=q.sum64,L=q.sum64_hi,_=q.sum64_lo,S=q.sum64_4_hi,b=q.sum64_4_lo,f=q.sum64_5_hi,M=q.sum64_5_lo,T=O.BlockHash,$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(){if(!(this instanceof Z))return new Z;T.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=$,this.W=new Array(160)}q.inherits(Z,T),W.exports=Z,Z.blockSize=1024,Z.outSize=512,Z.hmacStrength=192,Z.padLength=128,Z.prototype._prepareBlock=function(n,c){for(var v=this.W,N=0;N<32;N++)v[N]=n[c+N];for(;N<v.length;N+=2){var d=p(v[N-4],v[N-3]),o=m(v[N-4],v[N-3]),h=v[N-14],P=v[N-13],X=D(v[N-30],v[N-29]),k=l(v[N-30],v[N-29]),I=v[N-32],Q=v[N-31];v[N]=S(d,o,h,P,X,k,I,Q),v[N+1]=b(d,o,h,P,X,k,I,Q)}},Z.prototype._update=function(n,c){this._prepareBlock(n,c);var v=this.W,N=this.h[0],d=this.h[1],o=this.h[2],h=this.h[3],P=this.h[4],X=this.h[5],k=this.h[6],I=this.h[7],Q=this.h[8],e=this.h[9],B=this.h[10],E=this.h[11],A=this.h[12],r1=this.h[13],n1=this.h[14],c1=this.h[15];V(this.k.length===v.length);for(var G=0;G<v.length;G+=2){var K=n1,Y=c1,p1=J(Q,e),u1=H(Q,e),o1=w(Q,e,B,E,A,r1),M1=s(Q,e,B,E,A,r1),f1=this.k[G],d1=this.k[G+1],F1=v[G],y1=v[G+1],a1=f(K,Y,p1,u1,o1,M1,f1,d1,F1,y1),k1=M(K,Y,p1,u1,o1,M1,f1,d1,F1,y1);K=U(N,d),Y=j(N,d),p1=g(N,d,o,h,P,X),u1=R(N,d,o,h,P,X);var F=L(K,Y,p1,u1),i=_(K,Y,p1,u1);n1=A,c1=r1,A=B,r1=E,B=Q,E=e,Q=L(k,I,a1,k1),e=_(I,I,a1,k1),k=P,I=X,P=o,X=h,o=N,h=d,N=L(a1,k1,F,i),d=_(a1,k1,F,i)}a(this.h,0,N,d),a(this.h,2,o,h),a(this.h,4,P,X),a(this.h,6,k,I),a(this.h,8,Q,e),a(this.h,10,B,E),a(this.h,12,A,r1),a(this.h,14,n1,c1)},Z.prototype._digest=function(n){return n==="hex"?q.toHex32(this.h,"big"):q.split32(this.h,"big")};function w(n,c,v,N,d){var o=n&v^~n&d;return o<0&&(o+=4294967296),o}function s(n,c,v,N,d,o){var h=c&N^~c&o;return h<0&&(h+=4294967296),h}function g(n,c,v,N,d){var o=n&v^n&d^v&d;return o<0&&(o+=4294967296),o}function R(n,c,v,N,d,o){var h=c&N^c&o^N&o;return h<0&&(h+=4294967296),h}function U(n,c){var v=y(n,c,28),N=y(c,n,2),d=y(c,n,7),o=v^N^d;return o<0&&(o+=4294967296),o}function j(n,c){var v=u(n,c,28),N=u(c,n,2),d=u(c,n,7),o=v^N^d;return o<0&&(o+=4294967296),o}function J(n,c){var v=y(n,c,14),N=y(n,c,18),d=y(c,n,9),o=v^N^d;return o<0&&(o+=4294967296),o}function H(n,c){var v=u(n,c,14),N=u(n,c,18),d=u(c,n,9),o=v^N^d;return o<0&&(o+=4294967296),o}function D(n,c){var v=y(n,c,1),N=y(n,c,8),d=r(n,c,7),o=v^N^d;return o<0&&(o+=4294967296),o}function l(n,c){var v=u(n,c,1),N=u(n,c,8),d=z(n,c,7),o=v^N^d;return o<0&&(o+=4294967296),o}function p(n,c){var v=y(n,c,19),N=y(c,n,29),d=r(n,c,6),o=v^N^d;return o<0&&(o+=4294967296),o}function m(n,c){var v=u(n,c,19),N=u(c,n,29),d=z(n,c,6),o=v^N^d;return o<0&&(o+=4294967296),o}}),o7=h1((x,W)=>{var q=s2(),O=W5();function V(){if(!(this instanceof V))return new V;O.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}q.inherits(V,O),W.exports=V,V.blockSize=1024,V.outSize=384,V.hmacStrength=192,V.padLength=128,V.prototype._digest=function(y){return y==="hex"?q.toHex32(this.h.slice(0,12),"big"):q.split32(this.h.slice(0,12),"big")}}),n7=h1((x)=>{x.sha1=A8(),x.sha224=l7(),x.sha256=Z5(),x.sha384=o7(),x.sha512=W5()}),p7=h1((x)=>{var W=s2(),q=$3(),O=W.rotl32,V=W.sum32,y=W.sum32_3,u=W.sum32_4,r=q.BlockHash;function z(){if(!(this instanceof z))return new z;r.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}W.inherits(z,r),x.ripemd160=z,z.blockSize=512,z.outSize=160,z.hmacStrength=192,z.padLength=64,z.prototype._update=function(T,$){for(var Z=this.h[0],w=this.h[1],s=this.h[2],g=this.h[3],R=this.h[4],U=Z,j=w,J=s,H=g,D=R,l=0;l<80;l++){var p=V(O(u(Z,a(l,w,s,g),T[S[l]+$],L(l)),f[l]),R);Z=R,R=g,g=O(s,10),s=w,w=p,p=V(O(u(U,a(79-l,j,J,H),T[b[l]+$],_(l)),M[l]),D),U=D,D=H,H=O(J,10),J=j,j=p}p=y(this.h[1],s,H),this.h[1]=y(this.h[2],g,D),this.h[2]=y(this.h[3],R,U),this.h[3]=y(this.h[4],Z,j),this.h[4]=y(this.h[0],w,J),this.h[0]=p},z.prototype._digest=function(T){return T==="hex"?W.toHex32(this.h,"little"):W.split32(this.h,"little")};function a(T,$,Z,w){return T<=15?$^Z^w:T<=31?$&Z|~$&w:T<=47?($|~Z)^w:T<=63?$&w|Z&~w:$^(Z|~w)}function L(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function _(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}var S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],M=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),u7=h1((x,W)=>{var q=s2(),O=$2();function V(y,u,r){if(!(this instanceof V))return new V(y,u,r);this.Hash=y,this.blockSize=y.blockSize/8,this.outSize=y.outSize/8,this.inner=null,this.outer=null,this._init(q.toArray(u,r))}W.exports=V,V.prototype._init=function(y){y.length>this.blockSize&&(y=new this.Hash().update(y).digest()),O(y.length<=this.blockSize);for(var u=y.length;u<this.blockSize;u++)y.push(0);for(u=0;u<y.length;u++)y[u]^=54;for(this.inner=new this.Hash().update(y),u=0;u<y.length;u++)y[u]^=106;this.outer=new this.Hash().update(y)},V.prototype.update=function(y,u){return this.inner.update(y,u),this},V.prototype.digest=function(y){return this.outer.update(this.inner.digest()),this.outer.digest(y)}}),Y6=h1((x)=>{var W=x;W.utils=s2(),W.common=$3(),W.sha=n7(),W.ripemd=p7(),W.hmac=u7(),W.sha1=W.sha.sha1,W.sha256=W.sha.sha256,W.sha224=W.sha.sha224,W.sha384=W.sha.sha384,W.sha512=W.sha.sha512,W.ripemd160=W.ripemd.ripemd160}),c7=h1((x,W)=>{W.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),t6=h1((x)=>{var W=x,q=Y6(),O=S5(),V=Z2(),y=V.assert;function u(a){a.type==="short"?this.curve=new O.short(a):a.type==="edwards"?this.curve=new O.edwards(a):this.curve=new O.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,y(this.g.validate(),"Invalid curve"),y(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}W.PresetCurve=u;function r(a,L){Object.defineProperty(W,a,{configurable:!0,enumerable:!0,get:function(){var _=new u(L);return Object.defineProperty(W,a,{configurable:!0,enumerable:!0,value:_}),_}})}r("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:q.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),r("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:q.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),r("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:q.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),r("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:q.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),r("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:q.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),r("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:q.sha256,gRed:!1,g:["9"]}),r("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:q.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var z;try{z=c7()}catch{z=void 0}r("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:q.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",z]})}),m7=h1((x,W)=>{var q=Y6(),O=V5(),V=$2();function y(u){if(!(this instanceof y))return new y(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var r=O.toArray(u.entropy,u.entropyEnc||"hex"),z=O.toArray(u.nonce,u.nonceEnc||"hex"),a=O.toArray(u.pers,u.persEnc||"hex");V(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(r,z,a)}W.exports=y,y.prototype._init=function(u,r,z){var a=u.concat(r).concat(z);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var L=0;L<this.V.length;L++)this.K[L]=0,this.V[L]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656},y.prototype._hmac=function(){return new q.hmac(this.hash,this.K)},y.prototype._update=function(u){var r=this._hmac().update(this.V).update([0]);u&&(r=r.update(u)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},y.prototype.reseed=function(u,r,z,a){typeof r!="string"&&(a=z,z=r,r=null),u=O.toArray(u,r),z=O.toArray(z,a),V(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(z||[])),this._reseed=1},y.prototype.generate=function(u,r,z,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(a=z,z=r,r=null),z&&(z=O.toArray(z,a||"hex"),this._update(z));for(var L=[];L.length<u;)this.V=this._hmac().update(this.V).digest(),L=L.concat(this.V);var _=L.slice(0,u);return this._update(z),this._reseed++,O.encode(_,r)}}),f7=h1((x,W)=>{var q=k2(),O=Z2(),V=O.assert;function y(u,r){this.ec=u,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}W.exports=y,y.fromPublic=function(u,r,z){return r instanceof y?r:new y(u,{pub:r,pubEnc:z})},y.fromPrivate=function(u,r,z){return r instanceof y?r:new y(u,{priv:r,privEnc:z})},y.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},y.prototype.getPublic=function(u,r){return typeof u=="string"&&(r=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,u):this.pub},y.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},y.prototype._importPrivate=function(u,r){this.priv=new q(u,r||16),this.priv=this.priv.umod(this.ec.curve.n)},y.prototype._importPublic=function(u,r){if(u.x||u.y){this.ec.curve.type==="mont"?V(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&V(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,r)},y.prototype.derive=function(u){return u.validate()||V(u.validate(),"public point not validated"),u.mul(this.priv).getX()},y.prototype.sign=function(u,r,z){return this.ec.sign(u,this,r,z)},y.prototype.verify=function(u,r){return this.ec.verify(u,r,this)},y.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),d7=h1((x,W)=>{var q=k2(),O=Z2(),V=O.assert;function y(L,_){if(L instanceof y)return L;this._importDER(L,_)||(V(L.r&&L.s,"Signature without r or s"),this.r=new q(L.r,16),this.s=new q(L.s,16),L.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=L.recoveryParam)}W.exports=y;function u(){this.place=0}function r(L,_){var S=L[_.place++];if(!(S&128))return S;var b=S&15;if(b===0||b>4)return!1;for(var f=0,M=0,T=_.place;M<b;M++,T++)f<<=8,f|=L[T],f>>>=0;return f<=127?!1:(_.place=T,f)}function z(L){for(var _=0,S=L.length-1;!L[_]&&!(L[_+1]&128)&&_<S;)_++;return _===0?L:L.slice(_)}y.prototype._importDER=function(L,_){L=O.toArray(L,_);var S=new u;if(L[S.place++]!==48)return!1;var b=r(L,S);if(b===!1||b+S.place!==L.length||L[S.place++]!==2)return!1;var f=r(L,S);if(f===!1)return!1;var M=L.slice(S.place,f+S.place);if(S.place+=f,L[S.place++]!==2)return!1;var T=r(L,S);if(T===!1||L.length!==T+S.place)return!1;var $=L.slice(S.place,T+S.place);if(M[0]===0)if(M[1]&128)M=M.slice(1);else return!1;if($[0]===0)if($[1]&128)$=$.slice(1);else return!1;return this.r=new q(M),this.s=new q($),this.recoveryParam=null,!0};function a(L,_){if(_<128){L.push(_);return}var S=1+(Math.log(_)/Math.LN2>>>3);for(L.push(S|128);--S;)L.push(_>>>(S<<3)&255);L.push(_)}y.prototype.toDER=function(L){var _=this.r.toArray(),S=this.s.toArray();for(_[0]&128&&(_=[0].concat(_)),S[0]&128&&(S=[0].concat(S)),_=z(_),S=z(S);!S[0]&&!(S[1]&128);)S=S.slice(1);var b=[2];a(b,_.length),b=b.concat(_),b.push(2),a(b,S.length);var f=b.concat(S),M=[48];return a(M,f.length),M=M.concat(f),O.encode(M,L)}}),a7=h1((x,W)=>{var q=k2(),O=m7(),V=Z2(),y=t6(),u=G6(),r=V.assert,z=f7(),a=d7();function L(_){if(!(this instanceof L))return new L(_);typeof _=="string"&&(r(Object.prototype.hasOwnProperty.call(y,_),"Unknown curve "+_),_=y[_]),_ instanceof y.PresetCurve&&(_={curve:_}),this.curve=_.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=_.curve.g,this.g.precompute(_.curve.n.bitLength()+1),this.hash=_.hash||_.curve.hash}W.exports=L,L.prototype.keyPair=function(_){return new z(this,_)},L.prototype.keyFromPrivate=function(_,S){return z.fromPrivate(this,_,S)},L.prototype.keyFromPublic=function(_,S){return z.fromPublic(this,_,S)},L.prototype.genKeyPair=function(_){_||(_={});for(var S=new O({hash:this.hash,pers:_.pers,persEnc:_.persEnc||"utf8",entropy:_.entropy||u(this.hash.hmacStrength),entropyEnc:_.entropy&&_.entropyEnc||"utf8",nonce:this.n.toArray()}),b=this.n.byteLength(),f=this.n.sub(new q(2));;){var M=new q(S.generate(b));if(!(M.cmp(f)>0))return M.iaddn(1),this.keyFromPrivate(M)}},L.prototype._truncateToN=function(_,S){var b=_.byteLength()*8-this.n.bitLength();return b>0&&(_=_.ushrn(b)),!S&&_.cmp(this.n)>=0?_.sub(this.n):_},L.prototype.sign=function(_,S,b,f){typeof b=="object"&&(f=b,b=null),f||(f={}),S=this.keyFromPrivate(S,b),_=this._truncateToN(new q(_,16));for(var M=this.n.byteLength(),T=S.getPrivate().toArray("be",M),$=_.toArray("be",M),Z=new O({hash:this.hash,entropy:T,nonce:$,pers:f.pers,persEnc:f.persEnc||"utf8"}),w=this.n.sub(new q(1)),s=0;;s++){var g=f.k?f.k(s):new q(Z.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(w)>=0)){var R=this.g.mul(g);if(!R.isInfinity()){var U=R.getX(),j=U.umod(this.n);if(j.cmpn(0)!==0){var J=g.invm(this.n).mul(j.mul(S.getPrivate()).iadd(_));if(J=J.umod(this.n),J.cmpn(0)!==0){var H=(R.getY().isOdd()?1:0)|(U.cmp(j)!==0?2:0);return f.canonical&&J.cmp(this.nh)>0&&(J=this.n.sub(J),H^=1),new a({r:j,s:J,recoveryParam:H})}}}}}},L.prototype.verify=function(_,S,b,f){_=this._truncateToN(new q(_,16)),b=this.keyFromPublic(b,f),S=new a(S,"hex");var{r:M,s:T}=S;if(M.cmpn(1)<0||M.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var $=T.invm(this.n),Z=$.mul(_).umod(this.n),w=$.mul(M).umod(this.n),s;return this.curve._maxwellTrick?(s=this.g.jmulAdd(Z,b.getPublic(),w),s.isInfinity()?!1:s.eqXToP(M)):(s=this.g.mulAdd(Z,b.getPublic(),w),s.isInfinity()?!1:s.getX().umod(this.n).cmp(M)===0)},L.prototype.recoverPubKey=function(_,S,b,f){r((3&b)===b,"The recovery param is more than two bits"),S=new a(S,f);var M=this.n,T=new q(_),$=S.r,Z=S.s,w=b&1,s=b>>1;if($.cmp(this.curve.p.umod(this.curve.n))>=0&&s)throw new Error("Unable to find sencond key candinate");s?$=this.curve.pointFromX($.add(this.curve.n),w):$=this.curve.pointFromX($,w);var g=S.r.invm(M),R=M.sub(T).mul(g).umod(M),U=Z.mul(g).umod(M);return this.g.mulAdd(R,$,U)},L.prototype.getKeyRecoveryParam=function(_,S,b,f){if(S=new a(S,f),S.recoveryParam!==null)return S.recoveryParam;for(var M=0;M<4;M++){var T;try{T=this.recoverPubKey(_,S,M)}catch{continue}if(T.eq(b))return M}throw new Error("Unable to find valid recovery factor")}}),r7=h1((x,W)=>{var q=Z2(),O=q.assert,V=q.parseBytes,y=q.cachedProperty;function u(r,z){this.eddsa=r,this._secret=V(z.secret),r.isPoint(z.pub)?this._pub=z.pub:this._pubBytes=V(z.pub)}u.fromPublic=function(r,z){return z instanceof u?z:new u(r,{pub:z})},u.fromSecret=function(r,z){return z instanceof u?z:new u(r,{secret:z})},u.prototype.secret=function(){return this._secret},y(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),y(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),y(u,"privBytes",function(){var r=this.eddsa,z=this.hash(),a=r.encodingLength-1,L=z.slice(0,r.encodingLength);return L[0]&=248,L[a]&=127,L[a]|=64,L}),y(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),y(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),y(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(r){return O(this._secret,"KeyPair can only verify"),this.eddsa.sign(r,this)},u.prototype.verify=function(r,z){return this.eddsa.verify(r,z,this)},u.prototype.getSecret=function(r){return O(this._secret,"KeyPair is public only"),q.encode(this.secret(),r)},u.prototype.getPublic=function(r){return q.encode(this.pubBytes(),r)},W.exports=u}),h7=h1((x,W)=>{var q=k2(),O=Z2(),V=O.assert,y=O.cachedProperty,u=O.parseBytes;function r(z,a){this.eddsa=z,typeof a!="object"&&(a=u(a)),Array.isArray(a)&&(a={R:a.slice(0,z.encodingLength),S:a.slice(z.encodingLength)}),V(a.R&&a.S,"Signature without R or S"),z.isPoint(a.R)&&(this._R=a.R),a.S instanceof q&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}y(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),y(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),y(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),y(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return O.encode(this.toBytes(),"hex").toUpperCase()},W.exports=r}),y7=h1((x,W)=>{var q=Y6(),O=t6(),V=Z2(),y=V.assert,u=V.parseBytes,r=r7(),z=h7();function a(L){if(y(L==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(L);L=O[L].curve,this.curve=L,this.g=L.g,this.g.precompute(L.n.bitLength()+1),this.pointClass=L.point().constructor,this.encodingLength=Math.ceil(L.n.bitLength()/8),this.hash=q.sha512}W.exports=a,a.prototype.sign=function(L,_){L=u(L);var S=this.keyFromSecret(_),b=this.hashInt(S.messagePrefix(),L),f=this.g.mul(b),M=this.encodePoint(f),T=this.hashInt(M,S.pubBytes(),L).mul(S.priv()),$=b.add(T).umod(this.curve.n);return this.makeSignature({R:f,S:$,Rencoded:M})},a.prototype.verify=function(L,_,S){L=u(L),_=this.makeSignature(_);var b=this.keyFromPublic(S),f=this.hashInt(_.Rencoded(),b.pubBytes(),L),M=this.g.mul(_.S()),T=_.R().add(b.pub().mul(f));return T.eq(M)},a.prototype.hashInt=function(){for(var L=this.hash(),_=0;_<arguments.length;_++)L.update(arguments[_]);return V.intFromLE(L.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(L){return r.fromPublic(this,L)},a.prototype.keyFromSecret=function(L){return r.fromSecret(this,L)},a.prototype.makeSignature=function(L){return L instanceof z?L:new z(this,L)},a.prototype.encodePoint=function(L){var _=L.getY().toArray("le",this.encodingLength);return _[this.encodingLength-1]|=L.getX().isOdd()?128:0,_},a.prototype.decodePoint=function(L){L=V.parseBytes(L);var _=L.length-1,S=L.slice(0,_).concat(L[_]&-129),b=(L[_]&128)!==0,f=V.intFromLE(S);return this.curve.pointFromY(f,b)},a.prototype.encodeInt=function(L){return L.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(L){return V.intFromLE(L)},a.prototype.isPoint=function(L){return L instanceof this.pointClass}}),C6=h1((x)=>{var W=x;W.version=C8().version,W.utils=Z2(),W.rand=G6(),W.curve=S5(),W.curves=t6(),W.ec=a7(),W.eddsa=y7()}),w5=h1((x,W)=>{(function(q,O){function V(l,p){if(!l)throw new Error(p||"Assertion failed")}function y(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function u(l,p,m){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof q=="object"?q.exports=u:O.BN=u,u.BN=u,u.wordSize=26;var r;try{typeof window<"u"&&typeof window.Buffer<"u"?r=window.Buffer:r=B2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),V(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,m):(this._parseBase(l,p,n),m==="le"&&this._initArray(this.toArray(),p,m)))},u.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(V(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},u.prototype._initArray=function(l,p,m){if(V(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,v,N=0;if(m==="be")for(n=l.length-1,c=0;n>=0;n-=3)v=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);else if(m==="le")for(n=0,c=0;n<l.length;n+=3)v=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);return this.strip()};function z(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function a(l,p,m){var n=z(l,m);return m-1>=p&&(n|=z(l,m-1)<<4),n}u.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,v=0,N;if(m==="be")for(n=l.length-1;n>=p;n-=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8;else{var d=l.length-p;for(n=d%2===0?p+1:p;n<l.length;n+=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8}this.strip()};function L(l,p,m,n){for(var c=0,v=Math.min(l.length,m),N=p;N<v;N++){var d=l.charCodeAt(N)-48;c*=n,d>=49?c+=d-49+10:d>=17?c+=d-17+10:c+=d}return c}u.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var v=l.length-m,N=v%n,d=Math.min(v,v-N)+m,o=0,h=m;h<d;h+=n)o=L(l,h,h+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(N!==0){var P=1;for(o=L(l,h,l.length,p),h=0;h<N;h++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var n=0,c=0,v=0;v<this.length;v++){var N=this.words[v],d=((N<<n|c)&16777215).toString(16);c=N>>>24-n&16777215,c!==0||v!==this.length-1?m=_[6-d.length]+d+m:m=d+m,n+=2,n>=26&&(n-=26,v--)}for(c!==0&&(m=c.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],h=b[l];m="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(h).toString(l);P=P.idivn(h),P.isZero()?m=X+m:m=_[o-X.length]+X+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}V(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&V(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return V(typeof r<"u"),this.toArrayLike(r,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,m){var n=this.byteLength(),c=m||Math.max(1,n);V(n<=c,"byte array longer than desired length"),V(c>0,"Requested array length <= 0"),this.strip();var v=p==="le",N=new l(c),d,o,h=this.clone();if(v){for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[o]=d;for(;o<c;o++)N[o]=0}else{for(o=0;o<c-n;o++)N[o]=0;for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[c-o-1]=d}return N},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return(p&8191)===0&&(m+=13,p>>>=13),(p&127)===0&&(m+=7,p>>>=7),(p&15)===0&&(m+=4,p>>>=4),(p&3)===0&&(m+=2,p>>>=2),(p&1)===0&&m++,m},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function f(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var n=m/26|0,c=m%26;p[m]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return V((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return V((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var n=0;n<m.length;n++)this.words[n]=p.words[n]^m.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return V((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){V(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return m>0&&(this.words[n]=~this.words[n]&67108863>>26-m),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){V(typeof l=="number"&&l>=0);var m=l/26|0,n=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<n:this.words[m]=this.words[m]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,n;this.length>l.length?(m=this,n=l):(m=l,n=this);for(var c=0,v=0;v<n.length;v++)p=(m.words[v]|0)+(n.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;for(;c!==0&&v<m.length;v++)p=(m.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;if(this.length=m.length,c!==0)this.words[this.length]=c,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;m>0?(n=this,c=l):(n=l,c=this);for(var v=0,N=0;N<c.length;N++)p=(n.words[N]|0)-(c.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;for(;v!==0&&N<n.length;N++)p=(n.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;if(v===0&&N<n.length&&n!==this)for(;N<n.length;N++)this.words[N]=n.words[N];return this.length=Math.max(this.length,N),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function M(l,p,m){m.negative=p.negative^l.negative;var n=l.length+p.length|0;m.length=n,n=n-1|0;var c=l.words[0]|0,v=p.words[0]|0,N=c*v,d=N&67108863,o=N/67108864|0;m.words[0]=d;for(var h=1;h<n;h++){for(var P=o>>>26,X=o&67108863,k=Math.min(h,p.length-1),I=Math.max(0,h-l.length+1);I<=k;I++){var Q=h-I|0;c=l.words[Q]|0,v=p.words[I]|0,N=c*v+X,P+=N/67108864|0,X=N&67108863}m.words[h]=X|0,o=P|0}return o!==0?m.words[h]=o|0:m.length--,m.strip()}var T=function(l,p,m){var n=l.words,c=p.words,v=m.words,N=0,d,o,h,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,r1=n[3]|0,n1=r1&8191,c1=r1>>>13,G=n[4]|0,K=G&8191,Y=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,f1=M1&8191,d1=M1>>>13,F1=n[7]|0,y1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,b1=c[0]|0,m1=b1&8191,v1=b1>>>13,j1=c[1]|0,x1=j1&8191,_1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,d2=c[3]|0,q1=d2&8191,L1=d2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,h2=c[5]|0,S1=h2&8191,$1=h2>>>13,y2=c[6]|0,Z1=y2&8191,W1=y2>>>13,v2=c[7]|0,w1=v2&8191,O1=v2>>>13,_2=c[8]|0,R1=_2&8191,s1=_2>>>13,x2=c[9]|0,g1=x2&8191,X1=x2>>>13;m.negative=l.negative^p.negative,m.length=19,d=Math.imul(X,m1),o=Math.imul(X,v1),o=o+Math.imul(k,m1)|0,h=Math.imul(k,v1);var f2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,d=Math.imul(Q,m1),o=Math.imul(Q,v1),o=o+Math.imul(e,m1)|0,h=Math.imul(e,v1),d=d+Math.imul(X,x1)|0,o=o+Math.imul(X,_1)|0,o=o+Math.imul(k,x1)|0,h=h+Math.imul(k,_1)|0;var U1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,d=Math.imul(E,m1),o=Math.imul(E,v1),o=o+Math.imul(A,m1)|0,h=Math.imul(A,v1),d=d+Math.imul(Q,x1)|0,o=o+Math.imul(Q,_1)|0,o=o+Math.imul(e,x1)|0,h=h+Math.imul(e,_1)|0,d=d+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,h=h+Math.imul(k,T1)|0;var K1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,d=Math.imul(n1,m1),o=Math.imul(n1,v1),o=o+Math.imul(c1,m1)|0,h=Math.imul(c1,v1),d=d+Math.imul(E,x1)|0,o=o+Math.imul(E,_1)|0,o=o+Math.imul(A,x1)|0,h=h+Math.imul(A,_1)|0,d=d+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,h=h+Math.imul(e,T1)|0,d=d+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,h=h+Math.imul(k,L1)|0;var D1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,d=Math.imul(K,m1),o=Math.imul(K,v1),o=o+Math.imul(Y,m1)|0,h=Math.imul(Y,v1),d=d+Math.imul(n1,x1)|0,o=o+Math.imul(n1,_1)|0,o=o+Math.imul(c1,x1)|0,h=h+Math.imul(c1,_1)|0,d=d+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,h=h+Math.imul(A,T1)|0,d=d+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,h=h+Math.imul(e,L1)|0,d=d+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,h=h+Math.imul(k,V1)|0;var I1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,d=Math.imul(u1,m1),o=Math.imul(u1,v1),o=o+Math.imul(o1,m1)|0,h=Math.imul(o1,v1),d=d+Math.imul(K,x1)|0,o=o+Math.imul(K,_1)|0,o=o+Math.imul(Y,x1)|0,h=h+Math.imul(Y,_1)|0,d=d+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,h=h+Math.imul(c1,T1)|0,d=d+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,h=h+Math.imul(A,L1)|0,d=d+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,h=h+Math.imul(e,V1)|0,d=d+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,h=h+Math.imul(k,$1)|0;var Y1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,d=Math.imul(f1,m1),o=Math.imul(f1,v1),o=o+Math.imul(d1,m1)|0,h=Math.imul(d1,v1),d=d+Math.imul(u1,x1)|0,o=o+Math.imul(u1,_1)|0,o=o+Math.imul(o1,x1)|0,h=h+Math.imul(o1,_1)|0,d=d+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,h=h+Math.imul(Y,T1)|0,d=d+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,h=h+Math.imul(c1,L1)|0,d=d+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,h=h+Math.imul(A,V1)|0,d=d+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,h=h+Math.imul(e,$1)|0,d=d+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,h=h+Math.imul(k,W1)|0;var t1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,d=Math.imul(y1,m1),o=Math.imul(y1,v1),o=o+Math.imul(a1,m1)|0,h=Math.imul(a1,v1),d=d+Math.imul(f1,x1)|0,o=o+Math.imul(f1,_1)|0,o=o+Math.imul(d1,x1)|0,h=h+Math.imul(d1,_1)|0,d=d+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,h=h+Math.imul(o1,T1)|0,d=d+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,h=h+Math.imul(Y,L1)|0,d=d+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,h=h+Math.imul(c1,V1)|0,d=d+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,h=h+Math.imul(A,$1)|0,d=d+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,h=h+Math.imul(e,W1)|0,d=d+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,h=h+Math.imul(k,O1)|0;var C1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,d=Math.imul(F,m1),o=Math.imul(F,v1),o=o+Math.imul(i,m1)|0,h=Math.imul(i,v1),d=d+Math.imul(y1,x1)|0,o=o+Math.imul(y1,_1)|0,o=o+Math.imul(a1,x1)|0,h=h+Math.imul(a1,_1)|0,d=d+Math.imul(f1,N1)|0,o=o+Math.imul(f1,T1)|0,o=o+Math.imul(d1,N1)|0,h=h+Math.imul(d1,T1)|0,d=d+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,h=h+Math.imul(o1,L1)|0,d=d+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,h=h+Math.imul(Y,V1)|0,d=d+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,h=h+Math.imul(c1,$1)|0,d=d+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,h=h+Math.imul(A,W1)|0,d=d+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,h=h+Math.imul(e,O1)|0,d=d+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,h=h+Math.imul(k,s1)|0;var B1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,d=Math.imul(C,m1),o=Math.imul(C,v1),o=o+Math.imul(l1,m1)|0,h=Math.imul(l1,v1),d=d+Math.imul(F,x1)|0,o=o+Math.imul(F,_1)|0,o=o+Math.imul(i,x1)|0,h=h+Math.imul(i,_1)|0,d=d+Math.imul(y1,N1)|0,o=o+Math.imul(y1,T1)|0,o=o+Math.imul(a1,N1)|0,h=h+Math.imul(a1,T1)|0,d=d+Math.imul(f1,q1)|0,o=o+Math.imul(f1,L1)|0,o=o+Math.imul(d1,q1)|0,h=h+Math.imul(d1,L1)|0,d=d+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,h=h+Math.imul(o1,V1)|0,d=d+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,h=h+Math.imul(Y,$1)|0,d=d+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,h=h+Math.imul(c1,W1)|0,d=d+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,h=h+Math.imul(A,O1)|0,d=d+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,h=h+Math.imul(e,s1)|0,d=d+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,h=h+Math.imul(k,X1)|0;var Q1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,d=Math.imul(C,x1),o=Math.imul(C,_1),o=o+Math.imul(l1,x1)|0,h=Math.imul(l1,_1),d=d+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,h=h+Math.imul(i,T1)|0,d=d+Math.imul(y1,q1)|0,o=o+Math.imul(y1,L1)|0,o=o+Math.imul(a1,q1)|0,h=h+Math.imul(a1,L1)|0,d=d+Math.imul(f1,z1)|0,o=o+Math.imul(f1,V1)|0,o=o+Math.imul(d1,z1)|0,h=h+Math.imul(d1,V1)|0,d=d+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,h=h+Math.imul(o1,$1)|0,d=d+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,h=h+Math.imul(Y,W1)|0,d=d+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,h=h+Math.imul(c1,O1)|0,d=d+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,h=h+Math.imul(A,s1)|0,d=d+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,h=h+Math.imul(e,X1)|0;var e1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,d=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,h=Math.imul(l1,T1),d=d+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,h=h+Math.imul(i,L1)|0,d=d+Math.imul(y1,z1)|0,o=o+Math.imul(y1,V1)|0,o=o+Math.imul(a1,z1)|0,h=h+Math.imul(a1,V1)|0,d=d+Math.imul(f1,S1)|0,o=o+Math.imul(f1,$1)|0,o=o+Math.imul(d1,S1)|0,h=h+Math.imul(d1,$1)|0,d=d+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,h=h+Math.imul(o1,W1)|0,d=d+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,h=h+Math.imul(Y,O1)|0,d=d+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,h=h+Math.imul(c1,s1)|0,d=d+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,h=h+Math.imul(A,X1)|0;var A1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,d=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,h=Math.imul(l1,L1),d=d+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,h=h+Math.imul(i,V1)|0,d=d+Math.imul(y1,S1)|0,o=o+Math.imul(y1,$1)|0,o=o+Math.imul(a1,S1)|0,h=h+Math.imul(a1,$1)|0,d=d+Math.imul(f1,Z1)|0,o=o+Math.imul(f1,W1)|0,o=o+Math.imul(d1,Z1)|0,h=h+Math.imul(d1,W1)|0,d=d+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,h=h+Math.imul(o1,O1)|0,d=d+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,h=h+Math.imul(Y,s1)|0,d=d+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,h=h+Math.imul(c1,X1)|0;var l2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,d=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,h=Math.imul(l1,V1),d=d+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,h=h+Math.imul(i,$1)|0,d=d+Math.imul(y1,Z1)|0,o=o+Math.imul(y1,W1)|0,o=o+Math.imul(a1,Z1)|0,h=h+Math.imul(a1,W1)|0,d=d+Math.imul(f1,w1)|0,o=o+Math.imul(f1,O1)|0,o=o+Math.imul(d1,w1)|0,h=h+Math.imul(d1,O1)|0,d=d+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,h=h+Math.imul(o1,s1)|0,d=d+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,h=h+Math.imul(Y,X1)|0;var o2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,d=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,h=Math.imul(l1,$1),d=d+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,h=h+Math.imul(i,W1)|0,d=d+Math.imul(y1,w1)|0,o=o+Math.imul(y1,O1)|0,o=o+Math.imul(a1,w1)|0,h=h+Math.imul(a1,O1)|0,d=d+Math.imul(f1,R1)|0,o=o+Math.imul(f1,s1)|0,o=o+Math.imul(d1,R1)|0,h=h+Math.imul(d1,s1)|0,d=d+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,h=h+Math.imul(o1,X1)|0;var n2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,d=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,h=Math.imul(l1,W1),d=d+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,h=h+Math.imul(i,O1)|0,d=d+Math.imul(y1,R1)|0,o=o+Math.imul(y1,s1)|0,o=o+Math.imul(a1,R1)|0,h=h+Math.imul(a1,s1)|0,d=d+Math.imul(f1,g1)|0,o=o+Math.imul(f1,X1)|0,o=o+Math.imul(d1,g1)|0,h=h+Math.imul(d1,X1)|0;var p2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,d=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,h=Math.imul(l1,O1),d=d+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,h=h+Math.imul(i,s1)|0,d=d+Math.imul(y1,g1)|0,o=o+Math.imul(y1,X1)|0,o=o+Math.imul(a1,g1)|0,h=h+Math.imul(a1,X1)|0;var u2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,d=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,h=Math.imul(l1,s1),d=d+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,h=h+Math.imul(i,X1)|0;var c2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,d=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,h=Math.imul(l1,X1);var m2=(N+d|0)+((o&8191)<<13)|0;return N=(h+(o>>>13)|0)+(m2>>>26)|0,m2&=67108863,v[0]=f2,v[1]=U1,v[2]=K1,v[3]=D1,v[4]=I1,v[5]=Y1,v[6]=t1,v[7]=C1,v[8]=B1,v[9]=Q1,v[10]=e1,v[11]=A1,v[12]=l2,v[13]=o2,v[14]=n2,v[15]=p2,v[16]=u2,v[17]=c2,v[18]=m2,N!==0&&(v[19]=N,m.length++),m};Math.imul||(T=M);function $(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var n=0,c=0,v=0;v<m.length-1;v++){var N=c;c=0;for(var d=n&67108863,o=Math.min(v,p.length-1),h=Math.max(0,v-l.length+1);h<=o;h++){var P=v-h,X=l.words[P]|0,k=p.words[h]|0,I=X*k,Q=I&67108863;N=N+(I/67108864|0)|0,Q=Q+d|0,d=Q&67108863,N=N+(Q>>>26)|0,c+=N>>>26,N&=67108863}m.words[v]=d,n=N,N=c}return n!==0?m.words[v]=n:m.length--,m.strip()}function Z(l,p,m){var n=new w;return n.mulp(l,p,m)}u.prototype.mulTo=function(l,p){var m,n=this.length+l.length;return this.length===10&&l.length===10?m=T(this,l,p):n<63?m=M(this,l,p):n<1024?m=$(this,l,p):m=Z(this,l,p),m};function w(l,p){this.x=l,this.y=p}w.prototype.makeRBT=function(l){for(var p=new Array(l),m=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,m,l);return p},w.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},w.prototype.permute=function(l,p,m,n,c,v){for(var N=0;N<v;N++)n[N]=p[l[N]],c[N]=m[l[N]]},w.prototype.transform=function(l,p,m,n,c,v){this.permute(v,l,p,m,n,c);for(var N=1;N<c;N<<=1)for(var d=N<<1,o=Math.cos(2*Math.PI/d),h=Math.sin(2*Math.PI/d),P=0;P<c;P+=d)for(var X=o,k=h,I=0;I<N;I++){var Q=m[P+I],e=n[P+I],B=m[P+I+N],E=n[P+I+N],A=X*B-k*E;E=X*E+k*B,B=A,m[P+I]=Q+B,n[P+I]=e+E,m[P+I+N]=Q-B,n[P+I+N]=e-E,I!==d&&(A=o*X-h*k,k=o*k+h*X,X=A)}},w.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,n=m&1,c=0;for(m=m/2|0;m;m=m>>>1)c++;return 1<<c+1+n},w.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var n=0;n<m/2;n++){var c=l[n];l[n]=l[m-n-1],l[m-n-1]=c,c=p[n],p[n]=-p[m-n-1],p[m-n-1]=-c}},w.prototype.normalize13b=function(l,p){for(var m=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+m;l[n]=c&67108863,c<67108864?m=0:m=c/67108864|0}return l},w.prototype.convert13b=function(l,p,m,n){for(var c=0,v=0;v<p;v++)c=c+(l[v]|0),m[2*v]=c&8191,c=c>>>13,m[2*v+1]=c&8191,c=c>>>13;for(v=2*p;v<n;++v)m[v]=0;V(c===0),V((c&-8192)===0)},w.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},w.prototype.mulp=function(l,p,m){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),v=this.stub(n),N=new Array(n),d=new Array(n),o=new Array(n),h=new Array(n),P=new Array(n),X=new Array(n),k=m.words;k.length=n,this.convert13b(l.words,l.length,N,n),this.convert13b(p.words,p.length,h,n),this.transform(N,v,d,o,n,c),this.transform(h,v,P,X,n,c);for(var I=0;I<n;I++){var Q=d[I]*P[I]-o[I]*X[I];o[I]=d[I]*X[I]+o[I]*P[I],d[I]=Q}return this.conjugate(d,o,n),this.transform(d,o,k,v,n,c),this.conjugate(k,v,n),this.normalize13b(k,n),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){V(typeof l=="number"),V(l<67108864);for(var p=0,m=0;m<this.length;m++){var n=(this.words[m]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[m]=c&67108863}return p!==0&&(this.words[m]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=f(l);if(p.length===0)return new u(1);for(var m=this,n=0;n<p.length&&p[n]===0;n++,m=m.sqr());if(++n<p.length)for(var c=m.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(m=m.mul(c));return m},u.prototype.iushln=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var v=0;for(c=0;c<this.length;c++){var N=this.words[c]&n,d=(this.words[c]|0)-N<<p;this.words[c]=d|v,v=N>>>26-p}v&&(this.words[c]=v,this.length++)}if(m!==0){for(c=this.length-1;c>=0;c--)this.words[c+m]=this.words[c];for(c=0;c<m;c++)this.words[c]=0;this.length+=m}return this.strip()},u.prototype.ishln=function(l){return V(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,m){V(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,v=Math.min((l-c)/26,this.length),N=67108863^67108863>>>c<<c,d=m;if(n-=v,n=Math.max(0,n),d){for(var o=0;o<v;o++)d.words[o]=this.words[o];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,o=0;o<this.length;o++)this.words[o]=this.words[o+v];else this.words[0]=0,this.length=1;var h=0;for(o=this.length-1;o>=0&&(h!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=h<<26-c|P>>>c,h=P&N}return d&&h!==0&&(d.words[d.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,m){return V(this.negative===0),this.iushrn(l,p,m)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return!1;var c=this.words[m];return!!(c&n)},u.prototype.imaskn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(V(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return V(typeof l=="number"),V(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(V(typeof l=="number"),V(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,m){var n=l.length+m,c;this._expand(n);var v,N=0;for(c=0;c<l.length;c++){v=(this.words[c+m]|0)+N;var d=(l.words[c]|0)*p;v-=d&67108863,N=(v>>26)-(d/67108864|0),this.words[c+m]=v&67108863}for(;c<this.length-m;c++)v=(this.words[c+m]|0)+N,N=v>>26,this.words[c+m]=v&67108863;if(N===0)return this.strip();for(V(N===-1),N=0,c=0;c<this.length;c++)v=-(this.words[c]|0)+N,N=v>>26,this.words[c]=v&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var m=this.length-l.length,n=this.clone(),c=l,v=c.words[c.length-1]|0,N=this._countBits(v);m=26-N,m!==0&&(c=c.ushln(m),n.iushln(m),v=c.words[c.length-1]|0);var d=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var P=n.clone()._ishlnsubmul(c,1,d);P.negative===0&&(n=P,o&&(o.words[d]=1));for(var X=d-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/v|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&m!==0&&n.iushrn(m),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,m){if(V(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,v;return this.negative!==0&&l.negative===0?(v=this.neg().divmod(l,p),p!=="mod"&&(n=v.div.neg()),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(v=this.divmod(l.neg(),p),p!=="mod"&&(n=v.div.neg()),{div:n,mod:v.mod}):(this.negative&l.negative)!==0?(v=this.neg().divmod(l.neg(),p),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.isub(l)),{div:v.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),v=m.cmp(n);return v<0||c===1&&v===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){V(l<=67108863);for(var p=67108864%l,m=0,n=this.length-1;n>=0;n--)m=(p*m+(this.words[n]|0))%l;return m},u.prototype.idivn=function(l){V(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var n=(this.words[m]|0)+p*67108864;this.words[m]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=new u(0),N=new u(1),d=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++d;for(var o=m.clone(),h=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(h)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(m.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(v.isOdd()||N.isOdd())&&(v.iadd(o),N.isub(h)),v.iushrn(1),N.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(v),c.isub(N)):(m.isub(p),v.isub(n),N.isub(c))}return{a:v,b:N,gcd:m.iushln(d)}},u.prototype._invmp=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var N=0,d=1;(p.words[0]&d)===0&&N<26;++N,d<<=1);if(N>0)for(p.iushrn(N);N-- >0;)n.isOdd()&&n.iadd(v),n.iushrn(1);for(var o=0,h=1;(m.words[0]&h)===0&&o<26;++o,h<<=1);if(o>0)for(m.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(v),c.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(c)):(m.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var n=0;p.isEven()&&m.isEven();n++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var c=p.cmp(m);if(c<0){var v=p;p=m,m=v}else if(c===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){V(typeof l=="number");var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=n,this;for(var c=n,v=m;c!==0&&v<this.length;v++){var N=this.words[v]|0;N+=c,c=N>>>26,N&=67108863,this.words[v]=N}return c!==0&&(this.words[v]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),V(l<=67108863,"Number is too big");var n=this.words[0]|0;m=n===l?0:n<l?-1:1}return this.negative!==0?-m|0:m},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var n=this.words[m]|0,c=l.words[m]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return V(!this.red,"Already a number in reduction context"),V(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return V(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return V(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return V(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return V(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return V(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return V(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return V(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return V(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return V(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return V(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return V(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return V(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return V(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var n=m<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function R(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(R,g),R.prototype.split=function(l,p){for(var m=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var v=l.words[9];for(p.words[p.length++]=v&m,c=10;c<l.length;c++){var N=l.words[c]|0;l.words[c-10]=(N&m)<<4|v>>>22,v=N}v>>>=22,l.words[c-10]=v,v===0&&l.length>10?l.length-=10:l.length-=9},R.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var n=l.words[m]|0;p+=n*977,l.words[m]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(j,g);function J(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(J,g),J.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var n=(l.words[m]|0)*19+p,c=n&67108863;n>>>=26,l.words[m]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new R;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else V(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){V(l.negative===0,"red works only with positives"),V(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){V((l.negative|p.negative)===0,"red works only with positives"),V(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},H.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(V(p%2===1),p===3){var m=this.m.add(new u(1)).iushrn(2);return this.pow(l,m)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);V(!n.isZero());var v=new u(1).toRed(this),N=v.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(N)!==0;)o.redIAdd(N);for(var h=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(v)!==0;){for(var I=X,Q=0;I.cmp(v)!==0;Q++)I=I.redSqr();V(Q<k);var e=this.pow(h,new u(1).iushln(k-Q-1));P=P.redMul(e),h=e.redSqr(),X=X.redMul(h),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,n=new Array(1<<m);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var v=n[0],N=0,d=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var h=p.words[c],P=o-1;P>=0;P--){var X=h>>P&1;if(v!==n[0]&&(v=this.sqr(v)),X===0&&N===0){d=0;continue}N<<=1,N|=X,d++,!(d!==m&&(c!==0||P!==0))&&(v=this.mul(v,n[N]),d=0,N=0)}o=26}return v},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var m=l.mul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof W>"u"||W,x)}),B6=h1((x,W)=>{var q=N2(),O=q.Buffer,V={},y;for(y in q)!q.hasOwnProperty(y)||y==="SlowBuffer"||y==="Buffer"||(V[y]=q[y]);var u=V.Buffer={};for(y in O)!O.hasOwnProperty(y)||y==="allocUnsafe"||y==="allocUnsafeSlow"||(u[y]=O[y]);if(V.Buffer.prototype=O.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(r,z,a){if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof r);if(r&&typeof r.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);return O(r,z,a)}),u.alloc||(u.alloc=function(r,z,a){if(typeof r!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof r);if(r<0||r>=2147483648)throw new RangeError('The value "'+r+'" is invalid for option "size"');var L=O(r);return!z||z.length===0?L.fill(0):typeof a=="string"?L.fill(z,a):L.fill(z),L}),!V.kStringMaxLength)try{V.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}V.constants||(V.constants={MAX_LENGTH:V.kMaxLength},V.kStringMaxLength&&(V.constants.MAX_STRING_LENGTH=V.kStringMaxLength)),W.exports=V}),Q6=h1((x)=>{var W=i1();function q(V){this._reporterState={obj:null,path:[],options:V||{},errors:[]}}x.Reporter=q,q.prototype.isError=function(V){return V instanceof O},q.prototype.save=function(){let V=this._reporterState;return{obj:V.obj,pathLen:V.path.length}},q.prototype.restore=function(V){let y=this._reporterState;y.obj=V.obj,y.path=y.path.slice(0,V.pathLen)},q.prototype.enterKey=function(V){return this._reporterState.path.push(V)},q.prototype.exitKey=function(V){let y=this._reporterState;y.path=y.path.slice(0,V-1)},q.prototype.leaveKey=function(V,y,u){let r=this._reporterState;this.exitKey(V),r.obj!==null&&(r.obj[y]=u)},q.prototype.path=function(){return this._reporterState.path.join("/")},q.prototype.enterObject=function(){let V=this._reporterState,y=V.obj;return V.obj={},y},q.prototype.leaveObject=function(V){let y=this._reporterState,u=y.obj;return y.obj=V,u},q.prototype.error=function(V){let y,u=this._reporterState,r=V instanceof O;if(r?y=V:y=new O(u.path.map(function(z){return"["+JSON.stringify(z)+"]"}).join(""),V.message||V,V.stack),!u.options.partial)throw y;return r||u.errors.push(y),y},q.prototype.wrapResult=function(V){let y=this._reporterState;return y.options.partial?{result:this.isError(V)?null:V,errors:y.errors}:V};function O(V,y){this.path=V,this.rethrow(y)}W(O,Error),O.prototype.rethrow=function(V){if(this.message=V+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,O),!this.stack)try{throw new Error(this.message)}catch(y){this.stack=y.stack}return this}}),Z3=h1((x)=>{var W=i1(),q=Q6().Reporter,O=B6().Buffer;function V(u,r){if(q.call(this,r),!O.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}W(V,q),x.DecoderBuffer=V,V.isDecoderBuffer=function(u){return u instanceof V?!0:typeof u=="object"&&O.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},V.prototype.save=function(){return{offset:this.offset,reporter:q.prototype.save.call(this)}},V.prototype.restore=function(u){let r=new V(this.base);return r.offset=u.offset,r.length=this.offset,this.offset=u.offset,q.prototype.restore.call(this,u.reporter),r},V.prototype.isEmpty=function(){return this.offset===this.length},V.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},V.prototype.skip=function(u,r){if(!(this.offset+u<=this.length))return this.error(r||"DecoderBuffer overrun");let z=new V(this.base);return z._reporterState=this._reporterState,z.offset=this.offset,z.length=this.offset+u,this.offset+=u,z},V.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)};function y(u,r){if(Array.isArray(u))this.length=0,this.value=u.map(function(z){return y.isEncoderBuffer(z)||(z=new y(z,r)),this.length+=z.length,z},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return r.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=O.byteLength(u);else if(O.isBuffer(u))this.value=u,this.length=u.length;else return r.error("Unsupported type: "+typeof u)}x.EncoderBuffer=y,y.isEncoderBuffer=function(u){return u instanceof y?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},y.prototype.join=function(u,r){return u||(u=O.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(z){z.join(u,r),r+=z.length}):(typeof this.value=="number"?u[r]=this.value:typeof this.value=="string"?u.write(this.value,r):O.isBuffer(this.value)&&this.value.copy(u,r),r+=this.length)),u}}),e6=h1((x,W)=>{var q=Q6().Reporter,O=Z3().EncoderBuffer,V=Z3().DecoderBuffer,y=$2(),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],r=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),z=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function a(_,S,b){let f={};this._baseState=f,f.name=b,f.enc=_,f.parent=S||null,f.children=null,f.tag=null,f.args=null,f.reverseArgs=null,f.choice=null,f.optional=!1,f.any=!1,f.obj=!1,f.use=null,f.useDecoder=null,f.key=null,f.default=null,f.explicit=null,f.implicit=null,f.contains=null,f.parent||(f.children=[],this._wrap())}W.exports=a;var L=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];a.prototype.clone=function(){let _=this._baseState,S={};L.forEach(function(f){S[f]=_[f]});let b=new this.constructor(S.parent);return b._baseState=S,b},a.prototype._wrap=function(){let _=this._baseState;r.forEach(function(S){this[S]=function(){let b=new this.constructor(this);return _.children.push(b),b[S].apply(b,arguments)}},this)},a.prototype._init=function(_){let S=this._baseState;y(S.parent===null),_.call(this),S.children=S.children.filter(function(b){return b._baseState.parent===this},this),y.equal(S.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(_){let S=this._baseState,b=_.filter(function(f){return f instanceof this.constructor},this);_=_.filter(function(f){return!(f instanceof this.constructor)},this),b.length!==0&&(y(S.children===null),S.children=b,b.forEach(function(f){f._baseState.parent=this},this)),_.length!==0&&(y(S.args===null),S.args=_,S.reverseArgs=_.map(function(f){if(typeof f!="object"||f.constructor!==Object)return f;let M={};return Object.keys(f).forEach(function(T){T==(T|0)&&(T|=0);let $=f[T];M[$]=T}),M}))},z.forEach(function(_){a.prototype[_]=function(){let S=this._baseState;throw new Error(_+" not implemented for encoding: "+S.enc)}}),u.forEach(function(_){a.prototype[_]=function(){let S=this._baseState,b=Array.prototype.slice.call(arguments);return y(S.tag===null),S.tag=_,this._useArgs(b),this}}),a.prototype.use=function(_){y(_);let S=this._baseState;return y(S.use===null),S.use=_,this},a.prototype.optional=function(){let _=this._baseState;return _.optional=!0,this},a.prototype.def=function(_){let S=this._baseState;return y(S.default===null),S.default=_,S.optional=!0,this},a.prototype.explicit=function(_){let S=this._baseState;return y(S.explicit===null&&S.implicit===null),S.explicit=_,this},a.prototype.implicit=function(_){let S=this._baseState;return y(S.explicit===null&&S.implicit===null),S.implicit=_,this},a.prototype.obj=function(){let _=this._baseState,S=Array.prototype.slice.call(arguments);return _.obj=!0,S.length!==0&&this._useArgs(S),this},a.prototype.key=function(_){let S=this._baseState;return y(S.key===null),S.key=_,this},a.prototype.any=function(){let _=this._baseState;return _.any=!0,this},a.prototype.choice=function(_){let S=this._baseState;return y(S.choice===null),S.choice=_,this._useArgs(Object.keys(_).map(function(b){return _[b]})),this},a.prototype.contains=function(_){let S=this._baseState;return y(S.use===null),S.contains=_,this},a.prototype._decode=function(_,S){let b=this._baseState;if(b.parent===null)return _.wrapResult(b.children[0]._decode(_,S));let f=b.default,M=!0,T=null;if(b.key!==null&&(T=_.enterKey(b.key)),b.optional){let Z=null;if(b.explicit!==null?Z=b.explicit:b.implicit!==null?Z=b.implicit:b.tag!==null&&(Z=b.tag),Z===null&&!b.any){let w=_.save();try{b.choice===null?this._decodeGeneric(b.tag,_,S):this._decodeChoice(_,S),M=!0}catch{M=!1}_.restore(w)}else if(M=this._peekTag(_,Z,b.any),_.isError(M))return M}let $;if(b.obj&&M&&($=_.enterObject()),M){if(b.explicit!==null){let w=this._decodeTag(_,b.explicit);if(_.isError(w))return w;_=w}let Z=_.offset;if(b.use===null&&b.choice===null){let w;b.any&&(w=_.save());let s=this._decodeTag(_,b.implicit!==null?b.implicit:b.tag,b.any);if(_.isError(s))return s;b.any?f=_.raw(w):_=s}if(S&&S.track&&b.tag!==null&&S.track(_.path(),Z,_.length,"tagged"),S&&S.track&&b.tag!==null&&S.track(_.path(),_.offset,_.length,"content"),b.any||(b.choice===null?f=this._decodeGeneric(b.tag,_,S):f=this._decodeChoice(_,S)),_.isError(f))return f;if(!b.any&&b.choice===null&&b.children!==null&&b.children.forEach(function(w){w._decode(_,S)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){let w=new V(f);f=this._getUse(b.contains,_._reporterState.obj)._decode(w,S)}}return b.obj&&M&&(f=_.leaveObject($)),b.key!==null&&(f!==null||M===!0)?_.leaveKey(T,b.key,f):T!==null&&_.exitKey(T),f},a.prototype._decodeGeneric=function(_,S,b){let f=this._baseState;return _==="seq"||_==="set"?null:_==="seqof"||_==="setof"?this._decodeList(S,_,f.args[0],b):/str$/.test(_)?this._decodeStr(S,_,b):_==="objid"&&f.args?this._decodeObjid(S,f.args[0],f.args[1],b):_==="objid"?this._decodeObjid(S,null,null,b):_==="gentime"||_==="utctime"?this._decodeTime(S,_,b):_==="null_"?this._decodeNull(S,b):_==="bool"?this._decodeBool(S,b):_==="objDesc"?this._decodeStr(S,_,b):_==="int"||_==="enum"?this._decodeInt(S,f.args&&f.args[0],b):f.use!==null?this._getUse(f.use,S._reporterState.obj)._decode(S,b):S.error("unknown tag: "+_)},a.prototype._getUse=function(_,S){let b=this._baseState;return b.useDecoder=this._use(_,S),y(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},a.prototype._decodeChoice=function(_,S){let b=this._baseState,f=null,M=!1;return Object.keys(b.choice).some(function(T){let $=_.save(),Z=b.choice[T];try{let w=Z._decode(_,S);if(_.isError(w))return!1;f={type:T,value:w},M=!0}catch{return _.restore($),!1}return!0},this),M?f:_.error("Choice not matched")},a.prototype._createEncoderBuffer=function(_){return new O(_,this.reporter)},a.prototype._encode=function(_,S,b){let f=this._baseState;if(f.default!==null&&f.default===_)return;let M=this._encodeValue(_,S,b);if(M!==void 0&&!this._skipDefault(M,S,b))return M},a.prototype._encodeValue=function(_,S,b){let f=this._baseState;if(f.parent===null)return f.children[0]._encode(_,S||new q);let M=null;if(this.reporter=S,f.optional&&_===void 0)if(f.default!==null)_=f.default;else return;let T=null,$=!1;if(f.any)M=this._createEncoderBuffer(_);else if(f.choice)M=this._encodeChoice(_,S);else if(f.contains)T=this._getUse(f.contains,b)._encode(_,S),$=!0;else if(f.children)T=f.children.map(function(Z){if(Z._baseState.tag==="null_")return Z._encode(null,S,_);if(Z._baseState.key===null)return S.error("Child should have a key");let w=S.enterKey(Z._baseState.key);if(typeof _!="object")return S.error("Child expected, but input is not object");let s=Z._encode(_[Z._baseState.key],S,_);return S.leaveKey(w),s},this).filter(function(Z){return Z}),T=this._createEncoderBuffer(T);else if(f.tag==="seqof"||f.tag==="setof"){if(!(f.args&&f.args.length===1))return S.error("Too many args for : "+f.tag);if(!Array.isArray(_))return S.error("seqof/setof, but data is not Array");let Z=this.clone();Z._baseState.implicit=null,T=this._createEncoderBuffer(_.map(function(w){let s=this._baseState;return this._getUse(s.args[0],_)._encode(w,S)},Z))}else f.use!==null?M=this._getUse(f.use,b)._encode(_,S):(T=this._encodePrimitive(f.tag,_),$=!0);if(!f.any&&f.choice===null){let Z=f.implicit!==null?f.implicit:f.tag,w=f.implicit===null?"universal":"context";Z===null?f.use===null&&S.error("Tag could be omitted only for .use()"):f.use===null&&(M=this._encodeComposite(Z,$,w,T))}return f.explicit!==null&&(M=this._encodeComposite(f.explicit,!1,"context",M)),M},a.prototype._encodeChoice=function(_,S){let b=this._baseState,f=b.choice[_.type];return f||y(!1,_.type+" not found in "+JSON.stringify(Object.keys(b.choice))),f._encode(_.value,S)},a.prototype._encodePrimitive=function(_,S){let b=this._baseState;if(/str$/.test(_))return this._encodeStr(S,_);if(_==="objid"&&b.args)return this._encodeObjid(S,b.reverseArgs[0],b.args[1]);if(_==="objid")return this._encodeObjid(S,null,null);if(_==="gentime"||_==="utctime")return this._encodeTime(S,_);if(_==="null_")return this._encodeNull();if(_==="int"||_==="enum")return this._encodeInt(S,b.args&&b.reverseArgs[0]);if(_==="bool")return this._encodeBool(S);if(_==="objDesc")return this._encodeStr(S,_);throw new Error("Unsupported tag: "+_)},a.prototype._isNumstr=function(_){return/^[0-9 ]*$/.test(_)},a.prototype._isPrintstr=function(_){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(_)}}),A6=h1((x)=>{function W(q){let O={};return Object.keys(q).forEach(function(V){(V|0)==V&&(V=V|0);let y=q[V];O[y]=V}),O}x.tagClass={0:"universal",1:"application",2:"context",3:"private"},x.tagClassByName=W(x.tagClass),x.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},x.tagByName=W(x.tag)}),O5=h1((x,W)=>{var q=i1(),O=B6().Buffer,V=e6(),y=A6();function u(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new r,this.tree._init(L.body)}W.exports=u,u.prototype.encode=function(L,_){return this.tree._encode(L,_).join()};function r(L){V.call(this,"der",L)}q(r,V),r.prototype._encodeComposite=function(L,_,S,b){let f=a(L,_,S,this.reporter);if(b.length<128){let $=O.alloc(2);return $[0]=f,$[1]=b.length,this._createEncoderBuffer([$,b])}let M=1;for(let $=b.length;$>=256;$>>=8)M++;let T=O.alloc(2+M);T[0]=f,T[1]=128|M;for(let $=1+M,Z=b.length;Z>0;$--,Z>>=8)T[$]=Z&255;return this._createEncoderBuffer([T,b])},r.prototype._encodeStr=function(L,_){if(_==="bitstr")return this._createEncoderBuffer([L.unused|0,L.data]);if(_==="bmpstr"){let S=O.alloc(L.length*2);for(let b=0;b<L.length;b++)S.writeUInt16BE(L.charCodeAt(b),b*2);return this._createEncoderBuffer(S)}else return _==="numstr"?this._isNumstr(L)?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: numstr supports only digits and space"):_==="printstr"?this._isPrintstr(L)?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(_)?this._createEncoderBuffer(L):_==="objDesc"?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: "+_+" unsupported")},r.prototype._encodeObjid=function(L,_,S){if(typeof L=="string"){if(!_)return this.reporter.error("string objid given, but no values map found");if(!_.hasOwnProperty(L))return this.reporter.error("objid not found in values map");L=_[L].split(/[\s.]+/g);for(let T=0;T<L.length;T++)L[T]|=0}else if(Array.isArray(L)){L=L.slice();for(let T=0;T<L.length;T++)L[T]|=0}if(!Array.isArray(L))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(L));if(!S){if(L[1]>=40)return this.reporter.error("Second objid identifier OOB");L.splice(0,2,L[0]*40+L[1])}let b=0;for(let T=0;T<L.length;T++){let $=L[T];for(b++;$>=128;$>>=7)b++}let f=O.alloc(b),M=f.length-1;for(let T=L.length-1;T>=0;T--){let $=L[T];for(f[M--]=$&127;($>>=7)>0;)f[M--]=128|$&127}return this._createEncoderBuffer(f)};function z(L){return L<10?"0"+L:L}r.prototype._encodeTime=function(L,_){let S,b=new Date(L);return _==="gentime"?S=[z(b.getUTCFullYear()),z(b.getUTCMonth()+1),z(b.getUTCDate()),z(b.getUTCHours()),z(b.getUTCMinutes()),z(b.getUTCSeconds()),"Z"].join(""):_==="utctime"?S=[z(b.getUTCFullYear()%100),z(b.getUTCMonth()+1),z(b.getUTCDate()),z(b.getUTCHours()),z(b.getUTCMinutes()),z(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+_+" time is not supported yet"),this._encodeStr(S,"octstr")},r.prototype._encodeNull=function(){return this._createEncoderBuffer("")},r.prototype._encodeInt=function(L,_){if(typeof L=="string"){if(!_)return this.reporter.error("String int or enum given, but no values map");if(!_.hasOwnProperty(L))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(L));L=_[L]}if(typeof L!="number"&&!O.isBuffer(L)){let f=L.toArray();!L.sign&&f[0]&128&&f.unshift(0),L=O.from(f)}if(O.isBuffer(L)){let f=L.length;L.length===0&&f++;let M=O.alloc(f);return L.copy(M),L.length===0&&(M[0]=0),this._createEncoderBuffer(M)}if(L<128)return this._createEncoderBuffer(L);if(L<256)return this._createEncoderBuffer([0,L]);let S=1;for(let f=L;f>=256;f>>=8)S++;let b=new Array(S);for(let f=b.length-1;f>=0;f--)b[f]=L&255,L>>=8;return b[0]&128&&b.unshift(0),this._createEncoderBuffer(O.from(b))},r.prototype._encodeBool=function(L){return this._createEncoderBuffer(L?255:0)},r.prototype._use=function(L,_){return typeof L=="function"&&(L=L(_)),L._getEncoder("der").tree},r.prototype._skipDefault=function(L,_,S){let b=this._baseState,f;if(b.default===null)return!1;let M=L.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,_,S).join()),M.length!==b.defaultBuffer.length)return!1;for(f=0;f<M.length;f++)if(M[f]!==b.defaultBuffer[f])return!1;return!0};function a(L,_,S,b){let f;if(L==="seqof"?L="seq":L==="setof"&&(L="set"),y.tagByName.hasOwnProperty(L))f=y.tagByName[L];else if(typeof L=="number"&&(L|0)===L)f=L;else return b.error("Unknown tag: "+L);return f>=31?b.error("Multi-octet tag encoding unsupported"):(_||(f|=32),f|=y.tagClassByName[S||"universal"]<<6,f)}}),v7=h1((x,W)=>{var q=i1(),O=O5();function V(y){O.call(this,y),this.enc="pem"}q(V,O),W.exports=V,V.prototype.encode=function(y,u){let r=O.prototype.encode.call(this,y).toString("base64"),z=["-----BEGIN "+u.label+"-----"];for(let a=0;a<r.length;a+=64)z.push(r.slice(a,a+64));return z.push("-----END "+u.label+"-----"),z.join(`
`)}}),R5=h1((x)=>{var W=x;W.der=O5(),W.pem=v7()}),s5=h1((x,W)=>{var q=i1(),O=w5(),V=Z3().DecoderBuffer,y=e6(),u=A6();function r(_){this.enc="der",this.name=_.name,this.entity=_,this.tree=new z,this.tree._init(_.body)}W.exports=r,r.prototype.decode=function(_,S){return V.isDecoderBuffer(_)||(_=new V(_,S)),this.tree._decode(_,S)};function z(_){y.call(this,"der",_)}q(z,y),z.prototype._peekTag=function(_,S,b){if(_.isEmpty())return!1;let f=_.save(),M=a(_,'Failed to peek tag: "'+S+'"');return _.isError(M)?M:(_.restore(f),M.tag===S||M.tagStr===S||M.tagStr+"of"===S||b)},z.prototype._decodeTag=function(_,S,b){let f=a(_,'Failed to decode tag of "'+S+'"');if(_.isError(f))return f;let M=L(_,f.primitive,'Failed to get length of "'+S+'"');if(_.isError(M))return M;if(!b&&f.tag!==S&&f.tagStr!==S&&f.tagStr+"of"!==S)return _.error('Failed to match tag: "'+S+'"');if(f.primitive||M!==null)return _.skip(M,'Failed to match body of: "'+S+'"');let T=_.save(),$=this._skipUntilEnd(_,'Failed to skip indefinite length body: "'+this.tag+'"');return _.isError($)?$:(M=_.offset-T.offset,_.restore(T),_.skip(M,'Failed to match body of: "'+S+'"'))},z.prototype._skipUntilEnd=function(_,S){for(;;){let b=a(_,S);if(_.isError(b))return b;let f=L(_,b.primitive,S);if(_.isError(f))return f;let M;if(b.primitive||f!==null?M=_.skip(f):M=this._skipUntilEnd(_,S),_.isError(M))return M;if(b.tagStr==="end")break}},z.prototype._decodeList=function(_,S,b,f){let M=[];for(;!_.isEmpty();){let T=this._peekTag(_,"end");if(_.isError(T))return T;let $=b.decode(_,"der",f);if(_.isError($)&&T)break;M.push($)}return M},z.prototype._decodeStr=function(_,S){if(S==="bitstr"){let b=_.readUInt8();return _.isError(b)?b:{unused:b,data:_.raw()}}else if(S==="bmpstr"){let b=_.raw();if(b.length%2===1)return _.error("Decoding of string type: bmpstr length mismatch");let f="";for(let M=0;M<b.length/2;M++)f+=String.fromCharCode(b.readUInt16BE(M*2));return f}else if(S==="numstr"){let b=_.raw().toString("ascii");return this._isNumstr(b)?b:_.error("Decoding of string type: numstr unsupported characters")}else{if(S==="octstr")return _.raw();if(S==="objDesc")return _.raw();if(S==="printstr"){let b=_.raw().toString("ascii");return this._isPrintstr(b)?b:_.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(S)?_.raw().toString():_.error("Decoding of string type: "+S+" unsupported")}},z.prototype._decodeObjid=function(_,S,b){let f,M=[],T=0,$=0;for(;!_.isEmpty();)$=_.readUInt8(),T<<=7,T|=$&127,($&128)===0&&(M.push(T),T=0);$&128&&M.push(T);let Z=M[0]/40|0,w=M[0]%40;if(b?f=M:f=[Z,w].concat(M.slice(1)),S){let s=S[f.join(" ")];s===void 0&&(s=S[f.join(".")]),s!==void 0&&(f=s)}return f},z.prototype._decodeTime=function(_,S){let b=_.raw().toString(),f,M,T,$,Z,w;if(S==="gentime")f=b.slice(0,4)|0,M=b.slice(4,6)|0,T=b.slice(6,8)|0,$=b.slice(8,10)|0,Z=b.slice(10,12)|0,w=b.slice(12,14)|0;else if(S==="utctime")f=b.slice(0,2)|0,M=b.slice(2,4)|0,T=b.slice(4,6)|0,$=b.slice(6,8)|0,Z=b.slice(8,10)|0,w=b.slice(10,12)|0,f<70?f=2000+f:f=1900+f;else return _.error("Decoding "+S+" time is not supported yet");return Date.UTC(f,M-1,T,$,Z,w,0)},z.prototype._decodeNull=function(){return null},z.prototype._decodeBool=function(_){let S=_.readUInt8();return _.isError(S)?S:S!==0},z.prototype._decodeInt=function(_,S){let b=_.raw(),f=new O(b);return S&&(f=S[f.toString(10)]||f),f},z.prototype._use=function(_,S){return typeof _=="function"&&(_=_(S)),_._getDecoder("der").tree};function a(_,S){let b=_.readUInt8(S);if(_.isError(b))return b;let f=u.tagClass[b>>6],M=(b&32)===0;if((b&31)===31){let $=b;for(b=0;($&128)===128;){if($=_.readUInt8(S),_.isError($))return $;b<<=7,b|=$&127}}else b&=31;let T=u.tag[b];return{cls:f,primitive:M,tag:b,tagStr:T}}function L(_,S,b){let f=_.readUInt8(b);if(_.isError(f))return f;if(!S&&f===128)return null;if((f&128)===0)return f;let M=f&127;if(M>4)return _.error("length octect is too long");f=0;for(let T=0;T<M;T++){f<<=8;let $=_.readUInt8(b);if(_.isError($))return $;f|=$}return f}}),_7=h1((x,W)=>{var q=i1(),O=B6().Buffer,V=s5();function y(u){V.call(this,u),this.enc="pem"}q(y,V),W.exports=y,y.prototype.decode=function(u,r){let z=u.toString().split(/[\r\n]+/g),a=r.label.toUpperCase(),L=/^-----(BEGIN|END) ([^-]+)-----$/,_=-1,S=-1;for(let M=0;M<z.length;M++){let T=z[M].match(L);if(T!==null&&T[2]===a)if(_===-1){if(T[1]!=="BEGIN")break;_=M}else{if(T[1]!=="END")break;S=M;break}}if(_===-1||S===-1)throw new Error("PEM section not found for: "+a);let b=z.slice(_+1,S).join("");b.replace(/[^a-z0-9+/=]+/gi,"");let f=O.from(b,"base64");return V.prototype.decode.call(this,f,r)}}),g5=h1((x)=>{var W=x;W.der=s5(),W.pem=_7()}),x7=h1((x)=>{var W=R5(),q=g5(),O=i1(),V=x;V.define=function(u,r){return new y(u,r)};function y(u,r){this.name=u,this.body=r,this.decoders={},this.encoders={}}y.prototype._createNamed=function(u){let r=this.name;function z(a){this._initNamed(a,r)}return O(z,u),z.prototype._initNamed=function(a,L){u.call(this,a,L)},new z(this)},y.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(q[u])),this.decoders[u]},y.prototype.decode=function(u,r,z){return this._getDecoder(r).decode(u,z)},y.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(W[u])),this.encoders[u]},y.prototype.encode=function(u,r,z){return this._getEncoder(r).encode(u,z)}}),b7=h1((x)=>{var W=x;W.Reporter=Q6().Reporter,W.DecoderBuffer=Z3().DecoderBuffer,W.EncoderBuffer=Z3().EncoderBuffer,W.Node=e6()}),L7=h1((x)=>{var W=x;W._reverse=function(q){let O={};return Object.keys(q).forEach(function(V){(V|0)==V&&(V=V|0);let y=q[V];O[y]=V}),O},W.der=A6()}),X5=h1((x)=>{var W=x;W.bignum=w5(),W.define=x7().define,W.base=b7(),W.constants=L7(),W.decoders=g5(),W.encoders=R5()}),q7=h1((x,W)=>{var q=X5(),O=q.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),V=q.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),y=q.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=q.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(y),this.key("subjectPublicKey").bitstr())}),r=q.define("RelativeDistinguishedName",function(){this.setof(V)}),z=q.define("RDNSequence",function(){this.seqof(r)}),a=q.define("Name",function(){this.choice({rdnSequence:this.use(z)})}),L=q.define("Validity",function(){this.seq().obj(this.key("notBefore").use(O),this.key("notAfter").use(O))}),_=q.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),S=q.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(y),this.key("issuer").use(a),this.key("validity").use(L),this.key("subject").use(a),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(_).optional())}),b=q.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(S),this.key("signatureAlgorithm").use(y),this.key("signatureValue").bitstr())});W.exports=b}),N7=h1((x)=>{var W=X5();x.certificate=q7();var q=W.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});x.RSAPrivateKey=q;var O=W.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});x.RSAPublicKey=O;var V=W.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(y),this.key("subjectPublicKey").bitstr())});x.PublicKey=V;var y=W.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=W.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(y),this.key("subjectPrivateKey").octstr())});x.PrivateKey=u;var r=W.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});x.EncryptedPrivateKey=r;var z=W.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});x.DSAPrivateKey=z,x.DSAparam=W.define("DSAparam",function(){this.int()});var a=W.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(L),this.key("publicKey").optional().explicit(1).bitstr())});x.ECPrivateKey=a;var L=W.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});x.signature=W.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),T7=h1((x,W)=>{W.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),M7=h1((x,W)=>{var q=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,O=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,V=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,y=o6(),u=J6(),r=H1().Buffer;W.exports=function(z,a){var L=z.toString(),_=L.match(q),S;if(_){var b="aes"+_[1],f=r.from(_[2],"hex"),M=r.from(_[3].replace(/[\r\n]/g,""),"base64"),T=y(a,f.slice(0,8),parseInt(_[1],10)).key,$=[],Z=u.createDecipheriv(b,T,f);$.push(Z.update(M)),$.push(Z.final()),S=r.concat($)}else{var w=L.match(V);S=r.from(w[2].replace(/[\r\n]/g,""),"base64")}var s=L.match(O)[1];return{tag:s,data:S}}}),p6=h1((x,W)=>{var q=N7(),O=T7(),V=M7(),y=J6(),u=m5(),r=H1().Buffer;W.exports=z;function z(L){var _;typeof L=="object"&&!r.isBuffer(L)&&(_=L.passphrase,L=L.key),typeof L=="string"&&(L=r.from(L));var S=V(L,_),b=S.tag,f=S.data,M,T;switch(b){case"CERTIFICATE":T=q.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(T||(T=q.PublicKey.decode(f,"der")),M=T.algorithm.algorithm.join("."),M){case"1.2.840.113549.1.1.1":return q.RSAPublicKey.decode(T.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return T.subjectPrivateKey=T.subjectPublicKey,{type:"ec",data:T};case"1.2.840.10040.4.1":return T.algorithm.params.pub_key=q.DSAparam.decode(T.subjectPublicKey.data,"der"),{type:"dsa",data:T.algorithm.params};default:throw new Error("unknown key id "+M)}case"ENCRYPTED PRIVATE KEY":f=q.EncryptedPrivateKey.decode(f,"der"),f=a(f,_);case"PRIVATE KEY":switch(T=q.PrivateKey.decode(f,"der"),M=T.algorithm.algorithm.join("."),M){case"1.2.840.113549.1.1.1":return q.RSAPrivateKey.decode(T.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:T.algorithm.curve,privateKey:q.ECPrivateKey.decode(T.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return T.algorithm.params.priv_key=q.DSAparam.decode(T.subjectPrivateKey,"der"),{type:"dsa",params:T.algorithm.params};default:throw new Error("unknown key id "+M)}case"RSA PUBLIC KEY":return q.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return q.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:q.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return f=q.ECPrivateKey.decode(f,"der"),{curve:f.parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+b)}}z.signature=q.signature;function a(L,_){var S=L.algorithm.decrypt.kde.kdeparams.salt,b=parseInt(L.algorithm.decrypt.kde.kdeparams.iters.toString(),10),f=O[L.algorithm.decrypt.cipher.algo.join(".")],M=L.algorithm.decrypt.cipher.iv,T=L.subjectPrivateKey,$=parseInt(f.split("-")[1],10)/8,Z=u.pbkdf2Sync(_,S,b,$,"sha1"),w=y.createDecipheriv(f,Z,M),s=[];return s.push(w.update(T)),s.push(w.final()),r.concat(s)}}),F5=h1((x,W)=>{W.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),z7=h1((x,W)=>{var q=H1().Buffer,O=l5(),V=I6(),y=C6().ec,u=D6(),r=p6(),z=F5();function a(Z,w,s,g,R){var U=r(w);if(U.curve){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong private key type");return L(Z,U)}else if(U.type==="dsa"){if(g!=="dsa")throw new Error("wrong private key type");return _(Z,U,s)}else if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong private key type");Z=q.concat([R,Z]);for(var j=U.modulus.byteLength(),J=[0,1];Z.length+J.length+1<j;)J.push(255);J.push(0);for(var H=-1;++H<Z.length;)J.push(Z[H]);var D=V(J,U);return D}function L(Z,w){var s=z[w.curve.join(".")];if(!s)throw new Error("unknown curve "+w.curve.join("."));var g=new y(s),R=g.keyFromPrivate(w.privateKey),U=R.sign(Z);return q.from(U.toDER())}function _(Z,w,s){for(var g=w.params.priv_key,R=w.params.p,U=w.params.q,j=w.params.g,J=new u(0),H,D=f(Z,U).mod(U),l=!1,p=b(g,U,Z,s);l===!1;)H=T(U,p,s),J=$(j,H,R,U),l=H.invm(U).imul(D.add(g.mul(J))).mod(U),l.cmpn(0)===0&&(l=!1,J=new u(0));return S(J,l)}function S(Z,w){Z=Z.toArray(),w=w.toArray(),Z[0]&128&&(Z=[0].concat(Z)),w[0]&128&&(w=[0].concat(w));var s=Z.length+w.length+4,g=[48,s,2,Z.length];return g=g.concat(Z,[2,w.length],w),q.from(g)}function b(Z,w,s,g){if(Z=q.from(Z.toArray()),Z.length<w.byteLength()){var R=q.alloc(w.byteLength()-Z.length);Z=q.concat([R,Z])}var U=s.length,j=M(s,w),J=q.alloc(U);J.fill(1);var H=q.alloc(U);return H=O(g,H).update(J).update(q.from([0])).update(Z).update(j).digest(),J=O(g,H).update(J).digest(),H=O(g,H).update(J).update(q.from([1])).update(Z).update(j).digest(),J=O(g,H).update(J).digest(),{k:H,v:J}}function f(Z,w){var s=new u(Z),g=(Z.length<<3)-w.bitLength();return g>0&&s.ishrn(g),s}function M(Z,w){Z=f(Z,w),Z=Z.mod(w);var s=q.from(Z.toArray());if(s.length<w.byteLength()){var g=q.alloc(w.byteLength()-s.length);s=q.concat([g,s])}return s}function T(Z,w,s){var g,R;do{for(g=q.alloc(0);g.length*8<Z.bitLength();)w.v=O(s,w.k).update(w.v).digest(),g=q.concat([g,w.v]);R=f(g,Z),w.k=O(s,w.k).update(w.v).update(q.from([0])).digest(),w.v=O(s,w.k).update(w.v).digest()}while(R.cmp(Z)!==-1);return R}function $(Z,w,s,g){return Z.toRed(u.mont(s)).redPow(w).fromRed().mod(g)}W.exports=a,W.exports.getKey=b,W.exports.makeKey=T}),V7=h1((x,W)=>{var q=H1().Buffer,O=D6(),V=C6().ec,y=p6(),u=F5();function r(_,S,b,f,M){var T=y(b);if(T.type==="ec"){if(f!=="ecdsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");return z(_,S,T)}else if(T.type==="dsa"){if(f!=="dsa")throw new Error("wrong public key type");return a(_,S,T)}else if(f!=="rsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");S=q.concat([M,S]);for(var $=T.modulus.byteLength(),Z=[1],w=0;S.length+Z.length+2<$;)Z.push(255),w++;Z.push(0);for(var s=-1;++s<S.length;)Z.push(S[s]);Z=q.from(Z);var g=O.mont(T.modulus);_=new O(_).toRed(g),_=_.redPow(new O(T.publicExponent)),_=q.from(_.fromRed().toArray());var R=w<8?1:0;for($=Math.min(_.length,Z.length),_.length!==Z.length&&(R=1),s=-1;++s<$;)R|=_[s]^Z[s];return R===0}function z(_,S,b){var f=u[b.data.algorithm.curve.join(".")];if(!f)throw new Error("unknown curve "+b.data.algorithm.curve.join("."));var M=new V(f),T=b.data.subjectPrivateKey.data;return M.verify(S,_,T)}function a(_,S,b){var f=b.data.p,M=b.data.q,T=b.data.g,$=b.data.pub_key,Z=y.signature.decode(_,"der"),w=Z.s,s=Z.r;L(w,M),L(s,M);var g=O.mont(f),R=w.invm(M),U=T.toRed(g).redPow(new O(S).mul(R).mod(M)).fromRed().mul($.toRed(g).redPow(s.mul(R).mod(M)).fromRed()).mod(f).mod(M);return U.cmp(s)===0}function L(_,S){if(_.cmpn(0)<=0)throw new Error("invalid sig");if(_.cmp(S)>=S)throw new Error("invalid sig")}W.exports=r}),S7=h1((x,W)=>{var q=H1().Buffer,O=V3(),V=t8(),y=i1(),u=z7(),r=V7(),z=o5();Object.keys(z).forEach(function(b){z[b].id=q.from(z[b].id,"hex"),z[b.toLowerCase()]=z[b]});function a(b){V.Writable.call(this);var f=z[b];if(!f)throw new Error("Unknown message digest");this._hashType=f.hash,this._hash=O(f.hash),this._tag=f.id,this._signType=f.sign}y(a,V.Writable),a.prototype._write=function(b,f,M){this._hash.update(b),M()},a.prototype.update=function(b,f){return typeof b=="string"&&(b=q.from(b,f)),this._hash.update(b),this},a.prototype.sign=function(b,f){this.end();var M=this._hash.digest(),T=u(M,b,this._hashType,this._signType,this._tag);return f?T.toString(f):T};function L(b){V.Writable.call(this);var f=z[b];if(!f)throw new Error("Unknown message digest");this._hash=O(f.hash),this._tag=f.id,this._signType=f.sign}y(L,V.Writable),L.prototype._write=function(b,f,M){this._hash.update(b),M()},L.prototype.update=function(b,f){return typeof b=="string"&&(b=q.from(b,f)),this._hash.update(b),this},L.prototype.verify=function(b,f,M){typeof f=="string"&&(f=q.from(f,M)),this.end();var T=this._hash.digest();return r(f,T,b,this._signType,this._tag)};function _(b){return new a(b)}function S(b){return new L(b)}W.exports={Sign:_,Verify:S,createSign:_,createVerify:S}}),$7=h1((x,W)=>{(function(q,O){function V(l,p){if(!l)throw new Error(p||"Assertion failed")}function y(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function u(l,p,m){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof q=="object"?q.exports=u:O.BN=u,u.BN=u,u.wordSize=26;var r;try{typeof window<"u"&&typeof window.Buffer<"u"?r=window.Buffer:r=B2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),V(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,m):(this._parseBase(l,p,n),m==="le"&&this._initArray(this.toArray(),p,m)))},u.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(V(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},u.prototype._initArray=function(l,p,m){if(V(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,v,N=0;if(m==="be")for(n=l.length-1,c=0;n>=0;n-=3)v=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);else if(m==="le")for(n=0,c=0;n<l.length;n+=3)v=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);return this.strip()};function z(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function a(l,p,m){var n=z(l,m);return m-1>=p&&(n|=z(l,m-1)<<4),n}u.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,v=0,N;if(m==="be")for(n=l.length-1;n>=p;n-=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8;else{var d=l.length-p;for(n=d%2===0?p+1:p;n<l.length;n+=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8}this.strip()};function L(l,p,m,n){for(var c=0,v=Math.min(l.length,m),N=p;N<v;N++){var d=l.charCodeAt(N)-48;c*=n,d>=49?c+=d-49+10:d>=17?c+=d-17+10:c+=d}return c}u.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var v=l.length-m,N=v%n,d=Math.min(v,v-N)+m,o=0,h=m;h<d;h+=n)o=L(l,h,h+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(N!==0){var P=1;for(o=L(l,h,l.length,p),h=0;h<N;h++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var n=0,c=0,v=0;v<this.length;v++){var N=this.words[v],d=((N<<n|c)&16777215).toString(16);c=N>>>24-n&16777215,c!==0||v!==this.length-1?m=_[6-d.length]+d+m:m=d+m,n+=2,n>=26&&(n-=26,v--)}for(c!==0&&(m=c.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],h=b[l];m="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(h).toString(l);P=P.idivn(h),P.isZero()?m=X+m:m=_[o-X.length]+X+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}V(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&V(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return V(typeof r<"u"),this.toArrayLike(r,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,m){var n=this.byteLength(),c=m||Math.max(1,n);V(n<=c,"byte array longer than desired length"),V(c>0,"Requested array length <= 0"),this.strip();var v=p==="le",N=new l(c),d,o,h=this.clone();if(v){for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[o]=d;for(;o<c;o++)N[o]=0}else{for(o=0;o<c-n;o++)N[o]=0;for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[c-o-1]=d}return N},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return(p&8191)===0&&(m+=13,p>>>=13),(p&127)===0&&(m+=7,p>>>=7),(p&15)===0&&(m+=4,p>>>=4),(p&3)===0&&(m+=2,p>>>=2),(p&1)===0&&m++,m},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function f(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var n=m/26|0,c=m%26;p[m]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return V((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return V((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var n=0;n<m.length;n++)this.words[n]=p.words[n]^m.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return V((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){V(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return m>0&&(this.words[n]=~this.words[n]&67108863>>26-m),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){V(typeof l=="number"&&l>=0);var m=l/26|0,n=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<n:this.words[m]=this.words[m]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,n;this.length>l.length?(m=this,n=l):(m=l,n=this);for(var c=0,v=0;v<n.length;v++)p=(m.words[v]|0)+(n.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;for(;c!==0&&v<m.length;v++)p=(m.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;if(this.length=m.length,c!==0)this.words[this.length]=c,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;m>0?(n=this,c=l):(n=l,c=this);for(var v=0,N=0;N<c.length;N++)p=(n.words[N]|0)-(c.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;for(;v!==0&&N<n.length;N++)p=(n.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;if(v===0&&N<n.length&&n!==this)for(;N<n.length;N++)this.words[N]=n.words[N];return this.length=Math.max(this.length,N),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function M(l,p,m){m.negative=p.negative^l.negative;var n=l.length+p.length|0;m.length=n,n=n-1|0;var c=l.words[0]|0,v=p.words[0]|0,N=c*v,d=N&67108863,o=N/67108864|0;m.words[0]=d;for(var h=1;h<n;h++){for(var P=o>>>26,X=o&67108863,k=Math.min(h,p.length-1),I=Math.max(0,h-l.length+1);I<=k;I++){var Q=h-I|0;c=l.words[Q]|0,v=p.words[I]|0,N=c*v+X,P+=N/67108864|0,X=N&67108863}m.words[h]=X|0,o=P|0}return o!==0?m.words[h]=o|0:m.length--,m.strip()}var T=function(l,p,m){var n=l.words,c=p.words,v=m.words,N=0,d,o,h,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,r1=n[3]|0,n1=r1&8191,c1=r1>>>13,G=n[4]|0,K=G&8191,Y=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,f1=M1&8191,d1=M1>>>13,F1=n[7]|0,y1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,b1=c[0]|0,m1=b1&8191,v1=b1>>>13,j1=c[1]|0,x1=j1&8191,_1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,d2=c[3]|0,q1=d2&8191,L1=d2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,h2=c[5]|0,S1=h2&8191,$1=h2>>>13,y2=c[6]|0,Z1=y2&8191,W1=y2>>>13,v2=c[7]|0,w1=v2&8191,O1=v2>>>13,_2=c[8]|0,R1=_2&8191,s1=_2>>>13,x2=c[9]|0,g1=x2&8191,X1=x2>>>13;m.negative=l.negative^p.negative,m.length=19,d=Math.imul(X,m1),o=Math.imul(X,v1),o=o+Math.imul(k,m1)|0,h=Math.imul(k,v1);var f2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,d=Math.imul(Q,m1),o=Math.imul(Q,v1),o=o+Math.imul(e,m1)|0,h=Math.imul(e,v1),d=d+Math.imul(X,x1)|0,o=o+Math.imul(X,_1)|0,o=o+Math.imul(k,x1)|0,h=h+Math.imul(k,_1)|0;var U1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,d=Math.imul(E,m1),o=Math.imul(E,v1),o=o+Math.imul(A,m1)|0,h=Math.imul(A,v1),d=d+Math.imul(Q,x1)|0,o=o+Math.imul(Q,_1)|0,o=o+Math.imul(e,x1)|0,h=h+Math.imul(e,_1)|0,d=d+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,h=h+Math.imul(k,T1)|0;var K1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,d=Math.imul(n1,m1),o=Math.imul(n1,v1),o=o+Math.imul(c1,m1)|0,h=Math.imul(c1,v1),d=d+Math.imul(E,x1)|0,o=o+Math.imul(E,_1)|0,o=o+Math.imul(A,x1)|0,h=h+Math.imul(A,_1)|0,d=d+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,h=h+Math.imul(e,T1)|0,d=d+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,h=h+Math.imul(k,L1)|0;var D1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,d=Math.imul(K,m1),o=Math.imul(K,v1),o=o+Math.imul(Y,m1)|0,h=Math.imul(Y,v1),d=d+Math.imul(n1,x1)|0,o=o+Math.imul(n1,_1)|0,o=o+Math.imul(c1,x1)|0,h=h+Math.imul(c1,_1)|0,d=d+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,h=h+Math.imul(A,T1)|0,d=d+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,h=h+Math.imul(e,L1)|0,d=d+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,h=h+Math.imul(k,V1)|0;var I1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,d=Math.imul(u1,m1),o=Math.imul(u1,v1),o=o+Math.imul(o1,m1)|0,h=Math.imul(o1,v1),d=d+Math.imul(K,x1)|0,o=o+Math.imul(K,_1)|0,o=o+Math.imul(Y,x1)|0,h=h+Math.imul(Y,_1)|0,d=d+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,h=h+Math.imul(c1,T1)|0,d=d+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,h=h+Math.imul(A,L1)|0,d=d+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,h=h+Math.imul(e,V1)|0,d=d+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,h=h+Math.imul(k,$1)|0;var Y1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,d=Math.imul(f1,m1),o=Math.imul(f1,v1),o=o+Math.imul(d1,m1)|0,h=Math.imul(d1,v1),d=d+Math.imul(u1,x1)|0,o=o+Math.imul(u1,_1)|0,o=o+Math.imul(o1,x1)|0,h=h+Math.imul(o1,_1)|0,d=d+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,h=h+Math.imul(Y,T1)|0,d=d+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,h=h+Math.imul(c1,L1)|0,d=d+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,h=h+Math.imul(A,V1)|0,d=d+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,h=h+Math.imul(e,$1)|0,d=d+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,h=h+Math.imul(k,W1)|0;var t1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,d=Math.imul(y1,m1),o=Math.imul(y1,v1),o=o+Math.imul(a1,m1)|0,h=Math.imul(a1,v1),d=d+Math.imul(f1,x1)|0,o=o+Math.imul(f1,_1)|0,o=o+Math.imul(d1,x1)|0,h=h+Math.imul(d1,_1)|0,d=d+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,h=h+Math.imul(o1,T1)|0,d=d+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,h=h+Math.imul(Y,L1)|0,d=d+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,h=h+Math.imul(c1,V1)|0,d=d+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,h=h+Math.imul(A,$1)|0,d=d+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,h=h+Math.imul(e,W1)|0,d=d+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,h=h+Math.imul(k,O1)|0;var C1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,d=Math.imul(F,m1),o=Math.imul(F,v1),o=o+Math.imul(i,m1)|0,h=Math.imul(i,v1),d=d+Math.imul(y1,x1)|0,o=o+Math.imul(y1,_1)|0,o=o+Math.imul(a1,x1)|0,h=h+Math.imul(a1,_1)|0,d=d+Math.imul(f1,N1)|0,o=o+Math.imul(f1,T1)|0,o=o+Math.imul(d1,N1)|0,h=h+Math.imul(d1,T1)|0,d=d+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,h=h+Math.imul(o1,L1)|0,d=d+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,h=h+Math.imul(Y,V1)|0,d=d+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,h=h+Math.imul(c1,$1)|0,d=d+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,h=h+Math.imul(A,W1)|0,d=d+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,h=h+Math.imul(e,O1)|0,d=d+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,h=h+Math.imul(k,s1)|0;var B1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,d=Math.imul(C,m1),o=Math.imul(C,v1),o=o+Math.imul(l1,m1)|0,h=Math.imul(l1,v1),d=d+Math.imul(F,x1)|0,o=o+Math.imul(F,_1)|0,o=o+Math.imul(i,x1)|0,h=h+Math.imul(i,_1)|0,d=d+Math.imul(y1,N1)|0,o=o+Math.imul(y1,T1)|0,o=o+Math.imul(a1,N1)|0,h=h+Math.imul(a1,T1)|0,d=d+Math.imul(f1,q1)|0,o=o+Math.imul(f1,L1)|0,o=o+Math.imul(d1,q1)|0,h=h+Math.imul(d1,L1)|0,d=d+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,h=h+Math.imul(o1,V1)|0,d=d+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,h=h+Math.imul(Y,$1)|0,d=d+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,h=h+Math.imul(c1,W1)|0,d=d+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,h=h+Math.imul(A,O1)|0,d=d+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,h=h+Math.imul(e,s1)|0,d=d+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,h=h+Math.imul(k,X1)|0;var Q1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,d=Math.imul(C,x1),o=Math.imul(C,_1),o=o+Math.imul(l1,x1)|0,h=Math.imul(l1,_1),d=d+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,h=h+Math.imul(i,T1)|0,d=d+Math.imul(y1,q1)|0,o=o+Math.imul(y1,L1)|0,o=o+Math.imul(a1,q1)|0,h=h+Math.imul(a1,L1)|0,d=d+Math.imul(f1,z1)|0,o=o+Math.imul(f1,V1)|0,o=o+Math.imul(d1,z1)|0,h=h+Math.imul(d1,V1)|0,d=d+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,h=h+Math.imul(o1,$1)|0,d=d+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,h=h+Math.imul(Y,W1)|0,d=d+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,h=h+Math.imul(c1,O1)|0,d=d+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,h=h+Math.imul(A,s1)|0,d=d+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,h=h+Math.imul(e,X1)|0;var e1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,d=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,h=Math.imul(l1,T1),d=d+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,h=h+Math.imul(i,L1)|0,d=d+Math.imul(y1,z1)|0,o=o+Math.imul(y1,V1)|0,o=o+Math.imul(a1,z1)|0,h=h+Math.imul(a1,V1)|0,d=d+Math.imul(f1,S1)|0,o=o+Math.imul(f1,$1)|0,o=o+Math.imul(d1,S1)|0,h=h+Math.imul(d1,$1)|0,d=d+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,h=h+Math.imul(o1,W1)|0,d=d+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,h=h+Math.imul(Y,O1)|0,d=d+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,h=h+Math.imul(c1,s1)|0,d=d+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,h=h+Math.imul(A,X1)|0;var A1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,d=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,h=Math.imul(l1,L1),d=d+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,h=h+Math.imul(i,V1)|0,d=d+Math.imul(y1,S1)|0,o=o+Math.imul(y1,$1)|0,o=o+Math.imul(a1,S1)|0,h=h+Math.imul(a1,$1)|0,d=d+Math.imul(f1,Z1)|0,o=o+Math.imul(f1,W1)|0,o=o+Math.imul(d1,Z1)|0,h=h+Math.imul(d1,W1)|0,d=d+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,h=h+Math.imul(o1,O1)|0,d=d+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,h=h+Math.imul(Y,s1)|0,d=d+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,h=h+Math.imul(c1,X1)|0;var l2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,d=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,h=Math.imul(l1,V1),d=d+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,h=h+Math.imul(i,$1)|0,d=d+Math.imul(y1,Z1)|0,o=o+Math.imul(y1,W1)|0,o=o+Math.imul(a1,Z1)|0,h=h+Math.imul(a1,W1)|0,d=d+Math.imul(f1,w1)|0,o=o+Math.imul(f1,O1)|0,o=o+Math.imul(d1,w1)|0,h=h+Math.imul(d1,O1)|0,d=d+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,h=h+Math.imul(o1,s1)|0,d=d+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,h=h+Math.imul(Y,X1)|0;var o2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,d=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,h=Math.imul(l1,$1),d=d+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,h=h+Math.imul(i,W1)|0,d=d+Math.imul(y1,w1)|0,o=o+Math.imul(y1,O1)|0,o=o+Math.imul(a1,w1)|0,h=h+Math.imul(a1,O1)|0,d=d+Math.imul(f1,R1)|0,o=o+Math.imul(f1,s1)|0,o=o+Math.imul(d1,R1)|0,h=h+Math.imul(d1,s1)|0,d=d+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,h=h+Math.imul(o1,X1)|0;var n2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,d=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,h=Math.imul(l1,W1),d=d+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,h=h+Math.imul(i,O1)|0,d=d+Math.imul(y1,R1)|0,o=o+Math.imul(y1,s1)|0,o=o+Math.imul(a1,R1)|0,h=h+Math.imul(a1,s1)|0,d=d+Math.imul(f1,g1)|0,o=o+Math.imul(f1,X1)|0,o=o+Math.imul(d1,g1)|0,h=h+Math.imul(d1,X1)|0;var p2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,d=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,h=Math.imul(l1,O1),d=d+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,h=h+Math.imul(i,s1)|0,d=d+Math.imul(y1,g1)|0,o=o+Math.imul(y1,X1)|0,o=o+Math.imul(a1,g1)|0,h=h+Math.imul(a1,X1)|0;var u2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,d=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,h=Math.imul(l1,s1),d=d+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,h=h+Math.imul(i,X1)|0;var c2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,d=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,h=Math.imul(l1,X1);var m2=(N+d|0)+((o&8191)<<13)|0;return N=(h+(o>>>13)|0)+(m2>>>26)|0,m2&=67108863,v[0]=f2,v[1]=U1,v[2]=K1,v[3]=D1,v[4]=I1,v[5]=Y1,v[6]=t1,v[7]=C1,v[8]=B1,v[9]=Q1,v[10]=e1,v[11]=A1,v[12]=l2,v[13]=o2,v[14]=n2,v[15]=p2,v[16]=u2,v[17]=c2,v[18]=m2,N!==0&&(v[19]=N,m.length++),m};Math.imul||(T=M);function $(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var n=0,c=0,v=0;v<m.length-1;v++){var N=c;c=0;for(var d=n&67108863,o=Math.min(v,p.length-1),h=Math.max(0,v-l.length+1);h<=o;h++){var P=v-h,X=l.words[P]|0,k=p.words[h]|0,I=X*k,Q=I&67108863;N=N+(I/67108864|0)|0,Q=Q+d|0,d=Q&67108863,N=N+(Q>>>26)|0,c+=N>>>26,N&=67108863}m.words[v]=d,n=N,N=c}return n!==0?m.words[v]=n:m.length--,m.strip()}function Z(l,p,m){var n=new w;return n.mulp(l,p,m)}u.prototype.mulTo=function(l,p){var m,n=this.length+l.length;return this.length===10&&l.length===10?m=T(this,l,p):n<63?m=M(this,l,p):n<1024?m=$(this,l,p):m=Z(this,l,p),m};function w(l,p){this.x=l,this.y=p}w.prototype.makeRBT=function(l){for(var p=new Array(l),m=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,m,l);return p},w.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},w.prototype.permute=function(l,p,m,n,c,v){for(var N=0;N<v;N++)n[N]=p[l[N]],c[N]=m[l[N]]},w.prototype.transform=function(l,p,m,n,c,v){this.permute(v,l,p,m,n,c);for(var N=1;N<c;N<<=1)for(var d=N<<1,o=Math.cos(2*Math.PI/d),h=Math.sin(2*Math.PI/d),P=0;P<c;P+=d)for(var X=o,k=h,I=0;I<N;I++){var Q=m[P+I],e=n[P+I],B=m[P+I+N],E=n[P+I+N],A=X*B-k*E;E=X*E+k*B,B=A,m[P+I]=Q+B,n[P+I]=e+E,m[P+I+N]=Q-B,n[P+I+N]=e-E,I!==d&&(A=o*X-h*k,k=o*k+h*X,X=A)}},w.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,n=m&1,c=0;for(m=m/2|0;m;m=m>>>1)c++;return 1<<c+1+n},w.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var n=0;n<m/2;n++){var c=l[n];l[n]=l[m-n-1],l[m-n-1]=c,c=p[n],p[n]=-p[m-n-1],p[m-n-1]=-c}},w.prototype.normalize13b=function(l,p){for(var m=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+m;l[n]=c&67108863,c<67108864?m=0:m=c/67108864|0}return l},w.prototype.convert13b=function(l,p,m,n){for(var c=0,v=0;v<p;v++)c=c+(l[v]|0),m[2*v]=c&8191,c=c>>>13,m[2*v+1]=c&8191,c=c>>>13;for(v=2*p;v<n;++v)m[v]=0;V(c===0),V((c&-8192)===0)},w.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},w.prototype.mulp=function(l,p,m){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),v=this.stub(n),N=new Array(n),d=new Array(n),o=new Array(n),h=new Array(n),P=new Array(n),X=new Array(n),k=m.words;k.length=n,this.convert13b(l.words,l.length,N,n),this.convert13b(p.words,p.length,h,n),this.transform(N,v,d,o,n,c),this.transform(h,v,P,X,n,c);for(var I=0;I<n;I++){var Q=d[I]*P[I]-o[I]*X[I];o[I]=d[I]*X[I]+o[I]*P[I],d[I]=Q}return this.conjugate(d,o,n),this.transform(d,o,k,v,n,c),this.conjugate(k,v,n),this.normalize13b(k,n),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){V(typeof l=="number"),V(l<67108864);for(var p=0,m=0;m<this.length;m++){var n=(this.words[m]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[m]=c&67108863}return p!==0&&(this.words[m]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=f(l);if(p.length===0)return new u(1);for(var m=this,n=0;n<p.length&&p[n]===0;n++,m=m.sqr());if(++n<p.length)for(var c=m.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(m=m.mul(c));return m},u.prototype.iushln=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var v=0;for(c=0;c<this.length;c++){var N=this.words[c]&n,d=(this.words[c]|0)-N<<p;this.words[c]=d|v,v=N>>>26-p}v&&(this.words[c]=v,this.length++)}if(m!==0){for(c=this.length-1;c>=0;c--)this.words[c+m]=this.words[c];for(c=0;c<m;c++)this.words[c]=0;this.length+=m}return this.strip()},u.prototype.ishln=function(l){return V(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,m){V(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,v=Math.min((l-c)/26,this.length),N=67108863^67108863>>>c<<c,d=m;if(n-=v,n=Math.max(0,n),d){for(var o=0;o<v;o++)d.words[o]=this.words[o];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,o=0;o<this.length;o++)this.words[o]=this.words[o+v];else this.words[0]=0,this.length=1;var h=0;for(o=this.length-1;o>=0&&(h!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=h<<26-c|P>>>c,h=P&N}return d&&h!==0&&(d.words[d.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,m){return V(this.negative===0),this.iushrn(l,p,m)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return!1;var c=this.words[m];return!!(c&n)},u.prototype.imaskn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(V(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return V(typeof l=="number"),V(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(V(typeof l=="number"),V(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,m){var n=l.length+m,c;this._expand(n);var v,N=0;for(c=0;c<l.length;c++){v=(this.words[c+m]|0)+N;var d=(l.words[c]|0)*p;v-=d&67108863,N=(v>>26)-(d/67108864|0),this.words[c+m]=v&67108863}for(;c<this.length-m;c++)v=(this.words[c+m]|0)+N,N=v>>26,this.words[c+m]=v&67108863;if(N===0)return this.strip();for(V(N===-1),N=0,c=0;c<this.length;c++)v=-(this.words[c]|0)+N,N=v>>26,this.words[c]=v&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var m=this.length-l.length,n=this.clone(),c=l,v=c.words[c.length-1]|0,N=this._countBits(v);m=26-N,m!==0&&(c=c.ushln(m),n.iushln(m),v=c.words[c.length-1]|0);var d=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var P=n.clone()._ishlnsubmul(c,1,d);P.negative===0&&(n=P,o&&(o.words[d]=1));for(var X=d-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/v|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&m!==0&&n.iushrn(m),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,m){if(V(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,v;return this.negative!==0&&l.negative===0?(v=this.neg().divmod(l,p),p!=="mod"&&(n=v.div.neg()),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(v=this.divmod(l.neg(),p),p!=="mod"&&(n=v.div.neg()),{div:n,mod:v.mod}):(this.negative&l.negative)!==0?(v=this.neg().divmod(l.neg(),p),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.isub(l)),{div:v.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),v=m.cmp(n);return v<0||c===1&&v===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){V(l<=67108863);for(var p=67108864%l,m=0,n=this.length-1;n>=0;n--)m=(p*m+(this.words[n]|0))%l;return m},u.prototype.idivn=function(l){V(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var n=(this.words[m]|0)+p*67108864;this.words[m]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=new u(0),N=new u(1),d=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++d;for(var o=m.clone(),h=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(h)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(m.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(v.isOdd()||N.isOdd())&&(v.iadd(o),N.isub(h)),v.iushrn(1),N.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(v),c.isub(N)):(m.isub(p),v.isub(n),N.isub(c))}return{a:v,b:N,gcd:m.iushln(d)}},u.prototype._invmp=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var N=0,d=1;(p.words[0]&d)===0&&N<26;++N,d<<=1);if(N>0)for(p.iushrn(N);N-- >0;)n.isOdd()&&n.iadd(v),n.iushrn(1);for(var o=0,h=1;(m.words[0]&h)===0&&o<26;++o,h<<=1);if(o>0)for(m.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(v),c.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(c)):(m.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var n=0;p.isEven()&&m.isEven();n++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var c=p.cmp(m);if(c<0){var v=p;p=m,m=v}else if(c===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){V(typeof l=="number");var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=n,this;for(var c=n,v=m;c!==0&&v<this.length;v++){var N=this.words[v]|0;N+=c,c=N>>>26,N&=67108863,this.words[v]=N}return c!==0&&(this.words[v]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),V(l<=67108863,"Number is too big");var n=this.words[0]|0;m=n===l?0:n<l?-1:1}return this.negative!==0?-m|0:m},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var n=this.words[m]|0,c=l.words[m]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return V(!this.red,"Already a number in reduction context"),V(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return V(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return V(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return V(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return V(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return V(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return V(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return V(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return V(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return V(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return V(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return V(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return V(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return V(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var n=m<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function R(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(R,g),R.prototype.split=function(l,p){for(var m=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var v=l.words[9];for(p.words[p.length++]=v&m,c=10;c<l.length;c++){var N=l.words[c]|0;l.words[c-10]=(N&m)<<4|v>>>22,v=N}v>>>=22,l.words[c-10]=v,v===0&&l.length>10?l.length-=10:l.length-=9},R.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var n=l.words[m]|0;p+=n*977,l.words[m]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(j,g);function J(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(J,g),J.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var n=(l.words[m]|0)*19+p,c=n&67108863;n>>>=26,l.words[m]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new R;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else V(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){V(l.negative===0,"red works only with positives"),V(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){V((l.negative|p.negative)===0,"red works only with positives"),V(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},H.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(V(p%2===1),p===3){var m=this.m.add(new u(1)).iushrn(2);return this.pow(l,m)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);V(!n.isZero());var v=new u(1).toRed(this),N=v.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(N)!==0;)o.redIAdd(N);for(var h=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(v)!==0;){for(var I=X,Q=0;I.cmp(v)!==0;Q++)I=I.redSqr();V(Q<k);var e=this.pow(h,new u(1).iushln(k-Q-1));P=P.redMul(e),h=e.redSqr(),X=X.redMul(h),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,n=new Array(1<<m);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var v=n[0],N=0,d=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var h=p.words[c],P=o-1;P>=0;P--){var X=h>>P&1;if(v!==n[0]&&(v=this.sqr(v)),X===0&&N===0){d=0;continue}N<<=1,N|=X,d++,!(d!==m&&(c!==0||P!==0))&&(v=this.mul(v,n[N]),d=0,N=0)}o=26}return v},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var m=l.mul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof W>"u"||W,x)}),Z7=h1((x,W)=>{var q=C6(),O=$7();W.exports=function(r){return new y(r)};var V={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};V.p224=V.secp224r1,V.p256=V.secp256r1=V.prime256v1,V.p192=V.secp192r1=V.prime192v1,V.p384=V.secp384r1,V.p521=V.secp521r1;function y(r){this.curveType=V[r],this.curveType||(this.curveType={name:r}),this.curve=new q.ec(this.curveType.name),this.keys=void 0}y.prototype.generateKeys=function(r,z){return this.keys=this.curve.genKeyPair(),this.getPublicKey(r,z)},y.prototype.computeSecret=function(r,z,a){z=z||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,z));var L=this.curve.keyFromPublic(r).getPublic(),_=L.mul(this.keys.getPrivate()).getX();return u(_,a,this.curveType.byteLength)},y.prototype.getPublicKey=function(r,z){var a=this.keys.getPublic(z==="compressed",!0);return z==="hybrid"&&(a[a.length-1]%2?a[0]=7:a[0]=6),u(a,r)},y.prototype.getPrivateKey=function(r){return u(this.keys.getPrivate(),r)},y.prototype.setPublicKey=function(r,z){return z=z||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,z)),this.keys._importPublic(r),this},y.prototype.setPrivateKey=function(r,z){z=z||"utf8",Buffer.isBuffer(r)||(r=new Buffer(r,z));var a=new O(r);return a=a.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(a),this};function u(r,z,a){Array.isArray(r)||(r=r.toArray());var L=new Buffer(r);if(a&&L.length<a){var _=new Buffer(a-L.length);_.fill(0),L=Buffer.concat([_,L])}return z?L.toString(z):L}}),k5=h1((x,W)=>{var q=V3(),O=H1().Buffer;W.exports=function(y,u){for(var r=O.alloc(0),z=0,a;r.length<u;)a=V(z++),r=O.concat([r,q("sha1").update(y).update(a).digest()]);return r.slice(0,u)};function V(y){var u=O.allocUnsafe(4);return u.writeUInt32BE(y,0),u}}),P5=h1((x,W)=>{W.exports=function(q,O){for(var V=q.length,y=-1;++y<V;)q[y]^=O[y];return q}}),l0=h1((x,W)=>{(function(q,O){function V(l,p){if(!l)throw new Error(p||"Assertion failed")}function y(l,p){l.super_=p;var m=function(){};m.prototype=p.prototype,l.prototype=new m,l.prototype.constructor=l}function u(l,p,m){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(l||0,p||10,m||"be"))}typeof q=="object"?q.exports=u:O.BN=u,u.BN=u,u.wordSize=26;var r;try{typeof window<"u"&&typeof window.Buffer<"u"?r=window.Buffer:r=B2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,m){if(typeof l=="number")return this._initNumber(l,p,m);if(typeof l=="object")return this._initArray(l,p,m);p==="hex"&&(p=16),V(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,m):(this._parseBase(l,p,n),m==="le"&&this._initArray(this.toArray(),p,m)))},u.prototype._initNumber=function(l,p,m){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(V(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},u.prototype._initArray=function(l,p,m){if(V(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,v,N=0;if(m==="be")for(n=l.length-1,c=0;n>=0;n-=3)v=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);else if(m==="le")for(n=0,c=0;n<l.length;n+=3)v=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=v<<N&67108863,this.words[c+1]=v>>>26-N&67108863,N+=24,N>=26&&(N-=26,c++);return this.strip()};function z(l,p){var m=l.charCodeAt(p);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function a(l,p,m){var n=z(l,m);return m-1>=p&&(n|=z(l,m-1)<<4),n}u.prototype._parseHex=function(l,p,m){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,v=0,N;if(m==="be")for(n=l.length-1;n>=p;n-=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8;else{var d=l.length-p;for(n=d%2===0?p+1:p;n<l.length;n+=2)N=a(l,p,n)<<c,this.words[v]|=N&67108863,c>=18?(c-=18,v+=1,this.words[v]|=N>>>26):c+=8}this.strip()};function L(l,p,m,n){for(var c=0,v=Math.min(l.length,m),N=p;N<v;N++){var d=l.charCodeAt(N)-48;c*=n,d>=49?c+=d-49+10:d>=17?c+=d-17+10:c+=d}return c}u.prototype._parseBase=function(l,p,m){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var v=l.length-m,N=v%n,d=Math.min(v,v-N)+m,o=0,h=m;h<d;h+=n)o=L(l,h,h+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(N!==0){var P=1;for(o=L(l,h,l.length,p),h=0;h<N;h++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var m;if(l===16||l==="hex"){m="";for(var n=0,c=0,v=0;v<this.length;v++){var N=this.words[v],d=((N<<n|c)&16777215).toString(16);c=N>>>24-n&16777215,c!==0||v!==this.length-1?m=_[6-d.length]+d+m:m=d+m,n+=2,n>=26&&(n-=26,v--)}for(c!==0&&(m=c.toString(16)+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],h=b[l];m="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(h).toString(l);P=P.idivn(h),P.isZero()?m=X+m:m=_[o-X.length]+X+m}for(this.isZero()&&(m="0"+m);m.length%p!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}V(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&V(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return V(typeof r<"u"),this.toArrayLike(r,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,m){var n=this.byteLength(),c=m||Math.max(1,n);V(n<=c,"byte array longer than desired length"),V(c>0,"Requested array length <= 0"),this.strip();var v=p==="le",N=new l(c),d,o,h=this.clone();if(v){for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[o]=d;for(;o<c;o++)N[o]=0}else{for(o=0;o<c-n;o++)N[o]=0;for(o=0;!h.isZero();o++)d=h.andln(255),h.iushrn(8),N[c-o-1]=d}return N},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,m=0;return(p&8191)===0&&(m+=13,p>>>=13),(p&127)===0&&(m+=7,p>>>=7),(p&15)===0&&(m+=4,p>>>=4),(p&3)===0&&(m+=2,p>>>=2),(p&1)===0&&m++,m},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function f(l){for(var p=new Array(l.bitLength()),m=0;m<p.length;m++){var n=m/26|0,c=m%26;p[m]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(l+=m,m!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return V((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&l.words[m];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return V((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,m;this.length>l.length?(p=this,m=l):(p=l,m=this);for(var n=0;n<m.length;n++)this.words[n]=p.words[n]^m.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return V((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){V(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,m=l%26;this._expand(p),m>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return m>0&&(this.words[n]=~this.words[n]&67108863>>26-m),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){V(typeof l=="number"&&l>=0);var m=l/26|0,n=l%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<n:this.words[m]=this.words[m]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var m,n;this.length>l.length?(m=this,n=l):(m=l,n=this);for(var c=0,v=0;v<n.length;v++)p=(m.words[v]|0)+(n.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;for(;c!==0&&v<m.length;v++)p=(m.words[v]|0)+c,this.words[v]=p&67108863,c=p>>>26;if(this.length=m.length,c!==0)this.words[this.length]=c,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var m=this.cmp(l);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;m>0?(n=this,c=l):(n=l,c=this);for(var v=0,N=0;N<c.length;N++)p=(n.words[N]|0)-(c.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;for(;v!==0&&N<n.length;N++)p=(n.words[N]|0)+v,v=p>>26,this.words[N]=p&67108863;if(v===0&&N<n.length&&n!==this)for(;N<n.length;N++)this.words[N]=n.words[N];return this.length=Math.max(this.length,N),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function M(l,p,m){m.negative=p.negative^l.negative;var n=l.length+p.length|0;m.length=n,n=n-1|0;var c=l.words[0]|0,v=p.words[0]|0,N=c*v,d=N&67108863,o=N/67108864|0;m.words[0]=d;for(var h=1;h<n;h++){for(var P=o>>>26,X=o&67108863,k=Math.min(h,p.length-1),I=Math.max(0,h-l.length+1);I<=k;I++){var Q=h-I|0;c=l.words[Q]|0,v=p.words[I]|0,N=c*v+X,P+=N/67108864|0,X=N&67108863}m.words[h]=X|0,o=P|0}return o!==0?m.words[h]=o|0:m.length--,m.strip()}var T=function(l,p,m){var n=l.words,c=p.words,v=m.words,N=0,d,o,h,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,r1=n[3]|0,n1=r1&8191,c1=r1>>>13,G=n[4]|0,K=G&8191,Y=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,f1=M1&8191,d1=M1>>>13,F1=n[7]|0,y1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,b1=c[0]|0,m1=b1&8191,v1=b1>>>13,j1=c[1]|0,x1=j1&8191,_1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,d2=c[3]|0,q1=d2&8191,L1=d2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,h2=c[5]|0,S1=h2&8191,$1=h2>>>13,y2=c[6]|0,Z1=y2&8191,W1=y2>>>13,v2=c[7]|0,w1=v2&8191,O1=v2>>>13,_2=c[8]|0,R1=_2&8191,s1=_2>>>13,x2=c[9]|0,g1=x2&8191,X1=x2>>>13;m.negative=l.negative^p.negative,m.length=19,d=Math.imul(X,m1),o=Math.imul(X,v1),o=o+Math.imul(k,m1)|0,h=Math.imul(k,v1);var f2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,d=Math.imul(Q,m1),o=Math.imul(Q,v1),o=o+Math.imul(e,m1)|0,h=Math.imul(e,v1),d=d+Math.imul(X,x1)|0,o=o+Math.imul(X,_1)|0,o=o+Math.imul(k,x1)|0,h=h+Math.imul(k,_1)|0;var U1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,d=Math.imul(E,m1),o=Math.imul(E,v1),o=o+Math.imul(A,m1)|0,h=Math.imul(A,v1),d=d+Math.imul(Q,x1)|0,o=o+Math.imul(Q,_1)|0,o=o+Math.imul(e,x1)|0,h=h+Math.imul(e,_1)|0,d=d+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,h=h+Math.imul(k,T1)|0;var K1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,d=Math.imul(n1,m1),o=Math.imul(n1,v1),o=o+Math.imul(c1,m1)|0,h=Math.imul(c1,v1),d=d+Math.imul(E,x1)|0,o=o+Math.imul(E,_1)|0,o=o+Math.imul(A,x1)|0,h=h+Math.imul(A,_1)|0,d=d+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,h=h+Math.imul(e,T1)|0,d=d+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,h=h+Math.imul(k,L1)|0;var D1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,d=Math.imul(K,m1),o=Math.imul(K,v1),o=o+Math.imul(Y,m1)|0,h=Math.imul(Y,v1),d=d+Math.imul(n1,x1)|0,o=o+Math.imul(n1,_1)|0,o=o+Math.imul(c1,x1)|0,h=h+Math.imul(c1,_1)|0,d=d+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,h=h+Math.imul(A,T1)|0,d=d+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,h=h+Math.imul(e,L1)|0,d=d+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,h=h+Math.imul(k,V1)|0;var I1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,d=Math.imul(u1,m1),o=Math.imul(u1,v1),o=o+Math.imul(o1,m1)|0,h=Math.imul(o1,v1),d=d+Math.imul(K,x1)|0,o=o+Math.imul(K,_1)|0,o=o+Math.imul(Y,x1)|0,h=h+Math.imul(Y,_1)|0,d=d+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,h=h+Math.imul(c1,T1)|0,d=d+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,h=h+Math.imul(A,L1)|0,d=d+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,h=h+Math.imul(e,V1)|0,d=d+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,h=h+Math.imul(k,$1)|0;var Y1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,d=Math.imul(f1,m1),o=Math.imul(f1,v1),o=o+Math.imul(d1,m1)|0,h=Math.imul(d1,v1),d=d+Math.imul(u1,x1)|0,o=o+Math.imul(u1,_1)|0,o=o+Math.imul(o1,x1)|0,h=h+Math.imul(o1,_1)|0,d=d+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,h=h+Math.imul(Y,T1)|0,d=d+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,h=h+Math.imul(c1,L1)|0,d=d+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,h=h+Math.imul(A,V1)|0,d=d+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,h=h+Math.imul(e,$1)|0,d=d+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,h=h+Math.imul(k,W1)|0;var t1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,d=Math.imul(y1,m1),o=Math.imul(y1,v1),o=o+Math.imul(a1,m1)|0,h=Math.imul(a1,v1),d=d+Math.imul(f1,x1)|0,o=o+Math.imul(f1,_1)|0,o=o+Math.imul(d1,x1)|0,h=h+Math.imul(d1,_1)|0,d=d+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,h=h+Math.imul(o1,T1)|0,d=d+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,h=h+Math.imul(Y,L1)|0,d=d+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,h=h+Math.imul(c1,V1)|0,d=d+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,h=h+Math.imul(A,$1)|0,d=d+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,h=h+Math.imul(e,W1)|0,d=d+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,h=h+Math.imul(k,O1)|0;var C1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,d=Math.imul(F,m1),o=Math.imul(F,v1),o=o+Math.imul(i,m1)|0,h=Math.imul(i,v1),d=d+Math.imul(y1,x1)|0,o=o+Math.imul(y1,_1)|0,o=o+Math.imul(a1,x1)|0,h=h+Math.imul(a1,_1)|0,d=d+Math.imul(f1,N1)|0,o=o+Math.imul(f1,T1)|0,o=o+Math.imul(d1,N1)|0,h=h+Math.imul(d1,T1)|0,d=d+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,h=h+Math.imul(o1,L1)|0,d=d+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,h=h+Math.imul(Y,V1)|0,d=d+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,h=h+Math.imul(c1,$1)|0,d=d+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,h=h+Math.imul(A,W1)|0,d=d+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,h=h+Math.imul(e,O1)|0,d=d+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,h=h+Math.imul(k,s1)|0;var B1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,d=Math.imul(C,m1),o=Math.imul(C,v1),o=o+Math.imul(l1,m1)|0,h=Math.imul(l1,v1),d=d+Math.imul(F,x1)|0,o=o+Math.imul(F,_1)|0,o=o+Math.imul(i,x1)|0,h=h+Math.imul(i,_1)|0,d=d+Math.imul(y1,N1)|0,o=o+Math.imul(y1,T1)|0,o=o+Math.imul(a1,N1)|0,h=h+Math.imul(a1,T1)|0,d=d+Math.imul(f1,q1)|0,o=o+Math.imul(f1,L1)|0,o=o+Math.imul(d1,q1)|0,h=h+Math.imul(d1,L1)|0,d=d+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,h=h+Math.imul(o1,V1)|0,d=d+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,h=h+Math.imul(Y,$1)|0,d=d+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,h=h+Math.imul(c1,W1)|0,d=d+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,h=h+Math.imul(A,O1)|0,d=d+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,h=h+Math.imul(e,s1)|0,d=d+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,h=h+Math.imul(k,X1)|0;var Q1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,d=Math.imul(C,x1),o=Math.imul(C,_1),o=o+Math.imul(l1,x1)|0,h=Math.imul(l1,_1),d=d+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,h=h+Math.imul(i,T1)|0,d=d+Math.imul(y1,q1)|0,o=o+Math.imul(y1,L1)|0,o=o+Math.imul(a1,q1)|0,h=h+Math.imul(a1,L1)|0,d=d+Math.imul(f1,z1)|0,o=o+Math.imul(f1,V1)|0,o=o+Math.imul(d1,z1)|0,h=h+Math.imul(d1,V1)|0,d=d+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,h=h+Math.imul(o1,$1)|0,d=d+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,h=h+Math.imul(Y,W1)|0,d=d+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,h=h+Math.imul(c1,O1)|0,d=d+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,h=h+Math.imul(A,s1)|0,d=d+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,h=h+Math.imul(e,X1)|0;var e1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,d=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,h=Math.imul(l1,T1),d=d+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,h=h+Math.imul(i,L1)|0,d=d+Math.imul(y1,z1)|0,o=o+Math.imul(y1,V1)|0,o=o+Math.imul(a1,z1)|0,h=h+Math.imul(a1,V1)|0,d=d+Math.imul(f1,S1)|0,o=o+Math.imul(f1,$1)|0,o=o+Math.imul(d1,S1)|0,h=h+Math.imul(d1,$1)|0,d=d+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,h=h+Math.imul(o1,W1)|0,d=d+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,h=h+Math.imul(Y,O1)|0,d=d+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,h=h+Math.imul(c1,s1)|0,d=d+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,h=h+Math.imul(A,X1)|0;var A1=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,d=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,h=Math.imul(l1,L1),d=d+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,h=h+Math.imul(i,V1)|0,d=d+Math.imul(y1,S1)|0,o=o+Math.imul(y1,$1)|0,o=o+Math.imul(a1,S1)|0,h=h+Math.imul(a1,$1)|0,d=d+Math.imul(f1,Z1)|0,o=o+Math.imul(f1,W1)|0,o=o+Math.imul(d1,Z1)|0,h=h+Math.imul(d1,W1)|0,d=d+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,h=h+Math.imul(o1,O1)|0,d=d+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,h=h+Math.imul(Y,s1)|0,d=d+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,h=h+Math.imul(c1,X1)|0;var l2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,d=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,h=Math.imul(l1,V1),d=d+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,h=h+Math.imul(i,$1)|0,d=d+Math.imul(y1,Z1)|0,o=o+Math.imul(y1,W1)|0,o=o+Math.imul(a1,Z1)|0,h=h+Math.imul(a1,W1)|0,d=d+Math.imul(f1,w1)|0,o=o+Math.imul(f1,O1)|0,o=o+Math.imul(d1,w1)|0,h=h+Math.imul(d1,O1)|0,d=d+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,h=h+Math.imul(o1,s1)|0,d=d+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,h=h+Math.imul(Y,X1)|0;var o2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,d=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,h=Math.imul(l1,$1),d=d+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,h=h+Math.imul(i,W1)|0,d=d+Math.imul(y1,w1)|0,o=o+Math.imul(y1,O1)|0,o=o+Math.imul(a1,w1)|0,h=h+Math.imul(a1,O1)|0,d=d+Math.imul(f1,R1)|0,o=o+Math.imul(f1,s1)|0,o=o+Math.imul(d1,R1)|0,h=h+Math.imul(d1,s1)|0,d=d+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,h=h+Math.imul(o1,X1)|0;var n2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,d=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,h=Math.imul(l1,W1),d=d+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,h=h+Math.imul(i,O1)|0,d=d+Math.imul(y1,R1)|0,o=o+Math.imul(y1,s1)|0,o=o+Math.imul(a1,R1)|0,h=h+Math.imul(a1,s1)|0,d=d+Math.imul(f1,g1)|0,o=o+Math.imul(f1,X1)|0,o=o+Math.imul(d1,g1)|0,h=h+Math.imul(d1,X1)|0;var p2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,d=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,h=Math.imul(l1,O1),d=d+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,h=h+Math.imul(i,s1)|0,d=d+Math.imul(y1,g1)|0,o=o+Math.imul(y1,X1)|0,o=o+Math.imul(a1,g1)|0,h=h+Math.imul(a1,X1)|0;var u2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,d=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,h=Math.imul(l1,s1),d=d+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,h=h+Math.imul(i,X1)|0;var c2=(N+d|0)+((o&8191)<<13)|0;N=(h+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,d=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,h=Math.imul(l1,X1);var m2=(N+d|0)+((o&8191)<<13)|0;return N=(h+(o>>>13)|0)+(m2>>>26)|0,m2&=67108863,v[0]=f2,v[1]=U1,v[2]=K1,v[3]=D1,v[4]=I1,v[5]=Y1,v[6]=t1,v[7]=C1,v[8]=B1,v[9]=Q1,v[10]=e1,v[11]=A1,v[12]=l2,v[13]=o2,v[14]=n2,v[15]=p2,v[16]=u2,v[17]=c2,v[18]=m2,N!==0&&(v[19]=N,m.length++),m};Math.imul||(T=M);function $(l,p,m){m.negative=p.negative^l.negative,m.length=l.length+p.length;for(var n=0,c=0,v=0;v<m.length-1;v++){var N=c;c=0;for(var d=n&67108863,o=Math.min(v,p.length-1),h=Math.max(0,v-l.length+1);h<=o;h++){var P=v-h,X=l.words[P]|0,k=p.words[h]|0,I=X*k,Q=I&67108863;N=N+(I/67108864|0)|0,Q=Q+d|0,d=Q&67108863,N=N+(Q>>>26)|0,c+=N>>>26,N&=67108863}m.words[v]=d,n=N,N=c}return n!==0?m.words[v]=n:m.length--,m.strip()}function Z(l,p,m){var n=new w;return n.mulp(l,p,m)}u.prototype.mulTo=function(l,p){var m,n=this.length+l.length;return this.length===10&&l.length===10?m=T(this,l,p):n<63?m=M(this,l,p):n<1024?m=$(this,l,p):m=Z(this,l,p),m};function w(l,p){this.x=l,this.y=p}w.prototype.makeRBT=function(l){for(var p=new Array(l),m=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,m,l);return p},w.prototype.revBin=function(l,p,m){if(l===0||l===m-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},w.prototype.permute=function(l,p,m,n,c,v){for(var N=0;N<v;N++)n[N]=p[l[N]],c[N]=m[l[N]]},w.prototype.transform=function(l,p,m,n,c,v){this.permute(v,l,p,m,n,c);for(var N=1;N<c;N<<=1)for(var d=N<<1,o=Math.cos(2*Math.PI/d),h=Math.sin(2*Math.PI/d),P=0;P<c;P+=d)for(var X=o,k=h,I=0;I<N;I++){var Q=m[P+I],e=n[P+I],B=m[P+I+N],E=n[P+I+N],A=X*B-k*E;E=X*E+k*B,B=A,m[P+I]=Q+B,n[P+I]=e+E,m[P+I+N]=Q-B,n[P+I+N]=e-E,I!==d&&(A=o*X-h*k,k=o*k+h*X,X=A)}},w.prototype.guessLen13b=function(l,p){var m=Math.max(p,l)|1,n=m&1,c=0;for(m=m/2|0;m;m=m>>>1)c++;return 1<<c+1+n},w.prototype.conjugate=function(l,p,m){if(!(m<=1))for(var n=0;n<m/2;n++){var c=l[n];l[n]=l[m-n-1],l[m-n-1]=c,c=p[n],p[n]=-p[m-n-1],p[m-n-1]=-c}},w.prototype.normalize13b=function(l,p){for(var m=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+m;l[n]=c&67108863,c<67108864?m=0:m=c/67108864|0}return l},w.prototype.convert13b=function(l,p,m,n){for(var c=0,v=0;v<p;v++)c=c+(l[v]|0),m[2*v]=c&8191,c=c>>>13,m[2*v+1]=c&8191,c=c>>>13;for(v=2*p;v<n;++v)m[v]=0;V(c===0),V((c&-8192)===0)},w.prototype.stub=function(l){for(var p=new Array(l),m=0;m<l;m++)p[m]=0;return p},w.prototype.mulp=function(l,p,m){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),v=this.stub(n),N=new Array(n),d=new Array(n),o=new Array(n),h=new Array(n),P=new Array(n),X=new Array(n),k=m.words;k.length=n,this.convert13b(l.words,l.length,N,n),this.convert13b(p.words,p.length,h,n),this.transform(N,v,d,o,n,c),this.transform(h,v,P,X,n,c);for(var I=0;I<n;I++){var Q=d[I]*P[I]-o[I]*X[I];o[I]=d[I]*X[I]+o[I]*P[I],d[I]=Q}return this.conjugate(d,o,n),this.transform(d,o,k,v,n,c),this.conjugate(k,v,n),this.normalize13b(k,n),m.negative=l.negative^p.negative,m.length=l.length+p.length,m.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){V(typeof l=="number"),V(l<67108864);for(var p=0,m=0;m<this.length;m++){var n=(this.words[m]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[m]=c&67108863}return p!==0&&(this.words[m]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=f(l);if(p.length===0)return new u(1);for(var m=this,n=0;n<p.length&&p[n]===0;n++,m=m.sqr());if(++n<p.length)for(var c=m.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(m=m.mul(c));return m},u.prototype.iushln=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var v=0;for(c=0;c<this.length;c++){var N=this.words[c]&n,d=(this.words[c]|0)-N<<p;this.words[c]=d|v,v=N>>>26-p}v&&(this.words[c]=v,this.length++)}if(m!==0){for(c=this.length-1;c>=0;c--)this.words[c+m]=this.words[c];for(c=0;c<m;c++)this.words[c]=0;this.length+=m}return this.strip()},u.prototype.ishln=function(l){return V(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,m){V(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,v=Math.min((l-c)/26,this.length),N=67108863^67108863>>>c<<c,d=m;if(n-=v,n=Math.max(0,n),d){for(var o=0;o<v;o++)d.words[o]=this.words[o];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,o=0;o<this.length;o++)this.words[o]=this.words[o+v];else this.words[0]=0,this.length=1;var h=0;for(o=this.length-1;o>=0&&(h!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=h<<26-c|P>>>c,h=P&N}return d&&h!==0&&(d.words[d.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,m){return V(this.negative===0),this.iushrn(l,p,m)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return!1;var c=this.words[m];return!!(c&n)},u.prototype.imaskn=function(l){V(typeof l=="number"&&l>=0);var p=l%26,m=(l-p)/26;if(V(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return V(typeof l=="number"),V(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(V(typeof l=="number"),V(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,m){var n=l.length+m,c;this._expand(n);var v,N=0;for(c=0;c<l.length;c++){v=(this.words[c+m]|0)+N;var d=(l.words[c]|0)*p;v-=d&67108863,N=(v>>26)-(d/67108864|0),this.words[c+m]=v&67108863}for(;c<this.length-m;c++)v=(this.words[c+m]|0)+N,N=v>>26,this.words[c+m]=v&67108863;if(N===0)return this.strip();for(V(N===-1),N=0,c=0;c<this.length;c++)v=-(this.words[c]|0)+N,N=v>>26,this.words[c]=v&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var m=this.length-l.length,n=this.clone(),c=l,v=c.words[c.length-1]|0,N=this._countBits(v);m=26-N,m!==0&&(c=c.ushln(m),n.iushln(m),v=c.words[c.length-1]|0);var d=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=d+1,o.words=new Array(o.length);for(var h=0;h<o.length;h++)o.words[h]=0}var P=n.clone()._ishlnsubmul(c,1,d);P.negative===0&&(n=P,o&&(o.words[d]=1));for(var X=d-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/v|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&m!==0&&n.iushrn(m),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,m){if(V(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,v;return this.negative!==0&&l.negative===0?(v=this.neg().divmod(l,p),p!=="mod"&&(n=v.div.neg()),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(v=this.divmod(l.neg(),p),p!=="mod"&&(n=v.div.neg()),{div:n,mod:v.mod}):(this.negative&l.negative)!==0?(v=this.neg().divmod(l.neg(),p),p!=="div"&&(c=v.mod.neg(),m&&c.negative!==0&&c.isub(l)),{div:v.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),v=m.cmp(n);return v<0||c===1&&v===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){V(l<=67108863);for(var p=67108864%l,m=0,n=this.length-1;n>=0;n--)m=(p*m+(this.words[n]|0))%l;return m},u.prototype.idivn=function(l){V(l<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var n=(this.words[m]|0)+p*67108864;this.words[m]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=new u(0),N=new u(1),d=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++d;for(var o=m.clone(),h=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(h)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(m.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(v.isOdd()||N.isOdd())&&(v.iadd(o),N.isub(h)),v.iushrn(1),N.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(v),c.isub(N)):(m.isub(p),v.isub(n),N.isub(c))}return{a:v,b:N,gcd:m.iushln(d)}},u.prototype._invmp=function(l){V(l.negative===0),V(!l.isZero());var p=this,m=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),v=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var N=0,d=1;(p.words[0]&d)===0&&N<26;++N,d<<=1);if(N>0)for(p.iushrn(N);N-- >0;)n.isOdd()&&n.iadd(v),n.iushrn(1);for(var o=0,h=1;(m.words[0]&h)===0&&o<26;++o,h<<=1);if(o>0)for(m.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(v),c.iushrn(1);p.cmp(m)>=0?(p.isub(m),n.isub(c)):(m.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),m=l.clone();p.negative=0,m.negative=0;for(var n=0;p.isEven()&&m.isEven();n++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var c=p.cmp(m);if(c<0){var v=p;p=m,m=v}else if(c===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){V(typeof l=="number");var p=l%26,m=(l-p)/26,n=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=n,this;for(var c=n,v=m;c!==0&&v<this.length;v++){var N=this.words[v]|0;N+=c,c=N>>>26,N&=67108863,this.words[v]=N}return c!==0&&(this.words[v]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(l=-l),V(l<=67108863,"Number is too big");var n=this.words[0]|0;m=n===l?0:n<l?-1:1}return this.negative!==0?-m|0:m},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var n=this.words[m]|0,c=l.words[m]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return V(!this.red,"Already a number in reduction context"),V(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return V(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return V(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return V(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return V(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return V(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return V(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return V(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return V(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return V(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return V(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return V(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return V(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return V(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return V(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var n=m<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function R(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(R,g),R.prototype.split=function(l,p){for(var m=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var v=l.words[9];for(p.words[p.length++]=v&m,c=10;c<l.length;c++){var N=l.words[c]|0;l.words[c-10]=(N&m)<<4|v>>>22,v=N}v>>>=22,l.words[c-10]=v,v===0&&l.length>10?l.length-=10:l.length-=9},R.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,m=0;m<l.length;m++){var n=l.words[m]|0;p+=n*977,l.words[m]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(j,g);function J(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(J,g),J.prototype.imulK=function(l){for(var p=0,m=0;m<l.length;m++){var n=(l.words[m]|0)*19+p,c=n&67108863;n>>>=26,l.words[m]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new R;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else V(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){V(l.negative===0,"red works only with positives"),V(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){V((l.negative|p.negative)===0,"red works only with positives"),V(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var m=l.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var m=l.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},H.prototype.sub=function(l,p){this._verify2(l,p);var m=l.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var m=l.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(V(p%2===1),p===3){var m=this.m.add(new u(1)).iushrn(2);return this.pow(l,m)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);V(!n.isZero());var v=new u(1).toRed(this),N=v.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,d).cmp(N)!==0;)o.redIAdd(N);for(var h=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(v)!==0;){for(var I=X,Q=0;I.cmp(v)!==0;Q++)I=I.redSqr();V(Q<k);var e=this.pow(h,new u(1).iushln(k-Q-1));P=P.redMul(e),h=e.redSqr(),X=X.redMul(h),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var m=4,n=new Array(1<<m);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var v=n[0],N=0,d=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var h=p.words[c],P=o-1;P>=0;P--){var X=h>>P&1;if(v!==n[0]&&(v=this.sqr(v)),X===0&&N===0){d=0;continue}N<<=1,N|=X,d++,!(d!==m&&(c!==0||P!==0))&&(v=this.mul(v,n[N]),d=0,N=0)}o=26}return v},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var m=l.imul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var m=l.mul(p),n=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=m.isub(n).iushrn(this.shift),v=c;return c.cmp(this.m)>=0?v=c.isub(this.m):c.cmpn(0)<0&&(v=c.iadd(this.m)),v._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof W>"u"||W,x)}),U5=h1((x,W)=>{var q=l0(),O=H1().Buffer;function V(y,u){return O.from(y.toRed(q.mont(u.modulus)).redPow(new q(u.publicExponent)).fromRed().toArray())}W.exports=V}),W7=h1((x,W)=>{var q=p6(),O=m3(),V=V3(),y=k5(),u=P5(),r=l0(),z=U5(),a=I6(),L=H1().Buffer;W.exports=function(f,M,T){var $;f.padding?$=f.padding:T?$=1:$=4;var Z=q(f),w;if($===4)w=_(Z,M);else if($===1)w=S(Z,M,T);else if($===3){if(w=new r(M),w.cmp(Z.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return T?a(w,Z):z(w,Z)};function _(f,M){var T=f.modulus.byteLength(),$=M.length,Z=V("sha1").update(L.alloc(0)).digest(),w=Z.length,s=2*w;if($>T-s-2)throw new Error("message too long");var g=L.alloc(T-$-s-2),R=T-w-1,U=O(w),j=u(L.concat([Z,g,L.alloc(1,1),M],R),y(U,R)),J=u(U,y(j,w));return new r(L.concat([L.alloc(1),J,j],T))}function S(f,M,T){var $=M.length,Z=f.modulus.byteLength();if($>Z-11)throw new Error("message too long");var w;return T?w=L.alloc(Z-$-3,255):w=b(Z-$-3),new r(L.concat([L.from([0,T?1:2]),w,L.alloc(1),M],Z))}function b(f){for(var M=L.allocUnsafe(f),T=0,$=O(f*2),Z=0,w;T<f;)Z===$.length&&($=O(f*2),Z=0),w=$[Z++],w&&(M[T++]=w);return M}}),w7=h1((x,W)=>{var q=p6(),O=k5(),V=P5(),y=l0(),u=I6(),r=V3(),z=U5(),a=H1().Buffer;W.exports=function(b,f,M){var T;b.padding?T=b.padding:M?T=1:T=4;var $=q(b),Z=$.modulus.byteLength();if(f.length>Z||new y(f).cmp($.modulus)>=0)throw new Error("decryption error");var w;M?w=z(new y(f),$):w=u(f,$);var s=a.alloc(Z-w.length);if(w=a.concat([s,w],Z),T===4)return L($,w);if(T===1)return _($,w,M);if(T===3)return w;throw new Error("unknown padding")};function L(b,f){var M=b.modulus.byteLength(),T=r("sha1").update(a.alloc(0)).digest(),$=T.length;if(f[0]!==0)throw new Error("decryption error");var Z=f.slice(1,$+1),w=f.slice($+1),s=V(Z,O(w,$)),g=V(w,O(s,M-$-1));if(S(T,g.slice(0,$)))throw new Error("decryption error");for(var R=$;g[R]===0;)R++;if(g[R++]!==1)throw new Error("decryption error");return g.slice(R)}function _(b,f,M){for(var T=f.slice(0,2),$=2,Z=0;f[$++]!==0;)if($>=f.length){Z++;break}var w=f.slice(2,$-1);if((T.toString("hex")!=="0002"&&!M||T.toString("hex")!=="0001"&&M)&&Z++,w.length<8&&Z++,Z)throw new Error("decryption error");return f.slice($)}function S(b,f){b=a.from(b),f=a.from(f);var M=0,T=b.length;b.length!==f.length&&(M++,T=Math.min(b.length,f.length));for(var $=-1;++$<T;)M+=b[$]^f[$];return M}}),O7=h1((x)=>{x.publicEncrypt=W7(),x.privateDecrypt=w7(),x.privateEncrypt=function(W,q){return x.publicEncrypt(W,q,!0)},x.publicDecrypt=function(W,q){return x.privateDecrypt(W,q,!0)}}),R7=h1((x)=>{function W(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var q=H1(),O=m3(),V=q.Buffer,y=q.kMaxLength,u=global.crypto||global.msCrypto,r=Math.pow(2,32)-1;function z(b,f){if(typeof b!="number"||b!==b)throw new TypeError("offset must be a number");if(b>r||b<0)throw new TypeError("offset must be a uint32");if(b>y||b>f)throw new RangeError("offset out of range")}function a(b,f,M){if(typeof b!="number"||b!==b)throw new TypeError("size must be a number");if(b>r||b<0)throw new TypeError("size must be a uint32");if(b+f>M||b>y)throw new RangeError("buffer too small")}u&&u.getRandomValues?(x.randomFill=L,x.randomFillSync=S):(x.randomFill=W,x.randomFillSync=W);function L(b,f,M,T){if(!V.isBuffer(b)&&!(b instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof f=="function")T=f,f=0,M=b.length;else if(typeof M=="function")T=M,M=b.length-f;else if(typeof T!="function")throw new TypeError('"cb" argument must be a function');return z(f,b.length),a(M,f,b.length),_(b,f,M,T)}function _(b,f,M,T){var $=b.buffer,Z=new Uint8Array($,f,M);if(u.getRandomValues(Z),T){process.nextTick(function(){T(null,b)});return}return b;var w}function S(b,f,M){if(typeof f>"u"&&(f=0),!V.isBuffer(b)&&!(b instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return z(f,b.length),M===void 0&&(M=b.length-f),a(M,f,b.length),_(b,f,M)}}),K5=h1((x)=>{x.randomBytes=x.rng=x.pseudoRandomBytes=x.prng=m3(),x.createHash=x.Hash=V3(),x.createHmac=x.Hmac=l5();var W=M8(),q=Object.keys(W),O=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(q);x.getHashes=function(){return O};var V=m5();x.pbkdf2=V.pbkdf2,x.pbkdf2Sync=V.pbkdf2Sync;var y=U8();x.Cipher=y.Cipher,x.createCipher=y.createCipher,x.Cipheriv=y.Cipheriv,x.createCipheriv=y.createCipheriv,x.Decipher=y.Decipher,x.createDecipher=y.createDecipher,x.Decipheriv=y.Decipheriv,x.createDecipheriv=y.createDecipheriv,x.getCiphers=y.getCiphers,x.listCiphers=y.listCiphers;var u=J8();x.DiffieHellmanGroup=u.DiffieHellmanGroup,x.createDiffieHellmanGroup=u.createDiffieHellmanGroup,x.getDiffieHellman=u.getDiffieHellman,x.createDiffieHellman=u.createDiffieHellman,x.DiffieHellman=u.DiffieHellman;var r=S7();x.createSign=r.createSign,x.Sign=r.Sign,x.createVerify=r.createVerify,x.Verify=r.Verify,x.createECDH=Z7();var z=O7();x.publicEncrypt=z.publicEncrypt,x.privateEncrypt=z.privateEncrypt,x.publicDecrypt=z.publicDecrypt,x.privateDecrypt=z.privateDecrypt;var a=R7();x.randomFill=a.randomFill,x.randomFillSync=a.randomFillSync,x.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},x.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),i5={},t3(i5,{DEFAULT_ENCODING:()=>v3,default:()=>u4,getCurves:()=>m0,getRandomValues:()=>f0,randomUUID:()=>d0,scrypt:()=>m6,scryptSync:()=>c6,timingSafeEqual:()=>O3,webcrypto:()=>a0}),w6(i5,D2(K5())),s7=D2(K5()),v3="buffer",f0=(x)=>crypto.getRandomValues(x),d0=()=>crypto.randomUUID(),g7=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],O3="timingSafeEqual"in crypto?(x,W)=>{let{byteLength:q}=x,{byteLength:O}=W;if(typeof q!="number"||typeof O!="number")throw new TypeError("Input must be an array buffer view");if(q!==O)throw new RangeError("Input buffers must have the same length");return crypto.timingSafeEqual(x,W)}:void 0,c6="scryptSync"in crypto?(x,W,q,O)=>{let V=crypto.scryptSync(x,W,q,O);return v3!=="buffer"?new Buffer(V).toString(v3):new Buffer(V)}:void 0,m6="scryptSync"in crypto?function(x,W,q,O,V){if(typeof O=="function"&&(V=O,O=void 0),typeof V!="function"){var y=new TypeError("callback must be a function");throw y.code="ERR_INVALID_CALLBACK",y}try{let u=crypto.scryptSync(x,W,q,O);process.nextTick(V,null,v3!=="buffer"?new Buffer(u).toString(v3):new Buffer(u))}catch(u){throw u}}:void 0,O3&&(Object.defineProperty(O3,"name",{value:"::bunternal::"}),Object.defineProperty(m6,"name",{value:"::bunternal::"}),Object.defineProperty(c6,"name",{value:"::bunternal::"})),a0=crypto,u4={...s7,getRandomValues:f0,randomUUID:d0,timingSafeEqual:O3,scryptSync:c6,scrypt:m6,webcrypto:a0,getCurves:m0};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */}),$9=_0((x,W)=>{(function(q,O){if(typeof x==="object")W.exports=x=O();else if(typeof define==="function"&&define.amd)define([],O);else q.CryptoJS=O()})(x,function(){var q=q||function(O,V){var y;if(typeof window!=="undefined"&&window.crypto)y=window.crypto;if(typeof self!=="undefined"&&self.crypto)y=self.crypto;if(typeof globalThis!=="undefined"&&globalThis.crypto)y=globalThis.crypto;if(!y&&typeof window!=="undefined"&&window.msCrypto)y=window.msCrypto;if(!y&&typeof global!=="undefined"&&global.crypto)y=global.crypto;if(!y&&typeof ro==="function")try{y=(ho(),V9(S9))}catch(w){}var u=function(){if(y){if(typeof y.getRandomValues==="function")try{return y.getRandomValues(new Uint32Array(1))[0]}catch(w){}if(typeof y.randomBytes==="function")try{return y.randomBytes(4).readInt32LE()}catch(w){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function w(){}return function(s){var g;return w.prototype=s,g=new w,w.prototype=null,g}}(),z={},a=z.lib={},L=a.Base=function(){return{extend:function(w){var s=r(this);if(w)s.mixIn(w);if(!s.hasOwnProperty("init")||this.init===s.init)s.init=function(){s.$super.init.apply(this,arguments)};return s.init.prototype=s,s.$super=this,s},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var s in w)if(w.hasOwnProperty(s))this[s]=w[s];if(w.hasOwnProperty("toString"))this.toString=w.toString},clone:function(){return this.init.prototype.extend(this)}}}(),_=a.WordArray=L.extend({init:function(w,s){if(w=this.words=w||[],s!=V)this.sigBytes=s;else this.sigBytes=w.length*4},toString:function(w){return(w||b).stringify(this)},concat:function(w){var s=this.words,g=w.words,R=this.sigBytes,U=w.sigBytes;if(this.clamp(),R%4)for(var j=0;j<U;j++){var J=g[j>>>2]>>>24-j%4*8&255;s[R+j>>>2]|=J<<24-(R+j)%4*8}else for(var H=0;H<U;H+=4)s[R+H>>>2]=g[H>>>2];return this.sigBytes+=U,this},clamp:function(){var w=this.words,s=this.sigBytes;w[s>>>2]&=4294967295<<32-s%4*8,w.length=O.ceil(s/4)},clone:function(){var w=L.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){var s=[];for(var g=0;g<w;g+=4)s.push(u());return new _.init(s,w)}}),S=z.enc={},b=S.Hex={stringify:function(w){var{words:s,sigBytes:g}=w,R=[];for(var U=0;U<g;U++){var j=s[U>>>2]>>>24-U%4*8&255;R.push((j>>>4).toString(16)),R.push((j&15).toString(16))}return R.join("")},parse:function(w){var s=w.length,g=[];for(var R=0;R<s;R+=2)g[R>>>3]|=parseInt(w.substr(R,2),16)<<24-R%8*4;return new _.init(g,s/2)}},f=S.Latin1={stringify:function(w){var{words:s,sigBytes:g}=w,R=[];for(var U=0;U<g;U++){var j=s[U>>>2]>>>24-U%4*8&255;R.push(String.fromCharCode(j))}return R.join("")},parse:function(w){var s=w.length,g=[];for(var R=0;R<s;R++)g[R>>>2]|=(w.charCodeAt(R)&255)<<24-R%4*8;return new _.init(g,s)}},M=S.Utf8={stringify:function(w){try{return decodeURIComponent(escape(f.stringify(w)))}catch(s){throw new Error("Malformed UTF-8 data")}},parse:function(w){return f.parse(unescape(encodeURIComponent(w)))}},T=a.BufferedBlockAlgorithm=L.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(w){if(typeof w=="string")w=M.parse(w);this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var s,g=this._data,R=g.words,U=g.sigBytes,j=this.blockSize,J=j*4,H=U/J;if(w)H=O.ceil(H);else H=O.max((H|0)-this._minBufferSize,0);var D=H*j,l=O.min(D*4,U);if(D){for(var p=0;p<D;p+=j)this._doProcessBlock(R,p);s=R.splice(0,D),g.sigBytes-=l}return new _.init(s,l)},clone:function(){var w=L.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0}),$=a.Hasher=T.extend({cfg:L.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){if(w)this._append(w);var s=this._doFinalize();return s},blockSize:16,_createHelper:function(w){return function(s,g){return new w.init(g).finalize(s)}},_createHmacHelper:function(w){return function(s,g){return new Z.HMAC.init(w,g).finalize(s)}}}),Z=z.algo={};return z}(Math);return q})}),yo=_0((x,W)=>{(function(q,O){if(typeof x==="object")W.exports=x=O($9());else if(typeof define==="function"&&define.amd)define(["./core"],O);else O(q.CryptoJS)})(x,function(q){return function(O){var V=q,y=V.lib,u=y.WordArray,r=y.Hasher,z=V.algo,a=[];(function(){for(var M=0;M<64;M++)a[M]=O.abs(O.sin(M+1))*4294967296|0})();var L=z.MD5=r.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(M,T){for(var $=0;$<16;$++){var Z=T+$,w=M[Z];M[Z]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var s=this._hash.words,g=M[T+0],R=M[T+1],U=M[T+2],j=M[T+3],J=M[T+4],H=M[T+5],D=M[T+6],l=M[T+7],p=M[T+8],m=M[T+9],n=M[T+10],c=M[T+11],v=M[T+12],N=M[T+13],d=M[T+14],o=M[T+15],h=s[0],P=s[1],X=s[2],k=s[3];h=_(h,P,X,k,g,7,a[0]),k=_(k,h,P,X,R,12,a[1]),X=_(X,k,h,P,U,17,a[2]),P=_(P,X,k,h,j,22,a[3]),h=_(h,P,X,k,J,7,a[4]),k=_(k,h,P,X,H,12,a[5]),X=_(X,k,h,P,D,17,a[6]),P=_(P,X,k,h,l,22,a[7]),h=_(h,P,X,k,p,7,a[8]),k=_(k,h,P,X,m,12,a[9]),X=_(X,k,h,P,n,17,a[10]),P=_(P,X,k,h,c,22,a[11]),h=_(h,P,X,k,v,7,a[12]),k=_(k,h,P,X,N,12,a[13]),X=_(X,k,h,P,d,17,a[14]),P=_(P,X,k,h,o,22,a[15]),h=S(h,P,X,k,R,5,a[16]),k=S(k,h,P,X,D,9,a[17]),X=S(X,k,h,P,c,14,a[18]),P=S(P,X,k,h,g,20,a[19]),h=S(h,P,X,k,H,5,a[20]),k=S(k,h,P,X,n,9,a[21]),X=S(X,k,h,P,o,14,a[22]),P=S(P,X,k,h,J,20,a[23]),h=S(h,P,X,k,m,5,a[24]),k=S(k,h,P,X,d,9,a[25]),X=S(X,k,h,P,j,14,a[26]),P=S(P,X,k,h,p,20,a[27]),h=S(h,P,X,k,N,5,a[28]),k=S(k,h,P,X,U,9,a[29]),X=S(X,k,h,P,l,14,a[30]),P=S(P,X,k,h,v,20,a[31]),h=b(h,P,X,k,H,4,a[32]),k=b(k,h,P,X,p,11,a[33]),X=b(X,k,h,P,c,16,a[34]),P=b(P,X,k,h,d,23,a[35]),h=b(h,P,X,k,R,4,a[36]),k=b(k,h,P,X,J,11,a[37]),X=b(X,k,h,P,l,16,a[38]),P=b(P,X,k,h,n,23,a[39]),h=b(h,P,X,k,N,4,a[40]),k=b(k,h,P,X,g,11,a[41]),X=b(X,k,h,P,j,16,a[42]),P=b(P,X,k,h,D,23,a[43]),h=b(h,P,X,k,m,4,a[44]),k=b(k,h,P,X,v,11,a[45]),X=b(X,k,h,P,o,16,a[46]),P=b(P,X,k,h,U,23,a[47]),h=f(h,P,X,k,g,6,a[48]),k=f(k,h,P,X,l,10,a[49]),X=f(X,k,h,P,d,15,a[50]),P=f(P,X,k,h,H,21,a[51]),h=f(h,P,X,k,v,6,a[52]),k=f(k,h,P,X,j,10,a[53]),X=f(X,k,h,P,n,15,a[54]),P=f(P,X,k,h,R,21,a[55]),h=f(h,P,X,k,p,6,a[56]),k=f(k,h,P,X,o,10,a[57]),X=f(X,k,h,P,D,15,a[58]),P=f(P,X,k,h,N,21,a[59]),h=f(h,P,X,k,J,6,a[60]),k=f(k,h,P,X,c,10,a[61]),X=f(X,k,h,P,U,15,a[62]),P=f(P,X,k,h,m,21,a[63]),s[0]=s[0]+h|0,s[1]=s[1]+P|0,s[2]=s[2]+X|0,s[3]=s[3]+k|0},_doFinalize:function(){var M=this._data,T=M.words,$=this._nDataBytes*8,Z=M.sigBytes*8;T[Z>>>5]|=128<<24-Z%32;var w=O.floor($/4294967296),s=$;T[(Z+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,T[(Z+64>>>9<<4)+14]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,M.sigBytes=(T.length+1)*4,this._process();var g=this._hash,R=g.words;for(var U=0;U<4;U++){var j=R[U];R[U]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return g},clone:function(){var M=r.clone.call(this);return M._hash=this._hash.clone(),M}});function _(M,T,$,Z,w,s,g){var R=M+(T&$|~T&Z)+w+g;return(R<<s|R>>>32-s)+T}function S(M,T,$,Z,w,s,g){var R=M+(T&Z|$&~Z)+w+g;return(R<<s|R>>>32-s)+T}function b(M,T,$,Z,w,s,g){var R=M+(T^$^Z)+w+g;return(R<<s|R>>>32-s)+T}function f(M,T,$,Z,w,s,g){var R=M+($^(T|~Z))+w+g;return(R<<s|R>>>32-s)+T}V.MD5=r._createHelper(L),V.HmacMD5=r._createHmacHelper(L)}(Math),q.MD5})}),vo=_0((x,W)=>{(function(q,O){if(typeof x==="object")W.exports=x=O($9());else if(typeof define==="function"&&define.amd)define(["./core"],O);else O(q.CryptoJS)})(x,function(q){return q.enc.Latin1})}),_o=_0((x,W)=>{W.exports=function q(O){return atob(O)}});class n3{getEraseSize(x,W){return W}}var p3=L2(()=>{}),R3,xo=L2(()=>{R3={entry:1074521560,text:"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",text_start:1074520064,data:"GOv8P9jnC0Bx6AtA8+wLQO3oC0CP6AtA7egLQEnpC0AG6gtAeOoLQCHqC0CB5wtAo+kLQPjpC0Bn6QtAmuoLQI7pC0Ca6gtAXegLQLPoC0Dt6AtASekLQHfoC0BM6wtAs+wLQKXmC0DX7AtApeYLQKXmC0Cl5gtApeYLQKXmC0Cl5gtApeYLQKXmC0Dz6gtApeYLQM3rC0Cz7AtA",data_start:1073605544}}),bo={};j2(bo,{ESP32ROM:()=>x4});class x4 extends n3{constructor(){super(...arguments);this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=R3.text_start,this.ENTRY=R3.entry,this.DATA_START=R3.data_start,this.ROM_DATA=R3.data,this.ROM_TEXT=R3.text}async readEfuse(x,W){const q=this.EFUSE_RD_REG_BASE+4*W;return x.debug("Read efuse "+q),await x.readReg(q)}async getPkgVersion(x){const W=await this.readEfuse(x,3);let q=W>>9&7;return q+=(W>>2&1)<<3,q}async getChipRevision(x){const W=await this.readEfuse(x,3),q=await this.readEfuse(x,5),O=await x.readReg(this.DR_REG_SYSCON_BASE+124),V=W>>15&1,y=q>>20&1,u=O>>31&1;if(V!=0)if(y!=0)if(u!=0)return 3;else return 2;else return 1;return 0}async getChipDescription(x){const W=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"];let q="";const O=await this.getPkgVersion(x),V=await this.getChipRevision(x),y=V==3;if((await this.readEfuse(x,3)&1)!=0)W[0]="ESP32-S0WDQ6",W[1]="ESP32-S0WD";if(y)W[5]="ESP32-PICO-V3";if(O>=0&&O<=6)q=W[O];else q="Unknown ESP32";if(y&&(O===0||O===1))q+="-V3";return q+" (revision "+V+")"}async getChipFeatures(x){const W=["Wi-Fi"],q=await this.readEfuse(x,3);if((q&2)===0)W.push(" BT");if((q&1)!==0)W.push(" Single Core");else W.push(" Dual Core");if((q&8192)!==0)if((q&4096)!==0)W.push(" 160MHz");else W.push(" 240MHz");const O=await this.getPkgVersion(x);if([2,4,5,6].indexOf(O)!==-1)W.push(" Embedded Flash");if(O===6)W.push(" Embedded PSRAM");if((await this.readEfuse(x,4)>>8&31)!==0)W.push(" VRef calibration in efuse");if((q>>14&1)!==0)W.push(" BLK3 partially reserved");const V=await this.readEfuse(x,6)&3,y=["None","3/4","Repeat (UNSUPPORTED)","Invalid"];return W.push(" Coding Scheme "+y[V]),W}async getCrystalFreq(x){const W=await x.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,q=x.transport.baudrate*W/1e6/this.XTAL_CLK_DIVIDER;let O;if(q>33)O=40;else O=26;if(Math.abs(O-q)>1)x.info("WARNING: Unsupported crystal in use");return O}_d2h(x){const W=(+x).toString(16);return W.length===1?"0"+W:W}async readMac(x){let W=await this.readEfuse(x,1);W=W>>>0;let q=await this.readEfuse(x,2);q=q>>>0;const O=new Uint8Array(6);return O[0]=q>>8&255,O[1]=q&255,O[2]=W>>24&255,O[3]=W>>16&255,O[4]=W>>8&255,O[5]=W&255,this._d2h(O[0])+":"+this._d2h(O[1])+":"+this._d2h(O[2])+":"+this._d2h(O[3])+":"+this._d2h(O[4])+":"+this._d2h(O[5])}}var Lo=L2(()=>{p3(),xo()}),s3,qo=L2(()=>{s3={entry:1077413532,text:"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",text_start:1077411840,data:"IGvIP3YKOEDGCjhAHgs4QMILOEAuDDhA3As4QEIJOEB+CzhAvgs4QDILOEDyCDhAZgs4QPIIOEBQCjhAlgo4QMYKOEAeCzhAYgo4QKYJOEDWCThAXgo4QIAOOEDGCjhARg04QDgOOEAyCDhAYA44QDIIOEAyCDhAMgg4QDIIOEAyCDhAMgg4QDIIOEAyCDhA4gw4QDIIOEBkDThAOA44QA==",data_start:1070164912}}),No={};j2(No,{ESP32C3ROM:()=>b4});class b4 extends n3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=s3.text_start,this.ENTRY=s3.entry,this.DATA_START=s3.data_start,this.ROM_DATA=s3.data,this.ROM_TEXT=s3.text}async getPkgVersion(x){const W=this.EFUSE_BASE+68+12;return await x.readReg(W)>>21&7}async getChipRevision(x){const W=this.EFUSE_BASE+68+12;return(await x.readReg(W)&1835008)>>18}async getChipDescription(x){let W;if(await this.getPkgVersion(x)===0)W="ESP32-C3";else W="unknown ESP32-C3";const q=await this.getChipRevision(x);return W+=" (revision "+q+")",W}async getChipFeatures(x){return["Wi-Fi"]}async getCrystalFreq(x){return 40}_d2h(x){const W=(+x).toString(16);return W.length===1?"0"+W:W}async readMac(x){let W=await x.readReg(this.MAC_EFUSE_REG);W=W>>>0;let q=await x.readReg(this.MAC_EFUSE_REG+4);q=q>>>0&65535;const O=new Uint8Array(6);return O[0]=q>>8&255,O[1]=q&255,O[2]=W>>24&255,O[3]=W>>16&255,O[4]=W>>8&255,O[5]=W&255,this._d2h(O[0])+":"+this._d2h(O[1])+":"+this._d2h(O[2])+":"+this._d2h(O[3])+":"+this._d2h(O[4])+":"+this._d2h(O[5])}getEraseSize(x,W){return W}}var To=L2(()=>{p3(),qo()}),g3,Mo=L2(()=>{g3={entry:1077413304,text:"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",text_start:1077411840,data:"DEDKP+AIOEAsCThAhAk4QFIKOEC+CjhAbAo4QKgHOEAOCjhATgo4QJgJOEBYBzhAzAk4QFgHOEC6CDhA/gg4QCwJOECECThAzAg4QBIIOEBCCDhAyAg4QBYNOEAsCThA1gs4QMoMOECkBjhA9Aw4QKQGOECkBjhApAY4QKQGOECkBjhApAY4QKQGOECkBjhAcgs4QKQGOEDyCzhAygw4QA==",data_start:1070295976,bss_start:1070219264}}),zo={};j2(zo,{ESP32C2ROM:()=>Z9});class Z9 extends b4{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C2",this.IMAGE_CHIP_ID=12,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+64,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.XTAL_CLK_DIVIDER=1,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=g3.text_start,this.ENTRY=g3.entry,this.DATA_START=g3.data_start,this.ROM_DATA=g3.data,this.ROM_TEXT=g3.text}async getPkgVersion(x){const W=this.EFUSE_BASE+64+4;return await x.readReg(W)>>22&7}async getChipRevision(x){const W=this.EFUSE_BASE+64+4;return(await x.readReg(W)&3145728)>>20}async getChipDescription(x){let W;const q=await this.getPkgVersion(x);if(q===0||q===1)W="ESP32-C2";else W="unknown ESP32-C2";const O=await this.getChipRevision(x);return W+=" (revision "+O+")",W}async getChipFeatures(x){return["Wi-Fi","BLE"]}async getCrystalFreq(x){const W=await x.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,q=x.transport.baudrate*W/1e6/this.XTAL_CLK_DIVIDER;let O;if(q>33)O=40;else O=26;if(Math.abs(O-q)>1)x.info("WARNING: Unsupported crystal in use");return O}async changeBaudRate(x){if(await this.getCrystalFreq(x)===26)x.changeBaud()}_d2h(x){const W=(+x).toString(16);return W.length===1?"0"+W:W}async readMac(x){let W=await x.readReg(this.MAC_EFUSE_REG);W=W>>>0;let q=await x.readReg(this.MAC_EFUSE_REG+4);q=q>>>0&65535;const O=new Uint8Array(6);return O[0]=q>>8&255,O[1]=q&255,O[2]=W>>24&255,O[3]=W>>16&255,O[4]=W>>8&255,O[5]=W&255,this._d2h(O[0])+":"+this._d2h(O[1])+":"+this._d2h(O[2])+":"+this._d2h(O[3])+":"+this._d2h(O[4])+":"+this._d2h(O[5])}getEraseSize(x,W){return W}}var jm=L2(()=>{To(),Mo()}),X3,Vo=L2(()=>{X3={entry:1082132112,text:"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",text_start:1082130432,data:"HCuEQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQEwOgECSCoBAEg2AQAQOgED+B4BALA6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBABA6AQA==",data_start:1082469292}}),So={};j2(So,{ESP32C6ROM:()=>W9});class W9 extends n3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C6",this.IMAGE_CHIP_ID=13,this.EFUSE_BASE=1611335680,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=X3.text_start,this.ENTRY=X3.entry,this.DATA_START=X3.data_start,this.ROM_DATA=X3.data,this.ROM_TEXT=X3.text}async getPkgVersion(x){const W=this.EFUSE_BASE+68+12;return await x.readReg(W)>>21&7}async getChipRevision(x){const W=this.EFUSE_BASE+68+12;return(await x.readReg(W)&1835008)>>18}async getChipDescription(x){let W;if(await this.getPkgVersion(x)===0)W="ESP32-C6";else W="unknown ESP32-C6";const q=await this.getChipRevision(x);return W+=" (revision "+q+")",W}async getChipFeatures(x){return["Wi-Fi"]}async getCrystalFreq(x){return 40}_d2h(x){const W=(+x).toString(16);return W.length===1?"0"+W:W}async readMac(x){let W=await x.readReg(this.MAC_EFUSE_REG);W=W>>>0;let q=await x.readReg(this.MAC_EFUSE_REG+4);q=q>>>0&65535;const O=new Uint8Array(6);return O[0]=q>>8&255,O[1]=q&255,O[2]=W>>24&255,O[3]=W>>16&255,O[4]=W>>8&255,O[5]=W&255,this._d2h(O[0])+":"+this._d2h(O[1])+":"+this._d2h(O[2])+":"+this._d2h(O[3])+":"+this._d2h(O[4])+":"+this._d2h(O[5])}getEraseSize(x,W){return W}}var Hm=L2(()=>{p3(),Vo()}),F3,$o=L2(()=>{F3={entry:1082132112,text:"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",text_start:1082130432,data:"EACDQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQFIOgECSCoBAEg2AQAoOgED+B4BAMg6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBACg6AQA==",data_start:1082403756}}),Zo={};j2(Zo,{ESP32H2ROM:()=>w9});class w9 extends n3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-H2",this.IMAGE_CHIP_ID=16,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=F3.text_start,this.ENTRY=F3.entry,this.DATA_START=F3.data_start,this.ROM_DATA=F3.data,this.ROM_TEXT=F3.text}async getChipDescription(x){return this.CHIP_NAME}async getChipFeatures(x){return["BLE","IEEE802.15.4"]}async getCrystalFreq(x){return 32}_d2h(x){const W=(+x).toString(16);return W.length===1?"0"+W:W}async postConnect(x){const W=await x.readReg(this.UARTDEV_BUF_NO)&255;if(x.debug("In _post_connect "+W),W==this.UARTDEV_BUF_NO_USB)x.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(x){let W=await x.readReg(this.MAC_EFUSE_REG);W=W>>>0;let q=await x.readReg(this.MAC_EFUSE_REG+4);q=q>>>0&65535;const O=new Uint8Array(6);return O[0]=q>>8&255,O[1]=q&255,O[2]=W>>24&255,O[3]=W>>16&255,O[4]=W>>8&255,O[5]=W&255,this._d2h(O[0])+":"+this._d2h(O[1])+":"+this._d2h(O[2])+":"+this._d2h(O[3])+":"+this._d2h(O[4])+":"+this._d2h(O[5])}getEraseSize(x,W){return W}}var Jm=L2(()=>{p3(),$o()}),k3,Wo=L2(()=>{k3={entry:1077381696,text:"FIADYACAA2BIAMo/BIADYDZBAIH7/wxJwCAAmQjGBAAAgfj/wCAAqAiB9/+goHSICOAIACH2/8AgAIgCJ+jhHfAAAAAIAABgHAAAYBAAAGA2QQAh/P/AIAA4AkH7/8AgACgEICCUnOJB6P9GBAAMODCIAcAgAKgIiASgoHTgCAALImYC6Ib0/yHx/8AgADkCHfAAAOwryz9kq8o/hIAAAEBAAACk68o/8CvLPzZBALH5/yCgdBARIKUrAZYaBoH2/5KhAZCZEZqYwCAAuAmR8/+goHSaiMAgAJIYAJCQ9BvJwMD0wCAAwlgAmpvAIACiSQDAIACSGACB6v+QkPSAgPSHmUeB5f+SoQGQmRGamMAgAMgJoeX/seP/h5wXxgEAfOiHGt7GCADAIACJCsAgALkJRgIAwCAAuQrAIACJCZHX/5qIDAnAIACSWAAd8AAAVCAAYFQwAGA2QQCR/f/AIACICYCAJFZI/5H6/8AgAIgJgIAkVkj/HfAAAAAsIABgACAAYAAAAAg2QQAQESCl/P8h+v8MCMAgAIJiAJH6/4H4/8AgAJJoAMAgAJgIVnn/wCAAiAJ88oAiMCAgBB3wAAAAAEA2QQAQESDl+/8Wav+B7P+R+//AIACSaADAIACYCFZ5/x3wAAAUKABANkEAIKIggf3/4AgAHfAAAHDi+j8IIABgvAoAQMgKAEA2YQAQESBl9P8x+f+9Aa0Dgfr/4AgATQoMEuzqiAGSogCQiBCJARARIOX4/5Hy/6CiAcAgAIgJoIggwCAAiQm4Aa0Dge7/4AgAoCSDHfAAAFgAyj//DwAABCAAQOgIAEA2QQCB+/8MGZJIADCcQZkokfn/ORgpODAwtJoiKjMwPEEMAjlIKViB9P/gCAAnGgiB8//gCAAGAwAQESAl9v8tCowaIqDFHfC4CABANoEAgev/4AgAHAYGDAAAAGBUQwwIDBrQlREMjTkx7QKJYalRmUGJIYkR2QEsDwzMDEuB8v/gCABQRMBaM1oi5hTNDAId8AAA////AAQgAGD0CABADAkAQAAJAEA2gQAx0f8oQxaCERARIGXm/xb6EAz4DAQnqAyIIwwSgIA0gCSTIEB0EBEgZej/EBEgJeH/gcf/4AgAFjoKqCOB6/9AKhEW9AQnKDyBwv/gCACB6P/gCADoIwwCDBqpYalRHI9A7hEMjcKg2AxbKUEpMSkhKREpAYHK/+AIAIG1/+AIAIYCAAAAoKQhgdv/4AgAHAoGIAAAACcoOYGu/+AIAIHU/+AIAOgjDBIcj0DuEQyNLAwMW60CKWEpUUlBSTFJIUkRSQGBtv/gCACBov/gCABGAQCByf/gCAAMGoYNAAAoIwwZQCIRkIkBzBSAiQGRv/+QIhCRvv/AIAAiaQAhW//AIACCYgDAIACIAlZ4/xwKDBJAooMoQ6AiwClDKCOqIikjHfAAADaBAIGK/+AIACwGhg8AAACBr//gCABgVEMMCAwa0JUR7QKpYalRiUGJMZkhORGJASwPDI3CoBKyoASBj//gCACBe//gCABaM1oiUETA5hS/HfAAABQKAEA2YQBBcf9YNFAzYxajC1gUWlNQXEFGAQAQESBl5v9oRKYWBWIkAmel7hARIGXM/xZq/4Fn/+AIABaaBmIkAYFl/+AIAGBQdIKhAFB4wHezCM0DvQKtBgYPAM0HvQKtBlLV/xARICX0/zpVUFhBDAjGBQAAAADCoQCJARARIKXy/4gBctcBG4iAgHRwpoBwsoBXOOFww8AQESDl8P+BTv/gCACGBQCoFM0DvQKB1P/gCACgoHSMSiKgxCJkBSgUOiIpFCg0MCLAKTQd8ABcBwBANkEAgf7/4AgAggoYDAmCyPwMEoApkx3wNkEAgfj/4AgAggoYDAmCyP0MEoApkx3wvP/OP0QAyj9MAMo/QCYAQDQmAEDQJgBANmEAfMitAoeTLTH3/8YFAACoAwwcvQGB9//gCACBj/6iAQCICOAIAKgDgfP/4AgA5hrdxgoAAABmAyYMA80BDCsyYQCB7v/gCACYAYHo/zeZDagIZhoIMeb/wCAAokMAmQgd8EAAyj8AAMo/KCYAQDZBACH8/4Hc/8gCqAix+v+B+//gCAAMCIkCHfCQBgBANkEAEBEgpfP/jLqB8v+ICIxIEBEgpfz/EBEg5fD/FioAoqAEgfb/4AgAHfBIBgBANkEAEBEgpfD/vBqR5v+ICRuoqQmR5f8MCoqZIkkAgsjBDBmAqYOggHTMiqKvQKoiIJiTnNkQESBl9/9GBQCtAoHv/+AIABARIOXq/4xKEBEg5ff/HfAAADZBAKKgwBARIOX5/x3wAAA2QQCCoMCtAoeSEaKg2xARIGX4/6Kg3EYEAAAAAIKg24eSCBARICX3/6Kg3RARIKX2/x3wNkEAOjLGAgAAogIAGyIQESCl+/83kvEd8AAAAFwcAEAgCgBAaBwAQHQcAEA2ISGi0RCB+v/gCABGEAAAAAwUQEQRgcb+4AgAQENjzQS9AYyqrQIQESCltf8GAgAArQKB8P/gCACgoHT8Ws0EELEgotEQgez/4AgASiJAM8BWw/siogsQIrAgoiCy0RCB5//gCACtAhwLEBEgZfb/LQOGAAAioGMd8AAAiCYAQIQbAECUJgBAkBsAQDZBABARIGXb/6yKDBNBcf/wMwGMsqgEgfb/4AgArQPGCQCtA4H0/+AIAKgEgfP/4AgABgkAEBEgpdb/DBjwiAEsA6CDg60IFpIAgez/4AgAhgEAAIHo/+AIAB3wYAYAQDZBIWKkHeBmERpmWQYMF1KgAGLREFClIEB3EVJmGhARIOX3/0e3AsZCAK0Ggbb/4AgAxi8AUHPAgYP+4AgAQHdjzQe9AYy6IKIgEBEgpaT/BgIAAK0Cgaz/4AgAoKB0jJoMCIJmFn0IBhIAABARIGXj/70HrQEQESDl5v8QESBl4v/NBxCxIGCmIIGg/+AIAHoielU3tcmSoQfAmRGCpB0ameCIEZgJGoiICJB1wIc3gwbr/wwJkkZsoqQbEKqggc//4AgAVgr/sqILogZsELuwEBEg5acA9+oS9kcPkqINEJmwepmiSQAbd4bx/3zpl5rBZkcSgqEHkiYawIgRGoiZCDe5Ape1iyKiCxAisL0GrQKBf//gCAAQESCl2P+tAhwLEBEgJdz/EBEgpdf/DBoQESDl5v8d8AAAyj9PSEFJsIAAYKE62FCYgABguIAAYCoxHY+0gABg9CvLP6yAN0CYIAxg7IE3QKyFN0AIAAhggCEMYBCAN0AQgANgUIA3QAwAAGA4QABglCzLP///AAAsgQBgjIAAABBAAAD4K8s/CCzLP1AAyj9UAMo/VCzLPxQAAGDw//8A9CvLP2Qryj9wAMo/gAcAQHgbAEC4JgBAZCYAQHQfAEDsCgBAVAkAQFAKAEAABgBAHCkAQCQnAEAIKABA5AYAQHSBBECcCQBA/AkAQAgKAECoBgBAhAkAQGwJAECQCQBAKAgAQNgGAEA24QAhxv8MCinBgeb/4AgAEBEgJbH/FpoEMcH/IcL/QcL/wCAAKQMMAsAgACkEwCAAKQNRvv8xvv9hvv/AIAA5BcAgADgGfPQQRAFAMyDAIAA5BsAgACkFxgEAAEkCSyIGAgAhrf8xtP9CoAA3MuwQESAlwf8MS6LBMBARIKXE/yKhARARIOW//0Fz/ZAiESokwCAASQIxqf8hS/05AhARIKWp/y0KFvoFIar+wav+qAIMK4Gt/uAIADGh/7Gi/xwaDAzAIACpA4G4/+AIAAwa8KoBgSr/4AgAsZv/qAIMFYGz/+AIAKgCgSL/4AgAqAKBsP/gCAAxlf/AIAAoA1AiIMAgACkDhhgAEBEgZaH/vBoxj/8cGrGP/8AgAKJjACDCIIGh/+AIADGM/wxFwCAAKAMMGlAiIMAgACkD8KoBxggAAACxhv/NCgxagZf/4AgAMYP/UqEBwCAAKAMsClAiIMAgACkDgQX/4AgAgZL/4AgAIXz/wCAAKALMuhzDMCIQIsL4DBMgo4MMC4GL/+AIAIGk/eAIAIzaoXP/gYj/4AgAgaH94AgA8XH/DB0MHAwb4qEAQN0RAMwRYLsBDAqBgP/gCAAha/8qRCGU/WLSK4YXAAAAUWH+wCAAMgUAMDB0FtMEDBrwqgHAIAAiRQCB4f7gCACionHAqhGBcv/gCACBcf/gCABxWv986MAgADgHfPqAMxAQqgHAIAA5B4Fr/+AIAIFr/+AIAK0CgWr/4AgAwCAAKAQWovkMB8AgADgEDBLAIAB5BCJBJCIDAQwoeaEiQSWCURMcN3cSJBxHdxIhZpIhIgMDcgMCgCIRcCIgZkISKCPAIAAoAimhhgEAAAAcIiJRExARIKWf/7KgCKLBJBARICWj/7IDAyIDAoC7ESBbICE0/yAg9FeyGqKgwBARIOWd/6Kg7hARIGWd/xARICWc/wba/yIDARxHJzc39iIbxvgAACLCLyAgdLZCAgYlAHEm/3AioCgCoAIAACLC/iAgdBwnJ7cCBu8AcSD/cCKgKAKgAgBywjBwcHS2V8VG6QAsSQwHIqDAlxUCRucAeaEMcq0HEBEgpZb/rQcQESAllv8QESCllP8QESBllP8Mi6LBJCLC/xARIKWX/1Yi/UZEAAwSVqU1wsEQvQWtBYEd/+AIAFaqNBxLosEQEBEgZZX/hrAADBJWdTOBF//gCACgJYPGygAmhQQMEsbIAHgjKDMghyCAgLRW2P4QESClQv8qd6zaBvj/AIEd/eAIAFBcQZwKrQWBRf3gCACGAwAAItLwRgMArQWBBf/gCAAW6v4G7f8gV8DMEsaWAFCQ9FZp/IYLAIEO/eAIAFBQ9ZxKrQWBNf3gCACGBAAAfPgAiBGKIkYDAK0Fgfb+4AgAFqr+Bt3/DBkAmREgV8AnOcVGCwAAAACB/vzgCABQXEGcCq0FgSb94AgAhgMAACLS8EYDAK0Fgeb+4AgAFur+Bs7/IFfAVuL8hncADAcioMAmhQLGlQAMBy0HBpQAJrX1BmoADBImtQIGjgC4M6gjDAcQESDlhv+gJ4OGiQAMGWa1X4hDIKkRDAcioMKHugLGhgC4U6gjkmEREBEg5Tf/kiERoJeDRg4ADBlmtTSIQyCpEQwHIqDCh7oCBnwAKDO4U6gjIHiCkmEREBEg5TT/Ic78DAiSIRGJYiLSK3JiAqCYgy0JBm8AAJHI/AwHogkAIqDGd5oCBm0AeCOyxfAioMC3lwEoWQwHkqDvRgIAeoOCCBgbd4CZMLcn8oIDBXIDBICIEXCIIHIDBgB3EYB3IIIDB4CIAXCIIICZwIKgwQwHkCiThlkAgbD8IqDGkggAfQkWiRWYOAwHIqDIdxkCxlIAKFiSSABGTgAciQwHDBKXFQLGTQD4c+hj2FPIQ7gzqCOBi/7gCAAMCH0KoCiDxkYAAAAMEiZFAsZBAKgjDAuBgf7gCAAGIAAAUJA0DAcioMB3GQJGPQBQVEGLw3z4Rg8AqDyCYRKSYRHCYRCBef7gCADCIRCCIRIoLHgcqAySIRFwchAmAg3AIADYCiAoMNAiECB3IMAgAHkKG5nCzBBXOb7Gk/9mRQJGkv8MByKgwEYmAAwSJrUCxiEAIVX+iFN4I4kCIVT+eQIMAgYdAKFQ/gwH6AoMGbLF8I0HLQewKZPgiYMgiBAioMZ3mF/BSv59CNgMIqDJtz1SsPAUIqDAVp8ELQiGAgAAKoOIaEsiiQeNCSp+IP3AtzLtFmjd+Qx5CsZz/wAMEmaFFyE6/ogCjBiCoMgMB3kCITb+eQIMEoAngwwHBgEADAcioP8goHQQESDlXP9woHQQESBlXP8QESDlWv9WYrUiAwEcJyc3IPYyAgbS/iLC/SAgdAz3J7cChs7+cSX+cCKgKAKgAgAAAHKg0ncSX3Kg1HeSAgYhAMbG/igzOCMQESDlQf+NClbKsKKiccCqEYJhEoEl/uAIAHEX/pEX/sAgAHgHgiEScLQ1wHcRkHcQcLsgILuCrQgwu8KBJP7gCACio+iBGf7gCABGsv4AANhTyEO4M6gjEBEgpWb/hq3+ALIDAyIDAoC7ESC7ILLL8KLDGBARICUs/4am/gAiAwNyAwKAIhFwIiCBEv7gCABxHPwiwvCIN4AiYxaSp4gXioKAjEFGAwAAAIJhEhARIKUQ/4IhEpInBKYZBZInApeo5xARIKX2/hZq/6gXzQKywxiBAf7gCACMOjKgxDlXOBcqMzkXODcgI8ApN4H7/eAIAIaI/gAAcgMCIsMYMgMDDBmAMxFwMyAyw/AGIwBx3P2Bi/uYBzmxkIjAiUGIJgwZh7MBDDmSYREQESDlCP+SIRGB1P2ZAegHodP93QggsiDCwSzywRCCYRKB5f3gCAC4Jp0KqLGCIRKgu8C5JqAzwLgHqiKoQQwMqrsMGrkHkMqDgLvAwNB0VowAwtuAwK2TFmoBrQiCYRKSYREQESClGv+CIRKSIRGCZwBR2ft4NYyjkI8xkIjA1igAVvf11qkAMdT7IqDHKVNGAACMOYz3BlX+FheVUc/7IqDIKVWGUf4xzPsioMkpU8ZO/igjVmKTEBEg5S//oqJxwKoRga/94AgAgbv94AgAxkb+KDMWYpEQESDlLf+io+iBqP3gCADgAgBGQP4d8AAANkEAnQKCoMAoA4eZD8wyDBKGBwAMAikDfOKGDwAmEgcmIhiGAwAAAIKg24ApI4eZKgwiKQN88kYIAAAAIqDcJ5kKDBIpAy0IBgQAAACCoN188oeZBgwSKQMioNsd8AAA",text_start:1077379072,data:"ZCvKP8qNN0CvjjdAcJM3QDqPN0DPjjdAOo83QJmPN0BmkDdA2ZA3QIGQN0BVjTdA/I83QFiQN0C8jzdA+5A3QOaPN0D7kDdAnY43QPqON0A6jzdAmY83QLWON0CWjTdAvJE3QDaTN0ByjDdAVpM3QHKMN0ByjDdAcow3QHKMN0ByjDdAcow3QHKMN0ByjDdAVpE3QHKMN0BRkjdANpM3QAQInwAAAAAAAAAYAQQIBQAAAAAAAAAIAQQIBgAAAAAAAAAAAQQIIQAAAAAAIAAAEQQI3AAAAAAAIAAAEQQIDAAAAAAAIAAAAQQIEgAAAAAAIAAAESAoDAAQAQAA",data_start:1070279668}}),wo={};j2(wo,{ESP32S3ROM:()=>O9});class O9 extends n3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=k3.text_start,this.ENTRY=k3.entry,this.DATA_START=k3.data_start,this.ROM_DATA=k3.data,this.ROM_TEXT=k3.text}async getChipDescription(x){return"ESP32-S3"}async getChipFeatures(x){return["Wi-Fi","BLE"]}async getCrystalFreq(x){return 40}_d2h(x){const W=(+x).toString(16);return W.length===1?"0"+W:W}async postConnect(x){const W=await x.readReg(this.UARTDEV_BUF_NO)&255;if(x.debug("In _post_connect "+W),W==this.UARTDEV_BUF_NO_USB)x.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(x){let W=await x.readReg(this.MAC_EFUSE_REG);W=W>>>0;let q=await x.readReg(this.MAC_EFUSE_REG+4);q=q>>>0&65535;const O=new Uint8Array(6);return O[0]=q>>8&255,O[1]=q&255,O[2]=W>>24&255,O[3]=W>>16&255,O[4]=W>>8&255,O[5]=W&255,this._d2h(O[0])+":"+this._d2h(O[1])+":"+this._d2h(O[2])+":"+this._d2h(O[3])+":"+this._d2h(O[4])+":"+this._d2h(O[5])}getEraseSize(x,W){return W}}var Gm=L2(()=>{p3(),Wo()}),P3,Oo=L2(()=>{P3={entry:1073907696,text:"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",text_start:1073905664,data:"ZCv9PzaLAkDBiwJAhpACQEqMAkDjiwJASowCQKmMAkByjQJA5Y0CQI2NAkDAigJAC40CQGSNAkDMjAJACI4CQPaMAkAIjgJAr4sCQA6MAkBKjAJAqYwCQMeLAkACiwJAx44CQD2QAkDYiQJAZZACQNiJAkDYiQJA2IkCQNiJAkDYiQJA2IkCQNiJAkDYiQJAZI4CQNiJAkBZjwJAPZACQA==",data_start:1073622012}}),Ro={};j2(Ro,{ESP32S2ROM:()=>R9});class R9 extends n3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=P3.text_start,this.ENTRY=P3.entry,this.DATA_START=P3.data_start,this.ROM_DATA=P3.data,this.ROM_TEXT=P3.text}async getPkgVersion(x){const W=this.EFUSE_BASE+68+12;return await x.readReg(W)>>21&15}async getChipDescription(x){const W=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],q=await this.getPkgVersion(x);if(q>=0&&q<=2)return W[q];else return"unknown ESP32-S2"}async getChipFeatures(x){const W=["Wi-Fi"],q=await this.getPkgVersion(x);if(q==1)W.push("Embedded 2MB Flash");else if(q==2)W.push("Embedded 4MB Flash");const O=4,V=this.EFUSE_BASE+92+4*O;if((await x.readReg(V)>>4&7)==1)W.push("ADC and temperature sensor calibration in BLK2 of efuse");return W}async getCrystalFreq(x){return 40}_d2h(x){const W=(+x).toString(16);return W.length===1?"0"+W:W}async readMac(x){let W=await x.readReg(this.MAC_EFUSE_REG);W=W>>>0;let q=await x.readReg(this.MAC_EFUSE_REG+4);q=q>>>0&65535;const O=new Uint8Array(6);return O[0]=q>>8&255,O[1]=q&255,O[2]=W>>24&255,O[3]=W>>16&255,O[4]=W>>8&255,O[5]=W&255,this._d2h(O[0])+":"+this._d2h(O[1])+":"+this._d2h(O[2])+":"+this._d2h(O[3])+":"+this._d2h(O[4])+":"+this._d2h(O[5])}getEraseSize(x,W){return W}}var Em=L2(()=>{p3(),Oo()}),U3,so=L2(()=>{U3={entry:1074843652,text:"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",text_start:1074843648,data:"CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",data_start:1073720488}}),go={};j2(go,{ESP8266ROM:()=>s9});class s9 extends n3{constructor(){super(...arguments);this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=U3.text_start,this.ENTRY=U3.entry,this.DATA_START=U3.data_start,this.ROM_DATA=U3.data,this.ROM_TEXT=U3.text,this.getChipFeatures=async(x)=>{const W=["WiFi"];if(await this.getChipDescription(x)=="ESP8285")W.push("Embedded Flash");return W}}async readEfuse(x,W){const q=this.EFUSE_RD_REG_BASE+4*W;return x.debug("Read efuse "+q),await x.readReg(q)}async getChipDescription(x){const W=await this.readEfuse(x,2);return(await this.readEfuse(x,0)&16|W&65536)!=0?"ESP8285":"ESP8266EX"}async getCrystalFreq(x){const W=await x.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,q=x.transport.baudrate*W/1e6/this.XTAL_CLK_DIVIDER;let O;if(q>33)O=40;else O=26;if(Math.abs(O-q)>1)x.info("WARNING: Detected crystal freq "+q+"MHz is quite different to normalized freq "+O+"MHz. Unsupported crystal in use?");return O}_d2h(x){const W=(+x).toString(16);return W.length===1?"0"+W:W}async readMac(x){let W=await this.readEfuse(x,0);W=W>>>0;let q=await this.readEfuse(x,1);q=q>>>0;let O=await this.readEfuse(x,3);O=O>>>0;const V=new Uint8Array(6);if(O!=0)V[0]=O>>16&255,V[1]=O>>8&255,V[2]=O&255;else if((q>>16&255)==0)V[0]=24,V[1]=254,V[2]=52;else if((q>>16&255)==1)V[0]=172,V[1]=208,V[2]=116;else x.error("Unknown OUI");return V[3]=q>>8&255,V[4]=q&255,V[5]=W>>24&255,this._d2h(V[0])+":"+this._d2h(V[1])+":"+this._d2h(V[2])+":"+this._d2h(V[3])+":"+this._d2h(V[4])+":"+this._d2h(V[5])}getEraseSize(x,W){return W}}var Dm=L2(()=>{p3(),so()}),K3,Xo=L2(()=>{K3={entry:1341195918,text:"QREixCbCBsa3Jw1QEUc3BPVP2Mu3JA1QEwQEANxAkYuR57JAIkSSREEBgoCIQBxAE3X1D4KX3bcBEbenDFBOxoOphwBKyDcJ9U8mylLEBs4izLekDFB9WhMJCQDATBN09D8N4PJAYkQjqDQBQknSRLJJIkoFYYKAiECDJwkAE3X1D4KXfRTjGUT/yb8TBwAMlEGqh2MY5QCFR4XGI6AFAHlVgoAFR2OH5gAJRmONxgB9VYKAQgUTB7ANQYVjlecCiUecwfW3kwbADWMW1QCYwRMFAAyCgJMG0A19VWOV1wCYwRMFsA2CgLc19k9BEZOFRboGxmE/Y0UFBrc39k+Th8exA6cHCAPWRwgTdfUPkwYWAMIGwYIjktcIMpcjAKcAA9dHCJFnk4cHBGMe9wI3t/VPEwfHsaFnupcDpgcIt/b1T7c39k+Th8exk4bGtWMf5gAjpscII6DXCCOSBwghoPlX4wb1/LJAQQGCgCOm1wgjoOcI3bc31whQfEudi/X/N8cIUHxLnYv1/4KAQREGxt03t9cIUCOmBwI3BwAImMOYQ33/yFeyQBNF9f8FiUEBgoBBEQbG2T993TcHAEC31whQmMM31whQHEP9/7JAQQGCgEERIsQ3hPVPkwcEAUrAA6kHAQbGJsJjCgkERTc5xb1HEwQEAYFEY9YnAQREvYiTtBQAfTeFPxxENwaAABOXxwCZ4DcGAAG39v8AdY+31ghQ2MKQwphCff9BR5HgBUczCelAupcjKCQBHMSyQCJEkkQCSUEBgoABEQbOIswlNzcE9E9sABMFxP6XAM//54Ag86qHBUWV57JHk/cHID7GiTc31whQHEe3BkAAEwXE/tWPHMeyRZcAz//ngKDwMzWgAPJAYkQFYYKAQRG3h/VPBsaThwcBBUcjgOcAE9fFAJjHBWd9F8zDyMf5jTqVqpWxgYzLI6oHAEE3GcETBVAMskBBAYKAAREizDeE9U+TBwQBJsrER07GBs5KyKqJEwQEAWPzlQCuhKnAAylEACaZE1nJABxIY1XwABxEY175ArU9fd1IQCaGzoWXAM//54Cg4xN19Q8BxZMHQAxcyFxAppdcwFxEhY9cxPJAYkTSREJJskkFYYKAaTVtv0ERBsaXAM//54BA1gNFhQGyQGkVEzUVAEEBgoBBEQbGxTcRwRlFskBBARcDz/9nAOPPQREGxibCIsSqhJcAz//ngADNdT8NyTcH9U+TBgcAg9dGABMEBwCFB8IHwYMjkvYAkwYADGOG1AATB+ADY3X3AG03IxIEALJAIkSSREEBgoBBEQbGEwcADGMa5QATBbANRTcTBcANskBBAVm/EwewDeMb5f5xNxMF0A31t0ERIsQmwgbGKoSzBLUAYxeUALJAIkSSREEBgoADRQQABQRNP+23NXEmy07H/XKFaf10Is1KyVLFVsMGz5OEhPoWkZOHCQemlxgIs4TnACqJJoUuhJcAz//ngOAZk4cJBxgIBWq6l7OKR0Ex5AVnfXWTBYX6kwcHBxMFhfkUCKqXM4XXAJMHBweul7OF1wAqxpcAz//ngKAWMkXBRZU3AUWFYhaR+kBqRNpESkm6SSpKmkoNYYKAooljc4oAhWlOhtaFSoWXAM//54CgyRN19Q8B7U6G1oUmhZcAz//ngOARTpkzBDRBUbcTBTAGVb8TBQAMSb0xcf1yBWdO11LVVtNezwbfIt0m20rZWtFizWbLaslux/13FpETBwcHPpccCLqXPsYjqgf4qokuirKKtosNNZMHAAIZwbcHAgA+hZcAz//ngIAKhWdj5VcTBWR9eRMJifqTBwQHypcYCDOJ5wBKhZcAz//ngAAJfXsTDDv5kwyL+RMHBAeTBwQHFAhil+aXgUQzDNcAs4zXAFJNY3xNCWPxpANBqJk/ooUIAY01uTcihgwBSoWXAM//54DgBKKZopRj9UQDs4ekQWPxdwMzBJpAY/OKAFaEIoYMAU6FlwDP/+eA4LgTdfUPVd0CzAFEeV2NTaMJAQBihZcAz//ngKCnffkDRTEB5oVZPGNPBQDj4o3+hWeThwcHopcYCLqX2pcjiqf4BQTxt+MVpf2RR+MF9PYFZ311kwcHB5MFhfoTBYX5FAiqlzOF1wCTBwcHrpezhdcAKsaXAM//54AA+3E9MkXBRWUzUT3dObcHAgAZ4ZMHAAI+hZcAz//ngAD4hWIWkfpQalTaVEpZulkqWppaClv6S2pM2kxKTbpNKWGCgLdXQUkZcZOH94QBRYbeotym2srYztbS1NbS2tDezuLM5srqyO7GPs6XAM//54DgoHkxBcU3R9hQt2cRUBMHF6qYzyOgBwAjrAcAmNPYT7cGBABVj9jPI6AHArcH9U83N/ZPk4cHABMHx7ohoCOgBwCRB+Pt5/7VM5FFaAjFOfE7t7f1T5OHx7EhZz6XIyD3CLcH8U83CfVPk4eHDiMg+QC3OfZPKTmTicmxEwkJAGMFBRC3Zw1QEwcQArjPhUVFRZcAz//ngKDmtwXxTwFGk4UFAEVFlwDP/+eAoOe3Jw1QEUeYyzcFAgCXAM//54Dg5rcHDlCIX4FFt4T1T3GJYRUTNRUAlwDP/+eAYKXBZ/0XEwcAEIVmQWa3BQABAUWThAQBtwr1Tw1qlwDP/+eAIJsTiwoBJpqDp8kI9d+Dq8kIhUcjpgkIIwLxAoPHGwAJRyMT4QKjAvECAtRNR2OB5whRR2OP5wYpR2Of5wCDxzsAA8crAKIH2Y8RR2OW5wCDp4sAnEM+1NE5oUVIEMU2g8c7AAPHKwCiB9mPEWdBB2N09wQTBbANqTYTBcANkTYTBeAOPT5dMUG3twXxTwFGk4WFAxVFlwDP/+eAoNg3pwxQXEcTBQACk+cXEFzHMbfJRyMT8QJNtwPHGwDRRmPn5gKFRmPm5gABTBME8A+FqHkXE3f3D8lG4+jm/rc29k8KB5OGBrs2lxhDAoeTBgcDk/b2DxFG42nW/BMH9wITd/cPjUZj6+YItzb2TwoHk4bGvzaXGEMChxMHQAJjl+cQAtQdRAFFcTwBReU0ATH9PqFFSBB9FCE2dfQBTAFEE3X0D8E8E3X8D+k0zTbjHgTqg8cbAElHY2v3MAlH43b36vUXk/f3Dz1H42D36jc39k+KBxMHx8C6l5xDgocFRJ3rcBCBRQFFl/DO/+eAoHcd4dFFaBBtNAFEMagFRIHvl/DO/+eAIH0zNKAAKaAhR2OF5wAFRAFMYbcDrIsAA6TLALNnjADSB/X30TBl9cFsIpz9HH19MwWMQF3cs3eVAZXjwWwzBYxAY+aMAv18MwWMQF3QMYGX8M7/54DAeV35ZpT1tzGBl/DO/+eAwHhd8WqU0bdBgZfwzv/ngAB4WfkzBJRBwbchR+OK5/ABTBMEAAw5t0FHzb9BRwVE453n9oOlywADpYsAOTy5v0FHBUTjk+f2A6cLAZFnY+7nHoOlSwEDpYsA7/C/hz2/QUcFROOT5/SDpwsBEWdjbvccA6fLAIOlSwEDpYsAM4TnAu/wP4UjrAQAIySKsDm3A8cEAGMHBxQDp4sAwRcTBAAMYxP3AMBIAUeTBvAOY0b3AoPHWwADx0sAAUyiB9mPA8drAEIHXY+Dx3sA4gfZj+OC9uYTBBAMsb0zhusAA0aGAQUHsY7ht4PHBAD9y9xEY5EHFsBII4AEAEW9YUdjlucCg6fLAQOniwGDpksBA6YLAYOlywADpYsAl/DO/+eAgGgqjDM0oAAxtQFMBUQZtRFHBUTjm+fmtxcOUPRfZXd9FwVm+Y7RjgOliwCThQcI9N+UQfmO0Y6UwZOFRwiUQfmO0Y6UwbRfgUV1j1GPuN+X8M7/54AgaxG9E/f3AOMRB+qT3EcAE4SLAAFMfV3jcZzbSESX8M7/54AgThhEVEAQQPmOYwenARxCE0f3/32P2Y4UwgUMQQTZvxFHhbVBRwVE45Tn3oOniwADp0sBIyb5ACMk6QBdu4MliQDBF5Hlic8BTBMEYAyxswMnyQBjZvcGE/c3AOMVB+IDKMkAAUYBRzMF6ECzhuUAY2n3AOMBBtIjJqkAIyTZABm7M4brABBOEQeQwgVG6b8hRwVE457n1gMkyQAZwBMEgAwjJgkAIyQJADM0gACNswFMEwQgDNWxAUwTBIAM8bkBTBMEkAzRuRMHIA1jg+cMEwdADeOY57gDxDsAg8crACIEXYyX8M7/54AATgOsxABBFGNzhAEijOMGDLbAQGKUMYCcSGNV8ACcRGNb9Arv8O/Rdd3IQGKGk4WLAZfwzv/ngABKAcWTB0AM3MjcQOKX3MDcRLOHh0HcxJfwzv/ngOBIDbYJZRMFBXEDrMsAA6SLAJfwzv/ngKA4t6cMUNhLtwYAAcEWk1dHARIHdY+9i9mPs4eHAwFFs9WHApfwzv/ngAA6EwWAPpfwzv/ngEA10byDpksBA6YLAYOlywADpYsA7/DP/n28g8U7AIPHKwAThYsBogXdjcEV7/DP21207/Avyz2/A8Q7AIPHKwATjIsBIgRdjNxEQRTN45FHhUtj/4cIkweQDNzIrbwDpw0AItAFSLOH7EA+1oMnirBjc/QADUhCxjrE7/CvxiJHMkg3hfVP4oV8EJOGCgEQEBMFhQKX8M7/54BgNze39U+TCAcBglcDp4iwg6UNAB2MHY8+nLJXI6TosKqLvpUjoL0Ak4cKAZ2NAcWhZ2OX9QBahe/wb9EjoG0BCcTcRJnD409w92PfCwCTB3AMvbeFS7c99k+3jPVPk43NupOMDAHpv+OaC5zcROOHB5yTB4AMqbeDp4sA45AHnO/wD9YJZRMFBXGX8M7/54CgIpfwzv/ngKAnTbIDpMsA4w4EmO/wz9MTBYA+l/DO/+eAgCAClFmy9lBmVNZURlm2WSZalloGW/ZLZkzWTEZNtk0JYYKAAAA=",text_start:1341194240,data:"EAD1TwYK8U9WCvFPrgrxT4QL8U/wC/FPngvxT9QI8U9AC/FPgAvxT8IK8U+ECPFP9grxT4QI8U/gCfFPJgrxT1YK8U+uCvFP8gnxTzgJ8U9oCfFP7gnxT0AO8U9WCvFPCA3xTwAO8U/EB/FPJA7xT8QH8U/EB/FPxAfxT8QH8U/EB/FPxAfxT8QH8U/EB/FPpAzxT8QH8U8mDfFPAA7xTw==",data_start:1341533100,bss_start:1341456384}}),Fo={};j2(Fo,{ESP32P4ROM:()=>g9});class g9 extends x4{constructor(){super(...arguments);this.CHIP_NAME="ESP32-P4",this.IMAGE_CHIP_ID=18,this.IROM_MAP_START=1073741824,this.IROM_MAP_END=1275068416,this.DROM_MAP_START=1073741824,this.DROM_MAP_END=1275068416,this.BOOTLOADER_FLASH_OFFSET=8192,this.CHIP_DETECT_MAGIC_VALUE=[0,182303440],this.UART_DATE_REG_ADDR=1343004812,this.EFUSE_BASE=1343410176,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.SPI_REG_BASE=1342754816,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.PURPOSE_VAL_XTS_AES256_KEY_1=2,this.PURPOSE_VAL_XTS_AES256_KEY_2=3,this.PURPOSE_VAL_XTS_AES128_KEY=4,this.SUPPORTS_ENCRYPTED_FLASH=!0,this.FLASH_ENCRYPTED_WRITE_ALIGN=16,this.MEMORY_MAP=[[0,65536,"PADDING"],[1073741824,1275068416,"DROM"],[1341128704,1341784064,"DRAM"],[1341128704,1341784064,"BYTE_ACCESSIBLE"],[1337982976,1338114048,"DROM_MASK"],[1337982976,1338114048,"IROM_MASK"],[1073741824,1275068416,"IROM"],[1341128704,1341784064,"IRAM"],[1343258624,1343291392,"RTC_IRAM"],[1343258624,1343291392,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=1026592404,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"},this.TEXT_START=K3.text_start,this.ENTRY=K3.entry,this.DATA_START=K3.data_start,this.ROM_DATA=K3.data,this.ROM_TEXT=K3.text}async getPkgVersion(x){const W=this.EFUSE_BLOCK1_ADDR+8;return await x.readReg(W)>>27&7}async getMinorChipVersion(x){const W=this.EFUSE_BLOCK1_ADDR+8;return await x.readReg(W)>>0&15}async getMajorChipVersion(x){const W=this.EFUSE_BLOCK1_ADDR+8;return await x.readReg(W)>>4&3}async getChipDescription(x){const W=await this.getPkgVersion(x)===0?"ESP32-P4":"unknown ESP32-P4",q=await this.getMajorChipVersion(x),O=await this.getMinorChipVersion(x);return`${W} (revision v${q}.${O})`}async getChipFeatures(x){return["High-Performance MCU"]}async getCrystalFreq(x){return 40}async getFlashVoltage(x){return}async overrideVddsdio(x){x.debug("VDD_SDIO overrides are not supported for ESP32-P4")}async readMac(x){let W=await x.readReg(this.MAC_EFUSE_REG);W=W>>>0;let q=await x.readReg(this.MAC_EFUSE_REG+4);q=q>>>0&65535;const O=new Uint8Array(6);return O[0]=q>>8&255,O[1]=q&255,O[2]=W>>24&255,O[3]=W>>16&255,O[4]=W>>8&255,O[5]=W&255,this._d2h(O[0])+":"+this._d2h(O[1])+":"+this._d2h(O[2])+":"+this._d2h(O[3])+":"+this._d2h(O[4])+":"+this._d2h(O[5])}async getFlashCryptConfig(x){return}async getSecureBootEnabled(x){return await x.readReg(this.EFUSE_SECURE_BOOT_EN_REG)&this.EFUSE_SECURE_BOOT_EN_MASK}async getKeyBlockPurpose(x,W){if(W<0||W>this.EFUSE_MAX_KEY){x.debug(`Valid key block numbers must be in range 0-${this.EFUSE_MAX_KEY}`);return}const q=[[this.EFUSE_PURPOSE_KEY0_REG,this.EFUSE_PURPOSE_KEY0_SHIFT],[this.EFUSE_PURPOSE_KEY1_REG,this.EFUSE_PURPOSE_KEY1_SHIFT],[this.EFUSE_PURPOSE_KEY2_REG,this.EFUSE_PURPOSE_KEY2_SHIFT],[this.EFUSE_PURPOSE_KEY3_REG,this.EFUSE_PURPOSE_KEY3_SHIFT],[this.EFUSE_PURPOSE_KEY4_REG,this.EFUSE_PURPOSE_KEY4_SHIFT],[this.EFUSE_PURPOSE_KEY5_REG,this.EFUSE_PURPOSE_KEY5_SHIFT]],[O,V]=q[W];return await x.readReg(O)>>V&15}async isFlashEncryptionKeyValid(x){const W=[];for(let V=0;V<=this.EFUSE_MAX_KEY;V++){const y=await this.getKeyBlockPurpose(x,V);W.push(y)}if(typeof W.find((V)=>V===this.PURPOSE_VAL_XTS_AES128_KEY)!==void 0)return!0;const q=W.find((V)=>V===this.PURPOSE_VAL_XTS_AES256_KEY_1),O=W.find((V)=>V===this.PURPOSE_VAL_XTS_AES256_KEY_2);if(typeof q!==void 0&&typeof O!==void 0)return!0;return!1}}var Im=L2(()=>{Lo(),Xo()}),X7=function(x){return x.replaceAll("\r\n","\n")},F7=function(x){return x.slice(2,-3)},Po="\x01",k7="\x02",H5="\x03",J5="\x04",P7=512,G5=80,Uo=1152000;class L4{constructor(){this.serial=null,this._connected=!1,this._encoder=new TextEncoder,this._decoder=new TextDecoder}requestPort(x=[]){return navigator.serial.requestPort({filters:x}).then((W)=>{if(W._serial){this.serial=W._serial,this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1);return}this.serial=new ko(W),this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1)})}connect(x={}){return new Promise((W,q)=>{if(this.serial)this.serial.open({baudRate:Uo,...x}).then(()=>W()).catch((O)=>{if(O.name==="InvalidStateError")this._connected=!0,W();q(O)});else q(new Error("No device specified"))})}get connected(){return this._connected}disconnect(){return this.serial.close()}get deviceInfo(){return this.serial.getInfo()}readUntil(x,W){return new Promise((q)=>{let O="";const V=async(y)=>{if(y){if(O+=this._decoder.decode(y),W)W(y)}if(O.indexOf(x)!==-1)this.serial.off("data",V),q(O)};this.serial.on("data",V)})}writeAndReadUntil(x,W,q){return new Promise(async(O)=>{if(W)this.readUntil(W,q).then(O);for(let V=0;V<x.length;V+=P7)await this.serial.write(x.slice(V,V+P7)),await j5(10);if(!W)O()})}async getPrompt(){return await j5(150),await this.stop(),await j5(150),await this.writeAndReadUntil(`\r${H5}${k7}`,"\r\n>>>")}async enterRawRepl(){return await this.writeAndReadUntil(Po,"raw REPL; CTRL-B to exit")}async exitRawRepl(){return await this.writeAndReadUntil(k7,"\r\n>>>")}async execRaw(x,W){return await this.writeAndReadUntil(x),await this.writeAndReadUntil(J5,`${J5}>`,W)}async execFile(x,W){if(W=W||function(){},x){await this.enterRawRepl();const q=await this.execRaw(x,W);return await this.exitRawRepl(),q}return Promise.reject()}async run(x,W){return W=W||function(){},new Promise(async(q,O)=>{if(this.rejectRun)this.rejectRun(new Error("re-run")),this.rejectRun=null;this.rejectRun=O;try{await this.enterRawRepl();const V=await this.execRaw(x||"#",W);return await this.exitRawRepl(),q(V)}catch(V){O(V),this.rejectRun=null}})}async eval(x){await this.serial.write(x)}async stop(){if(this.rejectRun)this.rejectRun(new Error("pre stop")),this.rejectRun=null;await this.serial.write(H5)}async reset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.serial.write(H5),await this.serial.write(J5)}async hardReset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.enterRawRepl(),this.execRaw("import machine\nmachine.reset()")}async exists(x){x=x||"";let W="";W+="try:\n",W+=`  f = open('${x}', 'r')\n`,W+="  print(1)\n",W+="except OSError:\n",W+="  print(0)\n",await this.enterRawRepl();const q=await this.execRaw(W);return await this.exitRawRepl(),q[2]=="1"}async listdir(x){x=x||"";let W="";W+="import os\n",W+="try:\n",W+=`  print(os.listdir('${x}'))\n`,W+="except OSError:\n",W+="  print([])\n",await this.enterRawRepl();let q=await this.execRaw(W);return await this.exitRawRepl(),q=F7(q),q=q.replace(/'/g,'"'),JSON.parse(q)}async mkdir(x){if(x){await this.enterRawRepl();const W=await this.execRaw(`import os\nos.mkdir('${x}')`);return await this.exitRawRepl(),W}return Promise.reject(new Error("Path to file was not specified"))}async rmdir(x){if(x){let W="";W+="import os\n",W+="try:\n",W+=`  os.rmdir("${x}")\n`,W+="except OSError:\n",W+="  print(0)\n",await this.enterRawRepl();const q=await this.execRaw(W);return await this.exitRawRepl(),q}return Promise.reject(new Error("Path to file was not specified"))}async remove(x){if(x){let W="";W+="import os\n",W+="try:\n",W+=`  os.remove("${x}")\n`,W+="except OSError:\n",W+="  print(0)\n",await this.enterRawRepl();const q=await this.execRaw(W);return this.exitRawRepl(),q}return Promise.reject(new Error("Path to file was not specified"))}async rename(x,W){if(x&&W){await this.enterRawRepl();const q=await this.execRaw(`import os\nos.rename('${x}', '${W}')`);return this.exitRawRepl(),q}return Promise.reject(new Error("Path to file was not specified"))}async cat(x){if(x){await this.enterRawRepl();let W=await this.execRaw(`with open('${x}','r') as f:\n while 1:\n  b=f.read(256)\n  if not b:break\n  print(b,end='')`);return await this.exitRawRepl(),W=F7(W),X7(W)}return Promise.reject(new Error("Path to file was not specified"))}async checkHash(x,W){if(x){let q="";q+="import os\n",q+="import hashlib\n",q+="import binascii\n",q+="hash = hashlib.sha256()\n",q+=`with open('${x}', 'rb') as f:\n`,q+="  while True:\n",q+=`    c = f.read(${G5})\n`,q+="    if not c: break\n",q+="    hash.update(c)\n",q+="print(binascii.hexlify(hash.digest()).decode())\n",await this.enterRawRepl();let O=await this.execRaw(q);return await this.exitRawRepl(),O=O.slice(2,O.indexOf("\n")-1),W===O}return Promise.reject(new Error("Path to file was not specified"))}async put(x,W,q){if(!W){Promise.reject(new Error("Must specify content and destination path"));return}let O;if(typeof x==="string")O=this._encoder.encode(X7(x));else if(x instanceof ArrayBuffer)O=new Uint8Array(x);else if(x instanceof Uint8Array)O=x;else Promise.reject(new Error(`${x} must string, Uint8Array or ArrayBuffer`));if(q=q||function(){},await this.exists(W)){const r=await crypto.subtle.digest("SHA-256",O),z=Array.from(new Uint8Array(r)).map((a)=>a.toString(16).padStart(2,"0")).join("");if(await this.checkHash(W,z)){q(100);return}}const V=Array.from(O).map((r)=>r.toString(16).padStart(2,"0"));let y="";y+=await this.enterRawRepl();let u=W.split("/");if(u.pop(),u.length>0){y+=await this.execRaw("import os");const r=[];u.reduce((z,a)=>{if(a===""||z!==""&&z.at(-1)!=="/")z+="/";if(z+=a,z!=="/")r.push(z);return z},"");for(let z of r)y+=await this.execRaw(`os.mkdir('${z}')`)}y+=await this.execRaw(`f=open('${W}','w')\nw=f.write`);for(let r=0;r<V.length;r+=G5){const z=V.slice(r,r+G5).map((a)=>`\\x${a}`);y+=await this.execRaw(`w(b"${z.join("")}")`),q(parseInt(r/V.length*100))}return y+=await this.execRaw("f.close()"),y+=await this.exitRawRepl(),q(100),y}}var tm=_4(yo(),1),Cm=_4(vo(),1);var J3=function(x){let W=x.length;while(--W>=0)x[W]=0},E5=function(x,W,q,O,V){this.static_tree=x,this.extra_bits=W,this.extra_base=q,this.elems=O,this.max_length=V,this.has_stree=x&&x.length},D5=function(x,W){this.dyn_tree=x,this.max_code=0,this.stat_desc=W},P2=function(x,W,q,O,V){this.good_length=x,this.max_lazy=W,this.nice_length=q,this.max_chain=O,this.func=V},Ko=function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Fn*2),this.dyn_dtree=new Uint16Array((2*gn+1)*2),this.bl_tree=new Uint16Array((2*Xn+1)*2),Q2(this.dyn_ltree),Q2(this.dyn_dtree),Q2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(kn+1),this.heap=new Uint16Array(2*d4+1),Q2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*d4+1),Q2(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0},io=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},q4=function(x){this.options=L0.assign({level:bp,method:qp,chunkSize:16384,windowBits:15,memLevel:8,strategy:Lp},x||{});let W=this.options;if(W.raw&&W.windowBits>0)W.windowBits=-W.windowBits;else if(W.gzip&&W.windowBits>0&&W.windowBits<16)W.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ll,this.strm.avail_out=0;let q=r6.deflateInit2(this.strm,W.level,W.method,W.windowBits,W.memLevel,W.strategy);if(q!==y0)throw new Error(q6[q]);if(W.header)r6.deflateSetHeader(this.strm,W.header);if(W.dictionary){let O;if(typeof W.dictionary==="string")O=T6.string2buf(W.dictionary);else if(ol.call(W.dictionary)==="[object ArrayBuffer]")O=new Uint8Array(W.dictionary);else O=W.dictionary;if(q=r6.deflateSetDictionary(this.strm,O),q!==y0)throw new Error(q6[q]);this._dict_set=!0}};var jo=function(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},Ho=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},N4=function(x){this.options=L0.assign({chunkSize:65536,windowBits:15,to:""},x||{});const W=this.options;if(W.raw&&W.windowBits>=0&&W.windowBits<16){if(W.windowBits=-W.windowBits,W.windowBits===0)W.windowBits=-15}if(W.windowBits>=0&&W.windowBits<16&&!(x&&x.windowBits))W.windowBits+=32;if(W.windowBits>15&&W.windowBits<48){if((W.windowBits&15)===0)W.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ll,this.strm.avail_out=0;let q=E2.inflateInit2(this.strm,W.windowBits);if(q!==M6)throw new Error(q6[q]);if(this.header=new Qp,E2.inflateGetHeader(this.strm,this.header),W.dictionary){if(typeof W.dictionary==="string")W.dictionary=T6.string2buf(W.dictionary);else if(vl.call(W.dictionary)==="[object ArrayBuffer]")W.dictionary=new Uint8Array(W.dictionary);if(W.raw){if(q=E2.inflateSetDictionary(this.strm,W.dictionary),q!==M6)throw new Error(q6[q])}}};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var Jo=0,X9=1,Go=2,Eo=3,Do=258,T4=29,z6=256,v6=z6+1+T4,i3=30,M4=19,F9=2*v6+1,_3=15,I5=16,Io=7,z4=256,k9=16,P9=17,U9=18,c4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Yo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),K9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),to=512,G2=new Array((v6+2)*2);J3(G2);var a6=new Array(i3*2);J3(a6);var _6=new Array(to);J3(_6);var x6=new Array(Do-Eo+1);J3(x6);var V4=new Array(T4);J3(V4);var h0=new Array(i3);J3(h0);var i9,j9,H9,J9=(x)=>{return x<256?_6[x]:_6[256+(x>>>7)]},b6=(x,W)=>{x.pending_buf[x.pending++]=W&255,x.pending_buf[x.pending++]=W>>>8&255},V2=(x,W,q)=>{if(x.bi_valid>I5-q)x.bi_buf|=W<<x.bi_valid&65535,b6(x,x.bi_buf),x.bi_buf=W>>I5-x.bi_valid,x.bi_valid+=q-I5;else x.bi_buf|=W<<x.bi_valid&65535,x.bi_valid+=q},U2=(x,W,q)=>{V2(x,q[W*2],q[W*2+1])},G9=(x,W)=>{let q=0;do q|=x&1,x>>>=1,q<<=1;while(--W>0);return q>>>1},Co=(x)=>{if(x.bi_valid===16)b6(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0;else if(x.bi_valid>=8)x.pending_buf[x.pending++]=x.bi_buf&255,x.bi_buf>>=8,x.bi_valid-=8},Bo=(x,W)=>{const{dyn_tree:q,max_code:O}=W,V=W.stat_desc.static_tree,y=W.stat_desc.has_stree,u=W.stat_desc.extra_bits,r=W.stat_desc.extra_base,z=W.stat_desc.max_length;let a,L,_,S,b,f,M=0;for(S=0;S<=_3;S++)x.bl_count[S]=0;q[x.heap[x.heap_max]*2+1]=0;for(a=x.heap_max+1;a<F9;a++){if(L=x.heap[a],S=q[q[L*2+1]*2+1]+1,S>z)S=z,M++;if(q[L*2+1]=S,L>O)continue;if(x.bl_count[S]++,b=0,L>=r)b=u[L-r];if(f=q[L*2],x.opt_len+=f*(S+b),y)x.static_len+=f*(V[L*2+1]+b)}if(M===0)return;do{S=z-1;while(x.bl_count[S]===0)S--;x.bl_count[S]--,x.bl_count[S+1]+=2,x.bl_count[z]--,M-=2}while(M>0);for(S=z;S!==0;S--){L=x.bl_count[S];while(L!==0){if(_=x.heap[--a],_>O)continue;if(q[_*2+1]!==S)x.opt_len+=(S-q[_*2+1])*q[_*2],q[_*2+1]=S;L--}}},E9=(x,W,q)=>{const O=new Array(_3+1);let V=0,y,u;for(y=1;y<=_3;y++)V=V+q[y-1]<<1,O[y]=V;for(u=0;u<=W;u++){let r=x[u*2+1];if(r===0)continue;x[u*2]=G9(O[r]++,r)}},Qo=()=>{let x,W,q,O,V;const y=new Array(_3+1);q=0;for(O=0;O<T4-1;O++){V4[O]=q;for(x=0;x<1<<c4[O];x++)x6[q++]=O}x6[q-1]=O,V=0;for(O=0;O<16;O++){h0[O]=V;for(x=0;x<1<<r0[O];x++)_6[V++]=O}V>>=7;for(;O<i3;O++){h0[O]=V<<7;for(x=0;x<1<<r0[O]-7;x++)_6[256+V++]=O}for(W=0;W<=_3;W++)y[W]=0;x=0;while(x<=143)G2[x*2+1]=8,x++,y[8]++;while(x<=255)G2[x*2+1]=9,x++,y[9]++;while(x<=279)G2[x*2+1]=7,x++,y[7]++;while(x<=287)G2[x*2+1]=8,x++,y[8]++;E9(G2,v6+1,y);for(x=0;x<i3;x++)a6[x*2+1]=5,a6[x*2]=G9(x,5);i9=new E5(G2,c4,z6+1,v6,_3),j9=new E5(a6,r0,0,i3,_3),H9=new E5(new Array(0),Yo,0,M4,Io)},D9=(x)=>{let W;for(W=0;W<v6;W++)x.dyn_ltree[W*2]=0;for(W=0;W<i3;W++)x.dyn_dtree[W*2]=0;for(W=0;W<M4;W++)x.bl_tree[W*2]=0;x.dyn_ltree[z4*2]=1,x.opt_len=x.static_len=0,x.sym_next=x.matches=0},I9=(x)=>{if(x.bi_valid>8)b6(x,x.bi_buf);else if(x.bi_valid>0)x.pending_buf[x.pending++]=x.bi_buf;x.bi_buf=0,x.bi_valid=0},U7=(x,W,q,O)=>{const V=W*2,y=q*2;return x[V]<x[y]||x[V]===x[y]&&O[W]<=O[q]},Y5=(x,W,q)=>{const O=x.heap[q];let V=q<<1;while(V<=x.heap_len){if(V<x.heap_len&&U7(W,x.heap[V+1],x.heap[V],x.depth))V++;if(U7(W,O,x.heap[V],x.depth))break;x.heap[q]=x.heap[V],q=V,V<<=1}x.heap[q]=O},K7=(x,W,q)=>{let O,V,y=0,u,r;if(x.sym_next!==0)do if(O=x.pending_buf[x.sym_buf+y++]&255,O+=(x.pending_buf[x.sym_buf+y++]&255)<<8,V=x.pending_buf[x.sym_buf+y++],O===0)U2(x,V,W);else{if(u=x6[V],U2(x,u+z6+1,W),r=c4[u],r!==0)V-=V4[u],V2(x,V,r);if(O--,u=J9(O),U2(x,u,q),r=r0[u],r!==0)O-=h0[u],V2(x,O,r)}while(y<x.sym_next);U2(x,z4,W)},m4=(x,W)=>{const q=W.dyn_tree,O=W.stat_desc.static_tree,V=W.stat_desc.has_stree,y=W.stat_desc.elems;let u,r,z=-1,a;x.heap_len=0,x.heap_max=F9;for(u=0;u<y;u++)if(q[u*2]!==0)x.heap[++x.heap_len]=z=u,x.depth[u]=0;else q[u*2+1]=0;while(x.heap_len<2)if(a=x.heap[++x.heap_len]=z<2?++z:0,q[a*2]=1,x.depth[a]=0,x.opt_len--,V)x.static_len-=O[a*2+1];W.max_code=z;for(u=x.heap_len>>1;u>=1;u--)Y5(x,q,u);a=y;do u=x.heap[1],x.heap[1]=x.heap[x.heap_len--],Y5(x,q,1),r=x.heap[1],x.heap[--x.heap_max]=u,x.heap[--x.heap_max]=r,q[a*2]=q[u*2]+q[r*2],x.depth[a]=(x.depth[u]>=x.depth[r]?x.depth[u]:x.depth[r])+1,q[u*2+1]=q[r*2+1]=a,x.heap[1]=a++,Y5(x,q,1);while(x.heap_len>=2);x.heap[--x.heap_max]=x.heap[1],Bo(x,W),E9(q,z,x.bl_count)},i7=(x,W,q)=>{let O,V=-1,y,u=W[1],r=0,z=7,a=4;if(u===0)z=138,a=3;W[(q+1)*2+1]=65535;for(O=0;O<=q;O++){if(y=u,u=W[(O+1)*2+1],++r<z&&y===u)continue;else if(r<a)x.bl_tree[y*2]+=r;else if(y!==0){if(y!==V)x.bl_tree[y*2]++;x.bl_tree[k9*2]++}else if(r<=10)x.bl_tree[P9*2]++;else x.bl_tree[U9*2]++;if(r=0,V=y,u===0)z=138,a=3;else if(y===u)z=6,a=3;else z=7,a=4}},j7=(x,W,q)=>{let O,V=-1,y,u=W[1],r=0,z=7,a=4;if(u===0)z=138,a=3;for(O=0;O<=q;O++){if(y=u,u=W[(O+1)*2+1],++r<z&&y===u)continue;else if(r<a)do U2(x,y,x.bl_tree);while(--r!==0);else if(y!==0){if(y!==V)U2(x,y,x.bl_tree),r--;U2(x,k9,x.bl_tree),V2(x,r-3,2)}else if(r<=10)U2(x,P9,x.bl_tree),V2(x,r-3,3);else U2(x,U9,x.bl_tree),V2(x,r-11,7);if(r=0,V=y,u===0)z=138,a=3;else if(y===u)z=6,a=3;else z=7,a=4}},eo=(x)=>{let W;i7(x,x.dyn_ltree,x.l_desc.max_code),i7(x,x.dyn_dtree,x.d_desc.max_code),m4(x,x.bl_desc);for(W=M4-1;W>=3;W--)if(x.bl_tree[K9[W]*2+1]!==0)break;return x.opt_len+=3*(W+1)+5+5+4,W},Ao=(x,W,q,O)=>{let V;V2(x,W-257,5),V2(x,q-1,5),V2(x,O-4,4);for(V=0;V<O;V++)V2(x,x.bl_tree[K9[V]*2+1],3);j7(x,x.dyn_ltree,W-1),j7(x,x.dyn_dtree,q-1)},ln=(x)=>{let W=4093624447,q;for(q=0;q<=31;q++,W>>>=1)if(W&1&&x.dyn_ltree[q*2]!==0)return 0;if(x.dyn_ltree[18]!==0||x.dyn_ltree[20]!==0||x.dyn_ltree[26]!==0)return 1;for(q=32;q<z6;q++)if(x.dyn_ltree[q*2]!==0)return 1;return 0},H7=!1,on=(x)=>{if(!H7)Qo(),H7=!0;x.l_desc=new D5(x.dyn_ltree,i9),x.d_desc=new D5(x.dyn_dtree,j9),x.bl_desc=new D5(x.bl_tree,H9),x.bi_buf=0,x.bi_valid=0,D9(x)},Y9=(x,W,q,O)=>{if(V2(x,(Jo<<1)+(O?1:0),3),I9(x),b6(x,q),b6(x,~q),q)x.pending_buf.set(x.window.subarray(W,W+q),x.pending);x.pending+=q},nn=(x)=>{V2(x,X9<<1,3),U2(x,z4,G2),Co(x)},pn=(x,W,q,O)=>{let V,y,u=0;if(x.level>0){if(x.strm.data_type===2)x.strm.data_type=ln(x);if(m4(x,x.l_desc),m4(x,x.d_desc),u=eo(x),V=x.opt_len+3+7>>>3,y=x.static_len+3+7>>>3,y<=V)V=y}else V=y=q+5;if(q+4<=V&&W!==-1)Y9(x,W,q,O);else if(x.strategy===4||y===V)V2(x,(X9<<1)+(O?1:0),3),K7(x,G2,a6);else V2(x,(Go<<1)+(O?1:0),3),Ao(x,x.l_desc.max_code+1,x.d_desc.max_code+1,u+1),K7(x,x.dyn_ltree,x.dyn_dtree);if(D9(x),O)I9(x)},un=(x,W,q)=>{if(x.pending_buf[x.sym_buf+x.sym_next++]=W,x.pending_buf[x.sym_buf+x.sym_next++]=W>>8,x.pending_buf[x.sym_buf+x.sym_next++]=q,W===0)x.dyn_ltree[q*2]++;else x.matches++,W--,x.dyn_ltree[(x6[q]+z6+1)*2]++,x.dyn_dtree[J9(W)*2]++;return x.sym_next===x.sym_end},cn=on,mn=Y9,fn=pn,dn=un,an=nn,rn={_tr_init:cn,_tr_stored_block:mn,_tr_flush_block:fn,_tr_tally:dn,_tr_align:an},hn=(x,W,q,O)=>{let V=x&65535|0,y=x>>>16&65535|0,u=0;while(q!==0){u=q>2000?2000:q,q-=u;do V=V+W[O++]|0,y=y+V|0;while(--u);V%=65521,y%=65521}return V|y<<16|0},L6=hn,yn=()=>{let x,W=[];for(var q=0;q<256;q++){x=q;for(var O=0;O<8;O++)x=x&1?3988292384^x>>>1:x>>>1;W[q]=x}return W},vn=new Uint32Array(yn()),_n=(x,W,q,O)=>{const V=vn,y=O+q;x^=-1;for(let u=O;u<y;u++)x=x>>>8^V[(x^W[u])&255];return x^-1},q2=_n,q6={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},x0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:xn,_tr_stored_block:f4,_tr_flush_block:bn,_tr_tally:A2,_tr_align:Ln}=rn,{Z_NO_FLUSH:l3,Z_PARTIAL_FLUSH:qn,Z_FULL_FLUSH:Nn,Z_FINISH:O2,Z_BLOCK:J7,Z_OK:T2,Z_STREAM_END:G7,Z_STREAM_ERROR:K2,Z_DATA_ERROR:Tn,Z_BUF_ERROR:t5,Z_DEFAULT_COMPRESSION:Mn,Z_FILTERED:zn,Z_HUFFMAN_ONLY:o0,Z_RLE:Vn,Z_FIXED:Sn,Z_DEFAULT_STRATEGY:$n,Z_UNKNOWN:Zn,Z_DEFLATED:b0}=x0,Wn=9,wn=15,On=8,Rn=29,sn=256,d4=sn+1+Rn,gn=30,Xn=19,Fn=2*d4+1,kn=15,J1=3,e2=258,i2=e2+J1+1,Pn=32,j3=42,S4=57,a4=69,r4=73,h4=91,y4=103,x3=113,f6=666,z2=1,G3=2,L3=3,E3=4,Un=3,b3=(x,W)=>{return x.msg=q6[W],W},E7=(x)=>{return x*2-(x>4?9:0)},Q2=(x)=>{let W=x.length;while(--W>=0)x[W]=0},Kn=(x)=>{let W,q,O,V=x.w_size;W=x.hash_size,O=W;do q=x.head[--O],x.head[O]=q>=V?q-V:0;while(--W);W=V,O=W;do q=x.prev[--O],x.prev[O]=q>=V?q-V:0;while(--W)},jn=(x,W,q)=>(W<<x.hash_shift^q)&x.hash_mask,o3=jn,W2=(x)=>{const W=x.state;let q=W.pending;if(q>x.avail_out)q=x.avail_out;if(q===0)return;if(x.output.set(W.pending_buf.subarray(W.pending_out,W.pending_out+q),x.next_out),x.next_out+=q,W.pending_out+=q,x.total_out+=q,x.avail_out-=q,W.pending-=q,W.pending===0)W.pending_out=0},w2=(x,W)=>{bn(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,W),x.block_start=x.strstart,W2(x.strm)},G1=(x,W)=>{x.pending_buf[x.pending++]=W},u6=(x,W)=>{x.pending_buf[x.pending++]=W>>>8&255,x.pending_buf[x.pending++]=W&255},v4=(x,W,q,O)=>{let V=x.avail_in;if(V>O)V=O;if(V===0)return 0;if(x.avail_in-=V,W.set(x.input.subarray(x.next_in,x.next_in+V),q),x.state.wrap===1)x.adler=L6(x.adler,W,V,q);else if(x.state.wrap===2)x.adler=q2(x.adler,W,V,q);return x.next_in+=V,x.total_in+=V,V},t9=(x,W)=>{let{max_chain_length:q,strstart:O}=x,V,y,u=x.prev_length,r=x.nice_match;const z=x.strstart>x.w_size-i2?x.strstart-(x.w_size-i2):0,a=x.window,L=x.w_mask,_=x.prev,S=x.strstart+e2;let b=a[O+u-1],f=a[O+u];if(x.prev_length>=x.good_match)q>>=2;if(r>x.lookahead)r=x.lookahead;do{if(V=W,a[V+u]!==f||a[V+u-1]!==b||a[V]!==a[O]||a[++V]!==a[O+1])continue;O+=2,V++;do;while(a[++O]===a[++V]&&a[++O]===a[++V]&&a[++O]===a[++V]&&a[++O]===a[++V]&&a[++O]===a[++V]&&a[++O]===a[++V]&&a[++O]===a[++V]&&a[++O]===a[++V]&&O<S);if(y=e2-(S-O),O=S-e2,y>u){if(x.match_start=W,u=y,y>=r)break;b=a[O+u-1],f=a[O+u]}}while((W=_[W&L])>z&&--q!==0);if(u<=x.lookahead)return u;return x.lookahead},H3=(x)=>{const W=x.w_size;let q,O,V;do{if(O=x.window_size-x.lookahead-x.strstart,x.strstart>=W+(W-i2)){if(x.window.set(x.window.subarray(W,W+W-O),0),x.match_start-=W,x.strstart-=W,x.block_start-=W,x.insert>x.strstart)x.insert=x.strstart;Kn(x),O+=W}if(x.strm.avail_in===0)break;if(q=v4(x.strm,x.window,x.strstart+x.lookahead,O),x.lookahead+=q,x.lookahead+x.insert>=J1){V=x.strstart-x.insert,x.ins_h=x.window[V],x.ins_h=o3(x,x.ins_h,x.window[V+1]);while(x.insert)if(x.ins_h=o3(x,x.ins_h,x.window[V+J1-1]),x.prev[V&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=V,V++,x.insert--,x.lookahead+x.insert<J1)break}}while(x.lookahead<i2&&x.strm.avail_in!==0)},C9=(x,W)=>{let q=x.pending_buf_size-5>x.w_size?x.w_size:x.pending_buf_size-5,O,V,y,u=0,r=x.strm.avail_in;do{if(O=65535,y=x.bi_valid+42>>3,x.strm.avail_out<y)break;if(y=x.strm.avail_out-y,V=x.strstart-x.block_start,O>V+x.strm.avail_in)O=V+x.strm.avail_in;if(O>y)O=y;if(O<q&&(O===0&&W!==O2||W===l3||O!==V+x.strm.avail_in))break;if(u=W===O2&&O===V+x.strm.avail_in?1:0,f4(x,0,0,u),x.pending_buf[x.pending-4]=O,x.pending_buf[x.pending-3]=O>>8,x.pending_buf[x.pending-2]=~O,x.pending_buf[x.pending-1]=~O>>8,W2(x.strm),V){if(V>O)V=O;x.strm.output.set(x.window.subarray(x.block_start,x.block_start+V),x.strm.next_out),x.strm.next_out+=V,x.strm.avail_out-=V,x.strm.total_out+=V,x.block_start+=V,O-=V}if(O)v4(x.strm,x.strm.output,x.strm.next_out,O),x.strm.next_out+=O,x.strm.avail_out-=O,x.strm.total_out+=O}while(u===0);if(r-=x.strm.avail_in,r){if(r>=x.w_size)x.matches=2,x.window.set(x.strm.input.subarray(x.strm.next_in-x.w_size,x.strm.next_in),0),x.strstart=x.w_size,x.insert=x.strstart;else{if(x.window_size-x.strstart<=r){if(x.strstart-=x.w_size,x.window.set(x.window.subarray(x.w_size,x.w_size+x.strstart),0),x.matches<2)x.matches++;if(x.insert>x.strstart)x.insert=x.strstart}x.window.set(x.strm.input.subarray(x.strm.next_in-r,x.strm.next_in),x.strstart),x.strstart+=r,x.insert+=r>x.w_size-x.insert?x.w_size-x.insert:r}x.block_start=x.strstart}if(x.high_water<x.strstart)x.high_water=x.strstart;if(u)return E3;if(W!==l3&&W!==O2&&x.strm.avail_in===0&&x.strstart===x.block_start)return G3;if(y=x.window_size-x.strstart,x.strm.avail_in>y&&x.block_start>=x.w_size){if(x.block_start-=x.w_size,x.strstart-=x.w_size,x.window.set(x.window.subarray(x.w_size,x.w_size+x.strstart),0),x.matches<2)x.matches++;if(y+=x.w_size,x.insert>x.strstart)x.insert=x.strstart}if(y>x.strm.avail_in)y=x.strm.avail_in;if(y)v4(x.strm,x.window,x.strstart,y),x.strstart+=y,x.insert+=y>x.w_size-x.insert?x.w_size-x.insert:y;if(x.high_water<x.strstart)x.high_water=x.strstart;if(y=x.bi_valid+42>>3,y=x.pending_buf_size-y>65535?65535:x.pending_buf_size-y,q=y>x.w_size?x.w_size:y,V=x.strstart-x.block_start,V>=q||(V||W===O2)&&W!==l3&&x.strm.avail_in===0&&V<=y)O=V>y?y:V,u=W===O2&&x.strm.avail_in===0&&O===V?1:0,f4(x,x.block_start,O,u),x.block_start+=O,W2(x.strm);return u?L3:z2},C5=(x,W)=>{let q,O;for(;;){if(x.lookahead<i2){if(H3(x),x.lookahead<i2&&W===l3)return z2;if(x.lookahead===0)break}if(q=0,x.lookahead>=J1)x.ins_h=o3(x,x.ins_h,x.window[x.strstart+J1-1]),q=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;if(q!==0&&x.strstart-q<=x.w_size-i2)x.match_length=t9(x,q);if(x.match_length>=J1)if(O=A2(x,x.strstart-x.match_start,x.match_length-J1),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=J1){x.match_length--;do x.strstart++,x.ins_h=o3(x,x.ins_h,x.window[x.strstart+J1-1]),q=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!==0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=o3(x,x.ins_h,x.window[x.strstart+1]);else O=A2(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(O){if(w2(x,!1),x.strm.avail_out===0)return z2}}if(x.insert=x.strstart<J1-1?x.strstart:J1-1,W===O2){if(w2(x,!0),x.strm.avail_out===0)return L3;return E3}if(x.sym_next){if(w2(x,!1),x.strm.avail_out===0)return z2}return G3},W3=(x,W)=>{let q,O,V;for(;;){if(x.lookahead<i2){if(H3(x),x.lookahead<i2&&W===l3)return z2;if(x.lookahead===0)break}if(q=0,x.lookahead>=J1)x.ins_h=o3(x,x.ins_h,x.window[x.strstart+J1-1]),q=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;if(x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=J1-1,q!==0&&x.prev_length<x.max_lazy_match&&x.strstart-q<=x.w_size-i2){if(x.match_length=t9(x,q),x.match_length<=5&&(x.strategy===zn||x.match_length===J1&&x.strstart-x.match_start>4096))x.match_length=J1-1}if(x.prev_length>=J1&&x.match_length<=x.prev_length){V=x.strstart+x.lookahead-J1,O=A2(x,x.strstart-1-x.prev_match,x.prev_length-J1),x.lookahead-=x.prev_length-1,x.prev_length-=2;do if(++x.strstart<=V)x.ins_h=o3(x,x.ins_h,x.window[x.strstart+J1-1]),q=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.prev_length!==0);if(x.match_available=0,x.match_length=J1-1,x.strstart++,O){if(w2(x,!1),x.strm.avail_out===0)return z2}}else if(x.match_available){if(O=A2(x,0,x.window[x.strstart-1]),O)w2(x,!1);if(x.strstart++,x.lookahead--,x.strm.avail_out===0)return z2}else x.match_available=1,x.strstart++,x.lookahead--}if(x.match_available)O=A2(x,0,x.window[x.strstart-1]),x.match_available=0;if(x.insert=x.strstart<J1-1?x.strstart:J1-1,W===O2){if(w2(x,!0),x.strm.avail_out===0)return L3;return E3}if(x.sym_next){if(w2(x,!1),x.strm.avail_out===0)return z2}return G3},Hn=(x,W)=>{let q,O,V,y;const u=x.window;for(;;){if(x.lookahead<=e2){if(H3(x),x.lookahead<=e2&&W===l3)return z2;if(x.lookahead===0)break}if(x.match_length=0,x.lookahead>=J1&&x.strstart>0){if(V=x.strstart-1,O=u[V],O===u[++V]&&O===u[++V]&&O===u[++V]){y=x.strstart+e2;do;while(O===u[++V]&&O===u[++V]&&O===u[++V]&&O===u[++V]&&O===u[++V]&&O===u[++V]&&O===u[++V]&&O===u[++V]&&V<y);if(x.match_length=e2-(y-V),x.match_length>x.lookahead)x.match_length=x.lookahead}}if(x.match_length>=J1)q=A2(x,1,x.match_length-J1),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0;else q=A2(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(q){if(w2(x,!1),x.strm.avail_out===0)return z2}}if(x.insert=0,W===O2){if(w2(x,!0),x.strm.avail_out===0)return L3;return E3}if(x.sym_next){if(w2(x,!1),x.strm.avail_out===0)return z2}return G3},Jn=(x,W)=>{let q;for(;;){if(x.lookahead===0){if(H3(x),x.lookahead===0){if(W===l3)return z2;break}}if(x.match_length=0,q=A2(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++,q){if(w2(x,!1),x.strm.avail_out===0)return z2}}if(x.insert=0,W===O2){if(w2(x,!0),x.strm.avail_out===0)return L3;return E3}if(x.sym_next){if(w2(x,!1),x.strm.avail_out===0)return z2}return G3},d6=[new P2(0,0,0,0,C9),new P2(4,4,8,4,C5),new P2(4,5,16,8,C5),new P2(4,6,32,32,C5),new P2(4,4,16,16,W3),new P2(8,16,32,32,W3),new P2(8,16,128,128,W3),new P2(8,32,128,256,W3),new P2(32,128,258,1024,W3),new P2(32,258,258,4096,W3)],Gn=(x)=>{x.window_size=2*x.w_size,Q2(x.head),x.max_lazy_match=d6[x.level].max_lazy,x.good_match=d6[x.level].good_length,x.nice_match=d6[x.level].nice_length,x.max_chain_length=d6[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=J1-1,x.match_available=0,x.ins_h=0},V6=(x)=>{if(!x)return 1;const W=x.state;if(!W||W.strm!==x||W.status!==j3&&W.status!==S4&&W.status!==a4&&W.status!==r4&&W.status!==h4&&W.status!==y4&&W.status!==x3&&W.status!==f6)return 1;return 0},B9=(x)=>{if(V6(x))return b3(x,K2);x.total_in=x.total_out=0,x.data_type=Zn;const W=x.state;if(W.pending=0,W.pending_out=0,W.wrap<0)W.wrap=-W.wrap;return W.status=W.wrap===2?S4:W.wrap?j3:x3,x.adler=W.wrap===2?0:1,W.last_flush=-2,xn(W),T2},Q9=(x)=>{const W=B9(x);if(W===T2)Gn(x.state);return W},En=(x,W)=>{if(V6(x)||x.state.wrap!==2)return K2;return x.state.gzhead=W,T2},e9=(x,W,q,O,V,y)=>{if(!x)return K2;let u=1;if(W===Mn)W=6;if(O<0)u=0,O=-O;else if(O>15)u=2,O-=16;if(V<1||V>Wn||q!==b0||O<8||O>15||W<0||W>9||y<0||y>Sn||O===8&&u!==1)return b3(x,K2);if(O===8)O=9;const r=new Ko;return x.state=r,r.strm=x,r.status=j3,r.wrap=u,r.gzhead=null,r.w_bits=O,r.w_size=1<<r.w_bits,r.w_mask=r.w_size-1,r.hash_bits=V+7,r.hash_size=1<<r.hash_bits,r.hash_mask=r.hash_size-1,r.hash_shift=~~((r.hash_bits+J1-1)/J1),r.window=new Uint8Array(r.w_size*2),r.head=new Uint16Array(r.hash_size),r.prev=new Uint16Array(r.w_size),r.lit_bufsize=1<<V+6,r.pending_buf_size=r.lit_bufsize*4,r.pending_buf=new Uint8Array(r.pending_buf_size),r.sym_buf=r.lit_bufsize,r.sym_end=(r.lit_bufsize-1)*3,r.level=W,r.strategy=y,r.method=q,Q9(x)},Dn=(x,W)=>{return e9(x,W,b0,wn,On,$n)},In=(x,W)=>{if(V6(x)||W>J7||W<0)return x?b3(x,K2):K2;const q=x.state;if(!x.output||x.avail_in!==0&&!x.input||q.status===f6&&W!==O2)return b3(x,x.avail_out===0?t5:K2);const O=q.last_flush;if(q.last_flush=W,q.pending!==0){if(W2(x),x.avail_out===0)return q.last_flush=-1,T2}else if(x.avail_in===0&&E7(W)<=E7(O)&&W!==O2)return b3(x,t5);if(q.status===f6&&x.avail_in!==0)return b3(x,t5);if(q.status===j3&&q.wrap===0)q.status=x3;if(q.status===j3){let V=b0+(q.w_bits-8<<4)<<8,y=-1;if(q.strategy>=o0||q.level<2)y=0;else if(q.level<6)y=1;else if(q.level===6)y=2;else y=3;if(V|=y<<6,q.strstart!==0)V|=Pn;if(V+=31-V%31,u6(q,V),q.strstart!==0)u6(q,x.adler>>>16),u6(q,x.adler&65535);if(x.adler=1,q.status=x3,W2(x),q.pending!==0)return q.last_flush=-1,T2}if(q.status===S4)if(x.adler=0,G1(q,31),G1(q,139),G1(q,8),!q.gzhead){if(G1(q,0),G1(q,0),G1(q,0),G1(q,0),G1(q,0),G1(q,q.level===9?2:q.strategy>=o0||q.level<2?4:0),G1(q,Un),q.status=x3,W2(x),q.pending!==0)return q.last_flush=-1,T2}else{if(G1(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(!q.gzhead.extra?0:4)+(!q.gzhead.name?0:8)+(!q.gzhead.comment?0:16)),G1(q,q.gzhead.time&255),G1(q,q.gzhead.time>>8&255),G1(q,q.gzhead.time>>16&255),G1(q,q.gzhead.time>>24&255),G1(q,q.level===9?2:q.strategy>=o0||q.level<2?4:0),G1(q,q.gzhead.os&255),q.gzhead.extra&&q.gzhead.extra.length)G1(q,q.gzhead.extra.length&255),G1(q,q.gzhead.extra.length>>8&255);if(q.gzhead.hcrc)x.adler=q2(x.adler,q.pending_buf,q.pending,0);q.gzindex=0,q.status=a4}if(q.status===a4){if(q.gzhead.extra){let V=q.pending,y=(q.gzhead.extra.length&65535)-q.gzindex;while(q.pending+y>q.pending_buf_size){let r=q.pending_buf_size-q.pending;if(q.pending_buf.set(q.gzhead.extra.subarray(q.gzindex,q.gzindex+r),q.pending),q.pending=q.pending_buf_size,q.gzhead.hcrc&&q.pending>V)x.adler=q2(x.adler,q.pending_buf,q.pending-V,V);if(q.gzindex+=r,W2(x),q.pending!==0)return q.last_flush=-1,T2;V=0,y-=r}let u=new Uint8Array(q.gzhead.extra);if(q.pending_buf.set(u.subarray(q.gzindex,q.gzindex+y),q.pending),q.pending+=y,q.gzhead.hcrc&&q.pending>V)x.adler=q2(x.adler,q.pending_buf,q.pending-V,V);q.gzindex=0}q.status=r4}if(q.status===r4){if(q.gzhead.name){let V=q.pending,y;do{if(q.pending===q.pending_buf_size){if(q.gzhead.hcrc&&q.pending>V)x.adler=q2(x.adler,q.pending_buf,q.pending-V,V);if(W2(x),q.pending!==0)return q.last_flush=-1,T2;V=0}if(q.gzindex<q.gzhead.name.length)y=q.gzhead.name.charCodeAt(q.gzindex++)&255;else y=0;G1(q,y)}while(y!==0);if(q.gzhead.hcrc&&q.pending>V)x.adler=q2(x.adler,q.pending_buf,q.pending-V,V);q.gzindex=0}q.status=h4}if(q.status===h4){if(q.gzhead.comment){let V=q.pending,y;do{if(q.pending===q.pending_buf_size){if(q.gzhead.hcrc&&q.pending>V)x.adler=q2(x.adler,q.pending_buf,q.pending-V,V);if(W2(x),q.pending!==0)return q.last_flush=-1,T2;V=0}if(q.gzindex<q.gzhead.comment.length)y=q.gzhead.comment.charCodeAt(q.gzindex++)&255;else y=0;G1(q,y)}while(y!==0);if(q.gzhead.hcrc&&q.pending>V)x.adler=q2(x.adler,q.pending_buf,q.pending-V,V)}q.status=y4}if(q.status===y4){if(q.gzhead.hcrc){if(q.pending+2>q.pending_buf_size){if(W2(x),q.pending!==0)return q.last_flush=-1,T2}G1(q,x.adler&255),G1(q,x.adler>>8&255),x.adler=0}if(q.status=x3,W2(x),q.pending!==0)return q.last_flush=-1,T2}if(x.avail_in!==0||q.lookahead!==0||W!==l3&&q.status!==f6){let V=q.level===0?C9(q,W):q.strategy===o0?Jn(q,W):q.strategy===Vn?Hn(q,W):d6[q.level].func(q,W);if(V===L3||V===E3)q.status=f6;if(V===z2||V===L3){if(x.avail_out===0)q.last_flush=-1;return T2}if(V===G3){if(W===qn)Ln(q);else if(W!==J7){if(f4(q,0,0,!1),W===Nn){if(Q2(q.head),q.lookahead===0)q.strstart=0,q.block_start=0,q.insert=0}}if(W2(x),x.avail_out===0)return q.last_flush=-1,T2}}if(W!==O2)return T2;if(q.wrap<=0)return G7;if(q.wrap===2)G1(q,x.adler&255),G1(q,x.adler>>8&255),G1(q,x.adler>>16&255),G1(q,x.adler>>24&255),G1(q,x.total_in&255),G1(q,x.total_in>>8&255),G1(q,x.total_in>>16&255),G1(q,x.total_in>>24&255);else u6(q,x.adler>>>16),u6(q,x.adler&65535);if(W2(x),q.wrap>0)q.wrap=-q.wrap;return q.pending!==0?T2:G7},Yn=(x)=>{if(V6(x))return K2;const W=x.state.status;return x.state=null,W===x3?b3(x,Tn):T2},tn=(x,W)=>{let q=W.length;if(V6(x))return K2;const O=x.state,V=O.wrap;if(V===2||V===1&&O.status!==j3||O.lookahead)return K2;if(V===1)x.adler=L6(x.adler,W,q,0);if(O.wrap=0,q>=O.w_size){if(V===0)Q2(O.head),O.strstart=0,O.block_start=0,O.insert=0;let z=new Uint8Array(O.w_size);z.set(W.subarray(q-O.w_size,q),0),W=z,q=O.w_size}const{avail_in:y,next_in:u,input:r}=x;x.avail_in=q,x.next_in=0,x.input=W,H3(O);while(O.lookahead>=J1){let z=O.strstart,a=O.lookahead-(J1-1);do O.ins_h=o3(O,O.ins_h,O.window[z+J1-1]),O.prev[z&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=z,z++;while(--a);O.strstart=z,O.lookahead=J1-1,H3(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=J1-1,O.match_available=0,x.next_in=u,x.input=r,x.avail_in=y,O.wrap=V,T2},Cn=Dn,Bn=e9,Qn=Q9,en=B9,An=En,lp=In,op=Yn,np=tn,pp="pako deflate (from Nodeca project)",r6={deflateInit:Cn,deflateInit2:Bn,deflateReset:Qn,deflateResetKeep:en,deflateSetHeader:An,deflate:lp,deflateEnd:op,deflateSetDictionary:np,deflateInfo:pp},up=(x,W)=>{return Object.prototype.hasOwnProperty.call(x,W)},cp=function(x){const W=Array.prototype.slice.call(arguments,1);while(W.length){const q=W.shift();if(!q)continue;if(typeof q!=="object")throw new TypeError(q+"must be non-object");for(let O in q)if(up(q,O))x[O]=q[O]}return x},mp=(x)=>{let W=0;for(let O=0,V=x.length;O<V;O++)W+=x[O].length;const q=new Uint8Array(W);for(let O=0,V=0,y=x.length;O<y;O++){let u=x[O];q.set(u,V),V+=u.length}return q},L0={assign:cp,flattenChunks:mp},A9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(x){A9=!1}var N6=new Uint8Array(256);for(let x=0;x<256;x++)N6[x]=x>=252?6:x>=248?5:x>=240?4:x>=224?3:x>=192?2:1;N6[254]=N6[254]=1;var fp=(x)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return(new TextEncoder()).encode(x);let W,q,O,V,y,u=x.length,r=0;for(V=0;V<u;V++){if(q=x.charCodeAt(V),(q&64512)===55296&&V+1<u){if(O=x.charCodeAt(V+1),(O&64512)===56320)q=65536+(q-55296<<10)+(O-56320),V++}r+=q<128?1:q<2048?2:q<65536?3:4}W=new Uint8Array(r);for(y=0,V=0;y<r;V++){if(q=x.charCodeAt(V),(q&64512)===55296&&V+1<u){if(O=x.charCodeAt(V+1),(O&64512)===56320)q=65536+(q-55296<<10)+(O-56320),V++}if(q<128)W[y++]=q;else if(q<2048)W[y++]=192|q>>>6,W[y++]=128|q&63;else if(q<65536)W[y++]=224|q>>>12,W[y++]=128|q>>>6&63,W[y++]=128|q&63;else W[y++]=240|q>>>18,W[y++]=128|q>>>12&63,W[y++]=128|q>>>6&63,W[y++]=128|q&63}return W},dp=(x,W)=>{if(W<65534){if(x.subarray&&A9)return String.fromCharCode.apply(null,x.length===W?x:x.subarray(0,W))}let q="";for(let O=0;O<W;O++)q+=String.fromCharCode(x[O]);return q},ap=(x,W)=>{const q=W||x.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return(new TextDecoder()).decode(x.subarray(0,W));let O,V;const y=new Array(q*2);for(V=0,O=0;O<q;){let u=x[O++];if(u<128){y[V++]=u;continue}let r=N6[u];if(r>4){y[V++]=65533,O+=r-1;continue}u&=r===2?31:r===3?15:7;while(r>1&&O<q)u=u<<6|x[O++]&63,r--;if(r>1){y[V++]=65533;continue}if(u<65536)y[V++]=u;else u-=65536,y[V++]=55296|u>>10&1023,y[V++]=56320|u&1023}return dp(y,V)},rp=(x,W)=>{if(W=W||x.length,W>x.length)W=x.length;let q=W-1;while(q>=0&&(x[q]&192)===128)q--;if(q<0)return W;if(q===0)return W;return q+N6[x[q]]>W?q:W},T6={string2buf:fp,buf2string:ap,utf8border:rp},ll=io,ol=Object.prototype.toString,{Z_NO_FLUSH:hp,Z_SYNC_FLUSH:yp,Z_FULL_FLUSH:vp,Z_FINISH:_p,Z_OK:y0,Z_STREAM_END:xp,Z_DEFAULT_COMPRESSION:bp,Z_DEFAULT_STRATEGY:Lp,Z_DEFLATED:qp}=x0;q4.prototype.push=function(x,W){const q=this.strm,O=this.options.chunkSize;let V,y;if(this.ended)return!1;if(W===~~W)y=W;else y=W===!0?_p:hp;if(typeof x==="string")q.input=T6.string2buf(x);else if(ol.call(x)==="[object ArrayBuffer]")q.input=new Uint8Array(x);else q.input=x;q.next_in=0,q.avail_in=q.input.length;for(;;){if(q.avail_out===0)q.output=new Uint8Array(O),q.next_out=0,q.avail_out=O;if((y===yp||y===vp)&&q.avail_out<=6){this.onData(q.output.subarray(0,q.next_out)),q.avail_out=0;continue}if(V=r6.deflate(q,y),V===xp){if(q.next_out>0)this.onData(q.output.subarray(0,q.next_out));return V=r6.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===y0}if(q.avail_out===0){this.onData(q.output);continue}if(y>0&&q.next_out>0){this.onData(q.output.subarray(0,q.next_out)),q.avail_out=0;continue}if(q.avail_in===0)break}return!0};q4.prototype.onData=function(x){this.chunks.push(x)};q4.prototype.onEnd=function(x){if(x===y0)this.result=L0.flattenChunks(this.chunks);this.chunks=[],this.err=x,this.msg=this.strm.msg};var n0=16209,Np=16191,Tp=function x(W,q){let O,V,y,u,r,z,a,L,_,S,b,f,M,T,$,Z,w,s,g,R,U,j,J,H;const D=W.state;O=W.next_in,J=W.input,V=O+(W.avail_in-5),y=W.next_out,H=W.output,u=y-(q-W.avail_out),r=y+(W.avail_out-257),z=D.dmax,a=D.wsize,L=D.whave,_=D.wnext,S=D.window,b=D.hold,f=D.bits,M=D.lencode,T=D.distcode,$=(1<<D.lenbits)-1,Z=(1<<D.distbits)-1;l:do{if(f<15)b+=J[O++]<<f,f+=8,b+=J[O++]<<f,f+=8;w=M[b&$];o:for(;;){if(s=w>>>24,b>>>=s,f-=s,s=w>>>16&255,s===0)H[y++]=w&65535;else if(s&16){if(g=w&65535,s&=15,s){if(f<s)b+=J[O++]<<f,f+=8;g+=b&(1<<s)-1,b>>>=s,f-=s}if(f<15)b+=J[O++]<<f,f+=8,b+=J[O++]<<f,f+=8;w=T[b&Z];n:for(;;){if(s=w>>>24,b>>>=s,f-=s,s=w>>>16&255,s&16){if(R=w&65535,s&=15,f<s){if(b+=J[O++]<<f,f+=8,f<s)b+=J[O++]<<f,f+=8}if(R+=b&(1<<s)-1,R>z){W.msg="invalid distance too far back",D.mode=n0;break l}if(b>>>=s,f-=s,s=y-u,R>s){if(s=R-s,s>L){if(D.sane){W.msg="invalid distance too far back",D.mode=n0;break l}}if(U=0,j=S,_===0){if(U+=a-s,s<g){g-=s;do H[y++]=S[U++];while(--s);U=y-R,j=H}}else if(_<s){if(U+=a+_-s,s-=_,s<g){g-=s;do H[y++]=S[U++];while(--s);if(U=0,_<g){s=_,g-=s;do H[y++]=S[U++];while(--s);U=y-R,j=H}}}else if(U+=_-s,s<g){g-=s;do H[y++]=S[U++];while(--s);U=y-R,j=H}while(g>2)H[y++]=j[U++],H[y++]=j[U++],H[y++]=j[U++],g-=3;if(g){if(H[y++]=j[U++],g>1)H[y++]=j[U++]}}else{U=y-R;do H[y++]=H[U++],H[y++]=H[U++],H[y++]=H[U++],g-=3;while(g>2);if(g){if(H[y++]=H[U++],g>1)H[y++]=H[U++]}}}else if((s&64)===0){w=T[(w&65535)+(b&(1<<s)-1)];continue n}else{W.msg="invalid distance code",D.mode=n0;break l}break}}else if((s&64)===0){w=M[(w&65535)+(b&(1<<s)-1)];continue o}else if(s&32){D.mode=Np;break l}else{W.msg="invalid literal/length code",D.mode=n0;break l}break}}while(O<V&&y<r);g=f>>3,O-=g,f-=g<<3,b&=(1<<f)-1,W.next_in=O,W.next_out=y,W.avail_in=O<V?5+(V-O):5-(O-V),W.avail_out=y<r?257+(r-y):257-(y-r),D.hold=b,D.bits=f;return},w3=15,D7=852,I7=592,Y7=0,B5=1,t7=2,Mp=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),zp=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vp=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Sp=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$p=(x,W,q,O,V,y,u,r)=>{const z=r.bits;let a=0,L=0,_=0,S=0,b=0,f=0,M=0,T=0,$=0,Z=0,w,s,g,R,U,j=null,J;const H=new Uint16Array(w3+1),D=new Uint16Array(w3+1);let l=null,p,m,n;for(a=0;a<=w3;a++)H[a]=0;for(L=0;L<O;L++)H[W[q+L]]++;b=z;for(S=w3;S>=1;S--)if(H[S]!==0)break;if(b>S)b=S;if(S===0)return V[y++]=20971520,V[y++]=20971520,r.bits=1,0;for(_=1;_<S;_++)if(H[_]!==0)break;if(b<_)b=_;T=1;for(a=1;a<=w3;a++)if(T<<=1,T-=H[a],T<0)return-1;if(T>0&&(x===Y7||S!==1))return-1;D[1]=0;for(a=1;a<w3;a++)D[a+1]=D[a]+H[a];for(L=0;L<O;L++)if(W[q+L]!==0)u[D[W[q+L]]++]=L;if(x===Y7)j=l=u,J=20;else if(x===B5)j=Mp,l=zp,J=257;else j=Vp,l=Sp,J=0;if(Z=0,L=0,a=_,U=y,f=b,M=0,g=-1,$=1<<b,R=$-1,x===B5&&$>D7||x===t7&&$>I7)return 1;for(;;){if(p=a-M,u[L]+1<J)m=0,n=u[L];else if(u[L]>=J)m=l[u[L]-J],n=j[u[L]-J];else m=96,n=0;w=1<<a-M,s=1<<f,_=s;do s-=w,V[U+(Z>>M)+s]=p<<24|m<<16|n|0;while(s!==0);w=1<<a-1;while(Z&w)w>>=1;if(w!==0)Z&=w-1,Z+=w;else Z=0;if(L++,--H[a]===0){if(a===S)break;a=W[q+u[L]]}if(a>b&&(Z&R)!==g){if(M===0)M=b;U+=_,f=a-M,T=1<<f;while(f+M<S){if(T-=H[f+M],T<=0)break;f++,T<<=1}if($+=1<<f,x===B5&&$>D7||x===t7&&$>I7)return 1;g=Z&R,V[g]=b<<24|f<<16|U-y|0}}if(Z!==0)V[U+Z]=a-M<<24|4194304|0;return r.bits=b,0},h6=$p,Zp=0,nl=1,pl=2,{Z_FINISH:C7,Z_BLOCK:Wp,Z_TREES:p0,Z_OK:q3,Z_STREAM_END:wp,Z_NEED_DICT:Op,Z_STREAM_ERROR:R2,Z_DATA_ERROR:ul,Z_MEM_ERROR:cl,Z_BUF_ERROR:Rp,Z_DEFLATED:B7}=x0,q0=16180,Q7=16181,e7=16182,A7=16183,l9=16184,o9=16185,n9=16186,p9=16187,u9=16188,c9=16189,v0=16190,J2=16191,Q5=16192,m9=16193,e5=16194,f9=16195,d9=16196,a9=16197,r9=16198,u0=16199,c0=16200,h9=16201,y9=16202,v9=16203,_9=16204,x9=16205,A5=16206,b9=16207,L9=16208,a2=16209,ml=16210,fl=16211,sp=852,gp=592,Xp=15,Fp=Xp,q9=(x)=>{return(x>>>24&255)+(x>>>8&65280)+((x&65280)<<8)+((x&255)<<24)},N3=(x)=>{if(!x)return 1;const W=x.state;if(!W||W.strm!==x||W.mode<q0||W.mode>fl)return 1;return 0},dl=(x)=>{if(N3(x))return R2;const W=x.state;if(x.total_in=x.total_out=W.total=0,x.msg="",W.wrap)x.adler=W.wrap&1;return W.mode=q0,W.last=0,W.havedict=0,W.flags=-1,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new Int32Array(sp),W.distcode=W.distdyn=new Int32Array(gp),W.sane=1,W.back=-1,q3},al=(x)=>{if(N3(x))return R2;const W=x.state;return W.wsize=0,W.whave=0,W.wnext=0,dl(x)},rl=(x,W)=>{let q;if(N3(x))return R2;const O=x.state;if(W<0)q=0,W=-W;else if(q=(W>>4)+5,W<48)W&=15;if(W&&(W<8||W>15))return R2;if(O.window!==null&&O.wbits!==W)O.window=null;return O.wrap=q,O.wbits=W,al(x)},hl=(x,W)=>{if(!x)return R2;const q=new jo;x.state=q,q.strm=x,q.window=null,q.mode=q0;const O=rl(x,W);if(O!==q3)x.state=null;return O},kp=(x)=>{return hl(x,Fp)},N9=!0,l4,o4,Pp=(x)=>{if(N9){l4=new Int32Array(512),o4=new Int32Array(32);let W=0;while(W<144)x.lens[W++]=8;while(W<256)x.lens[W++]=9;while(W<280)x.lens[W++]=7;while(W<288)x.lens[W++]=8;h6(nl,x.lens,0,288,l4,0,x.work,{bits:9}),W=0;while(W<32)x.lens[W++]=5;h6(pl,x.lens,0,32,o4,0,x.work,{bits:5}),N9=!1}x.lencode=l4,x.lenbits=9,x.distcode=o4,x.distbits=5},yl=(x,W,q,O)=>{let V;const y=x.state;if(y.window===null)y.wsize=1<<y.wbits,y.wnext=0,y.whave=0,y.window=new Uint8Array(y.wsize);if(O>=y.wsize)y.window.set(W.subarray(q-y.wsize,q),0),y.wnext=0,y.whave=y.wsize;else{if(V=y.wsize-y.wnext,V>O)V=O;if(y.window.set(W.subarray(q-O,q-O+V),y.wnext),O-=V,O)y.window.set(W.subarray(q-O,q),0),y.wnext=O,y.whave=y.wsize;else{if(y.wnext+=V,y.wnext===y.wsize)y.wnext=0;if(y.whave<y.wsize)y.whave+=V}}return 0},Up=(x,W)=>{let q,O,V,y,u,r,z,a,L,_,S,b,f,M,T=0,$,Z,w,s,g,R,U,j;const J=new Uint8Array(4);let H,D;const l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(N3(x)||!x.output||!x.input&&x.avail_in!==0)return R2;if(q=x.state,q.mode===J2)q.mode=Q5;u=x.next_out,V=x.output,z=x.avail_out,y=x.next_in,O=x.input,r=x.avail_in,a=q.hold,L=q.bits,_=r,S=z,j=q3;l:for(;;)switch(q.mode){case q0:if(q.wrap===0){q.mode=Q5;break}while(L<16){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(q.wrap&2&&a===35615){if(q.wbits===0)q.wbits=15;q.check=0,J[0]=a&255,J[1]=a>>>8&255,q.check=q2(q.check,J,2,0),a=0,L=0,q.mode=Q7;break}if(q.head)q.head.done=!1;if(!(q.wrap&1)||(((a&255)<<8)+(a>>8))%31){x.msg="incorrect header check",q.mode=a2;break}if((a&15)!==B7){x.msg="unknown compression method",q.mode=a2;break}if(a>>>=4,L-=4,U=(a&15)+8,q.wbits===0)q.wbits=U;if(U>15||U>q.wbits){x.msg="invalid window size",q.mode=a2;break}q.dmax=1<<q.wbits,q.flags=0,x.adler=q.check=1,q.mode=a&512?c9:J2,a=0,L=0;break;case Q7:while(L<16){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(q.flags=a,(q.flags&255)!==B7){x.msg="unknown compression method",q.mode=a2;break}if(q.flags&57344){x.msg="unknown header flags set",q.mode=a2;break}if(q.head)q.head.text=a>>8&1;if(q.flags&512&&q.wrap&4)J[0]=a&255,J[1]=a>>>8&255,q.check=q2(q.check,J,2,0);a=0,L=0,q.mode=e7;case e7:while(L<32){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(q.head)q.head.time=a;if(q.flags&512&&q.wrap&4)J[0]=a&255,J[1]=a>>>8&255,J[2]=a>>>16&255,J[3]=a>>>24&255,q.check=q2(q.check,J,4,0);a=0,L=0,q.mode=A7;case A7:while(L<16){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(q.head)q.head.xflags=a&255,q.head.os=a>>8;if(q.flags&512&&q.wrap&4)J[0]=a&255,J[1]=a>>>8&255,q.check=q2(q.check,J,2,0);a=0,L=0,q.mode=l9;case l9:if(q.flags&1024){while(L<16){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(q.length=a,q.head)q.head.extra_len=a;if(q.flags&512&&q.wrap&4)J[0]=a&255,J[1]=a>>>8&255,q.check=q2(q.check,J,2,0);a=0,L=0}else if(q.head)q.head.extra=null;q.mode=o9;case o9:if(q.flags&1024){if(b=q.length,b>r)b=r;if(b){if(q.head){if(U=q.head.extra_len-q.length,!q.head.extra)q.head.extra=new Uint8Array(q.head.extra_len);q.head.extra.set(O.subarray(y,y+b),U)}if(q.flags&512&&q.wrap&4)q.check=q2(q.check,O,b,y);r-=b,y+=b,q.length-=b}if(q.length)break l}q.length=0,q.mode=n9;case n9:if(q.flags&2048){if(r===0)break l;b=0;do if(U=O[y+b++],q.head&&U&&q.length<65536)q.head.name+=String.fromCharCode(U);while(U&&b<r);if(q.flags&512&&q.wrap&4)q.check=q2(q.check,O,b,y);if(r-=b,y+=b,U)break l}else if(q.head)q.head.name=null;q.length=0,q.mode=p9;case p9:if(q.flags&4096){if(r===0)break l;b=0;do if(U=O[y+b++],q.head&&U&&q.length<65536)q.head.comment+=String.fromCharCode(U);while(U&&b<r);if(q.flags&512&&q.wrap&4)q.check=q2(q.check,O,b,y);if(r-=b,y+=b,U)break l}else if(q.head)q.head.comment=null;q.mode=u9;case u9:if(q.flags&512){while(L<16){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(q.wrap&4&&a!==(q.check&65535)){x.msg="header crc mismatch",q.mode=a2;break}a=0,L=0}if(q.head)q.head.hcrc=q.flags>>9&1,q.head.done=!0;x.adler=q.check=0,q.mode=J2;break;case c9:while(L<32){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}x.adler=q.check=q9(a),a=0,L=0,q.mode=v0;case v0:if(q.havedict===0)return x.next_out=u,x.avail_out=z,x.next_in=y,x.avail_in=r,q.hold=a,q.bits=L,Op;x.adler=q.check=1,q.mode=J2;case J2:if(W===Wp||W===p0)break l;case Q5:if(q.last){a>>>=L&7,L-=L&7,q.mode=A5;break}while(L<3){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}switch(q.last=a&1,a>>>=1,L-=1,a&3){case 0:q.mode=m9;break;case 1:if(Pp(q),q.mode=u0,W===p0){a>>>=2,L-=2;break l}break;case 2:q.mode=d9;break;case 3:x.msg="invalid block type",q.mode=a2}a>>>=2,L-=2;break;case m9:a>>>=L&7,L-=L&7;while(L<32){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if((a&65535)!==(a>>>16^65535)){x.msg="invalid stored block lengths",q.mode=a2;break}if(q.length=a&65535,a=0,L=0,q.mode=e5,W===p0)break l;case e5:q.mode=f9;case f9:if(b=q.length,b){if(b>r)b=r;if(b>z)b=z;if(b===0)break l;V.set(O.subarray(y,y+b),u),r-=b,y+=b,z-=b,u+=b,q.length-=b;break}q.mode=J2;break;case d9:while(L<14){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(q.nlen=(a&31)+257,a>>>=5,L-=5,q.ndist=(a&31)+1,a>>>=5,L-=5,q.ncode=(a&15)+4,a>>>=4,L-=4,q.nlen>286||q.ndist>30){x.msg="too many length or distance symbols",q.mode=a2;break}q.have=0,q.mode=a9;case a9:while(q.have<q.ncode){while(L<3){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}q.lens[l[q.have++]]=a&7,a>>>=3,L-=3}while(q.have<19)q.lens[l[q.have++]]=0;if(q.lencode=q.lendyn,q.lenbits=7,H={bits:q.lenbits},j=h6(Zp,q.lens,0,19,q.lencode,0,q.work,H),q.lenbits=H.bits,j){x.msg="invalid code lengths set",q.mode=a2;break}q.have=0,q.mode=r9;case r9:while(q.have<q.nlen+q.ndist){for(;;){if(T=q.lencode[a&(1<<q.lenbits)-1],$=T>>>24,Z=T>>>16&255,w=T&65535,$<=L)break;if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(w<16)a>>>=$,L-=$,q.lens[q.have++]=w;else{if(w===16){D=$+2;while(L<D){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(a>>>=$,L-=$,q.have===0){x.msg="invalid bit length repeat",q.mode=a2;break}U=q.lens[q.have-1],b=3+(a&3),a>>>=2,L-=2}else if(w===17){D=$+3;while(L<D){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}a>>>=$,L-=$,U=0,b=3+(a&7),a>>>=3,L-=3}else{D=$+7;while(L<D){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}a>>>=$,L-=$,U=0,b=11+(a&127),a>>>=7,L-=7}if(q.have+b>q.nlen+q.ndist){x.msg="invalid bit length repeat",q.mode=a2;break}while(b--)q.lens[q.have++]=U}}if(q.mode===a2)break;if(q.lens[256]===0){x.msg="invalid code -- missing end-of-block",q.mode=a2;break}if(q.lenbits=9,H={bits:q.lenbits},j=h6(nl,q.lens,0,q.nlen,q.lencode,0,q.work,H),q.lenbits=H.bits,j){x.msg="invalid literal/lengths set",q.mode=a2;break}if(q.distbits=6,q.distcode=q.distdyn,H={bits:q.distbits},j=h6(pl,q.lens,q.nlen,q.ndist,q.distcode,0,q.work,H),q.distbits=H.bits,j){x.msg="invalid distances set",q.mode=a2;break}if(q.mode=u0,W===p0)break l;case u0:q.mode=c0;case c0:if(r>=6&&z>=258){if(x.next_out=u,x.avail_out=z,x.next_in=y,x.avail_in=r,q.hold=a,q.bits=L,Tp(x,S),u=x.next_out,V=x.output,z=x.avail_out,y=x.next_in,O=x.input,r=x.avail_in,a=q.hold,L=q.bits,q.mode===J2)q.back=-1;break}q.back=0;for(;;){if(T=q.lencode[a&(1<<q.lenbits)-1],$=T>>>24,Z=T>>>16&255,w=T&65535,$<=L)break;if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(Z&&(Z&240)===0){s=$,g=Z,R=w;for(;;){if(T=q.lencode[R+((a&(1<<s+g)-1)>>s)],$=T>>>24,Z=T>>>16&255,w=T&65535,s+$<=L)break;if(r===0)break l;r--,a+=O[y++]<<L,L+=8}a>>>=s,L-=s,q.back+=s}if(a>>>=$,L-=$,q.back+=$,q.length=w,Z===0){q.mode=x9;break}if(Z&32){q.back=-1,q.mode=J2;break}if(Z&64){x.msg="invalid literal/length code",q.mode=a2;break}q.extra=Z&15,q.mode=h9;case h9:if(q.extra){D=q.extra;while(L<D){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}q.length+=a&(1<<q.extra)-1,a>>>=q.extra,L-=q.extra,q.back+=q.extra}q.was=q.length,q.mode=y9;case y9:for(;;){if(T=q.distcode[a&(1<<q.distbits)-1],$=T>>>24,Z=T>>>16&255,w=T&65535,$<=L)break;if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if((Z&240)===0){s=$,g=Z,R=w;for(;;){if(T=q.distcode[R+((a&(1<<s+g)-1)>>s)],$=T>>>24,Z=T>>>16&255,w=T&65535,s+$<=L)break;if(r===0)break l;r--,a+=O[y++]<<L,L+=8}a>>>=s,L-=s,q.back+=s}if(a>>>=$,L-=$,q.back+=$,Z&64){x.msg="invalid distance code",q.mode=a2;break}q.offset=w,q.extra=Z&15,q.mode=v9;case v9:if(q.extra){D=q.extra;while(L<D){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}q.offset+=a&(1<<q.extra)-1,a>>>=q.extra,L-=q.extra,q.back+=q.extra}if(q.offset>q.dmax){x.msg="invalid distance too far back",q.mode=a2;break}q.mode=_9;case _9:if(z===0)break l;if(b=S-z,q.offset>b){if(b=q.offset-b,b>q.whave){if(q.sane){x.msg="invalid distance too far back",q.mode=a2;break}}if(b>q.wnext)b-=q.wnext,f=q.wsize-b;else f=q.wnext-b;if(b>q.length)b=q.length;M=q.window}else M=V,f=u-q.offset,b=q.length;if(b>z)b=z;z-=b,q.length-=b;do V[u++]=M[f++];while(--b);if(q.length===0)q.mode=c0;break;case x9:if(z===0)break l;V[u++]=q.length,z--,q.mode=c0;break;case A5:if(q.wrap){while(L<32){if(r===0)break l;r--,a|=O[y++]<<L,L+=8}if(S-=z,x.total_out+=S,q.total+=S,q.wrap&4&&S)x.adler=q.check=q.flags?q2(q.check,V,S,u-S):L6(q.check,V,S,u-S);if(S=z,q.wrap&4&&(q.flags?a:q9(a))!==q.check){x.msg="incorrect data check",q.mode=a2;break}a=0,L=0}q.mode=b9;case b9:if(q.wrap&&q.flags){while(L<32){if(r===0)break l;r--,a+=O[y++]<<L,L+=8}if(q.wrap&4&&a!==(q.total&4294967295)){x.msg="incorrect length check",q.mode=a2;break}a=0,L=0}q.mode=L9;case L9:j=wp;break l;case a2:j=ul;break l;case ml:return cl;case fl:default:return R2}if(x.next_out=u,x.avail_out=z,x.next_in=y,x.avail_in=r,q.hold=a,q.bits=L,q.wsize||S!==x.avail_out&&q.mode<a2&&(q.mode<A5||W!==C7)){if(yl(x,x.output,x.next_out,S-x.avail_out));}if(_-=x.avail_in,S-=x.avail_out,x.total_in+=_,x.total_out+=S,q.total+=S,q.wrap&4&&S)x.adler=q.check=q.flags?q2(q.check,V,S,x.next_out-S):L6(q.check,V,S,x.next_out-S);if(x.data_type=q.bits+(q.last?64:0)+(q.mode===J2?128:0)+(q.mode===u0||q.mode===e5?256:0),(_===0&&S===0||W===C7)&&j===q3)j=Rp;return j},Kp=(x)=>{if(N3(x))return R2;let W=x.state;if(W.window)W.window=null;return x.state=null,q3},ip=(x,W)=>{if(N3(x))return R2;const q=x.state;if((q.wrap&2)===0)return R2;return q.head=W,W.done=!1,q3},jp=(x,W)=>{const q=W.length;let O,V,y;if(N3(x))return R2;if(O=x.state,O.wrap!==0&&O.mode!==v0)return R2;if(O.mode===v0){if(V=1,V=L6(V,W,q,0),V!==O.check)return ul}if(y=yl(x,W,q,q),y)return O.mode=ml,cl;return O.havedict=1,q3},Hp=al,Jp=rl,Gp=dl,Ep=kp,Dp=hl,Ip=Up,Yp=Kp,tp=ip,Cp=jp,Bp="pako inflate (from Nodeca project)",E2={inflateReset:Hp,inflateReset2:Jp,inflateResetKeep:Gp,inflateInit:Ep,inflateInit2:Dp,inflate:Ip,inflateEnd:Yp,inflateGetHeader:tp,inflateSetDictionary:Cp,inflateInfo:Bp},Qp=Ho,vl=Object.prototype.toString,{Z_NO_FLUSH:ep,Z_FINISH:Ap,Z_OK:M6,Z_STREAM_END:n4,Z_NEED_DICT:p4,Z_STREAM_ERROR:lu,Z_DATA_ERROR:T9,Z_MEM_ERROR:ou}=x0;N4.prototype.push=function(x,W){const q=this.strm,O=this.options.chunkSize,V=this.options.dictionary;let y,u,r;if(this.ended)return!1;if(W===~~W)u=W;else u=W===!0?Ap:ep;if(vl.call(x)==="[object ArrayBuffer]")q.input=new Uint8Array(x);else q.input=x;q.next_in=0,q.avail_in=q.input.length;for(;;){if(q.avail_out===0)q.output=new Uint8Array(O),q.next_out=0,q.avail_out=O;if(y=E2.inflate(q,u),y===p4&&V){if(y=E2.inflateSetDictionary(q,V),y===M6)y=E2.inflate(q,u);else if(y===T9)y=p4}while(q.avail_in>0&&y===n4&&q.state.wrap>0&&x[q.next_in]!==0)E2.inflateReset(q),y=E2.inflate(q,u);switch(y){case lu:case T9:case p4:case ou:return this.onEnd(y),this.ended=!0,!1}if(r=q.avail_out,q.next_out){if(q.avail_out===0||y===n4)if(this.options.to==="string"){let z=T6.utf8border(q.output,q.next_out),a=q.next_out-z,L=T6.buf2string(q.output,z);if(q.next_out=a,q.avail_out=O-a,a)q.output.set(q.output.subarray(z,z+a),0);this.onData(L)}else this.onData(q.output.length===q.next_out?q.output:q.output.subarray(0,q.next_out))}if(y===M6&&r===0)continue;if(y===n4)return y=E2.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,!0;if(q.avail_in===0)break}return!0};N4.prototype.onData=function(x){this.chunks.push(x)};N4.prototype.onEnd=function(x){if(x===M6)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=L0.flattenChunks(this.chunks);this.chunks=[],this.err=x,this.msg=this.strm.msg};var Bm=_4(_o(),1);p3();var _l=[{usbVendorId:12346},{usbVendorId:11914}];r2(".bbJK1q_status-icon{cursor:pointer;height:1.25rem}.bbJK1q_status-text{flex:1}");var xl={statusIcon:"bbJK1q_status-icon",statusText:"bbJK1q_status-text"};var bl="./assets/status-not-ready-0f9d57eed7fe9b83.svg";var Ll="./assets/status-ready-038751c506ee8838.svg";import{jsx as mu} from"preact/jsx-runtime";function $4(){const{getText:x}=uu(),{device:W,setDevice:q}=cu(),O=W?x("micropython.deviceManager.ready","Ready"):x("micropython.deviceManager.notReady","Not Ready"),V=async()=>{if(W){try{await W.disconnect()}catch(y){console.error(y)}q(null)}else{const y=new L4;try{await y.requestPort(_l),await y.connect(),await y.stop(),q(y)}catch(r){console.error(r)}const u=()=>setTimeout(async()=>{if(y.connected)u();else q(null)},1000);u()}};return mu("img",{className:xl.statusIcon,src:W?Ll:bl,title:O,onClick:V})}r2(".e8OLkq_toolbar-wrapper{height:var(--tool-bar-height);padding:var(--space)0;flex-shrink:0;justify-content:space-between;align-items:center;display:flex}.e8OLkq_run-code,.e8OLkq_stop-all{user-select:none;cursor:pointer;border:0;border-radius:.25rem;width:2rem;height:2rem;padding:.375rem}.e8OLkq_run-code img,.e8OLkq_stop-all img{width:100%;height:100%}.e8OLkq_run-code:hover,.e8OLkq_stop-all:hover{background:var(--motion-light-transparent)}.e8OLkq_run-code.e8OLkq_actived{background:var(--motion-transparent)}.e8OLkq_stop-all{opacity:.5}.e8OLkq_stop-all.e8OLkq_actived{opacity:1}.e8OLkq_run-code.e8OLkq_disabled,.e8OLkq_stop-all.e8OLkq_disabled{cursor:default;opacity:.5}.e8OLkq_run-code.e8OLkq_disabled:hover,.e8OLkq_stop-all.e8OLkq_disabled:hover{background:0 0}.e8OLkq_toolbar-button{width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}.e8OLkq_button-icon{vertical-align:middle;width:100%;height:100%}.e8OLkq_space{margin-left:.2rem}.e8OLkq_toolbar-button-group{display:flex}.e8OLkq_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}.e8OLkq_group-button{border-left:none;border-radius:0}.e8OLkq_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.e8OLkq_group-button-toggled-off{filter:saturate(0)}");var u3={actived:"e8OLkq_actived",stopAll:"e8OLkq_stop-all",buttonIcon:"e8OLkq_button-icon",groupButtonLast:"e8OLkq_group-button-last",toolbarButton:"e8OLkq_toolbar-button",disabled:"e8OLkq_disabled",space:"e8OLkq_space",toolbarWrapper:"e8OLkq_toolbar-wrapper",toolbarButtonGroup:"e8OLkq_toolbar-button-group",groupButtonFirst:"e8OLkq_group-button-first",groupButtonToggledOff:"e8OLkq_group-button-toggled-off",runCode:"e8OLkq_run-code",groupButton:"e8OLkq_group-button"};var ql="./assets/icon-run-code-3ca2e75390db71e4.svg";var Nl="./assets/icon-stop-all-9deb61cb903f7a6c.svg";import{jsx as N0,jsxs as Ml} from"preact/jsx-runtime";function Z4(){const{getText:x}=au(),{device:W}=ru(),q=!W;return Ml("div",{className:u3.toolbarWrapper,children:[Ml("div",{className:u3.toolbarButtonGroup,children:[N0("img",{className:Tl(u3.runCode,{[u3.disabled]:q}),src:ql,title:x("micropython.runCode","Run")}),N0("img",{className:Tl(u3.stopAll,{[u3.disabled]:q}),src:Nl,title:x("micropython.stopAll","Stop")})]}),N0("div",{className:u3.toolbarButtonGroup,children:N0($4,{})})]})}import{useEditor as Ou,useLocale as Ru,exportFile as su} from"@blockcode/core";import{IconSelector as gu,ActionButton as Xu} from"@blockcode/ui";import{useLocale as hu,useEditor as yu} from"@blockcode/core";import{classNames as vu,Label as W4,BufferedInput as zl,Input as _u} from"@blockcode/ui";r2(".RuiFna_file-info-wrapper{background:var(--ui-white);color:var(--text-primary);border-top-left-radius:var(--space);border-top-right-radius:var(--space);border-bottom:1px solid var(--ui-black-transparent);padding:.75rem}.RuiFna_row{justify-content:space-between;display:flex}.RuiFna_row-primary{margin-bottom:.5rem}.RuiFna_group{flex-direction:row;align-items:center;display:inline-flex}.RuiFna_filename-input{flex:1}.RuiFna_filesize-input{width:4rem}");var T3={row:"RuiFna_row",filesizeInput:"RuiFna_filesize-input",group:"RuiFna_group",filenameInput:"RuiFna_filename-input",rowPrimary:"RuiFna_row-primary",fileInfoWrapper:"RuiFna_file-info-wrapper"};import{jsx as D3,jsxs as w4} from"preact/jsx-runtime";var xu=(x)=>{if(x>1048576)return`${(x/1024/1024).toFixed(2)}MB`;if(x>1024)return`${(x/1024).toFixed(2)}KB`;return`${x}B`};function O4(){const{getText:x}=hu(),{fileList:W,selectedFileId:q,renameFile:O}=yu(),V=q===null,y=W.find((a)=>a.id===q),u=(a)=>O(a),r=y?y.name.slice(0,y.name.lastIndexOf(".")):"",z=y?y.name.slice(y.name.lastIndexOf(".")+1):"";return w4("div",{className:T3.fileInfoWrapper,children:[w4("div",{className:vu(T3.row,T3.rowPrimary),children:[D3(W4,{text:x("micropython.fileInfo.name","File")}),D3(zl,{className:T3.filenameInput,disabled:V,onSubmit:(a)=>u(`${a}.${z}`),value:r})]}),w4("div",{className:T3.row,children:[D3(W4,{secondary:!0,text:x("micropython.fileInfo.type","Type"),children:D3(zl,{small:!0,disabled:V||y.readOnly,onSubmit:(a)=>u(`${r}.${a}`),value:z})}),D3(W4,{secondary:!0,text:x("micropython.fileInfo.size","Size"),children:D3(_u,{small:!0,disabled:!0,className:T3.filesizeInput,value:y?xu(y.buffer?y.buffer.byteLength:y.content.length):""})})]})]})}r2(".vtc49a_file-selector-wrapper{background-color:var(--ui-secondary);border-top-right-radius:var(--space);border-top-left-radius:var(--space);border:1px solid var(--ui-black-transparent);border-bottom:0;flex:1;position:relative}.vtc49a_delete-menu-item:hover{background:var(--error-primary)}.vtc49a_add-button{position:absolute;bottom:.75rem;right:1rem}");var T0={fileSelectorWrapper:"vtc49a_file-selector-wrapper",deleteMenuItem:"vtc49a_delete-menu-item",addButton:"vtc49a_add-button"};var Vl="./assets/icon-new-218a55086844ac80.svg";var Sl="./assets/icon-file-upload-c23f079a5e6707a2.svg";var $l="./assets/icon-new-code-1967fe45c3b09925.svg";var Zl="./assets/icon-new-json-7bb8b4e3758c956d.svg";var Wl="./assets/icon-binary-bd5ff37e4e663e60.svg";var wl="./assets/icon-csv-01ac17dad06788cf.svg";var Ol="./assets/icon-ini-30c1f7addc4a45b0.svg";var Rl="./assets/icon-json-72188f5285d8a412.svg";var sl="./assets/icon-markdown-070856945802769c.svg";var gl="./assets/icon-micropython-00b80a7b0306f321.svg";var Xl="./assets/icon-text-e3fcfa7f9edb7357.svg";var Fl="./assets/icon-image-ce19e915bc1158a6.svg";var kl="./assets/icon-svg-b32916bd8eb3bb12.svg";import{jsx as R4,jsxs as Pu} from"preact/jsx-runtime";var Fu=(x)=>{if(x>1048576)return`${(x/1024/1024).toFixed(2)}MB`;if(x>1024)return`${(x/1024).toFixed(2)}KB`;return`${x}B`},ku=(x)=>{if(x.endsWith(".csv"))return wl;if(x.endsWith(".ini"))return Ol;if(x.endsWith(".json"))return Rl;if(x.endsWith(".md"))return sl;if(x.endsWith(".py"))return gl;if(x.endsWith(".txt"))return Xl;if(x.endsWith(".svg"))return kl;if(/$.*\.(png|jpg|jpeg|gif|bmp)$/.test(x))return Fl;return Wl};function s4(){const{getText:x}=Ru(),{fileList:W,selectedFileId:q,addFile:O,openFile:V,deleteFile:y}=Ou(),u=async({target:r})=>{for(let z of r.files)O({name:z.name,.../^(text|image\/svg).*$/i.test(z.type)?{content:await z.text()}:{content:`------------------------------
${x("micropython.fileInfo.title","File Info")}
------------------------------
${x("micropython.fileInfo.name","File")}: ${z.name}
${x("micropython.fileInfo.type","Type")}: ${z.type}
${x("micropython.fileInfo.size","Size")}: ${Fu(z.size)}
${x("micropython.fileInfo.modified","Modified")}: ${new Date(z.lastModified).toLocaleString()}`,buffer:await z.arrayBuffer(),readOnly:!0}})};return Pu("div",{className:T0.fileSelectorWrapper,children:[R4(O4,{}),R4(gu,{items:W.map((r,z)=>({...r,icon:ku(r.name),order:r.order||z,contextMenu:[[{label:x("micropython.contextMenu.duplicate","duplicate"),onClick:()=>O({...r,name:`${r.name.split(".")[0]}-${W.length+1}.py`})},{label:x("micropython.contextMenu.export","export"),onClick:()=>su(r.content,r.name)}],[{label:x("micropython.contextMenu.delete","delete"),className:T0.deleteMenuItem,onClick:()=>y(r.id)}]]})),selectedIndex:W.findIndex((r)=>r.id===q),onSelect:(r)=>V(W[r].id),onDelete:(r)=>y(W[r].id)}),R4(Xu,{className:T0.addButton,icon:Vl,tooltip:x("micropython.actionButton.newCode","Create new Code"),onClick:()=>O({name:`code-${W.length+1}.py`,content:""}),moreButtons:[{icon:Sl,tooltip:x("micropython.actionButton.upload","Upload File"),fileAccept:"image/*,audio/*,video/*,text/*",fileMultiple:!0,onFileChange:u},{icon:Zl,tooltip:x("micropython.actionButton.newJSON","Create new JSON"),onClick:()=>O({name:`text-${W.length+1}.json`,content:"{\n    \n}"})},{icon:$l,tooltip:x("micropython.actionButton.newCode","Create new Code"),onClick:()=>O({name:`code-${W.length+1}.py`,content:""})}]})]})}r2(".pl4-KG_sidebar-wrapper{flex-direction:column;width:20rem;height:100%;display:flex}.pl4-KG_list-wrapper{flex-direction:row;height:100%;display:flex}");var g4={sidebarWrapper:"pl4-KG_sidebar-wrapper",listWrapper:"pl4-KG_list-wrapper"};import{jsx as X4,jsxs as Uu} from"preact/jsx-runtime";function F4(){return Uu("div",{className:g4.sidebarWrapper,children:[X4(Z4,{}),X4("div",{className:g4.listWrapper,children:X4(s4,{})})]})}r2("._9Qonrq_pane{height:8rem}");var Pl={pane:"_9Qonrq_pane"};import{jsx as Ku} from"preact/jsx-runtime";function k4(){return Ku("div",{className:Pl.pane})}var Ul={fileList:[{id:"main",name:"main.py",type:"text/x-python",content:`# hello world!
import machine

print("hello world!")
`},{id:"test",name:"test.py",type:"text/x-python",content:'print("test")'}]};var Kl="./assets/icon-code-08d9a776dd0807e8.svg";var il="./assets/icon-repl-0766a6776154c7b8.svg";var jl={"micropython.menu.file":"File","micropython.menu.newProject":"New","micropython.menu.openProject":"Open","micropython.menu.saveProject":"Save","micropython.menu.uploadProject":"Load from your computer","micropython.menu.downloadProject":"Save to your computer","micropython.menu.edit":"Edit","micropython.menu.undo":"Undo","micropython.menu.redo":"Redo","micropython.runCode":"Run","micropython.stopAll":"Stop","micropython.syncDevice":"Sync","micropython.codeTab":"Code","micropython.replTab":"REPL","micropython.deviceManager.connect":"Connect Hardware...","micropython.deviceManager.notReady":"Not ready","micropython.deviceManager.ready":"Ready","micropython.packageList.title":"Modules","micropython.packageList.addPackage":"Add Package","micropython.fileInfo.title":"File Info","micropython.fileInfo.name":"File","micropython.fileInfo.type":"Type","micropython.fileInfo.size":"Size","micropython.fileInfo.modified":"Modified","micropython.actionButton.newCode":"Create new Code","micropython.actionButton.newJSON":"Create new JSON","micropython.actionButton.upload":"Upload File","micropython.contextMenu.duplicate":"duplicate","micropython.contextMenu.export":"export","micropython.contextMenu.delete":"delete","micropython.recordPane.title":"Record"};var Hl={"micropython.menu.file":"\u6587\u4EF6","micropython.menu.newProject":"\u65B0\u4F5C\u54C1","micropython.menu.openProject":"\u6253\u5F00","micropython.menu.saveProject":"\u4FDD\u5B58","micropython.menu.uploadProject":"\u4ECE\u7535\u8111\u4E2D\u6253\u5F00","micropython.menu.downloadProject":"\u4FDD\u5B58\u5230\u7535\u8111","micropython.menu.edit":"\u7F16\u8F91","micropython.menu.undo":"\u64A4\u9500","micropython.menu.redo":"\u6062\u590D","micropython.runCode":"\u8FD0\u884C","micropython.stopAll":"\u505C\u6B62","micropython.syncDevice":"\u540C\u6B65","micropython.codeTab":"\u4EE3\u7801","micropython.replTab":"\u4EA4\u4E92\u6267\u884C","micropython.deviceManager.connect":"\u8FDE\u63A5\u786C\u4EF6...","micropython.deviceManager.notReady":"\u672A\u8FDE\u63A5","micropython.deviceManager.ready":"\u5DF2\u8FDE\u63A5","micropython.packageList.title":"\u6269\u5C55\u5305","micropython.packageList.addPackage":"\u6DFB\u52A0\u6269\u5C55\u5305","micropython.fileInfo.title":"\u6587\u4EF6\u4FE1\u606F","micropython.fileInfo.name":"\u6587\u4EF6","micropython.fileInfo.type":"\u7C7B\u578B","micropython.fileInfo.size":"\u5927\u5C0F","micropython.fileInfo.modified":"\u4FEE\u6539\u65E5\u671F","micropython.actionButton.newCode":"\u521B\u5EFA\u65B0\u4EE3\u7801","micropython.actionButton.newJSON":"\u521B\u5EFA\u65B0 JSON","micropython.actionButton.upload":"\u4E0A\u4F20\u6587\u4EF6","micropython.contextMenu.duplicate":"\u590D\u5236","micropython.contextMenu.export":"\u5BFC\u51FA","micropython.contextMenu.delete":"\u5220\u9664","micropython.recordPane.title":"\u8BB0\u5F55"};import{jsx as U4} from"preact/jsx-runtime";function Hu({addLocaleData:x,createLayout:W,openProject:q,project:O}){x({en:jl,"zh-Hans":Hl}),((y)=>{y=y??Ul,q(Object.assign({selectedFileId:y.fileList(0).id},y))})(O),W({tabs:[{icon:Kl,label:U4(P4,{id:"micropython.codeTab",defaultMessage:"Code"}),Content:w0},{icon:il,label:U4(P4,{id:"micropython.replTab",defaultMessage:"REPL"}),Content:F0}],sidebars:[{expand:"left",Content:F4}],pane:{label:U4(P4,{id:"micropython.recordPane.title",defaultMessage:"Record"}),Content:k4},tutorials:!0,canEditProjectName:!0})}export{Hu as default};
